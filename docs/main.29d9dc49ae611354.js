var o0=Object.defineProperty,s0=Object.defineProperties,a0=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertySymbols,l0=Object.prototype.hasOwnProperty,c0=Object.prototype.propertyIsEnumerable,Cm=(P,H,h)=>H in P?o0(P,H,{enumerable:!0,configurable:!0,writable:!0,value:h}):P[H]=h,Tm=(P,H)=>{for(var h in H||(H={}))l0.call(H,h)&&Cm(P,h,H[h]);if(Xb)for(var h of Xb(H))c0.call(H,h)&&Cm(P,h,H[h]);return P},wm=(P,H)=>s0(P,a0(H)),cl=(P,H,h)=>(Cm(P,"symbol"!=typeof H?H+"":H,h),h);(self.webpackChunkAutoBlocklyApp=self.webpackChunkAutoBlocklyApp||[]).push([[179],{33290:(P,H,h)=>{"use strict";h.d(H,{d:()=>q});var v=h(79307),p=h(38421);const{isArray:t}=Array;var n=h(60515),o=h(25403),u=h(63269);var w=h(39646),R=h(4128),N=h(32076),W=h(91005),Z=h(18505),K=h(63900),ae=h(70262),xe=h(54004),fe=h(43787),_e=h(21086);class Oe{constructor(ne,Pe){this.urL=ne,this.http=Pe,this.WasAlive=!1}download(){window.location.href="https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseLocalAPI.zip"}IsAlive(){this.WasAlive=!1;var ne=this,Pe=(new Date).toISOString();return this.http.get(this.urL+`api/v1/Management/CurrentDate?${Pe}`,{responseType:"text"}).pipe((0,ae.K)(oe=>(0,w.of)("")),(0,xe.U)(oe=>(null==oe?void 0:oe.length)>0&&(Date.parse(oe),ne.WasAlive=!0,!0)))}LoadBlockContent(ne){return(new Date).toISOString(),this.http.post(this.urL+"api/v1/BASave/GetBlocksContent",{id:ne},{responseType:"text"}).pipe((0,xe.U)(oe=>null==oe?void 0:oe.toString()))}LoadBlocks(){return(new Date).toISOString(),this.http.post(this.urL+"api/v1/BASave/GetBlocks",null).pipe((0,xe.U)(Pe=>Pe.map(de=>{var te=new fe.q(de);return te.Source="LocalAPI",te})))}SaveBlock(ne,Pe){return this.http.post(this.urL+"api/v1/BASave/SaveNewBlock",{b:ne,content:Pe},{responseType:"text"}).pipe((0,xe.U)(oe=>Number.parseInt(null==oe?void 0:oe.toString(),10)))}}var Be=h(5e3),Ee=h(40520),ce=h(16335);let q=(()=>{class se{constructor(Pe,oe){this.http=Pe,this.loadShowUsageService=oe,this.settings=null,this.linksSwagger=[],this.demoBlocks=[],this.swaggersDict=new Map,this.customCategories="",this.LocalAPI=null,this.Init()}CreateLocalApis(Pe,oe){return new Oe(oe,Pe)}Init(){return function(...se){const ne=(0,u.jO)(se),Pe=function(se){return 1===se.length&&t(se[0])?se[0]:se}(se);return Pe.length?new v.y(oe=>{let de=Pe.map(()=>[]),te=Pe.map(()=>!1);oe.add(()=>{de=te=null});for(let ie=0;!oe.closed&&ie<Pe.length;ie++)(0,p.Xf)(Pe[ie]).subscribe(new o.Q(oe,Ge=>{if(de[ie].push(Ge),de.every(ve=>ve.length)){const ve=de.map(He=>He.shift());oe.next(ne?ne(...ve):ve),de.some((He,ct)=>!He.length&&te[ct])&&oe.complete()}},()=>{te[ie]=!0,!de[ie].length&&oe.complete()}));return()=>{de=te=null}}):n.E}(this.getSettings(),this.loadShowUsageService.getSwaggerLinks(),this.loadShowUsageService.getDemoBlocks(),this.loadShowUsageService.getCustomCategories(),this.getLatestVersion()).pipe((0,W.g)(1e3),(0,Z.b)(([Pe,oe,de,te,ie])=>{this.settings=Pe,this.settings.latestVersion=ie,this.linksSwagger=oe,this.demoBlocks=de.map(Ge=>{var ve=new fe.q(Ge);return ve.Source="Demos",ve}),this.customCategories=te,this.LocalAPI=this.CreateLocalApis(this.http,this.settings.localAPI),this.LocalAPI.IsAlive().subscribe(Ge=>{console.log("LocalAPI is alive",Ge)})}),(0,K.w)(()=>this.obtainSwaggers(this.linksSwagger)),(0,K.w)(()=>(0,w.of)("")))}obtainSwaggers(Pe){var oe=Pe.map(te=>this.LoadSwaggersFromUrl(te));return(0,R.D)(oe)}LoadSwaggersFromUrl(Pe){var oe=Pe.link,de=Pe.id||Pe.link,te=new _e.parseData(oe);return(0,N.D)(te.ParseSwagger()).pipe((0,Z.b)(Ge=>{console.log("swagger loaded:"+oe,Ge),Ge.name=de,this.swaggersDict.set(oe,Ge)},Ge=>{console.error("swagger error:"+oe,Ge)}))}getLatestVersion(){return this.http.get("https://ignatandrei.github.io/BlocklyAutomation/version.txt",{responseType:"text"}).pipe((0,ae.K)(Pe=>(console.error("error getting latest version",Pe),(0,w.of)("vcannot get latest version"))),(0,xe.U)(Pe=>Pe.toString().trim().substr(1)))}getSettings(){var Pe=(new Date).toISOString();return this.http.get(`assets/settings.json?${Pe}`,{responseType:"text"}).pipe((0,xe.U)(oe=>JSON.parse(oe)))}}return se.\u0275fac=function(Pe){return new(Pe||se)(Be.LFG(Ee.eN),Be.LFG(ce.F))},se.\u0275prov=Be.Yz7({token:se,factory:se.\u0275fac}),se})()},43787:(P,H,h)=>{"use strict";h.d(H,{q:()=>v});class v{constructor(t={}){this.id="",this.description="",this.categories="",this.blocks="",this.Source="None",Object.assign(this,t)}}},68260:(P,H,h)=>{"use strict";h.d(H,{v:()=>t});var v=h(77579),p=h(5e3);let t=(()=>{class e{constructor(){this.sendData=new v.x}receiveData(){return this.sendData.asObservable()}sendDataToServer(o,u){this.sendData.next([o,u])}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e})()},12380:(P,H,h)=>{"use strict";h.r(H),h.d(H,{DisplayBlocklyComponent:()=>gp});var v=h(15861),p=h(45797),t=h(59506);const e=[p.Events.VIEWPORT_CHANGE,p.Events.BLOCK_MOVE,p.Events.BLOCK_DELETE];class u{constructor(a){this.workspace_=a,this.width_=0,this.height_=0,this.top_=0,this.left_=0,this.lastScale_=1,this.cachedContentMetrics_=void 0}init(a){a=Number(a),this.padding_=isNaN(a)?10:a,this.svgGroup_=p.utils.dom.createSvgElement(p.utils.Svg.G,{class:"contentAreaHighlight"},null);const r=String(Math.random()).substring(2),s=p.utils.dom.createSvgElement(new p.utils.Svg("mask"),{id:"contentAreaHighlightMask"+r},this.svgGroup_);p.utils.dom.createSvgElement(p.utils.Svg.RECT,{x:0,y:0,width:"100%",height:"100%",fill:"white"},s),this.rect_=p.utils.dom.createSvgElement(p.utils.Svg.RECT,{x:0,y:0,rx:p.Bubble.BORDER_WIDTH,ry:p.Bubble.BORDER_WIDTH,fill:"black"},s),this.background_=p.utils.dom.createSvgElement(p.utils.Svg.RECT,{x:0,y:0,width:"100%",height:"100%",mask:"url(#contentAreaHighlightMask"+r+")"},this.svgGroup_),this.applyColor_();const l=this.workspace_.getMetricsManager();this.cachedContentMetrics_=l.getContentMetrics(!0),this.resize_(this.cachedContentMetrics_);const f=l.getAbsoluteMetrics();this.position_(this.cachedContentMetrics_,f),this.svgGroup_.style.transition="opacity 0.25s";const y=this.workspace_.getParentSvg();y.firstChild?y.insertBefore(this.svgGroup_,y.firstChild):y.appendChild(this.svgGroup_),this.onChangeWrapper_=this.onChange_.bind(this),this.workspace_.addChangeListener(this.onChangeWrapper_)}dispose(){this.svgGroup_&&p.utils.dom.removeNode(this.svgGroup_),this.onChangeWrapper_&&p.unbindEvent_(this.onChangeWrapper_)}onChange_(a){if(a.type===p.Events.THEME_CHANGE)this.applyColor_();else if(-1!==e.indexOf(a.type)){const r=this.workspace_.getMetricsManager();a.type!==p.Events.VIEWPORT_CHANGE&&(this.cachedContentMetrics_=r.getContentMetrics(!0),this.resize_(this.cachedContentMetrics_));const s=r.getAbsoluteMetrics();this.position_(this.cachedContentMetrics_,s)}else a.type===p.Events.BLOCK_DRAG&&this.handleBlockDrag_(a)}handleBlockDrag_(a){this.svgGroup_.setAttribute("opacity",a.isStart?"0":"1")}applyColor_(){const r=this.workspace_.getTheme().getComponentStyle("workspaceBackgroundColour")||"#ffffff",s=p.utils.colour.blend("#000",r,.1),l=p.utils.colour.blend("#fff",r,.1);this.background_.setAttribute("fill","#ffffff"===r||"#fff"===r?s:l)}resize_(a){const r=a.width?a.width+2*this.padding_:0,s=a.height?a.height+2*this.padding_:0;r!==this.width_&&(this.width_=r,this.rect_.setAttribute("width",r)),s!==this.height_&&(this.height_=s,this.rect_.setAttribute("height",s))}position_(a,r){const f=this.workspace_.scale,y=r.top+a.top*f- -this.workspace_.scrollY-this.padding_*f,T=r.left+a.left*f- -this.workspace_.scrollX-this.padding_*f;(y!==this.top_||T!==this.left_||this.lastScale_!==f)&&(this.top_=y,this.left_=T,this.lastScale_=f,this.rect_.setAttribute("transform","translate("+T+","+y+") scale("+f+")"))}}var b=h(4283),w=h(34346),R=h(43787),N=h(21086),W=h(70697);const K="undefined"==typeof window?function(g){return g()}:window.requestAnimationFrame;function ae(g,a,r){const s=r||(y=>Array.prototype.slice.call(y));let l=!1,f=[];return function(...y){f=s(y),l||(l=!0,K.call(window,()=>{l=!1,g.apply(a,f)}))}}const fe=g=>"start"===g?"left":"end"===g?"right":"center",_e=(g,a,r)=>"start"===g?a:"end"===g?r:(a+r)/2;function Be(){}const Ee=function(){let g=0;return function(){return g++}}();function ce(g){return null==g}function q(g){if(Array.isArray&&Array.isArray(g))return!0;const a=Object.prototype.toString.call(g);return"[object"===a.substr(0,7)&&"Array]"===a.substr(-6)}function se(g){return null!==g&&"[object Object]"===Object.prototype.toString.call(g)}const ne=g=>("number"==typeof g||g instanceof Number)&&isFinite(+g);function Pe(g,a){return ne(g)?g:a}function oe(g,a){return void 0===g?a:g}const te=(g,a)=>"string"==typeof g&&g.endsWith("%")?parseFloat(g)/100*a:+g;function ie(g,a,r){if(g&&"function"==typeof g.call)return g.apply(r,a)}function Ge(g,a,r,s){let l,f,y;if(q(g))if(f=g.length,s)for(l=f-1;l>=0;l--)a.call(r,g[l],l);else for(l=0;l<f;l++)a.call(r,g[l],l);else if(se(g))for(y=Object.keys(g),f=y.length,l=0;l<f;l++)a.call(r,g[y[l]],y[l])}function ve(g,a){let r,s,l,f;if(!g||!a||g.length!==a.length)return!1;for(r=0,s=g.length;r<s;++r)if(l=g[r],f=a[r],l.datasetIndex!==f.datasetIndex||l.index!==f.index)return!1;return!0}function He(g){if(q(g))return g.map(He);if(se(g)){const a=Object.create(null),r=Object.keys(g),s=r.length;let l=0;for(;l<s;++l)a[r[l]]=He(g[r[l]]);return a}return g}function ct(g){return-1===["__proto__","prototype","constructor"].indexOf(g)}function Yt(g,a,r,s){if(!ct(g))return;const l=a[g],f=r[g];se(l)&&se(f)?ht(l,f,s):a[g]=He(f)}function ht(g,a,r){const s=q(a)?a:[a],l=s.length;if(!se(g))return g;const f=(r=r||{}).merger||Yt;for(let y=0;y<l;++y){if(!se(a=s[y]))continue;const T=Object.keys(a);for(let D=0,k=T.length;D<k;++D)f(T[D],g,a,r)}return g}function Bt(g,a){return ht(g,a,{merger:Ht})}function Ht(g,a,r){if(!ct(g))return;const s=a[g],l=r[g];se(s)&&se(l)?Bt(s,l):Object.prototype.hasOwnProperty.call(a,g)||(a[g]=He(l))}function Lt(g,a){const r=g.indexOf(".",a);return-1===r?g.length:r}function ri(g,a){if(""===a)return g;let r=0,s=Lt(a,r);for(;g&&s>r;)g=g[a.substr(r,s-r)],r=s+1,s=Lt(a,r);return g}function Ne(g){return g.charAt(0).toUpperCase()+g.slice(1)}const _t=g=>void 0!==g,Ke=g=>"function"==typeof g,Je=(g,a)=>{if(g.size!==a.size)return!1;for(const r of g)if(!a.has(r))return!1;return!0},we=Math.PI,Le=2*we,dt=Le+we,zt=Number.POSITIVE_INFINITY,lt=we/180,ze=we/2,Ye=we/4,gt=2*we/3,Ze=Math.log10,rt=Math.sign;function ot(g){const a=Math.round(g);g=St(g,a,g/1e3)?a:g;const r=Math.pow(10,Math.floor(Ze(g))),s=g/r;return(s<=1?1:s<=2?2:s<=5?5:10)*r}function Ae(g){return!isNaN(parseFloat(g))&&isFinite(g)}function St(g,a,r){return Math.abs(g-a)<r}function ci(g,a,r){let s,l,f;for(s=0,l=g.length;s<l;s++)f=g[s][r],isNaN(f)||(a.min=Math.min(a.min,f),a.max=Math.max(a.max,f))}function Zt(g){return g*(we/180)}function li(g){return g*(180/we)}function Fi(g){if(!ne(g))return;let a=1,r=0;for(;Math.round(g*a)/a!==g;)a*=10,r++;return r}function Ei(g,a){return Math.sqrt(Math.pow(a.x-g.x,2)+Math.pow(a.y-g.y,2))}function gi(g,a){return(g-a+dt)%Le-we}function jt(g){return(g%Le+Le)%Le}function oi(g,a,r,s){const l=jt(g),f=jt(a),y=jt(r),T=jt(f-l),D=jt(y-l),k=jt(l-f),Y=jt(l-y);return l===f||l===y||s&&f===y||T>D&&k<Y}function ut(g,a,r){return Math.max(a,Math.min(r,g))}function ei(g,a,r,s=1e-6){return g>=Math.min(a,r)-s&&g<=Math.max(a,r)+s}const Di=g=>0===g||1===g,Nt=(g,a,r)=>-Math.pow(2,10*(g-=1))*Math.sin((g-a)*Le/r),it=(g,a,r)=>Math.pow(2,-10*g)*Math.sin((g-a)*Le/r)+1,Me={linear:g=>g,easeInQuad:g=>g*g,easeOutQuad:g=>-g*(g-2),easeInOutQuad:g=>(g/=.5)<1?.5*g*g:-.5*(--g*(g-2)-1),easeInCubic:g=>g*g*g,easeOutCubic:g=>(g-=1)*g*g+1,easeInOutCubic:g=>(g/=.5)<1?.5*g*g*g:.5*((g-=2)*g*g+2),easeInQuart:g=>g*g*g*g,easeOutQuart:g=>-((g-=1)*g*g*g-1),easeInOutQuart:g=>(g/=.5)<1?.5*g*g*g*g:-.5*((g-=2)*g*g*g-2),easeInQuint:g=>g*g*g*g*g,easeOutQuint:g=>(g-=1)*g*g*g*g+1,easeInOutQuint:g=>(g/=.5)<1?.5*g*g*g*g*g:.5*((g-=2)*g*g*g*g+2),easeInSine:g=>1-Math.cos(g*ze),easeOutSine:g=>Math.sin(g*ze),easeInOutSine:g=>-.5*(Math.cos(we*g)-1),easeInExpo:g=>0===g?0:Math.pow(2,10*(g-1)),easeOutExpo:g=>1===g?1:1-Math.pow(2,-10*g),easeInOutExpo:g=>Di(g)?g:g<.5?.5*Math.pow(2,10*(2*g-1)):.5*(2-Math.pow(2,-10*(2*g-1))),easeInCirc:g=>g>=1?g:-(Math.sqrt(1-g*g)-1),easeOutCirc:g=>Math.sqrt(1-(g-=1)*g),easeInOutCirc:g=>(g/=.5)<1?-.5*(Math.sqrt(1-g*g)-1):.5*(Math.sqrt(1-(g-=2)*g)+1),easeInElastic:g=>Di(g)?g:Nt(g,.075,.3),easeOutElastic:g=>Di(g)?g:it(g,.075,.3),easeInOutElastic(g){const a=.1125;return Di(g)?g:g<.5?.5*Nt(2*g,a,.45):.5+.5*it(2*g-1,a,.45)},easeInBack(g){const a=1.70158;return g*g*((a+1)*g-a)},easeOutBack(g){const a=1.70158;return(g-=1)*g*((a+1)*g+a)+1},easeInOutBack(g){let a=1.70158;return(g/=.5)<1?g*g*((1+(a*=1.525))*g-a)*.5:.5*((g-=2)*g*((1+(a*=1.525))*g+a)+2)},easeInBounce:g=>1-Me.easeOutBounce(1-g),easeOutBounce(g){const a=7.5625,r=2.75;return g<1/r?a*g*g:g<2/r?a*(g-=1.5/r)*g+.75:g<2.5/r?a*(g-=2.25/r)*g+.9375:a*(g-=2.625/r)*g+.984375},easeInOutBounce:g=>g<.5?.5*Me.easeInBounce(2*g):.5*Me.easeOutBounce(2*g-1)+.5},re={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},De="0123456789ABCDEF",et=g=>De[15&g],vt=g=>De[(240&g)>>4]+De[15&g],Ci=g=>(240&g)>>4==(15&g);function Jt(g){return g+.5|0}const Rt=(g,a,r)=>Math.max(Math.min(g,r),a);function Ct(g){return Rt(Jt(2.55*g),0,255)}function Xt(g){return Rt(Jt(255*g),0,255)}function pi(g){return Rt(Jt(g/2.55)/100,0,1)}function Ki(g){return Rt(Jt(100*g),0,100)}const cn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,uo=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Kr(g,a,r){const s=a*Math.min(r,1-r),l=(f,y=(f+g/30)%12)=>r-s*Math.max(Math.min(y-3,9-y,1),-1);return[l(0),l(8),l(4)]}function No(g,a,r){const s=(l,f=(l+g/60)%6)=>r-r*a*Math.max(Math.min(f,4-f,1),0);return[s(5),s(3),s(1)]}function no(g,a,r){const s=Kr(g,1,.5);let l;for(a+r>1&&(l=1/(a+r),a*=l,r*=l),l=0;l<3;l++)s[l]*=1-a-r,s[l]+=a;return s}function $n(g){const r=g.r/255,s=g.g/255,l=g.b/255,f=Math.max(r,s,l),y=Math.min(r,s,l),T=(f+y)/2;let D,k,Y;return f!==y&&(Y=f-y,k=T>.5?Y/(2-f-y):Y/(f+y),D=f===r?(s-l)/Y+(s<l?6:0):f===s?(l-r)/Y+2:(r-s)/Y+4,D=60*D+.5),[0|D,k||0,T]}function Is(g,a,r,s){return(Array.isArray(a)?g(a[0],a[1],a[2]):g(a,r,s)).map(Xt)}function or(g,a,r){return Is(Kr,g,a,r)}function Ln(g){return(g%360+360)%360}const wr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let $r;function jr(g,a,r){if(g){let s=$n(g);s[a]=Math.max(0,Math.min(s[a]+s[a]*r,0===a?360:1)),s=or(s),g.r=s[0],g.g=s[1],g.b=s[2]}}function ro(g,a){return g&&Object.assign(a||{},g)}function vo(g){var a={r:0,g:0,b:0,a:255};return Array.isArray(g)?g.length>=3&&(a={r:g[0],g:g[1],b:g[2],a:255},g.length>3&&(a.a=Xt(g[3]))):(a=ro(g,{r:0,g:0,b:0,a:1})).a=Xt(a.a),a}function ho(g){return"r"===g.charAt(0)?function(g){const a=cn.exec(g);let s,l,f,r=255;if(a){if(a[7]!==s){const y=+a[7];r=255&(a[8]?Ct(y):255*y)}return s=+a[1],l=+a[3],f=+a[5],s=255&(a[2]?Ct(s):s),l=255&(a[4]?Ct(l):l),f=255&(a[6]?Ct(f):f),{r:s,g:l,b:f,a:r}}}(g):function(g){const a=uo.exec(g);let s,r=255;if(!a)return;a[5]!==s&&(r=a[6]?Ct(+a[5]):Xt(+a[5]));const l=Ln(+a[2]),f=+a[3]/100,y=+a[4]/100;return s="hwb"===a[1]?function(g,a,r){return Is(no,g,a,r)}(l,f,y):"hsv"===a[1]?function(g,a,r){return Is(No,g,a,r)}(l,f,y):or(l,f,y),{r:s[0],g:s[1],b:s[2],a:r}}(g)}class Sr{constructor(a){if(a instanceof Sr)return a;const r=typeof a;let s;"object"===r?s=vo(a):"string"===r&&(s=function(g){var r,a=g.length;return"#"===g[0]&&(4===a||5===a?r={r:255&17*re[g[1]],g:255&17*re[g[2]],b:255&17*re[g[3]],a:5===a?17*re[g[4]]:255}:(7===a||9===a)&&(r={r:re[g[1]]<<4|re[g[2]],g:re[g[3]]<<4|re[g[4]],b:re[g[5]]<<4|re[g[6]],a:9===a?re[g[7]]<<4|re[g[8]]:255})),r}(a)||function(g){$r||($r=function(){const g={},a=Object.keys(Kn),r=Object.keys(wr);let s,l,f,y,T;for(s=0;s<a.length;s++){for(y=T=a[s],l=0;l<r.length;l++)f=r[l],T=T.replace(f,wr[f]);f=parseInt(Kn[y],16),g[T]=[f>>16&255,f>>8&255,255&f]}return g}(),$r.transparent=[0,0,0,0]);const a=$r[g.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:4===a.length?a[3]:255}}(a)||ho(a)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var a=ro(this._rgb);return a&&(a.a=pi(a.a)),a}set rgb(a){this._rgb=vo(a)}rgbString(){return this._valid?(g=this._rgb)&&(g.a<255?`rgba(${g.r}, ${g.g}, ${g.b}, ${pi(g.a)})`:`rgb(${g.r}, ${g.g}, ${g.b})`):this._rgb;var g}hexString(){return this._valid?(a=function(g){return Ci(g.r)&&Ci(g.g)&&Ci(g.b)&&Ci(g.a)}(g=this._rgb)?et:vt,g&&"#"+a(g.r)+a(g.g)+a(g.b)+(g.a<255?a(g.a):"")):this._rgb;var g,a}hslString(){return this._valid?function(g){if(!g)return;const a=$n(g),r=a[0],s=Ki(a[1]),l=Ki(a[2]);return g.a<255?`hsla(${r}, ${s}%, ${l}%, ${pi(g.a)})`:`hsl(${r}, ${s}%, ${l}%)`}(this._rgb):this._rgb}mix(a,r){const s=this;if(a){const l=s.rgb,f=a.rgb;let y;const T=r===y?.5:r,D=2*T-1,k=l.a-f.a,Y=((D*k==-1?D:(D+k)/(1+D*k))+1)/2;y=1-Y,l.r=255&Y*l.r+y*f.r+.5,l.g=255&Y*l.g+y*f.g+.5,l.b=255&Y*l.b+y*f.b+.5,l.a=T*l.a+(1-T)*f.a,s.rgb=l}return s}clone(){return new Sr(this.rgb)}alpha(a){return this._rgb.a=Xt(a),this}clearer(a){return this._rgb.a*=1-a,this}greyscale(){const a=this._rgb,r=Jt(.3*a.r+.59*a.g+.11*a.b);return a.r=a.g=a.b=r,this}opaquer(a){return this._rgb.a*=1+a,this}negate(){const a=this._rgb;return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,this}lighten(a){return jr(this._rgb,2,a),this}darken(a){return jr(this._rgb,2,-a),this}saturate(a){return jr(this._rgb,1,a),this}desaturate(a){return jr(this._rgb,1,-a),this}rotate(a){return function(g,a){var r=$n(g);r[0]=Ln(r[0]+a),r=or(r),g.r=r[0],g.g=r[1],g.b=r[2]}(this._rgb,a),this}}function Ko(g){return new Sr(g)}const Jr=g=>g instanceof CanvasGradient||g instanceof CanvasPattern;function Hn(g){return Jr(g)?g:Ko(g)}function vn(g){return Jr(g)?g:Ko(g).saturate(.5).darken(.1).hexString()}const Zr=Object.create(null),Ar=Object.create(null);function yr(g,a){if(!a)return g;const r=a.split(".");for(let s=0,l=r.length;s<l;++s){const f=r[s];g=g[f]||(g[f]=Object.create(null))}return g}function Lr(g,a,r){return"string"==typeof a?ht(yr(g,a),r):ht(yr(g,""),a)}var yn=new class{constructor(a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>vn(s.backgroundColor),this.hoverBorderColor=(r,s)=>vn(s.borderColor),this.hoverColor=(r,s)=>vn(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(a)}set(a,r){return Lr(this,a,r)}get(a){return yr(this,a)}describe(a,r){return Lr(Ar,a,r)}override(a,r){return Lr(Zr,a,r)}route(a,r,s,l){const f=yr(this,a),y=yr(this,s),T="_"+r;Object.defineProperties(f,{[T]:{value:f[r],writable:!0},[r]:{enumerable:!0,get(){const D=this[T],k=y[l];return se(D)?Object.assign({},k,D):oe(D,k)},set(D){this[T]=D}}})}}({_scriptable:g=>!g.startsWith("on"),_indexable:g=>"events"!==g,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function qn(g,a,r,s,l){let f=a[l];return f||(f=a[l]=g.measureText(l).width,r.push(l)),f>s&&(s=f),s}function wo(g,a,r,s){let l=(s=s||{}).data=s.data||{},f=s.garbageCollect=s.garbageCollect||[];s.font!==a&&(l=s.data={},f=s.garbageCollect=[],s.font=a),g.save(),g.font=a;let y=0;const T=r.length;let D,k,Y,ue,Ie;for(D=0;D<T;D++)if(ue=r[D],null!=ue&&!0!==q(ue))y=qn(g,l,f,y,ue);else if(q(ue))for(k=0,Y=ue.length;k<Y;k++)Ie=ue[k],null!=Ie&&!q(Ie)&&(y=qn(g,l,f,y,Ie));g.restore();const We=f.length/2;if(We>r.length){for(D=0;D<We;D++)delete l[f[D]];f.splice(0,We)}return y}function as(g,a,r){const s=g.currentDevicePixelRatio,l=0!==r?Math.max(r/2,.5):0;return Math.round((a-l)*s)/s+l}function Nr(g,a){(a=a||g.getContext("2d")).save(),a.resetTransform(),a.clearRect(0,0,g.width,g.height),a.restore()}function $o(g,a,r,s){let l,f,y,T,D;const k=a.pointStyle,Y=a.rotation,ue=a.radius;let Ie=(Y||0)*lt;if(k&&"object"==typeof k&&(l=k.toString(),"[object HTMLImageElement]"===l||"[object HTMLCanvasElement]"===l))return g.save(),g.translate(r,s),g.rotate(Ie),g.drawImage(k,-k.width/2,-k.height/2,k.width,k.height),void g.restore();if(!(isNaN(ue)||ue<=0)){switch(g.beginPath(),k){default:g.arc(r,s,ue,0,Le),g.closePath();break;case"triangle":g.moveTo(r+Math.sin(Ie)*ue,s-Math.cos(Ie)*ue),Ie+=gt,g.lineTo(r+Math.sin(Ie)*ue,s-Math.cos(Ie)*ue),Ie+=gt,g.lineTo(r+Math.sin(Ie)*ue,s-Math.cos(Ie)*ue),g.closePath();break;case"rectRounded":D=.516*ue,T=ue-D,f=Math.cos(Ie+Ye)*T,y=Math.sin(Ie+Ye)*T,g.arc(r-f,s-y,D,Ie-we,Ie-ze),g.arc(r+y,s-f,D,Ie-ze,Ie),g.arc(r+f,s+y,D,Ie,Ie+ze),g.arc(r-y,s+f,D,Ie+ze,Ie+we),g.closePath();break;case"rect":if(!Y){T=Math.SQRT1_2*ue,g.rect(r-T,s-T,2*T,2*T);break}Ie+=Ye;case"rectRot":f=Math.cos(Ie)*ue,y=Math.sin(Ie)*ue,g.moveTo(r-f,s-y),g.lineTo(r+y,s-f),g.lineTo(r+f,s+y),g.lineTo(r-y,s+f),g.closePath();break;case"crossRot":Ie+=Ye;case"cross":f=Math.cos(Ie)*ue,y=Math.sin(Ie)*ue,g.moveTo(r-f,s-y),g.lineTo(r+f,s+y),g.moveTo(r+y,s-f),g.lineTo(r-y,s+f);break;case"star":f=Math.cos(Ie)*ue,y=Math.sin(Ie)*ue,g.moveTo(r-f,s-y),g.lineTo(r+f,s+y),g.moveTo(r+y,s-f),g.lineTo(r-y,s+f),Ie+=Ye,f=Math.cos(Ie)*ue,y=Math.sin(Ie)*ue,g.moveTo(r-f,s-y),g.lineTo(r+f,s+y),g.moveTo(r+y,s-f),g.lineTo(r-y,s+f);break;case"line":f=Math.cos(Ie)*ue,y=Math.sin(Ie)*ue,g.moveTo(r-f,s-y),g.lineTo(r+f,s+y);break;case"dash":g.moveTo(r,s),g.lineTo(r+Math.cos(Ie)*ue,s+Math.sin(Ie)*ue)}g.fill(),a.borderWidth>0&&g.stroke()}}function So(g,a,r){return r=r||.5,!a||g&&g.x>a.left-r&&g.x<a.right+r&&g.y>a.top-r&&g.y<a.bottom+r}function hr(g,a){g.save(),g.beginPath(),g.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),g.clip()}function Jo(g){g.restore()}function $s(g,a,r,s,l){if(!a)return g.lineTo(r.x,r.y);if("middle"===l){const f=(a.x+r.x)/2;g.lineTo(f,a.y),g.lineTo(f,r.y)}else"after"===l!=!!s?g.lineTo(a.x,r.y):g.lineTo(r.x,a.y);g.lineTo(r.x,r.y)}function aa(g,a,r,s){if(!a)return g.lineTo(r.x,r.y);g.bezierCurveTo(s?a.cp1x:a.cp2x,s?a.cp1y:a.cp2y,s?r.cp2x:r.cp1x,s?r.cp2y:r.cp1y,r.x,r.y)}function Do(g,a,r,s,l,f={}){const y=q(a)?a:[a],T=f.strokeWidth>0&&""!==f.strokeColor;let D,k;for(g.save(),g.font=l.string,function(g,a){a.translation&&g.translate(a.translation[0],a.translation[1]),ce(a.rotation)||g.rotate(a.rotation),a.color&&(g.fillStyle=a.color),a.textAlign&&(g.textAlign=a.textAlign),a.textBaseline&&(g.textBaseline=a.textBaseline)}(g,f),D=0;D<y.length;++D)k=y[D],T&&(f.strokeColor&&(g.strokeStyle=f.strokeColor),ce(f.strokeWidth)||(g.lineWidth=f.strokeWidth),g.strokeText(k,r,s,f.maxWidth)),g.fillText(k,r,s,f.maxWidth),Ca(g,r,s,k,f),s+=l.lineHeight;g.restore()}function Ca(g,a,r,s,l){if(l.strikethrough||l.underline){const f=g.measureText(s),y=a-f.actualBoundingBoxLeft,T=a+f.actualBoundingBoxRight,D=r-f.actualBoundingBoxAscent,k=r+f.actualBoundingBoxDescent,Y=l.strikethrough?(D+k)/2:k;g.strokeStyle=g.fillStyle,g.beginPath(),g.lineWidth=l.decorationWidth||2,g.moveTo(y,Y),g.lineTo(T,Y),g.stroke()}}function Mo(g,a){const{x:r,y:s,w:l,h:f,radius:y}=a;g.arc(r+y.topLeft,s+y.topLeft,y.topLeft,-ze,we,!0),g.lineTo(r,s+f-y.bottomLeft),g.arc(r+y.bottomLeft,s+f-y.bottomLeft,y.bottomLeft,we,ze,!0),g.lineTo(r+l-y.bottomRight,s+f),g.arc(r+l-y.bottomRight,s+f-y.bottomRight,y.bottomRight,ze,0,!0),g.lineTo(r+l,s+y.topRight),g.arc(r+l-y.topRight,s+y.topRight,y.topRight,0,-ze,!0),g.lineTo(r+y.topLeft,s)}const la=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Ts=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function bo(g,a){const r=(""+g).match(la);if(!r||"normal"===r[1])return 1.2*a;switch(g=+r[2],r[3]){case"px":return g;case"%":g/=100}return a*g}const Oa=g=>+g||0;function Js(g,a){const r={},s=se(a),l=s?Object.keys(a):a,f=se(g)?s?y=>oe(g[y],g[a[y]]):y=>g[y]:()=>g;for(const y of l)r[y]=Oa(f(y));return r}function ls(g){return Js(g,{top:"y",right:"x",bottom:"y",left:"x"})}function Wr(g){return Js(g,["topLeft","topRight","bottomLeft","bottomRight"])}function pr(g){const a=ls(g);return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function Dr(g,a){let r=oe((g=g||{}).size,(a=a||yn.font).size);"string"==typeof r&&(r=parseInt(r,10));let s=oe(g.style,a.style);s&&!(""+s).match(Ts)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const l={family:oe(g.family,a.family),lineHeight:bo(oe(g.lineHeight,a.lineHeight),r),size:r,style:s,weight:oe(g.weight,a.weight),string:""};return l.string=function(g){return!g||ce(g.size)||ce(g.family)?null:(g.style?g.style+" ":"")+(g.weight?g.weight+" ":"")+g.size+"px "+g.family}(l),l}function Mr(g,a,r,s){let f,y,T,l=!0;for(f=0,y=g.length;f<y;++f)if(T=g[f],void 0!==T&&(void 0!==a&&"function"==typeof T&&(T=T(a),l=!1),void 0!==r&&q(T)&&(T=T[r%T.length],l=!1),void 0!==T))return s&&!l&&(s.cacheable=!1),T}function xo(g,a){return Object.assign(Object.create(g),a)}function Ro(g,a,r){r=r||(y=>g[y]<a);let f,s=g.length-1,l=0;for(;s-l>1;)f=l+s>>1,r(f)?l=f:s=f;return{lo:l,hi:s}}const Qr=(g,a,r)=>Ro(g,r,s=>g[s][a]<r),us=(g,a,r)=>Ro(g,r,s=>g[s][a]>=r),po=["push","pop","shift","splice","unshift"];function Bo(g,a){const r=g._chartjs;if(!r)return;const s=r.listeners,l=s.indexOf(a);-1!==l&&s.splice(l,1),!(s.length>0)&&(po.forEach(f=>{delete g[f]}),delete g._chartjs)}function sr(g){const a=new Set;let r,s;for(r=0,s=g.length;r<s;++r)a.add(g[r]);return a.size===s?g:Array.from(a)}function ds(g,a=[""],r=g,s,l=(()=>g[0])){_t(s)||(s=Et("_fallback",g));const f={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:g,_rootScopes:r,_fallback:s,_getTarget:l,override:y=>ds([y,...g],a,r,s)};return new Proxy(f,{deleteProperty:(y,T)=>(delete y[T],delete y._keys,delete g[0][T],!0),get:(y,T)=>Br(y,T,()=>function(g,a,r,s){let l;for(const f of a)if(l=Et(Ta(f,g),r),_t(l))return Ho(g,l)?z(r,s,g,l):l}(T,a,g,y)),getOwnPropertyDescriptor:(y,T)=>Reflect.getOwnPropertyDescriptor(y._scopes[0],T),getPrototypeOf:()=>Reflect.getPrototypeOf(g[0]),has:(y,T)=>ti(y).includes(T),ownKeys:y=>ti(y),set(y,T,D){const k=y._storage||(y._storage=l());return y[T]=k[T]=D,delete y._keys,!0}})}function fr(g,a,r,s){const l={_cacheable:!1,_proxy:g,_context:a,_subProxy:r,_stack:new Set,_descriptors:js(g,s),setContext:f=>fr(g,f,r,s),override:f=>fr(g.override(f),a,r,s)};return new Proxy(l,{deleteProperty:(f,y)=>(delete f[y],delete g[y],!0),get:(f,y,T)=>Br(f,y,()=>function(g,a,r){const{_proxy:s,_context:l,_subProxy:f,_descriptors:y}=g;let T=s[a];return Ke(T)&&y.isScriptable(a)&&(T=function(g,a,r,s){const{_proxy:l,_context:f,_subProxy:y,_stack:T}=r;if(T.has(g))throw new Error("Recursion detected: "+Array.from(T).join("->")+"->"+g);return T.add(g),a=a(f,y||s),T.delete(g),Ho(g,a)&&(a=z(l._scopes,l,g,a)),a}(a,T,g,r)),q(T)&&T.length&&(T=function(g,a,r,s){const{_proxy:l,_context:f,_subProxy:y,_descriptors:T}=r;if(_t(f.index)&&s(g))a=a[f.index%a.length];else if(se(a[0])){const D=a,k=l._scopes.filter(Y=>Y!==D);a=[];for(const Y of D){const ue=z(k,l,g,Y);a.push(fr(ue,f,y&&y[g],T))}}return a}(a,T,g,y.isIndexable)),Ho(a,T)&&(T=fr(T,l,f&&f[a],y)),T}(f,y,T)),getOwnPropertyDescriptor:(f,y)=>f._descriptors.allKeys?Reflect.has(g,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(g,y),getPrototypeOf:()=>Reflect.getPrototypeOf(g),has:(f,y)=>Reflect.has(g,y),ownKeys:()=>Reflect.ownKeys(g),set:(f,y,T)=>(g[y]=T,delete f[y],!0)})}function js(g,a={scriptable:!0,indexable:!0}){const{_scriptable:r=a.scriptable,_indexable:s=a.indexable,_allKeys:l=a.allKeys}=g;return{allKeys:l,scriptable:r,indexable:s,isScriptable:Ke(r)?r:()=>r,isIndexable:Ke(s)?s:()=>s}}const Ta=(g,a)=>g?g+Ne(a):a,Ho=(g,a)=>se(a)&&"adapters"!==g&&(null===Object.getPrototypeOf(a)||a.constructor===Object);function Br(g,a,r){if(Object.prototype.hasOwnProperty.call(g,a))return g[a];const s=r();return g[a]=s,s}function tn(g,a,r){return Ke(g)?g(a,r):g}const ws=(g,a)=>!0===g?a:"string"==typeof g?ri(a,g):void 0;function Se(g,a,r,s){for(const l of a){const f=ws(r,l);if(f){g.add(f);const y=tn(f._fallback,r,f);if(_t(y)&&y!==r&&y!==s)return y}else if(!1===f&&_t(s)&&r!==s)return null}return!1}function z(g,a,r,s){const l=a._rootScopes,f=tn(a._fallback,r,s),y=[...g,...l],T=new Set;T.add(s);let D=L(T,y,r,f||r);return!(null===D||_t(f)&&f!==r&&(D=L(T,y,f,D),null===D))&&ds(Array.from(T),[""],l,f,()=>function(g,a,r){const s=g._getTarget();a in s||(s[a]={});const l=s[a];return q(l)&&se(r)?r:l}(a,r,s))}function L(g,a,r,s){for(;r;)r=Se(g,a,r,s);return r}function Et(g,a){for(const r of a){if(!r)continue;const s=r[g];if(_t(s))return s}}function ti(g){let a=g._keys;return a||(a=g._keys=function(g){const a=new Set;for(const r of g)for(const s of Object.keys(r).filter(l=>!l.startsWith("_")))a.add(s);return Array.from(a)}(g._scopes)),a}const mn=Number.EPSILON||1e-14,Dn=(g,a)=>a<g.length&&!g[a].skip&&g[a],Vn=g=>"x"===g?"y":"x";function Nn(g,a,r,s){const l=g.skip?a:g,f=a,y=r.skip?a:r,T=Ei(f,l),D=Ei(y,f);let k=T/(T+D),Y=D/(T+D);k=isNaN(k)?0:k,Y=isNaN(Y)?0:Y;const ue=s*k,Ie=s*Y;return{previous:{x:f.x-ue*(y.x-l.x),y:f.y-ue*(y.y-l.y)},next:{x:f.x+Ie*(y.x-l.x),y:f.y+Ie*(y.y-l.y)}}}function on(g,a,r){return Math.max(Math.min(g,r),a)}function Zs(g,a,r,s,l){let f,y,T,D;if(a.spanGaps&&(g=g.filter(k=>!k.skip)),"monotone"===a.cubicInterpolationMode)!function(g,a="x"){const r=Vn(a),s=g.length,l=Array(s).fill(0),f=Array(s);let y,T,D,k=Dn(g,0);for(y=0;y<s;++y)if(T=D,D=k,k=Dn(g,y+1),D){if(k){const Y=k[a]-D[a];l[y]=0!==Y?(k[r]-D[r])/Y:0}f[y]=T?k?rt(l[y-1])!==rt(l[y])?0:(l[y-1]+l[y])/2:l[y-1]:l[y]}(function(g,a,r){const s=g.length;let l,f,y,T,D,k=Dn(g,0);for(let Y=0;Y<s-1;++Y)if(D=k,k=Dn(g,Y+1),D&&k){if(St(a[Y],0,mn)){r[Y]=r[Y+1]=0;continue}l=r[Y]/a[Y],f=r[Y+1]/a[Y],T=Math.pow(l,2)+Math.pow(f,2),!(T<=9)&&(y=3/Math.sqrt(T),r[Y]=l*y*a[Y],r[Y+1]=f*y*a[Y])}})(g,l,f),function(g,a,r="x"){const s=Vn(r),l=g.length;let f,y,T,D=Dn(g,0);for(let k=0;k<l;++k){if(y=T,T=D,D=Dn(g,k+1),!T)continue;const Y=T[r],ue=T[s];y&&(f=(Y-y[r])/3,T[`cp1${r}`]=Y-f,T[`cp1${s}`]=ue-f*a[k]),D&&(f=(D[r]-Y)/3,T[`cp2${r}`]=Y+f,T[`cp2${s}`]=ue+f*a[k])}}(g,f,a)}(g,l);else{let k=s?g[g.length-1]:g[0];for(f=0,y=g.length;f<y;++f)T=g[f],D=Nn(k,T,g[Math.min(f+1,y-(s?0:1))%y],a.tension),T.cp1x=D.previous.x,T.cp1y=D.previous.y,T.cp2x=D.next.x,T.cp2y=D.next.y,k=T}a.capBezierPoints&&function(g,a){let r,s,l,f,y,T=So(g[0],a);for(r=0,s=g.length;r<s;++r)y=f,f=T,T=r<s-1&&So(g[r+1],a),f&&(l=g[r],y&&(l.cp1x=on(l.cp1x,a.left,a.right),l.cp1y=on(l.cp1y,a.top,a.bottom)),T&&(l.cp2x=on(l.cp2x,a.left,a.right),l.cp2y=on(l.cp2y,a.top,a.bottom)))}(g,r)}function qr(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Ws(g){let a=g.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&(a=a.host),a}function Vo(g,a,r){let s;return"string"==typeof g?(s=parseInt(g,10),-1!==g.indexOf("%")&&(s=s/100*a.parentNode[r])):s=g,s}const Uo=g=>window.getComputedStyle(g,null),Mi=["top","right","bottom","left"];function xn(g,a,r){const s={};r=r?"-"+r:"";for(let l=0;l<4;l++){const f=Mi[l];s[f]=parseFloat(g[a+"-"+f+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function j(g,a){const{canvas:r,currentDevicePixelRatio:s}=a,l=Uo(r),f="border-box"===l.boxSizing,y=xn(l,"padding"),T=xn(l,"border","width"),{x:D,y:k,box:Y}=function(g,a){const r=g.native||g,s=r.touches,l=s&&s.length?s[0]:r,{offsetX:f,offsetY:y}=l;let D,k,T=!1;if(((g,a,r)=>(g>0||a>0)&&(!r||!r.shadowRoot))(f,y,r.target))D=f,k=y;else{const Y=a.getBoundingClientRect();D=l.clientX-Y.left,k=l.clientY-Y.top,T=!0}return{x:D,y:k,box:T}}(g,r),ue=y.left+(Y&&T.left),Ie=y.top+(Y&&T.top);let{width:We,height:at}=a;return f&&(We-=y.width+T.width,at-=y.height+T.height),{x:Math.round((D-ue)/We*r.width/s),y:Math.round((k-Ie)/at*r.height/s)}}const je=g=>Math.round(10*g)/10;function xt(g,a,r){const s=a||1,l=Math.floor(g.height*s),f=Math.floor(g.width*s);g.height=l/s,g.width=f/s;const y=g.canvas;return y.style&&(r||!y.style.height&&!y.style.width)&&(y.style.height=`${g.height}px`,y.style.width=`${g.width}px`),(g.currentDevicePixelRatio!==s||y.height!==l||y.width!==f)&&(g.currentDevicePixelRatio=s,y.height=l,y.width=f,g.ctx.setTransform(s,0,0,s,0,0),!0)}const Ot=function(){let g=!1;try{const a={get passive(){return g=!0,!1}};window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch(a){}return g}();function ii(g,a){const r=function(g,a){return Uo(g).getPropertyValue(a)}(g,a),s=r&&r.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function mi(g,a,r,s){return{x:g.x+r*(a.x-g.x),y:g.y+r*(a.y-g.y)}}function Bi(g,a,r,s){return{x:g.x+r*(a.x-g.x),y:"middle"===s?r<.5?g.y:a.y:"after"===s?r<1?g.y:a.y:r>0?a.y:g.y}}function Gi(g,a,r,s){const l={x:g.cp2x,y:g.cp2y},f={x:a.cp1x,y:a.cp1y},y=mi(g,l,r),T=mi(l,f,r),D=mi(f,a,r),k=mi(y,T,r),Y=mi(T,D,r);return mi(k,Y,r)}const un=new Map;function en(g,a,r){return function(g,a){a=a||{};const r=g+JSON.stringify(a);let s=un.get(r);return s||(s=new Intl.NumberFormat(g,a),un.set(r,s)),s}(a,r).format(g)}function jn(g,a,r){return g?function(g,a){return{x:r=>g+g+a-r,setWidth(r){a=r},textAlign:r=>"center"===r?r:"right"===r?"left":"right",xPlus:(r,s)=>r-s,leftForLtr:(r,s)=>r-s}}(a,r):{x:g=>g,setWidth(g){},textAlign:g=>g,xPlus:(g,a)=>g+a,leftForLtr:(g,a)=>g}}function xr(g,a){let r,s;("ltr"===a||"rtl"===a)&&(r=g.canvas.style,s=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",a,"important"),g.prevTextDirection=s)}function oo(g,a){void 0!==a&&(delete g.prevTextDirection,g.canvas.style.setProperty("direction",a[0],a[1]))}function Hr(g){return"angle"===g?{between:oi,compare:gi,normalize:jt}:{between:ei,compare:(a,r)=>a-r,normalize:a=>a}}function Go({start:g,end:a,count:r,loop:s,style:l}){return{start:g%r,end:a%r,loop:s&&(a-g+1)%r==0,style:l}}function Vr(g,a,r){if(!r)return[g];const{property:s,start:l,end:f}=r,y=a.length,{compare:T,between:D,normalize:k}=Hr(s),{start:Y,end:ue,loop:Ie,style:We}=function(g,a,r){const{property:s,start:l,end:f}=r,{between:y,normalize:T}=Hr(s),D=a.length;let Ie,We,{start:k,end:Y,loop:ue}=g;if(ue){for(k+=D,Y+=D,Ie=0,We=D;Ie<We&&y(T(a[k%D][s]),l,f);++Ie)k--,Y--;k%=D,Y%=D}return Y<k&&(Y+=D),{start:k,end:Y,loop:ue,style:g.style}}(g,a,r),at=[];let At,ai,Ni,yt=!1,Dt=null;for(let qi=Y,an=Y;qi<=ue;++qi)ai=a[qi%y],!ai.skip&&(At=k(ai[s]),At!==Ni&&(yt=D(At,l,f),null===Dt&&(yt||D(l,Ni,At)&&0!==T(l,Ni))&&(Dt=0===T(At,l)?qi:an),null!==Dt&&(!yt||0===T(f,At)||D(f,Ni,At))&&(at.push(Go({start:Dt,end:qi,loop:Ie,count:y,style:We})),Dt=null),an=qi,Ni=At));return null!==Dt&&at.push(Go({start:Dt,end:ue,loop:Ie,count:y,style:We})),at}function As(g,a){const r=[],s=g.segments;for(let l=0;l<s.length;l++){const f=Vr(s[l],g.points,a);f.length&&r.push(...f)}return r}function Sa(g){return{backgroundColor:g.backgroundColor,borderCapStyle:g.borderCapStyle,borderDash:g.borderDash,borderDashOffset:g.borderDashOffset,borderJoinStyle:g.borderJoinStyle,borderWidth:g.borderWidth,borderColor:g.borderColor}}function ua(g,a){return a&&JSON.stringify(g)!==JSON.stringify(a)}var nn=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,r,s,l){const y=r.duration;r.listeners[l].forEach(T=>T({chart:a,initial:r.initial,numSteps:y,currentStep:Math.min(s-r.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=K.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let r=0;this._charts.forEach((s,l)=>{if(!s.running||!s.items.length)return;const f=s.items;let D,y=f.length-1,T=!1;for(;y>=0;--y)D=f[y],D._active?(D._total>s.duration&&(s.duration=D._total),D.tick(a),T=!0):(f[y]=f[f.length-1],f.pop());T&&(l.draw(),this._notify(l,s,a,"progress")),f.length||(s.running=!1,this._notify(l,s,a,"complete"),s.initial=!1),r+=f.length}),this._lastDate=a,0===r&&(this._running=!1)}_getAnims(a){const r=this._charts;let s=r.get(a);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(a,s)),s}listen(a,r,s){this._getAnims(a).listeners[r].push(s)}add(a,r){!r||!r.length||this._getAnims(a).items.push(...r)}has(a){return this._getAnims(a).items.length>0}start(a){const r=this._charts.get(a);!r||(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((s,l)=>Math.max(s,l._duration),0),this._refresh())}running(a){if(!this._running)return!1;const r=this._charts.get(a);return!(!r||!r.running||!r.items.length)}stop(a){const r=this._charts.get(a);if(!r||!r.items.length)return;const s=r.items;let l=s.length-1;for(;l>=0;--l)s[l].cancel();r.items=[],this._notify(a,r,Date.now(),"complete")}remove(a){return this._charts.delete(a)}};const rn="transparent",In={boolean:(g,a,r)=>r>.5?a:g,color(g,a,r){const s=Hn(g||rn),l=s.valid&&Hn(a||rn);return l&&l.valid?l.mix(s,r).hexString():a},number:(g,a,r)=>g+(a-g)*r};class An{constructor(a,r,s,l){const f=r[s];l=Mr([a.to,l,f,a.from]);const y=Mr([a.from,f,l]);this._active=!0,this._fn=a.fn||In[a.type||typeof y],this._easing=Me[a.easing]||Me.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=r,this._prop=s,this._from=y,this._to=l,this._promises=void 0}active(){return this._active}update(a,r,s){if(this._active){this._notify(!1);const l=this._target[this._prop],f=s-this._start,y=this._duration-f;this._start=s,this._duration=Math.floor(Math.max(y,a.duration)),this._total+=f,this._loop=!!a.loop,this._to=Mr([a.to,r,l,a.from]),this._from=Mr([a.from,l,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(a){const r=a-this._start,s=this._duration,l=this._prop,f=this._from,y=this._loop,T=this._to;let D;if(this._active=f!==T&&(y||r<s),!this._active)return this._target[l]=T,void this._notify(!0);r<0?this._target[l]=f:(D=r/s%2,D=y&&D>1?2-D:D,D=this._easing(Math.min(1,Math.max(0,D))),this._target[l]=this._fn(f,T,D))}wait(){const a=this._promises||(this._promises=[]);return new Promise((r,s)=>{a.push({res:r,rej:s})})}_notify(a){const r=a?"res":"rej",s=this._promises||[];for(let l=0;l<s.length;l++)s[l][r]()}}yn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const ts=Object.keys(yn.animation);yn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:g=>"onProgress"!==g&&"onComplete"!==g&&"fn"!==g}),yn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),yn.describe("animations",{_fallback:"animation"}),yn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:g=>0|g}}}});class Qn{constructor(a,r){this._chart=a,this._properties=new Map,this.configure(r)}configure(a){if(!se(a))return;const r=this._properties;Object.getOwnPropertyNames(a).forEach(s=>{const l=a[s];if(!se(l))return;const f={};for(const y of ts)f[y]=l[y];(q(l.properties)&&l.properties||[s]).forEach(y=>{(y===s||!r.has(y))&&r.set(y,f)})})}_animateOptions(a,r){const s=r.options,l=function(g,a){if(!a)return;let r=g.options;if(r)return r.$shared&&(g.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r;g.options=a}(a,s);if(!l)return[];const f=this._createAnimations(l,s);return s.$shared&&function(g,a){const r=[],s=Object.keys(a);for(let l=0;l<s.length;l++){const f=g[s[l]];f&&f.active()&&r.push(f.wait())}return Promise.all(r)}(a.options.$animations,s).then(()=>{a.options=s},()=>{}),f}_createAnimations(a,r){const s=this._properties,l=[],f=a.$animations||(a.$animations={}),y=Object.keys(r),T=Date.now();let D;for(D=y.length-1;D>=0;--D){const k=y[D];if("$"===k.charAt(0))continue;if("options"===k){l.push(...this._animateOptions(a,r));continue}const Y=r[k];let ue=f[k];const Ie=s.get(k);if(ue){if(Ie&&ue.active()){ue.update(Ie,Y,T);continue}ue.cancel()}Ie&&Ie.duration?(f[k]=ue=new An(Ie,a,k,Y),l.push(ue)):a[k]=Y}return l}update(a,r){if(0===this._properties.size)return void Object.assign(a,r);const s=this._createAnimations(a,r);return s.length?(nn.add(this._chart,s),!0):void 0}}function fs(g,a){const r=g&&g.options||{},s=r.reverse,l=void 0===r.min?a:0,f=void 0===r.max?a:0;return{start:s?f:l,end:s?l:f}}function jo(g,a){const r=[],s=g._getSortedDatasetMetas(a);let l,f;for(l=0,f=s.length;l<f;++l)r.push(s[l].index);return r}function dl(g,a,r,s={}){const l=g.keys,f="single"===s.mode;let y,T,D,k;if(null!==a){for(y=0,T=l.length;y<T;++y){if(D=+l[y],D===r){if(s.all)continue;break}k=g.values[D],ne(k)&&(f||0===a||rt(a)===rt(k))&&(a+=k)}return a}}function Os(g,a){const r=g&&g.options.stacked;return r||void 0===r&&void 0!==a.stack}function xl(g,a,r){const s=g[a]||(g[a]={});return s[r]||(s[r]={})}function ks(g,a,r,s){for(const l of a.getMatchingVisibleMetas(s).reverse()){const f=g[l.index];if(r&&f>0||!r&&f<0)return l.index}return null}function Xa(g,a){const{chart:r,_cachedMeta:s}=g,l=r._stacks||(r._stacks={}),{iScale:f,vScale:y,index:T}=s,D=f.axis,k=y.axis,Y=function(g,a,r){return`${g.id}.${a.id}.${r.stack||r.type}`}(f,y,s),ue=a.length;let Ie;for(let We=0;We<ue;++We){const at=a[We],{[D]:yt,[k]:Dt}=at;Ie=(at._stacks||(at._stacks={}))[k]=xl(l,Y,yt),Ie[T]=Dt,Ie._top=ks(Ie,y,!0,s.type),Ie._bottom=ks(Ie,y,!1,s.type)}}function Qs(g,a){const r=g.scales;return Object.keys(r).filter(s=>r[s].axis===a).shift()}function qs(g,a){const r=g.controller.index,s=g.vScale&&g.vScale.axis;if(s){a=a||g._parsed;for(const l of a){const f=l._stacks;if(!f||void 0===f[s]||void 0===f[s][r])return;delete f[s][r]}}}const La=g=>"reset"===g||"none"===g,Rl=(g,a)=>a?g:Object.assign({},g);let Ps=(()=>{class g{constructor(r,s){this.chart=r,this._ctx=r.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=Os(r.vScale,r),this.addElements()}updateIndex(r){this.index!==r&&qs(this._cachedMeta),this.index=r}linkScales(){const r=this.chart,s=this._cachedMeta,l=this.getDataset(),f=(Ie,We,at,yt)=>"x"===Ie?We:"r"===Ie?yt:at,y=s.xAxisID=oe(l.xAxisID,Qs(r,"x")),T=s.yAxisID=oe(l.yAxisID,Qs(r,"y")),D=s.rAxisID=oe(l.rAxisID,Qs(r,"r")),k=s.indexAxis,Y=s.iAxisID=f(k,y,T,D),ue=s.vAxisID=f(k,T,y,D);s.xScale=this.getScaleForId(y),s.yScale=this.getScaleForId(T),s.rScale=this.getScaleForId(D),s.iScale=this.getScaleForId(Y),s.vScale=this.getScaleForId(ue)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(r){return this.chart.scales[r]}_getOtherScale(r){const s=this._cachedMeta;return r===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const r=this._cachedMeta;this._data&&Bo(this._data,this),r._stacked&&qs(r)}_dataCheck(){const r=this.getDataset(),s=r.data||(r.data=[]),l=this._data;if(se(s))this._data=function(g){const a=Object.keys(g),r=new Array(a.length);let s,l,f;for(s=0,l=a.length;s<l;++s)f=a[s],r[s]={x:f,y:g[f]};return r}(s);else if(l!==s){if(l){Bo(l,this);const f=this._cachedMeta;qs(f),f._parsed=[]}s&&Object.isExtensible(s)&&function(g,a){g._chartjs?g._chartjs.listeners.push(a):(Object.defineProperty(g,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),po.forEach(r=>{const s="_onData"+Ne(r),l=g[r];Object.defineProperty(g,r,{configurable:!0,enumerable:!1,value(...f){const y=l.apply(this,f);return g._chartjs.listeners.forEach(T=>{"function"==typeof T[s]&&T[s](...f)}),y}})}))}(s,this),this._syncList=[],this._data=s}}addElements(){const r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}buildOrUpdateElements(r){const s=this._cachedMeta,l=this.getDataset();let f=!1;this._dataCheck();const y=s._stacked;s._stacked=Os(s.vScale,s),s.stack!==l.stack&&(f=!0,qs(s),s.stack=l.stack),this._resyncElements(r),(f||y!==s._stacked)&&Xa(this,s._parsed)}configure(){const r=this.chart.config,s=r.datasetScopeKeys(this._type),l=r.getOptionScopes(this.getDataset(),s,!0);this.options=r.createResolver(l,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(r,s){const{_cachedMeta:l,_data:f}=this,{iScale:y,_stacked:T}=l,D=y.axis;let ue,Ie,We,k=0===r&&s===f.length||l._sorted,Y=r>0&&l._parsed[r-1];if(!1===this._parsing)l._parsed=f,l._sorted=!0,We=f;else{We=q(f[r])?this.parseArrayData(l,f,r,s):se(f[r])?this.parseObjectData(l,f,r,s):this.parsePrimitiveData(l,f,r,s);const at=()=>null===Ie[D]||Y&&Ie[D]<Y[D];for(ue=0;ue<s;++ue)l._parsed[ue+r]=Ie=We[ue],k&&(at()&&(k=!1),Y=Ie);l._sorted=k}T&&Xa(this,We)}parsePrimitiveData(r,s,l,f){const{iScale:y,vScale:T}=r,D=y.axis,k=T.axis,Y=y.getLabels(),ue=y===T,Ie=new Array(f);let We,at,yt;for(We=0,at=f;We<at;++We)yt=We+l,Ie[We]={[D]:ue||y.parse(Y[yt],yt),[k]:T.parse(s[yt],yt)};return Ie}parseArrayData(r,s,l,f){const{xScale:y,yScale:T}=r,D=new Array(f);let k,Y,ue,Ie;for(k=0,Y=f;k<Y;++k)ue=k+l,Ie=s[ue],D[k]={x:y.parse(Ie[0],ue),y:T.parse(Ie[1],ue)};return D}parseObjectData(r,s,l,f){const{xScale:y,yScale:T}=r,{xAxisKey:D="x",yAxisKey:k="y"}=this._parsing,Y=new Array(f);let ue,Ie,We,at;for(ue=0,Ie=f;ue<Ie;++ue)We=ue+l,at=s[We],Y[ue]={x:y.parse(ri(at,D),We),y:T.parse(ri(at,k),We)};return Y}getParsed(r){return this._cachedMeta._parsed[r]}getDataElement(r){return this._cachedMeta.data[r]}applyStack(r,s,l){const y=this._cachedMeta,T=s[r.axis];return dl({keys:jo(this.chart,!0),values:s._stacks[r.axis]},T,y.index,{mode:l})}updateRangeFromParsed(r,s,l,f){const y=l[s.axis];let T=null===y?NaN:y;const D=f&&l._stacks[s.axis];f&&D&&(f.values=D,T=dl(f,y,this._cachedMeta.index)),r.min=Math.min(r.min,T),r.max=Math.max(r.max,T)}getMinMax(r,s){const l=this._cachedMeta,f=l._parsed,y=l._sorted&&r===l.iScale,T=f.length,D=this._getOtherScale(r),k=((g,a,r)=>g&&!a.hidden&&a._stacked&&{keys:jo(this.chart,!0),values:null})(s,l),Y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:ue,max:Ie}=function(g){const{min:a,max:r,minDefined:s,maxDefined:l}=g.getUserBounds();return{min:s?a:Number.NEGATIVE_INFINITY,max:l?r:Number.POSITIVE_INFINITY}}(D);let We,at;function yt(){at=f[We];const Dt=at[D.axis];return!ne(at[r.axis])||ue>Dt||Ie<Dt}for(We=0;We<T&&(yt()||(this.updateRangeFromParsed(Y,r,at,k),!y));++We);if(y)for(We=T-1;We>=0;--We)if(!yt()){this.updateRangeFromParsed(Y,r,at,k);break}return Y}getAllParsedValues(r){const s=this._cachedMeta._parsed,l=[];let f,y,T;for(f=0,y=s.length;f<y;++f)T=s[f][r.axis],ne(T)&&l.push(T);return l}getMaxOverflow(){return!1}getLabelAndValue(r){const s=this._cachedMeta,l=s.iScale,f=s.vScale,y=this.getParsed(r);return{label:l?""+l.getLabelForValue(y[l.axis]):"",value:f?""+f.getLabelForValue(y[f.axis]):""}}_update(r){const s=this._cachedMeta;this.update(r||"default"),s._clip=function(g){let a,r,s,l;return se(g)?(a=g.top,r=g.right,s=g.bottom,l=g.left):a=r=s=l=g,{top:a,right:r,bottom:s,left:l,disabled:!1===g}}(oe(this.options.clip,function(g,a,r){if(!1===r)return!1;const s=fs(g,r),l=fs(a,r);return{top:l.end,right:s.end,bottom:l.start,left:s.start}}(s.xScale,s.yScale,this.getMaxOverflow())))}update(r){}draw(){const r=this._ctx,l=this._cachedMeta,f=l.data||[],y=this.chart.chartArea,T=[],D=this._drawStart||0,k=this._drawCount||f.length-D;let Y;for(l.dataset&&l.dataset.draw(r,y,D,k),Y=D;Y<D+k;++Y){const ue=f[Y];ue.hidden||(ue.active?T.push(ue):ue.draw(r,y))}for(Y=0;Y<T.length;++Y)T[Y].draw(r,y)}getStyle(r,s){const l=s?"active":"default";return void 0===r&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(l):this.resolveDataElementOptions(r||0,l)}getContext(r,s,l){const f=this.getDataset();let y;if(r>=0&&r<this._cachedMeta.data.length){const T=this._cachedMeta.data[r];y=T.$context||(T.$context=function(g,a,r){return xo(g,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:r,index:a,mode:"default",type:"data"})}(this.getContext(),r,T)),y.parsed=this.getParsed(r),y.raw=f.data[r],y.index=y.dataIndex=r}else y=this.$context||(this.$context=function(g,a){return xo(g,{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),y.dataset=f,y.index=y.datasetIndex=this.index;return y.active=!!s,y.mode=l,y}resolveDatasetElementOptions(r){return this._resolveElementOptions(this.datasetElementType.id,r)}resolveDataElementOptions(r,s){return this._resolveElementOptions(this.dataElementType.id,s,r)}_resolveElementOptions(r,s="default",l){const f="active"===s,y=this._cachedDataOpts,T=r+"-"+s,D=y[T],k=this.enableOptionSharing&&_t(l);if(D)return Rl(D,k);const Y=this.chart.config,ue=Y.datasetElementScopeKeys(this._type,r),Ie=f?[`${r}Hover`,"hover",r,""]:[r,""],We=Y.getOptionScopes(this.getDataset(),ue),at=Object.keys(yn.elements[r]),Dt=Y.resolveNamedOptions(We,at,()=>this.getContext(l,f),Ie);return Dt.$shared&&(Dt.$shared=k,y[T]=Object.freeze(Rl(Dt,k))),Dt}_resolveAnimations(r,s,l){const f=this.chart,y=this._cachedDataOpts,T=`animation-${s}`,D=y[T];if(D)return D;let k;if(!1!==f.options.animation){const ue=this.chart.config,Ie=ue.datasetAnimationScopeKeys(this._type,s),We=ue.getOptionScopes(this.getDataset(),Ie);k=ue.createResolver(We,this.getContext(r,l,s))}const Y=new Qn(f,k&&k.animations);return k&&k._cacheable&&(y[T]=Object.freeze(Y)),Y}getSharedOptions(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}includeOptions(r,s){return!s||La(r)||this.chart._animationsDisabled}updateElement(r,s,l,f){La(f)?Object.assign(r,l):this._resolveAnimations(s,f).update(r,l)}updateSharedOptions(r,s,l){r&&!La(s)&&this._resolveAnimations(void 0,s).update(r,l)}_setStyle(r,s,l,f){r.active=f;const y=this.getStyle(s,f);this._resolveAnimations(s,l,f).update(r,{options:!f&&this.getSharedOptions(y)||y})}removeHoverStyle(r,s,l){this._setStyle(r,l,"active",!1)}setHoverStyle(r,s,l){this._setStyle(r,l,"active",!0)}_removeDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}_setDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}_resyncElements(r){const s=this._data,l=this._cachedMeta.data;for(const[D,k,Y]of this._syncList)this[D](k,Y);this._syncList=[];const f=l.length,y=s.length,T=Math.min(y,f);T&&this.parse(0,T),y>f?this._insertElements(f,y-f,r):y<f&&this._removeElements(y,f-y)}_insertElements(r,s,l=!0){const f=this._cachedMeta,y=f.data,T=r+s;let D;const k=Y=>{for(Y.length+=s,D=Y.length-1;D>=T;D--)Y[D]=Y[D-s]};for(k(y),D=r;D<T;++D)y[D]=new this.dataElementType;this._parsing&&k(f._parsed),this.parse(r,s),l&&this.updateElements(y,r,s,"reset")}updateElements(r,s,l,f){}_removeElements(r,s){const l=this._cachedMeta;if(this._parsing){const f=l._parsed.splice(r,s);l._stacked&&qs(l,f)}l.data.splice(r,s)}_sync(r){if(this._parsing)this._syncList.push(r);else{const[s,l,f]=r;this[s](l,f)}this.chart._dataChanges.push([this.index,...r])}_onDataPush(){const r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(r,s){s&&this._sync(["_removeElements",r,s]);const l=arguments.length-2;l&&this._sync(["_insertElements",r,l])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return g.defaults={},g})();function gs(g){const a=g.iScale,r=function(g,a){if(!g._cache.$bar){const r=g.getMatchingVisibleMetas(a);let s=[];for(let l=0,f=r.length;l<f;l++)s=s.concat(r[l].controller.getAllParsedValues(g));g._cache.$bar=sr(s.sort((l,f)=>l-f))}return g._cache.$bar}(a,g.type);let l,f,y,T,s=a._length;const D=()=>{32767===y||-32768===y||(_t(T)&&(s=Math.min(s,Math.abs(y-T)||s)),T=y)};for(l=0,f=r.length;l<f;++l)y=a.getPixelForValue(r[l]),D();for(T=void 0,l=0,f=a.ticks.length;l<f;++l)y=a.getPixelForTick(l),D();return s}function Al(g,a,r,s){return q(g)?function(g,a,r,s){const l=r.parse(g[0],s),f=r.parse(g[1],s),y=Math.min(l,f),T=Math.max(l,f);let D=y,k=T;Math.abs(y)>Math.abs(T)&&(D=T,k=y),a[r.axis]=k,a._custom={barStart:D,barEnd:k,start:l,end:f,min:y,max:T}}(g,a,r,s):a[r.axis]=r.parse(g,s),a}function hl(g,a,r,s){const l=g.iScale,f=g.vScale,y=l.getLabels(),T=l===f,D=[];let k,Y,ue,Ie;for(k=r,Y=r+s;k<Y;++k)Ie=a[k],ue={},ue[l.axis]=T||l.parse(y[k],k),D.push(Al(Ie,ue,f,k));return D}function Ja(g){return g&&void 0!==g.barStart&&void 0!==g.barEnd}function le(g,a,r,s){let l=a.borderSkipped;const f={};if(!l)return void(g.borderSkipped=f);const{start:y,end:T,reverse:D,top:k,bottom:Y}=function(g){let a,r,s,l,f;return g.horizontal?(a=g.base>g.x,r="left",s="right"):(a=g.base<g.y,r="bottom",s="top"),a?(l="end",f="start"):(l="start",f="end"),{start:r,end:s,reverse:a,top:l,bottom:f}}(g);"middle"===l&&r&&(g.enableBorderRadius=!0,(r._top||0)===s?l=k:(r._bottom||0)===s?l=Y:(f[Q(Y,y,T,D)]=!0,l=k)),f[Q(l,y,T,D)]=!0,g.borderSkipped=f}function Q(g,a,r,s){return s?(g=function(g,a,r){return g===a?r:g===r?a:g}(g,a,r),g=Te(g,r,a)):g=Te(g,a,r),g}function Te(g,a,r){return"start"===g?a:"end"===g?r:g}function ke(g,{inflateAmount:a},r){g.inflateAmount="auto"===a?1===r?.33:0:a}Ps.prototype.datasetElementType=null,Ps.prototype.dataElementType=null;let nt=(()=>{class g extends Ps{parsePrimitiveData(r,s,l,f){return hl(r,s,l,f)}parseArrayData(r,s,l,f){return hl(r,s,l,f)}parseObjectData(r,s,l,f){const{iScale:y,vScale:T}=r,{xAxisKey:D="x",yAxisKey:k="y"}=this._parsing,Y="x"===y.axis?D:k,ue="x"===T.axis?D:k,Ie=[];let We,at,yt,Dt;for(We=l,at=l+f;We<at;++We)Dt=s[We],yt={},yt[y.axis]=y.parse(ri(Dt,Y),We),Ie.push(Al(ri(Dt,ue),yt,T,We));return Ie}updateRangeFromParsed(r,s,l,f){super.updateRangeFromParsed(r,s,l,f);const y=l._custom;y&&s===this._cachedMeta.vScale&&(r.min=Math.min(r.min,y.min),r.max=Math.max(r.max,y.max))}getMaxOverflow(){return 0}getLabelAndValue(r){const s=this._cachedMeta,{iScale:l,vScale:f}=s,y=this.getParsed(r),T=y._custom,D=Ja(T)?"["+T.start+", "+T.end+"]":""+f.getLabelForValue(y[f.axis]);return{label:""+l.getLabelForValue(y[l.axis]),value:D}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(r){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,r)}updateElements(r,s,l,f){const y="reset"===f,{index:T,_cachedMeta:{vScale:D}}=this,k=D.getBasePixel(),Y=D.isHorizontal(),ue=this._getRuler(),Ie=this.resolveDataElementOptions(s,f),We=this.getSharedOptions(Ie),at=this.includeOptions(f,We);this.updateSharedOptions(We,f,Ie);for(let yt=s;yt<s+l;yt++){const Dt=this.getParsed(yt),At=y||ce(Dt[D.axis])?{base:k,head:k}:this._calculateBarValuePixels(yt),ai=this._calculateBarIndexPixels(yt,ue),Ni=(Dt._stacks||{})[D.axis],yi={horizontal:Y,base:At.base,enableBorderRadius:!Ni||Ja(Dt._custom)||T===Ni._top||T===Ni._bottom,x:Y?At.head:ai.center,y:Y?ai.center:At.head,height:Y?ai.size:Math.abs(At.size),width:Y?Math.abs(At.size):ai.size};at&&(yi.options=We||this.resolveDataElementOptions(yt,r[yt].active?"active":f));const Si=yi.options||r[yt].options;le(yi,Si,Ni,T),ke(yi,Si,ue.ratio),this.updateElement(r[yt],yt,yi,f)}}_getStacks(r,s){const f=this._cachedMeta.iScale,y=f.getMatchingVisibleMetas(this._type),T=f.options.stacked,D=y.length,k=[];let Y,ue;for(Y=0;Y<D;++Y)if(ue=y[Y],ue.controller.options.grouped){if(void 0!==s){const Ie=ue.controller.getParsed(s)[ue.controller._cachedMeta.vScale.axis];if(ce(Ie)||isNaN(Ie))continue}if((!1===T||-1===k.indexOf(ue.stack)||void 0===T&&void 0===ue.stack)&&k.push(ue.stack),ue.index===r)break}return k.length||k.push(void 0),k}_getStackCount(r){return this._getStacks(void 0,r).length}_getStackIndex(r,s,l){const f=this._getStacks(r,l),y=void 0!==s?f.indexOf(s):-1;return-1===y?f.length-1:y}_getRuler(){const r=this.options,s=this._cachedMeta,l=s.iScale,f=[];let y,T;for(y=0,T=s.data.length;y<T;++y)f.push(l.getPixelForValue(this.getParsed(y)[l.axis],y));const D=r.barThickness;return{min:D||gs(s),pixels:f,start:l._startPixel,end:l._endPixel,stackCount:this._getStackCount(),scale:l,grouped:r.grouped,ratio:D?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(r){const{_cachedMeta:{vScale:s,_stacked:l},options:{base:f,minBarLength:y}}=this,T=f||0,D=this.getParsed(r),k=D._custom,Y=Ja(k);let at,yt,ue=D[s.axis],Ie=0,We=l?this.applyStack(s,D,l):ue;We!==ue&&(Ie=We-ue,We=ue),Y&&(ue=k.barStart,We=k.barEnd-k.barStart,0!==ue&&rt(ue)!==rt(k.barEnd)&&(Ie=0),Ie+=ue);const Dt=ce(f)||Y?Ie:f;let At=s.getPixelForValue(Dt);if(at=this.chart.getDataVisibility(r)?s.getPixelForValue(Ie+We):At,yt=at-At,Math.abs(yt)<y&&(yt=function(g,a,r){return 0!==g?rt(g):(a.isHorizontal()?1:-1)*(a.min>=r?1:-1)}(yt,s,T)*y,ue===T&&(At-=yt/2),at=At+yt),At===s.getPixelForValue(T)){const ai=rt(yt)*s.getLineWidthForValue(T)/2;At+=ai,yt-=ai}return{size:yt,base:At,head:at,center:at+yt/2}}_calculateBarIndexPixels(r,s){const l=s.scale,f=this.options,y=f.skipNull,T=oe(f.maxBarThickness,1/0);let D,k;if(s.grouped){const Y=y?this._getStackCount(r):s.stackCount,ue="flex"===f.barThickness?function(g,a,r,s){const l=a.pixels,f=l[g];let y=g>0?l[g-1]:null,T=g<l.length-1?l[g+1]:null;const D=r.categoryPercentage;null===y&&(y=f-(null===T?a.end-a.start:T-f)),null===T&&(T=f+f-y);const k=f-(f-Math.min(y,T))/2*D;return{chunk:Math.abs(T-y)/2*D/s,ratio:r.barPercentage,start:k}}(r,s,f,Y):function(g,a,r,s){const l=r.barThickness;let f,y;return ce(l)?(f=a.min*r.categoryPercentage,y=r.barPercentage):(f=l*s,y=1),{chunk:f/s,ratio:y,start:a.pixels[g]-f/2}}(r,s,f,Y),Ie=this._getStackIndex(this.index,this._cachedMeta.stack,y?r:void 0);D=ue.start+ue.chunk*Ie+ue.chunk/2,k=Math.min(T,ue.chunk*ue.ratio)}else D=l.getPixelForValue(this.getParsed(r)[l.axis],r),k=Math.min(T,s.min*s.ratio);return{base:D-k/2,head:D+k/2,center:D,size:k}}draw(){const r=this._cachedMeta,s=r.vScale,l=r.data,f=l.length;let y=0;for(;y<f;++y)null!==this.getParsed(y)[s.axis]&&l[y].draw(this._ctx)}}return g.id="bar",g.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},g.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},g})(),wt=(()=>{class g extends Ps{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(r,s,l,f){const y=super.parsePrimitiveData(r,s,l,f);for(let T=0;T<y.length;T++)y[T]._custom=this.resolveDataElementOptions(T+l).radius;return y}parseArrayData(r,s,l,f){const y=super.parseArrayData(r,s,l,f);for(let T=0;T<y.length;T++)y[T]._custom=oe(s[l+T][2],this.resolveDataElementOptions(T+l).radius);return y}parseObjectData(r,s,l,f){const y=super.parseObjectData(r,s,l,f);for(let T=0;T<y.length;T++){const D=s[l+T];y[T]._custom=oe(D&&D.r&&+D.r,this.resolveDataElementOptions(T+l).radius)}return y}getMaxOverflow(){const r=this._cachedMeta.data;let s=0;for(let l=r.length-1;l>=0;--l)s=Math.max(s,r[l].size(this.resolveDataElementOptions(l))/2);return s>0&&s}getLabelAndValue(r){const s=this._cachedMeta,{xScale:l,yScale:f}=s,y=this.getParsed(r),T=l.getLabelForValue(y.x),D=f.getLabelForValue(y.y),k=y._custom;return{label:s.label,value:"("+T+", "+D+(k?", "+k:"")+")"}}update(r){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,r)}updateElements(r,s,l,f){const y="reset"===f,{iScale:T,vScale:D}=this._cachedMeta,k=this.resolveDataElementOptions(s,f),Y=this.getSharedOptions(k),ue=this.includeOptions(f,Y),Ie=T.axis,We=D.axis;for(let at=s;at<s+l;at++){const yt=r[at],Dt=!y&&this.getParsed(at),At={},ai=At[Ie]=y?T.getPixelForDecimal(.5):T.getPixelForValue(Dt[Ie]),Ni=At[We]=y?D.getBasePixel():D.getPixelForValue(Dt[We]);At.skip=isNaN(ai)||isNaN(Ni),ue&&(At.options=this.resolveDataElementOptions(at,yt.active?"active":f),y&&(At.options.radius=0)),this.updateElement(yt,at,At,f)}this.updateSharedOptions(Y,f,k)}resolveDataElementOptions(r,s){const l=this.getParsed(r);let f=super.resolveDataElementOptions(r,s);f.$shared&&(f=Object.assign({},f,{$shared:!1}));const y=f.radius;return"active"!==s&&(f.radius=0),f.radius+=oe(l&&l._custom,y),f}}return g.id="bubble",g.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},g.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},g})(),fi=(()=>{class g extends Ps{constructor(r,s){super(r,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,s){const l=this.getDataset().data,f=this._cachedMeta;if(!1===this._parsing)f._parsed=l;else{let T,D,y=k=>+l[k];if(se(l[r])){const{key:k="value"}=this._parsing;y=Y=>+ri(l[Y],k)}for(T=r,D=r+s;T<D;++T)f._parsed[T]=y(T)}}_getRotation(){return Zt(this.options.rotation-90)}_getCircumference(){return Zt(this.options.circumference)}_getRotationExtents(){let r=Le,s=-Le;for(let l=0;l<this.chart.data.datasets.length;++l)if(this.chart.isDatasetVisible(l)){const f=this.chart.getDatasetMeta(l).controller,y=f._getRotation(),T=f._getCircumference();r=Math.min(r,y),s=Math.max(s,y+T)}return{rotation:r,circumference:s-r}}update(r){const s=this.chart,{chartArea:l}=s,f=this._cachedMeta,y=f.data,T=this.getMaxBorderWidth()+this.getMaxOffset(y)+this.options.spacing,D=Math.max((Math.min(l.width,l.height)-T)/2,0),k=Math.min(((g,a)=>"string"==typeof g&&g.endsWith("%")?parseFloat(g)/100:g/a)(this.options.cutout,D),1),Y=this._getRingWeight(this.index),{circumference:ue,rotation:Ie}=this._getRotationExtents(),{ratioX:We,ratioY:at,offsetX:yt,offsetY:Dt}=function(g,a,r){let s=1,l=1,f=0,y=0;if(a<Le){const T=g,D=T+a,k=Math.cos(T),Y=Math.sin(T),ue=Math.cos(D),Ie=Math.sin(D),We=(Ni,yi,Si)=>oi(Ni,T,D,!0)?1:Math.max(yi,yi*r,Si,Si*r),at=(Ni,yi,Si)=>oi(Ni,T,D,!0)?-1:Math.min(yi,yi*r,Si,Si*r),yt=We(0,k,ue),Dt=We(ze,Y,Ie),At=at(we,k,ue),ai=at(we+ze,Y,Ie);s=(yt-At)/2,l=(Dt-ai)/2,f=-(yt+At)/2,y=-(Dt+ai)/2}return{ratioX:s,ratioY:l,offsetX:f,offsetY:y}}(Ie,ue,k),Ni=Math.max(Math.min((l.width-T)/We,(l.height-T)/at)/2,0),yi=te(this.options.radius,Ni),ji=(yi-Math.max(yi*k,0))/this._getVisibleDatasetWeightTotal();this.offsetX=yt*yi,this.offsetY=Dt*yi,f.total=this.calculateTotal(),this.outerRadius=yi-ji*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ji*Y,0),this.updateElements(y,0,y.length,r)}_circumference(r,s){const l=this.options,f=this._cachedMeta,y=this._getCircumference();return s&&l.animation.animateRotate||!this.chart.getDataVisibility(r)||null===f._parsed[r]||f.data[r].hidden?0:this.calculateCircumference(f._parsed[r]*y/Le)}updateElements(r,s,l,f){const y="reset"===f,T=this.chart,D=T.chartArea,ue=(D.left+D.right)/2,Ie=(D.top+D.bottom)/2,We=y&&T.options.animation.animateScale,at=We?0:this.innerRadius,yt=We?0:this.outerRadius,Dt=this.resolveDataElementOptions(s,f),At=this.getSharedOptions(Dt),ai=this.includeOptions(f,At);let yi,Ni=this._getRotation();for(yi=0;yi<s;++yi)Ni+=this._circumference(yi,y);for(yi=s;yi<s+l;++yi){const Si=this._circumference(yi,y),ji=r[yi],zi={x:ue+this.offsetX,y:Ie+this.offsetY,startAngle:Ni,endAngle:Ni+Si,circumference:Si,outerRadius:yt,innerRadius:at};ai&&(zi.options=At||this.resolveDataElementOptions(yi,ji.active?"active":f)),Ni+=Si,this.updateElement(ji,yi,zi,f)}this.updateSharedOptions(At,f,Dt)}calculateTotal(){const r=this._cachedMeta,s=r.data;let f,l=0;for(f=0;f<s.length;f++){const y=r._parsed[f];null!==y&&!isNaN(y)&&this.chart.getDataVisibility(f)&&!s[f].hidden&&(l+=Math.abs(y))}return l}calculateCircumference(r){const s=this._cachedMeta.total;return s>0&&!isNaN(r)?Le*(Math.abs(r)/s):0}getLabelAndValue(r){const l=this.chart,f=l.data.labels||[],y=en(this._cachedMeta._parsed[r],l.options.locale);return{label:f[r]||"",value:y}}getMaxBorderWidth(r){let s=0;const l=this.chart;let f,y,T,D,k;if(!r)for(f=0,y=l.data.datasets.length;f<y;++f)if(l.isDatasetVisible(f)){T=l.getDatasetMeta(f),r=T.data,D=T.controller;break}if(!r)return 0;for(f=0,y=r.length;f<y;++f)k=D.resolveDataElementOptions(f),"inner"!==k.borderAlign&&(s=Math.max(s,k.borderWidth||0,k.hoverBorderWidth||0));return s}getMaxOffset(r){let s=0;for(let l=0,f=r.length;l<f;++l){const y=this.resolveDataElementOptions(l);s=Math.max(s,y.offset||0,y.hoverOffset||0)}return s}_getRingWeightOffset(r){let s=0;for(let l=0;l<r;++l)this.chart.isDatasetVisible(l)&&(s+=this._getRingWeight(l));return s}_getRingWeight(r){return Math.max(oe(this.chart.data.datasets[r].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return g.id="doughnut",g.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},g.descriptors={_scriptable:a=>"spacing"!==a,_indexable:a=>"spacing"!==a},g.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const r=a.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:s}}=a.legend.options;return r.labels.map((l,f)=>{const T=a.getDatasetMeta(0).controller.getStyle(f);return{text:l,fillStyle:T.backgroundColor,strokeStyle:T.borderColor,lineWidth:T.borderWidth,pointStyle:s,hidden:!a.getDataVisibility(f),index:f}})}return[]}},onClick(a,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}},tooltip:{callbacks:{title:()=>"",label(a){let r=a.label;const s=": "+a.formattedValue;return q(r)?(r=r.slice(),r[0]+=s):r+=s,r}}}}},g})(),Wi=(()=>{class g extends Ps{initialize(){this.enableOptionSharing=!0,super.initialize()}update(r){const s=this._cachedMeta,{dataset:l,data:f=[],_dataset:y}=s,T=this.chart._animationsDisabled;let{start:D,count:k}=function(g,a,r){const s=a.length;let l=0,f=s;if(g._sorted){const{iScale:y,_parsed:T}=g,D=y.axis,{min:k,max:Y,minDefined:ue,maxDefined:Ie}=y.getUserBounds();ue&&(l=ut(Math.min(Qr(T,y.axis,k).lo,r?s:Qr(a,D,y.getPixelForValue(k)).lo),0,s-1)),f=Ie?ut(Math.max(Qr(T,y.axis,Y).hi+1,r?0:Qr(a,D,y.getPixelForValue(Y)).hi+1),l,s)-l:s-l}return{start:l,count:f}}(s,f,T);this._drawStart=D,this._drawCount=k,function(g){const{xScale:a,yScale:r,_scaleRanges:s}=g,l={xmin:a.min,xmax:a.max,ymin:r.min,ymax:r.max};if(!s)return g._scaleRanges=l,!0;const f=s.xmin!==a.min||s.xmax!==a.max||s.ymin!==r.min||s.ymax!==r.max;return Object.assign(s,l),f}(s)&&(D=0,k=f.length),l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!y._decimated,l.points=f;const Y=this.resolveDatasetElementOptions(r);this.options.showLine||(Y.borderWidth=0),Y.segment=this.options.segment,this.updateElement(l,void 0,{animated:!T,options:Y},r),this.updateElements(f,D,k,r)}updateElements(r,s,l,f){const y="reset"===f,{iScale:T,vScale:D,_stacked:k,_dataset:Y}=this._cachedMeta,ue=this.resolveDataElementOptions(s,f),Ie=this.getSharedOptions(ue),We=this.includeOptions(f,Ie),at=T.axis,yt=D.axis,{spanGaps:Dt,segment:At}=this.options,ai=Ae(Dt)?Dt:Number.POSITIVE_INFINITY,Ni=this.chart._animationsDisabled||y||"none"===f;let yi=s>0&&this.getParsed(s-1);for(let Si=s;Si<s+l;++Si){const ji=r[Si],zi=this.getParsed(Si),qi=Ni?ji:{},an=ce(zi[yt]),zn=qi[at]=T.getPixelForValue(zi[at],Si),sn=qi[yt]=y||an?D.getBasePixel():D.getPixelForValue(k?this.applyStack(D,zi,k):zi[yt],Si);qi.skip=isNaN(zn)||isNaN(sn)||an,qi.stop=Si>0&&zi[at]-yi[at]>ai,At&&(qi.parsed=zi,qi.raw=Y.data[Si]),We&&(qi.options=Ie||this.resolveDataElementOptions(Si,ji.active?"active":f)),Ni||this.updateElement(ji,Si,qi,f),yi=zi}this.updateSharedOptions(Ie,f,ue)}getMaxOverflow(){const r=this._cachedMeta,s=r.dataset,l=s.options&&s.options.borderWidth||0,f=r.data||[];if(!f.length)return l;const y=f[0].size(this.resolveDataElementOptions(0)),T=f[f.length-1].size(this.resolveDataElementOptions(f.length-1));return Math.max(l,y,T)/2}draw(){const r=this._cachedMeta;r.dataset.updateControlPoints(this.chart.chartArea,r.iScale.axis),super.draw()}}return g.id="line",g.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},g.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},g})();var ms=Object.freeze({__proto__:null,BarController:nt,BubbleController:wt,DoughnutController:fi,LineController:Wi,PolarAreaController:(()=>{class g extends Ps{constructor(r,s){super(r,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(r){const l=this.chart,f=l.data.labels||[],y=en(this._cachedMeta._parsed[r].r,l.options.locale);return{label:f[r]||"",value:y}}update(r){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,r)}_updateRadius(){const r=this.chart,s=r.chartArea,l=r.options,f=Math.min(s.right-s.left,s.bottom-s.top),y=Math.max(f/2,0),D=(y-Math.max(l.cutoutPercentage?y/100*l.cutoutPercentage:1,0))/r.getVisibleDatasetCount();this.outerRadius=y-D*this.index,this.innerRadius=this.outerRadius-D}updateElements(r,s,l,f){const y="reset"===f,T=this.chart,D=this.getDataset(),Y=T.options.animation,ue=this._cachedMeta.rScale,Ie=ue.xCenter,We=ue.yCenter,at=ue.getIndexAngle(0)-.5*we;let Dt,yt=at;const At=360/this.countVisibleElements();for(Dt=0;Dt<s;++Dt)yt+=this._computeAngle(Dt,f,At);for(Dt=s;Dt<s+l;Dt++){const ai=r[Dt];let Ni=yt,yi=yt+this._computeAngle(Dt,f,At),Si=T.getDataVisibility(Dt)?ue.getDistanceFromCenterForValue(D.data[Dt]):0;yt=yi,y&&(Y.animateScale&&(Si=0),Y.animateRotate&&(Ni=yi=at));const ji={x:Ie,y:We,innerRadius:0,outerRadius:Si,startAngle:Ni,endAngle:yi,options:this.resolveDataElementOptions(Dt,ai.active?"active":f)};this.updateElement(ai,Dt,ji,f)}}countVisibleElements(){const r=this.getDataset();let l=0;return this._cachedMeta.data.forEach((f,y)=>{!isNaN(r.data[y])&&this.chart.getDataVisibility(y)&&l++}),l}_computeAngle(r,s,l){return this.chart.getDataVisibility(r)?Zt(this.resolveDataElementOptions(r,s).angle||l):0}}return g.id="polarArea",g.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},g.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const r=a.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:s}}=a.legend.options;return r.labels.map((l,f)=>{const T=a.getDatasetMeta(0).controller.getStyle(f);return{text:l,fillStyle:T.backgroundColor,strokeStyle:T.borderColor,lineWidth:T.borderWidth,pointStyle:s,hidden:!a.getDataVisibility(f),index:f}})}return[]}},onClick(a,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}},tooltip:{callbacks:{title:()=>"",label:a=>a.chart.data.labels[a.dataIndex]+": "+a.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},g})(),PieController:(()=>{class g extends fi{}return g.id="pie",g.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},g})(),RadarController:(()=>{class g extends Ps{getLabelAndValue(r){const s=this._cachedMeta.vScale,l=this.getParsed(r);return{label:s.getLabels()[r],value:""+s.getLabelForValue(l[s.axis])}}update(r){const s=this._cachedMeta,l=s.dataset,f=s.data||[],y=s.iScale.getLabels();if(l.points=f,"resize"!==r){const T=this.resolveDatasetElementOptions(r);this.options.showLine||(T.borderWidth=0),this.updateElement(l,void 0,{_loop:!0,_fullLoop:y.length===f.length,options:T},r)}this.updateElements(f,0,f.length,r)}updateElements(r,s,l,f){const y=this.getDataset(),T=this._cachedMeta.rScale,D="reset"===f;for(let k=s;k<s+l;k++){const Y=r[k],ue=this.resolveDataElementOptions(k,Y.active?"active":f),Ie=T.getPointPositionForValue(k,y.data[k]),We=D?T.xCenter:Ie.x,at=D?T.yCenter:Ie.y,yt={x:We,y:at,angle:Ie.angle,skip:isNaN(We)||isNaN(at),options:ue};this.updateElement(Y,k,yt,f)}}}return g.id="radar",g.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},g.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},g})(),ScatterController:(()=>{class g extends Wi{}return g.id="scatter",g.defaults={showLine:!1,fill:!1},g.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:a=>"("+a.label+", "+a.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},g})()});function Ao(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Wo={_date:(()=>{class g{constructor(r){this.options=r||{}}formats(){return Ao()}parse(r,s){return Ao()}format(r,s){return Ao()}add(r,s,l){return Ao()}diff(r,s,l){return Ao()}startOf(r,s,l){return Ao()}endOf(r,s){return Ao()}}return g.override=function(a){Object.assign(g.prototype,a)},g})()};function Ns(g,a){return"native"in g?{x:g.x,y:g.y}:j(g,a)}function fl(g,a,r,s){const{controller:l,data:f,_sorted:y}=g,T=l._cachedMeta.iScale;if(T&&a===T.axis&&y&&f.length){const D=T._reversePixels?us:Qr;if(!s)return D(f,a,r);if(l._sharedOptions){const k=f[0],Y="function"==typeof k.getRange&&k.getRange(a);if(Y){const ue=D(f,a,r-Y),Ie=D(f,a,r+Y);return{lo:ue.lo,hi:Ie.hi}}}}return{lo:0,hi:f.length-1}}function ns(g,a,r,s,l){const f=g.getSortedVisibleDatasetMetas(),y=r[a];for(let T=0,D=f.length;T<D;++T){const{index:k,data:Y}=f[T],{lo:ue,hi:Ie}=fl(f[T],a,y,l);for(let We=ue;We<=Ie;++We){const at=Y[We];at.skip||s(at,k,We)}}}function Za(g,a,r,s){const l=[];return So(a,g.chartArea,g._minPadding)&&ns(g,r,a,function(y,T,D){y.inRange(a.x,a.y,s)&&l.push({element:y,datasetIndex:T,index:D})},!0),l}function ha(g,a,r,s,l){const f=function(g){const a=-1!==g.indexOf("x"),r=-1!==g.indexOf("y");return function(s,l){const f=a?Math.abs(s.x-l.x):0,y=r?Math.abs(s.y-l.y):0;return Math.sqrt(Math.pow(f,2)+Math.pow(y,2))}}(r);let y=Number.POSITIVE_INFINITY,T=[];return So(a,g.chartArea,g._minPadding)&&ns(g,r,a,function(k,Y,ue){if(s&&!k.inRange(a.x,a.y,l))return;const Ie=k.getCenterPoint(l);if(!So(Ie,g.chartArea,g._minPadding)&&!k.inRange(a.x,a.y,l))return;const We=f(a,Ie);We<y?(T=[{element:k,datasetIndex:Y,index:ue}],y=We):We===y&&T.push({element:k,datasetIndex:Y,index:ue})}),T}function Ss(g,a,r,s){const l=Ns(a,g),f=[],y=r.axis,T="x"===y?"inXRange":"inYRange";let D=!1;return function(g,a){const r=g.getSortedVisibleDatasetMetas();let s,l,f;for(let y=0,T=r.length;y<T;++y){({index:s,data:l}=r[y]);for(let D=0,k=l.length;D<k;++D)f=l[D],f.skip||a(f,s,D)}}(g,(k,Y,ue)=>{k[T](l[y],s)&&f.push({element:k,datasetIndex:Y,index:ue}),k.inRange(l.x,l.y,s)&&(D=!0)}),r.intersect&&!D?[]:f}var Ds={modes:{index(g,a,r,s){const l=Ns(a,g),f=r.axis||"x",y=r.intersect?Za(g,l,f,s):ha(g,l,f,!1,s),T=[];return y.length?(g.getSortedVisibleDatasetMetas().forEach(D=>{const k=y[0].index,Y=D.data[k];Y&&!Y.skip&&T.push({element:Y,datasetIndex:D.index,index:k})}),T):[]},dataset(g,a,r,s){const l=Ns(a,g),f=r.axis||"xy";let y=r.intersect?Za(g,l,f,s):ha(g,l,f,!1,s);if(y.length>0){const T=y[0].datasetIndex,D=g.getDatasetMeta(T).data;y=[];for(let k=0;k<D.length;++k)y.push({element:D[k],datasetIndex:T,index:k})}return y},point:(g,a,r,s)=>Za(g,Ns(a,g),r.axis||"xy",s),nearest:(g,a,r,s)=>ha(g,Ns(a,g),r.axis||"xy",r.intersect,s),x:(g,a,r,s)=>Ss(g,a,{axis:"x",intersect:r.intersect},s),y:(g,a,r,s)=>Ss(g,a,{axis:"y",intersect:r.intersect},s)}};const zc=["left","top","right","bottom"];function Qa(g,a){return g.filter(r=>r.pos===a)}function eo(g,a){return g.filter(r=>-1===zc.indexOf(r.pos)&&r.box.axis===a)}function nc(g,a){return g.sort((r,s)=>{const l=a?s:r,f=a?r:s;return l.weight===f.weight?l.index-f.index:l.weight-f.weight})}function Cu(g,a,r,s){return Math.max(g[r],a[r])+Math.max(g[s],a[s])}function Xc(g,a){g.top=Math.max(g.top,a.top),g.left=Math.max(g.left,a.left),g.bottom=Math.max(g.bottom,a.bottom),g.right=Math.max(g.right,a.right)}function rc(g,a,r,s){const{pos:l,box:f}=r,y=g.maxPadding;if(!se(l)){r.size&&(g[l]-=r.size);const ue=s[r.stack]||{size:0,count:1};ue.size=Math.max(ue.size,r.horizontal?f.height:f.width),r.size=ue.size/ue.count,g[l]+=r.size}f.getPadding&&Xc(y,f.getPadding());const T=Math.max(0,a.outerWidth-Cu(y,g,"left","right")),D=Math.max(0,a.outerHeight-Cu(y,g,"top","bottom")),k=T!==g.w,Y=D!==g.h;return g.w=T,g.h=D,r.horizontal?{same:k,other:Y}:{same:Y,other:k}}function go(g,a){const r=a.maxPadding;return function(l){const f={left:0,top:0,right:0,bottom:0};return l.forEach(y=>{f[y]=Math.max(a[y],r[y])}),f}(g?["left","right"]:["top","bottom"])}function Na(g,a,r,s){const l=[];let f,y,T,D,k,Y;for(f=0,y=g.length,k=0;f<y;++f){T=g[f],D=T.box,D.update(T.width||a.w,T.height||a.h,go(T.horizontal,a));const{same:ue,other:Ie}=rc(a,r,T,s);k|=ue&&l.length,Y=Y||Ie,D.fullSize||l.push(T)}return k&&Na(l,a,r,s)||Y}function ia(g,a,r,s,l){g.top=r,g.left=a,g.right=a+s,g.bottom=r+l,g.width=s,g.height=l}function Tu(g,a,r,s){const l=r.padding;let{x:f,y}=a;for(const T of g){const D=T.box,k=s[T.stack]||{count:1,placed:0,weight:1},Y=T.stackWeight/k.weight||1;if(T.horizontal){const ue=a.w*Y,Ie=k.size||D.height;_t(k.start)&&(y=k.start),D.fullSize?ia(D,l.left,y,r.outerWidth-l.right-l.left,Ie):ia(D,a.left+k.placed,y,ue,Ie),k.start=y,k.placed+=ue,y=D.bottom}else{const ue=a.h*Y,Ie=k.size||D.width;_t(k.start)&&(f=k.start),D.fullSize?ia(D,f,l.top,Ie,r.outerHeight-l.bottom-l.top):ia(D,f,a.top+k.placed,Ie,ue),k.start=f,k.placed+=ue,f=D.right}}a.x=f,a.y=y}yn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var zo={addBox(g,a){g.boxes||(g.boxes=[]),a.fullSize=a.fullSize||!1,a.position=a.position||"top",a.weight=a.weight||0,a._layers=a._layers||function(){return[{z:0,draw(r){a.draw(r)}}]},g.boxes.push(a)},removeBox(g,a){const r=g.boxes?g.boxes.indexOf(a):-1;-1!==r&&g.boxes.splice(r,1)},configure(g,a,r){a.fullSize=r.fullSize,a.position=r.position,a.weight=r.weight},update(g,a,r,s){if(!g)return;const l=pr(g.options.layout.padding),f=Math.max(a-l.width,0),y=Math.max(r-l.height,0),T=function(g){const a=function(g){const a=[];let r,s,l,f,y,T;for(r=0,s=(g||[]).length;r<s;++r)l=g[r],({position:f,options:{stack:y,stackWeight:T=1}}=l),a.push({index:r,box:l,pos:f,horizontal:l.isHorizontal(),weight:l.weight,stack:y&&f+y,stackWeight:T});return a}(g),r=nc(a.filter(k=>k.box.fullSize),!0),s=nc(Qa(a,"left"),!0),l=nc(Qa(a,"right")),f=nc(Qa(a,"top"),!0),y=nc(Qa(a,"bottom")),T=eo(a,"x"),D=eo(a,"y");return{fullSize:r,leftAndTop:s.concat(f),rightAndBottom:l.concat(D).concat(y).concat(T),chartArea:Qa(a,"chartArea"),vertical:s.concat(l).concat(D),horizontal:f.concat(y).concat(T)}}(g.boxes),D=T.vertical,k=T.horizontal;Ge(g.boxes,yt=>{"function"==typeof yt.beforeLayout&&yt.beforeLayout()});const Y=D.reduce((yt,Dt)=>Dt.box.options&&!1===Dt.box.options.display?yt:yt+1,0)||1,ue=Object.freeze({outerWidth:a,outerHeight:r,padding:l,availableWidth:f,availableHeight:y,vBoxMaxWidth:f/2/Y,hBoxMaxHeight:y/2}),Ie=Object.assign({},l);Xc(Ie,pr(s));const We=Object.assign({maxPadding:Ie,w:f,h:y,x:l.left,y:l.top},l),at=function(g,a){const r=function(g){const a={};for(const r of g){const{stack:s,pos:l,stackWeight:f}=r;if(!s||!zc.includes(l))continue;const y=a[s]||(a[s]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=f}return a}(g),{vBoxMaxWidth:s,hBoxMaxHeight:l}=a;let f,y,T;for(f=0,y=g.length;f<y;++f){T=g[f];const{fullSize:D}=T.box,k=r[T.stack],Y=k&&T.stackWeight/k.weight;T.horizontal?(T.width=Y?Y*s:D&&a.availableWidth,T.height=l):(T.width=s,T.height=Y?Y*l:D&&a.availableHeight)}return r}(D.concat(k),ue);Na(T.fullSize,We,ue,at),Na(D,We,ue,at),Na(k,We,ue,at)&&Na(D,We,ue,at),function(g){const a=g.maxPadding;function r(s){const l=Math.max(a[s]-g[s],0);return g[s]+=l,l}g.y+=r("top"),g.x+=r("left"),r("right"),r("bottom")}(We),Tu(T.leftAndTop,We,ue,at),We.x+=We.w,We.y+=We.h,Tu(T.rightAndBottom,We,ue,at),g.chartArea={left:We.left,top:We.top,right:We.left+We.w,bottom:We.top+We.h,height:We.h,width:We.w},Ge(T.chartArea,yt=>{const Dt=yt.box;Object.assign(Dt,g.chartArea),Dt.update(We.w,We.h,{left:0,top:0,right:0,bottom:0})})}};class _s{acquireContext(a,r){}releaseContext(a){return!1}addEventListener(a,r,s){}removeEventListener(a,r,s){}getDevicePixelRatio(){return 1}getMaximumSize(a,r,s,l){return r=Math.max(0,r||a.width),s=s||a.height,{width:r,height:Math.max(0,l?Math.floor(r/l):s)}}isAttached(a){return!0}updateConfig(a){}}class pa extends _s{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}}const Fa="$chartjs",na={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kl=g=>null===g||""===g,$c=!!Ot&&{passive:!0};function Jc(g,a,r){g.canvas.removeEventListener(a,r,$c)}function sc(g,a){for(const r of g)if(r===a||r.contains(a))return!0}function Oo(g,a,r){const s=g.canvas,l=new MutationObserver(f=>{let y=!1;for(const T of f)y=y||sc(T.addedNodes,s),y=y&&!sc(T.removedNodes,s);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}function Zc(g,a,r){const s=g.canvas,l=new MutationObserver(f=>{let y=!1;for(const T of f)y=y||sc(T.removedNodes,s),y=y&&!sc(T.addedNodes,s);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}const Ma=new Map;let Qu=0;function Ba(){const g=window.devicePixelRatio;g!==Qu&&(Qu=g,Ma.forEach((a,r)=>{r.currentDevicePixelRatio!==g&&a()}))}function rs(g,a,r){const s=g.canvas,l=s&&Ws(s);if(!l)return;const f=ae((T,D)=>{const k=l.clientWidth;r(T,D),k<l.clientWidth&&r()},window),y=new ResizeObserver(T=>{const D=T[0],k=D.contentRect.width,Y=D.contentRect.height;0===k&&0===Y||f(k,Y)});return y.observe(l),function(g,a){Ma.size||window.addEventListener("resize",Ba),Ma.set(g,a)}(g,f),y}function Pl(g,a,r){r&&r.disconnect(),"resize"===a&&function(g){Ma.delete(g),Ma.size||window.removeEventListener("resize",Ba)}(g)}function Un(g,a,r){const s=g.canvas,l=ae(f=>{null!==g.ctx&&r(function(g,a){const r=na[g.type]||g.type,{x:s,y:l}=j(g,a);return{type:r,chart:a,native:g,x:void 0!==s?s:null,y:void 0!==l?l:null}}(f,g))},g,f=>{const y=f[0];return[y,y.offsetX,y.offsetY]});return function(g,a,r){g.addEventListener(a,r,$c)}(s,a,l),l}class bc extends _s{acquireContext(a,r){const s=a&&a.getContext&&a.getContext("2d");return s&&s.canvas===a?(function(g,a){const r=g.style,s=g.getAttribute("height"),l=g.getAttribute("width");if(g[Fa]={initial:{height:s,width:l,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",kl(l)){const f=ii(g,"width");void 0!==f&&(g.width=f)}if(kl(s))if(""===g.style.height)g.height=g.width/(a||2);else{const f=ii(g,"height");void 0!==f&&(g.height=f)}}(a,r),s):null}releaseContext(a){const r=a.canvas;if(!r[Fa])return!1;const s=r[Fa].initial;["height","width"].forEach(f=>{const y=s[f];ce(y)?r.removeAttribute(f):r.setAttribute(f,y)});const l=s.style||{};return Object.keys(l).forEach(f=>{r.style[f]=l[f]}),r.width=r.width,delete r[Fa],!0}addEventListener(a,r,s){this.removeEventListener(a,r),(a.$proxies||(a.$proxies={}))[r]=({attach:Oo,detach:Zc,resize:rs}[r]||Un)(a,r,s)}removeEventListener(a,r){const s=a.$proxies||(a.$proxies={}),l=s[r];l&&(({attach:Pl,detach:Pl,resize:Pl}[r]||Jc)(a,r,l),s[r]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(a,r,s,l){return function(g,a,r,s){const l=Uo(g),f=xn(l,"margin"),y=Vo(l.maxWidth,g,"clientWidth")||zt,T=Vo(l.maxHeight,g,"clientHeight")||zt,D=function(g,a,r){let s,l;if(void 0===a||void 0===r){const f=Ws(g);if(f){const y=f.getBoundingClientRect(),T=Uo(f),D=xn(T,"border","width"),k=xn(T,"padding");a=y.width-k.width-D.width,r=y.height-k.height-D.height,s=Vo(T.maxWidth,f,"clientWidth"),l=Vo(T.maxHeight,f,"clientHeight")}else a=g.clientWidth,r=g.clientHeight}return{width:a,height:r,maxWidth:s||zt,maxHeight:l||zt}}(g,a,r);let{width:k,height:Y}=D;if("content-box"===l.boxSizing){const ue=xn(l,"border","width"),Ie=xn(l,"padding");k-=Ie.width+ue.width,Y-=Ie.height+ue.height}return k=Math.max(0,k-f.width),Y=Math.max(0,s?Math.floor(k/s):Y-f.height),k=je(Math.min(k,y,D.maxWidth)),Y=je(Math.min(Y,T,D.maxHeight)),k&&!Y&&(Y=je(k/2)),{width:k,height:Y}}(a,r,s,l)}isAttached(a){const r=Ws(a);return!(!r||!r.isConnected)}}class Fs{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(a){const{x:r,y:s}=this.getProps(["x","y"],a);return{x:r,y:s}}hasValue(){return Ae(this.x)&&Ae(this.y)}getProps(a,r){const s=this.$animations;if(!r||!s)return this;const l={};return a.forEach(f=>{l[f]=s[f]&&s[f].active()?s[f]._to:this[f]}),l}}Fs.defaults={},Fs.defaultRoutes=void 0;const yc={values:g=>q(g)?g:""+g,numeric(g,a,r){if(0===g)return"0";const s=this.chart.options.locale;let l,f=g;if(r.length>1){const k=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(k<1e-4||k>1e15)&&(l="scientific"),f=function(g,a){let r=a.length>3?a[2].value-a[1].value:a[1].value-a[0].value;return Math.abs(r)>=1&&g!==Math.floor(g)&&(r=g-Math.floor(g)),r}(g,r)}const y=Ze(Math.abs(f)),T=Math.max(Math.min(-1*Math.floor(y),20),0),D={notation:l,minimumFractionDigits:T,maximumFractionDigits:T};return Object.assign(D,this.options.ticks.format),en(g,s,D)},logarithmic(g,a,r){if(0===g)return"0";const s=g/Math.pow(10,Math.floor(Ze(g)));return 1===s||2===s||5===s?yc.numeric.call(this,g,a,r):""}};var ml={formatters:yc};function vs(g,a,r,s,l){const f=oe(s,0),y=Math.min(oe(l,g.length),g.length);let D,k,Y,T=0;for(r=Math.ceil(r),l&&(D=l-s,r=D/Math.floor(D/r)),Y=f;Y<0;)T++,Y=Math.round(f+T*r);for(k=Math.max(f,0);k<y;k++)k===Y&&(a.push(g[k]),T++,Y=Math.round(f+T*r))}yn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(g,a)=>a.lineWidth,tickColor:(g,a)=>a.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ml.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),yn.route("scale.ticks","color","","color"),yn.route("scale.grid","color","","borderColor"),yn.route("scale.grid","borderColor","","borderColor"),yn.route("scale.title","color","","color"),yn.describe("scale",{_fallback:!1,_scriptable:g=>!g.startsWith("before")&&!g.startsWith("after")&&"callback"!==g&&"parser"!==g,_indexable:g=>"borderDash"!==g&&"tickBorderDash"!==g}),yn.describe("scales",{_fallback:"scale"}),yn.describe("scale.ticks",{_scriptable:g=>"backdropPadding"!==g&&"callback"!==g,_indexable:g=>"backdropPadding"!==g});const Fl=(g,a,r)=>"top"===a||"left"===a?g[a]+r:g[a]-r;function so(g,a){const r=[],s=g.length/a,l=g.length;let f=0;for(;f<l;f+=s)r.push(g[Math.floor(f)]);return r}function Bl(g,a,r){const s=g.ticks.length,l=Math.min(a,s-1),f=g._startPixel,y=g._endPixel,T=1e-6;let k,D=g.getPixelForTick(l);if(!(r&&(k=1===s?Math.max(D-f,y-D):0===a?(g.getPixelForTick(1)-D)/2:(D-g.getPixelForTick(l-1))/2,D+=l<a?k:-k,D<f-T||D>y+T)))return D}function xa(g){return g.drawTicks?g.tickLength:0}function vl(g,a){if(!g.display)return 0;const r=Dr(g.font,a),s=pr(g.padding);return(q(g.text)?g.text.length:1)*r.lineHeight+s.height}function td(g,a,r){let s=fe(g);return(r&&"right"!==a||!r&&"right"===a)&&(s=(g=>"left"===g?"right":"right"===g?"left":g)(s)),s}class Ys extends Fs{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,r){return a}getUserBounds(){let{_userMin:a,_userMax:r,_suggestedMin:s,_suggestedMax:l}=this;return a=Pe(a,Number.POSITIVE_INFINITY),r=Pe(r,Number.NEGATIVE_INFINITY),s=Pe(s,Number.POSITIVE_INFINITY),l=Pe(l,Number.NEGATIVE_INFINITY),{min:Pe(a,s),max:Pe(r,l),minDefined:ne(a),maxDefined:ne(r)}}getMinMax(a){let y,{min:r,max:s,minDefined:l,maxDefined:f}=this.getUserBounds();if(l&&f)return{min:r,max:s};const T=this.getMatchingVisibleMetas();for(let D=0,k=T.length;D<k;++D)y=T[D].controller.getMinMax(this,a),l||(r=Math.min(r,y.min)),f||(s=Math.max(s,y.max));return r=f&&r>s?s:r,s=l&&r>s?r:s,{min:Pe(r,Pe(s,r)),max:Pe(s,Pe(r,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ie(this.options.beforeUpdate,[this])}update(a,r,s){const{beginAtZero:l,grace:f,ticks:y}=this.options,T=y.sampleSize;this.beforeUpdate(),this.maxWidth=a,this.maxHeight=r,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(g,a,r){const{min:s,max:l}=g,f=te(a,(l-s)/2),y=(T,D)=>r&&0===T?0:T+D;return{min:y(s,-Math.abs(f)),max:y(l,f)}}(this,f,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const D=T<this.ticks.length;this._convertTicksToLabels(D?so(this.ticks,T):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||"auto"===y.source)&&(this.ticks=function(g,a){const r=g.options.ticks,s=r.maxTicksLimit||function(g){const a=g.options.offset,r=g._tickSize();return Math.floor(Math.min(g._length/r+(a?0:1),g._maxLength/r))}(g),l=r.major.enabled?function(g){const a=[];let r,s;for(r=0,s=g.length;r<s;r++)g[r].major&&a.push(r);return a}(a):[],f=l.length,y=l[0],T=l[f-1],D=[];if(f>s)return function(g,a,r,s){let y,l=0,f=r[0];for(s=Math.ceil(s),y=0;y<g.length;y++)y===f&&(a.push(g[y]),l++,f=r[l*s])}(a,D,l,f/s),D;const k=function(g,a,r){const s=function(g){const a=g.length;let r,s;if(a<2)return!1;for(s=g[0],r=1;r<a;++r)if(g[r]-g[r-1]!==s)return!1;return s}(g),l=a.length/r;if(!s)return Math.max(l,1);const f=function(g){const a=[],r=Math.sqrt(g);let s;for(s=1;s<r;s++)g%s==0&&(a.push(s),a.push(g/s));return r===(0|r)&&a.push(r),a.sort((l,f)=>l-f).pop(),a}(s);for(let y=0,T=f.length-1;y<T;y++){const D=f[y];if(D>l)return D}return Math.max(l,1)}(l,a,s);if(f>0){let Y,ue;const Ie=f>1?Math.round((T-y)/(f-1)):null;for(vs(a,D,k,ce(Ie)?0:y-Ie,y),Y=0,ue=f-1;Y<ue;Y++)vs(a,D,k,l[Y],l[Y+1]);return vs(a,D,k,T,ce(Ie)?a.length:T+Ie),D}return vs(a,D,k),D}(this,this.ticks),this._labelSizes=null),D&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let r,s,a=this.options.reverse;this.isHorizontal()?(r=this.left,s=this.right):(r=this.top,s=this.bottom,a=!a),this._startPixel=r,this._endPixel=s,this._reversePixels=a,this._length=s-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ie(this.options.afterUpdate,[this])}beforeSetDimensions(){ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ie(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),ie(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(a){const r=this.options.ticks;let s,l,f;for(s=0,l=a.length;s<l;s++)f=a[s],f.label=ie(r.callback,[f.value,s,a],this)}afterTickToLabelConversion(){ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const a=this.options,r=a.ticks,s=this.ticks.length,l=r.minRotation||0,f=r.maxRotation;let T,D,k,y=l;if(!this._isVisible()||!r.display||l>=f||s<=1||!this.isHorizontal())return void(this.labelRotation=l);const Y=this._getLabelSizes(),ue=Y.widest.width,Ie=Y.highest.height,We=ut(this.chart.width-ue,0,this.maxWidth);T=a.offset?this.maxWidth/s:We/(s-1),ue+6>T&&(T=We/(s-(a.offset?.5:1)),D=this.maxHeight-xa(a.grid)-r.padding-vl(a.title,this.chart.options.font),k=Math.sqrt(ue*ue+Ie*Ie),y=li(Math.min(Math.asin(ut((Y.highest.height+6)/T,-1,1)),Math.asin(ut(D/k,-1,1))-Math.asin(ut(Ie/k,-1,1)))),y=Math.max(l,Math.min(f,y))),this.labelRotation=y}afterCalculateLabelRotation(){ie(this.options.afterCalculateLabelRotation,[this])}beforeFit(){ie(this.options.beforeFit,[this])}fit(){const a={width:0,height:0},{chart:r,options:{ticks:s,title:l,grid:f}}=this,y=this._isVisible(),T=this.isHorizontal();if(y){const D=vl(l,r.options.font);if(T?(a.width=this.maxWidth,a.height=xa(f)+D):(a.height=this.maxHeight,a.width=xa(f)+D),s.display&&this.ticks.length){const{first:k,last:Y,widest:ue,highest:Ie}=this._getLabelSizes(),We=2*s.padding,at=Zt(this.labelRotation),yt=Math.cos(at),Dt=Math.sin(at);T?a.height=Math.min(this.maxHeight,a.height+(s.mirror?0:Dt*ue.width+yt*Ie.height)+We):a.width=Math.min(this.maxWidth,a.width+(s.mirror?0:yt*ue.width+Dt*Ie.height)+We),this._calculatePadding(k,Y,Dt,yt)}}this._handleMargins(),T?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,r,s,l){const{ticks:{align:f,padding:y},position:T}=this.options,D=0!==this.labelRotation,k="top"!==T&&"x"===this.axis;if(this.isHorizontal()){const Y=this.getPixelForTick(0)-this.left,ue=this.right-this.getPixelForTick(this.ticks.length-1);let Ie=0,We=0;D?k?(Ie=l*a.width,We=s*r.height):(Ie=s*a.height,We=l*r.width):"start"===f?We=r.width:"end"===f?Ie=a.width:(Ie=a.width/2,We=r.width/2),this.paddingLeft=Math.max((Ie-Y+y)*this.width/(this.width-Y),0),this.paddingRight=Math.max((We-ue+y)*this.width/(this.width-ue),0)}else{let Y=r.height/2,ue=a.height/2;"start"===f?(Y=0,ue=a.height):"end"===f&&(Y=r.height,ue=0),this.paddingTop=Y+y,this.paddingBottom=ue+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ie(this.options.afterFit,[this])}isHorizontal(){const{axis:a,position:r}=this.options;return"top"===r||"bottom"===r||"x"===a}isFullSize(){return this.options.fullSize}_convertTicksToLabels(a){let r,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(a),r=0,s=a.length;r<s;r++)ce(a[r].label)&&(a.splice(r,1),s--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){const r=this.options.ticks.sampleSize;let s=this.ticks;r<s.length&&(s=so(s,r)),this._labelSizes=a=this._computeLabelSizes(s,s.length)}return a}_computeLabelSizes(a,r){const{ctx:s,_longestTextCache:l}=this,f=[],y=[];let k,Y,ue,Ie,We,at,yt,Dt,At,ai,Ni,T=0,D=0;for(k=0;k<r;++k){if(Ie=a[k].label,We=this._resolveTickFontOptions(k),s.font=at=We.string,yt=l[at]=l[at]||{data:{},gc:[]},Dt=We.lineHeight,At=ai=0,ce(Ie)||q(Ie)){if(q(Ie))for(Y=0,ue=Ie.length;Y<ue;++Y)Ni=Ie[Y],!ce(Ni)&&!q(Ni)&&(At=qn(s,yt.data,yt.gc,At,Ni),ai+=Dt)}else At=qn(s,yt.data,yt.gc,At,Ie),ai=Dt;f.push(At),y.push(ai),T=Math.max(At,T),D=Math.max(ai,D)}!function(g,a){Ge(g,r=>{const s=r.gc,l=s.length/2;let f;if(l>a){for(f=0;f<l;++f)delete r.data[s[f]];s.splice(0,l)}})}(l,r);const yi=f.indexOf(T),Si=y.indexOf(D),ji=zi=>({width:f[zi]||0,height:y[zi]||0});return{first:ji(0),last:ji(r-1),widest:ji(yi),highest:ji(Si),widths:f,heights:y}}getLabelForValue(a){return a}getPixelForValue(a,r){return NaN}getValueForPixel(a){}getPixelForTick(a){const r=this.ticks;return a<0||a>r.length-1?null:this.getPixelForValue(r[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);const r=this._startPixel+a*this._length;return ut(this._alignToPixels?as(this.chart,r,0):r,-32768,32767)}getDecimalForPixel(a){const r=(a-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:a,max:r}=this;return a<0&&r<0?r:a>0&&r>0?a:0}getContext(a){const r=this.ticks||[];if(a>=0&&a<r.length){const s=r[a];return s.$context||(s.$context=function(g,a,r){return xo(g,{tick:r,index:a,type:"tick"})}(this.getContext(),a,s))}return this.$context||(this.$context=function(g,a){return xo(g,{scale:a,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const a=this.options.ticks,r=Zt(this.labelRotation),s=Math.abs(Math.cos(r)),l=Math.abs(Math.sin(r)),f=this._getLabelSizes(),y=a.autoSkipPadding||0,T=f?f.widest.width+y:0,D=f?f.highest.height+y:0;return this.isHorizontal()?D*s>T*l?T/s:D/l:D*l<T*s?D/s:T/l}_isVisible(){const a=this.options.display;return"auto"!==a?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(a){const r=this.axis,s=this.chart,l=this.options,{grid:f,position:y}=l,T=f.offset,D=this.isHorizontal(),Y=this.ticks.length+(T?1:0),ue=xa(f),Ie=[],We=f.setContext(this.getContext()),at=We.drawBorder?We.borderWidth:0,yt=at/2,Dt=function(Yi){return as(s,Yi,at)};let At,ai,Ni,yi,Si,ji,zi,qi,an,zn,sn,Yn;if("top"===y)At=Dt(this.bottom),ji=this.bottom-ue,qi=At-yt,zn=Dt(a.top)+yt,Yn=a.bottom;else if("bottom"===y)At=Dt(this.top),zn=a.top,Yn=Dt(a.bottom)-yt,ji=At+yt,qi=this.top+ue;else if("left"===y)At=Dt(this.right),Si=this.right-ue,zi=At-yt,an=Dt(a.left)+yt,sn=a.right;else if("right"===y)At=Dt(this.left),an=a.left,sn=Dt(a.right)-yt,Si=At+yt,zi=this.left+ue;else if("x"===r){if("center"===y)At=Dt((a.top+a.bottom)/2+.5);else if(se(y)){const Yi=Object.keys(y)[0];At=Dt(this.chart.scales[Yi].getPixelForValue(y[Yi]))}zn=a.top,Yn=a.bottom,ji=At+yt,qi=ji+ue}else if("y"===r){if("center"===y)At=Dt((a.left+a.right)/2);else if(se(y)){const Yi=Object.keys(y)[0];At=Dt(this.chart.scales[Yi].getPixelForValue(y[Yi]))}Si=At-yt,zi=Si-ue,an=a.left,sn=a.right}const Or=oe(l.ticks.maxTicksLimit,Y),Xi=Math.max(1,Math.ceil(Y/Or));for(ai=0;ai<Y;ai+=Xi){const Yi=f.setContext(this.getContext(ai)),Sn=Yi.lineWidth,Xr=Yi.color,nr=f.borderDash||[],Gr=Yi.borderDashOffset,xd=Yi.tickWidth,Ai=Yi.tickColor,fn=Yi.tickBorderDash||[],Ir=Yi.tickBorderDashOffset;Ni=Bl(this,ai,T),void 0!==Ni&&(yi=as(s,Ni,Sn),D?Si=zi=an=sn=yi:ji=qi=zn=Yn=yi,Ie.push({tx1:Si,ty1:ji,tx2:zi,ty2:qi,x1:an,y1:zn,x2:sn,y2:Yn,width:Sn,color:Xr,borderDash:nr,borderDashOffset:Gr,tickWidth:xd,tickColor:Ai,tickBorderDash:fn,tickBorderDashOffset:Ir}))}return this._ticksLength=Y,this._borderValue=At,Ie}_computeLabelItems(a){const r=this.axis,s=this.options,{position:l,ticks:f}=s,y=this.isHorizontal(),T=this.ticks,{align:D,crossAlign:k,padding:Y,mirror:ue}=f,Ie=xa(s.grid),We=Ie+Y,at=ue?-Y:We,yt=-Zt(this.labelRotation),Dt=[];let At,ai,Ni,yi,Si,ji,zi,qi,an,zn,sn,Yn,Or="middle";if("top"===l)ji=this.bottom-at,zi=this._getXAxisLabelAlignment();else if("bottom"===l)ji=this.top+at,zi=this._getXAxisLabelAlignment();else if("left"===l){const Yi=this._getYAxisLabelAlignment(Ie);zi=Yi.textAlign,Si=Yi.x}else if("right"===l){const Yi=this._getYAxisLabelAlignment(Ie);zi=Yi.textAlign,Si=Yi.x}else if("x"===r){if("center"===l)ji=(a.top+a.bottom)/2+We;else if(se(l)){const Yi=Object.keys(l)[0];ji=this.chart.scales[Yi].getPixelForValue(l[Yi])+We}zi=this._getXAxisLabelAlignment()}else if("y"===r){if("center"===l)Si=(a.left+a.right)/2-We;else if(se(l)){const Yi=Object.keys(l)[0];Si=this.chart.scales[Yi].getPixelForValue(l[Yi])}zi=this._getYAxisLabelAlignment(Ie).textAlign}"y"===r&&("start"===D?Or="top":"end"===D&&(Or="bottom"));const Xi=this._getLabelSizes();for(At=0,ai=T.length;At<ai;++At){Ni=T[At],yi=Ni.label;const Yi=f.setContext(this.getContext(At));qi=this.getPixelForTick(At)+f.labelOffset,an=this._resolveTickFontOptions(At),zn=an.lineHeight,sn=q(yi)?yi.length:1;const Sn=sn/2,Xr=Yi.color,nr=Yi.textStrokeColor,Gr=Yi.textStrokeWidth;let xd;if(y?(Si=qi,Yn="top"===l?"near"===k||0!==yt?-sn*zn+zn/2:"center"===k?-Xi.highest.height/2-Sn*zn+zn:zn/2-Xi.highest.height:"near"===k||0!==yt?zn/2:"center"===k?Xi.highest.height/2-Sn*zn:Xi.highest.height-sn*zn,ue&&(Yn*=-1)):(ji=qi,Yn=(1-sn)*zn/2),Yi.showLabelBackdrop){const Ai=pr(Yi.backdropPadding),fn=Xi.heights[At],Ir=Xi.widths[At];let Us=ji+Yn-Ai.top,Ml=Si-Ai.left;switch(Or){case"middle":Us-=fn/2;break;case"bottom":Us-=fn}switch(zi){case"center":Ml-=Ir/2;break;case"right":Ml-=Ir}xd={left:Ml,top:Us,width:Ir+Ai.width,height:fn+Ai.height,color:Yi.backdropColor}}Dt.push({rotation:yt,label:yi,font:an,color:Xr,strokeColor:nr,strokeWidth:Gr,textOffset:Yn,textAlign:zi,textBaseline:Or,translation:[Si,ji],backdrop:xd})}return Dt}_getXAxisLabelAlignment(){const{position:a,ticks:r}=this.options;if(-Zt(this.labelRotation))return"top"===a?"left":"right";let l="center";return"start"===r.align?l="left":"end"===r.align&&(l="right"),l}_getYAxisLabelAlignment(a){const{position:r,ticks:{crossAlign:s,mirror:l,padding:f}}=this.options,T=a+f,D=this._getLabelSizes().widest.width;let k,Y;return"left"===r?l?(Y=this.right+f,"near"===s?k="left":"center"===s?(k="center",Y+=D/2):(k="right",Y+=D)):(Y=this.right-T,"near"===s?k="right":"center"===s?(k="center",Y-=D/2):(k="left",Y=this.left)):"right"===r?l?(Y=this.left+f,"near"===s?k="right":"center"===s?(k="center",Y-=D/2):(k="left",Y-=D)):(Y=this.left+T,"near"===s?k="left":"center"===s?(k="center",Y+=D/2):(k="right",Y=this.right)):k="right",{textAlign:k,x:Y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const a=this.chart,r=this.options.position;return"left"===r||"right"===r?{top:0,left:this.left,bottom:a.height,right:this.right}:"top"===r||"bottom"===r?{top:this.top,left:0,bottom:this.bottom,right:a.width}:void 0}drawBackground(){const{ctx:a,options:{backgroundColor:r},left:s,top:l,width:f,height:y}=this;r&&(a.save(),a.fillStyle=r,a.fillRect(s,l,f,y),a.restore())}getLineWidthForValue(a){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const l=this.ticks.findIndex(f=>f.value===a);return l>=0?r.setContext(this.getContext(l)).lineWidth:0}drawGrid(a){const r=this.options.grid,s=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(a));let f,y;const T=(D,k,Y)=>{!Y.width||!Y.color||(s.save(),s.lineWidth=Y.width,s.strokeStyle=Y.color,s.setLineDash(Y.borderDash||[]),s.lineDashOffset=Y.borderDashOffset,s.beginPath(),s.moveTo(D.x,D.y),s.lineTo(k.x,k.y),s.stroke(),s.restore())};if(r.display)for(f=0,y=l.length;f<y;++f){const D=l[f];r.drawOnChartArea&&T({x:D.x1,y:D.y1},{x:D.x2,y:D.y2},D),r.drawTicks&&T({x:D.tx1,y:D.ty1},{x:D.tx2,y:D.ty2},{color:D.tickColor,width:D.tickWidth,borderDash:D.tickBorderDash,borderDashOffset:D.tickBorderDashOffset})}}drawBorder(){const{chart:a,ctx:r,options:{grid:s}}=this,l=s.setContext(this.getContext()),f=s.drawBorder?l.borderWidth:0;if(!f)return;const y=s.setContext(this.getContext(0)).lineWidth,T=this._borderValue;let D,k,Y,ue;this.isHorizontal()?(D=as(a,this.left,f)-f/2,k=as(a,this.right,y)+y/2,Y=ue=T):(Y=as(a,this.top,f)-f/2,ue=as(a,this.bottom,y)+y/2,D=k=T),r.save(),r.lineWidth=l.borderWidth,r.strokeStyle=l.borderColor,r.beginPath(),r.moveTo(D,Y),r.lineTo(k,ue),r.stroke(),r.restore()}drawLabels(a){if(!this.options.ticks.display)return;const s=this.ctx,l=this._computeLabelArea();l&&hr(s,l);const f=this._labelItems||(this._labelItems=this._computeLabelItems(a));let y,T;for(y=0,T=f.length;y<T;++y){const D=f[y],k=D.font,Y=D.label;D.backdrop&&(s.fillStyle=D.backdrop.color,s.fillRect(D.backdrop.left,D.backdrop.top,D.backdrop.width,D.backdrop.height)),Do(s,Y,0,D.textOffset,k,D)}l&&Jo(s)}drawTitle(){const{ctx:a,options:{position:r,title:s,reverse:l}}=this;if(!s.display)return;const f=Dr(s.font),y=pr(s.padding),T=s.align;let D=f.lineHeight/2;"bottom"===r||"center"===r||se(r)?(D+=y.bottom,q(s.text)&&(D+=f.lineHeight*(s.text.length-1))):D+=y.top;const{titleX:k,titleY:Y,maxWidth:ue,rotation:Ie}=function(g,a,r,s){const{top:l,left:f,bottom:y,right:T,chart:D}=g,{chartArea:k,scales:Y}=D;let Ie,We,at,ue=0;const yt=y-l,Dt=T-f;if(g.isHorizontal()){if(We=_e(s,f,T),se(r)){const At=Object.keys(r)[0];at=Y[At].getPixelForValue(r[At])+yt-a}else at="center"===r?(k.bottom+k.top)/2+yt-a:Fl(g,r,a);Ie=T-f}else{if(se(r)){const At=Object.keys(r)[0];We=Y[At].getPixelForValue(r[At])-Dt+a}else We="center"===r?(k.left+k.right)/2-Dt+a:Fl(g,r,a);at=_e(s,y,l),ue="left"===r?-ze:ze}return{titleX:We,titleY:at,maxWidth:Ie,rotation:ue}}(this,D,r,T);Do(a,s.text,0,0,f,{color:s.color,maxWidth:ue,rotation:Ie,textAlign:td(T,r,l),textBaseline:"middle",translation:[k,Y]})}draw(a){!this._isVisible()||(this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a))}_layers(){const a=this.options,r=a.ticks&&a.ticks.z||0,s=oe(a.grid&&a.grid.z,-1);return this._isVisible()&&this.draw===Ys.prototype.draw?[{z:s,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:s+1,draw:()=>{this.drawBorder()}},{z:r,draw:l=>{this.drawLabels(l)}}]:[{z:r,draw:l=>{this.draw(l)}}]}getMatchingVisibleMetas(a){const r=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",l=[];let f,y;for(f=0,y=r.length;f<y;++f){const T=r[f];T[s]===this.id&&(!a||T.type===a)&&l.push(T)}return l}_resolveTickFontOptions(a){return Dr(this.options.ticks.setContext(this.getContext(a)).font)}_maxDigits(){const a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}}class tl{constructor(a,r,s){this.type=a,this.scope=r,this.override=s,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){const r=Object.getPrototypeOf(a);let s;var g;"id"in(g=r)&&"defaults"in g&&(s=this.register(r));const l=this.items,f=a.id,y=this.scope+"."+f;if(!f)throw new Error("class does not have id: "+a);return f in l||(l[f]=a,function(g,a,r){const s=ht(Object.create(null),[r?yn.get(r):{},yn.get(a),g.defaults]);yn.set(a,s),g.defaultRoutes&&function(g,a){Object.keys(a).forEach(r=>{const s=r.split("."),l=s.pop(),f=[g].concat(s).join("."),y=a[r].split("."),T=y.pop(),D=y.join(".");yn.route(f,l,D,T)})}(a,g.defaultRoutes),g.descriptors&&yn.describe(a,g.descriptors)}(a,y,s),this.override&&yn.override(a.id,a.overrides)),y}get(a){return this.items[a]}unregister(a){const r=this.items,s=a.id,l=this.scope;s in r&&delete r[s],l&&s in yn[l]&&(delete yn[l][s],this.override&&delete Zr[s])}}var Xs=new class{constructor(){this.controllers=new tl(Ps,"datasets",!0),this.elements=new tl(Fs,"elements"),this.plugins=new tl(Object,"plugins"),this.scales=new tl(Ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,r,s){[...r].forEach(l=>{const f=s||this._getRegistryForType(l);s||f.isForType(l)||f===this.plugins&&l.id?this._exec(a,f,l):Ge(l,y=>{const T=s||this._getRegistryForType(y);this._exec(a,T,y)})})}_exec(a,r,s){const l=Ne(a);ie(s["before"+l],[],s),r[a](s),ie(s["after"+l],[],s)}_getRegistryForType(a){for(let r=0;r<this._typedRegistries.length;r++){const s=this._typedRegistries[r];if(s.isForType(a))return s}return this.plugins}_get(a,r,s){const l=r.get(a);if(void 0===l)throw new Error('"'+a+'" is not a registered '+s+".");return l}};class wc{constructor(){this._init=[]}notify(a,r,s,l){"beforeInit"===r&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));const f=l?this._descriptors(a).filter(l):this._descriptors(a),y=this._notify(f,a,r,s);return"destroy"===r&&(this._notify(f,a,"stop"),this._notify(this._init,a,"uninstall")),y}_notify(a,r,s,l){l=l||{};for(const f of a){const y=f.plugin;if(!1===ie(y[s],[r,l,f.options],y)&&l.cancelable)return!1}return!0}invalidate(){ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),r}_createDescriptors(a,r){const s=a&&a.config,l=oe(s.options&&s.options.plugins,{}),f=function(g){const a=[],r=Object.keys(Xs.plugins.items);for(let l=0;l<r.length;l++)a.push(Xs.getPlugin(r[l]));const s=g.plugins||[];for(let l=0;l<s.length;l++){const f=s[l];-1===a.indexOf(f)&&a.push(f)}return a}(s);return!1!==l||r?function(g,a,r,s){const l=[],f=g.getContext();for(let y=0;y<a.length;y++){const T=a[y],k=_r(r[T.id],s);null!==k&&l.push({plugin:T,options:bl(g.config,T,k,f)})}return l}(a,f,l,r):[]}_notifyStateChanges(a){const r=this._oldCache||[],s=this._cache,l=(f,y)=>f.filter(T=>!y.some(D=>T.plugin.id===D.plugin.id));this._notify(l(r,s),a,"stop"),this._notify(l(s,r),a,"start")}}function _r(g,a){return a||!1!==g?!0===g?{}:g:null}function bl(g,a,r,s){const l=g.pluginScopeKeys(a),f=g.getOptionScopes(r,l);return g.createResolver(f,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lc(g,a){return((a.datasets||{})[g]||{}).indexAxis||a.indexAxis||(yn.datasets[g]||{}).indexAxis||"x"}function Ra(g,a){return"x"===g||"y"===g?g:a.axis||function(g){return"top"===g||"bottom"===g?"x":"left"===g||"right"===g?"y":void 0}(a.position)||g.charAt(0).toLowerCase()}function Mu(g){const a=g.options||(g.options={});a.plugins=oe(a.plugins,{}),a.scales=function(g,a){const r=Zr[g.type]||{scales:{}},s=a.scales||{},l=lc(g.type,a),f=Object.create(null),y=Object.create(null);return Object.keys(s).forEach(T=>{const D=s[T];if(!se(D))return console.error(`Invalid scale configuration for scale: ${T}`);if(D._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${T}`);const k=Ra(T,D),Y=function(g,a){return g===a?"_index_":"_value_"}(k,l),ue=r.scales||{};f[k]=f[k]||T,y[T]=Bt(Object.create(null),[{axis:k},D,ue[k],ue[Y]])}),g.data.datasets.forEach(T=>{const D=T.type||g.type,k=T.indexAxis||lc(D,a),ue=(Zr[D]||{}).scales||{};Object.keys(ue).forEach(Ie=>{const We=function(g,a){let r=g;return"_index_"===g?r=a:"_value_"===g&&(r="x"===a?"y":"x"),r}(Ie,k),at=T[We+"AxisID"]||f[We]||We;y[at]=y[at]||Object.create(null),Bt(y[at],[{axis:We},s[at],ue[Ie]])})}),Object.keys(y).forEach(T=>{const D=y[T];Bt(D,[yn.scales[D.type],yn.scale])}),y}(g,a)}function xu(g){return(g=g||{}).datasets=g.datasets||[],g.labels=g.labels||[],g}const il=new Map,fa=new Set;function uc(g,a){let r=il.get(g);return r||(r=a(),il.set(g,r),fa.add(r)),r}const Gl=(g,a,r)=>{const s=ri(a,r);void 0!==s&&g.add(s)};class nd{constructor(a){var g;this._config=((g=(g=a)||{}).data=xu(g.data),Mu(g),g),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=xu(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){const a=this._config;this.clearCache(),Mu(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return uc(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,r){return uc(`${a}.transition.${r}`,()=>[[`datasets.${a}.transitions.${r}`,`transitions.${r}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,r){return uc(`${a}-${r}`,()=>[[`datasets.${a}.elements.${r}`,`datasets.${a}`,`elements.${r}`,""]])}pluginScopeKeys(a){const r=a.id;return uc(`${this.type}-plugin-${r}`,()=>[[`plugins.${r}`,...a.additionalOptionScopes||[]]])}_cachedScopes(a,r){const s=this._scopeCache;let l=s.get(a);return(!l||r)&&(l=new Map,s.set(a,l)),l}getOptionScopes(a,r,s){const{options:l,type:f}=this,y=this._cachedScopes(a,s),T=y.get(r);if(T)return T;const D=new Set;r.forEach(Y=>{a&&(D.add(a),Y.forEach(ue=>Gl(D,a,ue))),Y.forEach(ue=>Gl(D,l,ue)),Y.forEach(ue=>Gl(D,Zr[f]||{},ue)),Y.forEach(ue=>Gl(D,yn,ue)),Y.forEach(ue=>Gl(D,Ar,ue))});const k=Array.from(D);return 0===k.length&&k.push(Object.create(null)),fa.has(r)&&y.set(r,k),k}chartOptionScopes(){const{options:a,type:r}=this;return[a,Zr[r]||{},yn.datasets[r]||{},{type:r},yn,Ar]}resolveNamedOptions(a,r,s,l=[""]){const f={$shared:!0},{resolver:y,subPrefixes:T}=yl(this._resolverCache,a,l);let D=y;(function(g,a){const{isScriptable:r,isIndexable:s}=js(g);for(const l of a){const f=r(l),y=s(l),T=(y||f)&&g[l];if(f&&(Ke(T)||nl(T))||y&&q(T))return!0}return!1})(y,r)&&(f.$shared=!1,D=fr(y,s=Ke(s)?s():s,this.createResolver(a,s,T)));for(const k of r)f[k]=D[k];return f}createResolver(a,r,s=[""],l){const{resolver:f}=yl(this._resolverCache,a,s);return se(r)?fr(f,r,void 0,l):f}}function yl(g,a,r){let s=g.get(a);s||(s=new Map,g.set(a,s));const l=r.join();let f=s.get(l);return f||(f={resolver:ds(a,r),subPrefixes:r.filter(T=>!T.toLowerCase().includes("hover"))},s.set(l,f)),f}const nl=g=>se(g)&&Object.getOwnPropertyNames(g).reduce((a,r)=>a||Ke(g[r]),!1),eu=["top","bottom","left","right","chartArea"];function Va(g,a){return"top"===g||"bottom"===g||-1===eu.indexOf(g)&&"x"===a}function Ru(g,a){return function(r,s){return r[g]===s[g]?r[a]-s[a]:r[g]-s[g]}}function El(g){const a=g.chart,r=a.options.animation;a.notifyPlugins("afterRender"),ie(r&&r.onComplete,[g],a)}function Dc(g){const a=g.chart,r=a.options.animation;ie(r&&r.onProgress,[g],a)}function he(g){return qr()&&"string"==typeof g?g=document.getElementById(g):g&&g.length&&(g=g[0]),g&&g.canvas&&(g=g.canvas),g}const ye={},$e=g=>{const a=he(g);return Object.values(ye).filter(r=>r.canvas===a).pop()};function ft(g,a,r){const s=Object.keys(g);for(const l of s){const f=+l;if(f>=a){const y=g[l];delete g[l],(r>0||f>a)&&(g[f+r]=y)}}}class Tt{constructor(a,r){const s=this.config=new nd(r),l=he(a),f=$e(l);if(f)throw new Error("Canvas is already in use. Chart with ID '"+f.id+"' must be destroyed before the canvas can be reused.");const y=s.createResolver(s.chartOptionScopes(),this.getContext());var g;this.platform=new(s.platform||(g=l,!qr()||"undefined"!=typeof OffscreenCanvas&&g instanceof OffscreenCanvas?pa:bc)),this.platform.updateConfig(s);const T=this.platform.acquireContext(l,y.aspectRatio),D=T&&T.canvas,k=D&&D.height,Y=D&&D.width;this.id=Ee(),this.ctx=T,this.canvas=D,this.width=Y,this.height=k,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(g,a){let r;return function(...s){return a?(clearTimeout(r),r=setTimeout(g,a,s)):g.apply(this,s),a}}(ue=>this.update(ue),y.resizeDelay||0),this._dataChanges=[],ye[this.id]=this,T&&D?(nn.listen(this,"complete",El),nn.listen(this,"progress",Dc),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:a,maintainAspectRatio:r},width:s,height:l,_aspectRatio:f}=this;return ce(a)?r&&f?f:l?s/l:null:a}get data(){return this.config.data}set data(a){this.config.data=a}get options(){return this._options}set options(a){this.config.options=a}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xt(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nr(this.canvas,this.ctx),this}stop(){return nn.stop(this),this}resize(a,r){nn.running(this)?this._resizeBeforeDraw={width:a,height:r}:this._resize(a,r)}_resize(a,r){const s=this.options,y=this.platform.getMaximumSize(this.canvas,a,r,s.maintainAspectRatio&&this.aspectRatio),T=s.devicePixelRatio||this.platform.getDevicePixelRatio(),D=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,xt(this,T,!0)&&(this.notifyPlugins("resize",{size:y}),ie(s.onResize,[this,y],this),this.attached&&this._doResize(D)&&this.render())}ensureScalesHaveIDs(){Ge(this.options.scales||{},(s,l)=>{s.id=l})}buildOrUpdateScales(){const a=this.options,r=a.scales,s=this.scales,l=Object.keys(s).reduce((y,T)=>(y[T]=!1,y),{});let f=[];r&&(f=f.concat(Object.keys(r).map(y=>{const T=r[y],D=Ra(y,T),k="r"===D,Y="x"===D;return{options:T,dposition:k?"chartArea":Y?"bottom":"left",dtype:k?"radialLinear":Y?"category":"linear"}}))),Ge(f,y=>{const T=y.options,D=T.id,k=Ra(D,T),Y=oe(T.type,y.dtype);(void 0===T.position||Va(T.position,k)!==Va(y.dposition))&&(T.position=y.dposition),l[D]=!0;let ue=null;D in s&&s[D].type===Y?ue=s[D]:(ue=new(Xs.getScale(Y))({id:D,type:Y,ctx:this.ctx,chart:this}),s[ue.id]=ue),ue.init(T,a)}),Ge(l,(y,T)=>{y||delete s[T]}),Ge(s,y=>{zo.configure(this,y,y.options),zo.addBox(this,y)})}_updateMetasets(){const a=this._metasets,r=this.data.datasets.length,s=a.length;if(a.sort((l,f)=>l.index-f.index),s>r){for(let l=r;l<s;++l)this._destroyDatasetMeta(l);a.splice(r,s-r)}this._sortedMetasets=a.slice(0).sort(Ru("order","index"))}_removeUnreferencedMetasets(){const{_metasets:a,data:{datasets:r}}=this;a.length>r.length&&delete this._stacks,a.forEach((s,l)=>{0===r.filter(f=>f===s._dataset).length&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const a=[],r=this.data.datasets;let s,l;for(this._removeUnreferencedMetasets(),s=0,l=r.length;s<l;s++){const f=r[s];let y=this.getDatasetMeta(s);const T=f.type||this.config.type;if(y.type&&y.type!==T&&(this._destroyDatasetMeta(s),y=this.getDatasetMeta(s)),y.type=T,y.indexAxis=f.indexAxis||lc(T,this.options),y.order=f.order||0,y.index=s,y.label=""+f.label,y.visible=this.isDatasetVisible(s),y.controller)y.controller.updateIndex(s),y.controller.linkScales();else{const D=Xs.getController(T),{datasetElementType:k,dataElementType:Y}=yn.datasets[T];Object.assign(D.prototype,{dataElementType:Xs.getElement(Y),datasetElementType:k&&Xs.getElement(k)}),y.controller=new D(this,s),a.push(y.controller)}}return this._updateMetasets(),a}_resetElements(){Ge(this.data.datasets,(a,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(a){const r=this.config;r.update();const s=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:a,cancelable:!0}))return;const f=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let T=0,D=this.data.datasets.length;T<D;T++){const{controller:k}=this.getDatasetMeta(T),Y=!l&&-1===f.indexOf(k);k.buildOrUpdateElements(Y),y=Math.max(+k.getMaxOverflow(),y)}y=this._minPadding=s.layout.autoPadding?y:0,this._updateLayout(y),l||Ge(f,T=>{T.reset()}),this._updateDatasets(a),this.notifyPlugins("afterUpdate",{mode:a}),this._layers.sort(Ru("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateScales(){Ge(this.scales,a=>{zo.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const a=this.options,r=new Set(Object.keys(this._listeners)),s=new Set(a.events);(!Je(r,s)||!!this._responsiveListeners!==a.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:a}=this,r=this._getUniformDataChanges()||[];for(const{method:s,start:l,count:f}of r)ft(a,l,"_removeElements"===s?-f:f)}_getUniformDataChanges(){const a=this._dataChanges;if(!a||!a.length)return;this._dataChanges=[];const r=this.data.datasets.length,s=f=>new Set(a.filter(y=>y[0]===f).map((y,T)=>T+","+y.splice(1).join(","))),l=s(0);for(let f=1;f<r;f++)if(!Je(l,s(f)))return;return Array.from(l).map(f=>f.split(",")).map(f=>({method:f[1],start:+f[2],count:+f[3]}))}_updateLayout(a){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;zo.update(this,this.width,this.height,a);const r=this.chartArea,s=r.width<=0||r.height<=0;this._layers=[],Ge(this.boxes,l=>{s&&"chartArea"===l.position||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,f)=>{l._idx=f}),this.notifyPlugins("afterLayout")}_updateDatasets(a){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})){for(let r=0,s=this.data.datasets.length;r<s;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,s=this.data.datasets.length;r<s;++r)this._updateDataset(r,Ke(a)?a({datasetIndex:r}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}}_updateDataset(a,r){const s=this.getDatasetMeta(a),l={meta:s,index:a,mode:r,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",l)&&(s.controller._update(r),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(nn.has(this)?this.attached&&!nn.running(this)&&nn.start(this):(this.draw(),El({chart:this})))}draw(){let a;if(this._resizeBeforeDraw){const{width:s,height:l}=this._resizeBeforeDraw;this._resize(s,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const r=this._layers;for(a=0;a<r.length&&r[a].z<=0;++a)r[a].draw(this.chartArea);for(this._drawDatasets();a<r.length;++a)r[a].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(a){const r=this._sortedMetasets,s=[];let l,f;for(l=0,f=r.length;l<f;++l){const y=r[l];(!a||y.visible)&&s.push(y)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const a=this.getSortedVisibleDatasetMetas();for(let r=a.length-1;r>=0;--r)this._drawDataset(a[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(a){const r=this.ctx,s=a._clip,l=!s.disabled,f=this.chartArea,y={meta:a,index:a.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",y)&&(l&&hr(r,{left:!1===s.left?0:f.left-s.left,right:!1===s.right?this.width:f.right+s.right,top:!1===s.top?0:f.top-s.top,bottom:!1===s.bottom?this.height:f.bottom+s.bottom}),a.controller.draw(),l&&Jo(r),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}getElementsAtEventForMode(a,r,s,l){const f=Ds.modes[r];return"function"==typeof f?f(this,a,s,l):[]}getDatasetMeta(a){const r=this.data.datasets[a],s=this._metasets;let l=s.filter(f=>f&&f._dataset===r).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:a,_dataset:r,_parsed:[],_sorted:!1},s.push(l)),l}getContext(){return this.$context||(this.$context=xo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(a){const r=this.data.datasets[a];if(!r)return!1;const s=this.getDatasetMeta(a);return"boolean"==typeof s.hidden?!s.hidden:!r.hidden}setDatasetVisibility(a,r){this.getDatasetMeta(a).hidden=!r}toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}getDataVisibility(a){return!this._hiddenIndices[a]}_updateVisibility(a,r,s){const l=s?"show":"hide",f=this.getDatasetMeta(a),y=f.controller._resolveAnimations(void 0,l);_t(r)?(f.data[r].hidden=!s,this.update()):(this.setDatasetVisibility(a,s),y.update(f,{visible:s}),this.update(T=>T.datasetIndex===a?l:void 0))}hide(a,r){this._updateVisibility(a,r,!1)}show(a,r){this._updateVisibility(a,r,!0)}_destroyDatasetMeta(a){const r=this._metasets[a];r&&r.controller&&r.controller._destroy(),delete this._metasets[a]}_stop(){let a,r;for(this.stop(),nn.remove(this),a=0,r=this.data.datasets.length;a<r;++a)this._destroyDatasetMeta(a)}destroy(){const{canvas:a,ctx:r}=this;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),Nr(a,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete ye[this.id]}toBase64Image(...a){return this.canvas.toDataURL(...a)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const a=this._listeners,r=this.platform,s=(f,y)=>{r.addEventListener(this,f,y),a[f]=y},l=(f,y,T)=>{f.offsetX=y,f.offsetY=T,this._eventHandler(f)};Ge(this.options.events,f=>s(f,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const a=this._responsiveListeners,r=this.platform,s=(D,k)=>{r.addEventListener(this,D,k),a[D]=k},l=(D,k)=>{a[D]&&(r.removeEventListener(this,D,k),delete a[D])},f=(D,k)=>{this.canvas&&this.resize(D,k)};let y;const T=()=>{l("attach",T),this.attached=!0,this.resize(),s("resize",f),s("detach",y)};y=()=>{this.attached=!1,l("resize",f),this._stop(),this._resize(0,0),s("attach",T)},r.isAttached(this.canvas)?T():y()}unbindEvents(){Ge(this._listeners,(a,r)=>{this.platform.removeEventListener(this,r,a)}),this._listeners={},Ge(this._responsiveListeners,(a,r)=>{this.platform.removeEventListener(this,r,a)}),this._responsiveListeners=void 0}updateHoverStyle(a,r,s){const l=s?"set":"remove";let f,y,T,D;for("dataset"===r&&(f=this.getDatasetMeta(a[0].datasetIndex),f.controller["_"+l+"DatasetHoverStyle"]()),T=0,D=a.length;T<D;++T){y=a[T];const k=y&&this.getDatasetMeta(y.datasetIndex).controller;k&&k[l+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(a){const r=this._active||[],s=a.map(({datasetIndex:f,index:y})=>{const T=this.getDatasetMeta(f);if(!T)throw new Error("No dataset found at index "+f);return{datasetIndex:f,element:T.data[y],index:y}});!ve(s,r)&&(this._active=s,this._updateHoverStyles(s,r))}notifyPlugins(a,r,s){return this._plugins.notify(this,a,r,s)}_updateHoverStyles(a,r,s){const l=this.options.hover,f=(D,k)=>D.filter(Y=>!k.some(ue=>Y.datasetIndex===ue.datasetIndex&&Y.index===ue.index)),y=f(r,a),T=s?a:f(a,r);y.length&&this.updateHoverStyle(y,l.mode,!1),T.length&&l.mode&&this.updateHoverStyle(T,l.mode,!0)}_eventHandler(a,r){const s={event:a,replay:r,cancelable:!0},l=y=>(y.options.events||this.options.events).includes(a.native.type);if(!1===this.notifyPlugins("beforeEvent",s,l))return;const f=this._handleEvent(a,r);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,l),(f||s.changed)&&this.render(),this}_handleEvent(a,r){const{_active:s=[],options:l}=this,f=l.hover;let T=[],D=!1,k=null;return"mouseout"!==a.type&&(T=this.getElementsAtEventForMode(a,f.mode,f,r),k="click"===a.type?this._lastEvent:a),this._lastEvent=null,So(a,this.chartArea,this._minPadding)&&(ie(l.onHover,[a,T,this],this),("mouseup"===a.type||"click"===a.type||"contextmenu"===a.type)&&ie(l.onClick,[a,T,this],this)),D=!ve(T,s),(D||r)&&(this._active=T,this._updateHoverStyles(T,s,r)),this._lastEvent=k,D}}const $t=()=>Ge(Tt.instances,g=>g._plugins.invalidate()),Mt=!0;function Vt(g,a,r){const{startAngle:s,pixelMargin:l,x:f,y,outerRadius:T,innerRadius:D}=a;let k=l/T;g.beginPath(),g.arc(f,y,T,s-k,r+k),D>l?(k=l/D,g.arc(f,y,D,r+k,s-k,!0)):g.arc(f,y,l,r+ze,s-ze),g.closePath(),g.clip()}function bi(g,a,r,s){return{x:r+g*Math.cos(a),y:s+g*Math.sin(a)}}function bn(g,a,r,s,l){const{x:f,y,startAngle:T,pixelMargin:D,innerRadius:k}=a,Y=Math.max(a.outerRadius+s+r-D,0),ue=k>0?k+s+r+D:0;let Ie=0;const We=l-T;if(s){const nr=((k>0?k-s:0)+(Y>0?Y-s:0))/2;Ie=(We-(0!==nr?We*nr/(nr+s):We))/2}const yt=(We-Math.max(.001,We*Y-r/we)/Y)/2,Dt=T+yt+Ie,At=l-yt-Ie,{outerStart:ai,outerEnd:Ni,innerStart:yi,innerEnd:Si}=function(g,a,r,s){const l=function(g){return Js(g,["outerStart","outerEnd","innerStart","innerEnd"])}(g.options.borderRadius),f=(r-a)/2,y=Math.min(f,s*a/2),T=D=>{const k=(r-Math.min(f,D))*s/2;return ut(D,0,Math.min(f,k))};return{outerStart:T(l.outerStart),outerEnd:T(l.outerEnd),innerStart:ut(l.innerStart,0,y),innerEnd:ut(l.innerEnd,0,y)}}(a,ue,Y,At-Dt),ji=Y-ai,zi=Y-Ni,qi=Dt+ai/ji,an=At-Ni/zi,zn=ue+yi,sn=ue+Si,Yn=Dt+yi/zn,Or=At-Si/sn;if(g.beginPath(),g.arc(f,y,Y,qi,an),Ni>0){const Sn=bi(zi,an,f,y);g.arc(Sn.x,Sn.y,Ni,an,At+ze)}const Xi=bi(sn,At,f,y);if(g.lineTo(Xi.x,Xi.y),Si>0){const Sn=bi(sn,Or,f,y);g.arc(Sn.x,Sn.y,Si,At+ze,Or+Math.PI)}if(g.arc(f,y,ue,At-Si/ue,Dt+yi/ue,!0),yi>0){const Sn=bi(zn,Yn,f,y);g.arc(Sn.x,Sn.y,yi,Yn+Math.PI,Dt-ze)}const Yi=bi(ji,Dt,f,y);if(g.lineTo(Yi.x,Yi.y),ai>0){const Sn=bi(ji,qi,f,y);g.arc(Sn.x,Sn.y,ai,Dt-ze,qi)}g.closePath()}Object.defineProperties(Tt,{defaults:{enumerable:Mt,value:yn},instances:{enumerable:Mt,value:ye},overrides:{enumerable:Mt,value:Zr},registry:{enumerable:Mt,value:Xs},version:{enumerable:Mt,value:"3.6.2"},getChart:{enumerable:Mt,value:$e},register:{enumerable:Mt,value:(...g)=>{Xs.add(...g),$t()}},unregister:{enumerable:Mt,value:(...g)=>{Xs.remove(...g),$t()}}});class lr extends Fs{constructor(a){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,r,s){const l=this.getProps(["x","y"],s),{angle:f,distance:y}=function(g,a){const r=a.x-g.x,s=a.y-g.y,l=Math.sqrt(r*r+s*s);let f=Math.atan2(s,r);return f<-.5*we&&(f+=Le),{angle:f,distance:l}}(l,{x:a,y:r}),{startAngle:T,endAngle:D,innerRadius:k,outerRadius:Y,circumference:ue}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),Ie=this.options.spacing/2,at=oe(ue,D-T)>=Le||oi(f,T,D),yt=ei(y,k+Ie,Y+Ie);return at&&yt}getCenterPoint(a){const{x:r,y:s,startAngle:l,endAngle:f,innerRadius:y,outerRadius:T}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],a),{offset:D,spacing:k}=this.options,Y=(l+f)/2,ue=(y+T+k+D)/2;return{x:r+Math.cos(Y)*ue,y:s+Math.sin(Y)*ue}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){const{options:r,circumference:s}=this,l=(r.offset||0)/2,f=(r.spacing||0)/2;if(this.pixelMargin="inner"===r.borderAlign?.33:0,this.fullCircles=s>Le?Math.floor(s/Le):0,0===s||this.innerRadius<0||this.outerRadius<0)return;a.save();let y=0;if(l){y=l/2;const D=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(D)*y,Math.sin(D)*y),this.circumference>=we&&(y=l)}a.fillStyle=r.backgroundColor,a.strokeStyle=r.borderColor;const T=function(g,a,r,s){const{fullCircles:l,startAngle:f,circumference:y}=a;let T=a.endAngle;if(l){bn(g,a,r,s,f+Le);for(let D=0;D<l;++D)g.fill();isNaN(y)||(T=f+y%Le,y%Le==0&&(T+=Le))}return bn(g,a,r,s,T),g.fill(),T}(a,this,y,f);(function(g,a,r,s,l){const{options:f}=a,y="inner"===f.borderAlign;!f.borderWidth||(y?(g.lineWidth=2*f.borderWidth,g.lineJoin="round"):(g.lineWidth=f.borderWidth,g.lineJoin="bevel"),a.fullCircles&&function(g,a,r){const{x:s,y:l,startAngle:f,pixelMargin:y,fullCircles:T}=a,D=Math.max(a.outerRadius-y,0),k=a.innerRadius+y;let Y;for(r&&Vt(g,a,f+Le),g.beginPath(),g.arc(s,l,k,f+Le,f,!0),Y=0;Y<T;++Y)g.stroke();for(g.beginPath(),g.arc(s,l,D,f,f+Le),Y=0;Y<T;++Y)g.stroke()}(g,a,y),y&&Vt(g,a,l),bn(g,a,r,s,l),g.stroke())})(a,this,y,f,T),a.restore()}}function tr(g,a,r=a){g.lineCap=oe(r.borderCapStyle,a.borderCapStyle),g.setLineDash(oe(r.borderDash,a.borderDash)),g.lineDashOffset=oe(r.borderDashOffset,a.borderDashOffset),g.lineJoin=oe(r.borderJoinStyle,a.borderJoinStyle),g.lineWidth=oe(r.borderWidth,a.borderWidth),g.strokeStyle=oe(r.borderColor,a.borderColor)}function vr(g,a,r){g.lineTo(r.x,r.y)}function cr(g,a,r={}){const s=g.length,{start:l=0,end:f=s-1}=r,{start:y,end:T}=a,D=Math.max(l,y),k=Math.min(f,T);return{count:s,start:D,loop:a.loop,ilen:k<D&&!(l<y&&f<y||l>T&&f>T)?s+k-D:k-D}}function ys(g,a,r,s){const{points:l,options:f}=a,{count:y,start:T,loop:D,ilen:k}=cr(l,r,s),Y=function(g){return g.stepped?$s:g.tension||"monotone"===g.cubicInterpolationMode?aa:vr}(f);let We,at,yt,{move:ue=!0,reverse:Ie}=s||{};for(We=0;We<=k;++We)at=l[(T+(Ie?k-We:We))%y],!at.skip&&(ue?(g.moveTo(at.x,at.y),ue=!1):Y(g,yt,at,Ie,f.stepped),yt=at);return D&&(at=l[(T+(Ie?k:0))%y],Y(g,yt,at,Ie,f.stepped)),!!D}function os(g,a,r,s){const l=a.points,{count:f,start:y,ilen:T}=cr(l,r,s),{move:D=!0,reverse:k}=s||{};let Ie,We,at,yt,Dt,At,Y=0,ue=0;const ai=yi=>(y+(k?T-yi:yi))%f,Ni=()=>{yt!==Dt&&(g.lineTo(Y,Dt),g.lineTo(Y,yt),g.lineTo(Y,At))};for(D&&(We=l[ai(0)],g.moveTo(We.x,We.y)),Ie=0;Ie<=T;++Ie){if(We=l[ai(Ie)],We.skip)continue;const yi=We.x,Si=We.y,ji=0|yi;ji===at?(Si<yt?yt=Si:Si>Dt&&(Dt=Si),Y=(ue*Y+yi)/++ue):(Ni(),g.lineTo(yi,Si),at=ji,ue=0,yt=Dt=Si),At=Si}Ni()}function ko(g){const a=g.options;return g._decimated||g._loop||a.tension||"monotone"===a.cubicInterpolationMode||a.stepped||a.borderDash&&a.borderDash.length?ys:os}lr.id="arc",lr.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},lr.defaultRoutes={backgroundColor:"backgroundColor"};const hh="function"==typeof Path2D;let dc=(()=>{class g extends Fs{constructor(r){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,r&&Object.assign(this,r)}updateControlPoints(r,s){const l=this.options;!l.tension&&"monotone"!==l.cubicInterpolationMode||l.stepped||this._pointsUpdated||(Zs(this._points,l,r,l.spanGaps?this._loop:this._fullLoop,s),this._pointsUpdated=!0)}set points(r){this._points=r,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(g,a){const r=g.points,s=g.options.spanGaps,l=r.length;if(!l)return[];const f=!!g._loop,{start:y,end:T}=function(g,a,r,s){let l=0,f=a-1;if(r&&!s)for(;l<a&&!g[l].skip;)l++;for(;l<a&&g[l].skip;)l++;for(l%=a,r&&(f+=l);f>l&&g[f%a].skip;)f--;return f%=a,{start:l,end:f}}(r,l,f,s);return function(g,a,r,s){return s&&s.setContext&&r?function(g,a,r,s){const l=g._chart.getContext(),f=Sa(g.options),{_datasetIndex:y,options:{spanGaps:T}}=g,D=r.length,k=[];let Y=f,ue=a[0].start,Ie=ue;function We(at,yt,Dt,At){const ai=T?-1:1;if(at!==yt){for(at+=D;r[at%D].skip;)at-=ai;for(;r[yt%D].skip;)yt+=ai;at%D!=yt%D&&(k.push({start:at%D,end:yt%D,loop:Dt,style:At}),Y=At,ue=yt%D)}}for(const at of a){ue=T?ue:at.start;let Dt,yt=r[ue%D];for(Ie=ue+1;Ie<=at.end;Ie++){const At=r[Ie%D];Dt=Sa(s.setContext(xo(l,{type:"segment",p0:yt,p1:At,p0DataIndex:(Ie-1)%D,p1DataIndex:Ie%D,datasetIndex:y}))),ua(Dt,Y)&&We(ue,Ie-1,at.loop,Y),yt=At,Y=Dt}ue<Ie-1&&We(ue,Ie-1,at.loop,Y)}return k}(g,a,r,s):a}(g,!0===s?[{start:y,end:T,loop:f}]:function(g,a,r,s){const l=g.length,f=[];let D,y=a,T=g[a];for(D=a+1;D<=r;++D){const k=g[D%l];k.skip||k.stop?T.skip||(f.push({start:a%l,end:(D-1)%l,loop:s=!1}),a=y=k.stop?D:null):(y=D,T.skip&&(a=D)),T=k}return null!==y&&f.push({start:a%l,end:y%l,loop:s}),f}(r,y,T<y?T+l:T,!!g._fullLoop&&0===y&&T===l-1),r,a)}(this,this.options.segment))}first(){const r=this.segments;return r.length&&this.points[r[0].start]}last(){const r=this.segments,l=r.length;return l&&this.points[r[l-1].end]}interpolate(r,s){const l=this.options,f=r[s],y=this.points,T=As(this,{property:s,start:f,end:f});if(!T.length)return;const D=[],k=function(g){return g.stepped?Bi:g.tension||"monotone"===g.cubicInterpolationMode?Gi:mi}(l);let Y,ue;for(Y=0,ue=T.length;Y<ue;++Y){const{start:Ie,end:We}=T[Y],at=y[Ie],yt=y[We];if(at===yt){D.push(at);continue}const At=k(at,yt,Math.abs((f-at[s])/(yt[s]-at[s])),l.stepped);At[s]=r[s],D.push(At)}return 1===D.length?D[0]:D}pathSegment(r,s,l){return ko(this)(r,this,s,l)}path(r,s,l){const f=this.segments,y=ko(this);let T=this._loop;s=s||0,l=l||this.points.length-s;for(const D of f)T&=y(r,this,D,{start:s,end:s+l-1});return!!T}draw(r,s,l,f){(this.points||[]).length&&(this.options||{}).borderWidth&&(r.save(),function(g,a,r,s){hh&&!a.options.segment?function(g,a,r,s){let l=a._path;l||(l=a._path=new Path2D,a.path(l,r,s)&&l.closePath()),tr(g,a.options),g.stroke(l)}(g,a,r,s):function(g,a,r,s){const{segments:l,options:f}=a,y=ko(a);for(const T of l)tr(g,f,T.style),g.beginPath(),y(g,a,T,{start:r,end:r+s-1})&&g.closePath(),g.stroke()}(g,a,r,s)}(r,this,l,f),r.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return g.id="line",g.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},g.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},g.descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a&&"fill"!==a},g})();function Mc(g,a,r,s){const l=g.options,{[r]:f}=g.getProps([r],s);return Math.abs(a-f)<l.radius+l.hitRadius}let ra=(()=>{class g extends Fs{constructor(r){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,s,l){const f=this.options,{x:y,y:T}=this.getProps(["x","y"],l);return Math.pow(r-y,2)+Math.pow(s-T,2)<Math.pow(f.hitRadius+f.radius,2)}inXRange(r,s){return Mc(this,r,"x",s)}inYRange(r,s){return Mc(this,r,"y",s)}getCenterPoint(r){const{x:s,y:l}=this.getProps(["x","y"],r);return{x:s,y:l}}size(r){let s=(r=r||this.options||{}).radius||0;return s=Math.max(s,s&&r.hoverRadius||0),2*(s+(s&&r.borderWidth||0))}draw(r,s){const l=this.options;this.skip||l.radius<.1||!So(this,s,this.size(l)/2)||(r.strokeStyle=l.borderColor,r.lineWidth=l.borderWidth,r.fillStyle=l.backgroundColor,$o(r,l,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}return g.id="point",g.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},g.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},g})();function rd(g,a){const{x:r,y:s,base:l,width:f,height:y}=g.getProps(["x","y","base","width","height"],a);let T,D,k,Y,ue;return g.horizontal?(ue=y/2,T=Math.min(r,l),D=Math.max(r,l),k=s-ue,Y=s+ue):(ue=f/2,T=r-ue,D=r+ue,k=Math.min(s,l),Y=Math.max(s,l)),{left:T,top:k,right:D,bottom:Y}}function Ga(g,a,r,s){return g?0:ut(a,r,s)}function xc(g,a,r,s){const l=null===a,f=null===r,T=g&&!(l&&f)&&rd(g,s);return T&&(l||ei(a,T.left,T.right))&&(f||ei(r,T.top,T.bottom))}function Rc(g,a){g.rect(a.x,a.y,a.w,a.h)}function rl(g,a,r={}){const s=g.x!==r.x?-a:0,l=g.y!==r.y?-a:0;return{x:g.x+s,y:g.y+l,w:g.w+((g.x+g.w!==r.x+r.w?a:0)-s),h:g.h+((g.y+g.h!==r.y+r.h?a:0)-l),radius:g.radius}}class jl extends Fs{constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){const{inflateAmount:r,options:{borderColor:s,backgroundColor:l}}=this,{inner:f,outer:y}=function(g){const a=rd(g),r=a.right-a.left,s=a.bottom-a.top,l=function(g,a,r){const l=g.borderSkipped,f=ls(g.options.borderWidth);return{t:Ga(l.top,f.top,0,r),r:Ga(l.right,f.right,0,a),b:Ga(l.bottom,f.bottom,0,r),l:Ga(l.left,f.left,0,a)}}(g,r/2,s/2),f=function(g,a,r){const{enableBorderRadius:s}=g.getProps(["enableBorderRadius"]),l=g.options.borderRadius,f=Wr(l),y=Math.min(a,r),T=g.borderSkipped,D=s||se(l);return{topLeft:Ga(!D||T.top||T.left,f.topLeft,0,y),topRight:Ga(!D||T.top||T.right,f.topRight,0,y),bottomLeft:Ga(!D||T.bottom||T.left,f.bottomLeft,0,y),bottomRight:Ga(!D||T.bottom||T.right,f.bottomRight,0,y)}}(g,r/2,s/2);return{outer:{x:a.left,y:a.top,w:r,h:s,radius:f},inner:{x:a.left+l.l,y:a.top+l.t,w:r-l.l-l.r,h:s-l.t-l.b,radius:{topLeft:Math.max(0,f.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,f.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,f.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,f.bottomRight-Math.max(l.b,l.r))}}}}(this),T=(g=y.radius).topLeft||g.topRight||g.bottomLeft||g.bottomRight?Mo:Rc;var g;a.save(),(y.w!==f.w||y.h!==f.h)&&(a.beginPath(),T(a,rl(y,r,f)),a.clip(),T(a,rl(f,-r,y)),a.fillStyle=s,a.fill("evenodd")),a.beginPath(),T(a,rl(f,r)),a.fillStyle=l,a.fill(),a.restore()}inRange(a,r,s){return xc(this,a,r,s)}inXRange(a,r){return xc(this,a,null,r)}inYRange(a,r){return xc(this,null,a,r)}getCenterPoint(a){const{x:r,y:s,base:l,horizontal:f}=this.getProps(["x","y","base","horizontal"],a);return{x:f?(r+l)/2:r,y:f?s:(s+l)/2}}getRange(a){return"x"===a?this.width/2:this.height/2}}jl.id="bar",jl.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},jl.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Au=Object.freeze({__proto__:null,ArcElement:lr,LineElement:dc,PointElement:ra,BarElement:jl});function ad(g){if(g._decimated){const a=g._data;delete g._decimated,delete g._data,Object.defineProperty(g,"data",{value:a})}}function nu(g){g.data.datasets.forEach(a=>{ad(a)})}var Od={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(g,a,r)=>{if(!r.enabled)return void nu(g);const s=g.width;g.data.datasets.forEach((l,f)=>{const{_data:y,indexAxis:T}=l,D=g.getDatasetMeta(f),k=y||l.data;if("y"===Mr([T,g.options.indexAxis])||"line"!==D.type)return;const Y=g.scales[D.xAxisID];if("linear"!==Y.type&&"time"!==Y.type||g.options.parsing)return;let at,{start:ue,count:Ie}=function(g,a){const r=a.length;let l,s=0;const{iScale:f}=g,{min:y,max:T,minDefined:D,maxDefined:k}=f.getUserBounds();return D&&(s=ut(Qr(a,f.axis,y).lo,0,r-1)),l=k?ut(Qr(a,f.axis,T).hi+1,s,r)-s:r-s,{start:s,count:l}}(D,k);if(Ie<=(r.threshold||4*s))ad(l);else{switch(ce(y)&&(l._data=k,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(yt){this._data=yt}})),r.algorithm){case"lttb":at=function(g,a,r,s,l){const f=l.samples||s;if(f>=r)return g.slice(a,a+r);const y=[],T=(r-2)/(f-2);let D=0;const k=a+r-1;let ue,Ie,We,at,yt,Y=a;for(y[D++]=g[Y],ue=0;ue<f-2;ue++){let ai,Dt=0,At=0;const Ni=Math.floor((ue+1)*T)+1+a,yi=Math.min(Math.floor((ue+2)*T)+1,r)+a,Si=yi-Ni;for(ai=Ni;ai<yi;ai++)Dt+=g[ai].x,At+=g[ai].y;Dt/=Si,At/=Si;const ji=Math.floor(ue*T)+1+a,zi=Math.min(Math.floor((ue+1)*T)+1,r)+a,{x:qi,y:an}=g[Y];for(We=at=-1,ai=ji;ai<zi;ai++)at=.5*Math.abs((qi-Dt)*(g[ai].y-an)-(qi-g[ai].x)*(At-an)),at>We&&(We=at,Ie=g[ai],yt=ai);y[D++]=Ie,Y=yt}return y[D++]=g[k],y}(k,ue,Ie,s,r);break;case"min-max":at=function(g,a,r,s){let y,T,D,k,Y,ue,Ie,We,at,yt,l=0,f=0;const Dt=[],ai=g[a].x,yi=g[a+r-1].x-ai;for(y=a;y<a+r;++y){T=g[y],D=(T.x-ai)/yi*s,k=T.y;const Si=0|D;if(Si===Y)k<at?(at=k,ue=y):k>yt&&(yt=k,Ie=y),l=(f*l+T.x)/++f;else{const ji=y-1;if(!ce(ue)&&!ce(Ie)){const zi=Math.min(ue,Ie),qi=Math.max(ue,Ie);zi!==We&&zi!==ji&&Dt.push(wm(Tm({},g[zi]),{x:l})),qi!==We&&qi!==ji&&Dt.push(wm(Tm({},g[qi]),{x:l}))}y>0&&ji!==We&&Dt.push(g[ji]),Dt.push(T),Y=Si,f=0,at=yt=k,ue=Ie=We=y}}return Dt}(k,ue,Ie,s);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}l._decimated=at}})},destroy(g){nu(g)}};function Ld(g,a,r){const s=function(g){const a=g.options,r=a.fill;let s=oe(r&&r.target,r);return void 0===s&&(s=!!a.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(g);if(se(s))return!isNaN(s.value)&&s;let l=parseFloat(s);return ne(l)&&Math.floor(l)===l?(("-"===s[0]||"+"===s[0])&&(l=a+l),!(l===a||l<0||l>=r)&&l):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}class ru{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(a,r,s){const{x:l,y:f,radius:y}=this;return a.arc(l,f,y,(r=r||{start:0,end:Le}).end,r.start,!0),!s.bounds}interpolate(a){const{x:r,y:s,radius:l}=this,f=a.angle;return{x:r+Math.cos(f)*l,y:s+Math.sin(f)*l,angle:f}}}function Ms(g,a,r){for(;a>g;a--){const s=r[a];if(!isNaN(s.x)&&!isNaN(s.y))break}return a}function Es(g,a,r){const s=[];for(let l=0;l<r.length;l++){const f=r[l],{first:y,last:T,point:D}=Ic(f,a,"x");if(!(!D||y&&T))if(y)s.unshift(D);else if(g.push(D),!T)break}g.push(...s)}function Ic(g,a,r){const s=g.interpolate(a,r);if(!s)return{};const l=s[r],f=g.segments,y=g.points;let T=!1,D=!1;for(let k=0;k<f.length;k++){const Y=f[k],ue=y[Y.start][r],Ie=y[Y.end][r];if(ei(l,ue,Ie)){T=l===ue,D=l===Ie;break}}return{first:T,last:D,point:s}}function Pu(g){const{chart:a,fill:r,line:s}=g;if(ne(r))return function(g,a){const r=g.getDatasetMeta(a);return r&&g.isDatasetVisible(a)?r.dataset:null}(a,r);if("stack"===r)return function(g){const{scale:a,index:r,line:s}=g,l=[],f=s.segments,y=s.points,T=function(g,a){const r=[],s=g.getMatchingVisibleMetas("line");for(let l=0;l<s.length;l++){const f=s[l];if(f.index===a)break;f.hidden||r.unshift(f.dataset)}return r}(a,r);T.push(ud({x:null,y:a.bottom},s));for(let D=0;D<f.length;D++){const k=f[D];for(let Y=k.start;Y<=k.end;Y++)Es(l,y[Y],T)}return new dc({points:l,options:{}})}(g);if("shape"===r)return!0;const l=function(g){return(g.scale||{}).getPointPositionForValue?function(g){const{scale:a,fill:r}=g,s=a.options,l=a.getLabels().length,f=[],y=s.reverse?a.max:a.min;let D,k,Y;if(Y="start"===r?y:"end"===r?s.reverse?a.min:a.max:se(r)?r.value:a.getBaseValue(),s.grid.circular)return k=a.getPointPositionForValue(0,y),new ru({x:k.x,y:k.y,radius:a.getDistanceFromCenterForValue(Y)});for(D=0;D<l;++D)f.push(a.getPointPositionForValue(D,Y));return f}(g):function(g){const{scale:a={},fill:r}=g;let l,s=null;return"start"===r?s=a.bottom:"end"===r?s=a.top:se(r)?s=a.getPixelForValue(r.value):a.getBasePixel&&(s=a.getBasePixel()),ne(s)?(l=a.isHorizontal(),{x:l?s:null,y:l?null:s}):null}(g)}(g);return l instanceof ru?l:ud(l,s)}function ud(g,a){let r=[],s=!1;return q(g)?(s=!0,r=g):r=function(g,a){const{x:r=null,y:s=null}=g||{},l=a.points,f=[];return a.segments.forEach(({start:y,end:T})=>{T=Ms(y,T,l);const D=l[y],k=l[T];null!==s?(f.push({x:D.x,y:s}),f.push({x:k.x,y:s})):null!==r&&(f.push({x:r,y:D.y}),f.push({x:r,y:k.y}))}),f}(g,a),r.length?new dc({points:r,options:{tension:0},_loop:s,_fullLoop:s}):null}function Wl(g,a,r){let l=g[a].fill;const f=[a];let y;if(!r)return l;for(;!1!==l&&-1===f.indexOf(l);){if(!ne(l))return l;if(y=g[l],!y)return!1;if(y.visible)return l;f.push(l),l=y.fill}return!1}function Ac(g,a,r){g.beginPath(),a.path(g),g.lineTo(a.last().x,r),g.lineTo(a.first().x,r),g.closePath(),g.clip()}function dd(g,a,r,s){if(s)return;let l=a[g],f=r[g];return"angle"===g&&(l=jt(l),f=jt(f)),{property:g,start:l,end:f}}function Lu(g,a,r,s){return g&&a?s(g[r],a[r]):g?g[r]:a?a[r]:0}function Fd(g,a,r){const{top:s,bottom:l}=a.chart.chartArea,{property:f,start:y,end:T}=r||{};"x"===f&&(g.beginPath(),g.rect(y,s,T-y,l-s),g.clip())}function Oc(g,a,r,s){const l=a.interpolate(r,s);l&&g.lineTo(l.x,l.y)}function Nu(g,a){const{line:r,target:s,property:l,color:f,scale:y}=a,T=function(g,a,r){const s=g.segments,l=g.points,f=a.points,y=[];for(const T of s){let{start:D,end:k}=T;k=Ms(D,k,l);const Y=dd(r,l[D],l[k],T.loop);if(!a.segments){y.push({source:T,target:Y,start:l[D],end:l[k]});continue}const ue=As(a,Y);for(const Ie of ue){const We=dd(r,f[Ie.start],f[Ie.end],Ie.loop),at=Vr(T,l,We);for(const yt of at)y.push({source:yt,target:Ie,start:{[r]:Lu(Y,We,"start",Math.max)},end:{[r]:Lu(Y,We,"end",Math.min)}})}}return y}(r,s,l);for(const{source:D,target:k,start:Y,end:ue}of T){const{style:{backgroundColor:Ie=f}={}}=D,We=!0!==s;g.save(),g.fillStyle=Ie,Fd(g,y,We&&dd(l,Y,ue)),g.beginPath();const at=!!r.pathSegment(g,D);let yt;if(We){at?g.closePath():Oc(g,s,ue,l);const Dt=!!s.pathSegment(g,k,{move:at,reverse:!0});yt=at&&Dt,yt||Oc(g,s,Y,l)}g.closePath(),g.fill(yt?"evenodd":"nonzero"),g.restore()}}function ou(g,a,r){const s=Pu(a),{line:l,scale:f,axis:y}=a,T=l.options,D=T.fill,k=T.backgroundColor,{above:Y=k,below:ue=k}=D||{};s&&l.points.length&&(hr(g,r),function(g,a){const{line:r,target:s,above:l,below:f,area:y,scale:T}=a,D=r._loop?"angle":a.axis;g.save(),"x"===D&&f!==l&&(Ac(g,s,y.top),Nu(g,{line:r,target:s,color:l,scale:T,property:D}),g.restore(),g.save(),Ac(g,s,y.bottom)),Nu(g,{line:r,target:s,color:f,scale:T,property:D}),g.restore()}(g,{line:l,target:s,above:Y,below:ue,area:r,scale:f,axis:y}),Jo(g))}var Bd={id:"filler",afterDatasetsUpdate(g,a,r){const s=(g.data.datasets||[]).length,l=[];let f,y,T,D;for(y=0;y<s;++y)f=g.getDatasetMeta(y),T=f.dataset,D=null,T&&T.options&&T instanceof dc&&(D={visible:g.isDatasetVisible(y),index:y,fill:Ld(T,y,s),chart:g,axis:f.controller.options.indexAxis,scale:f.vScale,line:T}),f.$filler=D,l.push(D);for(y=0;y<s;++y)D=l[y],D&&!1!==D.fill&&(D.fill=Wl(l,y,r.propagate))},beforeDraw(g,a,r){const s="beforeDraw"===r.drawTime,l=g.getSortedVisibleDatasetMetas(),f=g.chartArea;for(let y=l.length-1;y>=0;--y){const T=l[y].$filler;!T||(T.line.updateControlPoints(f,T.axis),s&&ou(g.ctx,T,f))}},beforeDatasetsDraw(g,a,r){if("beforeDatasetsDraw"!==r.drawTime)return;const s=g.getSortedVisibleDatasetMetas();for(let l=s.length-1;l>=0;--l){const f=s[l].$filler;f&&ou(g.ctx,f,g.chartArea)}},beforeDatasetDraw(g,a,r){const s=a.meta.$filler;!s||!1===s.fill||"beforeDatasetDraw"!==r.drawTime||ou(g.ctx,s,g.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hd=(g,a)=>{let{boxHeight:r=a,boxWidth:s=a}=g;return g.usePointStyle&&(r=Math.min(r,a),s=Math.min(s,a)),{boxWidth:s,boxHeight:r,itemHeight:Math.max(a,r)}};class Bu extends Fs{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,r,s){this.maxWidth=a,this.maxHeight=r,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const a=this.options.labels||{};let r=ie(a.generateLabels,[this.chart],this)||[];a.filter&&(r=r.filter(s=>a.filter(s,this.chart.data))),a.sort&&(r=r.sort((s,l)=>a.sort(s,l,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:a,ctx:r}=this;if(!a.display)return void(this.width=this.height=0);const s=a.labels,l=Dr(s.font),f=l.size,y=this._computeTitleHeight(),{boxWidth:T,itemHeight:D}=Hd(s,f);let k,Y;r.font=l.string,this.isHorizontal()?(k=this.maxWidth,Y=this._fitRows(y,f,T,D)+10):(Y=this.maxHeight,k=this._fitCols(y,f,T,D)+10),this.width=Math.min(k,a.maxWidth||this.maxWidth),this.height=Math.min(Y,a.maxHeight||this.maxHeight)}_fitRows(a,r,s,l){const{ctx:f,maxWidth:y,options:{labels:{padding:T}}}=this,D=this.legendHitBoxes=[],k=this.lineWidths=[0],Y=l+T;let ue=a;f.textAlign="left",f.textBaseline="middle";let Ie=-1,We=-Y;return this.legendItems.forEach((at,yt)=>{const Dt=s+r/2+f.measureText(at.text).width;(0===yt||k[k.length-1]+Dt+2*T>y)&&(ue+=Y,k[k.length-(yt>0?0:1)]=0,We+=Y,Ie++),D[yt]={left:0,top:We,row:Ie,width:Dt,height:l},k[k.length-1]+=Dt+T}),ue}_fitCols(a,r,s,l){const{ctx:f,maxHeight:y,options:{labels:{padding:T}}}=this,D=this.legendHitBoxes=[],k=this.columnSizes=[],Y=y-a;let ue=T,Ie=0,We=0,at=0,yt=0;return this.legendItems.forEach((Dt,At)=>{const ai=s+r/2+f.measureText(Dt.text).width;At>0&&We+l+2*T>Y&&(ue+=Ie+T,k.push({width:Ie,height:We}),at+=Ie+T,yt++,Ie=We=0),D[At]={left:at,top:We,col:yt,width:ai,height:l},Ie=Math.max(Ie,ai),We+=l+T}),ue+=Ie,k.push({width:Ie,height:We}),ue}adjustHitBoxes(){if(!this.options.display)return;const a=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:s,labels:{padding:l},rtl:f}}=this,y=jn(f,this.left,this.width);if(this.isHorizontal()){let T=0,D=_e(s,this.left+l,this.right-this.lineWidths[T]);for(const k of r)T!==k.row&&(T=k.row,D=_e(s,this.left+l,this.right-this.lineWidths[T])),k.top+=this.top+a+l,k.left=y.leftForLtr(y.x(D),k.width),D+=k.width+l}else{let T=0,D=_e(s,this.top+a+l,this.bottom-this.columnSizes[T].height);for(const k of r)k.col!==T&&(T=k.col,D=_e(s,this.top+a+l,this.bottom-this.columnSizes[T].height)),k.top=D,k.left+=this.left+l,k.left=y.leftForLtr(y.x(k.left),k.width),D+=k.height+l}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const a=this.ctx;hr(a,this),this._draw(),Jo(a)}}_draw(){const{options:a,columnSizes:r,lineWidths:s,ctx:l}=this,{align:f,labels:y}=a,T=yn.color,D=jn(a.rtl,this.left,this.width),k=Dr(y.font),{color:Y,padding:ue}=y,Ie=k.size,We=Ie/2;let at;this.drawTitle(),l.textAlign=D.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=k.string;const{boxWidth:yt,boxHeight:Dt,itemHeight:At}=Hd(y,Ie),yi=this.isHorizontal(),Si=this._computeTitleHeight();at=yi?{x:_e(f,this.left+ue,this.right-s[0]),y:this.top+ue+Si,line:0}:{x:this.left+ue,y:_e(f,this.top+Si+ue,this.bottom-r[0].height),line:0},xr(this.ctx,a.textDirection);const ji=At+ue;this.legendItems.forEach((zi,qi)=>{l.strokeStyle=zi.fontColor||Y,l.fillStyle=zi.fontColor||Y;const an=l.measureText(zi.text).width,zn=D.textAlign(zi.textAlign||(zi.textAlign=y.textAlign)),sn=yt+We+an;let Yn=at.x,Or=at.y;D.setWidth(this.width),yi?qi>0&&Yn+sn+ue>this.right&&(Or=at.y+=ji,at.line++,Yn=at.x=_e(f,this.left+ue,this.right-s[at.line])):qi>0&&Or+ji>this.bottom&&(Yn=at.x=Yn+r[at.line].width+ue,at.line++,Or=at.y=_e(f,this.top+Si+ue,this.bottom-r[at.line].height)),function(zi,qi,an){if(isNaN(yt)||yt<=0||isNaN(Dt)||Dt<0)return;l.save();const zn=oe(an.lineWidth,1);if(l.fillStyle=oe(an.fillStyle,T),l.lineCap=oe(an.lineCap,"butt"),l.lineDashOffset=oe(an.lineDashOffset,0),l.lineJoin=oe(an.lineJoin,"miter"),l.lineWidth=zn,l.strokeStyle=oe(an.strokeStyle,T),l.setLineDash(oe(an.lineDash,[])),y.usePointStyle){const sn={radius:yt*Math.SQRT2/2,pointStyle:an.pointStyle,rotation:an.rotation,borderWidth:zn},Yn=D.xPlus(zi,yt/2);$o(l,sn,Yn,qi+We)}else{const sn=qi+Math.max((Ie-Dt)/2,0),Yn=D.leftForLtr(zi,yt),Or=Wr(an.borderRadius);l.beginPath(),Object.values(Or).some(Xi=>0!==Xi)?Mo(l,{x:Yn,y:sn,w:yt,h:Dt,radius:Or}):l.rect(Yn,sn,yt,Dt),l.fill(),0!==zn&&l.stroke()}l.restore()}(D.x(Yn),Or,zi),Yn=((g,a,r,s)=>g===(s?"left":"right")?r:"center"===g?(a+r)/2:a)(zn,Yn+yt+We,yi?Yn+sn:this.right,a.rtl),function(zi,qi,an){Do(l,an.text,zi,qi+At/2,k,{strikethrough:an.hidden,textAlign:D.textAlign(an.textAlign)})}(D.x(Yn),Or,zi),yi?at.x+=sn+ue:at.y+=ji}),oo(this.ctx,a.textDirection)}drawTitle(){const a=this.options,r=a.title,s=Dr(r.font),l=pr(r.padding);if(!r.display)return;const f=jn(a.rtl,this.left,this.width),y=this.ctx,T=r.position,k=l.top+s.size/2;let Y,ue=this.left,Ie=this.width;if(this.isHorizontal())Ie=Math.max(...this.lineWidths),Y=this.top+k,ue=_e(a.align,ue,this.right-Ie);else{const at=this.columnSizes.reduce((yt,Dt)=>Math.max(yt,Dt.height),0);Y=k+_e(a.align,this.top,this.bottom-at-a.labels.padding-this._computeTitleHeight())}const We=_e(T,ue,ue+Ie);y.textAlign=f.textAlign(fe(T)),y.textBaseline="middle",y.strokeStyle=r.color,y.fillStyle=r.color,y.font=s.string,Do(y,r.text,We,Y,s)}_computeTitleHeight(){const a=this.options.title,r=Dr(a.font),s=pr(a.padding);return a.display?r.lineHeight+s.height:0}_getLegendItemAt(a,r){let s,l,f;if(ei(a,this.left,this.right)&&ei(r,this.top,this.bottom))for(f=this.legendHitBoxes,s=0;s<f.length;++s)if(l=f[s],ei(a,l.left,l.left+l.width)&&ei(r,l.top,l.top+l.height))return this.legendItems[s];return null}handleEvent(a){const r=this.options;if(!function(g,a){return!!("mousemove"===g&&(a.onHover||a.onLeave)||a.onClick&&("click"===g||"mouseup"===g))}(a.type,r))return;const s=this._getLegendItemAt(a.x,a.y);if("mousemove"===a.type){const l=this._hoveredItem,f=((g,a)=>null!==g&&null!==a&&g.datasetIndex===a.datasetIndex&&g.index===a.index)(l,s);l&&!f&&ie(r.onLeave,[a,l,this],this),this._hoveredItem=s,s&&!f&&ie(r.onHover,[a,s,this],this)}else s&&ie(r.onClick,[a,s,this],this)}}var Vd={id:"legend",_element:Bu,start(g,a,r){const s=g.legend=new Bu({ctx:g.ctx,options:r,chart:g});zo.configure(g,s,r),zo.addBox(g,s)},stop(g){zo.removeBox(g,g.legend),delete g.legend},beforeUpdate(g,a,r){const s=g.legend;zo.configure(g,s,r),s.options=r},afterUpdate(g){const a=g.legend;a.buildLabels(),a.adjustHitBoxes()},afterEvent(g,a){a.replay||g.legend.handleEvent(a.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(g,a,r){const s=a.datasetIndex,l=r.chart;l.isDatasetVisible(s)?(l.hide(s),a.hidden=!0):(l.show(s),a.hidden=!1)},onHover:null,onLeave:null,labels:{color:g=>g.chart.options.color,boxWidth:40,padding:10,generateLabels(g){const a=g.data.datasets,{labels:{usePointStyle:r,pointStyle:s,textAlign:l,color:f}}=g.legend.options;return g._getSortedDatasetMetas().map(y=>{const T=y.controller.getStyle(r?0:void 0),D=pr(T.borderWidth);return{text:a[y.index].label,fillStyle:T.backgroundColor,fontColor:f,hidden:!y.visible,lineCap:T.borderCapStyle,lineDash:T.borderDash,lineDashOffset:T.borderDashOffset,lineJoin:T.borderJoinStyle,lineWidth:(D.width+D.height)/4,strokeStyle:T.borderColor,pointStyle:s||T.pointStyle,rotation:T.rotation,textAlign:l||T.textAlign,borderRadius:0,datasetIndex:y.index}},this)}},title:{color:g=>g.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:g=>!g.startsWith("on"),labels:{_scriptable:g=>!["generateLabels","filter","sort"].includes(g)}}};class zl extends Fs{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,r){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=a,this.height=this.bottom=r;const l=q(s.text)?s.text.length:1;this._padding=pr(s.padding);const f=l*Dr(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=f:this.width=f}isHorizontal(){const a=this.options.position;return"top"===a||"bottom"===a}_drawArgs(a){const{top:r,left:s,bottom:l,right:f,options:y}=this,T=y.align;let k,Y,ue,D=0;return this.isHorizontal()?(Y=_e(T,s,f),ue=r+a,k=f-s):("left"===y.position?(Y=s+a,ue=_e(T,l,r),D=-.5*we):(Y=f-a,ue=_e(T,r,l),D=.5*we),k=l-r),{titleX:Y,titleY:ue,maxWidth:k,rotation:D}}draw(){const a=this.ctx,r=this.options;if(!r.display)return;const s=Dr(r.font),f=s.lineHeight/2+this._padding.top,{titleX:y,titleY:T,maxWidth:D,rotation:k}=this._drawArgs(f);Do(a,r.text,0,0,s,{color:r.color,maxWidth:D,rotation:k,textAlign:fe(r.align),textBaseline:"middle",translation:[y,T]})}}var Ud={id:"title",_element:zl,start(g,a,r){!function(g,a){const r=new zl({ctx:g.ctx,options:a,chart:g});zo.configure(g,r,a),zo.addBox(g,r),g.titleBlock=r}(g,r)},stop(g){zo.removeBox(g,g.titleBlock),delete g.titleBlock},beforeUpdate(g,a,r){const s=g.titleBlock;zo.configure(g,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const su=new WeakMap;var Hu={id:"subtitle",start(g,a,r){const s=new zl({ctx:g.ctx,options:r,chart:g});zo.configure(g,s,r),zo.addBox(g,s),su.set(g,s)},stop(g){zo.removeBox(g,su.get(g)),su.delete(g)},beforeUpdate(g,a,r){const s=su.get(g);zo.configure(g,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yl={average(g){if(!g.length)return!1;let a,r,s=0,l=0,f=0;for(a=0,r=g.length;a<r;++a){const y=g[a].element;if(y&&y.hasValue()){const T=y.tooltipPosition();s+=T.x,l+=T.y,++f}}return{x:s/f,y:l/f}},nearest(g,a){if(!g.length)return!1;let f,y,T,r=a.x,s=a.y,l=Number.POSITIVE_INFINITY;for(f=0,y=g.length;f<y;++f){const D=g[f].element;if(D&&D.hasValue()){const Y=Ei(a,D.getCenterPoint());Y<l&&(l=Y,T=D)}}if(T){const D=T.tooltipPosition();r=D.x,s=D.y}return{x:r,y:s}}};function ga(g,a){return a&&(q(a)?Array.prototype.push.apply(g,a):g.push(a)),g}function sl(g){return("string"==typeof g||g instanceof String)&&g.indexOf("\n")>-1?g.split("\n"):g}function Gd(g,a){const{element:r,datasetIndex:s,index:l}=a,f=g.getDatasetMeta(s).controller,{label:y,value:T}=f.getLabelAndValue(l);return{chart:g,label:y,parsed:f.getParsed(l),raw:g.data.datasets[s].data[l],formattedValue:T,dataset:f.getDataset(),dataIndex:l,datasetIndex:s,element:r}}function fd(g,a){const r=g._chart.ctx,{body:s,footer:l,title:f}=g,{boxWidth:y,boxHeight:T}=a,D=Dr(a.bodyFont),k=Dr(a.titleFont),Y=Dr(a.footerFont),ue=f.length,Ie=l.length,We=s.length,at=pr(a.padding);let yt=at.height,Dt=0,At=s.reduce((yi,Si)=>yi+Si.before.length+Si.lines.length+Si.after.length,0);At+=g.beforeBody.length+g.afterBody.length,ue&&(yt+=ue*k.lineHeight+(ue-1)*a.titleSpacing+a.titleMarginBottom),At&&(yt+=We*(a.displayColors?Math.max(T,D.lineHeight):D.lineHeight)+(At-We)*D.lineHeight+(At-1)*a.bodySpacing),Ie&&(yt+=a.footerMarginTop+Ie*Y.lineHeight+(Ie-1)*a.footerSpacing);let ai=0;const Ni=function(yi){Dt=Math.max(Dt,r.measureText(yi).width+ai)};return r.save(),r.font=k.string,Ge(g.title,Ni),r.font=D.string,Ge(g.beforeBody.concat(g.afterBody),Ni),ai=a.displayColors?y+2+a.boxPadding:0,Ge(s,yi=>{Ge(yi.before,Ni),Ge(yi.lines,Ni),Ge(yi.after,Ni)}),ai=0,r.font=Y.string,Ge(g.footer,Ni),r.restore(),Dt+=at.width,{width:Dt,height:yt}}function jd(g,a,r,s){const{x:l,width:f}=r,{width:y,chartArea:{left:T,right:D}}=g;let k="center";return"center"===s?k=l<=(T+D)/2?"left":"right":l<=f/2?k="left":l>=y-f/2&&(k="right"),function(g,a,r,s){const{x:l,width:f}=s,y=r.caretSize+r.caretPadding;if("left"===g&&l+f+y>a.width||"right"===g&&l-f-y<0)return!0}(k,g,a,r)&&(k="center"),k}function Kl(g,a,r){const s=a.yAlign||function(g,a){const{y:r,height:s}=a;return r<s/2?"top":r>g.height-s/2?"bottom":"center"}(g,r);return{xAlign:a.xAlign||jd(g,a,r,s),yAlign:s}}function Aa(g,a,r,s){const{caretSize:l,caretPadding:f,cornerRadius:y}=g,{xAlign:T,yAlign:D}=r,k=l+f,{topLeft:Y,topRight:ue,bottomLeft:Ie,bottomRight:We}=Wr(y);let at=function(g,a){let{x:r,width:s}=g;return"right"===a?r-=s:"center"===a&&(r-=s/2),r}(a,T);const yt=function(g,a,r){let{y:s,height:l}=g;return"top"===a?s+=r:s-="bottom"===a?l+r:l/2,s}(a,D,k);return"center"===D?"left"===T?at+=k:"right"===T&&(at-=k):"left"===T?at-=Math.max(Y,Ie)+l:"right"===T&&(at+=Math.max(ue,We)+l),{x:ut(at,0,s.width-a.width),y:ut(yt,0,s.height-a.height)}}function Vu(g,a,r){const s=pr(r.padding);return"center"===a?g.x+g.width/2:"right"===a?g.x+g.width-s.right:g.x+s.left}function ma(g){return ga([],sl(g))}function Uu(g,a){const r=a&&a.dataset&&a.dataset.tooltip&&a.dataset.tooltip.callbacks;return r?g.override(r):g}let _a=(()=>{class g extends Fs{constructor(r){super(),this.opacity=0,this._active=[],this._chart=r._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=r.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(r){this.options=r,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const r=this._cachedAnimations;if(r)return r;const s=this._chart,l=this.options.setContext(this.getContext()),f=l.enabled&&s.options.animation&&l.animations,y=new Qn(this._chart,f);return f._cacheable&&(this._cachedAnimations=Object.freeze(y)),y}getContext(){return this.$context||(this.$context=function(g,a,r){return xo(g,{tooltip:a,tooltipItems:r,type:"tooltip"})}(this._chart.getContext(),this,this._tooltipItems))}getTitle(r,s){const{callbacks:l}=s,f=l.beforeTitle.apply(this,[r]),y=l.title.apply(this,[r]),T=l.afterTitle.apply(this,[r]);let D=[];return D=ga(D,sl(f)),D=ga(D,sl(y)),D=ga(D,sl(T)),D}getBeforeBody(r,s){return ma(s.callbacks.beforeBody.apply(this,[r]))}getBody(r,s){const{callbacks:l}=s,f=[];return Ge(r,y=>{const T={before:[],lines:[],after:[]},D=Uu(l,y);ga(T.before,sl(D.beforeLabel.call(this,y))),ga(T.lines,D.label.call(this,y)),ga(T.after,sl(D.afterLabel.call(this,y))),f.push(T)}),f}getAfterBody(r,s){return ma(s.callbacks.afterBody.apply(this,[r]))}getFooter(r,s){const{callbacks:l}=s,f=l.beforeFooter.apply(this,[r]),y=l.footer.apply(this,[r]),T=l.afterFooter.apply(this,[r]);let D=[];return D=ga(D,sl(f)),D=ga(D,sl(y)),D=ga(D,sl(T)),D}_createItems(r){const s=this._active,l=this._chart.data,f=[],y=[],T=[];let k,Y,D=[];for(k=0,Y=s.length;k<Y;++k)D.push(Gd(this._chart,s[k]));return r.filter&&(D=D.filter((ue,Ie,We)=>r.filter(ue,Ie,We,l))),r.itemSort&&(D=D.sort((ue,Ie)=>r.itemSort(ue,Ie,l))),Ge(D,ue=>{const Ie=Uu(r.callbacks,ue);f.push(Ie.labelColor.call(this,ue)),y.push(Ie.labelPointStyle.call(this,ue)),T.push(Ie.labelTextColor.call(this,ue))}),this.labelColors=f,this.labelPointStyles=y,this.labelTextColors=T,this.dataPoints=D,D}update(r,s){const l=this.options.setContext(this.getContext()),f=this._active;let y,T=[];if(f.length){const D=Yl[l.position].call(this,f,this._eventPosition);T=this._createItems(l),this.title=this.getTitle(T,l),this.beforeBody=this.getBeforeBody(T,l),this.body=this.getBody(T,l),this.afterBody=this.getAfterBody(T,l),this.footer=this.getFooter(T,l);const k=this._size=fd(this,l),Y=Object.assign({},D,k),ue=Kl(this._chart,l,Y),Ie=Aa(l,Y,ue,this._chart);this.xAlign=ue.xAlign,this.yAlign=ue.yAlign,y={opacity:1,x:Ie.x,y:Ie.y,width:k.width,height:k.height,caretX:D.x,caretY:D.y}}else 0!==this.opacity&&(y={opacity:0});this._tooltipItems=T,this.$context=void 0,y&&this._resolveAnimations().update(this,y),r&&l.external&&l.external.call(this,{chart:this._chart,tooltip:this,replay:s})}drawCaret(r,s,l,f){const y=this.getCaretPosition(r,l,f);s.lineTo(y.x1,y.y1),s.lineTo(y.x2,y.y2),s.lineTo(y.x3,y.y3)}getCaretPosition(r,s,l){const{xAlign:f,yAlign:y}=this,{caretSize:T,cornerRadius:D}=l,{topLeft:k,topRight:Y,bottomLeft:ue,bottomRight:Ie}=Wr(D),{x:We,y:at}=r,{width:yt,height:Dt}=s;let At,ai,Ni,yi,Si,ji;return"center"===y?(Si=at+Dt/2,"left"===f?(At=We,ai=At-T,yi=Si+T,ji=Si-T):(At=We+yt,ai=At+T,yi=Si-T,ji=Si+T),Ni=At):(ai="left"===f?We+Math.max(k,ue)+T:"right"===f?We+yt-Math.max(Y,Ie)-T:this.caretX,"top"===y?(yi=at,Si=yi-T,At=ai-T,Ni=ai+T):(yi=at+Dt,Si=yi+T,At=ai+T,Ni=ai-T),ji=yi),{x1:At,x2:ai,x3:Ni,y1:yi,y2:Si,y3:ji}}drawTitle(r,s,l){const f=this.title,y=f.length;let T,D,k;if(y){const Y=jn(l.rtl,this.x,this.width);for(r.x=Vu(this,l.titleAlign,l),s.textAlign=Y.textAlign(l.titleAlign),s.textBaseline="middle",T=Dr(l.titleFont),D=l.titleSpacing,s.fillStyle=l.titleColor,s.font=T.string,k=0;k<y;++k)s.fillText(f[k],Y.x(r.x),r.y+T.lineHeight/2),r.y+=T.lineHeight+D,k+1===y&&(r.y+=l.titleMarginBottom-D)}}_drawColorBox(r,s,l,f,y){const T=this.labelColors[l],D=this.labelPointStyles[l],{boxHeight:k,boxWidth:Y,boxPadding:ue}=y,Ie=Dr(y.bodyFont),We=Vu(this,"left",y),at=f.x(We),Dt=s.y+(k<Ie.lineHeight?(Ie.lineHeight-k)/2:0);if(y.usePointStyle){const At={radius:Math.min(Y,k)/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:1},ai=f.leftForLtr(at,Y)+Y/2,Ni=Dt+k/2;r.strokeStyle=y.multiKeyBackground,r.fillStyle=y.multiKeyBackground,$o(r,At,ai,Ni),r.strokeStyle=T.borderColor,r.fillStyle=T.backgroundColor,$o(r,At,ai,Ni)}else{r.lineWidth=T.borderWidth||1,r.strokeStyle=T.borderColor,r.setLineDash(T.borderDash||[]),r.lineDashOffset=T.borderDashOffset||0;const At=f.leftForLtr(at,Y-ue),ai=f.leftForLtr(f.xPlus(at,1),Y-ue-2),Ni=Wr(T.borderRadius);Object.values(Ni).some(yi=>0!==yi)?(r.beginPath(),r.fillStyle=y.multiKeyBackground,Mo(r,{x:At,y:Dt,w:Y,h:k,radius:Ni}),r.fill(),r.stroke(),r.fillStyle=T.backgroundColor,r.beginPath(),Mo(r,{x:ai,y:Dt+1,w:Y-2,h:k-2,radius:Ni}),r.fill()):(r.fillStyle=y.multiKeyBackground,r.fillRect(At,Dt,Y,k),r.strokeRect(At,Dt,Y,k),r.fillStyle=T.backgroundColor,r.fillRect(ai,Dt+1,Y-2,k-2))}r.fillStyle=this.labelTextColors[l]}drawBody(r,s,l){const{body:f}=this,{bodySpacing:y,bodyAlign:T,displayColors:D,boxHeight:k,boxWidth:Y,boxPadding:ue}=l,Ie=Dr(l.bodyFont);let We=Ie.lineHeight,at=0;const yt=jn(l.rtl,this.x,this.width),Dt=function(an){s.fillText(an,yt.x(r.x+at),r.y+We/2),r.y+=We+y},At=yt.textAlign(T);let ai,Ni,yi,Si,ji,zi,qi;for(s.textAlign=T,s.textBaseline="middle",s.font=Ie.string,r.x=Vu(this,At,l),s.fillStyle=l.bodyColor,Ge(this.beforeBody,Dt),at=D&&"right"!==At?"center"===T?Y/2+ue:Y+2+ue:0,Si=0,zi=f.length;Si<zi;++Si){for(ai=f[Si],Ni=this.labelTextColors[Si],s.fillStyle=Ni,Ge(ai.before,Dt),yi=ai.lines,D&&yi.length&&(this._drawColorBox(s,r,Si,yt,l),We=Math.max(Ie.lineHeight,k)),ji=0,qi=yi.length;ji<qi;++ji)Dt(yi[ji]),We=Ie.lineHeight;Ge(ai.after,Dt)}at=0,We=Ie.lineHeight,Ge(this.afterBody,Dt),r.y-=y}drawFooter(r,s,l){const f=this.footer,y=f.length;let T,D;if(y){const k=jn(l.rtl,this.x,this.width);for(r.x=Vu(this,l.footerAlign,l),r.y+=l.footerMarginTop,s.textAlign=k.textAlign(l.footerAlign),s.textBaseline="middle",T=Dr(l.footerFont),s.fillStyle=l.footerColor,s.font=T.string,D=0;D<y;++D)s.fillText(f[D],k.x(r.x),r.y+T.lineHeight/2),r.y+=T.lineHeight+l.footerSpacing}}drawBackground(r,s,l,f){const{xAlign:y,yAlign:T}=this,{x:D,y:k}=r,{width:Y,height:ue}=l,{topLeft:Ie,topRight:We,bottomLeft:at,bottomRight:yt}=Wr(f.cornerRadius);s.fillStyle=f.backgroundColor,s.strokeStyle=f.borderColor,s.lineWidth=f.borderWidth,s.beginPath(),s.moveTo(D+Ie,k),"top"===T&&this.drawCaret(r,s,l,f),s.lineTo(D+Y-We,k),s.quadraticCurveTo(D+Y,k,D+Y,k+We),"center"===T&&"right"===y&&this.drawCaret(r,s,l,f),s.lineTo(D+Y,k+ue-yt),s.quadraticCurveTo(D+Y,k+ue,D+Y-yt,k+ue),"bottom"===T&&this.drawCaret(r,s,l,f),s.lineTo(D+at,k+ue),s.quadraticCurveTo(D,k+ue,D,k+ue-at),"center"===T&&"left"===y&&this.drawCaret(r,s,l,f),s.lineTo(D,k+Ie),s.quadraticCurveTo(D,k,D+Ie,k),s.closePath(),s.fill(),f.borderWidth>0&&s.stroke()}_updateAnimationTarget(r){const s=this._chart,l=this.$animations,f=l&&l.x,y=l&&l.y;if(f||y){const T=Yl[r.position].call(this,this._active,this._eventPosition);if(!T)return;const D=this._size=fd(this,r),k=Object.assign({},T,this._size),Y=Kl(s,r,k),ue=Aa(r,k,Y,s);(f._to!==ue.x||y._to!==ue.y)&&(this.xAlign=Y.xAlign,this.yAlign=Y.yAlign,this.width=D.width,this.height=D.height,this.caretX=T.x,this.caretY=T.y,this._resolveAnimations().update(this,ue))}}draw(r){const s=this.options.setContext(this.getContext());let l=this.opacity;if(!l)return;this._updateAnimationTarget(s);const f={width:this.width,height:this.height},y={x:this.x,y:this.y};l=Math.abs(l)<.001?0:l;const T=pr(s.padding);s.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(r.save(),r.globalAlpha=l,this.drawBackground(y,r,f,s),xr(r,s.textDirection),y.y+=T.top,this.drawTitle(y,r,s),this.drawBody(y,r,s),this.drawFooter(y,r,s),oo(r,s.textDirection),r.restore())}getActiveElements(){return this._active||[]}setActiveElements(r,s){const l=this._active,f=r.map(({datasetIndex:D,index:k})=>{const Y=this._chart.getDatasetMeta(D);if(!Y)throw new Error("Cannot find a dataset at index "+D);return{datasetIndex:D,element:Y.data[k],index:k}}),y=!ve(l,f),T=this._positionChanged(f,s);(y||T)&&(this._active=f,this._eventPosition=s,this.update(!0))}handleEvent(r,s){const l=this.options,f=this._active||[];let y=!1,T=[];"mouseout"!==r.type&&(T=this._chart.getElementsAtEventForMode(r,l.mode,l,s),l.reverse&&T.reverse());const D=this._positionChanged(T,r);return y=s||!ve(T,f)||D,y&&(this._active=T,(l.enabled||l.external)&&(this._eventPosition={x:r.x,y:r.y},this.update(!0,s))),y}_positionChanged(r,s){const{caretX:l,caretY:f,options:y}=this,T=Yl[y.position].call(this,r,s);return!1!==T&&(l!==T.x||f!==T.y)}}return g.positioners=Yl,g})();var cu=Object.freeze({__proto__:null,Decimation:Od,Filler:Bd,Legend:Vd,SubTitle:Hu,Title:Ud,Tooltip:{id:"tooltip",_element:_a,positioners:Yl,afterInit(g,a,r){r&&(g.tooltip=new _a({_chart:g,options:r}))},beforeUpdate(g,a,r){g.tooltip&&g.tooltip.initialize(r)},reset(g,a,r){g.tooltip&&g.tooltip.initialize(r)},afterDraw(g){const a=g.tooltip,r={tooltip:a};!1!==g.notifyPlugins("beforeTooltipDraw",r)&&(a&&a.draw(g.ctx),g.notifyPlugins("afterTooltipDraw",r))},afterEvent(g,a){g.tooltip&&g.tooltip.handleEvent(a.event,a.replay)&&(a.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(g,a)=>a.bodyFont.size,boxWidth:(g,a)=>a.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Be,title(g){if(g.length>0){const a=g[0],r=a.chart.data.labels,s=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return a.dataset.label||"";if(a.label)return a.label;if(s>0&&a.dataIndex<s)return r[a.dataIndex]}return""},afterTitle:Be,beforeBody:Be,beforeLabel:Be,label(g){if(this&&this.options&&"dataset"===this.options.mode)return g.label+": "+g.formattedValue||g.formattedValue;let a=g.dataset.label||"";a&&(a+=": ");const r=g.formattedValue;return ce(r)||(a+=r),a},labelColor(g){const r=g.chart.getDatasetMeta(g.datasetIndex).controller.getStyle(g.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(g){const r=g.chart.getDatasetMeta(g.datasetIndex).controller.getStyle(g.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Be,afterBody:Be,beforeFooter:Be,footer:Be,afterFooter:Be}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:g=>"filter"!==g&&"itemSort"!==g&&"external"!==g,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class $l extends Ys{constructor(a){super(a),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(a){const r=this._addedLabels;if(r.length){const s=this.getLabels();for(const{index:l,label:f}of r)s[l]===f&&s.splice(l,1);this._addedLabels=[]}super.init(a)}parse(a,r){if(ce(a))return null;const s=this.getLabels();return((g,a)=>null===g?null:ut(Math.round(g),0,a))(r=isFinite(r)&&s[r]===a?r:function(g,a,r,s){const l=g.indexOf(a);return-1===l?((g,a,r,s)=>("string"==typeof a?(r=g.push(a)-1,s.unshift({index:r,label:a})):isNaN(a)&&(r=null),r))(g,a,r,s):l!==g.lastIndexOf(a)?r:l}(s,a,oe(r,a),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:a,maxDefined:r}=this.getUserBounds();let{min:s,max:l}=this.getMinMax(!0);"ticks"===this.options.bounds&&(a||(s=0),r||(l=this.getLabels().length-1)),this.min=s,this.max=l}buildTicks(){const a=this.min,r=this.max,s=this.options.offset,l=[];let f=this.getLabels();f=0===a&&r===f.length-1?f:f.slice(a,r+1),this._valueRange=Math.max(f.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let y=a;y<=r;y++)l.push({value:y});return l}getLabelForValue(a){const r=this.getLabels();return a>=0&&a<r.length?r[a]:a}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(a){return"number"!=typeof a&&(a=this.parse(a)),null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getPixelForTick(a){const r=this.ticks;return a<0||a>r.length-1?null:this.getPixelForValue(r[a].value)}getValueForPixel(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}getBasePixel(){return this.bottom}}function hu(g,a,{horizontal:r,minRotation:s}){const l=Zt(s),f=(r?Math.sin(l):Math.cos(l))||.001;return Math.min(a/f,.75*a*(""+g).length)}$l.id="category",$l.defaults={ticks:{callback:$l.prototype.getLabelForValue}};class ja extends Ys{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,r){return ce(a)||("number"==typeof a||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){const{beginAtZero:a}=this.options,{minDefined:r,maxDefined:s}=this.getUserBounds();let{min:l,max:f}=this;const y=D=>l=r?l:D,T=D=>f=s?f:D;if(a){const D=rt(l),k=rt(f);D<0&&k<0?T(0):D>0&&k>0&&y(0)}if(l===f){let D=1;(f>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(D=Math.abs(.05*f)),T(f+D),a||y(l-D)}this.min=l,this.max=f}getTickLimit(){const a=this.options.ticks;let l,{maxTicksLimit:r,stepSize:s}=a;return s?(l=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),r=r||11),r&&(l=Math.min(r,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const a=this.options,r=a.ticks;let s=this.getTickLimit();s=Math.max(2,s);const y=function(g,a){const r=[],{bounds:l,step:f,min:y,max:T,precision:D,count:k,maxTicks:Y,maxDigits:ue,includeBounds:Ie}=g,We=f||1,at=Y-1,{min:yt,max:Dt}=a,At=!ce(y),ai=!ce(T),Ni=!ce(k),yi=(Dt-yt)/(ue+1);let ji,zi,qi,an,Si=ot((Dt-yt)/at/We)*We;if(Si<1e-14&&!At&&!ai)return[{value:yt},{value:Dt}];an=Math.ceil(Dt/Si)-Math.floor(yt/Si),an>at&&(Si=ot(an*Si/at/We)*We),ce(D)||(ji=Math.pow(10,D),Si=Math.ceil(Si*ji)/ji),"ticks"===l?(zi=Math.floor(yt/Si)*Si,qi=Math.ceil(Dt/Si)*Si):(zi=yt,qi=Dt),At&&ai&&f&&function(g,a){const r=Math.round(g);return r-a<=g&&r+a>=g}((T-y)/f,Si/1e3)?(an=Math.round(Math.min((T-y)/Si,Y)),Si=(T-y)/an,zi=y,qi=T):Ni?(zi=At?y:zi,qi=ai?T:qi,an=k-1,Si=(qi-zi)/an):(an=(qi-zi)/Si,an=St(an,Math.round(an),Si/1e3)?Math.round(an):Math.ceil(an));const zn=Math.max(Fi(Si),Fi(zi));ji=Math.pow(10,ce(D)?zn:D),zi=Math.round(zi*ji)/ji,qi=Math.round(qi*ji)/ji;let sn=0;for(At&&(Ie&&zi!==y?(r.push({value:y}),zi<y&&sn++,St(Math.round((zi+sn*Si)*ji)/ji,y,hu(y,yi,g))&&sn++):zi<y&&sn++);sn<an;++sn)r.push({value:Math.round((zi+sn*Si)*ji)/ji});return ai&&Ie&&qi!==T?r.length&&St(r[r.length-1].value,T,hu(T,yi,g))?r[r.length-1].value=T:r.push({value:T}):(!ai||qi===T)&&r.push({value:qi}),r}({maxTicks:s,bounds:a.bounds,min:a.min,max:a.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:!1!==r.includeBounds},this._range||this);return"ticks"===a.bounds&&ci(y,this,"value"),a.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const a=this.ticks;let r=this.min,s=this.max;if(super.configure(),this.options.offset&&a.length){const l=(s-r)/Math.max(a.length-1,1)/2;r-=l,s+=l}this._startValue=r,this._endValue=s,this._valueRange=s-r}getLabelForValue(a){return en(a,this.chart.options.locale,this.options.ticks.format)}}class Lc extends ja{determineDataLimits(){const{min:a,max:r}=this.getMinMax(!0);this.min=ne(a)?a:0,this.max=ne(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const a=this.isHorizontal(),r=a?this.width:this.height,s=Zt(this.options.ticks.minRotation),l=(a?Math.sin(s):Math.cos(s))||.001,f=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,f.lineHeight/l))}getPixelForValue(a){return null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}}function Wd(g){return g/Math.pow(10,Math.floor(Ze(g)))==1}Lc.id="linear",Lc.defaults={ticks:{callback:ml.formatters.numeric}};class Cl extends Ys{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(a,r){const s=ja.prototype.parse.apply(this,[a,r]);if(0!==s)return ne(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:a,max:r}=this.getMinMax(!0);this.min=ne(a)?Math.max(0,a):null,this.max=ne(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:a,maxDefined:r}=this.getUserBounds();let s=this.min,l=this.max;const f=D=>s=a?s:D,y=D=>l=r?l:D,T=(D,k)=>Math.pow(10,Math.floor(Ze(D))+k);s===l&&(s<=0?(f(1),y(10)):(f(T(s,-1)),y(T(l,1)))),s<=0&&f(T(l,-1)),l<=0&&y(T(s,1)),this._zero&&this.min!==this._suggestedMin&&s===T(this.min,0)&&f(T(s,-1)),this.min=s,this.max=l}buildTicks(){const a=this.options,s=function(g,a){const r=Math.floor(Ze(a.max)),s=Math.ceil(a.max/Math.pow(10,r)),l=[];let f=Pe(g.min,Math.pow(10,Math.floor(Ze(a.min)))),y=Math.floor(Ze(f)),T=Math.floor(f/Math.pow(10,y)),D=y<0?Math.pow(10,Math.abs(y)):1;do{l.push({value:f,major:Wd(f)}),++T,10===T&&(T=1,++y,D=y>=0?1:D),f=Math.round(T*Math.pow(10,y)*D)/D}while(y<r||y===r&&T<s);const k=Pe(g.max,f);return l.push({value:k,major:Wd(f)}),l}({min:this._userMin,max:this._userMax},this);return"ticks"===a.bounds&&ci(s,this,"value"),a.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(a){return void 0===a?"0":en(a,this.chart.options.locale,this.options.ticks.format)}configure(){const a=this.min;super.configure(),this._startValue=Ze(a),this._valueRange=Ze(this.max)-Ze(a)}getPixelForValue(a){return(void 0===a||0===a)&&(a=this.min),null===a||isNaN(a)?NaN:this.getPixelForDecimal(a===this.min?0:(Ze(a)-this._startValue)/this._valueRange)}getValueForPixel(a){const r=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+r*this._valueRange)}}function va(g){const a=g.ticks;if(a.display&&g.display){const r=pr(a.backdropPadding);return oe(a.font&&a.font.size,yn.font.size)+r.height}return 0}function ju(g,a,r){return r=q(r)?r:[r],{w:wo(g,a.string,r),h:r.length*a.lineHeight}}function Jl(g,a,r,s,l){return g===s||g===l?{start:a-r/2,end:a+r/2}:g<s||g>l?{start:a-r,end:a}:{start:a,end:a+r}}function md(g){return 0===g||180===g?"center":g<180?"left":"right"}function zd(g,a,r){return"right"===r?g-=a:"center"===r&&(g-=a/2),g}function fh(g,a,r){return 90===r||270===r?g-=a/2:(r>270||r<90)&&(g-=a),g}function co(g,a,r,s){const{ctx:l}=g;if(r)l.arc(g.xCenter,g.yCenter,a,0,Le);else{let f=g.getPointPosition(0,a);l.moveTo(f.x,f.y);for(let y=1;y<s;y++)f=g.getPointPosition(y,a),l.lineTo(f.x,f.y)}}function pu(g){return Ae(g)?g:0}Cl.id="logarithmic",Cl.defaults={ticks:{callback:ml.formatters.logarithmic,major:{enabled:!0}}};class O extends ja{constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=va(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:a,max:r}=this.getMinMax(!1);this.min=ne(a)&&!isNaN(a)?a:0,this.max=ne(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/va(this.options))}generateTickLabels(a){ja.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((r,s)=>{const l=ie(this.options.pointLabels.callback,[r,s],this);return l||0===l?l:""})}fit(){const a=this.options;a.display&&a.pointLabels.display?function(g){const a={l:0,r:g.width,t:0,b:g.height-g.paddingTop},r={},s=[],l=[],f=g.getLabels().length;for(let y=0;y<f;y++){const T=g.options.pointLabels.setContext(g.getPointLabelContext(y));l[y]=T.padding;const D=g.getPointPosition(y,g.drawingArea+l[y]),k=Dr(T.font),Y=ju(g.ctx,k,g._pointLabels[y]);s[y]=Y;const ue=g.getIndexAngle(y),Ie=li(ue),We=Jl(Ie,D.x,Y.w,0,180),at=Jl(Ie,D.y,Y.h,90,270);We.start<a.l&&(a.l=We.start,r.l=ue),We.end>a.r&&(a.r=We.end,r.r=ue),at.start<a.t&&(a.t=at.start,r.t=ue),at.end>a.b&&(a.b=at.end,r.b=ue)}g._setReductions(g.drawingArea,a,r),g._pointLabelItems=function(g,a,r){const s=[],l=g.getLabels().length,f=g.options,y=va(f),T=g.getDistanceFromCenterForValue(f.ticks.reverse?g.min:g.max);for(let D=0;D<l;D++){const Y=g.getPointPosition(D,T+(0===D?y/2:0)+r[D]),ue=li(g.getIndexAngle(D)),Ie=a[D],We=fh(Y.y,Ie.h,ue),at=md(ue),yt=zd(Y.x,Ie.w,at);s.push({x:Y.x,y:We,textAlign:at,left:yt,top:We,right:yt+Ie.w,bottom:We+Ie.h})}return s}(g,s,l)}(this):this.setCenterPoint(0,0,0,0)}_setReductions(a,r,s){let l=r.l/Math.sin(s.l),f=Math.max(r.r-this.width,0)/Math.sin(s.r),y=-r.t/Math.cos(s.t),T=-Math.max(r.b-(this.height-this.paddingTop),0)/Math.cos(s.b);l=pu(l),f=pu(f),y=pu(y),T=pu(T),this.drawingArea=Math.max(a/2,Math.min(Math.floor(a-(l+f)/2),Math.floor(a-(y+T)/2))),this.setCenterPoint(l,f,y,T)}setCenterPoint(a,r,s,l){const T=s+this.drawingArea,D=this.height-this.paddingTop-l-this.drawingArea;this.xCenter=Math.floor((a+this.drawingArea+(this.width-r-this.drawingArea))/2+this.left),this.yCenter=Math.floor((T+D)/2+this.top+this.paddingTop)}getIndexAngle(a){return jt(a*(Le/this.getLabels().length)+Zt(this.options.startAngle||0))}getDistanceFromCenterForValue(a){if(ce(a))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*r:(a-this.min)*r}getValueForDistanceFromCenter(a){if(ce(a))return NaN;const r=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(a){const r=this._pointLabels||[];if(a>=0&&a<r.length){const s=r[a];return function(g,a,r){return xo(g,{label:r,index:a,type:"pointLabel"})}(this.getContext(),a,s)}}getPointPosition(a,r){const s=this.getIndexAngle(a)-ze;return{x:Math.cos(s)*r+this.xCenter,y:Math.sin(s)*r+this.yCenter,angle:s}}getPointPositionForValue(a,r){return this.getPointPosition(a,this.getDistanceFromCenterForValue(r))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){const{left:r,top:s,right:l,bottom:f}=this._pointLabelItems[a];return{left:r,top:s,right:l,bottom:f}}drawBackground(){const{backgroundColor:a,grid:{circular:r}}=this.options;if(a){const s=this.ctx;s.save(),s.beginPath(),co(this,this.getDistanceFromCenterForValue(this._endValue),r,this.getLabels().length),s.closePath(),s.fillStyle=a,s.fill(),s.restore()}}drawGrid(){const a=this.ctx,r=this.options,{angleLines:s,grid:l}=r,f=this.getLabels().length;let y,T,D;if(r.pointLabels.display&&function(g,a){const{ctx:r,options:{pointLabels:s}}=g;for(let l=a-1;l>=0;l--){const f=s.setContext(g.getPointLabelContext(l)),y=Dr(f.font),{x:T,y:D,textAlign:k,left:Y,top:ue,right:Ie,bottom:We}=g._pointLabelItems[l],{backdropColor:at}=f;if(!ce(at)){const yt=pr(f.backdropPadding);r.fillStyle=at,r.fillRect(Y-yt.left,ue-yt.top,Ie-Y+yt.width,We-ue+yt.height)}Do(r,g._pointLabels[l],T,D+y.lineHeight/2,y,{color:f.color,textAlign:k,textBaseline:"middle"})}}(this,f),l.display&&this.ticks.forEach((k,Y)=>{0!==Y&&(T=this.getDistanceFromCenterForValue(k.value),function(g,a,r,s){const l=g.ctx,f=a.circular,{color:y,lineWidth:T}=a;!f&&!s||!y||!T||r<0||(l.save(),l.strokeStyle=y,l.lineWidth=T,l.setLineDash(a.borderDash),l.lineDashOffset=a.borderDashOffset,l.beginPath(),co(g,r,f,s),l.closePath(),l.stroke(),l.restore())}(this,l.setContext(this.getContext(Y-1)),T,f))}),s.display){for(a.save(),y=this.getLabels().length-1;y>=0;y--){const k=s.setContext(this.getPointLabelContext(y)),{color:Y,lineWidth:ue}=k;!ue||!Y||(a.lineWidth=ue,a.strokeStyle=Y,a.setLineDash(k.borderDash),a.lineDashOffset=k.borderDashOffset,T=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),D=this.getPointPosition(y,T),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(D.x,D.y),a.stroke())}a.restore()}}drawBorder(){}drawLabels(){const a=this.ctx,r=this.options,s=r.ticks;if(!s.display)return;const l=this.getIndexAngle(0);let f,y;a.save(),a.translate(this.xCenter,this.yCenter),a.rotate(l),a.textAlign="center",a.textBaseline="middle",this.ticks.forEach((T,D)=>{if(0===D&&!r.reverse)return;const k=s.setContext(this.getContext(D)),Y=Dr(k.font);if(f=this.getDistanceFromCenterForValue(this.ticks[D].value),k.showLabelBackdrop){a.font=Y.string,y=a.measureText(T.label).width,a.fillStyle=k.backdropColor;const ue=pr(k.backdropPadding);a.fillRect(-y/2-ue.left,-f-Y.size/2-ue.top,y+ue.width,Y.size+ue.height)}Do(a,T.label,0,-f,Y,{color:k.color})}),a.restore()}drawTitle(){}}O.id="radialLinear",O.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ml.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:g=>g,padding:5}},O.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},O.descriptors={angleLines:{_fallback:"grid"}};const U={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},J=Object.keys(U);function pe(g,a){return g-a}function Ve(g,a){if(ce(a))return null;const r=g._adapter,{parser:s,round:l,isoWeekday:f}=g._parseOpts;let y=a;return"function"==typeof s&&(y=s(y)),ne(y)||(y="string"==typeof s?r.parse(y,s):r.parse(y)),null===y?null:(l&&(y="week"!==l||!Ae(f)&&!0!==f?r.startOf(y,l):r.startOf(y,"isoWeek",f)),+y)}function Ue(g,a,r,s){const l=J.length;for(let f=J.indexOf(g);f<l-1;++f){const y=U[J[f]],T=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((r-a)/(T*y.size))<=s)return J[f]}return J[l-1]}function mt(g,a,r){if(r){if(r.length){const{lo:s,hi:l}=Ro(r,a);g[r[s]>=a?r[s]:r[l]]=!0}}else g[a]=!0}function Gt(g,a,r){const s=[],l={},f=a.length;let y,T;for(y=0;y<f;++y)T=a[y],l[T]=y,s.push({value:T,major:!1});return 0!==f&&r?function(g,a,r,s){const l=g._adapter,f=+l.startOf(a[0].value,s),y=a[a.length-1].value;let T,D;for(T=f;T<=y;T=+l.add(T,1,s))D=r[T],D>=0&&(a[D].major=!0);return a}(g,s,l,r):s}let Qt=(()=>{class g extends Ys{constructor(r){super(r),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(r,s){const l=r.time||(r.time={}),f=this._adapter=new Wo._date(r.adapters.date);Bt(l.displayFormats,f.formats()),this._parseOpts={parser:l.parser,round:l.round,isoWeekday:l.isoWeekday},super.init(r),this._normalized=s.normalized}parse(r,s){return void 0===r?null:Ve(this,r)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const r=this.options,s=this._adapter,l=r.time.unit||"day";let{min:f,max:y,minDefined:T,maxDefined:D}=this.getUserBounds();function k(Y){!T&&!isNaN(Y.min)&&(f=Math.min(f,Y.min)),!D&&!isNaN(Y.max)&&(y=Math.max(y,Y.max))}(!T||!D)&&(k(this._getLabelBounds()),("ticks"!==r.bounds||"labels"!==r.ticks.source)&&k(this.getMinMax(!1))),f=ne(f)&&!isNaN(f)?f:+s.startOf(Date.now(),l),y=ne(y)&&!isNaN(y)?y:+s.endOf(Date.now(),l)+1,this.min=Math.min(f,y-1),this.max=Math.max(f+1,y)}_getLabelBounds(){const r=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return r.length&&(s=r[0],l=r[r.length-1]),{min:s,max:l}}buildTicks(){const r=this.options,s=r.time,l=r.ticks,f="labels"===l.source?this.getLabelTimestamps():this._generate();"ticks"===r.bounds&&f.length&&(this.min=this._userMin||f[0],this.max=this._userMax||f[f.length-1]);const y=this.min,D=function(g,a,r){let s=0,l=g.length;for(;s<l&&g[s]<a;)s++;for(;l>s&&g[l-1]>r;)l--;return s>0||l<g.length?g.slice(s,l):g}(f,y,this.max);return this._unit=s.unit||(l.autoSkip?Ue(s.minUnit,this.min,this.max,this._getLabelCapacity(y)):function(g,a,r,s,l){for(let f=J.length-1;f>=J.indexOf(r);f--){const y=J[f];if(U[y].common&&g._adapter.diff(l,s,y)>=a-1)return y}return J[r?J.indexOf(r):0]}(this,D.length,s.minUnit,this.min,this.max)),this._majorUnit=l.major.enabled&&"year"!==this._unit?function(g){for(let a=J.indexOf(g)+1,r=J.length;a<r;++a)if(U[J[a]].common)return J[a]}(this._unit):void 0,this.initOffsets(f),r.reverse&&D.reverse(),Gt(this,D,this._majorUnit)}initOffsets(r){let f,y,s=0,l=0;this.options.offset&&r.length&&(f=this.getDecimalForValue(r[0]),s=1===r.length?1-f:(this.getDecimalForValue(r[1])-f)/2,y=this.getDecimalForValue(r[r.length-1]),l=1===r.length?y:(y-this.getDecimalForValue(r[r.length-2]))/2);const T=r.length<3?.5:.25;s=ut(s,0,T),l=ut(l,0,T),this._offsets={start:s,end:l,factor:1/(s+1+l)}}_generate(){const r=this._adapter,s=this.min,l=this.max,f=this.options,y=f.time,T=y.unit||Ue(y.minUnit,s,l,this._getLabelCapacity(s)),D=oe(y.stepSize,1),k="week"===T&&y.isoWeekday,Y=Ae(k)||!0===k,ue={};let We,at,Ie=s;if(Y&&(Ie=+r.startOf(Ie,"isoWeek",k)),Ie=+r.startOf(Ie,Y?"day":T),r.diff(l,s,T)>1e5*D)throw new Error(s+" and "+l+" are too far apart with stepSize of "+D+" "+T);const yt="data"===f.ticks.source&&this.getDataTimestamps();for(We=Ie,at=0;We<l;We=+r.add(We,D,T),at++)mt(ue,We,yt);return(We===l||"ticks"===f.bounds||1===at)&&mt(ue,We,yt),Object.keys(ue).sort((Dt,At)=>Dt-At).map(Dt=>+Dt)}getLabelForValue(r){const l=this.options.time;return this._adapter.format(r,l.tooltipFormat?l.tooltipFormat:l.displayFormats.datetime)}_tickFormatFunction(r,s,l,f){const y=this.options,T=y.time.displayFormats,D=this._unit,k=this._majorUnit,ue=k&&T[k],Ie=l[s],at=this._adapter.format(r,f||(k&&ue&&Ie&&Ie.major?ue:D&&T[D])),yt=y.ticks.callback;return yt?ie(yt,[at,s,l],this):at}generateTickLabels(r){let s,l,f;for(s=0,l=r.length;s<l;++s)f=r[s],f.label=this._tickFormatFunction(f.value,s,r)}getDecimalForValue(r){return null===r?NaN:(r-this.min)/(this.max-this.min)}getPixelForValue(r){const s=this._offsets,l=this.getDecimalForValue(r);return this.getPixelForDecimal((s.start+l)*s.factor)}getValueForPixel(r){const s=this._offsets,l=this.getDecimalForPixel(r)/s.factor-s.end;return this.min+l*(this.max-this.min)}_getLabelSize(r){const s=this.options.ticks,l=this.ctx.measureText(r).width,f=Zt(this.isHorizontal()?s.maxRotation:s.minRotation),y=Math.cos(f),T=Math.sin(f),D=this._resolveTickFontOptions(0).size;return{w:l*y+D*T,h:l*T+D*y}}_getLabelCapacity(r){const s=this.options.time,l=s.displayFormats,f=l[s.unit]||l.millisecond,y=this._tickFormatFunction(r,0,Gt(this,[r],this._majorUnit),f),T=this._getLabelSize(y),D=Math.floor(this.isHorizontal()?this.width/T.w:this.height/T.h)-1;return D>0?D:1}getDataTimestamps(){let s,l,r=this._cache.data||[];if(r.length)return r;const f=this.getMatchingVisibleMetas();if(this._normalized&&f.length)return this._cache.data=f[0].controller.getAllParsedValues(this);for(s=0,l=f.length;s<l;++s)r=r.concat(f[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const r=this._cache.labels||[];let s,l;if(r.length)return r;const f=this.getLabels();for(s=0,l=f.length;s<l;++s)r.push(Ve(this,f[s]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(r){return sr(r.sort(pe))}}return g.id="time",g.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},g})();function si(g,a,r){let f,y,T,D,s=0,l=g.length-1;r?(a>=g[s].pos&&a<=g[l].pos&&({lo:s,hi:l}=Qr(g,"pos",a)),({pos:f,time:T}=g[s]),({pos:y,time:D}=g[l])):(a>=g[s].time&&a<=g[l].time&&({lo:s,hi:l}=Qr(g,"time",a)),({time:f,pos:T}=g[s]),({time:y,pos:D}=g[l]));const k=y-f;return k?T+(D-T)*(a-f)/k:T}class Ti extends Qt{constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const a=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(a);this._minPos=si(r,this.min),this._tableRange=si(r,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(a){const{min:r,max:s}=this,l=[],f=[];let y,T,D,k,Y;for(y=0,T=a.length;y<T;++y)k=a[y],k>=r&&k<=s&&l.push(k);if(l.length<2)return[{time:r,pos:0},{time:s,pos:1}];for(y=0,T=l.length;y<T;++y)Y=l[y+1],D=l[y-1],k=l[y],Math.round((Y+D)/2)!==k&&f.push({time:k,pos:y/(T-1)});return f}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;const r=this.getDataTimestamps(),s=this.getLabelTimestamps();return a=r.length&&s.length?this.normalize(r.concat(s)):r.length?r:s,a=this._cache.all=a,a}getDecimalForValue(a){return(si(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(a){const r=this._offsets,s=this.getDecimalForPixel(a)/r.factor-r.end;return si(this._table,s*this._tableRange+this._minPos,!0)}}Ti.id="timeseries",Ti.defaults=Qt.defaults,Tt.register(ms,Au,cu,Object.freeze({__proto__:null,CategoryScale:$l,LinearScale:Lc,LogarithmicScale:Cl,RadialLinearScale:O,TimeScale:Qt,TimeSeriesScale:Ti}));const $i=Tt;var xi=h(54968),Xn=h(70262),En=h(93075),Rr=h(68675),ir=h(54004),Tr=h(39841),Xe=h(5e3),xs=h(48966),mo=h(33290),To=h(53251),Wn=h(67322),Po=h(77531),Yo=h(91079),ba=h(69808),ya=h(47423),Zl=h(63874),Wu=h(90508);function vd(g,a){if(1&g&&(Xe.TgZ(0,"mat-option",14),Xe._uU(1),Xe.qZA()),2&g){const r=a.$implicit;Xe.Q6J("value",r),Xe.xp6(1),Xe.hij(" ",r," ")}}function oa(g,a){if(1&g&&(Xe.TgZ(0,"mat-option",14),Xe._uU(1),Xe.qZA()),2&g){const r=a.$implicit;Xe.Q6J("value",r),Xe.xp6(1),Xe.hij(" ",r," ")}}function Yd(g,a){if(1&g){const r=Xe.EpF();Xe.TgZ(0,"tr"),Xe.TgZ(1,"td"),Xe._uU(2),Xe.qZA(),Xe.TgZ(3,"td"),Xe.TgZ(4,"button",15),Xe.NdJ("click",function(){const f=Xe.CHM(r).$implicit;return Xe.oxw().chooseDemo(f)}),Xe._uU(5),Xe.qZA(),Xe.qZA(),Xe.TgZ(6,"td"),Xe.TgZ(7,"b"),Xe._uU(8),Xe.qZA(),Xe._uU(9),Xe.qZA(),Xe.qZA()}if(2&g){const r=a.$implicit,s=a.index;let l,f;Xe.xp6(2),Xe.hij(" ",s+1," "),Xe.xp6(3),Xe.hij(" ",r.description," "),Xe.xp6(3),Xe.Oqu(null==r.categories||null==(l=r.categories.split(";"))?null:l.join(", ")),Xe.xp6(1),Xe.hij(" ",null==r.blocks||null==(f=r.blocks.split(";"))?null:f.join(", ")," ")}}function Xd(g,a){if(1&g){const r=Xe.EpF();Xe.TgZ(0,"button",15),Xe.NdJ("click",function(){return Xe.CHM(r),Xe.oxw().Verify()}),Xe.TgZ(1,"mat-icon"),Xe._uU(2,"save"),Xe.qZA(),Xe._uU(3," Verify LocalAPI "),Xe.qZA()}}function Hs(g,a){if(1&g){const r=Xe.EpF();Xe.TgZ(0,"tr"),Xe.TgZ(1,"td"),Xe._uU(2),Xe.qZA(),Xe.TgZ(3,"td"),Xe.TgZ(4,"button",15),Xe.NdJ("click",function(){const f=Xe.CHM(r).$implicit;return Xe.oxw().chooseDemo(f)}),Xe._uU(5),Xe.qZA(),Xe.qZA(),Xe.TgZ(6,"td"),Xe.TgZ(7,"b"),Xe._uU(8),Xe.qZA(),Xe._uU(9),Xe.qZA(),Xe.qZA()}if(2&g){const r=a.$implicit,s=a.index;let l,f;Xe.xp6(2),Xe.hij(" ",s+1," "),Xe.xp6(3),Xe.hij(" ",r.description||r.id," "),Xe.xp6(3),Xe.Oqu(null==r.categories||null==(l=r.categories.split(";"))?null:l.join(", ")),Xe.xp6(1),Xe.hij(" ",null==r.blocks||null==(f=r.blocks.split(";"))?null:f.join(", ")," ")}}let Ip=(()=>{class g{constructor(r,s){this.dialogRef=r,this.DetailsApp=s,this.BlocksLocal=[],this.demos=[],this.demosCategories=new Map,this.demosBlocks=new Map,this.demosArray=null,this.myBlocks=new En.NI,this.optionsBlocks=[],this.filteredOptionsBlocks=null,this.myCategories=new En.NI,this.mySearchText=new En.NI,this.optionsCategories=[],this.filteredOptionsCategories=null,this.InitiateDemos(),this.loadFromLocalAPI()}loadFromLocalAPI(){var r,s;(null===(r=this.DetailsApp.LocalAPI)||void 0===r?void 0:r.WasAlive)&&(null===(s=this.DetailsApp.LocalAPI)||void 0===s||s.LoadBlocks().subscribe(l=>{this.BlocksLocal=l}))}Verify(){var r;null===(r=this.DetailsApp.LocalAPI)||void 0===r||r.IsAlive().subscribe(s=>{s&&this.loadFromLocalAPI()})}InitiateDemos(){var r=this.DetailsApp.demoBlocks;this.demos=r.sort((s,l)=>s.description.localeCompare(l.description)),this.optionsCategories=[...new Set(r.map(s=>s.categories).filter(s=>(null==s?void 0:s.length)>0).flatMap(s=>s.split(";")).filter(s=>(null==s?void 0:s.length)>0).sort((s,l)=>s.toLocaleLowerCase().localeCompare(l.toLocaleLowerCase())))],this.optionsBlocks=[...new Set(r.map(s=>s.blocks).filter(s=>(null==s?void 0:s.length)>0).flatMap(s=>s.split(";")).filter(s=>(null==s?void 0:s.length)>0).sort((s,l)=>s.toLowerCase().localeCompare(l.toLowerCase())))],this.filteredOptionsBlocks=this.myBlocks.valueChanges.pipe((0,Rr.O)(""),(0,ir.U)(s=>{var l=(s||"").trim();return this._filter(l,this.optionsBlocks)})),this.filteredOptionsCategories=this.myCategories.valueChanges.pipe((0,Rr.O)(""),(0,ir.U)(s=>{var l=(s||"").trim();return this._filter(l,this.optionsCategories)})),this.demosArray=(0,Tr.a)([this.myBlocks.valueChanges.pipe((0,Rr.O)("")),this.myCategories.valueChanges.pipe((0,Rr.O)("")),this.mySearchText.valueChanges.pipe((0,Rr.O)(""))]).pipe((0,Rr.O)(this.demos),(0,ir.U)(([s,l,f])=>((Array.isArray(s)||"object"==typeof s)&&(s=""),(Array.isArray(l)||"object"==typeof l)&&(l=""),(Array.isArray(f)||"object"==typeof f)&&(f=""),s=(s||"").trim().toLowerCase(),l=(l||"").trim().toLowerCase(),f=(null==f?void 0:f.trim().toLowerCase())||"",this.demos.filter(T=>{var D,k,Y,ue,Ie,We;return(0==s.length||(null===(D=T.blocks)||void 0===D?void 0:D.toLowerCase().indexOf(s))>-1)&&(0==l.length||(null===(k=T.categories)||void 0===k?void 0:k.toLowerCase().indexOf(l))>-1)&&(0==f.length||(null===(Y=T.description)||void 0===Y?void 0:Y.toLowerCase().indexOf(f))>-1||(null===(ue=T.blocks)||void 0===ue?void 0:ue.toLowerCase().indexOf(f))>-1||(null===(Ie=T.categories)||void 0===Ie?void 0:Ie.toLowerCase().indexOf(f))>-1||(null===(We=T.id)||void 0===We?void 0:We.toLowerCase().indexOf(f))>-1)}))))}ngOnInit(){}_filter(r,s){const l=r.toLowerCase();return 0==l.length?s:s.filter(f=>f.toLowerCase().includes(l))}chooseDemo(r){return this.dialogRef.close(r)}Close(){this.dialogRef.close()}}return g.\u0275fac=function(r){return new(r||g)(Xe.Y36(xs.so),Xe.Y36(mo.d))},g.\u0275cmp=Xe.Xpm({type:g,selectors:[["app-find-saved-blocks"]],decls:52,vars:16,consts:[["label","Demos"],[1,"example-form"],["appearance","fill",1,"example-full-width"],["type","text","placeholder","Pick one","aria-label","Categories","matInput","",3,"formControl","matAutocomplete"],["autoCategories","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Pick one","aria-label","Blocks","matInput","",3,"formControl","matAutocomplete"],["autoBlocks","matAutocomplete"],["type","text","placeholder","enter text to search","matInput","",3,"formControl"],[4,"ngFor","ngForOf"],["label","Saved on local"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["label","CLOUD","disabled","disabled"],["mat-raised-button","","id","blocks","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,s){if(1&r&&(Xe.TgZ(0,"mat-tab-group"),Xe.TgZ(1,"mat-tab",0),Xe.TgZ(2,"form",1),Xe.TgZ(3,"mat-form-field",2),Xe.TgZ(4,"mat-label"),Xe._uU(5,"Categories"),Xe.qZA(),Xe._UZ(6,"input",3),Xe.TgZ(7,"mat-autocomplete",null,4),Xe.YNc(9,vd,2,2,"mat-option",5),Xe.ALo(10,"async"),Xe.qZA(),Xe.qZA(),Xe.TgZ(11,"mat-form-field",2),Xe.TgZ(12,"mat-label"),Xe._uU(13,"Blocks"),Xe.qZA(),Xe._UZ(14,"input",6),Xe.TgZ(15,"mat-autocomplete",null,7),Xe.YNc(17,oa,2,2,"mat-option",5),Xe.ALo(18,"async"),Xe.qZA(),Xe.qZA(),Xe.TgZ(19,"mat-form-field",2),Xe.TgZ(20,"mat-label"),Xe._uU(21,"Search"),Xe.qZA(),Xe._UZ(22,"input",8),Xe.qZA(),Xe.qZA(),Xe.TgZ(23,"table"),Xe.TgZ(24,"thead"),Xe.TgZ(25,"tr"),Xe.TgZ(26,"th"),Xe._uU(27,"Number"),Xe.qZA(),Xe.TgZ(28,"th"),Xe._uU(29,"Name"),Xe.qZA(),Xe.TgZ(30,"th"),Xe._uU(31,"Details"),Xe.qZA(),Xe.qZA(),Xe.qZA(),Xe.YNc(32,Yd,10,4,"tr",9),Xe.ALo(33,"async"),Xe.qZA(),Xe.qZA(),Xe.TgZ(34,"mat-tab",10),Xe.YNc(35,Xd,4,0,"button",11),Xe.TgZ(36,"table"),Xe.TgZ(37,"thead"),Xe.TgZ(38,"tr"),Xe.TgZ(39,"th"),Xe._uU(40,"Number"),Xe.qZA(),Xe.TgZ(41,"th"),Xe._uU(42,"Name"),Xe.qZA(),Xe.TgZ(43,"th"),Xe._uU(44,"Details"),Xe.qZA(),Xe.qZA(),Xe.qZA(),Xe.YNc(45,Hs,10,4,"tr",9),Xe.qZA(),Xe.qZA(),Xe.TgZ(46,"mat-tab",12),Xe._uU(47," Saved on Cloud "),Xe.qZA(),Xe.qZA(),Xe.TgZ(48,"button",13),Xe.NdJ("click",function(){return s.Close()}),Xe.TgZ(49,"mat-icon"),Xe._uU(50,"close"),Xe.qZA(),Xe._uU(51," Close\n"),Xe.qZA()),2&r){const l=Xe.MAs(8),f=Xe.MAs(16);Xe.xp6(6),Xe.Q6J("formControl",s.myCategories)("matAutocomplete",l),Xe.xp6(3),Xe.Q6J("ngForOf",Xe.lcZ(10,10,s.filteredOptionsCategories)),Xe.xp6(5),Xe.Q6J("formControl",s.myBlocks)("matAutocomplete",f),Xe.xp6(3),Xe.Q6J("ngForOf",Xe.lcZ(18,12,s.filteredOptionsBlocks)),Xe.xp6(5),Xe.Q6J("formControl",s.mySearchText),Xe.xp6(10),Xe.Q6J("ngForOf",Xe.lcZ(33,14,s.demosArray)),Xe.xp6(3),Xe.Q6J("ngIf",!(null!=s.DetailsApp.LocalAPI&&s.DetailsApp.LocalAPI.WasAlive)),Xe.xp6(10),Xe.Q6J("ngForOf",s.BlocksLocal)}},directives:[To.SP,To.uX,En._Y,En.JL,En.F,Wn.KE,Wn.hX,Po.Nt,En.Fj,Yo.ZL,En.JJ,En.oH,Yo.XC,ba.sg,ba.O5,ya.lW,Zl.Hw,Wu.ey],pipes:[ba.Ov],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid}table[_ngcontent-%COMP%]{width:100%;height:480px;margin:0 auto;display:block;overflow-x:auto;border-spacing:0}tbody[_ngcontent-%COMP%]{white-space:nowrap}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px 10px;border-top-width:0;border-left-width:0}th[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;vertical-align:bottom}th[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:last-child{border-right-width:0}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom-width:0}"]}),g})();class Tl{constructor(a){this.table=a}reloadData(a,r){return this.table.dataLoader.load(a,void 0,void 0,void 0,r)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(){return this.table.modules.layout.layout()}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(a){return this.table.eventBus.subscribed(a)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(a){return this.table.externalEvents.subscribed(a)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(a,r){return void 0!==r&&(this.table.options[a]=r),this.table.options[a]}setOption(a,r){return void 0!==r&&(this.table.options[a]=r),this.table.options[a]}module(a){return this.table.module(a)}}class ur extends Tl{constructor(a,r){super(a),this._handler=null}initialize(){}registerTableOption(a,r){this.table.optionsList.register(a,r)}registerColumnOption(a,r){this.table.columnManager.optionsList.register(a,r)}registerTableFunction(a,r){void 0===this.table[a]?this.table[a]=r:console.warn("Unable to bind table function, name already in use",a)}registerComponentFunction(a,r,s){return this.table.componentFunctionBinder.bind(a,r,s)}registerDataHandler(a,r){this.table.rowManager.registerDataPipelineHandler(a,r),this._handler=a}registerDisplayHandler(a,r){this.table.rowManager.registerDisplayPipelineHandler(a,r),this._handler=a}refreshData(a,r){r||(r=this._handler),r&&this.table.rowManager.refreshActiveData(r,!1,a)}}class _o{static elVisible(a){return!(a.offsetWidth<=0&&a.offsetHeight<=0)}static elOffset(a){var r=a.getBoundingClientRect();return{top:r.top+window.pageYOffset-document.documentElement.clientTop,left:r.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(a,r,s=[]){var l={}.__proto__,f=[].__proto__;for(var y in r||(r=Object.assign(Array.isArray(a)?[]:{},a)),a){let D,k,T=a[y];null!=T&&"object"==typeof T&&(T.__proto__===l||T.__proto__===f)&&(D=s.findIndex(Y=>Y.subject===T),D>-1?r[y]=s[D].copy:(k=Object.assign(Array.isArray(T)?[]:{},T),s.unshift({subject:T,copy:k}),r[y]=this.deepClone(T,k,s)))}return r}}var Ap={};let bd=(()=>{class g extends ur{constructor(r){super(r),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(r){var s=!1,l={};this.allowedTypes.forEach(f=>{var T,y="accessor"+(f.charAt(0).toUpperCase()+f.slice(1));r.definition[y]&&(T=this.lookupAccessor(r.definition[y]))&&(s=!0,l[y]={accessor:T,params:r.definition[y+"Params"]||{}})}),s&&(r.modules.accessor=l)}lookupAccessor(r){var s=!1;switch(typeof r){case"string":g.accessors[r]?s=g.accessors[r]:console.warn("Accessor Error - No such accessor found, ignoring: ",r);break;case"function":s=r}return s}transformRow(r,s){var l="accessor"+(s.charAt(0).toUpperCase()+s.slice(1)),f=r.getComponent(),y=_o.deepClone(r.data||{});return this.table.columnManager.traverse(function(T){var D,k,Y,ue;T.modules.accessor&&(k=T.modules.accessor[l]||T.modules.accessor.accessor||!1)&&"undefined"!=(D=T.getFieldValue(y))&&(ue=T.getComponent(),Y="function"==typeof k.params?k.params(D,y,s,ue,f):k.params,T.setFieldValue(y,k.accessor(D,y,s,Y,ue,f)))}),y}}return g.moduleName="accessor",g.accessors=Ap,g})();var zu={method:"GET"};function Pn(g,a){var r=[];if(a=a||"",Array.isArray(g))g.forEach((l,f)=>{r=r.concat(Pn(l,a?a+"["+f+"]":f))});else if("object"==typeof g)for(var s in g)r=r.concat(Pn(g[s],a?a+"["+s+"]":s));else r.push({key:a,value:g});return r}function Yu(g){var a=Pn(g),r=[];return a.forEach(function(s){r.push(encodeURIComponent(s.key)+"="+encodeURIComponent(s.value))}),r.join("&")}function Xh(g,a,r){return g&&r&&Object.keys(r).length&&(!a.method||"get"==a.method.toLowerCase())&&(a.method="get",g+=(g.includes("?")?"&":"?")+Yu(r)),g}function Kh(g,a,r){var s;return new Promise((l,f)=>{if(g=this.urlGenerator.call(this.table,g,a,r),"GET"!=a.method.toUpperCase())if(s="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var y in s.headers)a.headers||(a.headers={}),void 0===a.headers[y]&&(a.headers[y]=s.headers[y]);a.body=s.body.call(this,g,a,r)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);g?(void 0===a.headers&&(a.headers={}),void 0===a.headers.Accept&&(a.headers.Accept="application/json"),void 0===a.headers["X-Requested-With"]&&(a.headers["X-Requested-With"]="XMLHttpRequest"),void 0===a.mode&&(a.mode="cors"),"cors"==a.mode?(void 0===a.headers.Origin&&(a.headers.Origin=window.location.origin),void 0===a.credentials&&(a.credentials="same-origin")):void 0===a.credentials&&(a.credentials="include"),fetch(g,a).then(T=>{T.ok?T.json().then(D=>{l(D)}).catch(D=>{f(D),console.warn("Ajax Load Error - Invalid JSON returned",D)}):(console.error("Ajax Load Error - Connection Error: "+T.status,T.statusText),f(T))}).catch(T=>{console.error("Ajax Load Error - Connection Error: ",T),f(T)})):(console.warn("Ajax Load Error - No URL Set"),l([]))})}function Xu(g,a){var r=[];if(a=a||"",Array.isArray(g))g.forEach((l,f)=>{r=r.concat(Xu(l,a?a+"["+f+"]":f))});else if("object"==typeof g)for(var s in g)r=r.concat(Xu(g[s],a?a+"["+s+"]":s));else r.push({key:a,value:g});return r}var wl={json:{headers:{"Content-Type":"application/json"},body:function(g,a,r){return JSON.stringify(r)}},form:{headers:{},body:function(g,a,r){var s=Xu(r),l=new FormData;return s.forEach(function(f){l.append(f.key,f.value)}),l}}};let $h=(()=>{class g extends ur{constructor(r){super(r),this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=g.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||g.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||g.defaultURLGenerator,this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestDataCheck(r,s,l,f){return!((r||!this.url)&&"string"!=typeof r)}requestData(r,s,l,f,y){return this.requestDataCheck(r)?(r&&this.setUrl(r),s&&this.setParams(s,!0),l&&this.setConfig(l),this.sendRequest()):y}setParams(r,s){if(s){this.params=this.params||{};for(let l in r)this.params[l]=r[l]}else this.params=r}getParams(){return this.params||{}}setConfig(r){if(this._loadDefaultConfig(),"string"==typeof r)this.config.method=r;else for(let s in r)this.config[s]=r[s]}_loadDefaultConfig(r){if(!this.config||r){this.config={};for(let s in g.defaultConfig)this.config[s]=g.defaultConfig[s]}}setUrl(r){this.url=r}getUrl(){return this.url}sendRequest(r){var s=this.url;return this._loadDefaultConfig(),!1!==this.table.options.ajaxRequesting.call(this.table,this.url,this.params)?this.loaderPromise(s,this.config,this.params).then(l=>(this.table.options.ajaxResponse&&(l=this.table.options.ajaxResponse.call(this.table,this.url,this.params,l)),l)):Promise.reject()}}return g.moduleName="ajax",g.defaultConfig=zu,g.defaultURLGenerator=Xh,g.defaultLoaderPromise=Kh,g.contentTypeFormatters=wl,g})();var Ql={replace:function(g){return this.table.setData(g)},update:function(g){return this.table.updateOrAddData(g)},insert:function(g){return this.table.addData(g)}},za={table:function(g){var a=[],r=!0,s=this.table.columnManager.columns,l=[],f=[];return(g=g.split("\n")).forEach(function(y){a.push(y.split("\t"))}),!(!a.length||1===a.length&&a[0].length<2)&&(a[0].forEach(function(y){var T=s.find(function(D){return y&&D.definition.title&&y.trim()&&D.definition.title.trim()===y.trim()});T?l.push(T):r=!1}),r||(r=!0,l=[],a[0].forEach(function(y){var T=s.find(function(D){return y&&D.field&&y.trim()&&D.field.trim()===y.trim()});T?l.push(T):r=!1}),r||(l=this.table.columnManager.columnsByIndex)),r&&a.shift(),a.forEach(function(y){var T={};y.forEach(function(D,k){l[k]&&(T[l[k].field]=D)}),f.push(T)}),f)}};let Sl=(()=>{class g extends ur{constructor(r){super(r),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(!0===this.mode||"copy"===this.mode)&&this.table.element.addEventListener("copy",r=>{var s,l;if(!this.blocked){if(r.preventDefault(),this.customSelection)s=this.customSelection,this.table.options.clipboardCopyFormatter&&(s=this.table.options.clipboardCopyFormatter("plain",s));else{var f=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard");s=(l=this.table.modules.export.genereateHTMLTable(f))?this.generatePlainContent(f):"",this.table.options.clipboardCopyFormatter&&(s=this.table.options.clipboardCopyFormatter("plain",s),l=this.table.options.clipboardCopyFormatter("html",l))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",s):r.clipboardData&&r.clipboardData.setData?(r.clipboardData.setData("text/plain",s),l&&r.clipboardData.setData("text/html",l)):r.originalEvent&&r.originalEvent.clipboardData.setData&&(r.originalEvent.clipboardData.setData("text/plain",s),l&&r.originalEvent.clipboardData.setData("text/html",l)),this.dispatchExternal("clipboardCopied",s,l),this.reset()}}),(!0===this.mode||"paste"===this.mode)&&this.table.element.addEventListener("paste",r=>{this.paste(r)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(r){var s=[];return r.forEach(l=>{var f=[];l.columns.forEach(y=>{var T="";if(y)if("group"===l.type&&(y.value=y.component.getKey()),null===y.value)T="";else switch(typeof y.value){case"object":T=JSON.stringify(y.value);break;case"undefined":T="";break;default:T=y.value}f.push(T)}),s.push(f.join("\t"))}),s.join("\n")}copy(r,s){var l,f;this.blocked=!1,this.customSelection=!1,(!0===this.mode||"copy"===this.mode)&&(this.rowRange=r||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((r=document.createRange()).selectNodeContents(this.table.element),(l=window.getSelection()).toString()&&s&&(this.customSelection=l.toString()),l.removeAllRanges(),l.addRange(r)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((f=document.body.createTextRange()).moveToElementText(this.table.element),f.select()),document.execCommand("copy"),l&&l.removeAllRanges())}setPasteAction(r){switch(typeof r){case"string":this.pasteAction=g.pasteActions[r],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",r);break;case"function":this.pasteAction=r}}setPasteParser(r){switch(typeof r){case"string":this.pasteParser=g.pasteParsers[r],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",r);break;case"function":this.pasteParser=r}}paste(r){var s,l,f;this.checkPaseOrigin(r)&&(s=this.getPasteData(r),(l=this.pasteParser.call(this,s))?(r.preventDefault(),this.table.modExists("mutator")&&(l=this.mutateData(l)),f=this.pasteAction.call(this,l),this.dispatchExternal("clipboardPasted",s,l,f)):this.dispatchExternal("clipboardPasteError",s))}mutateData(r){var s=[];return Array.isArray(r)?r.forEach(l=>{s.push(this.table.modules.mutator.transformRow(l,"clipboard"))}):s=r,s}checkPaseOrigin(r){var s=!0;return("DIV"!=r.target.tagName||this.table.modules.edit.currentCell)&&(s=!1),s}getPasteData(r){var s;return window.clipboardData&&window.clipboardData.getData?s=window.clipboardData.getData("Text"):r.clipboardData&&r.clipboardData.getData?s=r.clipboardData.getData("text/plain"):r.originalEvent&&r.originalEvent.clipboardData.getData&&(s=r.originalEvent.clipboardData.getData("text/plain")),s}}return g.moduleName="clipboard",g.pasteActions=Ql,g.pasteParsers=za,g})();class Kd{constructor(a){return this._row=a,new Proxy(this,{get:function(r,s,l){return void 0!==r[s]?r[s]:r._row.table.componentFunctionBinder.handle("row",r._row,s)}})}getData(a){return this._row.getData(a)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var a=[];return this._row.getCells().forEach(function(r){a.push(r.getComponent())}),a}getCell(a){var r=this._row.getCell(a);return!!r&&r.getComponent()}_getSelf(){return this._row}}class Ku{constructor(a){return this._cell=a,new Proxy(this,{get:function(r,s,l){return void 0!==r[s]?r[s]:r._cell.table.componentFunctionBinder.handle("cell",r._cell,s)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(a,r){void 0===r&&(r=!0),this._cell.setValue(a,r)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class fu extends Tl{constructor(a,r){super(a.table),this.table=a.table,this.column=a,this.row=r,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element}_configureCell(){var a=this.element,r=this.column.getField();a.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(a.style.display="inline-flex",a.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(a.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),r&&a.setAttribute("tabulator-field",r),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(y=>{a.classList.add(y)}),"hover"===this.table.options.tooltipGenerationMode&&a.addEventListener("mouseenter",y=>{this._generateTooltip()}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var a;switch(typeof(a=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(a instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(a)}else this.element.innerHTML="",null!=a&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",a);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=a}}cellRendered(){this.dispatch("cell-rendered",this)}_generateTooltip(){var a=this.column.tooltip;a?(!0===a?a=this.value:"function"==typeof a&&!1===(a=a(this.getComponent()))&&(a=""),void 0===a&&(a=""),this.element.setAttribute("title",a)):this.element.setAttribute("title","")}getElement(a){return this.loaded||(this.loaded=!0,a||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(a,r){this.setValueProcessData(a,r)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(a,r){var s=!1;return this.value!=a&&(s=!0,r&&(a=this.chain("cell-value-changing",[this,a],null,a))),this.setValueActual(a),s&&this.dispatch("cell-value-changed",this),s}setValueActual(a){this.oldValue=this.value,this.value=a,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,a),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this._generateTooltip(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new Ku(this)),this.component}}class $d{constructor(a){return this._column=a,this.type="ColumnComponent",new Proxy(this,{get:function(r,s,l){return void 0!==r[s]?r[s]:r._column.table.componentFunctionBinder.handle("column",r._column,s)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getCells(){var a=[];return this._column.cells.forEach(function(r){a.push(r.getComponent())}),a}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(a){a.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(a){a.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var a=[];return this._column.columns.length&&this._column.columns.forEach(function(r){a.push(r.getComponent())}),a}getParentColumn(){return this._column.parent instanceof Column&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(a,r){var s=this._column.table.columnManager.findColumn(a);s?this._column.table.columnManager.moveColumn(this._column,s,r):console.warn("Move Error - No matching column found:",s)}getNextColumn(){var a=this._column.nextColumn();return!!a&&a.getComponent()}getPrevColumn(){var a=this._column.prevColumn();return!!a&&a.getComponent()}updateDefinition(a){return this._column.updateDefinition(a)}getWidth(){return this._column.getWidth()}setWidth(a){var r;return r=!0===a?this._column.reinitializeWidth(!0):this._column.setWidth(a),this._column.table.columnManager.renderer.rerenderColumns(!0),r}}var yd={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,tooltip:void 0,cssClass:void 0,variableHeight:void 0,headerTooltip:void 0,headerVertical:void 0,headerHozAlign:void 0,editableTitle:void 0};let Jd=(()=>{class g extends Tl{constructor(r,s){super(s.table),this.definition=r,this.parent=s,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((l,f)=>{var y=new g(l,this);this.attachColumn(y)}),this.checkColumnVisibility()):s.registerColumnField(this),this._initialize(),this.bindModuleColumns()}createElement(){var r=document.createElement("div");return r.classList.add("tabulator-col"),r.setAttribute("role","columnheader"),r.setAttribute("aria-sort","none"),r}createGroupElement(){var r=document.createElement("div");return r.classList.add("tabulator-col-group-cols"),r}mapDefinitions(){var r=this.table.options.columnDefaults;if(r)for(let s in r)void 0===this.definition[s]&&(this.definition[s]=r[s]);this.definition=this.table.columnManager.optionsList.generate(g.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(r=>{-1===g.defaultOptionList.indexOf(r)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",r)})}setField(r){this.field=r,this.fieldStructure=r?this.table.options.nestedFieldSeparator?r.split(this.table.options.nestedFieldSeparator):[r]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(r){this.parent.registerColumnPosition(r)}registerColumnField(r){this.parent.registerColumnField(r)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(r){r.reRegisterPosition()}):this.registerColumnPosition(this)}_mapDepricatedFunctionality(){}setTooltip(){var r=this.definition,s=void 0===r.headerTooltip?r.tooltip:r.headerTooltip;s?!0===s?r.field?this.langBind("columns|"+r.field,l=>{this.element.setAttribute("title",l||r.title)}):this.element.setAttribute("title",r.title):("function"==typeof s&&!1===(s=s(this.getComponent()))&&(s=""),this.element.setAttribute("title",s)):this.element.setAttribute("title","")}_initialize(){for(var r=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);r.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===r.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._bindEvents(),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.setTooltip(),this.dispatch("column-init",this),this.element.addEventListener("mouseenter",s=>{this.setTooltip()})}_bindEvents(){var s,l,f,r=this.definition;"function"==typeof r.headerClick&&this.element.addEventListener("click",y=>{r.headerClick(y,this.getComponent())}),"function"==typeof r.headerDblClick&&this.element.addEventListener("dblclick",y=>{r.headerDblClick(y,this.getComponent())}),"function"==typeof r.headerContext&&this.element.addEventListener("contextmenu",y=>{r.headerContext(y,this.getComponent())}),"function"==typeof r.headerTap&&(f=!1,this.element.addEventListener("touchstart",y=>{f=!0},{passive:!0}),this.element.addEventListener("touchend",y=>{f&&r.headerTap(y,this.getComponent()),f=!1})),"function"==typeof r.headerDblTap&&(s=null,this.element.addEventListener("touchend",y=>{s?(clearTimeout(s),s=null,r.headerDblTap(y,this.getComponent())):s=setTimeout(()=>{clearTimeout(s),s=null},300)})),"function"==typeof r.headerTapHold&&(l=null,this.element.addEventListener("touchstart",y=>{clearTimeout(l),l=setTimeout(function(){clearTimeout(l),l=null,f=!1,r.headerTapHold(y,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",y=>{clearTimeout(l),l=null}))}_buildColumnHeader(){var r=this.definition;this.dispatch("column-layout",this),void 0!==r.visible&&(r.visible?this.show(!0):this.hide(!0)),r.cssClass&&r.cssClass.split(" ").forEach(f=>{this.element.classList.add(f)}),r.field&&this.element.setAttribute("tabulator-field",r.field),this.setMinWidth(parseInt(r.minWidth)),r.maxWidth&&this.setMaxWidth(parseInt(r.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip,this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var l=document.createElement("div");return l.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),l.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),l}_buildColumnHeaderTitle(){var r=this.definition,s=document.createElement("div");if(s.classList.add("tabulator-col-title"),r.editableTitle){var l=document.createElement("input");l.classList.add("tabulator-title-editor"),l.addEventListener("click",f=>{f.stopPropagation(),l.focus()}),l.addEventListener("change",()=>{r.title=l.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),s.appendChild(l),r.field?this.langBind("columns|"+r.field,f=>{l.value=f||r.title||"&nbsp;"}):l.value=r.title||"&nbsp;"}else r.field?this.langBind("columns|"+r.field,f=>{this._formatColumnHeaderTitle(s,f||r.title||"&nbsp;")}):this._formatColumnHeaderTitle(s,r.title||"&nbsp;");return s}_formatColumnHeaderTitle(r,s){var l=this.chain("column-format",[this,s,r],null,()=>s);switch(typeof l){case"object":l instanceof Node?r.appendChild(l):(r.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",l));break;case"undefined":case"null":r.innerHTML="";break;default:r.innerHTML=l}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(s=>{this.element.classList.add(s)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(r){return r[this.field]}_getNestedData(r){var y,s=r,l=this.fieldStructure,f=l.length;for(let T=0;T<f&&(y=s=s[l[T]],s);T++);return y}_setFlatData(r,s){this.field&&(r[this.field]=s)}_setNestedData(r,s){var l=r,f=this.fieldStructure,y=f.length;for(let T=0;T<y;T++)if(T==y-1)l[f[T]]=s;else{if(!l[f[T]]){if(void 0===s)break;l[f[T]]={}}l=l[f[T]]}}attachColumn(r){this.groupElement?(this.columns.push(r),this.groupElement.appendChild(r.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(r,s){var l=this.parent.isGroup?this.parent.getGroupElement().clientHeight:s||this.parent.getHeadersElement().clientHeight;this.element.style.height=l+"px",this.isGroup&&(this.groupElement.style.minHeight=l-this.contentElement.offsetHeight+"px"),!this.isGroup&&"top"!==r&&(this.element.style.paddingTop="bottom"===r?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(f){f.verticalAlign(r)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(r){r.clearVerticalAlign()})}bindModuleColumns(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(){return this.columns}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(r){var s=[];return this.isGroup&&r&&(this.columns.forEach(function(l){s.push(l.getDefinition(!0))}),this.definition.columns=s),this.definition}checkColumnVisibility(){var r=!1;this.columns.forEach(function(s){s.visible&&(r=!0)}),r?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(r,s){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(l){l.show()}),!this.isGroup&&null===this.width&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,s),r||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}hide(r,s){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(l){l.hide()}),this.dispatch("column-hide",this),r||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}matchChildWidths(){var r=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(s){s.visible&&(r+=s.getWidth())}),this.contentElement.style.maxWidth=r-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(r){var s=this.columns.indexOf(r);s>-1&&this.columns.splice(s,1),this.columns.length||this.delete()}setWidth(r){this.widthFixed=!0,this.setWidthActual(r)}setWidthActual(r){isNaN(r)&&(r=Math.floor(this.table.element.clientWidth/100*parseInt(r))),r=Math.max(this.minWidth,r),this.maxWidth&&(r=Math.min(this.maxWidth,r)),this.width=r,this.widthStyled=r?r+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(s){s.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var r=[];this.cells.forEach(function(s){s.row.heightInitialized&&(null!==s.row.getElement().offsetParent?(r.push(s.row),s.row.clearCellHeight()):s.row.heightInitialized=!1)}),r.forEach(function(s){s.calcHeight()}),r.forEach(function(s){s.setCellHeight()})}getWidth(){var r=0;return this.isGroup?this.columns.forEach(function(s){s.visible&&(r+=s.getWidth())}):r=this.width,r}getHeight(){return this.element.offsetHeight}setMinWidth(r){this.minWidth=r,this.minWidthStyled=r?r+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(s){s.setMinWidth()})}setMaxWidth(r){this.maxWidth=r,this.maxWidthStyled=r?r+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(s){s.setMaxWidth()})}delete(){return new Promise((r,s)=>{this.isGroup&&this.columns.forEach(function(f){f.delete()}),this.dispatch("column-delete",this);var l=this.cells.length;for(let f=0;f<l;f++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.renderer.rerenderColumns(!0),r()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered()}generateCell(r){var s=new fu(this,r);return this.cells.push(s),s}nextColumn(){var r=this.table.columnManager.findColumnIndex(this);return r>-1&&this._nextVisibleColumn(r+1)}_nextVisibleColumn(r){var s=this.table.columnManager.getColumnByIndex(r);return!s||s.visible?s:this._nextVisibleColumn(r+1)}prevColumn(){var r=this.table.columnManager.findColumnIndex(this);return r>-1&&this._prevVisibleColumn(r-1)}_prevVisibleColumn(r){var s=this.table.columnManager.getColumnByIndex(r);return!s||s.visible?s:this._prevVisibleColumn(r-1)}reinitializeWidth(r){this.widthFixed=!1,void 0!==this.definition.width&&!r&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(),this.dispatch("column-width-fit-after",this)}fitToData(){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(s=>{s.clearWidth()}));var r=this.element.offsetWidth;(!this.width||!this.widthFixed)&&(this.cells.forEach(s=>{var l=s.getWidth();l>r&&(r=l)}),r&&this.setWidthActual(r+1))}}updateDefinition(r){var s;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(s=Object.assign({},this.getDefinition()),s=Object.assign(s,r),this.table.columnManager.addColumn(s,!1,this).then(l=>(s.field==this.field&&(this.field=!1),this.delete().then(()=>l.getComponent()))))}deleteCell(r){var s=this.cells.indexOf(r);s>-1&&this.cells.splice(s,1)}getComponent(){return this.component||(this.component=new $d(this)),this.component}}return g.defaultOptionList=yd,g})();class gu{constructor(a){return this._row=a,new Proxy(this,{get:function(r,s,l){return void 0!==r[s]?r[s]:r._row.table.componentFunctionBinder.handle("row",r._row,s)}})}getData(a){return this._row.getData(a)}getElement(){return this._row.getElement()}getCells(){var a=[];return this._row.getCells().forEach(function(r){a.push(r.getComponent())}),a}getCell(a){var r=this._row.getCell(a);return!!r&&r.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(a){return this._row.table.rowManager.getRowPosition(this._row,a)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(a,r){this._row.moveToRow(a,r)}update(a){return this._row.updateData(a)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var a=this._row.nextRow();return a&&a.getComponent()}getPrevRow(){var a=this._row.prevRow();return a&&a.getComponent()}}class Vs extends Tl{constructor(a,r,s="row"){super(r.table),this.parent=r,this.data={},this.type=s,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(a)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var a=document.createElement("div");a.classList.add("tabulator-row"),a.setAttribute("role","row"),this.element=a}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(a){if(this.create(),!this.initialized||a){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.table.columnManager.renderer.renderRowCells(this),a&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.initialized=!0,this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitializeHeight(){this.heightInitialized=!1}reinitialize(a){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(a){var r=0,s=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(l){var f=l.getHeight();f>r&&(r=f)}),this.height=a?Math.max(r,s):this.manualHeight?this.height:Math.max(r,s),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(a){a.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(a){a.clearHeight()})}normalizeHeight(a){a&&this.clearCellHeight(),this.calcHeight(a),this.setCellHeight()}setHeight(a,r){(this.height!=a||r)&&(this.manualHeight=!0,this.height=a,this.heightStyled=a?a+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(a){var r=this.cells.indexOf(a);r>-1&&this.cells.splice(r,1)}setData(a){this.data=this.chain("row-data-init-before",[this,a],void 0,a),this.dispatch("row-data-init-after",this)}updateData(a){var l,r=this.element&&_o.elVisible(this.element),s={};return new Promise((f,y)=>{for(var T in"string"==typeof a&&(a=JSON.parse(a)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(s=Object.assign(s,this.data),s=Object.assign(s,a)),l=this.chain("row-data-changing",[this,s,a],null,a))this.data[T]=l[T];for(var T in this.dispatch("row-data-save-after",this),a)this.table.columnManager.getColumnsByFieldRoot(T).forEach(Y=>{let ue=this.getCell(Y.getField());if(ue){let Ie=Y.getFieldValue(l);ue.getValue()!=Ie&&(ue.setValueProcessData(Ie),r&&ue.cellRendered())}});r?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,r,a),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),f()})}getData(a){return a?this.chain("row-data-retrieve",[this,a],null,this.data):this.data}getCell(a){return a=this.table.columnManager.findColumn(a),this.initialized||this.generateCells(),this.cells.find(function(s){return s.column===a})}getCellIndex(a){return this.cells.findIndex(function(r){return r===a})}findCell(a){return this.cells.find(r=>r.element===a)}getCells(){return this.initialized||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(a,r){var s=this.table.rowManager.findRow(a);s?(this.table.rowManager.moveRowActual(this,s,!r),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",a)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(a){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.rowManager.deleteRow(this,a),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detatchModules(){this.dispatch("row-deleting",this)}deleteCells(){var a=this.cells.length;for(let r=0;r<a;r++)this.cells[0].delete()}wipe(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new gu(this)),this.component}}var Zd={avg:function(g,a,r){var s=0,l=void 0!==r.precision?r.precision:2;return g.length&&(s=g.reduce(function(f,y){return Number(f)+Number(y)}),s/=g.length,s=!1!==l?s.toFixed(l):s),parseFloat(s).toString()},max:function(g,a,r){var s=null,l=void 0!==r.precision&&r.precision;return g.forEach(function(f){((f=Number(f))>s||null===s)&&(s=f)}),null!==s?!1!==l?s.toFixed(l):s:""},min:function(g,a,r){var s=null,l=void 0!==r.precision&&r.precision;return g.forEach(function(f){((f=Number(f))<s||null===s)&&(s=f)}),null!==s?!1!==l?s.toFixed(l):s:""},sum:function(g,a,r){var s=0,l=void 0!==r.precision&&r.precision;return g.length&&g.forEach(function(f){f=Number(f),s+=isNaN(f)?0:Number(f)}),!1!==l?s.toFixed(l):s},concat:function(g,a,r){var s=0;return g.length&&(s=g.reduce(function(l,f){return String(l)+String(f)})),s},count:function(g,a,r){var s=0;return g.length&&g.forEach(function(l){l&&s++}),s}};let Qd=(()=>{class g extends ur{constructor(r){super(r),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var r=document.createElement("div");return r.classList.add("tabulator-calcs-holder"),r}initialize(){this.genColumn=new Jd({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refeshed",this.recalcActiveRows.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this))}tableRedraw(r){this.recalc(this.table.rowManager.activeRows),r&&this.redraw()}userRecalc(){this.recalc(this.table.rowManager.activeRows)}rowsUpdated(r){this.table.options.groupBy?this.recalcRowGroup(this):this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(r){(r.column.definition.topCalc||r.column.definition.bottomCalc)&&(this.table.options.groupBy?(("table"==this.table.options.columnCalcs||"both"==this.table.options.columnCalcs)&&this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(r.row)):this.recalcActiveRows())}initializeColumnCheck(r){(r.definition.topCalc||r.definition.bottomCalc)&&this.initializeColumn(r)}initializeColumn(r){var s=r.definition,l={topCalcParams:s.topCalcParams||{},botCalcParams:s.bottomCalcParams||{}};if(s.topCalc){switch(typeof s.topCalc){case"string":g.calculations[s.topCalc]?l.topCalc=g.calculations[s.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",s.topCalc);break;case"function":l.topCalc=s.topCalc}l.topCalc&&(r.modules.columnCalcs=l,this.topCalcs.push(r),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(s.bottomCalc){switch(typeof s.bottomCalc){case"string":g.calculations[s.bottomCalc]?l.botCalc=g.calculations[s.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",s.bottomCalc);break;case"function":l.botCalc=s.bottomCalc}l.botCalc&&(r.modules.columnCalcs=l,this.botCalcs.push(r),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var r=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),r=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),r=!0),r&&this.table.rowManager.adjustTableSize()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(r){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-r+"px")}recalc(r){var s;if(this.topInitialized||this.botInitialized){if(this.rowsToData(r),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),s=this.generateRow("top",this.rowsToData(r)),this.topRow=s;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(s.getElement()),s.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),s=this.generateRow("bottom",this.rowsToData(r)),this.botRow=s;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(s.getElement()),s.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(r){this.recalcGroup(this.table.modules.groupRows.getRowGroup(r))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&this.table.modules.groupRows.getChildGroups().forEach(s=>{this.recalcGroup(s)})}recalcGroup(r){var s,l;r&&r.calcs&&(r.calcs.bottom&&(s=this.rowsToData(r.rows),l=this.generateRowData("bottom",s),r.calcs.bottom.updateData(l),r.calcs.bottom.reinitialize()),r.calcs.top&&(s=this.rowsToData(r.rows),l=this.generateRowData("top",s),r.calcs.top.updateData(l),r.calcs.top.reinitialize()))}generateTopRow(r){return this.generateRow("top",this.rowsToData(r))}generateBottomRow(r){return this.generateRow("bottom",this.rowsToData(r))}rowsToData(r){var s=[];return r.forEach(l=>{if(s.push(l.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&l.modules.dataTree.open){var f=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(l));s=s.concat(f)}}),s}generateRow(r,s){var f,l=this.generateRowData(r,s);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),f=new Vs(l,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),f.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+r),f.component=!1,f.getComponent=()=>(f.component||(f.component=new Kd(this)),f.component),f.generateCells=()=>{var y=[];this.table.columnManager.columnsByIndex.forEach(T=>{this.genColumn.setField(T.getField()),this.genColumn.hozAlign=T.hozAlign,this.genColumn.modules.format=T.definition[r+"CalcFormatter"]&&this.table.modExists("format")?{formatter:this.table.modules.format.getFormatter(T.definition[r+"CalcFormatter"]),params:T.definition[r+"CalcFormatterParams"]||{}}:{formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=T.definition.cssClass;var D=new fu(this.genColumn,f);D.getElement(),D.column=T,D.setWidth(),T.cells.push(D),y.push(D),T.visible||D.hide()}),f.cells=y},f}generateRowData(r,s){var T,D,l={},y="top"==r?"topCalc":"botCalc";return("top"==r?this.topCalcs:this.botCalcs).forEach(function(k){var Y=[];k.modules.columnCalcs&&k.modules.columnCalcs[y]&&(s.forEach(function(ue){Y.push(k.getFieldValue(ue))}),T="function"==typeof k.modules.columnCalcs[D=y+"Params"]?k.modules.columnCalcs[D](Y,s):k.modules.columnCalcs[D],k.setFieldValue(l,k.modules.columnCalcs[y](Y,s,T)))}),l}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var r={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(l=>{r[l.getKey()]=this.getGroupResults(l)}):r={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},r}getGroupResults(r){var s=r._getSelf(),l=r.getSubGroups(),f={};return l.forEach(T=>{f[T.getKey()]=this.getGroupResults(T)}),{top:s.calcs.top?s.calcs.top.getData():{},bottom:s.calcs.bottom?s.calcs.bottom.getData():{},groups:f}}}return g.moduleName="columnCalcs",g.calculations=Zd,g})(),qd=(()=>{class g extends ur{constructor(r){super(r),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0,this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this))}initialize(){if(this.table.options.dataTree){var r=null,s=this.table.columnManager.getFirstVisibileColumn(),l=this.table.options;switch(this.field=l.dataTreeChildField,this.indent=l.dataTreeChildIndent,this.elementField=l.dataTreeElementColumn||!!s&&s.field,l.dataTreeBranchElement&&(!0===l.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof l.dataTreeBranchElement?((r=document.createElement("div")).innerHTML=l.dataTreeBranchElement,this.branchEl=r.firstChild):this.branchEl=l.dataTreeBranchElement),l.dataTreeCollapseElement?"string"==typeof l.dataTreeCollapseElement?((r=document.createElement("div")).innerHTML=l.dataTreeCollapseElement,this.collapseEl=r.firstChild):this.collapseEl=l.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),l.dataTreeExpandElement?"string"==typeof l.dataTreeExpandElement?((r=document.createElement("div")).innerHTML=l.dataTreeExpandElement,this.expandEl=r.firstChild):this.expandEl=l.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof l.dataTreeStartExpanded){case"boolean":this.startOpen=function(f,y){return l.dataTreeStartExpanded};break;case"function":this.startOpen=l.dataTreeStartExpanded;break;default:this.startOpen=function(f,y){return l.dataTreeStartExpanded[y]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-relayout",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}getRowChildren(r){return this.getTreeChildren(r,!0)}columnMoving(){var r=[];return this.table.rowManager.rows.forEach(s=>{r=r.concat(this.getTreeChildren(s,!1,!0))}),r}rowDataChanged(r,s,l){this.redrawNeeded(l)&&(this.initializeRow(r),s&&(this.layoutRow(r),this.refreshData(!0)))}initializeRow(r){var s=r.getData()[this.field],l=Array.isArray(s),f=l||!l&&"object"==typeof s&&null!==s;!f&&r.modules.dataTree&&r.modules.dataTree.branchEl&&r.modules.dataTree.branchEl.parentNode.removeChild(r.modules.dataTree.branchEl),!f&&r.modules.dataTree&&r.modules.dataTree.controlEl&&r.modules.dataTree.controlEl.parentNode.removeChild(r.modules.dataTree.controlEl),r.modules.dataTree={index:r.modules.dataTree?r.modules.dataTree.index:0,open:!!f&&(r.modules.dataTree?r.modules.dataTree.open:this.startOpen(r.getComponent(),0)),controlEl:!(!r.modules.dataTree||!f)&&r.modules.dataTree.controlEl,branchEl:!(!r.modules.dataTree||!f)&&r.modules.dataTree.branchEl,parent:!!r.modules.dataTree&&r.modules.dataTree.parent,children:f}}reinitializeRowChildren(r){this.getTreeChildren(r,!1,!0).forEach(function(l){l.reinitialize(!0)})}layoutRow(r){var l=(this.elementField?r.getCell(this.elementField):r.getCells()[0]).getElement(),f=r.modules.dataTree;f.branchEl&&(f.branchEl.parentNode&&f.branchEl.parentNode.removeChild(f.branchEl),f.branchEl=!1),f.controlEl&&(f.controlEl.parentNode&&f.controlEl.parentNode.removeChild(f.controlEl),f.controlEl=!1),this.generateControlElement(r,l),r.getElement().classList.add("tabulator-tree-level-"+f.index),f.index&&(this.branchEl?(f.branchEl=this.branchEl.cloneNode(!0),l.insertBefore(f.branchEl,l.firstChild),this.table.rtl?f.branchEl.style.marginRight=(f.branchEl.offsetWidth+f.branchEl.style.marginLeft)*(f.index-1)+f.index*this.indent+"px":f.branchEl.style.marginLeft=(f.branchEl.offsetWidth+f.branchEl.style.marginRight)*(f.index-1)+f.index*this.indent+"px"):this.table.rtl?l.style.paddingRight=parseInt(window.getComputedStyle(l,null).getPropertyValue("padding-right"))+f.index*this.indent+"px":l.style.paddingLeft=parseInt(window.getComputedStyle(l,null).getPropertyValue("padding-left"))+f.index*this.indent+"px")}generateControlElement(r,s){var l=r.modules.dataTree,f=(s=s||r.getCells()[0].getElement(),l.controlEl);!1!==l.children&&(l.open?(l.controlEl=this.collapseEl.cloneNode(!0),l.controlEl.addEventListener("click",y=>{y.stopPropagation(),this.collapseRow(r)})):(l.controlEl=this.expandEl.cloneNode(!0),l.controlEl.addEventListener("click",y=>{y.stopPropagation(),this.expandRow(r)})),l.controlEl.addEventListener("mousedown",y=>{y.stopPropagation()}),f&&f.parentNode===s?f.parentNode.replaceChild(l.controlEl,f):s.insertBefore(l.controlEl,s.firstChild))}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}getRows(r){var s=[];return r.forEach((l,f)=>{var y;s.push(l),l instanceof Vs&&(l.create(),!(y=l.modules.dataTree.children).index&&!1!==y.children&&this.getChildren(l).forEach(D=>{D.create(),s.push(D)}))}),s}getChildren(r,s){var l=r.modules.dataTree,f=[],y=[];return!1!==l.children&&(l.open||s)&&(Array.isArray(l.children)||(l.children=this.generateChildren(r)),f=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(l.children):l.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(f),f.forEach(T=>{y.push(T),this.getChildren(T).forEach(k=>{y.push(k)})})),y}generateChildren(r){var s=[],l=r.getData()[this.field];return Array.isArray(l)||(l=[l]),l.forEach(f=>{var y=new Vs(f||{},this.table.rowManager);y.create(),y.modules.dataTree.index=r.modules.dataTree.index+1,y.modules.dataTree.parent=r,y.modules.dataTree.children&&(y.modules.dataTree.open=this.startOpen(y.getComponent(),y.modules.dataTree.index)),s.push(y)}),s}expandRow(r,s){var l=r.modules.dataTree;!1!==l.children&&(l.open=!0,r.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",r.getComponent(),r.modules.dataTree.index))}collapseRow(r){var s=r.modules.dataTree;!1!==s.children&&(s.open=!1,r.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",r.getComponent(),r.modules.dataTree.index))}toggleRow(r){var s=r.modules.dataTree;!1!==s.children&&(s.open?this.collapseRow(r):this.expandRow(r))}getTreeParent(r){return!!r.modules.dataTree.parent&&r.modules.dataTree.parent.getComponent()}getFilteredTreeChildren(r){var s=r.modules.dataTree,l=[];return s.children&&(Array.isArray(s.children)||(s.children=this.generateChildren(r)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(s.children):s.children).forEach(y=>{y instanceof Vs&&l.push(y)})),l}rowDelete(r){var l,s=r.modules.dataTree.parent;s&&(!1!==(l=this.findChildIndex(r,s))&&s.data[this.field].splice(l,1),s.data[this.field].length||delete s.data[this.field],this.initializeRow(s),this.layoutRow(s)),this.refreshData(!0)}addTreeChildRow(r,s,l,f){var y=!1;"string"==typeof s&&(s=JSON.parse(s)),Array.isArray(r.data[this.field])||(r.data[this.field]=[],r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),void 0!==f&&!1!==(y=this.findChildIndex(f,r))&&r.data[this.field].splice(l?y:y+1,0,s),!1===y&&(l?r.data[this.field].unshift(s):r.data[this.field].push(s)),this.initializeRow(r),this.layoutRow(r),this.refreshData(!0)}findChildIndex(r,s){var l=!1;return"object"==typeof r?r instanceof Vs?l=r.data:r instanceof RowComponent?l=r._getSelf().data:"undefined"!=typeof HTMLElement&&r instanceof HTMLElement&&s.modules.dataTree&&(l=s.modules.dataTree.children.find(f=>f instanceof Vs&&f.element===r))&&(l=l.data):l=null!=r&&s.data[this.field].find(f=>f.data[this.table.options.index]==r),l&&(Array.isArray(s.data[this.field])&&(l=s.data[this.field].indexOf(l)),-1==l&&(l=!1)),l}getTreeChildren(r,s,l){var f=r.modules.dataTree,y=[];return f.children&&(Array.isArray(f.children)||(f.children=this.generateChildren(r)),f.children.forEach(T=>{T instanceof Vs&&(y.push(s?T.getComponent():T),l&&(y=y.concat(this.getTreeChildren(T,s,l))))})),y}checkForRestyle(r){r.row.cells.indexOf(r)||this.layoutRow(r.row)}getChildField(){return this.field}redrawNeeded(r){return!!this.field&&void 0!==r[this.field]||!!this.elementField&&void 0!==r[this.elementField]}}return g.moduleName="dataTree",g})();var mh={csv:function(g,a,r){var s=a&&a.delimiter?a.delimiter:",",l=[],f=[];g.forEach(y=>{var T=[];switch(y.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":y.columns.forEach((D,k)=>{D&&1===D.depth&&(f[k]=null==D.value?"":'"'+String(D.value).split('"').join('""')+'"')});break;case"row":y.columns.forEach(D=>{if(D){switch(typeof D.value){case"object":D.value=JSON.stringify(D.value);break;case"undefined":case"null":D.value=""}T.push('"'+String(D.value).split('"').join('""')+'"')}}),l.push(T.join(s))}}),f.length&&l.unshift(f.join(s)),l=l.join("\n"),a.bom&&(l="\ufeff"+l),r(l,"text/csv")},json:function(g,a,r){var s=[];g.forEach(l=>{var f={};switch(l.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":l.columns.forEach(y=>{y&&(f[y.component.getField()]=y.value)}),s.push(f)}}),r(s=JSON.stringify(s,null,"\t"),"application/json")},pdf:function(g,a,r){var s=[],l=[],f={},y=a.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},T=a.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},D=a.jsPDF||{},k=a&&a.title?a.title:"";function Y(Ie,We){var at=[];return Ie.columns.forEach(yt=>{var Dt;if(yt){switch(typeof yt.value){case"object":yt.value=JSON.stringify(yt.value);break;case"undefined":case"null":yt.value=""}Dt={content:yt.value,colSpan:yt.width,rowSpan:yt.height},We&&(Dt.styles=We),at.push(Dt)}else at.push("")}),at}D.orientation||(D.orientation=a.orientation||"landscape"),D.unit||(D.unit="pt"),g.forEach(Ie=>{switch(Ie.type){case"header":s.push(Y(Ie));break;case"group":l.push(Y(Ie,y));break;case"calc":l.push(Y(Ie,T));break;case"row":l.push(Y(Ie))}});var ue=new jspdf.jsPDF(D);a&&a.autoTable&&(f="function"==typeof a.autoTable?a.autoTable(ue)||{}:a.autoTable),k&&(f.didDrawPage=function(Ie){ue.text(k,40,30)}),f.head=s,f.body=l,ue.autoTable(f),a&&a.documentProcessing&&a.documentProcessing(ue),r(ue.output("arraybuffer"),"application/pdf")},xlsx:function(g,a,r){var l=a.sheetName||"Sheet1",f=XLSX.utils.book_new(),y=new Tl(this);function D(){var ue=[],Ie=[],We={},at={s:{c:0,r:0},e:{c:g[0]?g[0].columns.reduce((yt,Dt)=>yt+(Dt&&Dt.width?Dt.width:1),0):0,r:g.length}};return g.forEach((yt,Dt)=>{var At=[];yt.columns.forEach(function(ai,Ni){ai?(At.push(ai.value instanceof Date||"object"!=typeof ai.value?ai.value:JSON.stringify(ai.value)),(ai.width>1||ai.height>-1)&&Ie.push({s:{r:Dt,c:Ni},e:{r:Dt+ai.height-1,c:Ni+ai.width-1}})):At.push("")}),ue.push(At)}),XLSX.utils.sheet_add_aoa(We,ue),We["!ref"]=XLSX.utils.encode_range(at),Ie.length&&(We["!merges"]=Ie),We}if(f.SheetNames=[],f.Sheets={},a.sheetOnly)r(D());else{if(a.sheets)for(var k in a.sheets)!0===a.sheets[k]?(f.SheetNames.push(k),f.Sheets[k]=D()):(f.SheetNames.push(k),y.commsSend(a.sheets[k],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(ue){f.Sheets[k]=ue}}));else f.SheetNames.push(l),f.Sheets[l]=D();a.documentProcessing&&(f=a.documentProcessing(f)),r(function(ue){for(var Ie=new ArrayBuffer(ue.length),We=new Uint8Array(Ie),at=0;at!=ue.length;++at)We[at]=255&ue.charCodeAt(at);return Ie}(XLSX.write(f,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function(g,a,r){this.modExists("export",!0)&&r(this.modules.export.genereateHTMLTable(g),"text/html")}};let Pp=(()=>{class g extends ur{constructor(r){super(r),this.registerTableOption("downloadReady",function(s,l){return l}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}downloadToTab(r,s,l,f){this.download(r,s,l,f,!0)}download(r,s,l,f,y){var T=!1;if("function"==typeof r?T=r:g.downloaders[r]?T=g.downloaders[r]:console.warn("Download Error - No such download type found: ",r),T){var k=this.generateExportList(f);T.call(this.table,k,l||{},function(Y,ue){y?!0===y?this.triggerDownload(Y,ue,r,s,!0):y(Y):this.triggerDownload(Y,ue,r,s)}.bind(this))}}generateExportList(r){var s=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,r||this.table.options.downloadRowRange,"download"),l=this.table.options.groupHeaderDownload;return l&&!Array.isArray(l)&&(l=[l]),s.forEach(f=>{var y;"group"===f.type&&(y=f.columns[0],l&&l[f.indent]&&(y.value=l[f.indent](y.value,f.component._group.getRowCount(),f.component._group.getData(),f.component)))}),s}triggerDownload(r,s,l,f,y){var T=document.createElement("a"),D=new Blob([r],{type:s});f=f||"Tabulator."+("function"==typeof l?"txt":l),(D=this.table.options.downloadReady(r,D))&&(y?window.open(window.URL.createObjectURL(D)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(D,f):(T.setAttribute("href",window.URL.createObjectURL(D)),T.setAttribute("download",f),T.style.display="none",document.body.appendChild(T),T.click(),document.body.removeChild(T)),this.dispatchExternal("downloadComplete"))}commsReceived(r,s,l){"intercept"===s&&this.download(l.type,"",l.options,l.active,l.intercept)}}return g.moduleName="download",g.downloaders=mh,g})();function th(g,a){var r=a.mask,s=void 0!==a.maskLetterChar?a.maskLetterChar:"A",l=void 0!==a.maskNumberChar?a.maskNumberChar:"9",f=void 0!==a.maskWildcardChar?a.maskWildcardChar:"*";function y(T){var D=r[T];void 0!==D&&D!==f&&D!==s&&D!==l&&(g.value=g.value+""+D,y(T+1))}g.addEventListener("keydown",T=>{var D=g.value.length,k=T.key;if(T.keyCode>46){if(D>=r.length)return T.preventDefault(),T.stopPropagation(),!1;switch(r[D]){case s:if(k.toUpperCase()==k.toLowerCase())return T.preventDefault(),T.stopPropagation(),!1;break;case l:if(isNaN(k))return T.preventDefault(),T.stopPropagation(),!1;break;case f:break;default:if(k!==r[D])return T.preventDefault(),T.stopPropagation(),!1}}}),g.addEventListener("keyup",T=>{T.keyCode>46&&a.maskAutoFill&&y(g.value.length)}),g.placeholder||(g.placeholder=r),a.maskAutoFill&&y(g.value.length)}var $={input:function(g,a,r,s,l){var f=g.getValue(),y=document.createElement("input");if(y.setAttribute("type",l.search?"search":"text"),y.style.padding="4px",y.style.width="100%",y.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let D in l.elementAttributes)"+"==D.charAt(0)?(D=D.slice(1),y.setAttribute(D,y.getAttribute(D)+l.elementAttributes["+"+D])):y.setAttribute(D,l.elementAttributes[D]);function T(D){null==f&&""!==y.value||y.value!==f?r(y.value)&&(f=y.value):s()}return y.value=void 0!==f?f:"",a(function(){y.focus({preventScroll:!0}),y.style.height="100%"}),y.addEventListener("change",T),y.addEventListener("blur",T),y.addEventListener("keydown",function(D){switch(D.keyCode){case 13:T();break;case 27:s();break;case 35:case 36:D.stopPropagation()}}),l.mask&&th(y,l),y},textarea:function(g,a,r,s,l){var f=g.getValue(),y=l.verticalNavigation||"hybrid",T=String(null!=f?f:""),k=(T.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),Y=0;if(k.style.display="block",k.style.padding="2px",k.style.height="100%",k.style.width="100%",k.style.boxSizing="border-box",k.style.whiteSpace="pre-wrap",k.style.resize="none",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let Ie in l.elementAttributes)"+"==Ie.charAt(0)?(Ie=Ie.slice(1),k.setAttribute(Ie,k.getAttribute(Ie)+l.elementAttributes["+"+Ie])):k.setAttribute(Ie,l.elementAttributes[Ie]);function ue(Ie){null==f&&""!==k.value||k.value!==f?(r(k.value)&&(f=k.value),setTimeout(function(){g.getRow().normalizeHeight()},300)):s()}return k.value=T,a(function(){k.focus({preventScroll:!0}),k.style.height="100%",k.style.height=k.scrollHeight+"px",g.getRow().normalizeHeight()}),k.addEventListener("change",ue),k.addEventListener("blur",ue),k.addEventListener("keyup",function(){k.style.height="";var Ie=k.scrollHeight;k.style.height=Ie+"px",Ie!=Y&&(Y=Ie,g.getRow().normalizeHeight())}),k.addEventListener("keydown",function(Ie){switch(Ie.keyCode){case 27:s();break;case 38:("editor"==y||"hybrid"==y&&k.selectionStart)&&(Ie.stopImmediatePropagation(),Ie.stopPropagation());break;case 40:("editor"==y||"hybrid"==y&&k.selectionStart!==k.value.length)&&(Ie.stopImmediatePropagation(),Ie.stopPropagation());break;case 35:case 36:Ie.stopPropagation()}}),l.mask&&th(k,l),k},number:function(g,a,r,s,l){var f=g.getValue(),y=l.verticalNavigation||"editor",T=document.createElement("input");if(T.setAttribute("type","number"),void 0!==l.max&&T.setAttribute("max",l.max),void 0!==l.min&&T.setAttribute("min",l.min),void 0!==l.step&&T.setAttribute("step",l.step),T.style.padding="4px",T.style.width="100%",T.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let Y in l.elementAttributes)"+"==Y.charAt(0)?(Y=Y.slice(1),T.setAttribute(Y,T.getAttribute(Y)+l.elementAttributes["+"+Y])):T.setAttribute(Y,l.elementAttributes[Y]);T.value=f;var D=function(Y){k()};function k(){var Y=T.value;!isNaN(Y)&&""!==Y&&(Y=Number(Y)),Y!==f?r(Y)&&(f=Y):s()}return a(function(){T.removeEventListener("blur",D),T.focus({preventScroll:!0}),T.style.height="100%",T.addEventListener("blur",D)}),T.addEventListener("keydown",function(Y){switch(Y.keyCode){case 13:k();break;case 27:s();break;case 38:case 40:"editor"==y&&(Y.stopImmediatePropagation(),Y.stopPropagation());break;case 35:case 36:Y.stopPropagation()}}),l.mask&&th(T,l),T},range:function(g,a,r,s,l){var f=g.getValue(),y=document.createElement("input");if(y.setAttribute("type","range"),void 0!==l.max&&y.setAttribute("max",l.max),void 0!==l.min&&y.setAttribute("min",l.min),void 0!==l.step&&y.setAttribute("step",l.step),y.style.padding="4px",y.style.width="100%",y.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let D in l.elementAttributes)"+"==D.charAt(0)?(D=D.slice(1),y.setAttribute(D,y.getAttribute(D)+l.elementAttributes["+"+D])):y.setAttribute(D,l.elementAttributes[D]);function T(){var D=y.value;!isNaN(D)&&""!==D&&(D=Number(D)),D!=f?r(D)&&(f=D):s()}return y.value=f,a(function(){y.focus({preventScroll:!0}),y.style.height="100%"}),y.addEventListener("blur",function(D){T()}),y.addEventListener("keydown",function(D){switch(D.keyCode){case 13:T();break;case 27:s()}}),y},select:function(g,a,r,s,l){var f=this,y=g.getElement(),T=g.getValue(),D=l.verticalNavigation||"editor",k=void 0!==T||null===T?Array.isArray(T)?T:[T]:void 0!==l.defaultValue?l.defaultValue:[],Y=document.createElement("input"),ue=document.createElement("div"),Ie=l.multiselect,We=[],at={},yt=[],Dt=[],At=!0,ai=!1,Ni="",yi=null;function Si(Ai){var Us,fn={},Ir=f.table.getData();return(Us=Ai?f.table.columnManager.getColumnByField(Ai):g.getColumn()._getSelf())?Ir.forEach(function(Ml){var $u=Us.getFieldValue(Ml);null!=$u&&""!==$u&&(fn[$u]=!0)}):console.warn("unable to find matching column to create select lookup list:",Ai),Object.keys(fn)}function qi(Ai,fn){!Ie&&at&&at.element&&at.element.classList.remove("active"),at&&at.element&&at.element.classList.remove("focused"),at=Ai,Ai.element&&(Ai.element.classList.add("focused"),fn&&Ai.element.classList.add("active")),Ai&&Ai.element&&Ai.element.scrollIntoView&&Ai.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function an(Ai){-1==Dt.indexOf(Ai)&&(Dt.push(Ai),qi(Ai,!0)),Xi()}function zn(Ai){var fn=Dt[Ai];Ai>-1&&(Dt.splice(Ai,1),fn.element&&fn.element.classList.remove("active"))}function sn(Ai){Ai||(Ai=at);var fn=Dt.indexOf(Ai);fn>-1?zn(fn):(!0!==Ie&&Dt.length>=Ie&&zn(0),an(Ai)),Xi()}function Yn(Ai){nr(),Ai||(Ai=at),Ai&&(Y.value=Ai.label,r(Ai.value)),k=[Ai.value]}function Or(Ai){Ai||nr();var fn=[];Dt.forEach(Ir=>{fn.push(Ir.value)}),k=fn,r(fn)}function Xi(){var Ai=[];Dt.forEach(fn=>{Ai.push(fn.label)}),Y.value=Ai.join(", "),!1===f.currentCell&&Or(!0)}function Sn(){nr(),s()}function nr(){ue.parentNode&&ue.parentNode.removeChild(ue),f.table.rowManager.element.removeEventListener("scroll",Sn)}if((Array.isArray(l)||!Array.isArray(l)&&"object"==typeof l&&!l.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),l={values:l}),Y.setAttribute("type","text"),Y.style.padding="4px",Y.style.width="100%",Y.style.boxSizing="border-box",Y.style.cursor="default",Y.readOnly=0!=this.currentCell,l.elementAttributes&&"object"==typeof l.elementAttributes)for(let Ai in l.elementAttributes)"+"==Ai.charAt(0)?(Ai=Ai.slice(1),Y.setAttribute(Ai,Y.getAttribute(Ai)+l.elementAttributes["+"+Ai])):Y.setAttribute(Ai,l.elementAttributes[Ai]);return Y.value=void 0!==T||null===T?T:"",Y.addEventListener("search",function(Ai){Y.value||(function(){var Ai=Dt.length;for(let fn=0;fn<Ai;fn++)zn(0)}(),Or())}),Y.addEventListener("keydown",function(Ai){var fn;switch(Ai.keyCode){case 38:fn=We.indexOf(at),("editor"==D||"hybrid"==D&&fn)&&(Ai.stopImmediatePropagation(),Ai.stopPropagation(),Ai.preventDefault(),fn>0&&qi(We[fn-1],!Ie));break;case 40:fn=We.indexOf(at),("editor"==D||"hybrid"==D&&fn<We.length-1)&&(Ai.stopImmediatePropagation(),Ai.stopPropagation(),Ai.preventDefault(),fn<We.length-1&&qi(-1==fn?We[0]:We[fn+1],!Ie));break;case 37:case 39:Ai.stopImmediatePropagation(),Ai.stopPropagation(),Ai.preventDefault();break;case 13:Ie?sn():Yn();break;case 27:Sn();break;case 9:break;default:!1===f.currentCell&&Ai.preventDefault(),Ai.keyCode>=38&&Ai.keyCode<=90&&function(Ai){clearTimeout(yi);var fn=String.fromCharCode(event.keyCode).toLowerCase();Ni+=fn.toLowerCase();var Ir=We.find(Us=>void 0!==Us.label&&Us.label.toLowerCase().startsWith(Ni));Ir&&qi(Ir,!Ie),yi=setTimeout(()=>{Ni=""},800)}()}}),Y.addEventListener("blur",function(Ai){At&&(Ie?Or():Sn())}),Y.addEventListener("focus",function(Ai){ai||function(){if(Dt=[],!ue.parentNode){!function(Ai,fn){var Ir=[],Us=[];function Ml(to){return fn.indexOf((to={label:to.label,value:to.value,itemParams:to.itemParams,elementAttributes:to.elementAttributes,element:!1}).value)>-1&&an(to),Ir.push(to),Us.push(to),to}if("function"==typeof Ai&&(Ai=Ai(g)),Array.isArray(Ai))Ai.forEach(function(to){var ss;"object"==typeof to?to.options?(Us.push(ss={label:to.label,group:!0,itemParams:to.itemParams,elementAttributes:to.elementAttributes,element:!1}),to.options.forEach(function(sh){Ml(sh)})):Ml(to):(fn.indexOf((ss={label:to,value:to,element:!1}).value)>-1&&an(ss),Ir.push(ss),Us.push(ss))});else for(var $u in Ai){var xh={label:Ai[$u],value:$u,element:!1};fn.indexOf(xh.value)>-1&&an(xh),Ir.push(xh),Us.push(xh)}l.sortValuesList&&(Ir.sort((to,ss)=>to.label<ss.label?-1:to.label>ss.label?1:0),Us.sort((to,ss)=>to.label<ss.label?-1:to.label>ss.label?1:0),"asc"!==l.sortValuesList&&(Ir.reverse(),Us.reverse())),We=Ir,yt=Us,function(){for(;ue.firstChild;)ue.removeChild(ue.firstChild);yt.forEach(function(Ai){var fn=Ai.element;if(!fn){if(fn=document.createElement("div"),Ai.label=l.listItemFormatter?l.listItemFormatter(Ai.value,Ai.label,g,fn,Ai.itemParams):Ai.label,Ai.group?(fn.classList.add("tabulator-edit-select-list-group"),fn.tabIndex=0,fn.innerHTML=""===Ai.label?"&nbsp;":Ai.label):(fn.classList.add("tabulator-edit-select-list-item"),fn.tabIndex=0,fn.innerHTML=""===Ai.label?"&nbsp;":Ai.label,fn.addEventListener("click",function(){ai=!0,setTimeout(()=>{ai=!1},10),Ie?(sn(Ai),Y.focus()):Yn(Ai)}),Dt.indexOf(Ai)>-1&&fn.classList.add("active")),Ai.elementAttributes&&"object"==typeof Ai.elementAttributes)for(let Ir in Ai.elementAttributes)"+"==Ir.charAt(0)?(Ir=Ir.slice(1),fn.setAttribute(Ir,Y.getAttribute(Ir)+Ai.elementAttributes["+"+Ir])):fn.setAttribute(Ir,Ai.elementAttributes[Ir]);fn.addEventListener("mousedown",function(){At=!1,setTimeout(function(){At=!0},10)}),Ai.element=fn}ue.appendChild(fn)})}()}(!0===l.values?Si():"string"==typeof l.values?Si(l.values):l.values||[],k);var Ai=_o.elOffset(y);ue.style.minWidth=y.offsetWidth+"px",ue.style.top=Ai.top+y.offsetHeight+"px",ue.style.left=Ai.left+"px",ue.addEventListener("mousedown",function(fn){At=!1,setTimeout(function(){At=!0},10)}),document.body.appendChild(ue)}}()}),(ue=document.createElement("div")).classList.add("tabulator-edit-select-list"),a(function(){Y.style.height="100%",Y.focus({preventScroll:!0})}),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",Sn)},10),Y},autocomplete:function(g,a,r,s,l){var f=this,y=g.getElement(),T=g.getValue(),D=l.verticalNavigation||"editor",k=void 0!==T||null===T?T:void 0!==l.defaultValue?l.defaultValue:"",Y=document.createElement("input"),ue=document.createElement("div"),Ie=[],We=!1,at=!0,yt=!1;if(Y.setAttribute("type","search"),Y.style.padding="4px",Y.style.width="100%",Y.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let Xi in l.elementAttributes)"+"==Xi.charAt(0)?(Xi=Xi.slice(1),Y.setAttribute(Xi,Y.getAttribute(Xi)+l.elementAttributes["+"+Xi])):Y.setAttribute(Xi,l.elementAttributes[Xi]);function Dt(){!0===l.values?yt=At():"string"==typeof l.values&&(yt=At(l.values))}function At(Xi){var Xr,Yi={},Sn=f.table.getData();return(Xr=Xi?f.table.columnManager.getColumnByField(Xi):g.getColumn()._getSelf())?(Sn.forEach(function(nr){var Gr=Xr.getFieldValue(nr);null!=Gr&&""!==Gr&&(Yi[Gr]=!0)}),Yi=l.sortValuesList?"asc"==l.sortValuesList?Object.keys(Yi).sort():Object.keys(Yi).sort().reverse():Object.keys(Yi)):console.warn("unable to find matching column to create autocomplete lookup list:",Xi),Yi}function ai(Xi,Yi){var Xr,nr,Sn=[];Xr=yt||l.values||[],l.searchFunc?(Sn=l.searchFunc(Xi,Xr))instanceof Promise?(Ni(void 0!==l.searchingPlaceholder?l.searchingPlaceholder:"Searching..."),Sn.then(Gr=>{ji(yi(Gr),Yi)}).catch(Gr=>{console.err("error in autocomplete search promise:",Gr)})):ji(yi(Sn),Yi):(nr=yi(Xr),""===Xi?l.showListOnEmpty&&(Sn=nr):nr.forEach(function(Gr){(null!==Gr.value||void 0!==Gr.value)&&(String(Gr.value).toLowerCase().indexOf(String(Xi).toLowerCase())>-1||String(Gr.title).toLowerCase().indexOf(String(Xi).toLowerCase())>-1)&&Sn.push(Gr)}),ji(Sn,Yi))}function Ni(Xi){var Yi=document.createElement("div");Si(),!1!==Xi&&(Yi.classList.add("tabulator-edit-select-list-notice"),Yi.tabIndex=0,Xi instanceof Node?Yi.appendChild(Xi):Yi.innerHTML=Xi,ue.appendChild(Yi))}function yi(Xi){var Yi=[];if(Array.isArray(Xi))Xi.forEach(function(nr){var Gr={};"object"==typeof nr?(Gr.title=l.listItemFormatter?l.listItemFormatter(nr.value,nr.label):nr.label,Gr.value=nr.value):(Gr.title=l.listItemFormatter?l.listItemFormatter(nr,nr):nr,Gr.value=nr),Yi.push(Gr)});else for(var Sn in Xi){var Xr={title:l.listItemFormatter?l.listItemFormatter(Sn,Xi[Sn]):Xi[Sn],value:Sn};Yi.push(Xr)}return Yi}function Si(){for(;ue.firstChild;)ue.removeChild(ue.firstChild)}function ji(Xi,Yi){Xi.length?function(Xi,Yi){var Sn=!1;Si(),(Ie=Xi).forEach(function(Xr){var nr=Xr.element;nr||((nr=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),nr.tabIndex=0,nr.innerHTML=Xr.title,nr.addEventListener("click",function(Gr){zn(Xr),qi()}),nr.addEventListener("mousedown",function(Gr){at=!1,setTimeout(function(){at=!0},10)}),Xr.element=nr,Yi&&Xr.value==T&&(Y.value=Xr.title,Xr.element.classList.add("active"),Sn=!0),Xr===We&&(Xr.element.classList.add("active"),Sn=!0)),ue.appendChild(nr)}),Sn||zn(!1)}(Xi,Yi):l.emptyPlaceholder&&Ni(l.emptyPlaceholder)}function qi(){sn(),We?T!==We.value?(T=We.value,Y.value=We.title,r(We.value)):s():l.freetext||l.allowEmpty&&""===Y.value?(T=Y.value,r(Y.value)):s()}function zn(Xi,Yi){We&&We.element&&We.element.classList.remove("active"),We=Xi,Xi&&Xi.element&&Xi.element.classList.add("active"),Xi&&Xi.element&&Xi.element.scrollIntoView&&Xi.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function sn(){ue.parentNode&&ue.parentNode.removeChild(ue),f.table.rowManager.element.removeEventListener("scroll",Yn)}function Yn(){sn(),s()}return ue.classList.add("tabulator-edit-select-list"),ue.addEventListener("mousedown",function(Xi){at=!1,setTimeout(function(){at=!0},10)}),Y.addEventListener("keydown",function(Xi){var Yi;switch(Xi.keyCode){case 38:Yi=Ie.indexOf(We),("editor"==D||"hybrid"==D&&Yi)&&(Xi.stopImmediatePropagation(),Xi.stopPropagation(),Xi.preventDefault(),zn(Yi>0&&Ie[Yi-1]));break;case 40:Yi=Ie.indexOf(We),("editor"==D||"hybrid"==D&&Yi<Ie.length-1)&&(Xi.stopImmediatePropagation(),Xi.stopPropagation(),Xi.preventDefault(),Yi<Ie.length-1&&zn(-1==Yi?Ie[0]:Ie[Yi+1]));break;case 37:case 39:Xi.stopImmediatePropagation(),Xi.stopPropagation();break;case 13:qi();break;case 27:Yn();break;case 36:case 35:Xi.stopImmediatePropagation()}}),Y.addEventListener("keyup",function(Xi){switch(Xi.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:ai(Y.value)}}),Y.addEventListener("search",function(Xi){ai(Y.value)}),Y.addEventListener("blur",function(Xi){at&&qi()}),Y.addEventListener("focus",function(Xi){var Yi=k;Dt(),function(){if(!ue.parentNode){for(;ue.firstChild;)ue.removeChild(ue.firstChild);var Xi=_o.elOffset(y);ue.style.minWidth=y.offsetWidth+"px",ue.style.top=Xi.top+y.offsetHeight+"px",ue.style.left=Xi.left+"px",document.body.appendChild(ue)}}(),Y.value=Yi,ai(Yi,!0)}),a(function(){Y.style.height="100%",Y.focus({preventScroll:!0})}),l.mask&&th(Y,l),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",Yn)},10),Dt(),Y.value=k,ai(k,!0),Y},star:function(g,a,r,s,l){var f=this,y=g.getElement(),T=g.getValue(),D=y.getElementsByTagName("svg").length||5,k=y.getElementsByTagName("svg")[0]?y.getElementsByTagName("svg")[0].getAttribute("width"):14,Y=[],ue=document.createElement("div"),Ie=document.createElementNS("http://www.w3.org/2000/svg","svg");function We(At){Y.forEach(function(ai,Ni){Ni<At?("ie"==f.table.browser?ai.setAttribute("class","tabulator-star-active"):ai.classList.replace("tabulator-star-inactive","tabulator-star-active"),ai.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==f.table.browser?ai.setAttribute("class","tabulator-star-inactive"):ai.classList.replace("tabulator-star-active","tabulator-star-inactive"),ai.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function at(At){var ai=document.createElement("span"),Ni=Ie.cloneNode(!0);Y.push(Ni),ai.addEventListener("mouseenter",function(yi){yi.stopPropagation(),yi.stopImmediatePropagation(),We(At)}),ai.addEventListener("mousemove",function(yi){yi.stopPropagation(),yi.stopImmediatePropagation()}),ai.addEventListener("click",function(yi){yi.stopPropagation(),yi.stopImmediatePropagation(),r(At),y.blur()}),ai.appendChild(Ni),ue.appendChild(ai)}function yt(At){T=At,We(At)}if(y.style.whiteSpace="nowrap",y.style.overflow="hidden",y.style.textOverflow="ellipsis",ue.style.verticalAlign="middle",ue.style.display="inline-block",ue.style.padding="4px",Ie.setAttribute("width",k),Ie.setAttribute("height",k),Ie.setAttribute("viewBox","0 0 512 512"),Ie.setAttribute("xml:space","preserve"),Ie.style.padding="0 1px",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let At in l.elementAttributes)"+"==At.charAt(0)?(At=At.slice(1),ue.setAttribute(At,ue.getAttribute(At)+l.elementAttributes["+"+At])):ue.setAttribute(At,l.elementAttributes[At]);for(var Dt=1;Dt<=D;Dt++)at(Dt);return We(T=Math.min(parseInt(T),D)),ue.addEventListener("mousemove",function(At){We(0)}),ue.addEventListener("click",function(At){r(0)}),y.addEventListener("blur",function(At){s()}),y.addEventListener("keydown",function(At){switch(At.keyCode){case 39:yt(T+1);break;case 37:yt(T-1);break;case 13:r(T);break;case 27:s()}}),ue},progress:function(g,a,r,s,l){var yt,Dt,Ie,We,f=g.getElement(),y=void 0===l.max?(null==(yt=f.getElementsByTagName("div")[0])?void 0:yt.getAttribute("max"))||100:l.max,T=void 0===l.min?(null==(Dt=f.getElementsByTagName("div")[0])?void 0:Dt.getAttribute("min"))||0:l.min,D=(y-T)/100,k=g.getValue()||0,Y=document.createElement("div"),ue=document.createElement("div");function at(){var At=window.getComputedStyle(f,null),ai=D*Math.round(ue.offsetWidth/((f.clientWidth-parseInt(At.getPropertyValue("padding-left"))-parseInt(At.getPropertyValue("padding-right")))/100))+T;r(ai),f.setAttribute("aria-valuenow",ai),f.setAttribute("aria-label",k)}if(Y.style.position="absolute",Y.style.right="0",Y.style.top="0",Y.style.bottom="0",Y.style.width="5px",Y.classList.add("tabulator-progress-handle"),ue.style.display="inline-block",ue.style.position="relative",ue.style.height="100%",ue.style.backgroundColor="#488CE9",ue.style.maxWidth="100%",ue.style.minWidth="0%",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let At in l.elementAttributes)"+"==At.charAt(0)?(At=At.slice(1),ue.setAttribute(At,ue.getAttribute(At)+l.elementAttributes["+"+At])):ue.setAttribute(At,l.elementAttributes[At]);return f.style.padding="4px 4px",k=Math.min(parseFloat(k),y),k=Math.max(parseFloat(k),T),k=Math.round((k-T)/D),ue.style.width=k+"%",f.setAttribute("aria-valuemin",T),f.setAttribute("aria-valuemax",y),ue.appendChild(Y),Y.addEventListener("mousedown",function(At){Ie=At.screenX,We=ue.offsetWidth}),Y.addEventListener("mouseover",function(){Y.style.cursor="ew-resize"}),f.addEventListener("mousemove",function(At){Ie&&(ue.style.width=We+At.screenX-Ie+"px")}),f.addEventListener("mouseup",function(At){Ie&&(At.stopPropagation(),At.stopImmediatePropagation(),Ie=!1,We=!1,at())}),f.addEventListener("keydown",function(At){switch(At.keyCode){case 39:At.preventDefault(),ue.style.width=ue.clientWidth+f.clientWidth/100+"px";break;case 37:At.preventDefault(),ue.style.width=ue.clientWidth-f.clientWidth/100+"px";break;case 9:case 13:at();break;case 27:s()}}),f.addEventListener("blur",function(){s()}),ue},tickCross:function(g,a,r,s,l){var f=g.getValue(),y=document.createElement("input"),T=l.tristate,D=void 0===l.indeterminateValue?null:l.indeterminateValue,k=!1;if(y.setAttribute("type","checkbox"),y.style.marginTop="5px",y.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let ue in l.elementAttributes)"+"==ue.charAt(0)?(ue=ue.slice(1),y.setAttribute(ue,y.getAttribute(ue)+l.elementAttributes["+"+ue])):y.setAttribute(ue,l.elementAttributes[ue]);function Y(ue){return T?ue?k?D:y.checked:y.checked&&!k?(y.checked=!1,y.indeterminate=!0,k=!0,D):(k=!1,y.checked):y.checked}return y.value=f,T&&(void 0===f||f===D||""===f)&&(k=!0,y.indeterminate=!0),"firefox"!=this.table.browser&&a(function(){y.focus({preventScroll:!0})}),y.checked=!0===f||"true"===f||"True"===f||1===f,a(function(){y.focus()}),y.addEventListener("change",function(ue){r(Y())}),y.addEventListener("blur",function(ue){r(Y(!0))}),y.addEventListener("keydown",function(ue){13==ue.keyCode&&r(Y()),27==ue.keyCode&&s()}),y}};let Re=(()=>{class g extends ur{constructor(r){super(r),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=g.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellisEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("data-refeshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this))}keybindingNavigateNext(r){var s=this.currentCell,l=this.options("tabEndNewRow");s&&(this.navigateNext(r)||l&&(s.getElement().firstChild.blur(),(l=this.table.addRow(!0===l?{}:"function"==typeof l?l(s.row.getComponent()):Object.assign({},l))).then(()=>{setTimeout(()=>{nav.next()})})))}cellisEdited(r){return!!r.modules.edit&&r.modules.edit.edited}cellCancelEdit(r){r===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}clearCellEdited(r){r||(r=this.modules.edit.getEditedCells()),Array.isArray(r)||(r=[r]),r.forEach(s=>{this.modules.edit.clearEdited(s._getSelf())})}navigatePrev(r){var l,f,s=this.currentCell;if(s){if(r&&r.preventDefault(),l=this.navigateLeft())return!0;if((f=this.table.rowManager.prevDisplayRow(s.row,!0))&&(l=this.findNextEditableCell(f,f.cells.length)))return l.getComponent().edit(),!0}return!1}navigateNext(r){var l,f,s=this.currentCell;if(s){if(r&&r.preventDefault(),l=this.navigateRight())return!0;if((f=this.table.rowManager.nextDisplayRow(s.row,!0))&&(l=this.findNextEditableCell(f,-1)))return l.getComponent().edit(),!0}return!1}navigateLeft(r){var l,f,s=this.currentCell;return!(!s||(r&&r.preventDefault(),l=s.getIndex(),f=this.findPrevEditableCell(s.row,l),!f)||(f.getComponent().edit(),0))}navigateRight(r){var l,f,s=this.currentCell;return!(!s||(r&&r.preventDefault(),l=s.getIndex(),f=this.findNextEditableCell(s.row,l),!f)||(f.getComponent().edit(),0))}navigateUp(r){var l,f,s=this.currentCell;return!(!s||(r&&r.preventDefault(),l=s.getIndex(),f=this.table.rowManager.prevDisplayRow(s.row,!0),!f)||(f.cells[l].getComponent().edit(),0))}navigateDown(r){var l,f,s=this.currentCell;return!(!s||(r&&r.preventDefault(),l=s.getIndex(),f=this.table.rowManager.nextDisplayRow(s.row,!0),!f)||(f.cells[l].getComponent().edit(),0))}findNextEditableCell(r,s){var l=!1;if(s<r.cells.length-1)for(var f=s+1;f<r.cells.length;f++){let y=r.cells[f];if(y.column.modules.edit&&_o.elVisible(y.getElement())){let T=!0;if("function"==typeof y.column.modules.edit.check&&(T=y.column.modules.edit.check(y.getComponent())),T){l=y;break}}}return l}findPrevEditableCell(r,s){var l=!1;if(s>0)for(var f=s-1;f>=0;f--){let y=r.cells[f],T=!0;if(y.column.modules.edit&&_o.elVisible(y.getElement())&&("function"==typeof y.column.modules.edit.check&&(T=y.column.modules.edit.check(y.getComponent())),T)){l=y;break}}return l}initializeColumnCheck(r){void 0!==r.definition.editor&&this.initializeColumn(r)}columnDeleteCheck(r){this.currentCell&&this.currentCell.column===r&&this.cancelEdit()}rowDeleteCheck(r){this.currentCell&&this.currentCell.row===r&&this.cancelEdit()}initializeColumn(r){var s={editor:!1,blocked:!1,check:r.definition.editable,params:r.definition.editorParams||{}};switch(typeof r.definition.editor){case"string":this.editors[r.definition.editor]?s.editor=this.editors[r.definition.editor]:console.warn("Editor Error - No such editor found: ",r.definition.editor);break;case"function":s.editor=r.definition.editor;break;case"boolean":!0===r.definition.editor&&("function"!=typeof r.definition.formatter?s.editor=this.editors[r.definition.formatter]?this.editors[r.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",r.definition.formatter))}s.editor&&(r.modules.edit=s)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(r){var l,s=this.currentCell;if(this.invalidEdit=!1,s){for(this.currentCell=!1,l=s.getElement(),r?s.validate&&s.validate():l.classList.remove("tabulator-validation-fail"),l.classList.remove("tabulator-editing");l.firstChild;)l.removeChild(l.firstChild);s.row.getElement().classList.remove("tabulator-row-editing")}}cancelEdit(){if(this.currentCell){var r=this.currentCell,s=this.currentCell.getComponent();this.clearEditor(!0),r.setValueActual(r.getValue()),r.cellRendered(),("textarea"==r.column.definition.editor||r.column.definition.variableHeight)&&r.row.normalizeHeight(!0),r.column.definition.cellEditCancelled&&r.column.definition.cellEditCancelled.call(this.table,s),this.dispatchExternal("cellEditCancelled",s)}}bindEditor(r){if(r.column.modules.edit){var s=this,l=r.getElement(!0);l.setAttribute("tabindex",0),l.addEventListener("click",function(f){l.classList.contains("tabulator-editing")||l.focus({preventScroll:!0})}),l.addEventListener("mousedown",function(f){2===f.button?f.preventDefault():s.mouseClick=!0}),l.addEventListener("focus",function(f){s.recursionBlock||s.edit(r,f,!1)})}}focusCellNoEvent(r,s){this.recursionBlock=!0,s&&"ie"===this.table.browser||r.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(r,s){this.focusCellNoEvent(r),this.edit(r,!1,s)}focusScrollAdjust(r){if("virtual"==this.table.rowManager.getRenderMode()){var s=this.table.rowManager.element.scrollTop,l=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,f=r.row.getElement();f.offsetTop<s?this.table.rowManager.element.scrollTop-=s-f.offsetTop:f.offsetTop+f.offsetHeight>l&&(this.table.rowManager.element.scrollTop+=f.offsetTop+f.offsetHeight-l);var T=this.table.rowManager.element.scrollLeft,D=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,k=r.getElement();this.table.modExists("frozenColumns")&&(T+=parseInt(this.table.modules.frozenColumns.leftMargin),D-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(T-=parseInt(this.table.columnManager.renderer.vDomPadLeft),D-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),k.offsetLeft<T?this.table.rowManager.element.scrollLeft-=T-k.offsetLeft:k.offsetLeft+k.offsetWidth>D&&(this.table.rowManager.element.scrollLeft+=k.offsetLeft+k.offsetWidth-D)}}edit(r,s,l){var k,Y,ue,f=this,y=!0,T=function(){},D=r.getElement();if(!this.currentCell){if(r.column.modules.edit.blocked)return this.mouseClick=!1,D.blur(),!1;switch(s&&s.stopPropagation(),typeof r.column.modules.edit.check){case"function":y=r.column.modules.edit.check(r.getComponent());break;case"boolean":y=r.column.modules.edit.check}if(y||l){if(f.cancelEdit(),f.currentCell=r,this.focusScrollAdjust(r),Y=r.getComponent(),this.mouseClick&&(this.mouseClick=!1,r.column.definition.cellClick&&r.column.definition.cellClick.call(this.table,s,Y)),r.column.definition.cellEditing&&r.column.definition.cellEditing.call(this.table,Y),this.dispatchExternal("cellEditing",Y),ue="function"==typeof r.column.modules.edit.params?r.column.modules.edit.params(Y):r.column.modules.edit.params,!1===(k=r.column.modules.edit.editor.call(f,Y,function(At){T=At},function(At){if(f.currentCell===r){var ai=!0;return r.column.modules.validate&&f.table.modExists("validate")&&"manual"!=f.table.options.validationMode&&(ai=f.table.modules.validate.validate(r.column.modules.validate,r,At)),!0===ai||"highlight"===f.table.options.validationMode?(f.clearEditor(),r.modules.edit||(r.modules.edit={}),r.modules.edit.edited=!0,-1==f.editedCells.indexOf(r)&&f.editedCells.push(r),r.setValue(At,!0),f.table.options.dataTree&&f.table.modExists("dataTree")&&f.table.modules.dataTree.checkForRestyle(r),!0===ai||(D.classList.add("tabulator-validation-fail"),f.table.externalEvents.dispatch("validationFailed",r.getComponent(),At,ai),!1)):(f.invalidEdit=!0,D.classList.add("tabulator-validation-fail"),f.focusCellNoEvent(r,!0),T(),f.table.externalEvents.dispatch("validationFailed",r.getComponent(),At,ai),!1)}},function(){f.currentCell===r&&(f.cancelEdit(),f.table.options.dataTree&&f.table.modExists("dataTree")&&f.table.modules.dataTree.checkForRestyle(r))},ue)))return D.blur(),!1;if(!(k instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",k),D.blur(),!1;for(D.classList.add("tabulator-editing"),r.row.getElement().classList.add("tabulator-row-editing");D.firstChild;)D.removeChild(D.firstChild);D.appendChild(k),T();for(var yt=D.children,Dt=0;Dt<yt.length;Dt++)yt[Dt].addEventListener("click",function(At){At.stopPropagation()});return!0}return this.mouseClick=!1,D.blur(),!1}this.invalidEdit||this.cancelEdit()}getEditedCells(){var r=[];return this.editedCells.forEach(s=>{r.push(s.getComponent())}),r}clearEdited(r){var s;r.modules.edit&&r.modules.edit.edited&&(r.modules.edit.edited=!1,r.modules.validate&&(r.modules.validate.invalid=!1)),(s=this.editedCells.indexOf(r))>-1&&this.editedCells.splice(s,1)}}return g.moduleName="edit",g.editors=$,g})();class kt{constructor(a,r,s,l){this.type=a,this.columns=r,this.component=s||!1,this.indent=l||0}}class hi{constructor(a,r,s,l,f){this.value=a,this.component=r||!1,this.width=s,this.height=l,this.depth=f}}let Pi=(()=>{class g extends ur{constructor(r){super(r),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(r,s,l,f){this.cloneTableStyle=s,this.config=r||{},this.colVisProp=f;var y=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],T=this.bodyToExportRows(this.rowLookup(l));return y.concat(T)}genereateTable(r,s,l,f){var y=this.generateExportList(r,s,l,f);return this.genereateTableElement(y)}rowLookup(r){var s=[];if("function"==typeof r)r.call(this.table).forEach(l=>{(l=this.table.rowManager.findRow(l))&&s.push(l)});else switch(r){case!0:case"visible":s=this.table.rowManager.getVisibleRows(!0);break;case"all":s=this.table.rowManager.rows;break;case"selected":s=this.table.modules.selectRow.selectedRows;break;default:s=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],s)}generateColumnGroupHeaders(){var r=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach(l=>{var f=this.processColumnGroup(l);f&&r.push(f)}),r}processColumnGroup(r){var s=r.columns,l=0,y={title:r.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||r.definition.title,column:r,depth:1};if(s.length){if(y.subGroups=[],y.width=0,s.forEach(T=>{var D=this.processColumnGroup(T);D&&(y.width+=D.width,y.subGroups.push(D),D.depth>l&&(l=D.depth))}),y.depth+=l,!y.width)return!1}else{if(!this.columnVisCheck(r))return!1;y.width=1}return y}columnVisCheck(r){return!1!==r.definition[this.colVisProp]&&(r.visible||!r.visible&&r.definition[this.colVisProp])}headersToExportRows(r){var s=[],l=0,f=[];function y(T,D){var k=l-D;if(void 0===s[D]&&(s[D]=[]),T.height=T.subGroups?1:k-T.depth+1,s[D].push(T),T.height>1)for(let Y=1;Y<T.height;Y++)void 0===s[D+Y]&&(s[D+Y]=[]),s[D+Y].push(!1);if(T.width>1)for(let Y=1;Y<T.width;Y++)s[D].push(!1);T.subGroups&&T.subGroups.forEach(function(Y){y(Y,D+1)})}return r.forEach(function(T){T.depth>l&&(l=T.depth)}),r.forEach(function(T){y(T,0)}),s.forEach(T=>{var D=[];T.forEach(k=>{D.push(k?new hi(k.title,k.column.getComponent(),k.width,k.height,k.depth):null)}),f.push(new kt("header",D))}),f}bodyToExportRows(r){var s=[],l=[];return this.table.columnManager.columnsByIndex.forEach(f=>{this.columnVisCheck(f)&&s.push(f.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&r.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&r.push(this.table.modules.columnCalcs.botRow)),(r=r.filter(f=>{switch(f.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&f.modules.dataTree.parent)}return!0})).forEach((f,y)=>{var T=f.getData(this.colVisProp),D=[],k=0;switch(f.type){case"group":k=f.level,D.push(new hi(f.key,f.getComponent(),s.length,1));break;case"calc":case"row":s.forEach(Y=>{D.push(new hi(Y._column.getFieldValue(T),Y,1,1))}),this.table.options.dataTree&&!1!==this.config.dataTree&&(k=f.modules.dataTree.index)}l.push(new kt(f.type,D,f.getComponent(),k))}),l}genereateTableElement(r){var s=document.createElement("table"),l=document.createElement("thead"),f=document.createElement("tbody"),y=this.lookupTableStyles(),T=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],D={};return D.rowFormatter=null!==T?T:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(D.treeElementField=this.table.modules.dataTree.elementField),D.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],D.groupHeader&&!Array.isArray(D.groupHeader)&&(D.groupHeader=[D.groupHeader]),s.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),l,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),r.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),r.forEach((k,Y)=>{switch(k.type){case"header":l.appendChild(this.genereateHeaderElement(k,D,y));break;case"group":f.appendChild(this.genereateGroupElement(k,D,y));break;case"calc":f.appendChild(this.genereateCalcElement(k,D,y));break;case"row":let ue=this.genereateRowElement(k,D,y);this.mapElementStyles(Y%2&&y.evenRow?y.evenRow:y.oddRow,ue,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),f.appendChild(ue)}}),l.innerHTML&&s.appendChild(l),s.appendChild(f),this.mapElementStyles(this.table.element,s,["border-top","border-left","border-right","border-bottom"]),s}lookupTableStyles(){var r={};return this.cloneTableStyle&&window.getComputedStyle&&(r.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),r.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),r.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),r.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),r.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],r.firstRow&&(r.styleCells=r.firstRow.getElementsByClassName("tabulator-cell"),r.firstCell=r.styleCells[0],r.lastCell=r.styleCells[r.styleCells.length-1])),r}genereateHeaderElement(r,s,l){var f=document.createElement("tr");return r.columns.forEach(y=>{if(y){var T=document.createElement("th"),D=y.component._column.definition.cssClass?y.component._column.definition.cssClass.split(" "):[];T.colSpan=y.width,T.rowSpan=y.height,T.innerHTML=y.value,this.cloneTableStyle&&(T.style.boxSizing="border-box"),D.forEach(function(k){T.classList.add(k)}),this.mapElementStyles(y.component.getElement(),T,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(y.component._column.contentElement,T,["padding-top","padding-left","padding-right","padding-bottom"]),y.component._column.visible?this.mapElementStyles(y.component.getElement(),T,["width"]):y.component._column.definition.width&&(T.style.width=y.component._column.definition.width+"px"),y.component._column.parent&&this.mapElementStyles(y.component._column.parent.groupElement,T,["border-top"]),f.appendChild(T)}}),f}genereateGroupElement(r,s,l){var f=document.createElement("tr"),y=document.createElement("td"),T=r.columns[0];return f.classList.add("tabulator-print-table-row"),T.value=s.groupHeader&&s.groupHeader[r.indent]?s.groupHeader[r.indent](T.value,r.component._group.getRowCount(),r.component._group.getData(),r.component):!1===s.groupHeader?T.value:r.component._group.generator(T.value,r.component._group.getRowCount(),r.component._group.getData(),r.component),y.colSpan=T.width,y.innerHTML=T.value,f.classList.add("tabulator-print-table-group"),f.classList.add("tabulator-group-level-"+r.indent),T.component.isVisible()&&f.classList.add("tabulator-group-visible"),this.mapElementStyles(l.firstGroup,f,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(l.firstGroup,y,["padding-top","padding-left","padding-right","padding-bottom"]),f.appendChild(y),f}genereateCalcElement(r,s,l){var f=this.genereateRowElement(r,s,l);return f.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(l.calcRow,f,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),f}genereateRowElement(r,s,l){var f=document.createElement("tr");return f.classList.add("tabulator-print-table-row"),r.columns.forEach(y=>{if(y){var T=document.createElement("td"),D=y.component._column,k=y.value,Y={modules:{},getValue:function(){return k},getField:function(){return D.definition.field},getElement:function(){return T},getColumn:function(){return D.getComponent()},getData:function(){return r.component.getData()},getRow:function(){return r.component},getComponent:function(){return Y},column:D};if((D.definition.cssClass?D.definition.cssClass.split(" "):[]).forEach(function(Ie){T.classList.add(Ie)}),this.table.modExists("format")&&!1!==this.config.formatCells)k=this.table.modules.format.formatExportValue(Y,this.colVisProp);else switch(typeof k){case"object":k=JSON.stringify(k);break;case"undefined":case"null":k="";break;default:k=k}k instanceof Node?T.appendChild(k):T.innerHTML=k,l.firstCell&&(this.mapElementStyles(l.firstCell,T,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),D.definition.align&&(T.style.textAlign=D.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(s.treeElementField&&s.treeElementField==D.field||!s.treeElementField&&0==i)&&(r.component._row.modules.dataTree.controlEl&&T.insertBefore(r.component._row.modules.dataTree.controlEl.cloneNode(!0),T.firstChild),r.component._row.modules.dataTree.branchEl&&T.insertBefore(r.component._row.modules.dataTree.branchEl.cloneNode(!0),T.firstChild)),f.appendChild(T),Y.modules.format&&Y.modules.format.renderedCallback&&Y.modules.format.renderedCallback(),s.rowFormatter&&!1!==this.config.formatCells&&s.rowFormatter(r.component)}}),f}genereateHTMLTable(r){var s=document.createElement("div");return s.appendChild(this.genereateTableElement(r)),s.innerHTML}getHtml(r,s,l,f){var y=this.generateExportList(l||this.table.options.htmlOutputConfig,s,r,f||"htmlOutput");return this.genereateHTMLTable(y)}mapElementStyles(r,s,l){if(this.cloneTableStyle&&r&&s){var f={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var y=window.getComputedStyle(r);l.forEach(function(T){s.style[f[T]]=y.getPropertyValue(T)})}}}}return g.moduleName="export",g})();var Tn={"=":function(g,a,r,s){return a==g},"<":function(g,a,r,s){return a<g},"<=":function(g,a,r,s){return a<=g},">":function(g,a,r,s){return a>g},">=":function(g,a,r,s){return a>=g},"!=":function(g,a,r,s){return a!=g},regex:function(g,a,r,s){return"string"==typeof g&&(g=new RegExp(g)),g.test(a)},like:function(g,a,r,s){return null==g?a===g:null!=a&&String(a).toLowerCase().indexOf(g.toLowerCase())>-1},keywords:function(g,a,r,s){var l=g.toLowerCase().split(void 0===s.separator?" ":s.separator),f=String(null==a?"":a).toLowerCase(),y=[];return l.forEach(T=>{f.includes(T)&&y.push(!0)}),s.matchAll?y.length===l.length:!!y.length},starts:function(g,a,r,s){return null==g?a===g:null!=a&&String(a).toLowerCase().startsWith(g.toLowerCase())},ends:function(g,a,r,s){return null==g?a===g:null!=a&&String(a).toLowerCase().endsWith(g.toLowerCase())},in:function(g,a,r,s){return Array.isArray(g)?!g.length||g.indexOf(a)>-1:(console.warn("Filter Error - filter value is not an array:",g),!1)}};let Ui=(()=>{class g extends ur{constructor(r){super(r),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(r=>{var s=this.table.columnManager.findColumn(r.field);if(!s)return console.warn("Column Filter Error - No matching column found:",r.field),!1;this.setHeaderFilterValue(s,r.value)}),this.tableInitialized=!0}remoteFilterParams(r,s,l,f){return f.filter=this.getFilters(!0,!0),f}userSetFilter(r,s,l,f){this.setFilter(r,s,l,f),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(r,s,l,f){this.addFilter(r,s,l,f),this.refreshFilter()}userSetHeaderFilterFocus(r){var s=this.table.columnManager.findColumn(r);if(!s)return console.warn("Column Filter Focus Error - No matching column found:",r),!1;this.setHeaderFilterFocus(s)}userGetHeaderFilterValue(r){var s=this.table.columnManager.findColumn(r);if(s)return this.getHeaderFilterValue(s);console.warn("Column Filter Error - No matching column found:",r)}userSetHeaderFilterValue(r,s){var l=this.table.columnManager.findColumn(r);if(!l)return console.warn("Column Filter Error - No matching column found:",r),!1;this.setHeaderFilterValue(l,s)}userRemoveFilter(r,s,l){this.removeFilter(r,s,l),this.refreshFilter()}userClearFilter(r){this.clearFilter(r),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(r,s,l){return this.search("rows",r,s,l)}searchData(r,s,l){return this.search("data",r,s,l)}initializeColumnHeaderFilter(r){var s=r.definition;s.headerFilter&&(void 0!==s.headerFilterPlaceholder&&s.field&&this.module("localize").setHeaderFilterColumnPlaceholder(s.field,s.headerFilterPlaceholder),this.initializeColumn(r))}initializeColumn(r,s){var l=this,f=r.getField();r.modules.filter={success:function(T){var ue,D="input"==r.modules.filter.tagType&&"text"==r.modules.filter.attrType||"textarea"==r.modules.filter.tagType?"partial":"match",k="",Y="";if(void 0===r.modules.filter.prevSuccess||r.modules.filter.prevSuccess!==T){if(r.modules.filter.prevSuccess=T,r.modules.filter.emptyFunc(T))delete l.headerFilters[f];else{switch(r.modules.filter.value=T,typeof r.definition.headerFilterFunc){case"string":g.filters[r.definition.headerFilterFunc]?(k=r.definition.headerFilterFunc,ue=function(Ie){var We=r.definition.headerFilterFuncParams||{},at=r.getFieldValue(Ie);return We="function"==typeof We?We(T,at,Ie):We,g.filters[r.definition.headerFilterFunc](T,at,Ie,We)}):console.warn("Header Filter Error - Matching filter function not found: ",r.definition.headerFilterFunc);break;case"function":k=ue=function(Ie){var We=r.definition.headerFilterFuncParams||{},at=r.getFieldValue(Ie);return We="function"==typeof We?We(T,at,Ie):We,r.definition.headerFilterFunc(T,at,Ie,We)}}ue||("partial"===D?(ue=function(Ie){var We=r.getFieldValue(Ie);return null!=We&&String(We).toLowerCase().indexOf(String(T).toLowerCase())>-1},k="like"):(ue=function(Ie){return r.getFieldValue(Ie)==T},k="=")),l.headerFilters[f]={value:T,func:ue,type:k,params:{}}}Y=JSON.stringify(l.headerFilters),l.prevHeaderFilterChangeCheck!==Y&&(l.prevHeaderFilterChangeCheck=Y,l.trackChanges(),l.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(r)}generateHeaderFilterElement(r,s,l){var D,k,Y,ue,Ie,We,at,f=this,y=r.modules.filter.success,T=r.getField();if(r.modules.filter.headerElement&&r.modules.filter.headerElement.parentNode&&r.contentElement.removeChild(r.modules.filter.headerElement.parentNode),T){switch(r.modules.filter.emptyFunc=r.definition.headerFilterEmptyCheck||function(Dt){return!Dt&&"0"!==Dt&&0!==Dt},(D=document.createElement("div")).classList.add("tabulator-header-filter"),typeof r.definition.headerFilter){case"string":f.table.modules.edit.editors[r.definition.headerFilter]?(k=f.table.modules.edit.editors[r.definition.headerFilter],("tick"===r.definition.headerFilter||"tickCross"===r.definition.headerFilter)&&!r.definition.headerFilterEmptyCheck&&(r.modules.filter.emptyFunc=function(Dt){return!0!==Dt&&!1!==Dt})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",r.definition.editor);break;case"function":k=r.definition.headerFilter;break;case"boolean":r.modules.edit&&r.modules.edit.editor?k=r.modules.edit.editor:r.definition.formatter&&f.table.modules.edit.editors[r.definition.formatter]?(k=f.table.modules.edit.editors[r.definition.formatter],("tick"===r.definition.formatter||"tickCross"===r.definition.formatter)&&!r.definition.headerFilterEmptyCheck&&(r.modules.filter.emptyFunc=function(Dt){return!0!==Dt&&!1!==Dt})):k=f.table.modules.edit.editors.input}if(k){if(ue={getValue:function(){return void 0!==s?s:""},getField:function(){return r.definition.field},getElement:function(){return D},getColumn:function(){return r.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},at="function"==typeof(at=r.definition.headerFilterParams||{})?at.call(f.table):at,!(Y=k.call(this.table.modules.edit,ue,function(){},y,function(){},at)))return void console.warn("Filter Error - Cannot add filter to "+T+" column, editor returned a value of false");if(!(Y instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+T+" column, editor should return an instance of Node, the editor returned:",Y);T?f.langBind("headerFilters|columns|"+r.definition.field,function(Dt){Y.setAttribute("placeholder",void 0!==Dt&&Dt?Dt:f.langText("headerFilters|default"))}):f.langBind("headerFilters|default",function(Dt){Y.setAttribute("placeholder",Dt)}),Y.addEventListener("click",function(Dt){Dt.stopPropagation(),Y.focus()}),Y.addEventListener("focus",Dt=>{var At=this.table.columnManager.element.scrollLeft;At!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(At),this.table.columnManager.scrollHorizontal(At))}),Ie=!1,We=function(Dt){Ie&&clearTimeout(Ie),Ie=setTimeout(function(){y(Y.value)},f.table.options.headerFilterLiveFilterDelay)},r.modules.filter.headerElement=Y,r.modules.filter.attrType=Y.hasAttribute("type")?Y.getAttribute("type").toLowerCase():"",r.modules.filter.tagType=Y.tagName.toLowerCase(),!1!==r.definition.headerFilterLiveFilter&&("autocomplete"===r.definition.headerFilter||"tickCross"===r.definition.headerFilter||("autocomplete"===r.definition.editor||"tickCross"===r.definition.editor)&&!0===r.definition.headerFilter||(Y.addEventListener("keyup",We),Y.addEventListener("search",We),"number"==r.modules.filter.attrType&&Y.addEventListener("change",function(Dt){y(Y.value)}),"text"==r.modules.filter.attrType&&"ie"!==this.table.browser&&Y.setAttribute("type","search")),("input"==r.modules.filter.tagType||"select"==r.modules.filter.tagType||"textarea"==r.modules.filter.tagType)&&Y.addEventListener("mousedown",function(Dt){Dt.stopPropagation()})),D.appendChild(Y),r.contentElement.appendChild(D),l||f.headerFilterColumns.push(r)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",r.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(r){r.modules.filter&&r.modules.filter.headerElement&&(r.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(r){r.modules.filter&&r.modules.filter.headerElement&&(r.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(r){r.modules.filter&&r.modules.filter.headerElement?r.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",r.getField())}getHeaderFilterValue(r){if(r.modules.filter&&r.modules.filter.headerElement)return r.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",r.getField())}setHeaderFilterValue(r,s){r&&(r.modules.filter&&r.modules.filter.headerElement?(this.generateHeaderFilterElement(r,s,!0),r.modules.filter.success(s)):console.warn("Column Filter Error - No header filter set on column:",r.getField()))}reloadHeaderFilter(r){r&&(r.modules.filter&&r.modules.filter.headerElement?this.generateHeaderFilterElement(r,r.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",r.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData():this.refreshData())}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var r=this.changed;return this.changed=!1,r}setFilter(r,s,l,f){this.filterList=[],Array.isArray(r)||(r=[{field:r,type:s,value:l,params:f}]),this.addFilter(r)}addFilter(r,s,l,f){Array.isArray(r)||(r=[{field:r,type:s,value:l,params:f}]),r.forEach(y=>{(y=this.findFilter(y))&&(this.filterList.push(y),this.changed=!0)})}findFilter(r){var s;if(Array.isArray(r))return this.findSubFilters(r);var l=!1;return"function"==typeof r.field?l=function(f){return r.field(f,r.type||{})}:g.filters[r.type]?l=(s=this.table.columnManager.getColumnByField(r.field))?function(f){return g.filters[r.type](r.value,s.getFieldValue(f),f,r.params||{})}:function(f){return g.filters[r.type](r.value,f[r.field],f,r.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",r.type),r.func=l,!!r.func&&r}findSubFilters(r){var s=[];return r.forEach(l=>{(l=this.findFilter(l))&&s.push(l)}),!!s.length&&s}getFilters(r,s){var l=[];return r&&(l=this.getHeaderFilters()),s&&l.forEach(function(f){"function"==typeof f.type&&(f.type="function")}),l.concat(this.filtersToArray(this.filterList,s))}filtersToArray(r,s){var l=[];return r.forEach(f=>{var y;Array.isArray(f)?l.push(this.filtersToArray(f,s)):(y={field:f.field,type:f.type,value:f.value},s&&"function"==typeof y.type&&(y.type="function"),l.push(y))}),l}getHeaderFilters(){var r=[];for(var s in this.headerFilters)r.push({field:s,type:this.headerFilters[s].type,value:this.headerFilters[s].value});return r}removeFilter(r,s,l){Array.isArray(r)||(r=[{field:r,type:s,value:l}]),r.forEach(f=>{var y;(y=this.filterList.findIndex("object"==typeof f.field?T=>f===T:T=>f.field===T.field&&f.type===T.type&&f.value===T.value))>-1?this.filterList.splice(y,1):console.warn("Filter Error - No matching filter type found, ignoring: ",f.type)}),this.trackChanges()}clearFilter(r){this.filterList=[],r&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(r=>{void 0!==r.modules.filter.value&&delete r.modules.filter.value,r.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(r)}),this.trackChanges()}search(r,s,l,f){var y=[],T=[];return Array.isArray(s)||(s=[{field:s,type:l,value:f}]),s.forEach(D=>{(D=this.findFilter(D))&&T.push(D)}),this.table.rowManager.rows.forEach(D=>{var k=!0;T.forEach(Y=>{this.filterRecurse(Y,D.getData())||(k=!1)}),k&&y.push("data"===r?D.getData("data"):D.getComponent())}),y}filter(r,s){var l=[],f=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters()),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?r.forEach(y=>{this.filterRow(y)&&l.push(y)}):l=r.slice(0),this.subscribedExternal("dataFiltered")&&(l.forEach(y=>{f.push(y.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(),f)),l}filterRow(r,s){var l=!0,f=r.getData();for(var y in this.filterList.forEach(T=>{this.filterRecurse(T,f)||(l=!1)}),this.headerFilters)this.headerFilters[y].func(f)||(l=!1);return l}filterRecurse(r,s){var l=!1;return Array.isArray(r)?r.forEach(f=>{this.filterRecurse(f,s)&&(l=!0)}):l=r.func(s),l}}return g.moduleName="filter",g.filters=Tn,g})();var wd={plaintext:function(g,a,r){return this.emptyToSpace(this.sanitizeHTML(g.getValue()))},html:function(g,a,r){return g.getValue()},textarea:function(g,a,r){return g.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(g.getValue()))},money:function(g,a,r){var f,y,T,D,s=parseFloat(g.getValue()),l="",k=a.decimal||".",Y=a.thousand||",",ue=a.negativeSign||"-",Ie=a.symbol||"",We=!!a.symbolAfter,at=void 0!==a.precision?a.precision:2;if(isNaN(s))return this.emptyToSpace(this.sanitizeHTML(g.getValue()));for(s<0&&(s=Math.abs(s),l=ue),f=!1!==at?s.toFixed(at):s,y=(f=String(f).split("."))[0],T=f.length>1?k+f[1]:"",D=/(\d+)(\d{3})/;D.test(y);)y=y.replace(D,"$1"+Y+"$2");return We?l+y+T+Ie:l+Ie+y+T},link:function(g,a,r){var s=g.getValue(),l=a.urlPrefix||"",f=a.download,y=s,T=document.createElement("a");if(a.labelField&&(y=g.getData()[a.labelField]),a.label)switch(typeof a.label){case"string":y=a.label;break;case"function":y=a.label(g)}if(y){if(a.urlField&&(s=g.getData()[a.urlField]),a.url)switch(typeof a.url){case"string":s=a.url;break;case"function":s=a.url(g)}return T.setAttribute("href",l+s),a.target&&T.setAttribute("target",a.target),a.download&&(f="function"==typeof f?f(g):!0===f?"":f,T.setAttribute("download",f)),T.innerHTML=this.emptyToSpace(this.sanitizeHTML(y)),T}return"&nbsp;"},image:function(g,a,r){var s=document.createElement("img"),l=g.getValue();switch(a.urlPrefix&&(l=a.urlPrefix+g.getValue()),a.urlSuffix&&(l+=a.urlSuffix),s.setAttribute("src",l),typeof a.height){case"number":s.style.height=a.height+"px";break;case"string":s.style.height=a.height}switch(typeof a.width){case"number":s.style.width=a.width+"px";break;case"string":s.style.width=a.width}return s.addEventListener("load",function(){g.getRow().normalizeHeight()}),s},tickCross:function(g,a,r){var s=g.getValue(),l=g.getElement(),f=a.allowEmpty,T=void 0!==a.tickElement?a.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',D=void 0!==a.crossElement?a.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a.allowTruthy&&s||!0===s||"true"===s||"True"===s||1===s||"1"===s?(l.setAttribute("aria-checked",!0),T||""):!f||"null"!==s&&""!==s&&null!=s?(l.setAttribute("aria-checked",!1),D||""):(l.setAttribute("aria-checked","mixed"),"")},datetime:function(g,a,r){var s=window.DateTime||luxon.DateTime,l=a.inputFormat||"yyyy-MM-dd HH:mm:ss",f=a.outputFormat||"dd/MM/yyyy HH:mm:ss",y=void 0!==a.invalidPlaceholder?a.invalidPlaceholder:"",T=g.getValue();if(void 0!==s){var D=(window.DateTime||luxon.DateTime).fromFormat(T,l);return D.isValid?(a.timezone&&(D=D.shiftTimezone(a.timezone)),D.toFormat(f)):!0===y?T:"function"==typeof y?y(T):y}console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function(g,a,r){var s=window.DateTime||luxon.DateTime,l=a.inputFormat||"yyyy-MM-dd HH:mm:ss",f=void 0!==a.invalidPlaceholder?a.invalidPlaceholder:"",y=void 0!==a.suffix&&a.suffix,T=void 0!==a.unit?a.unit:"days",D=void 0!==a.humanize&&a.humanize,k=void 0!==a.date?a.date:s.now(),Y=g.getValue();if(void 0!==s){var ue=s.fromFormat(Y,l);if(!ue.isValid)return!0===f?Y:"function"==typeof f?f(Y):f;if(!D)return parseInt(ue.diff(k,T)[T])+(y?" "+y:"")}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function(g,a,r){var s=g.getValue();return void 0===a[s]?(console.warn("Missing display value for "+s),s):a[s]},star:function(g,a,r){var s=g.getValue(),l=g.getElement(),f=a&&a.stars?a.stars:5,y=document.createElement("span"),T=document.createElementNS("http://www.w3.org/2000/svg","svg");y.style.verticalAlign="middle",T.setAttribute("width","14"),T.setAttribute("height","14"),T.setAttribute("viewBox","0 0 512 512"),T.setAttribute("xml:space","preserve"),T.style.padding="0 1px",s=s&&!isNaN(s)?parseInt(s):0,s=Math.max(0,Math.min(s,f));for(var Y=1;Y<=f;Y++){var ue=T.cloneNode(!0);ue.innerHTML=Y<=s?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',y.appendChild(ue)}return l.style.whiteSpace="nowrap",l.style.overflow="hidden",l.style.textOverflow="ellipsis",l.setAttribute("aria-label",s),y},traffic:function(g,a,r){var Y,s=this.sanitizeHTML(g.getValue())||0,l=document.createElement("span"),f=a&&a.max?a.max:100,y=a&&a.min?a.min:0,T=a&&void 0!==a.color?a.color:["red","orange","green"],D="#666666";if(!isNaN(s)&&void 0!==g.getValue()){switch(l.classList.add("tabulator-traffic-light"),Y=parseFloat(s)<=f?parseFloat(s):f,Y=parseFloat(Y)>=y?parseFloat(Y):y,Y=Math.round((Y-y)/((f-y)/100)),typeof T){case"string":D=T;break;case"function":D=T(s);break;case"object":if(Array.isArray(T)){var Ie=Math.floor(Y/(100/T.length));Ie=Math.min(Ie,T.length-1),D=T[Ie=Math.max(Ie,0)];break}}return l.style.backgroundColor=D,l}},progress:function(g,a,r){var k,Y,ue,Ie,s=this.sanitizeHTML(g.getValue())||0,l=g.getElement(),f=a&&a.max?a.max:100,y=a&&a.min?a.min:0,T=a&&a.legendAlign?a.legendAlign:"center";switch(k=parseFloat(s)<=f?parseFloat(s):f,k=parseFloat(k)>=y?parseFloat(k):y,k=Math.round((k-y)/((f-y)/100)),typeof a.color){case"string":Y=a.color;break;case"function":Y=a.color(s);break;case"object":if(Array.isArray(a.color)){var We=100/a.color.length,at=Math.floor(k/We);at=Math.min(at,a.color.length-1),at=Math.max(at,0),Y=a.color[at];break}default:Y="#2DC214"}switch(typeof a.legend){case"string":ue=a.legend;break;case"function":ue=a.legend(s);break;case"boolean":ue=s;break;default:ue=!1}switch(typeof a.legendColor){case"string":Ie=a.legendColor;break;case"function":Ie=a.legendColor(s);break;case"object":Array.isArray(a.legendColor)&&(We=100/a.legendColor.length,at=Math.floor(k/We),at=Math.min(at,a.legendColor.length-1),at=Math.max(at,0),Ie=a.legendColor[at]);break;default:Ie="#000"}l.style.minWidth="30px",l.style.position="relative",l.setAttribute("aria-label",k);var yt=document.createElement("div");yt.style.display="inline-block",yt.style.position="absolute",yt.style.width=k+"%",yt.style.backgroundColor=Y,yt.style.height="100%",yt.setAttribute("data-max",f),yt.setAttribute("data-min",y);var Dt=document.createElement("div");if(Dt.style.position="relative",Dt.style.width="100%",Dt.style.height="100%",ue){var At=document.createElement("div");At.style.position="absolute",At.style.top=0,At.style.left=0,At.style.textAlign=T,At.style.width="100%",At.style.color=Ie,At.innerHTML=ue}return r(function(){if(!(g instanceof Ku)){var ai=document.createElement("div");ai.style.position="absolute",ai.style.top="4px",ai.style.bottom="4px",ai.style.left="4px",ai.style.right="4px",l.appendChild(ai),l=ai}l.appendChild(Dt),Dt.appendChild(yt),ue&&Dt.appendChild(At)}),""},color:function(g,a,r){return g.getElement().style.backgroundColor=this.sanitizeHTML(g.getValue()),""},buttonTick:function(g,a,r){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(g,a,r){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(g,a,r){return this.table.rowManager.activeRows.indexOf(g.getRow()._getSelf())+1},handle:function(g,a,r){return g.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(g,a,r){var s=document.createElement("div"),l=g.getRow()._row.modules.responsiveLayout;function f(y){var T=l.element;l.open=y,T&&(l.open?(s.classList.add("open"),T.style.display=""):(s.classList.remove("open"),T.style.display="none"))}return s.classList.add("tabulator-responsive-collapse-toggle"),s.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",g.getElement().classList.add("tabulator-row-handle"),s.addEventListener("click",function(y){y.stopImmediatePropagation(),f(!l.open)}),f(l.open),s},rowSelection:function(g,a,r){var s=document.createElement("input");if(s.type="checkbox",this.table.modExists("selectRow",!0))if(s.addEventListener("click",f=>{f.stopPropagation()}),"function"==typeof g.getRow){var l=g.getRow();l instanceof gu?(s.addEventListener("change",f=>{l.toggleSelect()}),s.checked=l.isSelected&&l.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(l,s)):s=""}else s.addEventListener("change",f=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(a.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(s);return s}};let Np=(()=>{class g extends ur{constructor(r){super(r),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(r){r.modules.format=this.lookupFormatter(r,""),void 0!==r.definition.formatterPrint&&(r.modules.format.print=this.lookupFormatter(r,"Print")),void 0!==r.definition.formatterClipboard&&(r.modules.format.clipboard=this.lookupFormatter(r,"Clipboard")),void 0!==r.definition.formatterHtmlOutput&&(r.modules.format.htmlOutput=this.lookupFormatter(r,"HtmlOutput"))}lookupFormatter(r,s){var l={params:r.definition["formatter"+s+"Params"]||{}},f=r.definition["formatter"+s];switch(typeof f){case"string":g.formatters[f]?l.formatter=g.formatters[f]:(console.warn("Formatter Error - No such formatter found: ",f),l.formatter=g.formatters.plaintext);break;case"function":l.formatter=f;break;default:l.formatter=g.formatters.plaintext}return l}cellRendered(r){r.modules.format&&r.modules.format.renderedCallback&&!r.modules.format.rendered&&(r.modules.format.renderedCallback(),r.modules.format.rendered=!0)}formatHeader(r,s,l){var f,y,T,D;return r.definition.titleFormatter?(f=this.getFormatter(r.definition.titleFormatter),T=k=>{r.titleFormatterRendered=k},D={getValue:function(){return s},getElement:function(){return l}},y="function"==typeof(y=r.definition.titleFormatterParams||{})?y():y,f.call(this,D,y,T)):s}formatValue(r){var s=r.getComponent(),l="function"==typeof r.column.modules.format.params?r.column.modules.format.params(s):r.column.modules.format.params;return r.column.modules.format.formatter.call(this,s,l,function(y){r.modules.format||(r.modules.format={}),r.modules.format.renderedCallback=y,r.modules.format.rendered=!1})}formatExportValue(r,s){var f,l=r.column.modules.format[s];if(l){let y=function(T){r.modules.format||(r.modules.format={}),r.modules.format.renderedCallback=T,r.modules.format.rendered=!1};return f="function"==typeof l.params?l.params(component):l.params,l.formatter.call(this,r.getComponent(),f,y)}return this.formatValue(r)}sanitizeHTML(r){if(r){var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(r).replace(/[&<>"'`=\/]/g,function(l){return s[l]})}return r}emptyToSpace(r){return null==r||""===r?"&nbsp;":r}getFormatter(r){switch(typeof r){case"string":g.formatters[r]?r=g.formatters[r]:(console.warn("Formatter Error - No such formatter found: ",r),r=g.formatters.plaintext);break;case"function":r=r;break;default:r=g.formatters.plaintext}return r}}return g.moduleName="format",g.formatters=wd,g})(),Fp=(()=>{class g extends ur{constructor(r){super(r),this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-before",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("table-redraw",this.layout.bind(this))}layoutCell(r){this.layoutElement(r.element,r.column)}initializeColumn(r){var s={margin:0,edge:!1};r.isGroup||(this.frozenCheck(r)?(s.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(r):this.rightColumns.unshift(r),this.active=!0,r.modules.frozen=s):this.initializationMode="right")}frozenCheck(r){return r.parent.isGroup&&r.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),r.parent.isGroup?this.frozenCheck(r.parent):r.definition.frozen}scrollHorizontal(){var r;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.layout()},100),r=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),r.forEach(s=>{"row"===s.type&&this.layoutRow(s)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}calcMargins(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(r){r.forEach(s=>{s.calcs.top&&this.layoutRow(s.calcs.top),s.calcs.bottom&&this.layoutRow(s.calcs.bottom),s.groupList&&s.groupList.length&&this.layoutGroupCalcs(s.groupList&&s.groupList)})}layoutColumnPosition(r){var s=[];this.leftColumns.forEach((l,f)=>{if(l.modules.frozen.margin=this._calcSpace(this.leftColumns,f)+this.table.columnManager.scrollLeft+"px",l.modules.frozen.edge=f==this.leftColumns.length-1,l.parent.isGroup){var y=this.getColGroupParentElement(l);s.includes(y)||(this.layoutElement(y,l),s.push(y)),l.modules.frozen.edge&&y.classList.add("tabulator-frozen-"+l.modules.frozen.position)}else this.layoutElement(l.getElement(),l);r&&l.cells.forEach(T=>{this.layoutElement(T.getElement(!0),l)})}),this.rightColumns.forEach((l,f)=>{l.modules.frozen.margin=this.rightPadding-this._calcSpace(this.rightColumns,f+1)+"px",l.modules.frozen.edge=f==this.rightColumns.length-1,this.layoutElement(l.parent.isGroup?this.getColGroupParentElement(l):l.getElement(),l),r&&l.cells.forEach(y=>{this.layoutElement(y.getElement(!0),l)})})}getColGroupParentElement(r){return r.parent.isGroup?this.getColGroupParentElement(r.parent):r.getElement()}layout(){this.active&&(this.calcMargins(),this.table.rowManager.getDisplayRows().forEach(r=>{"row"===r.type&&this.layoutRow(r)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}layoutRow(r){r.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach(l=>{var f=r.getCell(l);f&&this.layoutElement(f.getElement(!0),l)}),this.rightColumns.forEach(l=>{var f=r.getCell(l);f&&this.layoutElement(f.getElement(!0),l)})}layoutElement(r,s){s.modules.frozen&&(r.style.position="absolute",r.style.left=s.modules.frozen.margin,r.classList.add("tabulator-frozen"),s.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+s.modules.frozen.position))}_calcSpace(r,s){var l=0;for(let f=0;f<s;f++)r[f].visible&&(l+=r[f].getWidth());return l}}return g.moduleName="frozenColumns",g})(),Bp=(()=>{class g extends ur{constructor(r){super(r),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this))}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10)}isRowFrozen(r){return this.rows.indexOf(r)>-1}isFrozen(){return!!this.rows.length}getRows(r){var s=r.slice(0);return this.rows.forEach(function(l){var f=s.indexOf(l);f>-1&&s.splice(f,1)}),s}freezeRow(r){r.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(r.modules.frozen=!0,this.topElement.appendChild(r.getElement()),r.initialize(),r.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(r),this.refreshData(!1,"display"),this.styleRows())}unfreezeRow(r){this.rows.indexOf(r),r.modules.frozen?(r.modules.frozen=!1,this.detachRow(r),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(r){var s=this.rows.indexOf(r);if(s>-1){var l=r.getElement();l.parentNode&&l.parentNode.removeChild(l),this.rows.splice(s,1)}}styleRows(r){this.rows.forEach((s,l)=>{this.table.rowManager.styleRow(s,l)})}}return g.moduleName="frozenRows",g})();class ip{constructor(a){return this._group=a,this.type="GroupComponent",new Proxy(this,{get:function(r,s,l){return void 0!==r[s]?r[s]:r._group.table.componentFunctionBinder.handle("row",r._group,s)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class mu{constructor(a,r,s,l,f,y,T){this.groupManager=a,this.parent=r,this.key=l,this.level=s,this.field=f,this.hasSubGroups=s<a.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=T,this.rows=[],this.groups=[],this.groupList=[],this.generator=y,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=T?T.visible:void 0!==a.startOpen[s]?a.startOpen[s]:a.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(){this.groupList.length?this.groupList.forEach(function(a){a.wipe()}):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)}createElements(){var a=document.createElement("div");a.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(a),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var a=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[a]&&this.groupManager.allowedValues[a].forEach(r=>{this._createGroup(r,a)})}addBindings(){var a,r,s;(this.groupManager.table.options.groupContextMenu||this.groupManager.table.options.groupClickMenu)&&this.groupManager.table.modExists("menu")&&this.groupManager.table.modules.menu.initializeGroup.call(this.groupManager.table.modules.menu,this),this.groupManager.table.options.groupTap&&(s=!1,this.element.addEventListener("touchstart",f=>{s=!0},{passive:!0}),this.element.addEventListener("touchend",f=>{s&&this.groupManager.table.options.groupTap(f,this.getComponent()),s=!1})),this.groupManager.table.options.groupDblTap&&(a=null,this.element.addEventListener("touchend",f=>{a?(clearTimeout(a),a=null,this.groupManager.table.options.groupDblTap(f,this.getComponent())):a=setTimeout(()=>{clearTimeout(a),a=null},300)})),this.groupManager.table.options.groupTapHold&&(r=null,this.element.addEventListener("touchstart",f=>{clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),r=null,s=!1,this.groupManager.table.options.groupTapHold(f,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",f=>{clearTimeout(r),r=null})),this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",f=>{f.stopPropagation(),f.stopImmediatePropagation(),this.toggleVisibility()})}_createGroup(a,r){var s=r+"_"+a,l=new mu(this.groupManager,this,r,a,this.groupManager.groupIDLookups[r].field,this.groupManager.headerGenerator[r]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[s]);this.groups[s]=l,this.groupList.push(l)}_addRowToGroup(a){var r=this.level+1;if(this.hasSubGroups){var s=this.groupManager.groupIDLookups[r].func(a.getData()),l=r+"_"+s;this.groupManager.allowedValues&&this.groupManager.allowedValues[r]?this.groups[l]&&this.groups[l].addRow(a):(this.groups[l]||this._createGroup(s,r),this.groups[l].addRow(a))}}_addRow(a){this.rows.push(a),a.modules.group=this}insertRow(a,r,s){var l=this.conformRowData({});a.updateData(l);var f=this.rows.indexOf(r);f>-1?this.rows.splice(s?f+1:f,0,a):s?this.rows.push(a):this.rows.unshift(a),a.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(a){this.arrowElement.style.marginLeft=a,this.groupList.forEach(function(r){r.scrollHeader(a)})}getRowIndex(a){}conformRowData(a){return this.field?a[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(a=this.parent.conformRowData(a)),a}removeRow(a){var r=this.rows.indexOf(a),s=a.getElement();r>-1&&this.rows.splice(r,1),this.groupManager.table.options.groupValues||this.rows.length?(s.parentNode&&s.parentNode.removeChild(s),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(a){var s,r=a.level+"_"+a.key;this.groups[r]&&(delete this.groups[r],(s=this.groupList.indexOf(a))>-1&&this.groupList.splice(s,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(a){var r=[];return r.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(s){r=r.concat(s.getHeadersAndRows(a))}):(!a&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),r.push(this.calcs.top)),r=r.concat(this.rows),!a&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),r.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!a&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),r.push(this.calcs.top))),!a&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),r.push(this.calcs.bottom)))),r}getData(a,r){var s=[];return this._visSet(),(!a||a&&this.visible)&&this.rows.forEach(l=>{s.push(l.getData(r||"data"))}),s}getRowCount(){var a=0;return this.groupList.length?this.groupList.forEach(r=>{a+=r.getRowCount()}):a=this.rows.length,a}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(a=>{a.getHeadersAndRows().forEach(s=>{s.detachElement()})}):this.rows.forEach(a=>{var r=a.getElement();r.parentNode.removeChild(r)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var a=this.getElement();this.groupList.length?this.groupList.forEach(r=>{r.getHeadersAndRows().forEach(l=>{var f=l.getElement();a.parentNode.insertBefore(f,a.nextSibling),l.initialize(),a=f})}):this.rows.forEach(r=>{var s=r.getElement();a.parentNode.insertBefore(s,a.nextSibling),r.initialize(),a=s}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var a=[];"function"==typeof this.visible&&(this.rows.forEach(function(r){a.push(r.getData())}),this.visible=this.visible(this.key,this.getRowCount(),a,this.getComponent()))}getRowGroup(a){var r=!1;return this.groupList.length?this.groupList.forEach(function(s){var l=s.getRowGroup(a);l&&(r=l)}):this.rows.find(function(s){return s===a})&&(r=this),r}getSubGroups(a){var r=[];return this.groupList.forEach(function(s){r.push(a?s.getComponent():s)}),r}getRows(a){var r=[];return this.rows.forEach(function(s){r.push(a?s.getComponent():s)}),r}generateGroupHeaderContents(){var a=[];for(this.rows.forEach(function(r){a.push(r.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),a,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(a=[]){return a.unshift(this.key),this.parent&&this.parent.getPath(a),a}getElement(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var a=0;a<this.element.childNodes.length;++a)this.element.childNodes[a].parentNode.removeChild(this.element.childNodes[a]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(a){(!this.initialized||a)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,_o.elVisible(this.element)&&this.initialize(!0)}setHeight(a){this.height!=a&&(this.height=a,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new ip(this)),this.component}}let Hp=(()=>{class g extends ur{constructor(r){super(r),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0,this.displayHandler=this.getRows.bind(this),this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.table.options.groupBy&&(this.configureGroupSetup(),this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}configureGroupSetup(){if(this.table.options.groupBy){var r=this.table.options.groupBy,s=this.table.options.groupStartOpen,l=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(r)&&Array.isArray(l)&&r.length>l.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(y,T)=>{this.headerGenerator[0]=(D,k,Y)=>(void 0===D?"":D)+"<span>("+k+" "+(1===k?y:T.groups.items)+")</span>"}),this.groupIDLookups=[],Array.isArray(r)||r?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(y=>{y.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),y.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(r)||(r=[r]),r.forEach((y,T)=>{var D,k;D="function"==typeof y?y:(k=this.table.columnManager.getColumnByField(y))?function(Y){return k.getFieldValue(Y)}:function(Y){return Y[y]},this.groupIDLookups.push({field:"function"!=typeof y&&y,func:D,values:!!this.allowedValues&&this.allowedValues[T]})}),s&&(Array.isArray(s)||(s=[s]),s.forEach(y=>{}),this.startOpen=s),l&&(this.headerGenerator=Array.isArray(l)?l:[l])}}rowSample(r,s){var l=this.getGroups(!1)[0];return s.push(l.getRows(!1)[0]),s}virtualRenderFill(){var r=this.table.rowManager.tableElement,s=this.table.rowManager.getVisibleRows();s=s.filter(l=>"group"!==l.type),r.style.minWidth=s.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(r,s,l){this.assignRowToGroup(r);var f=r.modules.group.rows;return f.length>1&&(!s||s&&-1==f.indexOf(s)?l?f[0]!==r&&this.table.rowManager.moveRowInArray(r.modules.group.rows,r,s=f[0],!l):f[f.length-1]!==r&&this.table.rowManager.moveRowInArray(r.modules.group.rows,r,s=f[f.length-1],!l):this.table.rowManager.moveRowInArray(r.modules.group.rows,r,s,!l)),s}trackChanges(){this.dispatch("group-changed")}setGroupBy(r){this.table.options.groupBy=r,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupValues(r){this.table.options.groupValues=r,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(r){this.table.options.groupStartOpen=r,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(r){this.table.options.groupHeader=r,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(r){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(r){return!!r.modules.group&&r.modules.group.getComponent()}rowMoving(r,s,l){!l&&s instanceof mu&&(s=this.table.rowManager.prevDisplayRow(r)||s);var f=s instanceof mu?s:s.modules.group,y=r instanceof mu?r:r.modules.group;f===y?this.table.rowManager.moveRowInArray(f.rows,r,s,l):(y&&y.removeRow(r),f.insertRow(r,s,l))}rowDeleting(r){r.modules.group&&r.modules.group.removeRow(r)}rowsUpdated(r){this.updateGroupRows(!0)}cellUpdated(r){this.reassignRowToGroup(r.row)}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}getRows(r){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(r),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):r.slice(0)}getGroups(r){var s=[];return this.groupList.forEach(function(l){s.push(r?l.getComponent():l)}),s}getChildGroups(r){var s=[];return r||(r=this),r.groupList.forEach(l=>{l.groupList.length?s=s.concat(this.getChildGroups(l)):s.push(l)}),s}wipe(){this.groupList.forEach(function(r){r.wipe()})}pullGroupListData(r){var s=[];return r.forEach(l=>{var f={level:0,rowCount:0,headerContent:""},y=[];l.hasSubGroups?(y=this.pullGroupListData(l.groupList),f.level=l.level,f.rowCount=y.length-l.groupList.length,f.headerContent=l.generator(l.key,f.rowCount,l.rows,l),s.push(f),s=s.concat(y)):(f.level=l.level,f.headerContent=l.generator(l.key,l.rows.length,l.rows,l),f.rowCount=l.getRows().length,s.push(f),l.getRows().forEach(T=>{s.push(T.getData("data"))}))}),s}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(r){var s=!1;return this.groupList.forEach(l=>{var f=l.getRowGroup(r);f&&(s=f)}),s}countGroups(){return this.groupList.length}generateGroups(r){var s=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(l=>{this.createGroup(l,0,s)}),r.forEach(l=>{this.assignRowToExistingGroup(l,s)})):r.forEach(l=>{this.assignRowToGroup(l,s)})}createGroup(r,s,l){var y,f=s+"_"+r;y=new mu(this,!1,s,r,this.groupIDLookups[0].field,this.headerGenerator[0],(l=l||[])[f]),this.groups[f]=y,this.groupList.push(y)}assignRowToExistingGroup(r,s){var f="0_"+this.groupIDLookups[0].func(r.getData());this.groups[f]&&this.groups[f].addRow(r)}assignRowToGroup(r,s){var l=this.groupIDLookups[0].func(r.getData()),f=!this.groups["0_"+l];return f&&this.createGroup(l,0,s),this.groups["0_"+l].addRow(r),!f}reassignRowToGroup(r){if("row"===r.type){var s=r.modules.group,l=s.getPath(),f=this.getExpectedPath(r);l.length==f.length&&l.every((T,D)=>T===f[D])||(s.removeRow(r),this.assignRowToGroup(r,this.groups),this.refreshData(!0))}}getExpectedPath(r){var s=[],l=r.getData();return this.groupIDLookups.forEach(f=>{s.push(f.func(l))}),s}updateGroupRows(r){var s=[];return this.groupList.forEach(l=>{s=s.concat(l.getHeadersAndRows())}),r&&this.refreshData(!0,this.displayHandler),s}scrollHeaders(r){"virtual"===this.table.options.renderHorizontal&&(r-=this.table.columnManager.renderer.vDomPadLeft),r+="px",this.groupList.forEach(s=>{s.scrollHeader(r)})}removeGroup(r){var l,s=r.level+"_"+r.key;this.groups[s]&&(delete this.groups[s],(l=this.groupList.indexOf(r))>-1&&this.groupList.splice(l,1))}}return g.moduleName="groupRows",g})();var yh={cellEdit:function(g){g.component.setValueProcessData(g.data.oldValue),g.component.cellRendered()},rowAdd:function(g){g.component.deleteActual()},rowDelete:function(g){var a=this.table.rowManager.addRowActual(g.data.data,g.data.pos,g.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(g.component,a)},rowMove:function(g){this.table.rowManager.moveRowActual(g.component,this.table.rowManager.rows[g.data.posFrom],!g.data.after),this.table.rowManager.redraw()}},Af={cellEdit:function(g){g.component.setValueProcessData(g.data.newValue),g.component.cellRendered()},rowAdd:function(g){var a=this.table.rowManager.addRowActual(g.data.data,g.data.pos,g.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(g.component,a)},rowDelete:function(g){g.component.deleteActual()},rowMove:function(g){this.table.rowManager.moveRowActual(g.component,this.table.rowManager.rows[g.data.posTo],g.data.after),this.table.rowManager.redraw()}};let Vp=(()=>{class g extends ur{constructor(r){super(r),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(r,s,l){this.action("rowMove",r,{posFrom:this.table.rowManager.getRowPosition(r),posTo:this.table.rowManager.getRowPosition(s),to:s,after:l})}rowAdded(r,s,l,f){this.action("rowAdd",r,{data:s,pos:l,index:f})}rowDeleted(r){var s,l;this.table.options.groupBy?(s=(l=r.getComponent().getGroup().rows).indexOf(r))&&(s=l[s-1]):(s=r.table.rowManager.getRowIndex(r))&&(s=r.table.rowManager.rows[s-1]),this.action("rowDelete",r,{data:r.getData(),pos:!s,index:s})}cellUpdated(r){this.action("cellEdit",r,{oldValue:r.oldValue,newValue:r.value})}clear(){this.history=[],this.index=-1}action(r,s,l){this.history=this.history.slice(0,this.index+1),this.history.push({type:r,component:s,data:l}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(r){var s=this.history.findIndex(function(l){return l.component===r});s>-1&&(this.history.splice(s,1),s<=this.index&&this.index--,this.clearComponentHistory(r))}undo(){if(this.index>-1){let r=this.history[this.index];return g.undoers[r.type].call(this,r),this.index--,this.dispatchExternal("historyUndo",r.type,r.component.getComponent(),r.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let r=this.history[this.index];return g.redoers[r.type].call(this,r),this.dispatchExternal("historyRedo",r.type,r.component.getComponent(),r.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(r,s){this.history.forEach(function(l){if(l.component instanceof Vs)l.component===r&&(l.component=s);else if(l.component instanceof fu&&l.component.row===r){var f=l.component.column.getField();f&&(l.component=s.getCell(f))}})}}return g.moduleName="history",g.undoers=yh,g.redoers=Af,g})(),Sm=(()=>{class g extends ur{constructor(r){super(r),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.parseTable()}parseTable(){var r=this.table.originalElement,s=this.table.options,f=r.getElementsByTagName("th"),y=r.getElementsByTagName("tbody")[0],T=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),y=y?y.getElementsByTagName("tr"):[],this._extractOptions(r,s),f.length?this._extractHeaders(f,y):this._generateBlankHeaders(f,y);for(var D=0;D<y.length;D++){var Y=y[D].getElementsByTagName("td"),ue={};this.hasIndex||(ue[s.index]=D);for(var Ie=0;Ie<Y.length;Ie++)void 0!==this.fieldIndex[Ie]&&(ue[this.fieldIndex[Ie]]=Y[Ie].innerHTML);T.push(ue)}s.data=T,this.dispatchExternal("htmlImported")}_extractOptions(r,s,l){var f=r.attributes,y=l?Object.assign([],l):Object.keys(s),T={};for(var D in y.forEach(ue=>{T[ue.toLowerCase()]=ue}),f){var Y,k=f[D];k&&"object"==typeof k&&k.name&&0===k.name.indexOf("tabulator-")&&(Y=k.name.replace("tabulator-",""),void 0!==T[Y]&&(s[T[Y]]=this._attribValue(k.value)))}}_attribValue(r){return"true"===r||"false"!==r&&r}_findCol(r){return this.table.options.columns.find(l=>l.title===r)||!1}_extractHeaders(r,s){for(var l=0;l<r.length;l++){var D,f=r[l],y=!1,T=this._findCol(f.textContent);T?y=!0:T={title:f.textContent.trim()},T.field||(T.field=f.textContent.trim().toLowerCase().replace(" ","_")),(D=f.getAttribute("width"))&&!T.width&&(T.width=D),this._extractOptions(f,T,Jd.prototype.defaultOptionList),this.fieldIndex[l]=T.field,T.field==this.table.options.index&&(this.hasIndex=!0),y||this.table.options.columns.push(T)}}_generateBlankHeaders(r,s){for(var l=0;l<r.length;l++){var f=r[l],y={title:"",field:"col"+l};this.fieldIndex[l]=y.field;var T=f.getAttribute("width");T&&(y.width=T),this.table.options.columns.push(y)}}}return g.moduleName="htmlTableImport",g})(),Up=(()=>{class g extends ur{constructor(r){super(r),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(r,s){if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==this){r.preventDefault();try{if(document.selection)(l=document.body.createTextRange()).moveToElementText(this.element),l.select();else if(window.getSelection){var l;(l=document.createRange()).selectNode(this.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(l)}}catch(f){}}}initializeExternalEvents(){for(let r in this.eventMap)this.subscriptionChangeExternal(r,this.subscriptionChanged.bind(this,r))}subscriptionChanged(r,s){s?this.subscribers[r]||(this.eventMap[r].includes("-")?(this.subscribers[r]=this.handle.bind(this,r),this.subscribe(this.eventMap[r],this.subscribers[r])):this.subscribeTouchEvents(r)):this.eventMap[r].includes("-")?this.subscribers[r]&&!this.columnSubscribers[r]&&!this.subscribedExternal(r)&&(this.unsubscribe(this.eventMap[r],this.subscribers[r]),delete this.subscribers[r]):this.unsubscribeTouchEvents(r)}subscribeTouchEvents(r){var s=this.eventMap[r];this.touchSubscribers[s+"-touchstart"]||(this.touchSubscribers[s+"-touchstart"]=this.handleTouch.bind(this,s,"start"),this.touchSubscribers[s+"-touchend"]=this.handleTouch.bind(this,s,"end"),this.subscribe(s+"-touchstart",this.touchSubscribers[s+"-touchstart"]),this.subscribe(s+"-touchend",this.touchSubscribers[s+"-touchend"])),this.subscribers[r]=!0}unsubscribeTouchEvents(r){var s=!0,l=this.eventMap[r];if(this.subscribers[r]&&!this.subscribedExternal(r)){delete this.subscribers[r];for(let f in this.eventMap)this.eventMap[f]===l&&this.subscribers[f]&&(s=!1);s&&(this.unsubscribe(l+"-touchstart",this.touchSubscribers[l+"-touchstart"]),this.unsubscribe(l+"-touchend",this.touchSubscribers[l+"-touchend"]),delete this.touchSubscribers[l+"-touchstart"],delete this.touchSubscribers[l+"-touchend"])}}initializeColumn(r){var s=r.definition;for(let l in this.eventMap)s[l]&&(this.subscriptionChanged(l,!0),this.columnSubscribers[l]||(this.columnSubscribers[l]=[]),this.columnSubscribers[l].push(r))}handle(r,s,l){this.dispatchEvent(r,s,l)}handleTouch(r,s,l,f){var y=this.touchWatchers[r];switch("column"===r&&(r="header"),s){case"start":y.tap=!0,clearTimeout(y.tapHold),y.tapHold=setTimeout(()=>{clearTimeout(y.tapHold),y.tapHold=null,y.tap=null,clearTimeout(y.tapDbl),y.tapDbl=null,this.dispatchEvent(r+"TapHold",l,f)},1e3);break;case"end":y.tap&&(y.tap=null,this.dispatchEvent(r+"Tap",l,f)),y.tapDbl?(clearTimeout(y.tapDbl),y.tapDbl=null,this.dispatchEvent(r+"DblTap",l,f)):y.tapDbl=setTimeout(()=>{clearTimeout(y.tapDbl),y.tapDbl=null},300),clearTimeout(y.tapHold),y.tapHold=null}}dispatchEvent(r,s,l){var y,f=l.getComponent();this.columnSubscribers[r]&&(l instanceof fu?y=l.column.definition[r]:l instanceof Jd&&(y=l.definition[r]),y&&y(s,f)),this.dispatchExternal(r,s,f)}}return g.moduleName="interaction",g})();var Gp={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},Of={keyBlock:function(g){g.stopPropagation(),g.preventDefault()},scrollPageUp:function(g){var a=this.table.rowManager,r=a.scrollTop-a.element.clientHeight;g.preventDefault(),a.displayRowsCount&&(r>=0?a.element.scrollTop=r:a.scrollToRow(a.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(g){var a=this.table.rowManager,r=a.scrollTop+a.element.clientHeight,s=a.element.scrollHeight;g.preventDefault(),a.displayRowsCount&&(r<=s?a.element.scrollTop=r:a.scrollToRow(a.getDisplayRows()[a.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(g){var a=this.table.rowManager;g.preventDefault(),a.displayRowsCount&&a.scrollToRow(a.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(g){var a=this.table.rowManager;g.preventDefault(),a.displayRowsCount&&a.scrollToRow(a.getDisplayRows()[a.displayRowsCount-1]),this.table.element.focus()},navPrev:function(g){this.dispatch("keybinding-nav-prev",g)},navNext:function(g){this.dispatch("keybinding-nav-next",g)},navLeft:function(g){this.dispatch("keybinding-nav-left",g)},navRight:function(g){this.dispatch("keybinding-nav-right",g)},navUp:function(g){this.dispatch("keybinding-nav-up",g)},navDown:function(g){this.dispatch("keybinding-nav-down",g)},undo:function(g){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(g.preventDefault(),this.table.modules.history.undo()))},redo:function(g){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(g.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(g){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};let jp=(()=>{class g extends ur{constructor(r){super(r),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",[]),this.registerTableOption("tabEndNewRow",!1)}initialize(){var r=this.table.options.keybindings,s={};if(this.watchKeys={},this.pressedKeys=[],!1!==r){for(let l in g.bindings)s[l]=g.bindings[l];if(Object.keys(r).length)for(let l in r)s[l]=r[l];this.mapBindings(s),this.bindEvents()}this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(r){for(let s in r)g.actions[s]?r[s]&&("object"!=typeof r[s]&&(r[s]=[r[s]]),r[s].forEach(l=>{this.mapBinding(s,l)})):console.warn("Key Binding Error - no such action:",s)}mapBinding(r,s){var l={action:g.actions[r],keys:[],ctrl:!1,shift:!1,meta:!1};s.toString().toLowerCase().split(" ").join("").split("+").forEach(y=>{switch(y){case"ctrl":l.ctrl=!0;break;case"shift":l.shift=!0;break;case"meta":l.meta=!0;break;default:y=parseInt(y),l.keys.push(y),this.watchKeys[y]||(this.watchKeys[y]=[]),this.watchKeys[y].push(l)}})}bindEvents(){var r=this;this.keyupBinding=function(s){var l=s.keyCode,f=r.watchKeys[l];f&&(r.pressedKeys.push(l),f.forEach(function(y){r.checkBinding(s,y)}))},this.keydownBinding=function(s){var l=s.keyCode;if(r.watchKeys[l]){var y=r.pressedKeys.indexOf(l);y>-1&&r.pressedKeys.splice(y,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(r,s){var l=!0;return r.ctrlKey==s.ctrl&&r.shiftKey==s.shift&&r.metaKey==s.meta&&(s.keys.forEach(f=>{-1==this.pressedKeys.indexOf(f)&&(l=!1)}),l&&s.action.call(this,r),!0)}}return g.moduleName="keybindings",g.bindings=Gp,g.actions=Of,g})(),kf=(()=>{class g extends ur{constructor(r){super(r),this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1,this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu")}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this))}layoutCell(r){(r.column.definition.contextMenu||r.column.definition.clickMenu)&&this.initializeCell(r)}initializeColumn(r){var s=r.definition;(s.headerContextMenu||s.headerClickMenu||s.headerMenu)&&this.initializeColumnHeader(r)}initializeColumnHeader(r){var s;r.definition.headerContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,r.definition.headerContextMenu)),this.tapHold(r,r.definition.headerContextMenu)),r.definition.headerMenu&&((s=document.createElement("span")).classList.add("tabulator-header-menu-button"),s.innerHTML="&vellip;",s.addEventListener("click",l=>{l.stopPropagation(),l.preventDefault(),this.LoadMenuEvent(r,r.definition.headerMenu,l)}),r.titleElement.insertBefore(s,r.titleElement.firstChild))}LoadMenuEvent(r,s,l){s="function"==typeof s?s.call(this.table,r.getComponent(),l):s,this.loadMenu(l,r,s)}tapHold(r,s){var l=r.getElement(),f=null,y=!1;l.addEventListener("touchstart",T=>{clearTimeout(f),y=!1,f=setTimeout(()=>{clearTimeout(f),f=null,y=!0,this.LoadMenuEvent(r,s,T)},1e3)},{passive:!0}),l.addEventListener("touchend",T=>{clearTimeout(f),f=null,y&&T.preventDefault()})}initializeCell(r){r.column.definition.contextMenu&&(r.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,r.column.definition.contextMenu)),this.tapHold(r,r.column.definition.contextMenu)),r.column.definition.clickMenu&&r.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,r,r.column.definition.clickMenu))}initializeRow(r){this.table.options.rowContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,this.table.options.rowContextMenu)),this.tapHold(r,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&r.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,r,this.table.options.rowClickMenu))}initializeGroup(r){this.table.options.groupContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,this.table.options.groupContextMenu)),this.tapHold(r,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&r.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,r,this.table.options.groupClickMenu))}loadMenu(r,s,l,f){var y=!(r instanceof MouseEvent),T=document.createElement("div");if(T.classList.add("tabulator-menu"),y||r.preventDefault(),l&&l.length){if(!f){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.hideMenu(),this.menuElements=[]}l.forEach(D=>{var k=document.createElement("div"),Y=D.label,ue=D.disabled;D.separator?k.classList.add("tabulator-menu-separator"):(k.classList.add("tabulator-menu-item"),"function"==typeof Y&&(Y=Y.call(this.table,s.getComponent())),Y instanceof Node?k.appendChild(Y):k.innerHTML=Y,"function"==typeof ue&&(ue=ue.call(this.table,s.getComponent())),ue?(k.classList.add("tabulator-menu-item-disabled"),k.addEventListener("click",Ie=>{Ie.stopPropagation()})):D.menu&&D.menu.length?k.addEventListener("click",Ie=>{Ie.stopPropagation(),this.hideOldSubMenus(T),this.loadMenu(Ie,s,D.menu,k)}):D.action&&k.addEventListener("click",Ie=>{D.action(Ie,s.getComponent())}),D.menu&&D.menu.length&&k.classList.add("tabulator-menu-item-submenu")),T.appendChild(k)}),T.addEventListener("click",D=>{this.hideMenu()}),this.menuElements.push(T),this.positionMenu(T,f,y,r)}}hideOldSubMenus(r){var s=this.menuElements.indexOf(r);if(s>-1)for(let f=this.menuElements.length-1;f>s;f--){var l=this.menuElements[f];l.parentNode&&l.parentNode.removeChild(l),this.menuElements.pop()}}positionMenu(r,s,l,f){var T,D,k,y=Math.max(document.body.offsetHeight,window.innerHeight);s?(T=(k=_o.elOffset(s)).left+s.offsetWidth,D=k.top-1):(T=l?f.touches[0].pageX:f.pageX,D=l?f.touches[0].pageY:f.pageY,this.positionReversedX=!1),r.style.top=D+"px",r.style.left=T+"px",setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent)},100),document.body.appendChild(r),D+r.offsetHeight>=y&&(r.style.top="",r.style.bottom=s?y-k.top-s.offsetHeight-1+"px":y-D+"px"),(T+r.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(r.style.left="",r.style.right=s?document.documentElement.offsetWidth-k.left+"px":document.documentElement.offsetWidth-T+"px",this.positionReversedX=!0)}isOpen(){return!!this.menuElements.length}escMenu(r){27==r.keyCode&&this.hideMenu()}hideMenu(){this.menuElements.forEach(r=>{r.parentNode&&r.parentNode.removeChild(r)}),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)}}return g.moduleName="menu",g})(),Pf=(()=>{class g extends ur{constructor(r){super(r),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var r=document.createElement("div");return r.classList.add("tabulator-col"),r.classList.add("tabulator-col-placeholder"),r}initialize(){this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(r){var f,s=this,l={};r.modules.frozen||(f=r.getElement(),l.mousemove=function(y){r.parent===s.moving.parent&&((s.touchMove?y.touches[0].pageX:y.pageX)-_o.elOffset(f).left+s.table.columnManager.element.scrollLeft>r.getWidth()/2?(s.toCol!==r||!s.toColAfter)&&(f.parentNode.insertBefore(s.placeholderElement,f.nextSibling),s.moveColumn(r,!0)):(s.toCol!==r||s.toColAfter)&&(f.parentNode.insertBefore(s.placeholderElement,f),s.moveColumn(r,!1)))}.bind(s),f.addEventListener("mousedown",function(y){s.touchMove=!1,1===y.which&&(s.checkTimeout=setTimeout(function(){s.startMove(y,r)},s.checkPeriod))}),f.addEventListener("mouseup",function(y){1===y.which&&s.checkTimeout&&clearTimeout(s.checkTimeout)}),s.bindTouchEvents(r)),r.modules.moveColumn=l}bindTouchEvents(r){var f,y,T,D,k,Y,s=r.getElement(),l=!1;s.addEventListener("touchstart",ue=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,f=r.nextColumn(),T=f?f.getWidth()/2:0,y=r.prevColumn(),D=y?y.getWidth()/2:0,k=0,Y=0,l=!1,this.startMove(ue,r)},this.checkPeriod)},{passive:!0}),s.addEventListener("touchmove",ue=>{var Ie,We;this.moving&&(this.moveHover(ue),l||(l=ue.touches[0].pageX),(Ie=ue.touches[0].pageX-l)>0?f&&Ie-k>T&&(We=f)!==r&&(l=ue.touches[0].pageX,We.getElement().parentNode.insertBefore(this.placeholderElement,We.getElement().nextSibling),this.moveColumn(We,!0)):y&&-Ie-Y>D&&(We=y)!==r&&(l=ue.touches[0].pageX,We.getElement().parentNode.insertBefore(this.placeholderElement,We.getElement()),this.moveColumn(We,!1)),We&&(f=We.nextColumn(),k=T,T=f?f.getWidth()/2:0,y=We.prevColumn(),Y=D,D=y?y.getWidth()/2:0))},{passive:!0}),s.addEventListener("touchend",ue=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(ue)})}startMove(r,s){var l=s.getElement(),f=this.table.columnManager.getElement(),y=this.table.columnManager.getHeadersElement();this.moving=s,this.startX=(this.touchMove?r.touches[0].pageX:r.pageX)-_o.elOffset(l).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=s.getWidth()+"px",this.placeholderElement.style.height=s.getHeight()+"px",l.parentNode.insertBefore(this.placeholderElement,l),l.parentNode.removeChild(l),this.hoverElement=l.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=f.clientHeight-y.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(r)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(r){r.modules.moveColumn.mousemove&&r.getElement().addEventListener("mousemove",r.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(r){r.modules.moveColumn.mousemove&&r.getElement().removeEventListener("mousemove",r.modules.moveColumn.mousemove)})}moveColumn(r,s){var l=this.moving.getCells();this.toCol=r,this.toColAfter=s,s?r.getCells().forEach(function(f,y){var T=f.getElement(!0);T.parentNode&&l[y]&&T.parentNode.insertBefore(l[y].getElement(),T.nextSibling)}):r.getCells().forEach(function(f,y){var T=f.getElement(!0);T.parentNode&&l[y]&&T.parentNode.insertBefore(l[y].getElement(),T)})}endMove(r){(1===r.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(r){var y,s=this.table.columnManager.getElement(),l=s.scrollLeft,f=(this.touchMove?r.touches[0].pageX:r.pageX)-_o.elOffset(s).left+l;this.hoverElement.style.left=f-this.startX+"px",f-l<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{y=Math.max(0,l-5),this.table.rowManager.getElement().scrollLeft=y,this.autoScrollTimeout=!1},1))),l+s.clientWidth-f<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{y=Math.min(s.clientWidth,l+5),this.table.rowManager.getElement().scrollLeft=y,this.autoScrollTimeout=!1},1)))}}return g.moduleName="moveColumn",g})();class Ea extends ur{constructor(a){super(a),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var a=document.createElement("div");return a.classList.add("tabulator-row"),a.classList.add("tabulator-row-placeholder"),a}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(a){var r=this,s={};s.mouseup=function(l){r.tableRowDrop(l,row)}.bind(r),s.mousemove=function(l){if(l.pageY-_o.elOffset(a.element).top+r.table.rowManager.element.scrollTop>a.getHeight()/2)r.toRow===a&&r.toRowAfter||((f=a.getElement()).parentNode.insertBefore(r.placeholderElement,f.nextSibling),r.moveRow(a,!0));else if(r.toRow!==a||r.toRowAfter){var f;(f=a.getElement()).previousSibling&&(f.parentNode.insertBefore(r.placeholderElement,f),r.moveRow(a,!1))}}.bind(r),a.modules.moveRow=s}initializeRow(a){var l,r=this,s={};s.mouseup=function(f){r.tableRowDrop(f,a)}.bind(r),s.mousemove=function(f){var y=a.getElement();f.pageY-_o.elOffset(y).top+r.table.rowManager.element.scrollTop>a.getHeight()/2?(r.toRow!==a||!r.toRowAfter)&&(y.parentNode.insertBefore(r.placeholderElement,y.nextSibling),r.moveRow(a,!0)):(r.toRow!==a||r.toRowAfter)&&(y.parentNode.insertBefore(r.placeholderElement,y),r.moveRow(a,!1))}.bind(r),this.hasHandle||((l=a.getElement()).addEventListener("mousedown",function(f){1===f.which&&(r.checkTimeout=setTimeout(function(){r.startMove(f,a)},r.checkPeriod))}),l.addEventListener("mouseup",function(f){1===f.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),this.bindTouchEvents(a,a.getElement())),a.modules.moveRow=s}initializeColumn(a){a.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(a){if(a.column.definition.rowHandle&&!1!==this.table.options.movableRows){var r=this,s=a.getElement(!0);s.addEventListener("mousedown",function(l){1===l.which&&(r.checkTimeout=setTimeout(function(){r.startMove(l,a.row)},r.checkPeriod))}),s.addEventListener("mouseup",function(l){1===l.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),this.bindTouchEvents(a.row,s)}}bindTouchEvents(a,r){var l,f,y,T,D,k,s=!1;r.addEventListener("touchstart",Y=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,l=a.nextRow(),y=l?l.getHeight()/2:0,f=a.prevRow(),T=f?f.getHeight()/2:0,D=0,k=0,s=!1,this.startMove(Y,a)},this.checkPeriod)},{passive:!0}),r.addEventListener("touchmove",Y=>{var ue,Ie;this.moving&&(Y.preventDefault(),this.moveHover(Y),s||(s=Y.touches[0].pageY),(ue=Y.touches[0].pageY-s)>0?l&&ue-D>y&&(Ie=l)!==a&&(s=Y.touches[0].pageY,Ie.getElement().parentNode.insertBefore(this.placeholderElement,Ie.getElement().nextSibling),this.moveRow(Ie,!0)):f&&-ue-k>T&&(Ie=f)!==a&&(s=Y.touches[0].pageY,Ie.getElement().parentNode.insertBefore(this.placeholderElement,Ie.getElement()),this.moveRow(Ie,!1)),Ie&&(l=Ie.nextRow(),D=y,y=l?l.getHeight()/2:0,f=Ie.prevRow(),k=T,T=f?f.getHeight()/2:0))}),r.addEventListener("touchend",Y=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(Y),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(a=>{("row"===a.type||"group"===a.type)&&a.modules.moveRow&&a.modules.moveRow.mousemove&&a.getElement().addEventListener("mousemove",a.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(a=>{("row"===a.type||"group"===a.type)&&a.modules.moveRow&&a.modules.moveRow.mousemove&&a.getElement().removeEventListener("mousemove",a.modules.moveRow.mousemove)})}startMove(a,r){var s=r.getElement();this.setStartPosition(a,r),this.moving=r,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=r.getWidth()+"px",this.placeholderElement.style.height=r.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(r)):(s.parentNode.insertBefore(this.placeholderElement,s),s.parentNode.removeChild(s)),this.hoverElement=s.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(a)}setStartPosition(a,r){var f,y,s=this.touchMove?a.touches[0].pageX:a.pageX,l=this.touchMove?a.touches[0].pageY:a.pageY;f=r.getElement(),this.connection?(y=f.getBoundingClientRect(),this.startX=y.left-s+window.pageXOffset,this.startY=y.top-l+window.pageYOffset):this.startY=l-f.getBoundingClientRect().top}endMove(a){(!a||1===a.which||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(a,r){this.toRow=a,this.toRowAfter=r}moveHover(a){this.connection?this.moveHoverConnections.call(this,a):this.moveHoverTable.call(this,a)}moveHoverTable(a){var r=this.table.rowManager.getElement(),s=r.scrollTop,l=(this.touchMove?a.touches[0].pageY:a.pageY)-r.getBoundingClientRect().top+s;this.hoverElement.style.top=l-this.startY+"px"}moveHoverConnections(a){this.hoverElement.style.left=this.startX+(this.touchMove?a.touches[0].pageX:a.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?a.touches[0].pageY:a.pageY)+"px"}elementRowDrop(a,r,s){this.dispatchExternal("movableRowsElementDrop",a,r,!!s&&s.getComponent())}connectToTables(a){var r;this.connectionSelectorsTables&&(r=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",r),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:a})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(s=>{"string"==typeof s?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(s))):this.connectionElements.push(s)}),this.connectionElements.forEach(s=>{var l=f=>{this.elementRowDrop(f,s,this.moving)};s.addEventListener("mouseup",l),s.tabulatorElementDropEvent=l,s.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var a;this.connectionSelectorsTables&&(a=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",a),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(r=>{r.classList.remove("tabulator-movingrow-receiving"),r.removeEventListener("mouseup",r.tabulatorElementDropEvent),delete r.tabulatorElementDropEvent})}connect(a,r){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=a,this.connectedRow=r,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(s=>{"row"===s.type&&s.modules.moveRow&&s.modules.moveRow.mouseup&&s.getElement().addEventListener("mouseup",s.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",r,a),!0)}disconnect(a){a===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(r=>{"row"===r.type&&r.modules.moveRow&&r.modules.moveRow.mouseup&&r.getElement().removeEventListener("mouseup",r.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",a)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(a,r,s){var l=!1;if(s){switch(typeof this.table.options.movableRowsSender){case"string":l=this.senders[this.table.options.movableRowsSender];break;case"function":l=this.table.options.movableRowsSender}l?l.call(this,this.moving.getComponent(),r?r.getComponent():void 0,a):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),r?r.getComponent():void 0,a)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),r?r.getComponent():void 0,a);this.endMove()}tableRowDrop(a,r){var s=!1,l=!1;switch(a.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":s=this.receivers[this.table.options.movableRowsReceiver];break;case"function":s=this.table.options.movableRowsReceiver}s?l=s.call(this,this.connectedRow.getComponent(),r?r.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),this.dispatchExternal(l?"movableRowsReceived":"movableRowsReceivedFailed",this.connectedRow.getComponent(),r?r.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:r,success:l})}commsReceived(a,r,s){switch(r){case"connect":return this.connect(a,s.row);case"disconnect":return this.disconnect(a);case"dropcomplete":return this.dropComplete(a,s.row,s.success)}}}Ea.prototype.receivers={insert:function(g,a,r){return this.table.addRow(g.getData(),void 0,a),!0},add:function(g,a,r){return this.table.addRow(g.getData()),!0},update:function(g,a,r){return!!a&&(a.update(g.getData()),!0)},replace:function(g,a,r){return!!a&&(this.table.addRow(g.getData(),void 0,a),a.delete(),!0)}},Ea.prototype.senders={delete:function(g,a,r){g.delete()}},Ea.moduleName="moveRow";var Lf={};let Nf=(()=>{class g extends ur{constructor(r){super(r),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(r,s,l){return this.transformRow(s,"data",l)}initializeColumn(r){var s=!1,l={};this.allowedTypes.forEach(f=>{var T,y="mutator"+(f.charAt(0).toUpperCase()+f.slice(1));r.definition[y]&&(T=this.lookupMutator(r.definition[y]))&&(s=!0,l[y]={mutator:T,params:r.definition[y+"Params"]||{}})}),s&&(r.modules.mutate=l)}lookupMutator(r){var s=!1;switch(typeof r){case"string":g.mutators[r]?s=g.mutators[r]:console.warn("Mutator Error - No such mutator found, ignoring: ",r);break;case"function":s=r}return s}transformRow(r,s,l){var y,f="mutator"+(s.charAt(0).toUpperCase()+s.slice(1));return this.enabled&&this.table.columnManager.traverse(T=>{var D,k,Y;T.modules.mutate&&(D=T.modules.mutate[f]||T.modules.mutate.mutator||!1)&&(y=T.getFieldValue(void 0!==l?l:r),("data"==s||void 0!==y)&&(Y=T.getComponent(),k="function"==typeof D.params?D.params(y,r,s,Y):D.params,T.setFieldValue(r,D.mutator(y,r,s,k,Y))))}),r}transformCell(r,s){if(r.column.modules.mutate){var l=r.column.modules.mutate.mutatorEdit||r.column.modules.mutate.mutator||!1,f={};if(l)return f=Object.assign(f,r.row.getData()),r.column.setFieldValue(f,s),l.mutator(s,f,"edit",l.params,r.getComponent())}return s}enable(){this.enabled=!0}disable(){this.enabled=!1}}return g.moduleName="mutator",g.mutators=Lf,g})(),Dm=(()=>{class g extends ur{constructor(r){super(r),this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(r,s){var y,l=this.table.rowManager,f=l.getDisplayRows();return s?f.length?y=f[0]:l.activeRows.length&&(y=l.activeRows[l.activeRows.length-1],s=!1):f.length&&(y=f[f.length-1],s=!(f.length<this.size)),{index:y,top:s}}calculatePageSizes(){var r,s;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((r=document.createElement("div")).classList.add("tabulator-row"),r.style.visibility="hidden",(s=document.createElement("div")).classList.add("tabulator-cell"),s.innerHTML="Page Row Test",r.appendChild(s),this.table.rowManager.getTableElement().appendChild(r),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/r.offsetHeight),this.table.rowManager.getTableElement().removeChild(r)),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(r,s,l,f){return this.initialLoad||(this.progressiveLoad&&!l||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),f.page=this.page,this.size&&(f.size=this.size),f}userSetPageToRow(r){return this.table.options.pagination&&(r=this.rowManager.findRow(r))?this.setPageToRow(r):Promise.reject()}userSetPageSize(r){return!!this.table.options.pagination&&(this.setPageSize(r),this.setPage(1))}scrollVertical(r,s){var l;!s&&!this.table.dataLoader.loading&&(l=this.table.rowManager.getElement()).scrollHeight-l.clientHeight-r<(this.table.options.progressiveLoadScrollMargin||2*l.clientHeight)&&this.nextPage()}restOnRenderBefore(r,s){return s||"local"===this.mode&&this.reset(),r}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var r;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(r=document.createElement("button")).classList.add("tabulator-page"),r.setAttribute("type","button"),r.setAttribute("role","button"),r.setAttribute("aria-label",""),r.setAttribute("title",""),this.firstBut=r.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=r.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=r.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=r.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var r=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=r=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&r.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){r=[];for(let s=1;s<5;s++)r.push(this.size*s);this.pageSizes=r}else r=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);r.forEach(s=>{var l=document.createElement("option");l.value=s,!0===s?this.langBind("pagination|all",function(f){l.innerHTML=f}):l.innerHTML=s,this.pageSizeSelect.appendChild(l)}),this.pageSizeSelect.value=this.size}}initializePaginator(r){var s;r||(this.langBind("pagination|first",l=>{this.firstBut.innerHTML=l}),this.langBind("pagination|first_title",l=>{this.firstBut.setAttribute("aria-label",l),this.firstBut.setAttribute("title",l)}),this.langBind("pagination|prev",l=>{this.prevBut.innerHTML=l}),this.langBind("pagination|prev_title",l=>{this.prevBut.setAttribute("aria-label",l),this.prevBut.setAttribute("title",l)}),this.langBind("pagination|next",l=>{this.nextBut.innerHTML=l}),this.langBind("pagination|next_title",l=>{this.nextBut.setAttribute("aria-label",l),this.nextBut.setAttribute("title",l)}),this.langBind("pagination|last",l=>{this.lastBut.innerHTML=l}),this.langBind("pagination|last_title",l=>{this.lastBut.setAttribute("aria-label",l),this.lastBut.setAttribute("title",l)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(s=document.createElement("label"),this.langBind("pagination|page_size",l=>{this.pageSizeSelect.setAttribute("aria-label",l),this.pageSizeSelect.setAttribute("title",l),s.innerHTML=l}),this.element.appendChild(s),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",l=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),!this.table.options.paginationElement&&!r&&this.table.footerManager.append(this.element,this),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(r){this.initializePaginator(!0),this.mode="progressive_"+r,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}setMaxRows(r){this.max=r?!0===this.size?1:Math.ceil(r/this.size):1,this.page>this.max&&(this.page=this.max)}reset(r){this.initialLoad||("local"==this.mode||r)&&(this.page=1)}setMaxPage(r){r=parseInt(r),this.max=r||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(r){switch(r){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(r=parseInt(r))>0&&r<=this.max||"local"!==this.mode?(this.page=r,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",r),Promise.reject())}setPageToRow(r){var l=this.table.rowManager.getDisplayRows(this.displayIndex-1).indexOf(r);if(l>-1){var f=!0===this.size?1:Math.ceil((l+1)/this.size);return this.setPage(f)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(r){!0!==r&&(r=parseInt(r)),r>0&&(this.size=r),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageButtons(){let r=Math.floor((this.count-1)/2),s=Math.ceil((this.count-1)/2),l=this.max-this.page+r+1<this.count?this.max-this.count+1:Math.max(this.page-r,1),f=this.page<=s?Math.min(this.count,this.max):Math.min(this.page+s,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let y=l;y<=f;y++)y>0&&y<=this.max&&this.pagesElement.appendChild(this._generatePageButton(y));this.footerRedraw()}_generatePageButton(r){var s=document.createElement("button");return s.classList.add("tabulator-page"),r==this.page&&s.classList.add("active"),s.setAttribute("type","button"),s.setAttribute("role","button"),this.langBind("pagination|page_title",l=>{s.setAttribute("aria-label",l+" "+r),s.setAttribute("title",l+" "+r)}),s.setAttribute("data-page",r),s.textContent=r,s.addEventListener("click",l=>{this.setPage(r)}),s}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(r){return this.size}getMode(){return this.mode}getRows(r){var s,l,f;if("local"==this.mode){s=[],this.setMaxRows(r.length),!0===this.size?(l=0,f=r.length):f=(l=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let y=l;y<f;y++)r[y]&&s.push(r[y]);return s}return this._setPageButtons(),r.slice(0)}trigger(){var r;switch(this.mode){case"local":return r=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(r),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(r){if(void 0===r.last_page&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),r.data){if(this.max=parseInt(r.last_page)||1,this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(r.data,!1,1==this.page):this.table.rowManager.addRows(r.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":r=this.table.rowManager.getData().concat(r.data),this.table.rowManager.setData(r,1!==this.page,1==this.page),this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+(this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&setTimeout(()=>{this.nextPage()})}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property");return r.data}footerRedraw(){var r=this.table.footerManager.element;Math.ceil(r.clientWidth)-r.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(r.clientWidth)-r.scrollWidth<0&&(this.pagesElement.style.display="none"))}}return g.moduleName="page",g})();var Mm={local:function(g,a){var r=localStorage.getItem(g+"-"+a);return!!r&&JSON.parse(r)},cookie:function(g,a){var f,y,r=document.cookie,s=g+"-"+a,l=r.indexOf(s+"=");return l>-1&&((f=(r=r.substr(l)).indexOf(";"))>-1&&(r=r.substr(0,f)),y=r.replace(s+"=","")),!!y&&JSON.parse(y)}},Wp={local:function(g,a,r){localStorage.setItem(g+"-"+a,JSON.stringify(r))},cookie:function(g,a,r){var s=new Date;s.setDate(s.getDate()+1e4),document.cookie=g+"-"+a+"="+JSON.stringify(r)+"; expires="+s.toUTCString()}};let xm=(()=>{class g extends ur{constructor(r){super(r),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var r="_tabulator_test";try{return window.localStorage.setItem(r,r),window.localStorage.removeItem(r),!0}catch(s){return!1}}initialize(){if(this.table.options.persistence){var l,r=this.table.options.persistenceMode,s=this.table.options.persistenceID;this.mode=!0!==r?r:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:g.readers[this.table.options.persistenceReaderFunc]?this.readFunc=g.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):g.readers[this.mode]?this.readFunc=g.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:g.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=g.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):g.writers[this.mode]?this.writeFunc=g.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(s||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(l=this.retreiveData("page"))&&(void 0!==l.paginationSize&&(!0===this.config.page||this.config.page.size)&&(this.table.options.paginationSize=l.paginationSize),void 0!==l.paginationInitialPage&&(!0===this.config.page||this.config.page.page)&&(this.table.options.paginationInitialPage=l.paginationInitialPage)),this.config.group&&(l=this.retreiveData("group"))&&(void 0!==l.groupBy&&(!0===this.config.group||this.config.group.groupBy)&&(this.table.options.groupBy=l.groupBy),void 0!==l.groupStartOpen&&(!0===this.config.group||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=l.groupStartOpen),void 0!==l.groupHeader&&(!0===this.config.group||this.config.group.groupHeader)&&(this.table.options.groupHeader=l.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns")),this.subscribe("table-built",this.tableBuilt.bind(this),0)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(r){this.config[r]&&this.save(r)}tableBuilt(){var s,l;this.config.sort&&(s=this.load("sort"))&&(this.table.initialSort=s),this.config.filter&&(l=this.load("filter"))&&(this.table.initialFilter=l)}tableRedraw(r){r&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(r){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,r)),!0}initializeColumn(r){var s;this.config.columns&&(this.defWatcherBlock=!0,s=r.getDefinition(),(!0===this.config.columns?Object.keys(s):this.config.columns).forEach(f=>{var y=Object.getOwnPropertyDescriptor(s,f),T=s[f];y&&Object.defineProperty(s,f,{set:function(D){T=D,this.defWatcherBlock||this.save("columns"),y.set&&y.set(D)},get:function(){return y.get&&y.get(),T}})}),this.defWatcherBlock=!1)}load(r,s){var l=this.retreiveData(r);return s&&(l=l?this.mergeDefinition(s,l):s),l}retreiveData(r){return!!this.readFunc&&this.readFunc(this.id,r)}mergeDefinition(r,s){var l=[];return(s=s||[]).forEach((f,y)=>{var D,T=this._findColumn(r,f);T&&(!0===this.config.columns||null==this.config.columns?(D=Object.keys(T)).push("width"):D=this.config.columns,D.forEach(k=>{"columns"!==k&&void 0!==f[k]&&(T[k]=f[k])}),T.columns&&(T.columns=this.mergeDefinition(T.columns,f.columns)),l.push(T))}),r.forEach((f,y)=>{this._findColumn(s,f)||(l.length>y?l.splice(y,0,f):l.push(f))}),l}_findColumn(r,s){var l=s.columns?"group":s.field?"field":"object";return r.find(function(f){switch(l){case"group":return f.title===s.title&&f.columns.length===s.columns.length;case"field":return f.field===s.field;case"object":return f===s}})}save(r){var s={};switch(r){case"columns":s=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":s=this.table.modules.filter.getFilters();break;case"sort":s=this.validateSorters(this.table.modules.sort.getSort());break;case"group":s=this.getGroupConfig();break;case"page":s=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,r,s)}validateSorters(r){return r.forEach(function(s){s.column=s.field,delete s.field}),r}getGroupConfig(){var r={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(r.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(r.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(r.groupHeader=this.table.options.groupHeader)),r}getPageConfig(){var r={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(r.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(r.paginationInitialPage=this.table.modules.page.getPage())),r}parseColumns(r){var s=[],l=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return r.forEach(f=>{var D,y={},T=f.getDefinition();f.isGroup?(y.title=T.title,y.columns=this.parseColumns(f.getColumns())):(y.field=f.getField(),!0===this.config.columns||null==this.config.columns?(D=Object.keys(T)).push("width"):D=this.config.columns,D.forEach(k=>{switch(k){case"width":y.width=f.getWidth();break;case"visible":y.visible=f.visible;break;default:"function"!=typeof T[k]&&-1===l.indexOf(k)&&(y[k]=T[k])}})),s.push(y)}),s}}return g.moduleName="persistence",g.readers=Mm,g.writers=Wp,g})(),Ff=(()=>{class g extends ur{constructor(r){super(r),this.element=!1,this.manualBlock=!1,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(r,s,l){var Y,ue,f=window.scrollX,y=window.scrollY,T=document.createElement("div"),D=document.createElement("div"),k=this.table.modules.export.genereateTable(void 0!==l?l:this.table.options.printConfig,void 0!==s?s:this.table.options.printStyled,r||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(T.classList.add("tabulator-print-header"),"string"==typeof(Y="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?T.innerHTML=Y:T.appendChild(Y),this.element.appendChild(T)),this.element.appendChild(k),this.table.options.printFooter&&(D.classList.add("tabulator-print-footer"),"string"==typeof(ue="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?D.innerHTML=ue:D.appendChild(ue),this.element.appendChild(D)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,k),window.print(),this.cleanup(),window.scrollTo(f,y),this.manualBlock=!1}}return g.moduleName="print",g})(),np=(()=>{class g extends ur{constructor(r){super(r),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this)),this.subscribe("cell-value-save-after",this.unblock.bind(this)),this.subscribe("row-data-save-before",this.block.bind(this)),this.subscribe("row-data-save-after",this.unblock.bind(this)),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(r){var l,s=this;this.currentVersion++,l=this.currentVersion,this.unwatchData(),this.data=r,this.origFuncs.push=r.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var f=Array.from(arguments);return!s.blocked&&l===s.currentVersion&&f.forEach(y=>{s.table.rowManager.addRowActual(y,!1)}),s.origFuncs.push.apply(r,arguments)}}),this.origFuncs.unshift=r.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var f=Array.from(arguments);return!s.blocked&&l===s.currentVersion&&f.forEach(y=>{s.table.rowManager.addRowActual(y,!0)}),s.origFuncs.unshift.apply(r,arguments)}}),this.origFuncs.shift=r.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var f;return!s.blocked&&l===s.currentVersion&&s.data.length&&(f=s.table.rowManager.getRowFromDataObject(s.data[0]))&&f.deleteActual(),s.origFuncs.shift.call(r)}}),this.origFuncs.pop=r.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var f;return!s.blocked&&l===s.currentVersion&&s.data.length&&(f=s.table.rowManager.getRowFromDataObject(s.data[s.data.length-1]))&&f.deleteActual(),s.origFuncs.pop.call(r)}}),this.origFuncs.splice=r.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var k,f=Array.from(arguments),y=f[0]<0?r.length+f[0]:f[0],T=f[1],D=!!f[2]&&f.slice(2);if(!s.blocked&&l===s.currentVersion){if(D&&((k=!!r[y]&&s.table.rowManager.getRowFromDataObject(r[y]))?D.forEach(ue=>{s.table.rowManager.addRowActual(ue,!0,k,!0)}):(D=D.slice().reverse()).forEach(ue=>{s.table.rowManager.addRowActual(ue,!0,!1,!0)})),0!==T){var Y=r.slice(y,void 0===f[1]?f[1]:y+T);Y.forEach((ue,Ie)=>{var We=s.table.rowManager.getRowFromDataObject(ue);We&&We.deleteActual(Ie!==Y.length-1)})}(D||0!==T)&&s.table.rowManager.reRenderInPosition()}return s.origFuncs.splice.apply(r,arguments)}})}unwatchData(){if(!1!==this.data)for(var r in this.origFuncs)Object.defineProperty(this.data,r,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(r){var s=r.getData();for(var l in this.blocked=!0,s)this.watchKey(r,s,l);this.table.options.dataTree&&this.watchTreeChildren(r),this.blocked=!1}watchTreeChildren(r){var s=r.getData()[this.table.options.dataTreeChildField],l={};function f(){this.table.modules.dataTree.initializeRow(r),this.table.modules.dataTree.layoutRow(r),this.table.rowManager.refreshActiveData("tree",!1,!0)}s&&(l.push=s.push,Object.defineProperty(s,"push",{enumerable:!1,configurable:!0,value:()=>{var y=l.push.apply(s,arguments);return f(),y}}),l.unshift=s.unshift,Object.defineProperty(s,"unshift",{enumerable:!1,configurable:!0,value:()=>{var y=l.unshift.apply(s,arguments);return f(),y}}),l.shift=s.shift,Object.defineProperty(s,"shift",{enumerable:!1,configurable:!0,value:()=>{var y=l.shift.call(s);return f(),y}}),l.pop=s.pop,Object.defineProperty(s,"pop",{enumerable:!1,configurable:!0,value:()=>{var y=l.pop.call(s);return f(),y}}),l.splice=s.splice,Object.defineProperty(s,"splice",{enumerable:!1,configurable:!0,value:()=>{var y=l.splice.apply(s,arguments);return f(),y}}))}watchKey(r,s,l){var f=Object.getOwnPropertyDescriptor(s,l),y=s[l],T=this.currentVersion;Object.defineProperty(s,l,{set:D=>{if(y=D,!this.blocked&&T===this.currentVersion){var k={};k[l]=D,r.updateData(k)}f.set&&f.set(D)},get:()=>(f.get&&f.get(),y)})}unwatchRow(r){var s=r.getData();for(var l in s)Object.defineProperty(s,l,{value:s[l]})}block(){this.blocked=!0}unblock(){this.blocked=!1}}return g.moduleName="reactiveData",g})(),zp=(()=>{class g extends ur{constructor(r){super(r),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null,this.registerColumnOption("resizable",!0)}initialize(){this.subscribe("cell-layout",this.layoutCellHandles.bind(this)),this.subscribe("column-init",this.layoutColumnHeader.bind(this))}layoutCellHandles(r){"row"===r.row.type&&this.initializeColumn("cell",r.column,r.element)}layoutColumnHeader(r){this.initializeColumn("header",r,r.element)}initializeColumn(r,s,l){var f=this,T=s.definition.resizable;if("header"===r&&(s.modules.resize={variableHeight:"textarea"==s.definition.formatter||s.definition.variableHeight}),!0===T||T==r){var D=document.createElement("div");D.className="tabulator-col-resize-handle";var k=document.createElement("div");k.className="tabulator-col-resize-handle prev",D.addEventListener("click",function(Ie){Ie.stopPropagation()});var Y=function(Ie){var We=s.getLastColumn();We&&f._checkResizability(We)&&(f.startColumn=s,f._mouseDown(Ie,We,D))};D.addEventListener("mousedown",Y),D.addEventListener("touchstart",Y,{passive:!0}),D.addEventListener("dblclick",function(Ie){var We=s.getLastColumn();We&&f._checkResizability(We)&&(Ie.stopPropagation(),We.reinitializeWidth(!0))}),k.addEventListener("click",function(Ie){Ie.stopPropagation()});var ue=function(Ie){var We,at,yt;(We=s.getFirstColumn())&&(yt=(at=f.table.columnManager.findColumnIndex(We))>0&&f.table.columnManager.getColumnByIndex(at-1))&&f._checkResizability(yt)&&(f.startColumn=s,f._mouseDown(Ie,yt,k))};k.addEventListener("mousedown",ue),k.addEventListener("touchstart",ue,{passive:!0}),k.addEventListener("dblclick",function(Ie){var We,at,yt;(We=s.getFirstColumn())&&(yt=(at=f.table.columnManager.findColumnIndex(We))>0&&f.table.columnManager.getColumnByIndex(at-1))&&f._checkResizability(yt)&&(Ie.stopPropagation(),yt.reinitializeWidth(!0))}),l.appendChild(D),l.appendChild(k)}}_checkResizability(r){return r.definition.resizable}_mouseDown(r,s,l){var f=this;function y(D){s.setWidth(f.table.rtl?f.startWidth-((void 0===D.screenX?D.touches[0].screenX:D.screenX)-f.startX):f.startWidth+((void 0===D.screenX?D.touches[0].screenX:D.screenX)-f.startX)),f.table.columnManager.renderer.rerenderColumns(!0),!f.table.browserSlow&&s.modules.resize&&s.modules.resize.variableHeight&&s.checkCellHeights()}function T(D){f.startColumn.modules.edit&&(f.startColumn.modules.edit.blocked=!1),f.table.browserSlow&&s.modules.resize&&s.modules.resize.variableHeight&&s.checkCellHeights(),document.body.removeEventListener("mouseup",T),document.body.removeEventListener("mousemove",y),l.removeEventListener("touchmove",y),l.removeEventListener("touchend",T),f.table.element.classList.remove("tabulator-block-select"),f.dispatch("column-resized",s),f.table.externalEvents.dispatch("columnResized",s.getComponent())}f.table.element.classList.add("tabulator-block-select"),r.stopPropagation(),f.startColumn.modules.edit&&(f.startColumn.modules.edit.blocked=!0),f.startX=void 0===r.screenX?r.touches[0].screenX:r.screenX,f.startWidth=s.getWidth(),document.body.addEventListener("mousemove",y),document.body.addEventListener("mouseup",T),l.addEventListener("touchmove",y,{passive:!0}),l.addEventListener("touchend",T)}}return g.moduleName="resizeColumns",g})(),Bf=(()=>{class g extends ur{constructor(r){super(r),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(r){var s=this,l=r.getElement(),f=document.createElement("div");f.className="tabulator-row-resize-handle";var y=document.createElement("div");y.className="tabulator-row-resize-handle prev",f.addEventListener("click",function(k){k.stopPropagation()});var T=function(k){s.startRow=r,s._mouseDown(k,r,f)};f.addEventListener("mousedown",T),f.addEventListener("touchstart",T,{passive:!0}),y.addEventListener("click",function(k){k.stopPropagation()});var D=function(k){var Y=s.table.rowManager.prevDisplayRow(r);Y&&(s.startRow=Y,s._mouseDown(k,Y,y))};y.addEventListener("mousedown",D),y.addEventListener("touchstart",D,{passive:!0}),l.appendChild(f),l.appendChild(y)}_mouseDown(r,s,l){var f=this;function y(D){s.setHeight(f.startHeight+((void 0===D.screenY?D.touches[0].screenY:D.screenY)-f.startY))}function T(D){document.body.removeEventListener("mouseup",y),document.body.removeEventListener("mousemove",y),l.removeEventListener("touchmove",y),l.removeEventListener("touchend",T),f.table.element.classList.remove("tabulator-block-select"),this.dispatchExternal("rowResized",s.getComponent())}f.table.element.classList.add("tabulator-block-select"),r.stopPropagation(),f.startY=void 0===r.screenY?r.touches[0].screenY:r.screenY,f.startHeight=s.getHeight(),document.body.addEventListener("mousemove",y),document.body.addEventListener("mouseup",T),l.addEventListener("touchmove",y,{passive:!0}),l.addEventListener("touchend",T)}}return g.moduleName="resizeRows",g})(),Hf=(()=>{class g extends ur{constructor(r){super(r),this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var s,r=this.table;this.tableHeight=r.element.clientHeight,this.tableWidth=r.element.clientWidth,r.element.parentNode&&(this.containerHeight=r.element.parentNode.clientHeight,this.containerWidth=r.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===r.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver(l=>{if(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell){var f=Math.floor(l[0].contentRect.height),y=Math.floor(l[0].contentRect.width);(this.tableHeight!=f||this.tableWidth!=y)&&(this.tableHeight=f,this.tableWidth=y,r.element.parentNode&&(this.containerHeight=r.element.parentNode.clientHeight,this.containerWidth=r.element.parentNode.clientWidth),this.table.columnManager.renderer.rerenderColumns(!0),r.redraw())}}),this.observer.observe(r.element),s=window.getComputedStyle(r.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(s.getPropertyValue("max-height")||s.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(l=>{if(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell){var f=Math.floor(l[0].contentRect.height),y=Math.floor(l[0].contentRect.width);(this.containerHeight!=f||this.containerWidth!=y)&&(this.containerHeight=f,this.containerWidth=y,this.tableHeight=r.element.clientHeight,this.tableWidth=r.element.clientWidth),r.columnManager.renderer.rerenderColumns(!0),r.redraw()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell)&&(r.columnManager.renderer.rerenderColumns(!0),r.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}return g.moduleName="resizeTable",g})(),Vf=(()=>{class g extends ur{constructor(r){super(r),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(r){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(r||this.update())}initializeResponsivity(){var r=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(function(s,l){s.modules.responsive&&s.modules.responsive.order&&s.modules.responsive.visible&&(s.modules.responsive.index=l,r.push(s),!s.visible&&"collapse"===self.mode&&self.hiddenColumns.push(s))}),r=(r=r.reverse()).sort(function(s,l){return l.modules.responsive.order-s.modules.responsive.order||l.modules.responsive.index-s.modules.responsive.index}),this.columns=r,"collapse"===this.mode&&this.generateCollapsedContent();for(let s of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==s.definition.formatter){this.collapseHandleColumn=s;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(r){var s=r.getDefinition();r.modules.responsive={order:void 0===s.responsive?1:s.responsive,visible:!1!==s.visible}}initializeRow(r){var s;"calc"!==r.type&&((s=document.createElement("div")).classList.add("tabulator-responsive-collapse"),r.modules.responsiveLayout={element:s,open:this.collapseStartOpen},this.collapseStartOpen||(s.style.display="none"))}layoutRow(r){var s=r.getElement();r.modules.responsiveLayout&&(s.appendChild(r.modules.responsiveLayout.element),this.generateCollapsedRowContent(r))}updateColumnVisibility(r,s){!s&&r.modules.responsive&&(r.modules.responsive.visible=r.visible,this.initialize())}hideColumn(r){var s=this.hiddenColumns.length;r.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(r),this.generateCollapsedContent(),this.collapseHandleColumn&&!s&&this.collapseHandleColumn.show())}showColumn(r){var s;r.show(!1,!0),r.setWidth(r.getWidth()),"collapse"===this.mode&&((s=this.hiddenColumns.indexOf(r))>-1&&this.hiddenColumns.splice(s,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var r=this,s=!0;s;){let l="fitColumns"==r.table.modules.layout.getMode()?r.table.columnManager.getFlexBaseWidth():r.table.columnManager.getWidth(),f=(r.table.options.headerVisible?r.table.columnManager.element.clientWidth:r.table.element.clientWidth)-l;if(f<0){let y=r.columns[r.index];y?(r.hideColumn(y),r.index++):s=!1}else{let y=r.columns[r.index-1];y&&f>0&&f>=y.getWidth()?(r.showColumn(y),r.index--):s=!1}r.table.rowManager.activeRowsCount||r.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var r=this;this.table.rowManager.getDisplayRows().forEach(function(l){r.generateCollapsedRowContent(l)})}generateCollapsedRowContent(r){var s,l;if(r.modules.responsiveLayout){for(s=r.modules.responsiveLayout.element;s.firstChild;)s.removeChild(s.firstChild);(l=this.collapseFormatter(this.generateCollapsedRowData(r)))&&s.appendChild(l)}}generateCollapsedRowData(r){var y,s=this,l=r.getData(),f=[];return this.hiddenColumns.forEach(function(T){var D=T.getFieldValue(l);T.definition.title&&T.field&&(T.modules.format&&s.table.options.responsiveLayoutCollapseUseFormatters?(y={value:!1,data:{},getValue:function(){return D},getData:function(){return l},getElement:function(){return document.createElement("div")},getRow:function(){return r.getComponent()},getColumn:function(){return T.getComponent()}},f.push({field:T.field,title:T.definition.title,value:T.modules.format.formatter.call(s.table.modules.format,y,T.modules.format.params,function(Y){Y()})})):f.push({field:T.field,title:T.definition.title,value:D}))}),f}formatCollapsedData(r){var s=document.createElement("table");return r.forEach(function(l){var D,f=document.createElement("tr"),y=document.createElement("td"),T=document.createElement("td"),k=document.createElement("strong");y.appendChild(k),this.langBind("columns|"+l.field,function(Y){k.innerText=Y||l.title}),l.value instanceof Node?((D=document.createElement("div")).appendChild(l.value),T.appendChild(D)):T.innerHTML=l.value,f.appendChild(y),f.appendChild(T),s.appendChild(f)},this),Object.keys(r).length?s:""}}return g.moduleName="responsiveLayout",g})(),rp=(()=>{class g extends ur{constructor(r){super(r),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(s,l){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&this.table.options.selectablePersistence&&this.subscribe("data-refeshing",this.deselectRows.bind(this)))}rowRetrieve(r,s){return"selected"===r?this.selectedRows:s}rowDeleted(r){this._deselectRow(r,!0)}clearSelectionData(r){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],!0!==r&&this._rowSelectionChanged()}initializeRow(r){var s=this,l=r.getElement(),f=function(){setTimeout(function(){s.selecting=!1},50),document.body.removeEventListener("mouseup",f)};r.modules.select={selected:!1},s.table.options.selectableCheck.call(this.table,r.getComponent())?(l.classList.add("tabulator-selectable"),l.classList.remove("tabulator-unselectable"),s.table.options.selectable&&"highlight"!=s.table.options.selectable&&("click"===s.table.options.selectableRangeMode?l.addEventListener("click",function(y){if(y.shiftKey){s.table._clearSelection(),s.lastClickedRow=s.lastClickedRow||r;var T=s.table.rowManager.getDisplayRowIndex(s.lastClickedRow),D=s.table.rowManager.getDisplayRowIndex(r),k=T<=D?T:D,Y=T>=D?T:D,Ie=s.table.rowManager.getDisplayRows().slice(0).splice(k,Y-k+1);y.ctrlKey||y.metaKey?(Ie.forEach(function(We){We!==s.lastClickedRow&&(!0===s.table.options.selectable||s.isRowSelected(r)||s.selectedRows.length<s.table.options.selectable)&&s.toggleRow(We)}),s.lastClickedRow=r):(s.deselectRows(void 0,!0),!0!==s.table.options.selectable&&Ie.length>s.table.options.selectable&&(Ie=Ie.slice(0,s.table.options.selectable)),s.selectRows(Ie)),s.table._clearSelection()}else y.ctrlKey||y.metaKey?(s.toggleRow(r),s.lastClickedRow=r):(s.deselectRows(void 0,!0),s.selectRows(r),s.lastClickedRow=r)}):(l.addEventListener("click",function(y){(!s.table.modExists("edit")||!s.table.modules.edit.getCurrentCell())&&s.table._clearSelection(),s.selecting||s.toggleRow(r)}),l.addEventListener("mousedown",function(y){if(y.shiftKey)return s.table._clearSelection(),s.selecting=!0,s.selectPrev=[],document.body.addEventListener("mouseup",f),document.body.addEventListener("keyup",f),s.toggleRow(r),!1}),l.addEventListener("mouseenter",function(y){s.selecting&&(s.table._clearSelection(),s.toggleRow(r),s.selectPrev[1]==r&&s.toggleRow(s.selectPrev[0]))}),l.addEventListener("mouseout",function(y){s.selecting&&(s.table._clearSelection(),s.selectPrev.unshift(r))})))):(l.classList.add("tabulator-unselectable"),l.classList.remove("tabulator-selectable"))}toggleRow(r){this.table.options.selectableCheck.call(this.table,r.getComponent())&&(r.modules.select&&r.modules.select.selected?this._deselectRow(r):this._selectRow(r))}selectRows(r){var s;switch(typeof r){case"undefined":this.table.rowManager.rows.forEach(l=>{this._selectRow(l,!0,!0)}),this._rowSelectionChanged();break;case"string":(s=this.table.rowManager.findRow(r))?this._selectRow(s,!0,!0):this.table.rowManager.getRows(r).forEach(l=>{this._selectRow(l,!0,!0)}),this._rowSelectionChanged();break;default:Array.isArray(r)?(r.forEach(l=>{this._selectRow(l,!0,!0)}),this._rowSelectionChanged()):this._selectRow(r,!1,!0)}}_selectRow(r,s,l){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!l&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var f=this.table.rowManager.findRow(r);f?-1==this.selectedRows.indexOf(f)&&(f.getElement().classList.add("tabulator-selected"),f.modules.select||(f.modules.select={}),f.modules.select.selected=!0,f.modules.select.checkboxEl&&(f.modules.select.checkboxEl.checked=!0),this.selectedRows.push(f),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(f,!0),s||this.dispatchExternal("rowSelected",f.getComponent()),this._rowSelectionChanged(s)):s||console.warn("Selection Error - No such row found, ignoring selection:"+r)}isRowSelected(r){return-1!==this.selectedRows.indexOf(r)}deselectRows(r,s){var f,l=this;if(void 0===r){f=l.selectedRows.length;for(let y=0;y<f;y++)l._deselectRow(l.selectedRows[0],!0);l._rowSelectionChanged(s)}else Array.isArray(r)?(r.forEach(function(y){l._deselectRow(y,!0)}),l._rowSelectionChanged(s)):l._deselectRow(r,s)}_deselectRow(r,s){var y,l=this,f=l.table.rowManager.findRow(r);f?(y=l.selectedRows.findIndex(function(T){return T==f}))>-1&&(f.getElement().classList.remove("tabulator-selected"),f.modules.select||(f.modules.select={}),f.modules.select.selected=!1,f.modules.select.checkboxEl&&(f.modules.select.checkboxEl.checked=!1),l.selectedRows.splice(y,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(f,!1),s||this.dispatchExternal("rowDeselected",f.getComponent()),l._rowSelectionChanged(s)):s||console.warn("Deselection Error - No such row found, ignoring selection:"+r)}getSelectedData(){var r=[];return this.selectedRows.forEach(function(s){r.push(s.getData())}),r}getSelectedRows(){var r=[];return this.selectedRows.forEach(function(s){r.push(s.getComponent())}),r}_rowSelectionChanged(r){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),r||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(r,s){r._row.modules.select||(r._row.modules.select={}),r._row.modules.select.checkboxEl=s}registerHeaderSelectCheckbox(r){this.headerCheckboxElement=r}childRowSelection(r,s){var l=this.table.modules.dataTree.getChildren(r,!0);if(s)for(let f of l)this._selectRow(f,!0);else for(let f of l)this._deselectRow(f,!0)}}return g.moduleName="selectRow",g})();function op(g,a,r,s,l,f,y){var T=window.DateTime||luxon.DateTime,D=y.format||"dd/MM/yyyy HH:mm:ss",k=y.alignEmptyValues,Y=0;if(void 0!==T){if(g=T.fromFormat(g,D),a=T.fromFormat(a,D),g.isValid){if(a.isValid)return g-a;Y=1}else Y=a.isValid?-1:0;return("top"===k&&"desc"===f||"bottom"===k&&"asc"===f)&&(Y*=-1),Y}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var Wf={number:function(g,a,r,s,l,f,y){var T=y.alignEmptyValues,D=y.decimalSeparator,k=y.thousandSeparator,Y=0;if(g=String(g),a=String(a),k&&(g=g.split(k).join(""),a=a.split(k).join("")),D&&(g=g.split(D).join("."),a=a.split(D).join(".")),g=parseFloat(g),a=parseFloat(a),isNaN(g))Y=isNaN(a)?0:-1;else{if(!isNaN(a))return g-a;Y=1}return("top"===T&&"desc"===f||"bottom"===T&&"asc"===f)&&(Y*=-1),Y},string:function(g,a,r,s,l,f,y){var k,T=y.alignEmptyValues,D=0;if(g){if(a){switch(typeof y.locale){case"boolean":y.locale&&(k=this.langLocale());break;case"string":k=y.locale}return String(g).toLowerCase().localeCompare(String(a).toLowerCase(),k)}D=1}else D=a?-1:0;return("top"===T&&"desc"===f||"bottom"===T&&"asc"===f)&&(D*=-1),D},date:function(g,a,r,s,l,f,y){return y.format||(y.format="dd/MM/yyyy"),op.call(this,g,a,r,s,l,f,y)},time:function(g,a,r,s,l,f,y){return y.format||(y.format="HH:mm"),op.call(this,g,a,r,s,l,f,y)},datetime:op,boolean:function(g,a,r,s,l,f,y){return(!0===g||"true"===g||"True"===g||1===g?1:0)-(!0===a||"true"===a||"True"===a||1===a?1:0)},array:function(g,a,r,s,l,f,y){var k=y.type||"length",Y=y.alignEmptyValues,ue=0;function Ie(We){switch(k){case"length":return We.length;case"sum":return We.reduce(function(at,yt){return at+yt});case"max":return Math.max.apply(null,We);case"min":return Math.min.apply(null,We);case"avg":return We.reduce(function(at,yt){return at+yt})/We.length}}if(Array.isArray(g)){if(Array.isArray(a))return(g?Ie(g):0)-(a?Ie(a):0);Y=1}else Y=Array.isArray(a)?-1:0;return("top"===Y&&"desc"===f||"bottom"===Y&&"asc"===f)&&(ue*=-1),ue},exists:function(g,a,r,s,l,f,y){return(void 0===g?0:1)-(void 0===a?0:1)},alphanum:function(g,a,r,s,l,f,y){var T,D,k,Y,Ie,ue=0,We=/(\d+)|(\D+)/g,at=/\d/,yt=y.alignEmptyValues,Dt=0;if(g||0===g){if(a||0===a){if(isFinite(g)&&isFinite(a))return g-a;if((T=String(g).toLowerCase())===(D=String(a).toLowerCase()))return 0;if(!at.test(T)||!at.test(D))return T>D?1:-1;for(T=T.match(We),D=D.match(We),Ie=T.length>D.length?D.length:T.length;ue<Ie;)if((k=T[ue])!==(Y=D[ue++]))return isFinite(k)&&isFinite(Y)?("0"===k.charAt(0)&&(k="."+k),"0"===Y.charAt(0)&&(Y="."+Y),k-Y):k>Y?1:-1;return T.length>D.length}Dt=1}else Dt=a||0===a?-1:0;return("top"===yt&&"desc"===f||"bottom"===yt&&"asc"===f)&&(Dt*=-1),Dt}},Rm={integer:function(g,a,r){return""===a||null==a||"number"==typeof(a=Number(a))&&isFinite(a)&&Math.floor(a)===a},float:function(g,a,r){return""===a||null==a||"number"==typeof(a=Number(a))&&isFinite(a)&&a%1!=0},numeric:function(g,a,r){return""===a||null==a||!isNaN(a)},string:function(g,a,r){return""===a||null==a||isNaN(a)},max:function(g,a,r){return""===a||null==a||parseFloat(a)<=r},min:function(g,a,r){return""===a||null==a||parseFloat(a)>=r},starts:function(g,a,r){return""===a||null==a||String(a).toLowerCase().startsWith(String(r).toLowerCase())},ends:function(g,a,r){return""===a||null==a||String(a).toLowerCase().endsWith(String(r).toLowerCase())},minLength:function(g,a,r){return""===a||null==a||String(a).length>=r},maxLength:function(g,a,r){return""===a||null==a||String(a).length<=r},in:function(g,a,r){return""===a||null==a||("string"==typeof r&&(r=r.split("|")),""===a||r.indexOf(a)>-1)},regex:function(g,a,r){return""===a||null==a||new RegExp(r).test(a)},unique:function(g,a,r){if(""===a||null==a)return!0;var s=!0,l=g.getData(),f=g.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(y){var T=y.getData();T!==l&&a==f.getFieldValue(T)&&(s=!1)}),s},required:function(g,a,r){return""!==a&&null!=a}},Xf=Object.freeze({__proto__:null,AccessorModule:bd,AjaxModule:$h,ClipboardModule:Sl,ColumnCalcsModule:Qd,DataTreeModule:qd,DownloadModule:Pp,EditModule:Re,ExportModule:Pi,FilterModule:Ui,FormatModule:Np,FrozenColumnsModule:Fp,FrozenRowsModule:Bp,GroupRowsModule:Hp,HistoryModule:Vp,HtmlTableImportModule:Sm,InteractionModule:Up,KeybindingsModule:jp,MenuModule:kf,MoveColumnsModule:Pf,MoveRowsModule:Ea,MutatorModule:Nf,PageModule:Dm,PersistenceModule:xm,PrintModule:Ff,ReactiveDataModule:np,ResizeColumnsModule:zp,ResizeRowsModule:Bf,ResizeTableModule:Hf,ResponsiveLayoutModule:Vf,SelectRowModule:rp,SortModule:(()=>{class g extends ur{constructor(r){super(r),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(r,s,l,f){var y=this.getSort();return y.forEach(T=>{delete T.column}),f.sort=y,f}userSetSort(r,s){this.setSort(r,s),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(r){var l,f,s=!1;switch(typeof r.definition.sorter){case"string":g.sorters[r.definition.sorter]?s=g.sorters[r.definition.sorter]:console.warn("Sort Error - No such sorter found: ",r.definition.sorter);break;case"function":s=r.definition.sorter}r.modules.sort={sorter:s,dir:"none",params:r.definition.sorterParams||{},startingDir:r.definition.headerSortStartingDir||"asc",tristate:r.definition.headerSortTristate},!1!==r.definition.headerSort&&((l=r.getElement()).classList.add("tabulator-sortable"),(f=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==typeof this.table.options.headerSortElement?f.appendChild(this.table.options.headerSortElement):f.innerHTML=this.table.options.headerSortElement,r.titleHolderElement.appendChild(f),r.modules.sort.element=f,l.addEventListener("click",y=>{var T="",D=[],k=!1;if(r.modules.sort){if(r.modules.sort.tristate)T="none"==r.modules.sort.dir?r.modules.sort.startingDir:r.modules.sort.dir==r.modules.sort.startingDir?"asc"==r.modules.sort.dir?"desc":"asc":"none";else switch(r.modules.sort.dir){case"asc":T="desc";break;case"desc":T="asc";break;default:T=r.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(y.shiftKey||y.ctrlKey)?((k=(D=this.getSort()).findIndex(Y=>Y.field===r.getField()))>-1?(D[k].dir=T,k!=D.length-1&&(k=D.splice(k,1)[0],"none"!=T&&D.push(k))):"none"!=T&&D.push({column:r,dir:T}),this.setSort(D)):"none"==T?this.clear():this.setSort(r,T),this.refreshSort()}}))}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData():this.refreshData()}hasChanged(){var r=this.changed;return this.changed=!1,r}getSort(){var s=[];return this.sortList.forEach(function(l){l.column&&s.push({column:l.column.getComponent(),field:l.column.getField(),dir:l.dir})}),s}setSort(r,s){var l=this,f=[];Array.isArray(r)||(r=[{column:r,dir:s}]),r.forEach(function(y){var T;(T=l.table.columnManager.findColumn(y.column))?(y.column=T,f.push(y),l.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",y.column)}),l.sortList=f,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(r){var y,s=this.table.rowManager.activeRows[0],l="string";if(s&&(s=s.getData(),r.getField()))switch(y=r.getFieldValue(s),typeof y){case"undefined":l="string";break;case"boolean":l="boolean";break;default:isNaN(y)||""===y?y.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(l="alphanum"):l="number"}return g.sorters[l]}sort(r){var s=this,l=this.table.options.sortOrderReverse?s.sortList.slice().reverse():s.sortList,f=[],y=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",s.getSort()),s.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(l.forEach(function(T,D){var k=T.column.modules.sort;T.column&&k&&(k.sorter||(k.sorter=s.findSorter(T.column)),T.params="function"==typeof k.params?k.params(T.column.getComponent(),T.dir):k.params,f.push(T)),s.setColumnHeader(T.column,T.dir)}),f.length&&s._sortItems(r,f)):l.forEach(function(T,D){s.setColumnHeader(T.column,T.dir)}),this.subscribedExternal("dataSorted")&&(r.forEach(T=>{y.push(T.getComponent())}),this.dispatchExternal("dataSorted",s.getSort(),y)),r}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(function(r){r.modules.sort&&(r.modules.sort.dir="none",r.getElement().setAttribute("aria-sort","none"))})}setColumnHeader(r,s){r.modules.sort.dir=s,r.getElement().setAttribute("aria-sort",s)}_sortItems(r,s){var l=s.length-1;r.sort((f,y)=>{for(var T,D=l;D>=0;D--){let k=s[D];if(0!==(T=this._sortRow(f,y,k.column,k.dir,k.params)))break}return T})}_sortRow(r,s,l,f,y){var T,D,k="asc"==f?r:s,Y="asc"==f?s:r;return r=void 0!==(r=l.getFieldValue(k.getData()))?r:"",s=void 0!==(s=l.getFieldValue(Y.getData()))?s:"",T=k.getComponent(),D=Y.getComponent(),l.modules.sort.sorter.call(this,r,s,T,D,l.getComponent(),f,y)}}return g.moduleName="sort",g.sorters=Wf,g})(),ValidateModule:(()=>{class g extends ur{constructor(r){super(r),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this))}cellIsValid(r){return!r.modules.validate||!r.modules.validate.invalid}cellValidate(r){return this.validate(r.column.modules.validate,r,r.getValue())}columnValidate(r){var s=[];return r.cells.forEach(function(l){this.cellValidate(l)||s.push(l.getComponent())}),!s.length||s}rowValidate(r){var s=[];return r.cells.forEach(function(l){this.cellValidate(l)||s.push(l.getComponent())}),!s.length||s}userClearCellValidation(r){r||(r=this.getInvalidCells()),Array.isArray(r)||(r=[r]),r.forEach(s=>{this.clearValidation(s._getSelf())})}userValidate(r){var s=[];return this.table.rowManager.rows.forEach(function(l){var f=l.validate();!0!==f&&(s=s.concat(f))}),!s.length||s}initializeColumnCheck(r){void 0!==r.definition.validator&&this.initializeColumn(r)}initializeColumn(r){var f,s=this,l=[];r.definition.validator&&(Array.isArray(r.definition.validator)?r.definition.validator.forEach(function(y){(f=s._extractValidator(y))&&l.push(f)}):(f=this._extractValidator(r.definition.validator))&&l.push(f),r.modules.validate=!!l.length&&l)}_extractValidator(r){var s,l,f;switch(typeof r){case"string":return(f=r.indexOf(":"))>-1?(s=r.substring(0,f),l=r.substring(f+1)):s=r,this._buildValidator(s,l);case"function":return this._buildValidator(r);case"object":return this._buildValidator(r.type,r.parameters)}}_buildValidator(r,s){var l="function"==typeof r?r:g.validators[r];return l?{type:"function"==typeof r?"function":r,func:l,params:s}:(console.warn("Validator Setup Error - No matching validator found:",r),!1)}validate(r,s,l){var f=this,y=[],T=this.invalidCells.indexOf(s);return r&&r.forEach(function(D){D.func.call(f,s.getComponent(),l,D.params)||y.push({type:D.type,parameters:D.params})}),y=!y.length||y,s.modules.validate||(s.modules.validate={}),!0===y?(s.modules.validate.invalid=!1,s.getElement().classList.remove("tabulator-validation-fail"),T>-1&&this.invalidCells.splice(T,1)):(s.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&s.getElement().classList.add("tabulator-validation-fail"),-1==T&&this.invalidCells.push(s)),y}getInvalidCells(){var r=[];return this.invalidCells.forEach(s=>{r.push(s.getComponent())}),r}clearValidation(r){var s;r.modules.validate&&r.modules.validate.invalid&&(r.getElement().classList.remove("tabulator-validation-fail"),r.modules.validate.invalid=!1,(s=this.invalidCells.indexOf(r))>-1&&this.invalidCells.splice(s,1))}}return g.moduleName="validate",g.validators=Rm,g})()}),Kf={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,height:!1,minHeight:!1,maxHeight:!1,columnMaxWidth:!1,columnHeaderVertAlign:"top",columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",tooltipGenerationMode:"load",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataSendParams:{},dataReceiveParams:{}};class $p{constructor(a,r){this.table=a,this.msgType=r,this.registeredDefaults={}}register(a,r){this.registeredDefaults[a]=r}generate(a,r={}){var s=Object.assign({},this.registeredDefaults);if(Object.assign(s,a),!1!==r.debugInvalidOptions||this.table.options.debugInvalidOptions)for(var l in r)s.hasOwnProperty(l)||console.warn("Invalid "+this.msgType+" option:",l);for(var l in s)l in r?s[l]=r[l]:Array.isArray(s[l])?s[l]=Object.assign([],s[l]):"object"==typeof s[l]&&null!==s[l]?s[l]=Object.assign({},s[l]):void 0===s[l]&&delete s[l];return s}}class Sd extends Tl{constructor(a){super(a),this.elementVertical=a.rowManager.element,this.elementHorizontal=a.columnManager.element,this.tableElement=a.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(a){}renderRows(){}renderColumns(){}rerenderRows(a){a&&a()}rerenderColumns(a,r){}renderRowCells(a){}rerenderRowCells(a,r){}scrollColumns(a,r){}scrollRows(a,r){}resize(){}scrollToRow(a){}scrollToRowNearestTop(a){}visibleRows(a){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(a,r){var s=a.getElement();r%2?(s.classList.add("tabulator-row-even"),s.classList.remove("tabulator-row-odd")):(s.classList.add("tabulator-row-odd"),s.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(a){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(a,r,s){var l=this.rows().indexOf(a),f=a.getElement(),y=0;return new Promise((T,D)=>{if(l>-1){if(void 0===s&&(s=this.table.options.scrollToRowIfVisible),!s&&_o.elVisible(f)&&(y=_o.elOffset(f).top-_o.elOffset(this.elementVertical).top)>0&&y<this.elementVertical.clientHeight-f.offsetHeight)return!1;switch(void 0===r&&(r=this.table.options.scrollToRowPosition),"nearest"===r&&(r=this.scrollToRowNearestTop(a)?"top":"bottom"),this.scrollToRow(a),r){case"middle":case"center":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop+(f.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-f.offsetTop)/2:this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-f.offsetTop)+f.offsetHeight:this.elementVertical.scrollTop-this.elementVertical.clientHeight+f.offsetHeight}T()}else console.warn("Scroll Error - Row not visible"),D("Scroll Error - Row not visible")})}}class $f extends Sd{constructor(a){super(a)}renderRowCells(a){a.cells.forEach(r=>{a.element.appendChild(r.getElement()),r.cellRendered()})}reinitializeColumnWidths(a){a.forEach(function(r){r.reinitializeWidth()})}}class Jf extends Sd{constructor(a){super(a),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[]}initialize(){this.compatabilityCheck()}compatabilityCheck(){var a=this.options("columns"),s=!0;return"fitDataTable"==this.options("layout")&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),s=!1),this.options("responsiveLayout")&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),s=!1),this.options("rtl")&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),s=!1),a&&a.find(l=>l.frozen)&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),s=!1),s}renderColumns(a,r){this.dataChange()}scrollColumns(a,r){this.scrollLeft!=a&&(this.scrollLeft=a,this.scroll(a-(this.vDomScrollPosLeft+this.window)))}rerenderColumns(a,r){var s={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!a||this.initialized){this.clear(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window;var l=0;this.table.columnManager.columnsByIndex.forEach(f=>{var y={};if(f.visible){var T=f.getWidth();y.leftPos=l,y.rightPos=l+T,y.width=T,"fitData"===this.options("layout")&&(y.fitDataCheck=!0),l+T>this.vDomScrollPosLeft&&l<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=l),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=T),this.columns.push(f),f.modules.vdomHoz=y,l+=T}}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,r||(!a||this.reinitChanged(s))&&this.renitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft}}renderRowCells(a){this.initialized?this.initializeRow(a):a.cells.forEach(r=>{a.element.appendChild(r.getElement()),r.cellRendered()})}rerenderRowCells(a,r){this.reinitializeRow(a,r)}reinitializeColumnWidths(a){for(let r=this.leftCol;r<=this.rightCol;r++)this.columns[r].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var f,l,a=!1,r=0,s=0;if("fitData"===this.options("layout")){if(this.table.columnManager.columnsByIndex.forEach(y=>{!y.definition.width&&y.visible&&(a=!0)}),a&&a&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window,l=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows()[0])[0])){for(f=l.getElement(),l.generateCells(),this.tableElement.appendChild(f),s=0;s<l.cells.length;s++){let D=l.cells[s];if(f.appendChild(D.getElement()),D.column.reinitializeWidth(),(r+=D.column.getWidth())>this.vDomScrollPosRight)break}for(f.parentNode.removeChild(f),this.fitDataColAvg=Math.floor(r/(s+1));s<this.table.columnManager.columnsByIndex.length;s++)this.table.columnManager.columnsByIndex[s].setWidth(this.fitDataColAvg);this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(a){var r=!0;return a.cols.length!==this.columns.length||a.leftCol!==this.leftCol||a.rightCol!==this.rightCol||(a.cols.forEach((s,l)=>{s!==this.columns[l]&&(r=!1)}),!r)}renitializeRows(){this.table.rowManager.getVisibleRows().forEach(r=>{this.reinitializeRow(r,!0)})}scroll(a){this.vDomScrollPosLeft+=a,this.vDomScrollPosRight+=a,a>.8*this.elementVertical.clientWidth?this.rerenderColumns():a>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(a,r,s){for(let l=a;l<r;l++){let f=this.columns[l];f.modules.vdomHoz.leftPos+=s,f.modules.vdomHoz.rightPos+=s}}addColRight(){var a=this.columns[this.rightCol+1];a&&a.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach(s=>{if("group"!==s.type){var l=s.getCell(a);s.getElement().appendChild(l.getElement()),l.cellRendered()}}),this.fitDataColActualWidthCheck(a),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=a.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.addColRight())}addColLeft(){var a=this.columns[this.leftCol-1];a&&a.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(l=>{if("group"!==l.type){var f=l.getCell(a);l.getElement().prepend(f.getElement()),f.cellRendered()}}),this.fitDataColActualWidthCheck(a),this.leftCol?this.vDomPadLeft-=a.getWidth():this.vDomPadLeft=0,this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())}removeColRight(a){var r;(a=this.columns[this.rightCol])&&a.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(r=this.table.rowManager.getVisibleRows(),a.modules.vdomHoz.visible=!1,r.forEach(s=>{if("group"!==s.type){var l=s.getCell(a);s.getElement().removeChild(l.getElement())}}),this.vDomPadRight+=a.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())}removeColLeft(){var a=this.columns[this.leftCol];a&&a.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(s=>{if("group"!==s.type){var l=s.getCell(a);l.parentNode&&s.getElement().removeChild(l.getElement())}}),this.vDomPadLeft+=a.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())}fitDataColActualWidthCheck(a){var r,s;a.modules.vdomHoz.fitDataCheck&&(a.reinitializeWidth(),(s=(r=a.getWidth())-a.modules.vdomHoz.width)&&(a.modules.vdomHoz.rightPos+=s,a.modules.vdomHoz.width=r,this.colPositionAdjust(this.rightCol+2,this.columns.length,s)),a.modules.vdomHoz.fitDataCheck=!1)}initializeRow(a){if("group"!==a.type){a.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(let r=this.leftCol;r<=this.rightCol;r++){let s=this.columns[r];if(s&&s.visible){let l=a.getCell(s);a.getElement().appendChild(l.getElement()),l.cellRendered()}}}}reinitializeRow(a,r){if("group"!==a.type&&(r||!a.modules.vdomHoz||a.modules.vdomHoz.leftCol!==this.leftCol||a.modules.vdomHoz.rightCol!==this.rightCol)){for(var s=a.getElement();s.firstChild;)s.removeChild(s.firstChild);this.initializeRow(a)}}}class Eh extends Tl{constructor(a){super(a),this.blockHozScrollEvent=!1,this.headersElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new $p(this.table,"column definition"),this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.element.insertBefore(this.headersElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this))}initializeRenderer(){var a;(a="string"==typeof this.table.options.renderHorizontal?{virtual:Jf,basic:$f}[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new a(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",table.options.renderHorizontal)}createHeadersElement(){var a=document.createElement("div");return a.classList.add("tabulator-headers"),a.setAttribute("role","row"),a}createHeaderElement(){var a=document.createElement("div");return a.classList.add("tabulator-header"),a.setAttribute("role","rowgroup"),this.table.options.headerVisible||a.classList.add("tabulator-header-hidden"),a}getElement(){return this.element}getHeadersElement(){return this.headersElement}scrollHorizontal(a){var s=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=a,this.element.style.marginLeft=a>s?-(a-s)+"px":0,this.scrollLeft=a,this.renderer.scrollColumns(a)}generateColumnsFromRowData(a){var l,f,r=[],s=this.table.options.autoColumnsDefinitions;if(a&&a.length){for(var y in l=a[0]){let T={field:y,title:y},D=l[y];switch(typeof D){case"undefined":f="string";break;case"boolean":f="boolean";break;case"object":f=Array.isArray(D)?"array":"string";break;default:f=isNaN(D)||""===D?D.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}T.sorter=f,r.push(T)}if(s)switch(typeof s){case"function":this.table.options.columns=s.call(this.table,r);break;case"object":Array.isArray(s)?r.forEach(T=>{var D=s.find(k=>k.field===T.field);D&&Object.assign(T,D)}):r.forEach(T=>{s[T.field]&&Object.assign(T,s[T.field])}),this.table.options.columns=r}else this.table.options.columns=r;this.setColumns(this.table.options.columns)}}setColumns(a,r){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),a.forEach((s,l)=>{this._addColumn(s)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.renderer.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(a,r,s){var l=new Jd(a,this),f=l.getElement(),y=s&&this.findColumnIndex(s);if(s&&y>-1){var T=s.getTopColumn(),D=this.columns.indexOf(T),k=T.getElement();r?(this.columns.splice(D,0,l),k.parentNode.insertBefore(f,k)):(this.columns.splice(D+1,0,l),k.parentNode.insertBefore(f,k.nextSibling))}else r?(this.columns.unshift(l),this.headersElement.insertBefore(l.getElement(),this.headersElement.firstChild)):(this.columns.push(l),this.headersElement.appendChild(l.getElement()));return l.columnRendered(),l}registerColumnField(a){a.definition.field&&(this.columnsByField[a.definition.field]=a)}registerColumnPosition(a){this.columnsByIndex.push(a)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(a){a.reRegisterPosition()})}verticalAlignHeaders(){var a=0;this.columns.forEach(r=>{var s;r.clearVerticalAlign(),(s=r.getHeight())>a&&(a=s)}),this.columns.forEach(r=>{r.verticalAlign(this.table.options.columnHeaderVertAlign,a)}),this.table.rowManager.adjustTableSize()}findColumn(a){return"object"!=typeof a?this.columnsByField[a]||!1:a instanceof Jd?a:a instanceof $d?a._getSelf()||!1:"undefined"!=typeof HTMLElement&&a instanceof HTMLElement&&this.columns.find(s=>s.element===a)||!1}getColumnByField(a){return this.columnsByField[a]}getColumnsByFieldRoot(a){var r=[];return Object.keys(this.columnsByField).forEach(s=>{s.split(".")[0]===a&&r.push(this.columnsByField[s])}),r}getColumnByIndex(a){return this.columnsByIndex[a]}getFirstVisibileColumn(a){return(a=this.columnsByIndex.findIndex(r=>r.visible))>-1&&this.columnsByIndex[a]}getColumns(){return this.columns}findColumnIndex(a){return this.columnsByIndex.findIndex(r=>a===r)}getRealColumns(){return this.columnsByIndex}traverse(a){this.columnsByIndex.forEach((r,s)=>{a(r,s)})}getDefinitions(a){var r=[];return this.columnsByIndex.forEach(s=>{(!a||a&&s.visible)&&r.push(s.getDefinition())}),r}getDefinitionTree(){var a=[];return this.columns.forEach(r=>{a.push(r.getDefinition(!0))}),a}getComponents(a){var r=[];return(a?this.columns:this.columnsByIndex).forEach(l=>{r.push(l.getComponent())}),r}getWidth(){var a=0;return this.columnsByIndex.forEach(r=>{r.visible&&(a+=r.getWidth())}),a}moveColumn(a,r,s){this.moveColumnActual(a,r,s),r.element.parentNode.insertBefore(a.element,r.element),s&&r.element.parentNode.insertBefore(r.element,a.element),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(a,r,s){this._moveColumnInArray(a.parent.isGroup?a.parent.columns:this.columns,a,r,s),this._moveColumnInArray(this.columnsByIndex,a,r,s,!0),this.renderer.rerenderColumns(!0),this.dispatch("column-moved",a,r,s),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",a.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(a,r,s,l,f){var T,y=a.indexOf(r);y>-1&&(a.splice(y,1),(T=a.indexOf(s))>-1?l&&(T+=1):T=y,a.splice(T,0,r),f&&(this.chain("column-moving-rows",[r,s,l],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(k){if(k.cells.length){var Y=k.cells.splice(y,1)[0];k.cells.splice(T,0,Y)}}))}scrollToColumn(a,r,s){var l=0,f=0,y=0,T=a.getElement();return new Promise((D,k)=>{if(void 0===r&&(r=this.table.options.scrollToColumnPosition),void 0===s&&(s=this.table.options.scrollToColumnIfVisible),a.visible){switch(r){case"middle":case"center":y=-this.element.clientWidth/2;break;case"right":y=T.clientWidth-this.headersElement.clientWidth}if(!s&&(f=T.offsetLeft)>0&&f+T.offsetWidth<this.element.clientWidth)return!1;l=T.offsetLeft+y,l=Math.max(Math.min(l,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(l),this.scrollHorizontal(l),D()}else console.warn("Scroll Error - Column not visible"),k("Scroll Error - Column not visible")})}generateCells(a){var r=[];return this.columnsByIndex.forEach(s=>{r.push(s.generateCell(a))}),r}getFlexBaseWidth(){var a=this.table.element.clientWidth,r=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(a-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(s){var l,f,y;s.visible&&(l=s.definition.width||0,f=parseInt(s.minWidth),y="string"==typeof l?l.indexOf("%")>-1?a/100*parseInt(l):parseInt(l):l,r+=y>f?y:f)}),r}addColumn(a,r,s){return new Promise((l,f)=>{var y=this._addColumn(a,r,s);this._reIndexColumns(),this.dispatch("column-add",a,r,s),"fitColumns"!=this.layoutMode()&&y.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.renderer.rerenderColumns(),l(y)})}deregisterColumn(a){var s,r=a.getField();r&&delete this.columnsByField[r],(s=this.columnsByIndex.indexOf(a))>-1&&this.columnsByIndex.splice(s,1),(s=this.columns.indexOf(a))>-1&&this.columns.splice(s,1),this.verticalAlignHeaders(),this.redraw()}redraw(a){_o.elVisible(this.element)&&this.verticalAlignHeaders(),a&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",a)||this.layoutRefresh(),this.dispatch("table-redraw",a),this.table.footerManager.redraw()}}class ap extends Sd{constructor(a){super(a),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var a=this.tableElement;a.firstChild;)a.removeChild(a.firstChild);a.scrollTop=0,a.scrollLeft=0,a.style.minWidth="",a.style.minHeight="",a.style.display="",a.style.visibility=""}renderRows(){var a=this.tableElement,r=!0;this.rows().forEach((s,l)=>{this.styleRow(s,l),a.appendChild(s.getElement()),s.initialize(!0),"group"!==s.type&&(r=!1)}),a.style.minWidth=r?this.table.columnManager.getWidth()+"px":""}rerenderRows(a){this.render(),a&&a()}scrollToRowNearestTop(a){var r=_o.elOffset(a.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-r)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-r))}scrollToRow(a){var r=a.getElement();this.elementVertical.scrollTop=_o.elOffset(r).top-_o.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(a){return this.rows()}}class Zf extends Sd{constructor(a){super(a),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var a=this.tableElement;a.firstChild;)a.removeChild(a.firstChild);a.style.paddingTop="",a.style.paddingBottom="",a.style.minWidth="",a.style.minHeight="",a.style.display="",a.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(a){for(var r=this.elementVertical.scrollTop,s=!1,l=!1,f=this.table.rowManager.scrollLeft,y=this.rows(),T=this.vDomTop;T<=this.vDomBottom;T++)if(y[T]){var D=r-y[T].getElement().offsetTop;if(!(!1===l||Math.abs(D)<l))break;l=D,s=T}y.forEach(k=>{k.deinitializeHeight()}),a&&a(),this._virtualRenderFill(!1===s?this.rows.length-1:s,!0,l||0),this.scrollColumns(f)}scrollColumns(a){this.table.rowManager.scrollHorizontal(a)}scrollRows(a,r){var s=a-this.vDomScrollPosTop,l=a-this.vDomScrollPosBottom,f=2*this.vDomWindowBuffer,y=this.rows();if(this.scrollTop=a,-s>f||l>f){var T=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*y.length)),this.scrollColumns(T)}else r?(s<0&&this._addTopRow(y,-s),l<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(y,-l):this.vDomScrollPosBottom=this.scrollTop)):(l>=0&&this._addBottomRow(y,l),s>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(y,s):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(a){var r=this.rows().indexOf(a);return!(Math.abs(this.vDomTop-r)>Math.abs(this.vDomBottom-r))}scrollToRow(a){var r=this.rows().indexOf(a);r>-1&&this._virtualRenderFill(r,!0)}visibleRows(a){var r=this.elementVertical.scrollTop,s=this.elementVertical.clientHeight+r,l=!1,f=0,y=0,T=this.rows();if(a)f=this.vDomTop,y=this.vDomBottom;else for(var D=this.vDomTop;D<=this.vDomBottom;D++)if(T[D])if(l){if(!(s-T[D].getElement().offsetTop>=0))break;y=D}else if(r-T[D].getElement().offsetTop>=0)f=D;else{if(l=!0,!(s-T[D].getElement().offsetTop>=0))break;y=D}return T.slice(f,y+1)}_virtualRenderFill(a,r,s){var l=this.tableElement,f=this.elementVertical,y=0,T=0,D=0,k=0,Y=0,ue=this.rows(),Ie=ue.length,We=this.elementVertical.clientHeight;if(s=s||0,a=a||0){for(;l.firstChild;)l.removeChild(l.firstChild);(D=(Ie-a+1)*this.vDomRowHeight)<We&&(a-=Math.ceil((We-D)/this.vDomRowHeight))<0&&(a=0),a-=y=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),a)}else this.clear();if(Ie&&_o.elVisible(this.elementVertical)){for(this.vDomTop=a,this.vDomBottom=a-1;(T<=We+this.vDomWindowBuffer||Y<this.vDomWindowMinTotalRows)&&this.vDomBottom<Ie-1;){var Dt,at=this.vDomBottom+1,yt=ue[at];this.styleRow(yt,at),l.appendChild(yt.getElement()),yt.initialize(),yt.heightInitialized||yt.normalizeHeight(!0),Dt=yt.getHeight(),Y<y?k+=Dt:T+=Dt,Dt>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*Dt),this.vDomBottom++,Y++}a?(this.vDomTopPad=r?this.vDomRowHeight*this.vDomTop+s:this.scrollTop-k,this.vDomBottomPad=this.vDomBottom==Ie-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-T-k,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((T+k)/Y),this.vDomBottomPad=this.vDomRowHeight*(Ie-this.vDomBottom-1),this.vDomScrollHeight=k+T+this.vDomBottomPad-We),l.style.paddingTop=this.vDomTopPad+"px",l.style.paddingBottom=this.vDomBottomPad+"px",r&&(this.scrollTop=this.vDomTopPad+k+s-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-We:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-We),this.elementVertical.scrollWidth>this.elementVertical.offsetWidth&&r&&(this.scrollTop+=this.elementVertical.offsetHeight-We),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,f.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(a,r){for(var s=this.tableElement,l=[],f=0,y=this.vDomTop-1,T=0;this.vDomTop;){let k,Y,D=a[y];if(!(D&&T<this.vDomMaxRenderChain))break;if(k=D.getHeight()||this.vDomRowHeight,Y=D.initialized,!(r>=k))break;this.styleRow(D,y),s.insertBefore(D.getElement(),s.firstChild),(!D.initialized||!D.heightInitialized)&&l.push(D),D.initialize(),Y||(k=D.getElement().offsetHeight,k>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*k)),r-=k,f+=k,this.vDomTop--,y--,T++}for(let D of l)D.clearCellHeight();this._quickNormalizeRowHeight(l),f&&(this.vDomTopPad-=f,this.vDomTopPad<0&&(this.vDomTopPad=y*this.vDomRowHeight),y<1&&(this.vDomTopPad=0),s.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=f)}_removeTopRow(a,r){for(var s=[],l=0,f=0;;){let T,y=a[this.vDomTop];if(!(y&&f<this.vDomMaxRenderChain))break;if(T=y.getHeight()||this.vDomRowHeight,!(r>=T))break;this.vDomTop++,r-=T,l+=T,s.push(y),f++}for(let y of s){let T=y.getElement();T.parentNode&&T.parentNode.removeChild(T)}l&&(this.vDomTopPad+=l,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?l:l+this.vDomWindowBuffer)}_addBottomRow(a,r){for(var s=this.tableElement,l=[],f=0,y=this.vDomBottom+1,T=0;;){let k,Y,D=a[y];if(!(D&&T<this.vDomMaxRenderChain))break;if(k=D.getHeight()||this.vDomRowHeight,Y=D.initialized,!(r>=k))break;this.styleRow(D,y),s.appendChild(D.getElement()),(!D.initialized||!D.heightInitialized)&&l.push(D),D.initialize(),Y||(k=D.getElement().offsetHeight,k>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*k)),r-=k,f+=k,this.vDomBottom++,y++,T++}for(let D of l)D.clearCellHeight();this._quickNormalizeRowHeight(l),f&&(this.vDomBottomPad-=f,(this.vDomBottomPad<0||y==a.length-1)&&(this.vDomBottomPad=0),s.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=f)}_removeBottomRow(a,r){for(var s=[],l=0,f=0;;){let T,y=a[this.vDomBottom];if(!(y&&f<this.vDomMaxRenderChain))break;if(T=y.getHeight()||this.vDomRowHeight,!(r>=T))break;this.vDomBottom--,r-=T,l+=T,s.push(y),f++}for(let y of s){let T=y.getElement();T.parentNode&&T.parentNode.removeChild(T)}l&&(this.vDomBottomPad+=l,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=l)}_quickNormalizeRowHeight(a){for(let r of a)r.calcHeight();for(let r of a)r.setCellHeight()}}class lp extends Tl{constructor(a){super(a),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.renderer=null}createHolderElement(){var a=document.createElement("div");return a.classList.add("tabulator-tableholder"),a.setAttribute("tabindex",0),a.setAttribute("role","rowgroup"),a}createTableElement(){var a=document.createElement("div");return a.classList.add("tabulator-table"),a.setAttribute("role","rowgroup"),a}getElement(){return this.element}getTableElement(){return this.tableElement}getRowPosition(a,r){return r?this.activeRows.indexOf(a):this.rows.indexOf(a)}initialize(){this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var a=this.element.scrollLeft,r=this.scrollLeft>a,s=this.element.scrollTop,l=this.scrollTop>s;this.scrollLeft!=a&&(this.scrollLeft=a,this.dispatch("scroll-horizontal",a,r),this.dispatchExternal("scrollHorizontal",a,r)),this.scrollTop!=s&&(this.scrollTop=s,this.renderer.scrollRows(s,l),this.dispatch("scroll-vertical",s,l),this.dispatchExternal("scrollVertical",s,l))})}findRow(a){return"object"!=typeof a?null!=a&&(this.rows.find(s=>s.data[this.table.options.index]==a)||!1):a instanceof Vs?a:a instanceof gu?a._getSelf()||!1:"undefined"!=typeof HTMLElement&&a instanceof HTMLElement&&this.rows.find(s=>s.getElement()===a)||!1}getRowFromDataObject(a){return this.rows.find(s=>s.data===a)||!1}getRowFromPosition(a,r){return r?this.activeRows[a]:this.rows[a]}scrollToRow(a,r,s){return this.renderer.scrollToRowPosition(a,r,s)}setData(a,r,s){return new Promise((l,f)=>{r&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(a,!0):this.reRenderInPosition(()=>{this._setDataActual(a)}):(this.table.options.autoColumns&&s&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(a),this.resetScroll(),this._setDataActual(a)),l()})}_setDataActual(a,r){this.dispatchExternal("dataProcessing",a),this._wipeElements(),Array.isArray(a)?(this.dispatch("data-processing",a),a.forEach((s,l)=>{if(s&&"object"==typeof s){var f=new Vs(s,this);this.rows.push(f)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",s)}),this.refreshActiveData(!1,!1,r),this.dispatch("data-processed",a),this.dispatchExternal("dataProcessed",a)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof a,"\nData:     ",a)}_wipeElements(){this.dispatch("rows-wipe"),this.rows.forEach(a=>{a.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()}deleteRow(a,r){var s=this.rows.indexOf(a),l=this.activeRows.indexOf(a);l>-1&&this.activeRows.splice(l,1),s>-1&&this.rows.splice(s,1),this.setActiveRows(this.activeRows),this.displayRowIterator(f=>{var y=f.indexOf(a);y>-1&&f.splice(y,1)}),r||this.reRenderInPosition(),this.regenerateRowNumbers(),this.dispatchExternal("rowDeleted",a.getComponent()),this.displayRowsCount||this._showPlaceholder(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(a,r,s,l){var f=this.addRowActual(a,r,s,l);return this.dispatch("row-added",f,a,r,s),f}addRows(a,r,s){var l=[];return new Promise((f,y)=>{r=this.findAddRowPos(r),Array.isArray(a)||(a=[a]),(void 0===s&&r||void 0!==s&&!r)&&a.reverse(),a.forEach((T,D)=>{var k=this.addRow(T,r,s,!0);l.push(k),this.dispatch("row-added",k,a,r,s)}),this.refreshActiveData(!1,!1,!0),this.regenerateRowNumbers(),l.length&&this._clearPlaceholder(),f(l)})}findAddRowPos(a){return void 0===a&&(a=this.table.options.addRowPos),"pos"===a&&(a=!0),"bottom"===a&&(a=!1),a}addRowActual(a,r,s,l){var D,k,f=a instanceof Vs?a:new Vs(a||{},this),y=this.findAddRowPos(r),T=-1;return s||(k=this.chain("row-adding-position",[f,y],null,{index:s,top:y}),s=k.index,y=k.top),void 0!==s&&(s=this.findRow(s)),(s=this.chain("row-adding-index",[f,s,y],null,s))&&(T=this.rows.indexOf(s)),s&&T>-1?(D=this.activeRows.indexOf(s),this.displayRowIterator(function(Y){var ue=Y.indexOf(s);ue>-1&&Y.splice(y?ue:ue+1,0,f)}),D>-1&&this.activeRows.splice(y?D:D+1,0,f),this.rows.splice(y?T:T+1,0,f)):y?(this.displayRowIterator(function(Y){Y.unshift(f)}),this.activeRows.unshift(f),this.rows.unshift(f)):(this.displayRowIterator(function(Y){Y.push(f)}),this.activeRows.push(f),this.rows.push(f)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",f.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),l||this.reRenderInPosition(),f}moveRow(a,r,s){this.dispatch("row-move",a,r,s),this.moveRowActual(a,r,s),this.regenerateRowNumbers(),this.dispatch("row-moved",a,r,s),this.dispatchExternal("rowMoved",a.getComponent())}moveRowActual(a,r,s){this.moveRowInArray(this.rows,a,r,s),this.moveRowInArray(this.activeRows,a,r,s),this.displayRowIterator(l=>{this.moveRowInArray(l,a,r,s)}),this.dispatch("row-moving",a,r,s)}moveRowInArray(a,r,s,l){var f,y,D;if(r!==s&&((f=a.indexOf(r))>-1&&(a.splice(f,1),y=a.indexOf(s),a.splice(y>-1?l?y+1:y:f,0,r)),a===this.getDisplayRows())){D=y>f?y:f+1;for(let k=f<y?f:y;k<=D;k++)a[k]&&this.styleRow(a[k],k)}}clearData(){this.setData([])}getRowIndex(a){return this.findRowIndex(a,this.rows)}getDisplayRowIndex(a){var r=this.getDisplayRows().indexOf(a);return r>-1&&r}nextDisplayRow(a,r){var s=this.getDisplayRowIndex(a),l=!1;return!1!==s&&s<this.displayRowsCount-1&&(l=this.getDisplayRows()[s+1]),!l||l instanceof Vs&&"row"==l.type?l:this.nextDisplayRow(l,r)}prevDisplayRow(a,r){var s=this.getDisplayRowIndex(a),l=!1;return s&&(l=this.getDisplayRows()[s-1]),!r||!l||l instanceof Vs&&"row"==l.type?l:this.prevDisplayRow(l,r)}findRowIndex(a,r){var s;return!!((a=this.findRow(a))&&(s=r.indexOf(a),s>-1))&&s}getData(a,r){var s=[];return this.getRows(a).forEach(function(f){"row"==f.type&&s.push(f.getData(r||"data"))}),s}getComponents(a){var r=[];return this.getRows(a).forEach(function(l){r.push(l.getComponent())}),r}getDataCount(a){return this.getRows(a).length}scrollHorizontal(a){this.scrollLeft=a,this.element.scrollLeft=a,this.dispatch("scroll-horizontal",a)}registerDataPipelineHandler(a,r){void 0!==r?(this.dataPipeline.push({handler:a,priority:r}),this.dataPipeline.sort((s,l)=>s.priority-l.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(a,r){void 0!==r?(this.displayPipeline.push({handler:a,priority:r}),this.displayPipeline.sort((s,l)=>s.priority-l.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(a,r,s){var l=this.table,f="",y=0,T=["all","dataPipeline","display","displayPipeline","end"];if("function"==typeof a)if((y=this.dataPipeline.findIndex(D=>D.handler===a))>-1)f="dataPipeline",r&&(y==this.dataPipeline.length-1?f="display":y++);else{if(!((y=this.displayPipeline.findIndex(D=>D.handler===a))>-1))return void console.error("Unable to refresh data, invalid handler provided",a);f="displayPipeline",r&&(y==this.displayPipeline.length-1?f="end":y++)}else f=a||"all",y=0;if(this.redrawBlock)(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===f&&y<this.redrawBlockRestoreConfig.index||T.indexOf(f)<T.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:a,skipStage:r,renderInPosition:s,stage:f,index:y});else{switch(this.dispatch("data-refeshing"),a||(this.activeRowsPipeline[0]=this.rows.slice(0)),f){case"all":case"dataPipeline":for(let D=y;D<this.dataPipeline.length;D++){let k=this.dataPipeline[D].handler(this.activeRowsPipeline[D].slice(0));this.activeRowsPipeline[D+1]=k||this.activeRowsPipeline[D].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]),this.regenerateRowNumbers();case"display":y=0,this.resetDisplayRows();case"displayPipeline":for(let D=y;D<this.displayPipeline.length;D++){let k=this.displayPipeline[D].handler((D?this.getDisplayRows(D-1):this.activeRows).slice(0),s);this.setDisplayRows(k||this.getDisplayRows(D-1).slice(0),D)}}_o.elVisible(this.element)&&(s?this.reRenderInPosition():(a||this.table.columnManager.renderer.renderColumns(),this.renderTable(),l.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),this.dispatch("data-refeshed")}}regenerateRowNumbers(){this.rowNumColumn&&this.activeRows.forEach(a=>{var r=a.getCell(this.rowNumColumn);r&&r._generateContents()})}setActiveRows(a){this.activeRows=a,this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}getNextDisplayIndex(){return this.displayRows.length}setDisplayRows(a,r){var s=!0;return r&&void 0!==this.displayRows[r]?(this.displayRows[r]=a,s=!0):(this.displayRows.push(a),s=r=this.displayRows.length-1),r==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),s}getDisplayRows(a){return void 0===a?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[a]||[]}getVisibleRows(a){return this.renderer.visibleRows(!a)}displayRowIterator(a){this.activeRowsPipeline.forEach(a),this.displayRows.forEach(a),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(a){var r;switch(a){case"active":r=this.activeRows;break;case"display":r=this.table.rowManager.getDisplayRows();break;case"visible":r=this.getVisibleRows(!0);break;default:r=this.chain("rows-retrieve",a,null,this.rows)||this.rows}return r}reRenderInPosition(a){this.redrawBlock?a?a():this.redrawBlockRederInPosition=!0:this.renderer.rerenderRows(a)}initializeRenderer(){var a;(a="string"==typeof this.table.options.renderVertical?{virtual:Zf,basic:ap}[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderer=new a(this.table,this.element,this.tableElement),this.renderer.initialize(),this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height)):console.error("Unable to find matching renderer:",table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.layoutRefresh())):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}_showPlaceholder(){this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px")}_clearPlaceholder(){this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder)}styleRow(a,r){var s=a.getElement();r%2?(s.classList.add("tabulator-row-even"),s.classList.remove("tabulator-row-odd")):(s.classList.add("tabulator-row-odd"),s.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(a){a.normalizeHeight()})}adjustTableSize(){var a=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){let r=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+r+"px)",this.element.style.height="calc(100% - "+r+"px)",this.element.style.maxHeight="calc(100% - "+r+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-r+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),!this.fixedHeight&&a!=this.element.clientHeight&&(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw())}}reinitialize(){this.rows.forEach(function(a){a.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1}redraw(a){var r=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,a?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(r),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var a=document.createEvent("Event");a.initEvent("scroll",!1,!0),this.element.dispatchEvent(a)}else this.element.dispatchEvent(new Event("scroll"))}}class cp extends Tl{constructor(a){super(a),this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this.initializeElement()}initialize(){this.initializeElement()}createElement(){var a=document.createElement("div");return a.classList.add("tabulator-footer"),a}initializeElement(){this.table.options.footerElement&&("string"==typeof this.table.options.footerElement?"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)}getElement(){return this.element}append(a,r){this.activate(r),this.element.appendChild(a),this.table.rowManager.adjustTableSize()}prepend(a,r){this.activate(r),this.element.insertBefore(a,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(a){a.parentNode.removeChild(a),this.deactivate()}deactivate(a){(!this.element.firstChild||a)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(a){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),a&&this.links.push(a)}redraw(){this.links.forEach(function(a){a.footerRedraw()})}}class Jp extends Tl{constructor(a){super(a),this.el=this.table.element,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var a={};this.listeners.forEach(r=>{a[r]={handler:null,components:[]}}),this.listeners=a}bindSubscriptionWatchers(){var a=Object.keys(this.listeners),r=Object.values(this.componentMap);for(let s of r)for(let l of a)this.subscriptionChange(s+"-"+l,this.subscriptionChanged.bind(this,s,l))}subscriptionChanged(a,r,s){var l=this.listeners[r].components,f=l.indexOf(a),y=!1;s?-1===f&&(l.push(a),y=!0):this.subscribed(a+"-"+r)||f>-1&&(l.splice(f,1),y=!0),y&&this.updateEventListeners()}updateEventListeners(){for(let a in this.listeners){let r=this.listeners[a];r.components.length?r.handler||(r.handler=this.track.bind(this,a),this.el.addEventListener(a,r.handler)):r.handler&&(this.el.removeEventListener(a,r.handler),r.handler=null)}}track(a,r){var s=r.composedPath&&r.composedPath()||r.path,l=this.findTargets(s);l=this.bindComponents(a,l),this.triggerEvents(a,r,l)}findTargets(a){var r={};let s=Object.keys(this.componentMap);for(let l of a){let f=l.classList?[...l.classList]:[];if(f.filter(D=>this.abortClasses.includes(D)).length)break;let T=f.filter(D=>s.includes(D));for(let D of T)r[this.componentMap[D]]=l}return r.group&&r.group===r.row&&delete r.row,r}bindComponents(a,r){var s=Object.keys(r).reverse(),l=this.listeners[a],f={};for(let y of s){let T,D=r[y],k=this.previousTargets[y];if(k&&k.target===D)T=k.component;else switch(y){case"row":case"group":(l.components.includes("row")||l.components.includes("cell"))&&(T=this.table.rowManager.getVisibleRows().find(ue=>ue.getElement()===D));break;case"column":l.components.includes("column")&&(T=this.table.columnManager.findColumn(D));break;case"cell":l.components.includes("cell")&&(T=r.row.findCell(D))}T&&(r[y]=T,f[y]={target:D,component:T})}return this.previousTargets=f,r}triggerEvents(a,r,s){var l=this.listeners[a];for(let f in s)s[f]&&l.components.includes(f)&&this.dispatch(f+"-"+a,r,s[f])}}class Qf{constructor(a){this.table=a,this.bindings={}}bind(a,r,s){this.bindings[a]||(this.bindings[a]={}),this.bindings[a][r]?console.warn("Unable to bind component handler, a matching function name is already bound",a,r,hanlder):this.bindings[a][r]=s}handle(a,r,s){if(this.bindings[a]&&this.bindings[a][s])return this.bindings[a][s].bind(null,r);"then"!==s&&"string"==typeof s&&!s.startsWith("_")&&console.error("The "+a+" component does not have a "+s+" function, have you checked that you have the correct Tabulator module installed?")}}class qf extends Tl{constructor(a){super(a),this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=null,this.errorElement=null,this.requestOrder=0,this.loading=!1}initialize(){var a;this.loaderElement.appendChild(this.msgElement),this.table.options.dataLoaderLoading&&("string"==typeof this.table.options.dataLoaderLoading?((a=document.createElement("template")).innerHTML=this.table.options.dataLoaderLoading.trim(),this.loadingElement=a.firstElementChild):this.loadingElement=this.table.options.dataLoaderLoading),this.table.options.dataLoaderError&&("string"==typeof this.table.options.dataLoaderError?((a=document.createElement("template")).innerHTML=this.table.options.dataLoaderError.trim(),this.errorElement=a.firstElementChild):this.errorElement=this.table.options.dataLoaderError)}createLoaderElement(){var a=document.createElement("div");return a.classList.add("tabulator-loader"),a}createMsgElement(){var a=document.createElement("div");return a.classList.add("tabulator-loader-msg"),a.setAttribute("role","alert"),a}load(a,r,s,l,f){var y=++this.requestOrder;return this.dispatchExternal("dataLoading",a),a&&(0==a.indexOf("{")||0==a.indexOf("["))&&(a=JSON.parse(a)),this.confirm("data-loading",a,r,s,f)?(this.loading=!0,f||this.showLoader(),r=this.chain("data-params",[a,s,f],r||{},{}),r=this.mapParams(r,this.table.options.dataSendParams),this.chain("data-load",[a,r,s,f],Promise.resolve([])).then(k=>{!Array.isArray(k)&&"object"==typeof k&&(k=this.mapParams(k,this.objectInvert(this.table.options.dataReceiveParams)));var Y=this.chain("data-loaded",k,null,k);y==this.requestOrder?(this.hideLoader(),!1!==Y&&(this.dispatchExternal("dataLoaded",Y),this.table.rowManager.setData(Y,l,!l))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}).catch(k=>{console.error("Data Load Error: ",k),this.dispatchExternal("dataLoadError",k),f||this.showError(),setTimeout(()=>{this.hideLoader()},3e3)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",a),a||(a=[]),this.table.rowManager.setData(a,l,!l),Promise.resolve())}mapParams(a,r){var s={};for(let l in a)s[r.hasOwnProperty(l)?r[l]:l]=a[l];return s}objectInvert(a){var r={};for(let s in a)r[a[s]]=s;return r}blockActiveLoad(){this.requestOrder++}showLoader(){if("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.langText("data|loading"),this.table.element.appendChild(this.loaderElement)}}showError(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.langText("data|error"),this.table.element.appendChild(this.loaderElement)}hideLoader(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)}}class up{constructor(a,r,s){this.table=a,this.events={},this.optionsList=r||{},this.subscriptionNotifiers={},this.dispatch=s?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=s}subscriptionChange(a,r){this.subscriptionNotifiers[a]||(this.subscriptionNotifiers[a]=[]),this.subscriptionNotifiers[a].push(r),this.subscribed(a)&&this._notifiySubscriptionChange(a,!0)}subscribe(a,r){this.events[a]||(this.events[a]=[]),this.events[a].push(r),this._notifiySubscriptionChange(a,!0)}unsubscribe(a,r){var s;if(this.events[a]){if(r){if(!((s=this.events[a].findIndex(l=>l===r))>-1))return void console.warn("Cannot remove event, no matching event found:",a,r);this.events[a].splice(s,1)}else delete this.events[a];this._notifiySubscriptionChange(a,!1)}else console.warn("Cannot remove event, no events set on:",a)}subscribed(a){return this.events[a]&&this.events[a].length}_notifiySubscriptionChange(a,r){var s=this.subscriptionNotifiers[a];s&&s.forEach(l=>{l(r)})}_dispatch(){var s,a=Array.from(arguments),r=a.shift();return this.events[r]&&this.events[r].forEach((l,f)=>{let y=l.apply(this.table,a);f||(s=y)}),s}_debugDispatch(){var a=Array.from(arguments),r=a[0];return a[0]="ExternalEvent:"+a[0],(!0===this.debug||this.debug.includes(r))&&console.log(...a),this._dispatch(...arguments)}}class Im{constructor(a){this.events={},this.subscriptionNotifiers={},this.dispatch=a?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=a?this._debugChain.bind(this):this._chain.bind(this),this.confirm=a?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=a}subscriptionChange(a,r){this.subscriptionNotifiers[a]||(this.subscriptionNotifiers[a]=[]),this.subscriptionNotifiers[a].push(r),this.subscribed(a)&&this._notifiySubscriptionChange(a,!0)}subscribe(a,r,s=1e4){this.events[a]||(this.events[a]=[]),this.events[a].push({callback:r,priority:s}),this.events[a].sort((l,f)=>l.priority-f.priority),this._notifiySubscriptionChange(a,!0)}unsubscribe(a,r){var s;if(this.events[a]){if(r){if(!((s=this.events[a].findIndex(l=>l.callback===r))>-1))return void console.warn("Cannot remove event, no matching event found:",a,r);this.events[a].splice(s,1)}this._notifiySubscriptionChange(a,!1)}else console.warn("Cannot remove event, no events set on:",a)}subscribed(a){return this.events[a]&&this.events[a].length}_chain(a,r,s,l){var f=s;return Array.isArray(r)||(r=[r]),this.subscribed(a)?(this.events[a].forEach((y,T)=>{f=y.callback.apply(this,r.concat([f]))}),f):"function"==typeof l?l():l}_confirm(a,r){var s=!1;return Array.isArray(r)||(r=[r]),this.subscribed(a)&&this.events[a].forEach((l,f)=>{l.callback.apply(this,r)&&(s=!0)}),s}_notifiySubscriptionChange(a,r){var s=this.subscriptionNotifiers[a];s&&s.forEach(l=>{l(r)})}_dispatch(){var a=Array.from(arguments),r=a.shift();this.events[r]&&this.events[r].forEach(s=>{s.callback.apply(this,a)})}_debugDispatch(){var a=Array.from(arguments),r=a[0];return a[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...a),this._dispatch(...arguments)}_debugChain(){var a=Array.from(arguments),r=a[0];return a[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...a),this._chain(...arguments)}_debugConfirm(){var a=Array.from(arguments),r=a[0];return a[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...a),this._confirm(...arguments)}}let Ch=(()=>{class g{static register(r){g.tables.push(r)}static deregister(r){var s=g.tables.indexOf(r);s>-1&&g.tables.splice(s,1)}static lookupTable(r,s){var f,y,l=[];if("string"==typeof r){if((f=document.querySelectorAll(r)).length)for(var T=0;T<f.length;T++)(y=g.matchElement(f[T]))&&l.push(y)}else"undefined"!=typeof HTMLElement&&r instanceof HTMLElement||r instanceof _u?(y=g.matchElement(r))&&l.push(y):Array.isArray(r)?r.forEach(function(D){l=l.concat(g.lookupTable(D))}):s||console.warn("Table Connection Error - Invalid Selector",r);return l}static matchElement(r){return g.tables.find(function(s){return r instanceof _u?s===r:s.element===r})}}return g.tables=[],g})();function dp(g){g.forEach(function(a){a.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var ef={fitData:function(g){this.table.columnManager.renderer.reinitializeColumnWidths(g),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:dp,fitDataTable:dp,fitDataStretch:function(g){var a=0,r=this.table.rowManager.element.clientWidth,s=0,l=!1;g.forEach((f,y)=>{f.widthFixed||f.reinitializeWidth(),(this.table.options.responsiveLayout?f.modules.responsive.visible:f.visible)&&(l=f),f.visible&&(a+=f.getWidth())}),l?(s=r-a+l.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(l.setWidth(0),this.table.modules.responsiveLayout.update()),s>0?l.setWidth(s):l.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(g){var f,k,a=this.table.element.clientWidth,r=0,s=0,l=0,y=[],T=[],D=0,Y=0;function ue(We){return"string"==typeof We?We.indexOf("%")>-1?a/100*parseInt(We):parseInt(We):We}function Ie(We,at,yt,Dt){var At=[],ai=0,Ni=0,yi=0,Si=l,ji=0,zi=0,qi=[];function an(sn){return yt*(sn.column.definition.widthGrow||1)}function zn(sn){return ue(sn.width)-yt*(sn.column.definition.widthShrink||0)}return We.forEach(function(sn,Yn){var Or=Dt?zn(sn):an(sn);sn.column.minWidth>=Or?At.push(sn):sn.column.maxWidth&&sn.column.maxWidth<Or?(sn.width=sn.column.maxWidth,at-=sn.column.maxWidth,(Si-=Dt?sn.column.definition.widthShrink||1:sn.column.definition.widthGrow||1)&&(yt=Math.floor(at/Si))):(qi.push(sn),zi+=Dt?sn.column.definition.widthShrink||1:sn.column.definition.widthGrow||1)}),At.length?(At.forEach(function(sn){ai+=Dt?sn.width-sn.column.minWidth:sn.column.minWidth,sn.width=sn.column.minWidth}),ji=(Ni=at-ai)-(yi=zi?Math.floor(Ni/zi):Ni)*zi,ji+=Ie(qi,Ni,yi,Dt)):(ji=zi?at-Math.floor(at/zi)*zi:at,qi.forEach(function(sn){sn.width=Dt?zn(sn):an(sn)})),ji}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(a-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),g.forEach(function(We){var at,yt,Dt;We.visible&&(at=We.definition.width,yt=parseInt(We.minWidth),at?(Dt=ue(at),r+=Dt>yt?Dt:yt,We.definition.widthShrink&&(T.push({column:We,width:Dt>yt?Dt:yt}),D+=We.definition.widthShrink)):(y.push({column:We,width:0}),l+=We.definition.widthGrow||1))}),s=a-r,f=Math.floor(s/l),Y=Ie(y,s,f,!1),y.length&&Y>0&&(y[y.length-1].width+=+Y),y.forEach(function(We){s-=We.width}),(k=Math.abs(Y)+s)>0&&D&&(Y=Ie(T,k,Math.floor(k/D),!0)),T.length&&(T[T.length-1].width-=Y),y.forEach(function(We){We.column.setWidth(We.width)}),T.forEach(function(We){We.column.setWidth(We.width)})}},Th={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},km=Object.freeze({__proto__:null,LayoutModule:(()=>{class g extends ur{constructor(r){super(r,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var r=this.table.options.layout;g.modes[r]?this.mode=r:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+r),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(){g.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),this.dispatch("layout-refreshed")}}return g.moduleName="layout",g.modes=ef,g})(),LocalizeModule:(()=>{class g extends ur{constructor(r){super(r),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=_o.deepClone(g.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let r in this.table.options.langs)this.installLang(r,this.table.options.langs[r]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(r){this.langList.default.headerFilters.default=r}setHeaderFilterColumnPlaceholder(r,s){this.langList.default.headerFilters.columns[r]=s,this.lang&&!this.lang.headerFilters.columns[r]&&(this.lang.headerFilters.columns[r]=s)}installLang(r,s){this.langList[r]?this._setLangProp(this.langList[r],s):this.langList[r]=s}_setLangProp(r,s){for(let l in s)r[l]&&"object"==typeof r[l]?this._setLangProp(r[l],s[l]):r[l]=s[l]}setLocale(r){if(!0===(r=r||"default")&&navigator.language&&(r=navigator.language.toLowerCase()),r&&!this.langList[r]){let l=r.split("-")[0];this.langList[l]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",r,l),r=l):(console.warn("Localization Error - Matching locale not found, using default: ",r),r="default")}this.locale=r,this.lang=_o.deepClone(this.langList.default||{}),"default"!=r&&function s(l,f){for(var y in l)"object"==typeof l[y]?(f[y]||(f[y]={}),s(l[y],f[y])):f[y]=l[y]}(this.langList[r],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(r){return this.locale}getLang(r){return r?this.langList[r]:this.lang}getText(r,s){var l=(r=s?r+"|"+s:r).split("|");return this._getLangElement(l,this.locale)||""}_getLangElement(r,s){var l=this.lang;return r.forEach(function(f){var y;l&&(l=void 0!==(y=l[f])&&y)}),l}bind(r,s){this.bindings[r]||(this.bindings[r]=[]),this.bindings[r].push(s),s(this.getText(r),this.lang)}_executeBindings(){for(let r in this.bindings)this.bindings[r].forEach(s=>{s(this.getText(r),this.lang)})}}return g.moduleName="localize",g.langs=Th,g})(),CommsModule:(()=>{class g extends ur{constructor(r){super(r)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(r){var s=[];return Ch.lookupTable(r).forEach(f=>{this.table!==f&&s.push(f)}),s}send(r,s,l,f){var y=this.getConnections(r);y.forEach(T=>{T.tableComms(this.table.element,s,l,f)}),!y.length&&r&&console.warn("Table Connection Error - No tables matching selector found",r)}receive(r,s,l,f){if(this.table.modExists(s))return this.table.modules[s].commsReceived(r,l,f);console.warn("Inter-table Comms Error - no such module:",s)}}return g.moduleName="comms",g})()});class wh{constructor(a,r){this.bindStaticFuctionality(a),this.bindModules(a,km,!0),r&&this.bindModules(a,r)}bindStaticFuctionality(a){a.moduleBindings={},a.extendModule=function(r,s,l){if(a.moduleBindings[r]){var f=a.moduleBindings[r][s];if(f)if("object"==typeof l)for(let y in l)f[y]=l[y];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",s)}else console.warn("Module Error - module does not exist:",r)},a.registerModule=function(r){Array.isArray(r)||(r=[r]),r.forEach(s=>{a.registerModuleBinding(s)})},a.registerModuleBinding=function(r){a.moduleBindings[r.moduleName]=r},a.findTable=function(r){var s=Ch.lookupTable(r,!0);return!(Array.isArray(s)&&!s.length)&&s},a.prototype.bindModules=function(){for(var r in this.modules={},a.moduleBindings){let s=a.moduleBindings[r];this.modules[r]=new s(this),s.prototype.moduleCore?this.modulesCore[r]=this.modules[r]:this.modulesRegular[r]=this.modules[r]}}}bindModules(a,r,s){var l=Object.values(r);s&&l.forEach(f=>{f.prototype.moduleCore=!0}),a.registerModule(l)}}let _u=(()=>{class g{constructor(r,s){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Qf(this),this.dataLoader=!1,this.modules={},this.modulesCore={},this.modulesRegular={},this.optionsList=new $p(this,"table constructor"),this.initialized=!1,this.initializeElement(r)&&(this.initialzeCoreSystems(s),setTimeout(()=>{this._create()})),Ch.register(this)}initializeElement(r){return"undefined"!=typeof HTMLElement&&r instanceof HTMLElement?(this.element=r,!0):"string"==typeof r?(this.element=document.querySelector(r),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",r),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",r),!1)}initialzeCoreSystems(r){this.columnManager=new Eh(this),this.rowManager=new lp(this),this.footerManager=new cp(this),this.dataLoader=new qf(this),this.bindModules(),this.options=this.optionsList.generate(g.defaultOptions,r),this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.externalEvents=new up(this,this.options,this.options.debugEventsExternal),this.eventBus=new Im(this.options.debugEventsInternal),this.interactionMonitor=new Jp(this),this.dataLoader.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this.footerManager.initialize()}_mapDepricatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var r=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==r.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),this.options.data&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var l,r=this.element,s=this.options;if("TABLE"===r.tagName){this.originalElement=this.element,l=document.createElement("div");var f=r.attributes;for(var y in f)"object"==typeof f[y]&&l.setAttribute(f[y].name,f[y].value);r.parentNode.replaceChild(l,r),this.element=r=l}for(r.classList.add("tabulator"),r.setAttribute("role","grid");r.firstChild;)r.removeChild(r.firstChild);s.height&&(s.height=isNaN(s.height)?s.height:s.height+"px",r.style.height=s.height),!1!==s.minHeight&&(s.minHeight=isNaN(s.minHeight)?s.minHeight:s.minHeight+"px",r.style.minHeight=s.minHeight),!1!==s.maxHeight&&(s.maxHeight=isNaN(s.maxHeight)?s.maxHeight:s.maxHeight+"px",r.style.maxHeight=s.maxHeight)}_initializeTable(){var r=this.element,s=this.options;this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser();for(let y in this.modulesCore)this.modulesCore[y].initialize();if("string"==typeof s.placeholder){var l=document.createElement("div");l.classList.add("tabulator-placeholder");var f=document.createElement("span");f.innerHTML=s.placeholder,l.appendChild(f),s.placeholder=l}r.appendChild(this.columnManager.getElement()),r.appendChild(this.rowManager.getElement()),s.footerElement&&this.footerManager.activate(),s.autoColumns&&s.data&&this.columnManager.generateColumnsFromRowData(this.options.data);for(let y in this.modulesRegular)this.modulesRegular[y].initialize();this.columnManager.setColumns(s.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var r=this.element;for(Ch.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.rows.forEach(function(s){s.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[];r.firstChild;)r.removeChild(r.firstChild);r.classList.remove("tabulator")}_detectBrowser(){var r=navigator.userAgent||navigator.vendor||window.opera;r.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):r.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):r.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4))}blockRedraw(){return this.rowManager.blockRedraw()}restoreRedraw(){return this.rowManager.restoreRedraw()}setDataFromLocalFile(r){return new Promise((s,l)=>{var f=document.createElement("input");f.type="file",f.accept=r||".json,application/json",f.addEventListener("change",y=>{var k,T=f.files[0],D=new FileReader;D.readAsText(T),D.onload=Y=>{try{k=JSON.parse(D.result)}catch(ue){return console.warn("File Load Error - File contents is invalid JSON",ue),void l(ue)}this.setData(k).then(ue=>{s(ue)}).catch(ue=>{s(ue)})},D.onerror=Y=>{console.warn("File Load Error - Unable to read file"),l()}}),f.click()})}setData(r,s,l){if(this.initialized)return this.dataLoader.load(r,s,l,!1);console.warn("setData failed - table not yet initialized. To set initial data please use the 'data' property in the table constructor.")}clearData(){this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(r){return this.rowManager.getData(r)}getDataCount(r){return this.rowManager.getDataCount(r)}replaceData(r,s,l){if(this.initialized)return this.dataLoader.load(r,s,l,!0,!0);console.warn("replaceData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateData(r){var s=0;if(this.initialized)return new Promise((l,f)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?r.forEach(y=>{var T=this.rowManager.findRow(y[this.options.index]);T&&(s++,T.updateData(y).then(()=>{--s||l()}))}):(console.warn("Update Error - No data provided"),f("Update Error - No data provided"))});console.warn("updateData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}addData(r,s,l){if(this.initialized)return new Promise((f,y)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?this.rowManager.addRows(r,s,l).then(T=>{var D=[];T.forEach(function(k){D.push(k.getComponent())}),f(D)}):(console.warn("Update Error - No data provided"),y("Update Error - No data provided"))});console.warn("addData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddData(r){var s=[],l=0;if(this.initialized)return new Promise((f,y)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?r.forEach(T=>{var D=this.rowManager.findRow(T[this.options.index]);l++,D?D.updateData(T).then(()=>{l--,s.push(D.getComponent()),l||f(s)}):this.rowManager.addRows(T).then(k=>{l--,s.push(k[0].getComponent()),l||f(s)})}):(console.warn("Update Error - No data provided"),y("Update Error - No data provided"))});console.warn("updateOrAddData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRow(r){var s=this.rowManager.findRow(r);return s?s.getComponent():(console.warn("Find Error - No matching row found:",r),!1)}getRowFromPosition(r,s){var l=this.rowManager.getRowFromPosition(r,s);return l?l.getComponent():(console.warn("Find Error - No matching row found:",r),!1)}deleteRow(r){var s=[];Array.isArray(r)||(r=[r]);for(let l of r){let f=this.rowManager.findRow(l,!0);if(!f)return console.error("Delete Error - No matching row found:",l),Promise.reject("Delete Error - No matching row found");s.push(f)}return s.sort((l,f)=>this.rowManager.rows.indexOf(l)>this.rowManager.rows.indexOf(f)?1:-1),s.forEach(l=>{l.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(r,s,l){if(this.initialized)return"string"==typeof r&&(r=JSON.parse(r)),this.rowManager.addRows(r,s,l).then(f=>f[0].getComponent());console.warn("addRow failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddRow(r,s){var l=this.rowManager.findRow(r);return"string"==typeof s&&(s=JSON.parse(s)),l?l.updateData(s).then(()=>l.getComponent()):this.rowManager.addRows(s).then(f=>f[0].getComponent())}updateRow(r,s){var l=this.rowManager.findRow(r);return"string"==typeof s&&(s=JSON.parse(s)),l?l.updateData(s).then(()=>{resolve(l.getComponent())}):(console.warn("Update Error - No matching row found:",r),Promise.reject("Update Error - No matching row found"))}scrollToRow(r,s,l){var f=this.rowManager.findRow(r);return f?this.rowManager.scrollToRow(f,s,l):(console.warn("Scroll Error - No matching row found:",r),Promise.reject("Scroll Error - No matching row found"))}moveRow(r,s,l){var f=this.rowManager.findRow(r);f?f.moveToRow(s,l):console.warn("Move Error - No matching row found:",r)}getRows(r){if(this.initialized)return this.rowManager.getComponents(r);console.warn("getRows failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRowPosition(r,s){var l=this.rowManager.findRow(r);return l?this.rowManager.getRowPosition(l,s):(console.warn("Position Error - No matching row found:",r),!1)}setColumns(r){this.initialized?this.columnManager.setColumns(r):console.warn("setColumns failed - table not yet initialized. To set initial data please use the 'columns' property in the table constructor.")}getColumns(r){return this.columnManager.getComponents(r)}getColumn(r){var s=this.columnManager.findColumn(r);return s?s.getComponent():(console.warn("Find Error - No matching column found:",r),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(r){var s=this.columnManager.findColumn(r);if(!s)return console.warn("Column Show Error - No matching column found:",r),!1;s.show()}hideColumn(r){var s=this.columnManager.findColumn(r);if(!s)return console.warn("Column Hide Error - No matching column found:",r),!1;s.hide()}toggleColumn(r){var s=this.columnManager.findColumn(r);if(!s)return console.warn("Column Visibility Toggle Error - No matching column found:",r),!1;s.visible?s.hide():s.show()}addColumn(r,s,l){var f=this.columnManager.findColumn(l);return this.columnManager.addColumn(r,s,f).then(y=>y.getComponent())}deleteColumn(r){var s=this.columnManager.findColumn(r);return s?s.delete():(console.warn("Column Delete Error - No matching column found:",r),Promise.reject())}updateColumnDefinition(r,s){var l=this.columnManager.findColumn(r);return l?l.updateDefinition(s):(console.warn("Column Update Error - No matching column found:",r),Promise.reject())}moveColumn(r,s,l){var f=this.columnManager.findColumn(r),y=this.columnManager.findColumn(s);f?y?this.columnManager.moveColumn(f,y,l):console.warn("Move Error - No matching column found:",y):console.warn("Move Error - No matching column found:",r)}scrollToColumn(r,s,l){return new Promise((f,y)=>{var T=this.columnManager.findColumn(r);return T?this.columnManager.scrollToColumn(T,s,l):(console.warn("Scroll Error - No matching column found:",r),Promise.reject("Scroll Error - No matching column found"))})}redraw(r){this.initialized?(this.columnManager.redraw(r),this.rowManager.redraw(r)):console.warn("redraw failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}setHeight(r){this.options.height=isNaN(r)?r:r+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(r,s){this.externalEvents.subscribe(r,s)}off(r,s){this.externalEvents.unsubscribe(r,s)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}modExists(r,s){return!!this.modules[r]||(s&&console.error("Tabulator Module Not Installed: "+r),!1)}module(r){var s=this.modules[r];return s||console.error("Tabulator module not installed: "+r),s}}return g.defaultOptions=Kf,g})();new wh(_u),new wh(class extends _u{},Xf);let eg=(()=>{class g{constructor(){this.a=null,this.b=null,this.dataObject=[],this.objectsForGrid=[],this.stringsForGrid=[],this.hotInstance=null}get hot(){if(null!=this.hotInstance)return this.hotInstance;throw new Error("hot is null")}initGrid(r){_u.registerModule([Np,Sl,Pp,rp]),this.hotInstance=new _u(r,{columns:[{title:"Step",field:"id"}],layout:"fitColumns",clipboard:"copy",footerElement:"<div>\n        \x3c!-- <a href=\"javascript:{var event = new Event('TabCopy'); window.dispatchEvent(event);}\">Copy Clipboard</a>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href=\"javascript:{var event = new Event('TabDownload'); window.dispatchEvent(event);}\">CSV</a>\n        --\x3e\n        \n    </div>",placeholder:"please press execute button"})}AddStringToGrid(r){if(r.startsWith("{")&&r.endsWith("}"))try{var s=JSON.parse(r);return void this.objectsForGrid.push(s)}catch(y){}if(r.startsWith("[")&&r.endsWith("]"))try{for(var l=JSON.parse(r),f=0;f<l.length;f++)this.objectsForGrid.push(l[f]);return}catch(y){}this.stringsForGrid.push(r)}AddDataToGrid(r){return"string"==typeof r?(this.AddStringToGrid(null==r?void 0:r.toString()),void this.dataObject.push([null==r?void 0:r.toString()])):"object"==typeof r?(console.log("adding object to grid"),this.AddStringToGrid(JSON.stringify(r)),void this.dataObject.push([r])):(this.dataObject.push([r.ToString()]),void this.AddStringToGrid(r.toString()))}ClearDataGrid(){this.dataObject=[],this.objectsForGrid=[],this.stringsForGrid=[],null!=this.hot&&(this.hot.setColumns([{title:"Step",field:"id"},{title:"Value",field:"val"}]),this.hot.replaceData([]),this.hot.redraw(!0))}hasOwnProperty(r,s){return null!=r&&r.hasOwnProperty(s)}AddObjectToFinishGrid(){for(var r=[],s=this.objectsForGrid,l=0;l<s.length;l++)"string"==typeof(f=s[l])?r.push("_"):r.push(...Object.keys(f));var y=new Set(r);r=Array.from(y);var T=[...r],D=[];for(l=0;l<s.length;l++){for(var f=s[l],k={Nr:l+1},Y=0;Y<r.length;Y++){var ue=r[Y],Ie=this.goodNameForKey(ue);if(f&&this.hasOwnProperty(f,ue)){var We=f[ue];k[Ie]="object"==typeof We?JSON.stringify(We):We}else k[Ie]="string"==typeof f&&0===Y?f:""}D.push(k)}r.splice(0,0,"Nr"),T.splice(0,0,"Nr");var at=this.Headers(T);this.hot.setColumns(at),this.hot.replaceData(D)}Headers(r){return r.map(s=>({title:s,field:this.goodNameForKey(s),formatter:function(l,f,y){try{var T=l.getValue().toString();if(T.length<2)return T;if(T.startsWith("[")&&T.endsWith("]"))try{var D=JSON.parse(T),k=l.getRow().getData().Nr,ue=l.getColumn().getField()+"_"+k;return y(function(){new _u("#"+ue,{data:D,autoColumns:!0,layout:"fitDataFill"})}),"<div id='"+ue+"'>"+T+"</div>"}catch(Ie){return T}}catch(Ie){return T}return l.getValue()}}))}AddStringToFinishGrid(){for(var r=[],s=0;s<this.stringsForGrid.length;s++)r.push({Nr:s+1,Text:this.stringsForGrid[s]});var f=this.Headers(["Nr","Text"]);this.hot.setColumns(f),this.hot.replaceData(r)}FinishGrid(){this.objectsForGrid.length+this.stringsForGrid.length!=0&&(this.objectsForGrid.length>0?this.AddObjectToFinishGrid():this.AddStringToFinishGrid(),this.hot.redraw(!0))}goodNameForKey(r){var s=r;return s.replace(".","_")}copyClip(){this.hot.copyToClipboard()}copyCSV(){this.hot.download("csv","data.csv",{bom:!0})}}return g.\u0275fac=function(r){return new(r||g)},g.\u0275prov=Xe.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var pp=h(16335),fp=h(91083),tf=h(68260),nf=h(57261),Dh=h(43954),Mh=h(92181),tg=h(4834),oh=h(81125),rf=h(20773),Dd=h(8704);function sf(g,a){1&g&&Xe._UZ(0,"mat-spinner")}const ig=function(g){return["/","automation","loadexample",g]};function ng(g,a){if(1&g&&(Xe.TgZ(0,"a",17),Xe._uU(1),Xe.qZA()),2&g){const r=Xe.oxw();Xe.Q6J("routerLink",Xe.VKq(2,ig,r.mustLoadDemoBlock)),Xe.xp6(1),Xe.hij("Direct link ",r.mustLoadDemoBlock,"")}}function Md(g,a){if(1&g){const r=Xe.EpF();Xe.TgZ(0,"ngx-monaco-editor",19),Xe.NdJ("ngModelChange",function(l){return Xe.CHM(r),Xe.oxw(2).showInner=l}),Xe.qZA()}if(2&g){const r=Xe.oxw(2);Xe.Q6J("options",r.editorPlain)("ngModel",r.showInner)}}function rg(g,a){if(1&g){const r=Xe.EpF();Xe.TgZ(0,"ngx-monaco-editor",19),Xe.NdJ("ngModelChange",function(l){return Xe.CHM(r),Xe.oxw(2).showJSCode=l}),Xe.qZA()}if(2&g){const r=Xe.oxw(2);Xe.Q6J("options",r.editorJSOptions)("ngModel",r.showJSCode)}}function og(g,a){if(1&g){const r=Xe.EpF();Xe.TgZ(0,"ngx-monaco-editor",19),Xe.NdJ("ngModelChange",function(l){return Xe.CHM(r),Xe.oxw(2).showXMLCode=l}),Xe.qZA()}if(2&g){const r=Xe.oxw(2);Xe.Q6J("options",r.editorXMLOptions)("ngModel",r.showXMLCode)}}function sg(g,a){if(1&g){const r=Xe.EpF();Xe.TgZ(0,"ngx-monaco-editor",19),Xe.NdJ("ngModelChange",function(l){return Xe.CHM(r),Xe.oxw(2).showBlocksDefinition=l}),Xe.qZA()}if(2&g){const r=Xe.oxw(2);Xe.Q6J("options",r.editorJSOptions)("ngModel",r.showBlocksDefinition)}}function ag(g,a){if(1&g&&(Xe.TgZ(0,"mat-grid-tile"),Xe.YNc(1,Md,1,2,"ngx-monaco-editor",18),Xe.YNc(2,rg,1,2,"ngx-monaco-editor",18),Xe.YNc(3,og,1,2,"ngx-monaco-editor",18),Xe.YNc(4,sg,1,2,"ngx-monaco-editor",18),Xe.qZA()),2&g){const r=Xe.oxw();Xe.xp6(1),Xe.Q6J("ngIf",r.ShowOutput()),Xe.xp6(1),Xe.Q6J("ngIf",r.ShowCode()),Xe.xp6(1),Xe.Q6J("ngIf",r.ShowXML()),Xe.xp6(1),Xe.Q6J("ngIf",r.ShowBlocksDefinition())}}var Lo=(()=>{return(g=Lo||(Lo={}))[g.ShowNone=0]="ShowNone",g[g.ShowBlocksDefinition=1]="ShowBlocksDefinition",g[g.ShowXML=2]="ShowXML",g[g.ShowOutput=3]="ShowOutput",g[g.ShowCode=4]="ShowCode",g[g.Stop=100]="Stop",Lo;var g})();let gp=(()=>{class g{constructor(r,s,l,f,y,T,D){var k;this.tabulator=r,this.DetailsApp=s,this.loadDemo=l,this.ar=f,this.ta=y,this.snackBar=T,this.dialog=D,this.editorXMLOptions={theme:"vs-dark",language:"xml"},this.editorJSOptions={theme:"vs-dark",language:"javascript",lineNumbers:"on"},this.editorPlain={theme:"vs-dark",language:"plaintext",lineNumbers:"on"},this.code='function x() {\nconsole.log("Hello world!");\n}',this.showCodeAndXML=Lo.ShowNone,this.swaggerLoaded=0,this.demoWorkspace=null,this.mustLoadDemoBlock="",this.intro=W(),this.myId=0,this.fullTextData="",this.fullHtmlData="",this.myChart=null,this.step=0,this.swaggerData=[],this.showInner="",this.showXMLCode="",this.showJSCode="",this.showBlocksDefinition="",this.toolboxXML="",this.loadedCompletely=!1,this.myId=++g.id,this.ar.paramMap.subscribe(Y=>{this.mustLoadDemoBlock=Y.get("demoblock")}),this.ta.receiveData().subscribe(Y=>{"DisplayBlocklyComponent"==Y[0]&&this[Y[1]]()}),null===(k=this.DetailsApp.LocalAPI)||void 0===k||k.IsAlive().subscribe()}createIntro(){var r,s=null===(r=this.DetailsApp.settings)||void 0===r?void 0:r.tourSteps.map(l=>{var f;return{title:(null===(f=this.DetailsApp.settings)||void 0===f?void 0:f.title)||"Blockly Automation",intro:l.text,element:document.querySelector(l.query)||void 0}});this.intro.setOptions({exitOnEsc:!0,showStepNumbers:!0,showButtons:!0,doneLabel:"Exit",skipLabel:"Skip",showProgress:!0,steps:s}).start()}clearOutput(){this.step=0,this.showInner="",this.tabulator.ClearDataGrid(),null!=this.myChart&&this.myChart.destroy();var r=this.theHtmlOutput();r.innerHTML="",this.fullHtmlData="",(r=this.theTextOutput()).innerText="",this.fullTextData=""}ShowText(r){if(null!=r){var s=r.toString();this.fullTextData+=s,this.theTextOutput().innerText=this.fullTextData}}finishHTMLOutput(){this.theHtmlOutput().innerHTML=this.fullHtmlData}ShowHTML(r){if(null!=r){var s=r.toString();this.fullHtmlData+=s,this.theHtmlOutput().innerHTML+=s}}theHtmlOutput(){return document.getElementById("htmlOutput"+this.myId)}theTextOutput(){return document.getElementById("htmlText"+this.myId)}ShowChart(r){var s,l=null===(s=document.getElementById("barchart"+this.myId))||void 0===s?void 0:s.getContext("2d");if(null!=l)try{var f=null==r?void 0:r.toString(),y=JSON.parse(f);y&&y.type&&(this.myChart=new $i(l,y),console.log("make chart",r))}catch(T){this.myChart=null}else console.log("not canvas available for chart!")}RunCode(){this.snackBar.open("Program start","Executing...");var r=this,s=this.run.latestCode,l=this.showJSCode;r.CalculateXMLAndCode(),this.run=w.interpreterHelper.createInterpreter(this.demoWorkspace,t),this.clearOutput(),this.showCodeAndXML=Lo.ShowOutput,this.showInner='{ "step_start": "start program",',s!=l&&(window.confirm("Do you want to run the code modified by you ?")&&(s=l),this.showJSCode=l),this.run.runCode((y,T)=>{try{return new Interpreter(y,T)}catch(D){r.CalculateXMLAndCode(),window.alert("please copy the left output and report there is an error at "+JSON.stringify(D)),this.showCodeAndXML=Lo.ShowCode}},y=>{r.step++,r.showInner+=`\n           \n"step_${r.step}" : "${y}",`,r.tabulator.AddDataToGrid(y),r.ShowChart(y),r.ShowHTML(y),r.ShowText(y)},()=>{this.snackBar.open("Program end","Done!",{duration:3e3}),r.showInner+='\n "step_end" : "program executed; see results below"\n}',this.tabulator.FinishGrid(),this.finishHTMLOutput()},s)}ShowLocalAPI(r){var s;null===(s=this.DetailsApp.LocalAPI)||void 0===s||s.LoadBlockContent(r).subscribe(l=>{var f=p.Xml.textToDom(l);null!=this.demoWorkspace&&(p.Xml.clearWorkspaceAndLoadFromXml(f,this.demoWorkspace),window.alert("please press execute button"))})}ShowDemo(r){this.mustLoadDemoBlock=r,this.loadDemo.getDemoBlock(r).subscribe(s=>{var l=p.Xml.textToDom(s);if(null!=this.demoWorkspace){try{p.Xml.clearWorkspaceAndLoadFromXml(l,this.demoWorkspace)}catch(f){return(null==r?void 0:r.toString().indexOf("docker"))>-1?void(window.confirm("This demo must run with Desktop App.\nDo you want to go to download page?")&&window.open("http://ba.serviciipeweb.ro/")):void window.alert("error"+r)}window.alert("please press execute button")}})}registerSwaggerBlocksObjects(r,s){return s.fieldXMLObjects.map(f=>p.Xml.textToDom(f))}registerSwaggerBlocksAPIControllers(r,s,l){return s.findfieldXMLFunctions(l).map(y=>p.Xml.textToDom(y.gui))}registerSwaggerBlocksAPIAll(r,s){return s.fieldXMLFunctions.map(f=>p.Xml.textToDom(f.gui))}ngOnInit(){}ngAfterViewInit(){this.StartRegister(),(0,xi.R)(window,"TabDownload").subscribe(r=>this.tabulator.copyCSV()),(0,xi.R)(window,"TabCopy").subscribe(r=>this.tabulator.copyClip())}ShowBlocks(){this.dialog.open(Ip,{}).afterClosed().subscribe(s=>{if(console.log("The dialog was closed with ",s),s){var l=s;switch(l.Source){case"Demos":try{console.log("into try"),this.ShowDemo(s.id)}catch(f){window.alert(s.id),window.alert(f)}break;case"LocalAPI":this.ShowLocalAPI(s.id);break;default:window.alert(l.Source)}}})}LoadSwagger(){var r=this,l=(new N.parseData(""),window.prompt("Swagger/OpenAPI ? "));if(l){if(l.endsWith(".html")||l.endsWith(".htm"))return void window.alert("Swagger should end with .json - see source of html page");r.LoadSwaggerFromUrl(l).then(f=>{f.hasError?window.alert("error loading local api"):(r.addToToolboxSwagger(f,this),window.alert("loaded successfully"))})}}LoadSwaggerFromUrl(r,s){var l=this;return(0,v.Z)(function*(){var f=new N.parseData(r),y=yield f.ParseSwagger();return y.name=s||r,y.hasError?y:l.LoadSwaggerFromAPI(y)})()}LoadSwaggerFromAPI(r){if(r.hasError)return console.error("error in swagger",r),r;this.swaggerData.push(r);for(var s=0;s<r.GenerateBlocks.length;s++)(0,r.GenerateBlocks[s])(p.Blocks,t);for(s=0;s<r.GenerateFunctions.length;s++)(0,r.GenerateFunctions[s])(p.Blocks,t);return r.metaBlocks()(p.Blocks,t),r}StartRegister(){var r=this;return(0,v.Z)(function*(){var s=r.DetailsApp.swaggersDict,l=new Map;s.forEach((k,Y)=>{k.hasError||l.set(Y,r.LoadSwaggerFromAPI(k))});var f=[...Array(50).keys()].map(k=>r.CategorySwaggerHidden(k)).join("");const y=document.getElementById("steps"+r.myId);if(null!=y){r.tabulator.initGrid(y),b.filterBlocks.definitionBlocks(p.Blocks,t),b.waitBlocks.definitionBlocks(p.defineBlocksWithJsonArray,t),b.xhrBlocks.definitionBlocks(p.Blocks,t),b.propBlocks.definitionBlocks(p.Blocks,t),b.guiBlocks.definitionBlocks(p.Blocks,t),b.convertersBlocks.definitionBlocks(p.Blocks,t),b.exportFileBlock.definitionBlocks(p.Blocks,t),b.createObjectBlocks.definitionBlocks(p.Blocks,t,p.Extensions,p.Mutator),b.currentDateBlock.definitionBlocks(p.Blocks,t),b.dateFromTextBlock.definitionBlocks(p.Blocks,t),b.waitBlocks.definitionBlocks(p.Blocks,t),b.commentBlock.definitionBlocks(p.Blocks,t),b.trycatchFinBlock.definitionBlocks(p.Blocks,t),b.auth0Blocks.definitionBlocks(p.Blocks,t),b.windowsCreds.definitionBlocks(p.Blocks,t),b.chartBlock.definitionBlocks(p.Blocks,t),b.emailBlocks.definitionBlocks(p.Blocks,t),b.htmlblocks.definitionBlocks(p.Blocks,t),b.HTMLParserBlocks.definitionBlocks(p.Blocks,t),b.ttsBlock.definitionBlocks(p.Blocks,t),b.pianoBlock.definitionBlocks(p.Blocks,t);var T=r.DetailsApp.customCategories,D=[b.defaultBlocks.generalBlocks(),` \n        <category name='Blockly Advanced'>\n        <category id="Audio" name="Audio">\n        ${b.ttsBlock.fieldXML()}\n        ${b.pianoBlock.fieldXML()}\n        </category>  \n            ${b.filterBlocks.fieldXML()}\n                \n                ${b.auth0Blocks.fieldXML()}\n                <category id="catConverters"  name="Converters">\n                ${b.convertersBlocks.fieldXML()}\n              </category>    \n              <category id="catDates"  name="Dates">\n          ${b.currentDateBlock.fieldXML()}\n          ${b.dateFromTextBlock.fieldXML()}\n          ${b.waitBlocks.fieldXML()}\n        </category>\n        <category id="catEmail"  name="Email">\n        ${b.emailBlocks.fieldXML()}\n      </category>\n\n        <category id="catExporter"  name="Exporter">\n        ${b.exportFileBlock.fieldXML()}\n      </category>\n              <category id="catGUI" name="GUI">\n              ${b.guiBlocks.fieldXML()}\n              ${b.chartBlock.fieldXML()}\n              </category>\n              <category id="catHTML" name="HTML">\n              <category name="GenHTML" id="Generate">\n              ${b.htmlblocks.fieldXML()}\n              </category>\n              <category name="Parser" id="parseHTML">\n              ${b.HTMLParserBlocks.fieldXML()}\n              </category>\n              </category>\n              <category name="Objects" id="objects">\n              ${b.propBlocks.fieldXML()}\n              ${b.createObjectBlocks.fieldXML()}\n              \n              </category>\n              <category id="XHR" name="Request">\n            ${b.xhrBlocks.fieldXML()}\n            ${b.windowsCreds.fieldXML()}\n            </category>\n        `,`<category id="catTimers"  name="Timers">\n          ${b.waitBlocks.fieldXML()}\n        </category>`,`  <category id="programming" name="Programming">\n        ${b.trycatchFinBlock.fieldXML()}\n        ${b.commentBlock.fieldXML()}\n          </category>\n        \n      `,`</category>\n      ${T}\n      \n      <category name="Swagger" id="catSwagger" expanded='false' >          \n          ${f}\n        </category> \n       \n        `];r.initialize(D)}else window.alert("gridElement is null")})()}SaveBlocks(){w.saveBlocksUrl.saveState(p.Xml,this.demoWorkspace,this.myId)}ShowBlocksDefinition(){return this.showCodeAndXML===Lo.ShowBlocksDefinition}ShowSelection(){return Lo[this.showCodeAndXML]}ShowSomething(){return this.showCodeAndXML!==Lo.ShowNone}ShowOutput(){return this.showCodeAndXML===Lo.ShowOutput}ShowCode(){return this.showCodeAndXML===Lo.ShowCode}ShowXML(){return this.showCodeAndXML===Lo.ShowXML}CalculateXMLAndCode(){var r=p.Xml.workspaceToDom(this.demoWorkspace,!0),s=p.Xml.domToPrettyText(r);this.showJSCode=this.run.latestCode,this.showXMLCode=s;var l=this.parseTextForBlocks(s);this.showBlocksDefinition=l.map(f=>{try{return`Blockly.Blocks['${f}']={ init: \n`+p.Blocks[f].init.toString()+`};\n};\nBlockly.JavaScript['${f}']=`+t[f].toString()+";"}catch(D){return console.error("parse definition : "+f,D),"//Error for "+f}}).join("\n")}parseTextForBlocks(r){var s=[];if(r.indexOf('<block type="')>=0)for(var l=r.split('<block type="'),f=1;f<l.length;f++){var y=l[f].split('"')[0];s.push(y)}return s}ShowInnerWorkings(){null!=this.demoWorkspace?(this.showCodeAndXML++,this.ShowSelection()||(this.showCodeAndXML=Lo.ShowNone,setTimeout(s=>{p.svgResize(s)},1e3,this.demoWorkspace)),this.CalculateXMLAndCode()):window.alert("demoWorkspace is null")}Download(){var r=window.prompt("Name?","blocks.txt");null!=r&&w.saveLoad.DownloadBlocks(p.Xml,this.demoWorkspace,r)}changeListener(r){this.readThis(r.target)}readThis(r){var s=r.files[0],l=new FileReader,f=this;l.onloadend=function(y){w.saveLoad.LoadFile(p.Xml,f.demoWorkspace,l.result),f.run.resetInterpreter()},l.readAsText(s)}CategorySwaggerHidden(r){return`<category name='swagger_hidden_${r}' hidden='true' >${r}</category>`}SaveToLocalAPI(){var r,s,l;if(0==((null===(s=null===(r=this.DetailsApp)||void 0===r?void 0:r.LocalAPI)||void 0===s?void 0:s.WasAlive)||!1))return this.LoadLocalAPI(),void window.alert("local api it is not yet loaded - please try again after loading");var f=p.Xml.workspaceToDom(this.demoWorkspace,!0),y=p.Xml.domToPrettyText(f),T=new R.q,D=window.prompt("name of the blocks?");null!=D&&(T.id=D,T.blocks="",T.categories="",T.description="",null===(l=this.DetailsApp.LocalAPI)||void 0===l||l.SaveBlock(T,y).subscribe(k=>{console.log("number blocks",k),window.alert("saved !")}))}LoadLocalAPI(){var r,s,l=this;return null===(s=null===(r=l.DetailsApp.LocalAPI)||void 0===r?void 0:r.IsAlive())||void 0===s?void 0:s.pipe((0,Xn.K)(f=>{var y;throw window.alert(`cannot load ${null===(y=l.DetailsApp.LocalAPI)||void 0===y?void 0:y.urL}`),f})).subscribe(f=>{var y;if(!f){if(!window.confirm("LocalAPI is not alive.\n Do you want to downlod and run ?"))return;l.DetailsApp.LocalAPI.download()}var T=(null===(y=l.DetailsApp.LocalAPI)||void 0===y?void 0:y.urL)||"";l.LoadSwaggerFromUrl(T+="swagger/v1/swagger.json").then(D=>{D.hasError?window.alert("error loading local api"):(D.name="LocalAPI",l.addToToolboxSwagger(D,this),window.alert("loaded successfully"))})})}initialize(r){var s,l,f,y;const T=document.getElementById("blocklyDiv"+this.myId);if(null!=T){var D=r.map(We=>`<sep></sep>${We}`);this.toolboxXML=`<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox-simple" style="display: none">    \n    ${D}\n    </xml>`,this.demoWorkspace=p.inject(T,{readOnly:!1,media:"media/",trashcan:!0,horizontalLayout:!1,move:{scrollbars:!0,drag:!0,wheel:!0},zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2,pinch:!0},toolbox:this.toolboxXML}),new u(this.demoWorkspace).init();var Y=this;if(((null===(l=null===(s=this.DetailsApp.settings)||void 0===s?void 0:s.startBlocks)||void 0===l?void 0:l.length)||0)>0)try{var ue=((null===(f=this.DetailsApp.settings)||void 0===f?void 0:f.startBlocks)||[]).join("\n"),Ie=p.Xml.textToDom(ue);p.Xml.clearWorkspaceAndLoadFromXml(Ie,this.demoWorkspace)}catch(We){console.error("error when load default blocks",We)}(null===(y=this.DetailsApp.LocalAPI)||void 0===y?void 0:y.WasAlive)&&this.LoadSwaggerFromUrl(this.DetailsApp.LocalAPI.urL+"swagger/v1/swagger.json","LocalAutomation"),window.setTimeout(Y.afterTimeout,2e3,this),this.run=w.interpreterHelper.createInterpreter(this.demoWorkspace,t),Y=this,this.demoWorkspace.addChangeListener(function(We){We.isUiEvent||(Y.run.resetInterpreter(),Y.run.generateCodeAndLoadIntoInterpreter(),Y.CalculateXMLAndCode())})}else window.alert("blocklyDiv is null")}restoreBlocks(){w.saveBlocksUrl.restoreState(p.Xml,this.demoWorkspace,this.myId)}addToToolboxSwagger(r,s){var l,f=r.findCategSwaggerFromPaths().sort().map(We=>`<category name='${We}' custom='func_${r.name}_${We}'></category>`).join("\n"),y=(null==s?void 0:s.CategorySwaggerHidden(null==s?void 0:s.swaggerLoaded))||"",T=s.toolboxXML,D=`<category name='${r.name}'>\n<category name='API' id='func_${r.name}'>\n${f}\n</category>\n${r.categSwagger()}\n\n<category name='meta' id='meta_${r.name}'>\n<block type='meta_swagger_controllers_${r.name}'></block>\n<block type='meta_swagger_controllers_actions_${r.name}'></block>\n</category>\n\n</category>\n`;if(T=T.replace(y,D),s.swaggerLoaded++,s.toolboxXML=T,null===(l=null==s?void 0:s.demoWorkspace)||void 0===l||l.updateToolbox(T),null!=(null==s?void 0:s.demoWorkspace)){var Y="objects_"+r.nameCategSwagger(),ue="AllApi_"+r.nameCategSwagger(),Ie=r;s.demoWorkspace.registerToolboxCategoryCallback(Y,We=>s.registerSwaggerBlocksObjects(We,Ie)),s.demoWorkspace.registerToolboxCategoryCallback(ue,We=>s.registerSwaggerBlocksAPIAll(We,Ie)),r.findCategSwaggerFromPaths().forEach(We=>{var at;null===(at=null==s?void 0:s.demoWorkspace)||void 0===at||at.registerToolboxCategoryCallback(`func_${r.name}_${We}`,yt=>s.registerSwaggerBlocksAPIControllers(yt,r,We))})}}afterTimeout(r){var s,l,f;if(r.loadedCompletely=!0,null!=(null==r?void 0:r.swaggerData))if(r.toolboxXML=r.toolboxXML.replace("Swagger",`Swagger(${r.swaggerData.length})`),r.swaggerData.forEach(k=>{r.addToToolboxSwagger(k,r)}),null!=(null==r?void 0:r.mustLoadDemoBlock))r.ShowDemo(null==r?void 0:r.mustLoadDemoBlock);else{if(((null===(l=null===(s=r.DetailsApp.settings)||void 0===s?void 0:s.startBlocks)||void 0===l?void 0:l.length)||0)>0)try{var T=((null===(f=r.DetailsApp.settings)||void 0===f?void 0:f.startBlocks)||[]).join("\n");if((null==T?void 0:T.length)>62){var D=p.Xml.textToDom(T);p.Xml.clearWorkspaceAndLoadFromXml(D,r.demoWorkspace)}}catch(k){console.log("error when load default blocks",k)}r.restoreBlocks()}}}return g.id=0,g.\u0275fac=function(r){return new(r||g)(Xe.Y36(eg),Xe.Y36(mo.d),Xe.Y36(pp.F),Xe.Y36(fp.gz),Xe.Y36(tf.v),Xe.Y36(nf.ux),Xe.Y36(xs.uw))},g.\u0275cmp=Xe.Xpm({type:g,selectors:[["app-display-blockly"]],decls:79,vars:14,consts:[[4,"ngIf"],["rowHeight","1:1",3,"cols"],[2,"display","inline-block","height","100%","width","100%"],[2,"display","inline-block","height","5%","width","100%"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","id","downloadBlocks","color","primary",3,"matMenuTriggerFor"],["menuSave","matMenu"],[3,"inset"],["id","downloadBlocks","mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"color","click"],["mat-raised-button","","color","warn","id","runButton",3,"click"],["type","file",3,"change"],["mat-raised-button","","id","demos","color","accent",3,"click"],["target","_blank","mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[2,"display","inline-block","height","100%","width","100%",3,"id"],[3,"id"],["width","800","height","450",3,"id"],["target","_blank","mat-raised-button","","color","primary",3,"routerLink"],["style","display: inline-block; height: 100%; width: 100%",3,"options","ngModel","ngModelChange",4,"ngIf"],[2,"display","inline-block","height","100%","width","100%",3,"options","ngModel","ngModelChange"]],template:function(r,s){if(1&r&&(Xe.YNc(0,sf,1,0,"mat-spinner",0),Xe.TgZ(1,"mat-grid-list",1),Xe.TgZ(2,"mat-grid-tile-header"),Xe.TgZ(3,"div",2),Xe.TgZ(4,"div",3),Xe.TgZ(5,"button",4),Xe.NdJ("click",function(){return s.LoadSwagger()}),Xe.TgZ(6,"mat-icon"),Xe._uU(7,"file_upload"),Xe.qZA(),Xe._uU(8," Load Swagger/OpenAPI "),Xe.qZA(),Xe._uU(9," \xa0 "),Xe.TgZ(10,"button",5),Xe.TgZ(11,"mat-icon"),Xe._uU(12,"save"),Xe.qZA(),Xe._uU(13," Save => "),Xe.qZA(),Xe.TgZ(14,"mat-menu",null,6),Xe.TgZ(16,"button",4),Xe.NdJ("click",function(){return s.SaveBlocks()}),Xe.TgZ(17,"mat-icon"),Xe._uU(18,"web"),Xe.qZA(),Xe._uU(19," Persist in browser "),Xe.qZA(),Xe._UZ(20,"mat-divider",7),Xe.TgZ(21,"button",8),Xe.NdJ("click",function(){return s.Download()}),Xe.TgZ(22,"mat-icon"),Xe._uU(23,"download"),Xe.qZA(),Xe._uU(24," Download blocks "),Xe.qZA(),Xe._UZ(25,"mat-divider",7),Xe.TgZ(26,"button",9),Xe.NdJ("click",function(){return s.SaveToLocalAPI()}),Xe.TgZ(27,"mat-icon"),Xe._uU(28,"save"),Xe.qZA(),Xe._uU(29," Save Local "),Xe.qZA(),Xe.qZA(),Xe._uU(30," \xa0 "),Xe.TgZ(31,"button",10),Xe.NdJ("click",function(){return s.RunCode()}),Xe.TgZ(32,"mat-icon"),Xe._uU(33,"play_arrow"),Xe.qZA(),Xe._uU(34," Execute "),Xe.qZA(),Xe._uU(35," \xa0 \xa0 "),Xe.TgZ(36,"input",11),Xe.NdJ("change",function(f){return s.changeListener(f)}),Xe.qZA(),Xe.TgZ(37,"button",4),Xe.NdJ("click",function(){return s.ShowInnerWorkings()}),Xe.TgZ(38,"mat-icon"),Xe._uU(39,"code"),Xe.qZA(),Xe._uU(40),Xe.qZA(),Xe.TgZ(41,"button",12),Xe.NdJ("click",function(){return s.ShowBlocks()}),Xe.TgZ(42,"mat-icon"),Xe._uU(43,"list"),Xe.qZA(),Xe._uU(44," Load Blocks "),Xe.qZA(),Xe.YNc(45,ng,2,4,"a",13),Xe.qZA(),Xe.qZA(),Xe.qZA(),Xe.TgZ(46,"mat-grid-tile"),Xe._UZ(47,"div",14),Xe.qZA(),Xe.YNc(48,ag,5,4,"mat-grid-tile",0),Xe.qZA(),Xe.TgZ(49,"mat-accordion"),Xe.TgZ(50,"mat-expansion-panel"),Xe.TgZ(51,"mat-expansion-panel-header"),Xe.TgZ(52,"mat-panel-title"),Xe._uU(53," Output Grid "),Xe.qZA(),Xe.TgZ(54,"mat-panel-description"),Xe._uU(55," Click to see grid of output values "),Xe.qZA(),Xe.qZA(),Xe._UZ(56,"div",15),Xe.qZA(),Xe.TgZ(57,"mat-expansion-panel"),Xe.TgZ(58,"mat-expansion-panel-header"),Xe.TgZ(59,"mat-panel-title"),Xe._uU(60," Chart "),Xe.qZA(),Xe.TgZ(61,"mat-panel-description"),Xe._uU(62," Click to see chart of output values "),Xe.qZA(),Xe.qZA(),Xe.TgZ(63,"p"),Xe._UZ(64,"canvas",16),Xe.qZA(),Xe.qZA(),Xe.TgZ(65,"mat-expansion-panel"),Xe.TgZ(66,"mat-expansion-panel-header"),Xe.TgZ(67,"mat-panel-title"),Xe._uU(68," HTML "),Xe.qZA(),Xe.TgZ(69,"mat-panel-description"),Xe._uU(70," Click to see output as HTML "),Xe.qZA(),Xe.qZA(),Xe._UZ(71,"div",15),Xe.qZA(),Xe.TgZ(72,"mat-expansion-panel"),Xe.TgZ(73,"mat-expansion-panel-header"),Xe.TgZ(74,"mat-panel-title"),Xe._uU(75," Text "),Xe.qZA(),Xe.TgZ(76,"mat-panel-description"),Xe._uU(77," Click to see output as Text "),Xe.qZA(),Xe.qZA(),Xe._UZ(78,"div",15),Xe.qZA(),Xe.qZA()),2&r){const l=Xe.MAs(15);Xe.Q6J("ngIf",!s.loadedCompletely),Xe.xp6(1),Xe.Q6J("cols",s.ShowSomething()?2:1),Xe.xp6(9),Xe.Q6J("matMenuTriggerFor",l),Xe.xp6(10),Xe.Q6J("inset",!0),Xe.xp6(5),Xe.Q6J("inset",!0),Xe.xp6(1),Xe.Q6J("color",null!=s.DetailsApp.LocalAPI&&s.DetailsApp.LocalAPI.WasAlive?"primary":"warn"),Xe.xp6(14),Xe.hij(" ",s.ShowSelection()," "),Xe.xp6(5),Xe.Q6J("ngIf",null==s.mustLoadDemoBlock?null:s.mustLoadDemoBlock.length),Xe.xp6(2),Xe.Q6J("id","blocklyDiv"+s.myId),Xe.xp6(1),Xe.Q6J("ngIf",s.ShowSomething()),Xe.xp6(8),Xe.Q6J("id","steps"+s.myId),Xe.xp6(8),Xe.Q6J("id","barchart"+s.myId),Xe.xp6(7),Xe.Q6J("id","htmlOutput"+s.myId),Xe.xp6(7),Xe.Q6J("id","htmlText"+s.myId)}},directives:[ba.O5,Dh.Il,Dh.$H,Dh.jo,ya.lW,Zl.Hw,Mh.p6,Mh.VK,tg.d,Dh.DX,oh.pp,oh.ib,oh.yz,oh.yK,oh.u4,rf.$g,ya.zs,fp.yS,Dd.PG,En.JJ,En.On],styles:[".tabulator[_ngcontent-%COMP%]{font-size:12px;border:none}.tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]{font-weight:400;border-bottom:1px solid;border-bottom-color:#0000001f;color:#0000008a}.tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]   .tabulator-col[_ngcontent-%COMP%]{height:48px;background-color:#fff;border:none;padding:0 7px}.tabulator-row[_ngcontent-%COMP%]{border-bottom:1px solid;border-bottom-color:#0000001f;min-height:48px;vertical-align:middle}.tabulator-row[_ngcontent-%COMP%]   .tabulator-cell[_ngcontent-%COMP%]{padding:16px 7px;border-right:none;vertical-align:middle}.tabulator-row[_ngcontent-%COMP%]   .tabulator-cell[_ngcontent-%COMP%]:first-of-type, .tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]   .tabulator-col[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.tabulator-row.tabulator-row-even[_ngcontent-%COMP%]{background-color:#fff}"]}),g})()},16335:(P,H,h)=>{"use strict";h.d(H,{F:()=>o}),h(39646);var p=h(54004),t=h(18505),e=h(5e3),n=h(40520);let o=(()=>{class u{constructor(w){this.http=w}getDemoBlocks(){var w=(new Date).toISOString();return this.http.get(`assets/showUsage/demoBlocks/all.txt?${w}`,{responseType:"text"}).pipe((0,p.U)(R=>JSON.parse(R)))}getCustomCategories(){var w=(new Date).toISOString();return this.http.get(`assets/loadAtStartup/customCategories.txt?${w}`,{responseType:"text"}).pipe((0,p.U)(R=>R.toString()))}getSwaggerLinks(){var w=(new Date).toISOString();return this.http.get(`assets/loadAtStartup/swaggers.json?${w}`,{responseType:"text"}).pipe((0,p.U)(R=>JSON.parse(R)))}getDemoBlock(w){var R=(new Date).toISOString();return this.http.get(`assets/showUsage/demoBlocks/${w}.txt?${R}`,{responseType:"text"}).pipe((0,t.b)(W=>{}),(0,p.U)(W=>W.toString()))}}return u.\u0275fac=function(w){return new(w||u)(e.LFG(n.eN))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},13155:(P,H,h)=>{"use strict";var v=h(22313),p=h(5e3),t=h(93075),e=h(91083),n=h(15861),o=h(47423),u=h(63874),b=h(53251),w=h(69808);const R=["vcr"];function N(x,V){if(1&x&&(p.TgZ(0,"mat-icon",9),p._uU(1),p.qZA()),2&x){const _=p.oxw(2).$implicit;p.xp6(1),p.hij(" filter_",_+1,"")}}function W(x,V){1&x&&(p.TgZ(0,"span"),p._uU(1,"W:{{number+1}"),p.qZA())}function Z(x,V){if(1&x&&(p.YNc(0,N,2,1,"mat-icon",7),p.YNc(1,W,2,0,"span",8)),2&x){const _=p.oxw().$implicit;p.Q6J("ngIf",_<10),p.xp6(1),p.Q6J("ngIf",_>9)}}function K(x,V){}function ae(x,V){1&x&&(p.TgZ(0,"mat-tab",4),p.YNc(1,Z,2,2,"ng-template",5),p.YNc(2,K,0,0,"ng-template",null,6,p.W1O),p.qZA()),2&x&&p.Q6J("label","W:"+(V.$implicit+1))}let xe=(()=>{class x{constructor(_,M){this.fooInjector=_,this.resolver=M,this.data=[],this.selectedTabIndex=0,this.numbers=[0]}addTab(){this.numbers.push(this.numbers.length),this.selectedTabIndex=this.numbers.length-1}changeSelected(_){this.data.filter(M=>M==_).length>0||(this.data.push(_),this.loadBar(_).then(M=>{}))}ngAfterViewInit(){this.data.push(0),this.loadBar(0).then(_=>{})}loadBar(_){var M=this;return(0,n.Z)(function*(){var $;try{const kt=yield Promise.resolve().then(h.bind(h,12380)),hi=M.resolver.resolveComponentFactory(kt.DisplayBlocklyComponent);var Re=null===($=M.components)||void 0===$?void 0:$.get(_);null!=Re&&Re.createComponent(hi)}catch(kt){console.error("loading"+_,kt)}return _})()}ngOnInit(){}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(p.zs3),p.Y36(p._Vd))},x.\u0275cmp=p.Xpm({type:x,selectors:[["app-blockly-studio"]],viewQuery:function(_,M){if(1&_&&p.Gf(R,5,p.s_b),2&_){let $;p.iGM($=p.CRH())&&(M.components=$)}},decls:7,vars:2,consts:[["mat-icon-button","","color","primary",3,"click"],[3,"selectedIndex","selectedIndexChange"],[3,"label",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[3,"label"],["mat-tab-label",""],["vcr",""],["aria-hidden","false",4,"ngIf"],[4,"ngIf"],["aria-hidden","false"]],template:function(_,M){1&_&&(p.TgZ(0,"button",0),p.NdJ("click",function(){return M.addTab()}),p.TgZ(1,"mat-icon"),p._uU(2,"add_circle"),p.qZA(),p.qZA(),p.TgZ(3,"mat-tab-group",1),p.NdJ("selectedIndexChange",function(Re){return M.changeSelected(Re)}),p.YNc(4,ae,4,1,"mat-tab",2),p.qZA(),p.TgZ(5,"button",3),p.NdJ("click",function(){return M.addTab()}),p._uU(6,"Add"),p.qZA()),2&_&&(p.xp6(3),p.Q6J("selectedIndex",M.selectedTabIndex),p.xp6(1),p.Q6J("ngForOf",M.numbers))},directives:[o.lW,u.Hw,b.SP,w.sg,b.uX,b.uD,w.O5],styles:[""]}),x})();var fe=h(12380);const _e=[{path:"",redirectTo:"automation/main",pathMatch:"full"},{path:"automation/main",component:fe.DisplayBlocklyComponent},{path:"automation/studio",component:xe},{path:"automation/loadexample/:demoblock",component:fe.DisplayBlocklyComponent}];let Oe=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[e.Bz.forRoot(_e)],e.Bz]}),x})();var Be=h(33290),Ee=h(95113),ce=h(54004),q=h(77579),se=h(26063);class ne extends q.x{constructor(V=1/0,_=1/0,M=se.l){super(),this._bufferSize=V,this._windowTime=_,this._timestampProvider=M,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=_===1/0,this._bufferSize=Math.max(1,V),this._windowTime=Math.max(1,_)}next(V){const{isStopped:_,_buffer:M,_infiniteTimeWindow:$,_timestampProvider:Re,_windowTime:kt}=this;_||(M.push(V),!$&&M.push(Re.now()+kt)),this._trimBuffer(),super.next(V)}_subscribe(V){this._throwIfClosed(),this._trimBuffer();const _=this._innerSubscribe(V),{_infiniteTimeWindow:M,_buffer:$}=this,Re=$.slice();for(let kt=0;kt<Re.length&&!V.closed;kt+=M?1:2)V.next(Re[kt]);return this._checkFinalizedStatuses(V),_}_trimBuffer(){const{_bufferSize:V,_timestampProvider:_,_buffer:M,_infiniteTimeWindow:$}=this,Re=($?1:2)*V;if(V<1/0&&Re<M.length&&M.splice(0,M.length-Re),!$){const kt=_.now();let hi=0;for(let Pi=1;Pi<M.length&&M[Pi]<=kt;Pi+=2)hi=Pi;hi&&M.splice(0,hi+1)}}}var Pe=h(13099);let de=(()=>{class x{constructor(){this.title="",this.footer="",this.startBlocks=[],this.tourSteps=[],this.latestVersion="",this.localAPI=""}}return x.version="2021.12.26.2019",x})();var te=h(68260),ie=h(70925),Ge=h(30495),ve=h(90508),He=h(63191),ct=h(91159),Yt=h(54968),ht=h(56451),Bt=h(39300),Ht=h(69718),Kt=h(82722),vi=h(71884),qt=h(95698),Lt=h(68675),ri=h(78372),Ne=h(41777),_t=h(76360),Ke=h(15664),Je=h(50226);const we=["*"];function Le(x,V){if(1&x){const _=p.EpF();p.TgZ(0,"div",2),p.NdJ("click",function(){return p.CHM(_),p.oxw()._onBackdropClicked()}),p.qZA()}if(2&x){const _=p.oxw();p.ekj("mat-drawer-shown",_._isShowingBackdrop())}}function dt(x,V){1&x&&(p.TgZ(0,"mat-drawer-content"),p.Hsn(1,2),p.qZA())}const zt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],lt=["mat-drawer","mat-drawer-content","*"];function ze(x,V){if(1&x){const _=p.EpF();p.TgZ(0,"div",2),p.NdJ("click",function(){return p.CHM(_),p.oxw()._onBackdropClicked()}),p.qZA()}if(2&x){const _=p.oxw();p.ekj("mat-drawer-shown",_._isShowingBackdrop())}}function Ye(x,V){1&x&&(p.TgZ(0,"mat-sidenav-content",3),p.Hsn(1,2),p.qZA())}const gt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ze=["mat-sidenav","mat-sidenav-content","*"],ot={transformDrawer:(0,Ne.X$)("transform",[(0,Ne.SB)("open, open-instant",(0,Ne.oB)({transform:"none",visibility:"visible"})),(0,Ne.SB)("void",(0,Ne.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Ne.eR)("void => open-instant",(0,Ne.jt)("0ms")),(0,Ne.eR)("void <=> open, open-instant => void",(0,Ne.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ae=new p.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),St=new p.OlP("MAT_DRAWER_CONTAINER");let ci=(()=>{class x extends Ge.PQ{constructor(_,M,$,Re,kt){super($,Re,kt),this._changeDetectorRef=_,this._container=M}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(p.sBO),p.Y36((0,p.Gpc)(()=>li)),p.Y36(p.SBq),p.Y36(Ge.mF),p.Y36(p.R0b))},x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(_,M){2&_&&p.Udp("margin-left",M._container._contentMargins.left,"px")("margin-right",M._container._contentMargins.right,"px")},features:[p.qOj],ngContentSelectors:we,decls:1,vars:0,template:function(_,M){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),x})(),Zt=(()=>{class x{constructor(_,M,$,Re,kt,hi,Pi,Tn){this._elementRef=_,this._focusTrapFactory=M,this._focusMonitor=$,this._platform=Re,this._ngZone=kt,this._interactivityChecker=hi,this._doc=Pi,this._container=Tn,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new q.x,this._animationEnd=new q.x,this._animationState="void",this.openedChange=new p.vpe(!0),this._openedStream=this.openedChange.pipe((0,Bt.h)(Ui=>Ui),(0,ce.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Bt.h)(Ui=>Ui.fromState!==Ui.toState&&0===Ui.toState.indexOf("open")),(0,Ht.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Bt.h)(Ui=>!Ui),(0,ce.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Bt.h)(Ui=>Ui.fromState!==Ui.toState&&"void"===Ui.toState),(0,Ht.h)(void 0)),this._destroyed=new q.x,this.onPositionChanged=new p.vpe,this._modeChanged=new q.x,this.openedChange.subscribe(Ui=>{Ui?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Yt.R)(this._elementRef.nativeElement,"keydown").pipe((0,Bt.h)(Ui=>Ui.keyCode===ct.hY&&!this.disableClose&&!(0,ct.Vb)(Ui)),(0,Kt.R)(this._destroyed)).subscribe(Ui=>this._ngZone.run(()=>{this.close(),Ui.stopPropagation(),Ui.preventDefault()}))}),this._animationEnd.pipe((0,vi.x)((Ui,Jn)=>Ui.fromState===Jn.fromState&&Ui.toState===Jn.toState)).subscribe(Ui=>{const{fromState:Jn,toState:Zn}=Ui;(0===Zn.indexOf("open")&&"void"===Jn||"void"===Zn&&0===Jn.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(_){(_="end"===_?"end":"start")!=this._position&&(this._position=_,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(_){this._mode=_,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(_){this._disableClose=(0,He.Ig)(_)}get autoFocus(){const _=this._autoFocus;return null==_?"side"===this.mode?"dialog":"first-tabbable":_}set autoFocus(_){("true"===_||"false"===_)&&(_=(0,He.Ig)(_)),this._autoFocus=_}get opened(){return this._opened}set opened(_){this.toggle((0,He.Ig)(_))}_forceFocus(_,M){this._interactivityChecker.isFocusable(_)||(_.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{_.addEventListener("blur",()=>_.removeAttribute("tabindex")),_.addEventListener("mousedown",()=>_.removeAttribute("tabindex"))})),_.focus(M)}_focusByCssSelector(_,M){let $=this._elementRef.nativeElement.querySelector(_);$&&this._forceFocus($,M)}_takeFocus(){if(!this._focusTrap)return;const _=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(M=>{!M&&"function"==typeof this._elementRef.nativeElement.focus&&_.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(_){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,_):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var _;const M=null===(_=this._doc)||void 0===_?void 0:_.activeElement;return!!M&&this._elementRef.nativeElement.contains(M)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(_){return this.toggle(!0,_)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(_=!this.opened,M){_&&M&&(this._openedVia=M);const $=this._setOpen(_,!_&&this._isFocusWithinDrawer(),this._openedVia||"program");return _||(this._openedVia=null),$}_setOpen(_,M,$){return this._opened=_,_?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",M&&this._restoreFocus($)),this._updateFocusTrapState(),new Promise(Re=>{this.openedChange.pipe((0,qt.q)(1)).subscribe(kt=>Re(kt?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(p.SBq),p.Y36(Ke.qV),p.Y36(Ke.tE),p.Y36(ie.t4),p.Y36(p.R0b),p.Y36(Ke.ic),p.Y36(w.K0,8),p.Y36(St,8))},x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(_,M){1&_&&p.WFA("@transform.start",function(Re){return M._animationStarted.next(Re)})("@transform.done",function(Re){return M._animationEnd.next(Re)}),2&_&&(p.uIk("align",null),p.d8E("@transform",M._animationState),p.ekj("mat-drawer-end","end"===M.position)("mat-drawer-over","over"===M.mode)("mat-drawer-push","push"===M.mode)("mat-drawer-side","side"===M.mode)("mat-drawer-opened",M.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:we,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(_,M){1&_&&(p.F$t(),p.TgZ(0,"div",0),p.Hsn(1),p.qZA())},directives:[Ge.PQ],encapsulation:2,data:{animation:[ot.transformDrawer]},changeDetection:0}),x})(),li=(()=>{class x{constructor(_,M,$,Re,kt,hi=!1,Pi){this._dir=_,this._element=M,this._ngZone=$,this._changeDetectorRef=Re,this._animationMode=Pi,this._drawers=new p.n_E,this.backdropClick=new p.vpe,this._destroyed=new q.x,this._doCheckSubject=new q.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new q.x,_&&_.change.pipe((0,Kt.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),kt.change().pipe((0,Kt.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=hi}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(_){this._autosize=(0,He.Ig)(_)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(_){this._backdropOverride=null==_?null:(0,He.Ig)(_)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Lt.O)(this._allDrawers),(0,Kt.R)(this._destroyed)).subscribe(_=>{this._drawers.reset(_.filter(M=>!M._container||M._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Lt.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(_=>{this._watchDrawerToggle(_),this._watchDrawerPosition(_),this._watchDrawerMode(_)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,ri.b)(10),(0,Kt.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(_=>_.open())}close(){this._drawers.forEach(_=>_.close())}updateContentMargins(){let _=0,M=0;if(this._left&&this._left.opened)if("side"==this._left.mode)_+=this._left._getWidth();else if("push"==this._left.mode){const $=this._left._getWidth();_+=$,M-=$}if(this._right&&this._right.opened)if("side"==this._right.mode)M+=this._right._getWidth();else if("push"==this._right.mode){const $=this._right._getWidth();M+=$,_-=$}_=_||null,M=M||null,(_!==this._contentMargins.left||M!==this._contentMargins.right)&&(this._contentMargins={left:_,right:M},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(_){_._animationStarted.pipe((0,Bt.h)(M=>M.fromState!==M.toState),(0,Kt.R)(this._drawers.changes)).subscribe(M=>{"open-instant"!==M.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==_.mode&&_.openedChange.pipe((0,Kt.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(_.opened))}_watchDrawerPosition(_){!_||_.onPositionChanged.pipe((0,Kt.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,qt.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(_){_&&_._modeChanged.pipe((0,Kt.R)((0,ht.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(_){const M=this._element.nativeElement.classList,$="mat-drawer-container-has-open";_?M.add($):M.remove($)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(_=>{"end"==_.position?this._end=_:this._start=_}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(_=>_&&!_.disableClose&&this._canHaveBackdrop(_)).forEach(_=>_._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(_){return"side"!==_.mode||!!this._backdropOverride}_isDrawerOpen(_){return null!=_&&_.opened}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(Je.Is,8),p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(p.sBO),p.Y36(Ge.rL),p.Y36(Ae),p.Y36(_t.Qb,8))},x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-drawer-container"]],contentQueries:function(_,M,$){if(1&_&&(p.Suo($,ci,5),p.Suo($,Zt,5)),2&_){let Re;p.iGM(Re=p.CRH())&&(M._content=Re.first),p.iGM(Re=p.CRH())&&(M._allDrawers=Re)}},viewQuery:function(_,M){if(1&_&&p.Gf(ci,5),2&_){let $;p.iGM($=p.CRH())&&(M._userContent=$.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(_,M){2&_&&p.ekj("mat-drawer-container-explicit-backdrop",M._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[p._Bn([{provide:St,useExisting:x}])],ngContentSelectors:lt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(_,M){1&_&&(p.F$t(zt),p.YNc(0,Le,1,2,"div",0),p.Hsn(1),p.Hsn(2,1),p.YNc(3,dt,2,0,"mat-drawer-content",1)),2&_&&(p.Q6J("ngIf",M.hasBackdrop),p.xp6(3),p.Q6J("ngIf",!M._content))},directives:[w.O5,ci],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),x})(),Fi=(()=>{class x extends ci{constructor(_,M,$,Re,kt){super(_,M,$,Re,kt)}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(p.sBO),p.Y36((0,p.Gpc)(()=>Ei)),p.Y36(p.SBq),p.Y36(Ge.mF),p.Y36(p.R0b))},x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(_,M){2&_&&p.Udp("margin-left",M._container._contentMargins.left,"px")("margin-right",M._container._contentMargins.right,"px")},features:[p.qOj],ngContentSelectors:we,decls:1,vars:0,template:function(_,M){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),x})(),ui=(()=>{class x extends Zt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(_){this._fixedInViewport=(0,He.Ig)(_)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(_){this._fixedTopGap=(0,He.su)(_)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(_){this._fixedBottomGap=(0,He.su)(_)}}return x.\u0275fac=function(){let V;return function(M){return(V||(V=p.n5z(x)))(M||x)}}(),x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(_,M){2&_&&(p.uIk("align",null),p.Udp("top",M.fixedInViewport?M.fixedTopGap:null,"px")("bottom",M.fixedInViewport?M.fixedBottomGap:null,"px"),p.ekj("mat-drawer-end","end"===M.position)("mat-drawer-over","over"===M.mode)("mat-drawer-push","push"===M.mode)("mat-drawer-side","side"===M.mode)("mat-drawer-opened",M.opened)("mat-sidenav-fixed",M.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[p.qOj],ngContentSelectors:we,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(_,M){1&_&&(p.F$t(),p.TgZ(0,"div",0),p.Hsn(1),p.qZA())},directives:[Ge.PQ],encapsulation:2,data:{animation:[ot.transformDrawer]},changeDetection:0}),x})(),Ei=(()=>{class x extends li{}return x.\u0275fac=function(){let V;return function(M){return(V||(V=p.n5z(x)))(M||x)}}(),x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-sidenav-container"]],contentQueries:function(_,M,$){if(1&_&&(p.Suo($,Fi,5),p.Suo($,ui,5)),2&_){let Re;p.iGM(Re=p.CRH())&&(M._content=Re.first),p.iGM(Re=p.CRH())&&(M._allDrawers=Re)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(_,M){2&_&&p.ekj("mat-drawer-container-explicit-backdrop",M._backdropOverride)},exportAs:["matSidenavContainer"],features:[p._Bn([{provide:St,useExisting:x}]),p.qOj],ngContentSelectors:Ze,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(_,M){1&_&&(p.F$t(gt),p.YNc(0,ze,1,2,"div",0),p.Hsn(1),p.Hsn(2,1),p.YNc(3,Ye,2,0,"mat-sidenav-content",1)),2&_&&(p.Q6J("ngIf",M.hasBackdrop),p.xp6(3),p.Q6J("ngIf",!M._content))},directives:[w.O5,Fi,Ge.PQ],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),x})(),gi=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[w.ez,ve.BQ,ie.ud,Ge.ZD],Ge.ZD,ve.BQ]}),x})();const jt=["*",[["mat-toolbar-row"]]],oi=["*","mat-toolbar-row"],ut=(0,ve.pj)(class{constructor(x){this._elementRef=x}});let Wt=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275dir=p.lG2({type:x,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),x})(),ei=(()=>{class x extends ut{constructor(_,M,$){super(_),this._platform=M,this._document=$}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(p.SBq),p.Y36(ie.t4),p.Y36(w.K0))},x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-toolbar"]],contentQueries:function(_,M,$){if(1&_&&p.Suo($,Wt,5),2&_){let Re;p.iGM(Re=p.CRH())&&(M._toolbarRows=Re)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(_,M){2&_&&p.ekj("mat-toolbar-multiple-rows",M._toolbarRows.length>0)("mat-toolbar-single-row",0===M._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[p.qOj],ngContentSelectors:oi,decls:2,vars:0,template:function(_,M){1&_&&(p.F$t(jt),p.Hsn(0),p.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),x})(),Nt=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[ve.BQ],ve.BQ]}),x})();h(20449);var Me=h(4834);const re=["*"],et=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],vt=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Jt=(0,ve.Id)((0,ve.Kr)(class{})),Rt=(0,ve.Kr)(class{}),Ct=new p.OlP("MatList"),Xt=new p.OlP("MatNavList");let pi=(()=>{class x extends Jt{constructor(){super(...arguments),this._stateChanges=new q.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return x.\u0275fac=function(){let V;return function(M){return(V||(V=p.n5z(x)))(M||x)}}(),x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[p._Bn([{provide:Xt,useExisting:x}]),p.qOj,p.TTD],ngContentSelectors:re,decls:1,vars:0,template:function(_,M){1&_&&(p.F$t(),p.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),x})(),cn=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275dir=p.lG2({type:x,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),x})(),On=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275dir=p.lG2({type:x,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),x})(),uo=(()=>{class x extends Rt{constructor(_,M,$,Re){super(),this._element=_,this._isInteractiveList=!1,this._destroyed=new q.x,this._disabled=!1,this._isInteractiveList=!!($||Re&&"action-list"===Re._getListType()),this._list=$||Re;const kt=this._getHostElement();"button"===kt.nodeName.toLowerCase()&&!kt.hasAttribute("type")&&kt.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,Kt.R)(this._destroyed)).subscribe(()=>{M.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(_){this._disabled=(0,He.Ig)(_)}ngAfterContentInit(){(0,ve.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(Xt,8),p.Y36(Ct,8))},x.\u0275cmp=p.Xpm({type:x,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(_,M,$){if(1&_&&(p.Suo($,cn,5),p.Suo($,On,5),p.Suo($,ve.X2,5)),2&_){let Re;p.iGM(Re=p.CRH())&&(M._avatar=Re.first),p.iGM(Re=p.CRH())&&(M._icon=Re.first),p.iGM(Re=p.CRH())&&(M._lines=Re)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(_,M){2&_&&p.ekj("mat-list-item-disabled",M.disabled)("mat-list-item-avatar",M._avatar||M._icon)("mat-list-item-with-avatar",M._avatar||M._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[p.qOj],ngContentSelectors:vt,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(_,M){1&_&&(p.F$t(et),p.TgZ(0,"div",0),p._UZ(1,"div",1),p.Hsn(2),p.TgZ(3,"div",2),p.Hsn(4,1),p.qZA(),p.Hsn(5,2),p.qZA()),2&_&&(p.xp6(1),p.Q6J("matRippleTrigger",M._getHostElement())("matRippleDisabled",M._isRippleDisabled()))},directives:[ve.wG],encapsulation:2,changeDetection:0}),x})(),Hi=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[ve.uc,ve.si,ve.BQ,ve.us,w.ez],ve.uc,ve.BQ,ve.us,Me.t]}),x})();var hn=h(81125),Ln=h(92181);const kr=function(x){return["/","automation","loadexample",x]};function Xo(x,V){if(1&x&&(p.TgZ(0,"a",24),p.TgZ(1,"mat-icon"),p._uU(2," https "),p.qZA(),p._uU(3),p.qZA()),2&x){const _=V.index,M=V.$implicit;p.Q6J("routerLink",p.VKq(3,kr,M.id)),p.xp6(3),p.AsE(" ",_+1," ",M.description,"")}}function dr(x,V){if(1&x){const _=p.EpF();p.TgZ(0,"button",26),p.NdJ("click",function(){return p.CHM(_),p.oxw(),p.MAs(2).toggle()}),p.TgZ(1,"mat-icon",27),p._uU(2,"menu"),p.qZA(),p.qZA()}}function wr(x,V){if(1&x&&(p.TgZ(0,"span",28),p._uU(1),p.qZA()),2&x){const _=p.oxw();p.xp6(1),p.AsE(" ",_.version," => ",_.latestVersion," ")}}const Kn=function(){return["/","automation","studio"]},Pr=function(){return["/","automation","main"]};let $r=(()=>{class x{constructor(_,M,$){this.breakpointObserver=_,this.details=M,this.ta=$,this.demoBlocks=[],this.isHandset$=this.breakpointObserver.observe(Ee.u3.Handset).pipe((0,ce.U)(Re=>Re.matches||!0),function(x,V,_){let Re,kt=!1;return Re=1/0,(0,Pe.B)({connector:()=>new ne(Re,V,_),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:kt})}()),this.version=de.version,this.latestVersion="",this.title="Blockly Automation",this.footer="",this.standalone=!1}ngOnInit(){var _,M,$,Re,kt;this.latestVersion=null===(_=this.details.settings)||void 0===_?void 0:_.latestVersion,this.demoBlocks=this.details.demoBlocks.sort((hi,Pi)=>hi.description.localeCompare(Pi.description)),this.title=(null===($=null===(M=this.details)||void 0===M?void 0:M.settings)||void 0===$?void 0:$.title)||"Blockly Automation",this.footer=(null===(kt=null===(Re=this.details)||void 0===Re?void 0:Re.settings)||void 0===kt?void 0:kt.footer)||"",(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&(this.standalone=!0)}executeOnDisplayBlockly(_){this.ta.sendDataToServer("DisplayBlocklyComponent",_)}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(Ee.Yg),p.Y36(Be.d),p.Y36(te.v))},x.\u0275cmp=p.Xpm({type:x,selectors:[["app-primary-navig"]],decls:84,vars:27,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","/"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation","target","_blank"],["mat-list-item","","href","https://ignatandrei.github.io/BlocklyAutomation","target","_blank"],["mat-list-item","","target","_blank",3,"routerLink",4,"ngFor","ngForOf"],["color","primary",1,"nav-bar"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[3,"title"],[1,"example-spacer"],["mat-mini-fab","","color","primary",3,"click"],["id","download","mat-button","",3,"matMenuTriggerFor"],["download","matMenu"],["mat-list-item","",4,"ngIf"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseBlocklyAutomation.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseLin.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseWin.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseIISWin.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseLocalAPI.zip/","target","_blank"],["mat-list-item","","href","http://ba.serviciipeweb.ro/","target","_blank"],["mat-list-item","","href","https://www.microsoft.com/en-us/p/blocklyautomation/9mxnwjt6zpd0","target","_blank"],["mat-button","",3,"matMenuTriggerFor"],["examples","matMenu"],["mat-list-item","","target","_blank",3,"routerLink"],[1,"main-content"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-list-item",""]],template:function(_,M){if(1&_&&(p.TgZ(0,"mat-sidenav-container",0),p.TgZ(1,"mat-sidenav",1,2),p.ALo(3,"async"),p.ALo(4,"async"),p.ALo(5,"async"),p.TgZ(6,"mat-toolbar"),p.TgZ(7,"a",3),p._uU(8,"Menu"),p.qZA(),p.qZA(),p.TgZ(9,"mat-nav-list"),p.TgZ(10,"a",4),p.TgZ(11,"mat-icon"),p._uU(12," source "),p.qZA(),p._uU(13," Github"),p.qZA(),p._UZ(14,"mat-divider"),p.TgZ(15,"a",5),p.TgZ(16,"mat-icon"),p._uU(17," https "),p.qZA(),p._uU(18," Demo online"),p.qZA(),p._UZ(19,"mat-divider"),p.TgZ(20,"mat-expansion-panel"),p.TgZ(21,"mat-expansion-panel-header"),p.TgZ(22,"mat-panel-title"),p._uU(23),p.qZA(),p.qZA(),p.YNc(24,Xo,4,5,"a",6),p.qZA(),p.qZA(),p.qZA(),p.TgZ(25,"mat-sidenav-content"),p.TgZ(26,"mat-toolbar",7),p.YNc(27,dr,3,0,"button",8),p.ALo(28,"async"),p.TgZ(29,"span",9),p._uU(30),p.qZA(),p._UZ(31,"span",10),p.TgZ(32,"button",11),p.NdJ("click",function(){return M.executeOnDisplayBlockly("createIntro")}),p.TgZ(33,"mat-icon"),p._uU(34," help_outline "),p.qZA(),p.qZA(),p.TgZ(35,"button",12),p.TgZ(36,"mat-icon"),p._uU(37," file_download "),p.qZA(),p.qZA(),p.TgZ(38,"mat-menu",null,13),p.YNc(40,wr,2,2,"span",14),p.TgZ(41,"a",15),p._uU(42," Download HTML"),p.qZA(),p.TgZ(43,"a",16),p._uU(44," Download Linux"),p.qZA(),p.TgZ(45,"a",17),p._uU(46," Download Windows"),p.qZA(),p.TgZ(47,"a",18),p._uU(48," Download IIS"),p.qZA(),p.TgZ(49,"a",19),p._uU(50," Download LocalAPI"),p.qZA(),p.TgZ(51,"a",20),p._uU(52," Download WPF"),p.qZA(),p.TgZ(53,"a",21),p._uU(54," Store"),p.qZA(),p.qZA(),p.TgZ(55,"button",22),p.TgZ(56,"mat-icon"),p._uU(57," source "),p.qZA(),p.qZA(),p.TgZ(58,"mat-menu",null,23),p.TgZ(60,"a",24),p.TgZ(61,"mat-icon"),p._uU(62," star "),p.qZA(),p._uU(63,"Studio "),p.qZA(),p.TgZ(64,"a",24),p.TgZ(65,"mat-icon"),p._uU(66," star_half "),p.qZA(),p._uU(67,"Single "),p.qZA(),p.TgZ(68,"a",4),p.TgZ(69,"mat-icon"),p._uU(70," source "),p.qZA(),p._uU(71," Github"),p.qZA(),p._UZ(72,"mat-divider"),p.TgZ(73,"a",5),p.TgZ(74,"mat-icon"),p._uU(75," https "),p.qZA(),p._uU(76," Demo online"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(77,"div",25),p._UZ(78,"router-outlet"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(79,"footer"),p.TgZ(80,"small"),p._uU(81),p.qZA(),p.TgZ(82,"small"),p._uU(83),p.qZA(),p.qZA()),2&_){const $=p.MAs(39),Re=p.MAs(59);p.xp6(1),p.Q6J("mode",p.lcZ(4,19,M.isHandset$)?"over":"side")("opened",!1===p.lcZ(5,21,M.isHandset$)),p.uIk("role",p.lcZ(3,17,M.isHandset$)?"dialog":"navigation"),p.xp6(22),p.hij(" Demos ",M.demoBlocks.length," "),p.xp6(1),p.Q6J("ngForOf",M.demoBlocks),p.xp6(3),p.Q6J("ngIf",p.lcZ(28,23,M.isHandset$)),p.xp6(2),p.s9C("title",M.version),p.xp6(1),p.Oqu(M.title),p.xp6(5),p.Q6J("matMenuTriggerFor",$),p.xp6(5),p.Q6J("ngIf",M.version!=M.latestVersion),p.xp6(15),p.Q6J("matMenuTriggerFor",Re),p.xp6(5),p.Q6J("routerLink",p.DdM(25,Kn)),p.xp6(4),p.Q6J("routerLink",p.DdM(26,Pr)),p.xp6(17),p.Oqu(M.footer),p.xp6(2),p.lnq("",M.standalone?"standalone":"browser"," ",M.version," -> ",M.latestVersion,"")}},directives:[Ei,ui,ei,uo,e.yS,pi,u.Hw,Me.d,hn.ib,hn.yz,hn.yK,w.sg,Fi,w.O5,o.lW,Ln.p6,Ln.VK,e.lC],pipes:[w.Ov],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-content[_ngcontent-%COMP%]{height:97%;width:100%}.nav-bar[_ngcontent-%COMP%]{height:3%;width:100%}"]}),x})(),pn=(()=>{class x{constructor(_,M){var $,Re;this.titleService=_,this.title="AutoBlocklyApp",console.log(null===($=M.settings)||void 0===$?void 0:$.title),this.titleService.setTitle((null===(Re=M.settings)||void 0===Re?void 0:Re.title)||"")}}return x.\u0275fac=function(_){return new(_||x)(p.Y36(v.Dx),p.Y36(Be.d))},x.\u0275cmp=p.Xpm({type:x,selectors:[["app-root"]],decls:1,vars:0,template:function(_,M){1&_&&p._UZ(0,"app-primary-navig")},directives:[$r],styles:[""]}),x})();var jr=h(40520),ro=h(91079);let Jr=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[Ke.rt,ve.BQ],ve.BQ]}),x})();var Hn=h(91314),vn=h(99129);let yn=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[Hn.U8,ve.BQ,vn.eL],ve.BQ]}),x})(),Mo=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[ve.BQ,ve.si],ve.BQ]}),x})(),ds=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[ve.BQ],ve.BQ]}),x})();var fr=h(17144);let Ce=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})(),Et=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[ve.si,ve.BQ,fr.Q8,Ce],ve.BQ,Ce]}),x})();var ti=h(67322);const qr=new p.OlP("mat-chips-default-options");let F=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({providers:[ve.rD,{provide:qr,useValue:{separatorKeyCodes:[ct.K5]}}],imports:[[ve.BQ]]}),x})(),en=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[Je.vT]]}),x})(),Eo=(()=>{class x{constructor(){this.changes=new q.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return x.\u0275fac=function(_){return new(_||x)},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const ts={provide:Eo,deps:[[new p.FiY,new p.tp0,Eo]],useFactory:function(x){return x||new Eo}};let xl=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({providers:[ts,ve.rD],imports:[[ve.BQ,w.ez,vn.eL,o.ot,en,u.Ps,ve.si],ve.BQ]}),x})();h(50727);var Xa=h(77531);let Qa=(()=>{class x{constructor(){this.changes=new q.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(_,M){return`${_} \u2013 ${M}`}}return x.\u0275fac=function(_){return new(_||x)},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Xc={provide:new p.OlP("mat-datepicker-scroll-strategy"),deps:[Hn.aV],useFactory:function(x){return()=>x.scrollStrategies.reposition()}};let ac=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({providers:[Qa,Xc],imports:[[w.ez,o.ot,Hn.U8,Ke.rt,vn.eL,ve.BQ],Ge.ZD]}),x})();var vc=h(48966),rs=h(43954);const Qc={provide:new p.OlP("mat-select-scroll-strategy"),deps:[Hn.aV],useFactory:function(x){return()=>x.scrollStrategies.reposition()}};let Tc=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({providers:[Qc],imports:[[w.ez,Hn.U8,ve.Ng,ve.BQ],Ge.ZD,ti.lN,ve.Ng,ve.BQ]}),x})();const Sc={provide:new p.OlP("mat-tooltip-scroll-strategy"),deps:[Hn.aV],useFactory:function(x){return()=>x.scrollStrategies.reposition({scrollThrottle:20})}};let il=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({providers:[Sc],imports:[[Ke.rt,w.ez,Hn.U8,ve.BQ],ve.BQ,Ge.ZD]}),x})(),Ia=(()=>{class x{constructor(){this.changes=new q.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(_,M,$)=>{if(0==$||0==M)return`0 of ${$}`;const Re=_*M;return`${Re+1} \u2013 ${Re<($=Math.max($,0))?Math.min(Re+M,$):Re+M} of ${$}`}}}return x.\u0275fac=function(_){return new(_||x)},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const eu={provide:Ia,deps:[[new p.FiY,new p.tp0,Ia]],useFactory:function(x){return x||new Ia}};let $e=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({providers:[eu],imports:[[w.ez,o.ot,Tc,il,ve.BQ]]}),x})(),bn=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[w.ez,ve.BQ],ve.BQ]}),x})();var ln=h(20773);let dc=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[ve.si,ve.BQ],ve.BQ]}),x})(),sd=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[w.ez,ve.BQ],ve.BQ]}),x})(),ol=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})(),cd=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[ol,ve.si,ve.BQ,fr.Q8],ol,ve.BQ]}),x})();var Es=h(57261);let Oc=(()=>{class x{constructor(){this.changes=new q.x}}return x.\u0275fac=function(_){return new(_||x)},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const hd={provide:Oc,deps:[[new p.FiY,new p.tp0,Oc]],useFactory:function(x){return x||new Oc}};let Vd=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({providers:[hd],imports:[[w.ez,ve.BQ]]}),x})();h(32076),h(61135),h(79307),h(30576),h(39646);let Ii=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[Ge.Cl]]}),x})(),Xd=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[Ii,ve.BQ],ve.BQ]}),x})(),gu=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})(),mh=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[[gu,ve.BQ],ve.BQ]}),x})();var _h=h(8704);let vh=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275mod=p.oAB({type:x,bootstrap:[pn]}),x.\u0275inj=p.cJS({providers:[Be.d,te.v,{provide:p.ip1,useFactory:Qh,deps:[Be.d],multi:!0}],imports:[[v.b2,Oe,t.u5,t.UX,_t.PW,sd,o.ot,jr.JF,ro.Bb,Jr,yn,o.ot,Mo,ds,Et,F,xl,ac,vc.Is,Me.t,hn.To,rs.N6,u.Ps,Xa.c,Hi,Ln.Tx,ve.XK,$e,bn,ln.Cq,dc,ve.si,Tc,gi,sd,cd,Es.ZX,Vd,Xd,b.Nh,Nt,il,mh,Nt,o.ot,gi,u.Ps,Hi,_h.nm.forRoot()]]}),x})();function Qh(x){return()=>x.Init()}(0,p.G48)(),v.q6().bootstrapModule(vh).catch(x=>console.error(x))},70697:function(P){P.exports=function(){"use strict";function H(he){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(he)}var he,v=(he={},function($e){var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"introjs-stamp";return he[ft]=he[ft]||0,void 0===$e[ft]&&($e[ft]=he[ft]++),$e[ft]});function p(he,ye,$e){if(he)for(var ft=0,Tt=he.length;ft<Tt;ft++)ye(he[ft],ft);"function"==typeof $e&&$e()}var t=new function(){var ye="introjs_event";this._id=function($e,ft,Tt,$t){return ft+v(Tt)+($t?"_".concat(v($t)):"")},this.on=function($e,ft,Tt,$t,Mt){var Vt=this._id.apply(this,arguments),di=function(bi){return Tt.call($t||$e,bi||window.event)};"addEventListener"in $e?$e.addEventListener(ft,di,Mt):"attachEvent"in $e&&$e.attachEvent("on".concat(ft),di),$e[ye]=$e[ye]||{},$e[ye][Vt]=di},this.off=function($e,ft,Tt,$t,Mt){var Vt=this._id.apply(this,arguments),di=$e[ye]&&$e[ye][Vt];!di||("removeEventListener"in $e?$e.removeEventListener(ft,di,Mt):"detachEvent"in $e&&$e.detachEvent("on".concat(ft),di),$e[ye][Vt]=null)}},e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(he,ye){return he(ye={exports:{}},ye.exports),ye.exports}var Lt,ri,o=function(he){return he&&he.Math==Math&&he},u=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof e&&e)||function(){return this}()||Function("return this")(),b=function(he){try{return!!he()}catch(ye){return!0}},w=!b(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),R=Function.prototype.call,N=R.bind?R.bind(R):function(){return R.apply(R,arguments)},W={}.propertyIsEnumerable,Z=Object.getOwnPropertyDescriptor,xe={f:Z&&!W.call({1:2},1)?function(ye){var $e=Z(this,ye);return!!$e&&$e.enumerable}:W},fe=function(he,ye){return{enumerable:!(1&he),configurable:!(2&he),writable:!(4&he),value:ye}},_e=Function.prototype,Oe=_e.bind,Be=_e.call,Ee=Oe&&Oe.bind(Be),ce=Oe?function(he){return he&&Ee(Be,he)}:function(he){return he&&function(){return Be.apply(he,arguments)}},q=ce({}.toString),se=ce("".slice),ne=function(he){return se(q(he),8,-1)},Pe=u.Object,oe=ce("".split),de=b(function(){return!Pe("z").propertyIsEnumerable(0)})?function(he){return"String"==ne(he)?oe(he,""):Pe(he)}:Pe,te=u.TypeError,ie=function(he){if(null==he)throw te("Can't call method on "+he);return he},Ge=function(he){return de(ie(he))},ve=function(he){return"function"==typeof he},He=function(he){return"object"==typeof he?null!==he:ve(he)},ct=function(he){return ve(he)?he:void 0},Yt=function(he,ye){return arguments.length<2?ct(u[he]):u[he]&&u[he][ye]},ht=ce({}.isPrototypeOf),Bt=Yt("navigator","userAgent")||"",Ht=u.process,Kt=u.Deno,vi=Ht&&Ht.versions||Kt&&Kt.version,qt=vi&&vi.v8;qt&&(ri=(Lt=qt.split("."))[0]>0&&Lt[0]<4?1:+(Lt[0]+Lt[1])),!ri&&Bt&&(!(Lt=Bt.match(/Edge\/(\d+)/))||Lt[1]>=74)&&(Lt=Bt.match(/Chrome\/(\d+)/))&&(ri=+Lt[1]);var Ne=ri,_t=!!Object.getOwnPropertySymbols&&!b(function(){var he=Symbol();return!String(he)||!(Object(he)instanceof Symbol)||!Symbol.sham&&Ne&&Ne<41}),Ke=_t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Je=u.Object,we=Ke?function(he){return"symbol"==typeof he}:function(he){var ye=Yt("Symbol");return ve(ye)&&ht(ye.prototype,Je(he))},Le=u.String,dt=function(he){try{return Le(he)}catch(ye){return"Object"}},zt=u.TypeError,lt=function(he){if(ve(he))return he;throw zt(dt(he)+" is not a function")},ze=function(he,ye){var $e=he[ye];return null==$e?void 0:lt($e)},Ye=u.TypeError,Ze=Object.defineProperty,rt=function(he,ye){try{Ze(u,he,{value:ye,configurable:!0,writable:!0})}catch($e){u[he]=ye}return ye},ot="__core-js_shared__",Ae=u[ot]||rt(ot,{}),St=n(function(he){(he.exports=function(ye,$e){return Ae[ye]||(Ae[ye]=void 0!==$e?$e:{})})("versions",[]).push({version:"3.19.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),It=u.Object,ci=function(he){return It(ie(he))},Zt=ce({}.hasOwnProperty),li=Object.hasOwn||function(ye,$e){return Zt(ci(ye),$e)},Fi=0,ui=Math.random(),Ei=ce(1..toString),gi=function(he){return"Symbol("+(void 0===he?"":he)+")_"+Ei(++Fi+ui,36)},jt=St("wks"),oi=u.Symbol,ut=oi&&oi.for,Wt=Ke?oi:oi&&oi.withoutSetter||gi,ei=function(he){if(!li(jt,he)||!_t&&"string"!=typeof jt[he]){var ye="Symbol."+he;jt[he]=_t&&li(oi,he)?oi[he]:Ke&&ut?ut(ye):Wt(ye)}return jt[he]},Di=u.TypeError,Nt=ei("toPrimitive"),it=function(he,ye){if(!He(he)||we(he))return he;var ft,$e=ze(he,Nt);if($e){if(void 0===ye&&(ye="default"),ft=N($e,he,ye),!He(ft)||we(ft))return ft;throw Di("Can't convert object to primitive value")}return void 0===ye&&(ye="number"),function(he,ye){var $e,ft;if("string"===ye&&ve($e=he.toString)&&!He(ft=N($e,he))||ve($e=he.valueOf)&&!He(ft=N($e,he))||"string"!==ye&&ve($e=he.toString)&&!He(ft=N($e,he)))return ft;throw Ye("Can't convert object to primitive value")}(he,ye)},Me=function(he){var ye=it(he,"string");return we(ye)?ye:ye+""},re=u.document,De=He(re)&&He(re.createElement),et=function(he){return De?re.createElement(he):{}},vt=!w&&!b(function(){return 7!=Object.defineProperty(et("div"),"a",{get:function(){return 7}}).a}),Ci=Object.getOwnPropertyDescriptor,Zi={f:w?Ci:function(ye,$e){if(ye=Ge(ye),$e=Me($e),vt)try{return Ci(ye,$e)}catch(ft){}if(li(ye,$e))return fe(!N(xe.f,ye,$e),ye[$e])}},wn=u.String,Jt=u.TypeError,Rt=function(he){if(He(he))return he;throw Jt(wn(he)+" is not an object")},Ct=u.TypeError,Xt=Object.defineProperty,Ki={f:w?Xt:function(ye,$e,ft){if(Rt(ye),$e=Me($e),Rt(ft),vt)try{return Xt(ye,$e,ft)}catch(Tt){}if("get"in ft||"set"in ft)throw Ct("Accessors not supported");return"value"in ft&&(ye[$e]=ft.value),ye}},cn=w?function(he,ye,$e){return Ki.f(he,ye,fe(1,$e))}:function(he,ye,$e){return he[ye]=$e,he},On=ce(Function.toString);ve(Ae.inspectSource)||(Ae.inspectSource=function(he){return On(he)});var hn,Ln,kr,rr=Ae.inspectSource,uo=u.WeakMap,Kr=ve(uo)&&/native code/.test(rr(uo)),No=St("keys"),no=function(he){return No[he]||(No[he]=gi(he))},$n={},Is="Object already initialized",or=u.TypeError;if(Kr||Ae.state){var wr=Ae.state||(Ae.state=new(0,u.WeakMap)),Kn=ce(wr.get),Pr=ce(wr.has),$r=ce(wr.set);hn=function(he,ye){if(Pr(wr,he))throw new or(Is);return ye.facade=he,$r(wr,he,ye),ye},Ln=function(he){return Kn(wr,he)||{}},kr=function(he){return Pr(wr,he)}}else{var pn=no("state");$n[pn]=!0,hn=function(he,ye){if(li(he,pn))throw new or(Is);return ye.facade=he,cn(he,pn,ye),ye},Ln=function(he){return li(he,pn)?he[pn]:{}},kr=function(he){return li(he,pn)}}var jr={set:hn,get:Ln,has:kr,enforce:function(he){return kr(he)?Ln(he):hn(he,{})},getterFor:function(he){return function(ye){var $e;if(!He(ye)||($e=Ln(ye)).type!==he)throw or("Incompatible receiver, "+he+" required");return $e}}},ro=Function.prototype,vo=w&&Object.getOwnPropertyDescriptor,ho=li(ro,"name"),Jr={EXISTS:ho,PROPER:ho&&"something"===function(){}.name,CONFIGURABLE:ho&&(!w||w&&vo(ro,"name").configurable)},Hn=n(function(he){var ye=Jr.CONFIGURABLE,$e=jr.get,ft=jr.enforce,Tt=String(String).split("String");(he.exports=function($t,Mt,Vt,di){var kn,_i=!!di&&!!di.unsafe,bi=!!di&&!!di.enumerable,bn=!!di&&!!di.noTargetGet,ln=di&&void 0!==di.name?di.name:Mt;ve(Vt)&&("Symbol("===String(ln).slice(0,7)&&(ln="["+String(ln).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!li(Vt,"name")||ye&&Vt.name!==ln)&&cn(Vt,"name",ln),(kn=ft(Vt)).source||(kn.source=Tt.join("string"==typeof ln?ln:""))),$t!==u?(_i?!bn&&$t[Mt]&&(bi=!0):delete $t[Mt],bi?$t[Mt]=Vt:cn($t,Mt,Vt)):bi?$t[Mt]=Vt:rt(Mt,Vt)})(Function.prototype,"toString",function(){return ve(this)&&$e(this).source||rr(this)})}),vn=Math.ceil,Zr=Math.floor,Ar=function(he){var ye=+he;return ye!=ye||0===ye?0:(ye>0?Zr:vn)(ye)},yr=Math.max,Lr=Math.min,Cs=function(he,ye){var $e=Ar(he);return $e<0?yr($e+ye,0):Lr($e,ye)},yn=Math.min,Fo=function(he){return he>0?yn(Ar(he),9007199254740991):0},qn=function(he){return Fo(he.length)},wo=function(he){return function(ye,$e,ft){var Vt,Tt=Ge(ye),$t=qn(Tt),Mt=Cs(ft,$t);if(he&&$e!=$e){for(;$t>Mt;)if((Vt=Tt[Mt++])!=Vt)return!0}else for(;$t>Mt;Mt++)if((he||Mt in Tt)&&Tt[Mt]===$e)return he||Mt||0;return!he&&-1}},as={includes:wo(!0),indexOf:wo(!1)},Nr=as.indexOf,$o=ce([].push),So=function(he,ye){var $t,$e=Ge(he),ft=0,Tt=[];for($t in $e)!li($n,$t)&&li($e,$t)&&$o(Tt,$t);for(;ye.length>ft;)li($e,$t=ye[ft++])&&(~Nr(Tt,$t)||$o(Tt,$t));return Tt},hr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Jo=hr.concat("length","prototype"),aa={f:Object.getOwnPropertyNames||function(ye){return So(ye,Jo)}},Gs={f:Object.getOwnPropertySymbols},Ca=ce([].concat),Mo=Yt("Reflect","ownKeys")||function(ye){var $e=aa.f(Rt(ye)),ft=Gs.f;return ft?Ca($e,ft(ye)):$e},la=function(he,ye){for(var $e=Mo(ye),ft=Ki.f,Tt=Zi.f,$t=0;$t<$e.length;$t++){var Mt=$e[$t];li(he,Mt)||ft(he,Mt,Tt(ye,Mt))}},Ts=/#|\.prototype\./,bo=function(he,ye){var $e=Js[Oa(he)];return $e==Wr||$e!=ls&&(ve(ye)?b(ye):!!ye)},Oa=bo.normalize=function(he){return String(he).replace(Ts,".").toLowerCase()},Js=bo.data={},ls=bo.NATIVE="N",Wr=bo.POLYFILL="P",pr=bo,Dr=Zi.f,Mr=function(he,ye){var Mt,Vt,di,_i,bi,$e=he.target,ft=he.global,Tt=he.stat;if(Mt=ft?u:Tt?u[$e]||rt($e,{}):(u[$e]||{}).prototype)for(Vt in ye){if(_i=ye[Vt],di=he.noTargetGet?(bi=Dr(Mt,Vt))&&bi.value:Mt[Vt],!pr(ft?Vt:$e+(Tt?".":"#")+Vt,he.forced)&&void 0!==di){if(typeof _i==typeof di)continue;la(_i,di)}(he.sham||di&&di.sham)&&cn(_i,"sham",!0),Hn(Mt,Vt,_i,he)}},xo={};xo[ei("toStringTag")]="z";var ti,Ro="[object z]"===String(xo),Qr=ei("toStringTag"),us=u.Object,Fr="Arguments"==ne(function(){return arguments}()),Er=Ro?ne:function(he){var ye,$e,ft;return void 0===he?"Undefined":null===he?"Null":"string"==typeof($e=function(he,ye){try{return he[ye]}catch($e){}}(ye=us(he),Qr))?$e:Fr?ne(ye):"Object"==(ft=ne(ye))&&ve(ye.callee)?"Arguments":ft},Bo=u.String,sr=function(he){if("Symbol"===Er(he))throw TypeError("Cannot convert a Symbol value to a string");return Bo(he)},ds=function(){var he=Rt(this),ye="";return he.global&&(ye+="g"),he.ignoreCase&&(ye+="i"),he.multiline&&(ye+="m"),he.dotAll&&(ye+="s"),he.unicode&&(ye+="u"),he.sticky&&(ye+="y"),ye},fr=u.RegExp,js=b(function(){var he=fr("a","y");return he.lastIndex=2,null!=he.exec("abcd")}),Ta=b(function(){var he=fr("^r","gy");return he.lastIndex=2,null!=he.exec("str")}),Ho={UNSUPPORTED_Y:js,BROKEN_CARET:Ta},Br=Object.keys||function(ye){return So(ye,hr)},yo=w?Object.defineProperties:function(ye,$e){Rt(ye);for(var Vt,ft=Ge($e),Tt=Br($e),$t=Tt.length,Mt=0;$t>Mt;)Ki.f(ye,Vt=Tt[Mt++],ft[Vt]);return ye},ca=Yt("document","documentElement"),ws="prototype",Se="script",z=no("IE_PROTO"),L=function(){},B=function(he){return"<script>"+he+"</"+Se+">"},Ce=function(he){he.write(B("")),he.close();var ye=he.parentWindow.Object;return he=null,ye},Li=function(){try{ti=new ActiveXObject("htmlfile")}catch(ye){}Li="undefined"!=typeof document?document.domain&&ti?Ce(ti):function(){var $e,he=et("iframe");return he.style.display="none",ca.appendChild(he),he.src=String("javascript:"),($e=he.contentWindow.document).open(),$e.write(B("document.F=Object")),$e.close(),$e.F}():Ce(ti);for(var he=hr.length;he--;)delete Li[ws][hr[he]];return Li()};$n[z]=!0;var mn=Object.create||function(ye,$e){var ft;return null!==ye?(L[ws]=Rt(ye),ft=new L,L[ws]=null,ft[z]=ye):ft=Li(),void 0===$e?ft:yo(ft,$e)},Dn=u.RegExp,Vn=b(function(){var he=Dn(".","s");return!(he.dotAll&&he.exec("\n")&&"s"===he.flags)}),Nn=u.RegExp,gr=b(function(){var he=Nn("(?<a>b)","g");return"b"!==he.exec("b").groups.a||"bc"!=="b".replace(he,"$<a>c")}),er=jr.get,zr=St("native-string-replace",String.prototype.replace),on=RegExp.prototype.exec,Zo=on,Zs=ce("".charAt),qr=ce("".indexOf),Ws=ce("".replace),Vo=ce("".slice),Uo=function(){var he=/a/,ye=/b*/g;return N(on,he,"a"),N(on,ye,"a"),0!==he.lastIndex||0!==ye.lastIndex}(),ul=Ho.UNSUPPORTED_Y||Ho.BROKEN_CARET,Mi=void 0!==/()??/.exec("")[1];(Uo||Mi||ul||Vn||gr)&&(Zo=function(ye){var Mt,Vt,di,_i,bi,bn,ln,$e=this,ft=er($e),Tt=sr(ye),$t=ft.raw;if($t)return $t.lastIndex=$e.lastIndex,Mt=N(Zo,$t,Tt),$e.lastIndex=$t.lastIndex,Mt;var kn=ft.groups,ao=ul&&$e.sticky,lr=N(ds,$e),tr=$e.source,vr=0,Yr=Tt;if(ao&&(lr=Ws(lr,"y",""),-1===qr(lr,"g")&&(lr+="g"),Yr=Vo(Tt,$e.lastIndex),$e.lastIndex>0&&(!$e.multiline||$e.multiline&&"\n"!==Zs(Tt,$e.lastIndex-1))&&(tr="(?: "+tr+")",Yr=" "+Yr,vr++),Vt=new RegExp("^(?:"+tr+")",lr)),Mi&&(Vt=new RegExp("^"+tr+"$(?!\\s)",lr)),Uo&&(di=$e.lastIndex),_i=N(on,ao?Vt:$e,Yr),ao?_i?(_i.input=Vo(_i.input,vr),_i[0]=Vo(_i[0],vr),_i.index=$e.lastIndex,$e.lastIndex+=_i[0].length):$e.lastIndex=0:Uo&&_i&&($e.lastIndex=$e.global?_i.index+_i[0].length:di),Mi&&_i&&_i.length>1&&N(zr,_i[0],Vt,function(){for(bi=1;bi<arguments.length-2;bi++)void 0===arguments[bi]&&(_i[bi]=void 0)}),_i&&kn)for(_i.groups=bn=mn(null),bi=0;bi<kn.length;bi++)bn[(ln=kn[bi])[0]]=_i[ln[1]];return _i});var Qe=Zo;Mr({target:"RegExp",proto:!0,forced:/./.exec!==Qe},{exec:Qe});var F=ei("species"),j=RegExp.prototype,ge=function(he,ye,$e,ft){var Tt=ei(he),$t=!b(function(){var _i={};return _i[Tt]=function(){return 7},7!=""[he](_i)}),Mt=$t&&!b(function(){var _i=!1,bi=/a/;return"split"===he&&((bi={}).constructor={},bi.constructor[F]=function(){return bi},bi.flags="",bi[Tt]=/./[Tt]),bi.exec=function(){return _i=!0,null},bi[Tt](""),!_i});if(!$t||!Mt||$e){var Vt=ce(/./[Tt]),di=ye(Tt,""[he],function(_i,bi,bn,ln,kn){var ao=ce(_i),lr=bi.exec;return lr===Qe||lr===j.exec?$t&&!kn?{done:!0,value:Vt(bi,bn,ln)}:{done:!0,value:ao(bn,bi,ln)}:{done:!1}});Hn(String.prototype,he,di[0]),Hn(j,Tt,di[1])}ft&&cn(j[Tt],"sham",!0)},je=ce("".charAt),st=ce("".charCodeAt),xt=ce("".slice),Ot=function(he){return function(ye,$e){var Mt,Vt,ft=sr(ie(ye)),Tt=Ar($e),$t=ft.length;return Tt<0||Tt>=$t?he?"":void 0:(Mt=st(ft,Tt))<55296||Mt>56319||Tt+1===$t||(Vt=st(ft,Tt+1))<56320||Vt>57343?he?je(ft,Tt):Mt:he?xt(ft,Tt,Tt+2):Vt-56320+(Mt-55296<<10)+65536}},mi=(Ot(!1),Ot(!0)),Bi=function(he,ye,$e){return ye+($e?mi(he,ye).length:1)},Gi=u.TypeError,un=function(he,ye){var $e=he.exec;if(ve($e)){var ft=N($e,he,ye);return null!==ft&&Rt(ft),ft}if("RegExp"===ne(he))return N(Qe,he,ye);throw Gi("RegExp#exec called on incompatible receiver")};ge("match",function(he,ye,$e){return[function(Tt){var $t=ie(this),Mt=null==Tt?void 0:ze(Tt,he);return Mt?N(Mt,Tt,$t):new RegExp(Tt)[he](sr($t))},function(ft){var Tt=Rt(this),$t=sr(ft),Mt=$e(ye,Tt,$t);if(Mt.done)return Mt.value;if(!Tt.global)return un(Tt,$t);var Vt=Tt.unicode;Tt.lastIndex=0;for(var bi,di=[],_i=0;null!==(bi=un(Tt,$t));){var bn=sr(bi[0]);di[_i]=bn,""===bn&&(Tt.lastIndex=Bi($t,Fo(Tt.lastIndex),Vt)),_i++}return 0===_i?null:di}]});var Rn=Array.isArray||function(ye){return"Array"==ne(ye)},en=function(he,ye,$e){var ft=Me(ye);ft in he?Ki.f(he,ft,fe(0,$e)):he[ft]=$e},_n=function(){},Bn=[],jn=Yt("Reflect","construct"),xr=/^\s*(?:class|function)\b/,oo=ce(xr.exec),Hr=!xr.exec(_n),Go=function(he){if(!ve(he))return!1;try{return jn(_n,Bn,he),!0}catch(ye){return!1}},Vr=!jn||b(function(){var he;return Go(Go.call)||!Go(Object)||!Go(function(){he=!0})||he})?function(he){if(!ve(he))return!1;switch(Er(he)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Hr||!!oo(xr,rr(he))}:Go,As=ei("species"),qo=u.Array,wa=function(he,ye){return new(function(he){var ye;return Rn(he)&&(Vr(ye=he.constructor)&&(ye===qo||Rn(ye.prototype))||He(ye)&&null===(ye=ye[As]))&&(ye=void 0),void 0===ye?qo:ye}(he))(0===ye?0:ye)},Cr=ei("species"),es=function(he){return Ne>=51||!b(function(){var ye=[];return(ye.constructor={})[Cr]=function(){return{foo:1}},1!==ye[he](Boolean).foo})},Sa=ei("isConcatSpreadable"),ua=9007199254740991,Qi="Maximum allowed index exceeded",nn=u.TypeError,rn=Ne>=51||!b(function(){var he=[];return he[Sa]=!1,he.concat()[0]!==he}),In=es("concat"),An=function(he){if(!He(he))return!1;var ye=he[Sa];return void 0!==ye?!!ye:Rn(he)};Mr({target:"Array",proto:!0,forced:!rn||!In},{concat:function(ye){var $t,Mt,Vt,di,_i,$e=ci(this),ft=wa($e,0),Tt=0;for($t=-1,Vt=arguments.length;$t<Vt;$t++)if(An(_i=-1===$t?$e:arguments[$t])){if(Tt+(di=qn(_i))>ua)throw nn(Qi);for(Mt=0;Mt<di;Mt++,Tt++)Mt in _i&&en(ft,Tt,_i[Mt])}else{if(Tt>=ua)throw nn(Qi);en(ft,Tt++,_i)}return ft.length=Tt,ft}}),Ro||Hn(Object.prototype,"toString",Ro?{}.toString:function(){return"[object "+Er(this)+"]"},{unsafe:!0});var ts=Jr.PROPER,Qn="toString",Co=RegExp.prototype,ps=Co[Qn],fs=ce(ds);(b(function(){return"/a/b"!=ps.call({source:"a",flags:"b"})})||ts&&ps.name!=Qn)&&Hn(RegExp.prototype,Qn,function(){var ye=Rt(this),$e=sr(ye.source),ft=ye.flags;return"/"+$e+"/"+sr(void 0===ft&&ht(Co,ye)&&!("flags"in Co)?fs(ye):ft)},{unsafe:!0});var jo=Function.prototype,dl=jo.apply,Os=jo.call,ka="object"==typeof Reflect&&Reflect.apply||(jo.bind?Os.bind(dl):function(){return Os.apply(dl,arguments)}),Pa=ei("match"),xl=function(he){var ye;return He(he)&&(void 0!==(ye=he[Pa])?!!ye:"RegExp"==ne(he))},ks=u.TypeError,Qs=ei("species"),mc=function(he,ye){var ft,$e=Rt(he).constructor;return void 0===$e||null==(ft=Rt($e)[Qs])?ye:function(he){if(Vr(he))return he;throw ks(dt(he)+" is not a constructor")}(ft)},Ka=ce([].slice),qs=Ho.UNSUPPORTED_Y,La=4294967295,Rl=Math.min,Il=[].push,Ps=ce(/./.exec),da=ce(Il),gs=ce("".slice),$a=!b(function(){var he=/(?:)/,ye=he.exec;he.exec=function(){return ye.apply(this,arguments)};var $e="ab".split(he);return 2!==$e.length||"a"!==$e[0]||"b"!==$e[1]});function Ls(he,ye){if(he instanceof SVGElement){var $e=he.getAttribute("class")||"";$e.match(ye)||he.setAttribute("class","".concat($e," ").concat(ye))}else void 0!==he.classList?p(ye.split(" "),function(Tt){he.classList.add(Tt)}):he.className.match(ye)||(he.className+=" ".concat(ye))}function ea(he,ye){var $e="";return he.currentStyle?$e=he.currentStyle[ye]:document.defaultView&&document.defaultView.getComputedStyle&&($e=document.defaultView.getComputedStyle(he,null).getPropertyValue(ye)),$e&&$e.toLowerCase?$e.toLowerCase():$e}function Ja(he){var ye=he.element;if(this._options.scrollToElement){var $e=function(he){var ye=window.getComputedStyle(he),$e="absolute"===ye.position,ft=/(auto|scroll)/;if("fixed"===ye.position)return document.body;for(var Tt=he;Tt=Tt.parentElement;)if(ye=window.getComputedStyle(Tt),(!$e||"static"!==ye.position)&&ft.test(ye.overflow+ye.overflowY+ye.overflowX))return Tt;return document.body}(ye);$e!==document.body&&($e.scrollTop=ye.offsetTop-$e.offsetTop)}}function Ol(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var he=document.documentElement;return{width:he.clientWidth,height:he.clientHeight}}function le(he,ye,$e){var Tt,ft=ye.element;if("off"!==he&&this._options.scrollToElement&&(Tt="tooltip"===he?$e.getBoundingClientRect():ft.getBoundingClientRect(),!function(he){var ye=he.getBoundingClientRect();return ye.top>=0&&ye.left>=0&&ye.bottom+80<=window.innerHeight&&ye.right<=window.innerWidth}(ft))){var $t=Ol().height;Tt.bottom-(Tt.bottom-Tt.top)<0||ft.clientHeight>$t?window.scrollBy(0,Tt.top-($t/2-Tt.height/2)-this._options.scrollPadding):window.scrollBy(0,Tt.top-($t/2-Tt.height/2)+this._options.scrollPadding)}}function Q(he){he.setAttribute("role","button"),he.tabIndex=0}ge("split",function(he,ye,$e){var ft;return ft="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(Tt,$t){var Mt=sr(ie(this)),Vt=void 0===$t?La:$t>>>0;if(0===Vt)return[];if(void 0===Tt)return[Mt];if(!xl(Tt))return N(ye,Mt,Tt,Vt);for(var ln,kn,ao,di=[],bi=0,bn=new RegExp(Tt.source,(Tt.ignoreCase?"i":"")+(Tt.multiline?"m":"")+(Tt.unicode?"u":"")+(Tt.sticky?"y":"")+"g");(ln=N(Qe,bn,Mt))&&!((kn=bn.lastIndex)>bi&&(da(di,gs(Mt,bi,ln.index)),ln.length>1&&ln.index<Mt.length&&ka(Il,di,Ka(ln,1)),ao=ln[0].length,bi=kn,di.length>=Vt));)bn.lastIndex===ln.index&&bn.lastIndex++;return bi===Mt.length?(ao||!Ps(bn,""))&&da(di,""):da(di,gs(Mt,bi)),di.length>Vt?Ka(di,0,Vt):di}:"0".split(void 0,0).length?function(Tt,$t){return void 0===Tt&&0===$t?[]:N(ye,this,Tt,$t)}:ye,[function($t,Mt){var Vt=ie(this),di=null==$t?void 0:ze($t,he);return di?N(di,$t,Vt,Mt):N(ft,sr(Vt),$t,Mt)},function(Tt,$t){var Mt=Rt(this),Vt=sr(Tt),di=$e(ft,Mt,Vt,$t,ft!==ye);if(di.done)return di.value;var _i=mc(Mt,RegExp),bi=Mt.unicode,ln=new _i(qs?"^(?:"+Mt.source+")":Mt,(Mt.ignoreCase?"i":"")+(Mt.multiline?"m":"")+(Mt.unicode?"u":"")+(qs?"g":"y")),kn=void 0===$t?La:$t>>>0;if(0===kn)return[];if(0===Vt.length)return null===un(ln,Vt)?[Vt]:[];for(var ao=0,lr=0,tr=[];lr<Vt.length;){ln.lastIndex=qs?0:lr;var Yr,vr=un(ln,qs?gs(Vt,lr):Vt);if(null===vr||(Yr=Rl(Fo(ln.lastIndex+(qs?lr:0)),Vt.length))===ao)lr=Bi(Vt,lr,bi);else{if(da(tr,gs(Vt,ao,lr)),tr.length===kn)return tr;for(var cr=1;cr<=vr.length-1;cr++)if(da(tr,vr[cr]),tr.length===kn)return tr;lr=ao=Yr}}return da(tr,gs(Vt,ao)),tr}]},!$a,qs);var X=Object.assign,Te=Object.defineProperty,ke=ce([].concat),nt=!X||b(function(){if(w&&1!==X({b:1},X(Te({},"a",{enumerable:!0,get:function(){Te(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var he={},ye={},$e=Symbol(),ft="abcdefghijklmnopqrst";return he[$e]=7,ft.split("").forEach(function(Tt){ye[Tt]=Tt}),7!=X({},he)[$e]||Br(X({},ye)).join("")!=ft})?function(ye,$e){for(var ft=ci(ye),Tt=arguments.length,$t=1,Mt=Gs.f,Vt=xe.f;Tt>$t;)for(var ln,di=de(arguments[$t++]),_i=Mt?ke(Br(di),Mt(di)):Br(di),bi=_i.length,bn=0;bi>bn;)ln=_i[bn++],(!w||N(Vt,di,ln))&&(ft[ln]=di[ln]);return ft}:X;function wt(he){var ye=he.parentNode;return!(!ye||"HTML"===ye.nodeName)&&("fixed"===ea(he,"position")||wt(ye))}function Pt(he,ye){var $e=document.body,ft=document.documentElement,Tt=window.pageYOffset||ft.scrollTop||$e.scrollTop,$t=window.pageXOffset||ft.scrollLeft||$e.scrollLeft;ye=ye||$e;var Mt=he.getBoundingClientRect(),Vt=ye.getBoundingClientRect(),di=ea(ye,"position"),_i={width:Mt.width,height:Mt.height};return"body"!==ye.tagName.toLowerCase()&&"relative"===di||"sticky"===di?Object.assign(_i,{top:Mt.top-Vt.top,left:Mt.left-Vt.left}):wt(he)?Object.assign(_i,{top:Mt.top,left:Mt.left}):Object.assign(_i,{top:Mt.top+Tt,left:Mt.left+$t})}Mr({target:"Object",stat:!0,forced:Object.assign!==nt},{assign:nt});var fi=Math.floor,Wi=ce("".charAt),Fn=ce("".replace),dn=ce("".slice),ar=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,mr=/\$([$&'`]|\d{1,2})/g,Da=function(he,ye,$e,ft,Tt,$t){var Mt=$e+he.length,Vt=ft.length,di=mr;return void 0!==Tt&&(Tt=ci(Tt),di=ar),Fn($t,di,function(_i,bi){var bn;switch(Wi(bi,0)){case"$":return"$";case"&":return he;case"`":return dn(ye,0,$e);case"'":return dn(ye,Mt);case"<":bn=Tt[dn(bi,1,-1)];break;default:var ln=+bi;if(0===ln)return _i;if(ln>Vt){var kn=fi(ln/10);return 0===kn?_i:kn<=Vt?void 0===ft[kn-1]?Wi(bi,1):ft[kn-1]+Wi(bi,1):_i}bn=ft[ln-1]}return void 0===bn?"":bn})},is=ei("replace"),ms=Math.max,Ao=Math.min,pl=ce([].concat),Wo=ce([].push),Ns=ce("".indexOf),ta=ce("".slice),fl=function(he){return void 0===he?he:String(he)},ns="$0"==="a".replace(/./,"$0"),gl=!!/./[is]&&""===/./[is]("a","$0"),Za=!b(function(){var he=/./;return he.exec=function(){var ye=[];return ye.groups={a:"7"},ye},"7"!=="".replace(he,"$<a>")});function ha(he,ye){if(he instanceof SVGElement){var $e=he.getAttribute("class")||"";he.setAttribute("class",$e.replace(ye,"").replace(/^\s+|\s+$/g,""))}else he.className=he.className.replace(ye,"").replace(/^\s+|\s+$/g,"")}function Ss(he,ye){var $e="";if(he.style.cssText&&($e+=he.style.cssText),"string"==typeof ye)$e+=ye;else for(var ft in ye)$e+="".concat(ft,":").concat(ye[ft],";");he.style.cssText=$e}function Ds(he){if(he){if(!this._introItems[this._currentStep])return;var ye=this._introItems[this._currentStep],$e=Pt(ye.element,this._targetElement),ft=this._options.helperElementPadding;wt(ye.element)?Ls(he,"introjs-fixedTooltip"):ha(he,"introjs-fixedTooltip"),"floating"===ye.position&&(ft=0),Ss(he,{width:"".concat($e.width+ft,"px"),height:"".concat($e.height+ft,"px"),top:"".concat($e.top-ft/2,"px"),left:"".concat($e.left-ft/2,"px")})}}ge("replace",function(he,ye,$e){var ft=gl?"$":"$0";return[function($t,Mt){var Vt=ie(this),di=null==$t?void 0:ze($t,is);return di?N(di,$t,Vt,Mt):N(ye,sr(Vt),$t,Mt)},function(Tt,$t){var Mt=Rt(this),Vt=sr(Tt);if("string"==typeof $t&&-1===Ns($t,ft)&&-1===Ns($t,"$<")){var di=$e(ye,Mt,Vt,$t);if(di.done)return di.value}var _i=ve($t);_i||($t=sr($t));var bi=Mt.global;if(bi){var bn=Mt.unicode;Mt.lastIndex=0}for(var ln=[];;){var kn=un(Mt,Vt);if(null===kn||(Wo(ln,kn),!bi))break;""===sr(kn[0])&&(Mt.lastIndex=Bi(Vt,Fo(Mt.lastIndex),bn))}for(var lr="",tr=0,vr=0;vr<ln.length;vr++){for(var Yr=sr((kn=ln[vr])[0]),cr=ms(Ao(Ar(kn.index),Vt.length),0),ys=[],os=1;os<kn.length;os++)Wo(ys,fl(kn[os]));var ko=kn.groups;if(_i){var Ua=pl([Yr],ys,cr,Vt);void 0!==ko&&Wo(Ua,ko);var Iu=sr(ka($t,void 0,Ua))}else Iu=Da(Yr,Vt,cr,ys,ko,$t);cr>=tr&&(lr+=ta(Vt,tr,cr)+Iu,tr=cr+Yr.length)}return lr+ta(Vt,tr)}]},!Za||!ns||gl);var zc=ei("unscopables"),Qa=Array.prototype;null==Qa[zc]&&Ki.f(Qa,zc,{configurable:!0,value:mn(null)});var nc=as.includes;Mr({target:"Array",proto:!0},{includes:function(ye){return nc(this,ye,arguments.length>1?arguments[1]:void 0)}}),function(he){Qa[zc][he]=!0}("includes");var Eu=es("slice"),Yc=ei("species"),_c=u.Array,Ju=Math.max;Mr({target:"Array",proto:!0,forced:!Eu},{slice:function(ye,$e){var Vt,di,_i,ft=Ge(this),Tt=qn(ft),$t=Cs(ye,Tt),Mt=Cs(void 0===$e?Tt:$e,Tt);if(Rn(ft)&&((Vr(Vt=ft.constructor)&&(Vt===_c||Rn(Vt.prototype))||He(Vt)&&null===(Vt=Vt[Yc]))&&(Vt=void 0),Vt===_c||void 0===Vt))return Ka(ft,$t,Mt);for(di=new(void 0===Vt?_c:Vt)(Ju(Mt-$t,0)),_i=0;$t<Mt;$t++,_i++)$t in ft&&en(di,_i,ft[$t]);return di.length=_i,di}});var Cu=u.TypeError,Xc=function(he){if(xl(he))throw Cu("The method doesn't accept regular expressions");return he},rc=ei("match"),go=ce("".indexOf);Mr({target:"String",proto:!0,forced:!function(he){var ye=/./;try{"/./"[he](ye)}catch($e){try{return ye[rc]=!1,"/./"[he](ye)}catch(ft){}}return!1}("includes")},{includes:function(ye){return!!~go(sr(ie(this)),sr(Xc(ye)),arguments.length>1?arguments[1]:void 0)}});var Na=function(he,ye){var $e=[][he];return!!$e&&b(function(){$e.call(null,ye||function(){throw 1},1)})},ia=ce([].join),Tu=de!=Object,zo=Na("join",",");Mr({target:"Array",proto:!0,forced:Tu||!zo},{join:function(ye){return ia(Ge(this),void 0===ye?",":ye)}});var _s=ce(ce.bind),Fa=ce([].push),na=function(he){var ye=1==he,$e=2==he,ft=3==he,Tt=4==he,$t=6==he,Mt=7==he,Vt=5==he||$t;return function(di,_i,bi,bn){for(var cr,ys,ln=ci(di),kn=de(ln),ao=function(he,ye){return lt(he),void 0===ye?he:_s?_s(he,ye):function(){return he.apply(ye,arguments)}}(_i,bi),lr=qn(kn),tr=0,vr=bn||wa,Yr=ye?vr(di,lr):$e||Mt?vr(di,0):void 0;lr>tr;tr++)if((Vt||tr in kn)&&(ys=ao(cr=kn[tr],tr,ln),he))if(ye)Yr[tr]=ys;else if(ys)switch(he){case 3:return!0;case 5:return cr;case 6:return tr;case 2:Fa(Yr,cr)}else switch(he){case 4:return!1;case 7:Fa(Yr,cr)}return $t?-1:ft||Tt?Tt:Yr}},Kc=[na(0),na(1),na(2),na(3),na(4),na(5),na(6),na(7)][2];function oc(he,ye,$e,ft,Tt){return he.left+ye+$e.width>ft.width?(Tt.style.left="".concat(ft.width-$e.width-he.left,"px"),!1):(Tt.style.left="".concat(ye,"px"),!0)}function Jc(he,ye,$e,ft){return he.left+he.width-ye-$e.width<0?(ft.style.left="".concat(-he.left,"px"),!1):(ft.style.right="".concat(ye,"px"),!0)}Mr({target:"Array",proto:!0,forced:!es("filter")},{filter:function(ye){return Kc(this,ye,arguments.length>1?arguments[1]:void 0)}});var Rd=es("splice"),sc=u.TypeError,Oo=Math.max,Zc=Math.min,Ma=9007199254740991,Qu="Maximum allowed length exceeded";function Ba(he,ye){he.includes(ye)&&he.splice(he.indexOf(ye),1)}function vc(he,ye,$e){var ft=this._options.positionPrecedence.slice(),Tt=Ol(),$t=Pt(ye).height+10,Mt=Pt(ye).width+20,Vt=he.getBoundingClientRect(),di="floating";Vt.bottom+$t>Tt.height&&Ba(ft,"bottom"),Vt.top-$t<0&&Ba(ft,"top"),Vt.right+Mt>Tt.width&&Ba(ft,"right"),Vt.left-Mt<0&&Ba(ft,"left");var bi,bn,_i=-1!==(bn=(bi=$e||"").indexOf("-"))?bi.substr(bn):"";return $e&&($e=$e.split("-")[0]),ft.length&&(di=ft.includes($e)?$e:ft[0]),["top","bottom"].includes(di)&&(di+=function(he,ye,$e,ft){var $t=ye/2,Mt=Math.min($e.width,window.screen.width),Vt=["-left-aligned","-middle-aligned","-right-aligned"];return Mt-he<ye&&Ba(Vt,"-left-aligned"),(he<$t||Mt-he<$t)&&Ba(Vt,"-middle-aligned"),he<ye&&Ba(Vt,"-right-aligned"),Vt.length?Vt.includes(ft)?ft:Vt[0]:"-middle-aligned"}(Vt.left,Mt,Tt,_i)),di}function rs(he,ye,$e,ft){var $t,Mt,Vt,di,_i;if(ft=ft||!1,ye.style.top=null,ye.style.right=null,ye.style.bottom=null,ye.style.left=null,ye.style.marginLeft=null,ye.style.marginTop=null,$e.style.display="inherit",this._introItems[this._currentStep])switch(ye.className=["introjs-tooltip","string"==typeof($t=this._introItems[this._currentStep]).tooltipClass?$t.tooltipClass:this._options.tooltipClass].filter(Boolean).join(" "),ye.setAttribute("role","dialog"),"floating"!==(_i=this._introItems[this._currentStep].position)&&this._options.autoPosition&&(_i=vc.call(this,he,ye,_i)),Vt=Pt(he),Mt=Pt(ye),di=Ol(),Ls(ye,"introjs-".concat(_i)),_i){case"top-right-aligned":$e.className="introjs-arrow bottom-right";var bn=0;Jc(Vt,bn,Mt,ye),ye.style.bottom="".concat(Vt.height+20,"px");break;case"top-middle-aligned":$e.className="introjs-arrow bottom-middle";var ln=Vt.width/2-Mt.width/2;ft&&(ln+=5),Jc(Vt,ln,Mt,ye)&&(ye.style.right=null,oc(Vt,ln,Mt,di,ye)),ye.style.bottom="".concat(Vt.height+20,"px");break;case"top-left-aligned":case"top":$e.className="introjs-arrow bottom",oc(Vt,ft?0:15,Mt,di,ye),ye.style.bottom="".concat(Vt.height+20,"px");break;case"right":ye.style.left="".concat(Vt.width+20,"px"),Vt.top+Mt.height>di.height?($e.className="introjs-arrow left-bottom",ye.style.top="-".concat(Mt.height-Vt.height-20,"px")):$e.className="introjs-arrow left";break;case"left":!ft&&!0===this._options.showStepNumbers&&(ye.style.top="15px"),Vt.top+Mt.height>di.height?(ye.style.top="-".concat(Mt.height-Vt.height-20,"px"),$e.className="introjs-arrow right-bottom"):$e.className="introjs-arrow right",ye.style.right="".concat(Vt.width+20,"px");break;case"floating":$e.style.display="none",ye.style.left="50%",ye.style.top="50%",ye.style.marginLeft="-".concat(Mt.width/2,"px"),ye.style.marginTop="-".concat(Mt.height/2,"px");break;case"bottom-right-aligned":$e.className="introjs-arrow top-right",Jc(Vt,bn=0,Mt,ye),ye.style.top="".concat(Vt.height+20,"px");break;case"bottom-middle-aligned":$e.className="introjs-arrow top-middle",ln=Vt.width/2-Mt.width/2,ft&&(ln+=5),Jc(Vt,ln,Mt,ye)&&(ye.style.right=null,oc(Vt,ln,Mt,di,ye)),ye.style.top="".concat(Vt.height+20,"px");break;default:$e.className="introjs-arrow top",oc(Vt,0,Mt,di,ye),ye.style.top="".concat(Vt.height+20,"px")}}function Pl(){p(document.querySelectorAll(".introjs-showElement"),function(ye){ha(ye,/introjs-[a-zA-Z]+/g)})}function Un(he,ye){var $e=document.createElement(he);ye=ye||{};var ft=/^(?:role|data-|aria-)/;for(var Tt in ye){var $t=ye[Tt];"style"===Tt?Ss($e,$t):Tt.match(ft)?$e.setAttribute(Tt,$t):$e[Tt]=$t}return $e}function bc(he,ye,$e){if($e){var ft=ye.style.opacity||"1";Ss(ye,{opacity:"0"}),window.setTimeout(function(){Ss(ye,{opacity:ft})},10)}he.appendChild(ye)}function qa(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}function Fs(){var he=document.querySelector(".introjs-disableInteraction");null===he&&(he=Un("div",{className:"introjs-disableInteraction"}),this._targetElement.appendChild(he)),Ds.call(this,he)}function yc(he){var ye=this,$e=Un("div",{className:"introjs-bullets"});!1===this._options.showBullets&&($e.style.display="none");var ft=Un("ul");ft.setAttribute("role","tablist");var Tt=function(){ye.goToStep(this.getAttribute("data-stepnumber"))};return p(this._introItems,function($t,Mt){var Vt=$t.step,di=Un("li"),_i=Un("a");di.setAttribute("role","presentation"),_i.setAttribute("role","tab"),_i.onclick=Tt,Mt===he.step-1&&(_i.className="active"),Q(_i),_i.innerHTML="&nbsp;",_i.setAttribute("data-stepnumber",Vt),di.appendChild(_i),ft.appendChild(di)}),$e.appendChild(ft),$e}function Ll(he,ye){if(this._options.showBullets){var $e=document.querySelector(".introjs-bullets");$e.parentNode.replaceChild(yc.call(this,ye),$e)}}function ml(he,ye){this._options.showBullets&&(he.querySelector(".introjs-bullets li > a.active").className="",he.querySelector('.introjs-bullets li > a[data-stepnumber="'.concat(ye.step,'"]')).className="active")}function Ur(){var he=Un("div");he.className="introjs-progress",!1===this._options.showProgress&&(he.style.display="none");var ye=Un("div",{className:"introjs-progressbar"});return this._options.progressBarAdditionalClass&&(ye.className+=" "+this._options.progressBarAdditionalClass),ye.setAttribute("role","progress"),ye.setAttribute("aria-valuemin",0),ye.setAttribute("aria-valuemax",100),ye.setAttribute("aria-valuenow",qa.call(this)),ye.style.cssText="width:".concat(qa.call(this),"%;"),he.appendChild(ye),he}function wu(he){he.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:".concat(qa.call(this),"%;"),he.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",qa.call(this))}function _l(he){var ye=this;void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,he.element);var Mt,Vt,di,$e=this,ft=document.querySelector(".introjs-helperLayer"),Tt=document.querySelector(".introjs-tooltipReferenceLayer"),$t="introjs-helperLayer";if("string"==typeof he.highlightClass&&($t+=" ".concat(he.highlightClass)),"string"==typeof this._options.highlightClass&&($t+=" ".concat(this._options.highlightClass)),null!==ft&&null!==Tt){var _i=Tt.querySelector(".introjs-helperNumberLayer"),bi=Tt.querySelector(".introjs-tooltiptext"),bn=Tt.querySelector(".introjs-tooltip-title"),ln=Tt.querySelector(".introjs-arrow"),kn=Tt.querySelector(".introjs-tooltip");di=Tt.querySelector(".introjs-skipbutton"),Vt=Tt.querySelector(".introjs-prevbutton"),Mt=Tt.querySelector(".introjs-nextbutton"),ft.className=$t,kn.style.opacity=0,kn.style.display="none",Ja.call($e,he),Ds.call($e,ft),Ds.call($e,Tt),Pl(),$e._lastShowElementTimer&&window.clearTimeout($e._lastShowElementTimer),$e._lastShowElementTimer=window.setTimeout(function(){null!==_i&&(_i.innerHTML="".concat(he.step," of ").concat(ye._introItems.length)),bi.innerHTML=he.intro,bn.innerHTML=he.title,kn.style.display="block",rs.call($e,he.element,kn,ln),ml.call($e,Tt,he),wu.call($e,Tt),kn.style.opacity=1,(null!=Mt&&/introjs-donebutton/gi.test(Mt.className)||null!=Mt)&&Mt.focus(),le.call($e,he.scrollTo,he,bi)},350)}else{var ao=Un("div",{className:$t}),lr=Un("div",{className:"introjs-tooltipReferenceLayer"}),tr=Un("div",{className:"introjs-arrow"}),vr=Un("div",{className:"introjs-tooltip"}),Yr=Un("div",{className:"introjs-tooltiptext"}),cr=Un("div",{className:"introjs-tooltip-header"}),ys=Un("h1",{className:"introjs-tooltip-title"}),os=Un("div");Ss(ao,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat($e._options.overlayOpacity.toString(),") 0 0 0 5000px")}),Ja.call($e,he),Ds.call($e,ao),Ds.call($e,lr),bc(this._targetElement,ao,!0),bc(this._targetElement,lr),Yr.innerHTML=he.intro,ys.innerHTML=he.title,os.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(os.style.display="none"),cr.appendChild(ys),vr.appendChild(cr),vr.appendChild(Yr),vr.appendChild(yc.call(this,he)),vr.appendChild(Ur.call(this));var ko=Un("div");!0===this._options.showStepNumbers&&(ko.className="introjs-helperNumberLayer",ko.innerHTML="".concat(he.step," of ").concat(this._introItems.length),vr.appendChild(ko)),vr.appendChild(tr),lr.appendChild(vr),(Mt=Un("a")).onclick=function(){$e._introItems.length-1!==$e._currentStep?vs.call($e):/introjs-donebutton/gi.test(Mt.className)&&("function"==typeof $e._introCompleteCallback&&$e._introCompleteCallback.call($e,$e._currentStep,"done"),bs.call($e,$e._targetElement))},Q(Mt),Mt.innerHTML=this._options.nextLabel,(Vt=Un("a")).onclick=function(){0!==$e._currentStep&&Bs.call($e)},Q(Vt),Vt.innerHTML=this._options.prevLabel,Q(di=Un("a",{className:"introjs-skipbutton"})),di.innerHTML=this._options.skipLabel,di.onclick=function(){$e._introItems.length-1===$e._currentStep&&"function"==typeof $e._introCompleteCallback&&$e._introCompleteCallback.call($e,$e._currentStep,"skip"),"function"==typeof $e._introSkipCallback&&$e._introSkipCallback.call($e),bs.call($e,$e._targetElement)},cr.appendChild(di),this._introItems.length>1&&os.appendChild(Vt),os.appendChild(Mt),vr.appendChild(os),rs.call($e,he.element,vr,tr),le.call(this,he.scrollTo,he,vr)}var Ua=$e._targetElement.querySelector(".introjs-disableInteraction");Ua&&Ua.parentNode.removeChild(Ua),he.disableInteraction&&Fs.call($e),0===this._currentStep&&this._introItems.length>1?(null!=Mt&&(Mt.className="".concat(this._options.buttonClass," introjs-nextbutton"),Mt.innerHTML=this._options.nextLabel),!0===this._options.hidePrev?(null!=Vt&&(Vt.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=Mt&&Ls(Mt,"introjs-fullbutton")):null!=Vt&&(Vt.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-disabled"))):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=Vt&&(Vt.className="".concat(this._options.buttonClass," introjs-prevbutton")),!0===this._options.hideNext?(null!=Mt&&(Mt.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=Vt&&Ls(Vt,"introjs-fullbutton")):null!=Mt&&(!0===this._options.nextToDone?(Mt.innerHTML=this._options.doneLabel,Ls(Mt,"".concat(this._options.buttonClass," introjs-nextbutton introjs-donebutton"))):Mt.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=Vt&&(Vt.className="".concat(this._options.buttonClass," introjs-prevbutton")),null!=Mt&&(Mt.className="".concat(this._options.buttonClass," introjs-nextbutton"),Mt.innerHTML=this._options.nextLabel)),null!=Vt&&Vt.setAttribute("role","button"),null!=Mt&&Mt.setAttribute("role","button"),null!=di&&di.setAttribute("role","button"),null!=Mt&&Mt.focus(),function(he){var ye=he.element;Ls(ye,"introjs-showElement");var $e=ea(ye,"position");"absolute"!==$e&&"relative"!==$e&&"sticky"!==$e&&"fixed"!==$e&&Ls(ye,"introjs-relativePosition")}(he),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,he.element)}function qu(he){this._currentStep=he-2,void 0!==this._introItems&&vs.call(this)}function Nl(he){this._currentStepNumber=he,void 0!==this._introItems&&vs.call(this)}function vs(){var he=this;this._direction="forward",void 0!==this._currentStepNumber&&p(this._introItems,function(ft,Tt){ft.step===he._currentStepNumber&&(he._currentStep=Tt-1,he._currentStepNumber=void 0)}),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var ye=this._introItems[this._currentStep],$e=!0;return void 0!==this._introBeforeChangeCallback&&($e=this._introBeforeChangeCallback.call(this,ye&&ye.element)),!1===$e?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this,this._currentStep,"end"),void bs.call(this,this._targetElement)):void _l.call(this,ye)}function Bs(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var he=this._introItems[this._currentStep],ye=!0;if(void 0!==this._introBeforeChangeCallback&&(ye=this._introBeforeChangeCallback.call(this,he&&he.element)),!1===ye)return++this._currentStep,!1;_l.call(this,he)}function Ec(){return this._currentStep}function Fl(he){var ye=void 0===he.code?he.which:he.code;if(null===ye&&(ye=null===he.charCode?he.keyCode:he.charCode),"Escape"!==ye&&27!==ye||!0!==this._options.exitOnEsc){if("ArrowLeft"===ye||37===ye)Bs.call(this);else if("ArrowRight"===ye||39===ye)vs.call(this);else if("Enter"===ye||"NumpadEnter"===ye||13===ye){var $e=he.target||he.srcElement;$e&&$e.className.match("introjs-prevbutton")?Bs.call(this):$e&&$e.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this,this._currentStep,"skip"),bs.call(this,this._targetElement)):$e&&$e.getAttribute("data-stepnumber")?$e.click():vs.call(this),he.preventDefault?he.preventDefault():he.returnValue=!1}}else bs.call(this,this._targetElement)}function so(he){if(null===he||"object"!==H(he)||void 0!==he.nodeType)return he;var ye={};for(var $e in he)ye[$e]=void 0!==window.jQuery&&he[$e]instanceof window.jQuery?he[$e]:so(he[$e]);return ye}function el(he){var ye=document.querySelector(".introjs-hints");return ye?ye.querySelectorAll(he):[]}function xa(he){var ye=el('.introjs-hint[data-step="'.concat(he,'"]'))[0];Cc.call(this),ye&&Ls(ye,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,he)}function vl(){var he=this;p(el(".introjs-hint"),function($e){xa.call(he,$e.getAttribute("data-step"))})}function ed(){var he=this,ye=el(".introjs-hint");ye&&ye.length?p(ye,function($e){Qc.call(he,$e.getAttribute("data-step"))}):Tc.call(this,this._targetElement)}function Qc(he){var ye=el('.introjs-hint[data-step="'.concat(he,'"]'))[0];ye&&ha(ye,/introjs-hidehint/g)}function td(){var he=this;p(el(".introjs-hint"),function($e){Hl.call(he,$e.getAttribute("data-step"))}),t.off(document,"click",Cc,this,!1),t.off(window,"resize",Vl,this,!0),this._hintsAutoRefreshFunction&&t.off(window,"scroll",this._hintsAutoRefreshFunction,this,!0)}function Hl(he){var ye=el('.introjs-hint[data-step="'.concat(he,'"]'))[0];ye&&ye.parentNode.removeChild(ye)}function Ys(){var he=this,ye=this,$e=document.querySelector(".introjs-hints");null===$e&&($e=Un("div",{className:"introjs-hints"}));p(this._introItems,function(Tt,$t){if(!document.querySelector('.introjs-hint[data-step="'.concat($t,'"]'))){var Mt=Un("a",{className:"introjs-hint"});Q(Mt),Mt.onclick=function($t){return function(Mt){var Vt=Mt||window.event;Vt.stopPropagation&&Vt.stopPropagation(),null!==Vt.cancelBubble&&(Vt.cancelBubble=!0),Ha.call(ye,$t)}}($t),Tt.hintAnimation||Ls(Mt,"introjs-hint-no-anim"),wt(Tt.element)&&Ls(Mt,"introjs-fixedhint");var Vt=Un("div",{className:"introjs-hint-dot"}),di=Un("div",{className:"introjs-hint-pulse"});Mt.appendChild(Vt),Mt.appendChild(di),Mt.setAttribute("data-step",$t),Tt.targetElement=Tt.element,Tt.element=Mt,tl.call(he,Tt.hintPosition,Mt,Tt.targetElement),$e.appendChild(Mt)}}),document.body.appendChild($e),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this),this._options.hintAutoRefreshInterval>=0&&(this._hintsAutoRefreshFunction=function(he,ye){var ft,$e=this;return function(){for(var Tt=arguments.length,$t=new Array(Tt),Mt=0;Mt<Tt;Mt++)$t[Mt]=arguments[Mt];clearTimeout(ft),ft=setTimeout(function(){he.apply($e,$t)},ye)}}(function(){return Vl.call(he)},this._options.hintAutoRefreshInterval),t.on(window,"scroll",this._hintsAutoRefreshFunction,this,!0))}function tl(he,ye,$e){var ft=ye.style,Tt=Pt.call(this,$e);switch(he){default:case"top-left":ft.left="".concat(Tt.left,"px"),ft.top="".concat(Tt.top,"px");break;case"top-right":ft.left="".concat(Tt.left+Tt.width-20,"px"),ft.top="".concat(Tt.top,"px");break;case"bottom-left":ft.left="".concat(Tt.left,"px"),ft.top="".concat(Tt.top+Tt.height-20,"px");break;case"bottom-right":ft.left="".concat(Tt.left+Tt.width-20,"px"),ft.top="".concat(Tt.top+Tt.height-20,"px");break;case"middle-left":ft.left="".concat(Tt.left,"px"),ft.top="".concat(Tt.top+(Tt.height-20)/2,"px");break;case"middle-right":ft.left="".concat(Tt.left+Tt.width-20,"px"),ft.top="".concat(Tt.top+(Tt.height-20)/2,"px");break;case"middle-middle":ft.left="".concat(Tt.left+(Tt.width-20)/2,"px"),ft.top="".concat(Tt.top+(Tt.height-20)/2,"px");break;case"bottom-middle":ft.left="".concat(Tt.left+(Tt.width-20)/2,"px"),ft.top="".concat(Tt.top+Tt.height-20,"px");break;case"top-middle":ft.left="".concat(Tt.left+(Tt.width-20)/2,"px"),ft.top="".concat(Tt.top,"px")}}function Ha(he){var ye=document.querySelector('.introjs-hint[data-step="'.concat(he,'"]')),$e=this._introItems[he];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,ye,$e,he);var ft=Cc.call(this);if(parseInt(ft,10)!==he){var Tt=Un("div",{className:"introjs-tooltip"}),$t=Un("div"),Mt=Un("div"),Vt=Un("div");Tt.onclick=function(bi){bi.stopPropagation?bi.stopPropagation():bi.cancelBubble=!0},$t.className="introjs-tooltiptext";var di=Un("p");if(di.innerHTML=$e.hint,$t.appendChild(di),this._options.hintShowButton){var _i=Un("a");_i.className=this._options.buttonClass,_i.setAttribute("role","button"),_i.innerHTML=this._options.hintButtonLabel,_i.onclick=xa.bind(this,he),$t.appendChild(_i)}Mt.className="introjs-arrow",Tt.appendChild(Mt),Tt.appendChild($t),this._currentStep=ye.getAttribute("data-step"),Vt.className="introjs-tooltipReferenceLayer introjs-hintReference",Vt.setAttribute("data-step",ye.getAttribute("data-step")),Ds.call(this,Vt),Vt.appendChild(Tt),document.body.appendChild(Vt),rs.call(this,ye,Tt,Mt,!0)}}function Cc(){var he=document.querySelector(".introjs-hintReference");if(he){var ye=he.getAttribute("data-step");return he.parentNode.removeChild(he),ye}}function Tc(he){var ye=this;if(this._introItems=[],this._options.hints)p(this._options.hints,function(ft){var Tt=so(ft);"string"==typeof Tt.element&&(Tt.element=document.querySelector(Tt.element)),Tt.hintPosition=Tt.hintPosition||ye._options.hintPosition,Tt.hintAnimation=Tt.hintAnimation||ye._options.hintAnimation,null!==Tt.element&&ye._introItems.push(Tt)});else{var $e=he.querySelectorAll("*[data-hint]");if(!$e||!$e.length)return!1;p($e,function(ft){var Tt=ft.getAttribute("data-hintanimation");Tt=Tt?"true"===Tt:ye._options.hintAnimation,ye._introItems.push({element:ft,hint:ft.getAttribute("data-hint"),hintPosition:ft.getAttribute("data-hintposition")||ye._options.hintPosition,hintAnimation:Tt,tooltipClass:ft.getAttribute("data-tooltipclass"),position:ft.getAttribute("data-position")||ye._options.tooltipPosition})})}Ys.call(this),t.on(document,"click",Cc,this,!1),t.on(window,"resize",Vl,this,!0)}function Vl(){var he=this;p(this._introItems,function(ye){var $e=ye.targetElement;void 0!==$e&&tl.call(he,ye.hintPosition,ye.element,$e)})}Mr({target:"Array",proto:!0,forced:!Rd},{splice:function(ye,$e){var Vt,di,_i,bi,bn,ln,ft=ci(this),Tt=qn(ft),$t=Cs(ye,Tt),Mt=arguments.length;if(0===Mt?Vt=di=0:1===Mt?(Vt=0,di=Tt-$t):(Vt=Mt-2,di=Zc(Oo(Ar($e),0),Tt-$t)),Tt+Vt-di>Ma)throw sc(Qu);for(_i=wa(ft,di),bi=0;bi<di;bi++)(bn=$t+bi)in ft&&en(_i,bi,ft[bn]);if(_i.length=di,Vt<di){for(bi=$t;bi<Tt-di;bi++)ln=bi+Vt,(bn=bi+di)in ft?ft[ln]=ft[bn]:delete ft[ln];for(bi=Tt;bi>Tt-di+Vt;bi--)delete ft[bi-1]}else if(Vt>di)for(bi=Tt-di;bi>$t;bi--)ln=bi+Vt-1,(bn=bi+di-1)in ft?ft[ln]=ft[bn]:delete ft[ln];for(bi=0;bi<Vt;bi++)ft[bi+$t]=arguments[bi+2];return ft.length=Tt-di+Vt,_i}});var Xs=Math.floor,wc=function(he,ye){var $e=he.length,ft=Xs($e/2);return $e<8?id(he,ye):_r(he,wc(Ka(he,0,ft),ye),wc(Ka(he,ft),ye),ye)},id=function(he,ye){for(var Tt,$t,$e=he.length,ft=1;ft<$e;){for($t=ft,Tt=he[ft];$t&&ye(he[$t-1],Tt)>0;)he[$t]=he[--$t];$t!==ft++&&(he[$t]=Tt)}return he},_r=function(he,ye,$e,ft){for(var Tt=ye.length,$t=$e.length,Mt=0,Vt=0;Mt<Tt||Vt<$t;)he[Mt+Vt]=Mt<Tt&&Vt<$t?ft(ye[Mt],$e[Vt])<=0?ye[Mt++]:$e[Vt++]:Mt<Tt?ye[Mt++]:$e[Vt++];return he},Ul=wc,bl=Bt.match(/firefox\/(\d+)/i),lc=!!bl&&+bl[1],qc=/MSIE|Trident/.test(Bt),Sc=Bt.match(/AppleWebKit\/(\d+)\./),Su=!!Sc&&+Sc[1],Ra=[],Du=ce(Ra.sort),Mu=ce(Ra.push),xu=b(function(){Ra.sort(void 0)}),cc=b(function(){Ra.sort(null)}),il=Na("sort"),fa=!b(function(){if(Ne)return Ne<70;if(!(lc&&lc>3)){if(qc)return!0;if(Su)return Su<603;var ye,$e,ft,Tt,he="";for(ye=65;ye<76;ye++){switch($e=String.fromCharCode(ye),ye){case 66:case 69:case 70:case 72:ft=3;break;case 68:case 71:ft=4;break;default:ft=2}for(Tt=0;Tt<47;Tt++)Ra.push({k:$e+Tt,v:ft})}for(Ra.sort(function($t,Mt){return Mt.v-$t.v}),Tt=0;Tt<Ra.length;Tt++)$e=Ra[Tt].k.charAt(0),he.charAt(he.length-1)!==$e&&(he+=$e);return"DGBEFHACIJK"!==he}});function nd(he){var ye=this,$e=he.querySelectorAll("*[data-intro]"),ft=[];if(this._options.steps)p(this._options.steps,function(_i){var bi=so(_i);if(bi.step=ft.length+1,bi.title=bi.title||"","string"==typeof bi.element&&(bi.element=document.querySelector(bi.element)),null==bi.element){var bn=document.querySelector(".introjsFloatingElement");null===bn&&(bn=Un("div",{className:"introjsFloatingElement"}),document.body.appendChild(bn)),bi.element=bn,bi.position="floating"}bi.position=bi.position||ye._options.tooltipPosition,bi.scrollTo=bi.scrollTo||ye._options.scrollTo,void 0===bi.disableInteraction&&(bi.disableInteraction=ye._options.disableInteraction),null!==bi.element&&ft.push(bi)});else{var $t;if($e.length<1)return[];p($e,function(_i){if((!ye._options.group||_i.getAttribute("data-intro-group")===ye._options.group)&&"none"!==_i.style.display){var bi=parseInt(_i.getAttribute("data-step"),10);$t=_i.hasAttribute("data-disable-interaction")?!!_i.getAttribute("data-disable-interaction"):ye._options.disableInteraction,bi>0&&(ft[bi-1]={element:_i,title:_i.getAttribute("data-title")||"",intro:_i.getAttribute("data-intro"),step:parseInt(_i.getAttribute("data-step"),10),tooltipClass:_i.getAttribute("data-tooltipclass"),highlightClass:_i.getAttribute("data-highlightclass"),position:_i.getAttribute("data-position")||ye._options.tooltipPosition,scrollTo:_i.getAttribute("data-scrollto")||ye._options.scrollTo,disableInteraction:$t})}});var Mt=0;p($e,function(_i){if((!ye._options.group||_i.getAttribute("data-intro-group")===ye._options.group)&&null===_i.getAttribute("data-step")){for(;void 0!==ft[Mt];)Mt++;$t=_i.hasAttribute("data-disable-interaction")?!!_i.getAttribute("data-disable-interaction"):ye._options.disableInteraction,ft[Mt]={element:_i,title:_i.getAttribute("data-title")||"",intro:_i.getAttribute("data-intro"),step:Mt+1,tooltipClass:_i.getAttribute("data-tooltipclass"),highlightClass:_i.getAttribute("data-highlightclass"),position:_i.getAttribute("data-position")||ye._options.tooltipPosition,scrollTo:_i.getAttribute("data-scrollto")||ye._options.scrollTo,disableInteraction:$t}}})}for(var Vt=[],di=0;di<ft.length;di++)ft[di]&&Vt.push(ft[di]);return(ft=Vt).sort(function(_i,bi){return _i.step-bi.step}),ft}function yl(he){var ye=document.querySelector(".introjs-tooltipReferenceLayer"),$e=document.querySelector(".introjs-helperLayer"),ft=document.querySelector(".introjs-disableInteraction");if(Ds.call(this,$e),Ds.call(this,ye),Ds.call(this,ft),he&&(this._introItems=nd.call(this,this._targetElement),Ll.call(this,ye,this._introItems[this._currentStep]),wu.call(this,ye)),null!=this._currentStep){var Tt=document.querySelector(".introjs-arrow"),$t=document.querySelector(".introjs-tooltip");$t&&Tt&&rs.call(this,this._introItems[this._currentStep].element,$t,Tt)}return Vl.call(this),this}function nl(){yl.call(this)}function Ia(he,ye){if(he&&he.parentElement){var $e=he.parentElement;ye?(Ss(he,{opacity:"0"}),window.setTimeout(function(){try{$e.removeChild(he)}catch(ft){}},500)):$e.removeChild(he)}}function bs(he,ye){var $e=!0;if(void 0!==this._introBeforeExitCallback&&($e=this._introBeforeExitCallback.call(this)),ye||!1!==$e){var ft=he.querySelectorAll(".introjs-overlay");ft&&ft.length&&p(ft,function(di){return Ia(di)}),Ia(he.querySelector(".introjs-helperLayer"),!0),Ia(he.querySelector(".introjs-tooltipReferenceLayer")),Ia(he.querySelector(".introjs-disableInteraction")),Ia(document.querySelector(".introjsFloatingElement")),Pl(),t.off(window,"keydown",Fl,this,!0),t.off(window,"resize",nl,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function eu(he){var ye=this,$e=Un("div",{className:"introjs-overlay"});return Ss($e,{top:0,bottom:0,left:0,right:0,position:"fixed"}),he.appendChild($e),!0===this._options.exitOnOverlayClick&&(Ss($e,{cursor:"pointer"}),$e.onclick=function(){bs.call(ye,he)}),!0}function Va(he){void 0!==this._introStartCallback&&this._introStartCallback.call(this,he);var ye=nd.call(this,he);return 0===ye.length||(this._introItems=ye,eu.call(this,he)&&(vs.call(this),this._options.keyboardNavigation&&t.on(window,"keydown",Fl,this,!0),t.on(window,"resize",nl,this,!0))),!1}function El(he){this._targetElement=he,this._introItems=[],this._options={nextLabel:"Next",prevLabel:"Back",skipLabel:"\xd7",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}Mr({target:"Array",proto:!0,forced:xu||!cc||!il||!fa},{sort:function(ye){void 0!==ye&&lt(ye);var $e=ci(this);if(fa)return void 0===ye?Du($e):Du($e,ye);var $t,Mt,ft=[],Tt=qn($e);for(Mt=0;Mt<Tt;Mt++)Mt in $e&&Mu(ft,$e[Mt]);for(Ul(ft,function(he){return function(ye,$e){return void 0===$e?-1:void 0===ye?1:void 0!==he?+he(ye,$e)||0:sr(ye)>sr($e)?1:-1}}(ye)),$t=ft.length,Mt=0;Mt<$t;)$e[Mt]=ft[Mt++];for(;Mt<Tt;)delete $e[Mt++];return $e}});var Dc=function he(ye){var $e;if("object"===H(ye))$e=new El(ye);else if("string"==typeof ye){var ft=document.querySelector(ye);if(!ft)throw new Error("There is no element with given selector.");$e=new El(ft)}else $e=new El(document.body);return he.instances[v($e,"introjs-instance")]=$e,$e};return Dc.version="4.3.0",Dc.instances={},Dc.fn=El.prototype={clone:function(){return new El(this)},setOption:function(ye,$e){return this._options[ye]=$e,this},setOptions:function(ye){return this._options=function(he,ye){var ft,$e={};for(ft in he)$e[ft]=he[ft];for(ft in ye)$e[ft]=ye[ft];return $e}(this._options,ye),this},start:function(){return Va.call(this,this._targetElement),this},goToStep:function(ye){return qu.call(this,ye),this},addStep:function(ye){return this._options.steps||(this._options.steps=[]),this._options.steps.push(ye),this},addSteps:function(ye){if(ye.length){for(var $e=0;$e<ye.length;$e++)this.addStep(ye[$e]);return this}},goToStepNumber:function(ye){return Nl.call(this,ye),this},nextStep:function(){return vs.call(this),this},previousStep:function(){return Bs.call(this),this},currentStep:function(){return Ec.call(this)},exit:function(ye){return bs.call(this,this._targetElement,ye),this},refresh:function(ye){return yl.call(this,ye),this},onbeforechange:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=ye,this},onchange:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=ye,this},onafterchange:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=ye,this},oncomplete:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=ye,this},onhintsadded:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=ye,this},onhintclick:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=ye,this},onhintclose:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=ye,this},onstart:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=ye,this},onexit:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=ye,this},onskip:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=ye,this},onbeforeexit:function(ye){if("function"!=typeof ye)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=ye,this},addHints:function(){return Tc.call(this,this._targetElement),this},hideHint:function(ye){return xa.call(this,ye),this},hideHints:function(){return vl.call(this),this},showHint:function(ye){return Qc.call(this,ye),this},showHints:function(){return ed.call(this),this},removeHints:function(){return td.call(this),this},removeHint:function(ye){return Hl().call(this,ye),this},showHintDialog:function(ye){return Ha.call(this,ye),this}},Dc}()},8704:(P,H,h)=>{"use strict";h.d(H,{PG:()=>R,nm:()=>W});var v=h(5e3),p=h(93075),t=h(54968),e=h(69808);const n=["editorContainer"],o=new v.OlP("NGX_MONACO_EDITOR_CONFIG");let b,u=!1,w=(()=>{class Z{constructor(ae){this.config=ae,this.onInit=new v.vpe}ngAfterViewInit(){u?b.then(()=>{this.initMonaco(this._options)}):(u=!0,b=new Promise(ae=>{const xe=(this.config.baseUrl||"./assets")+"/monaco-editor/min/vs";if("object"==typeof window.monaco)return void ae();const fe=()=>{window.require.config({paths:{vs:`${xe}`}}),window.require(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options),ae()})};if(window.require)fe();else{const _e=document.createElement("script");_e.type="text/javascript",_e.src=`${xe}/loader.js`,_e.addEventListener("load",fe),document.body.appendChild(_e)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return Z.\u0275fac=function(ae){return new(ae||Z)(v.Y36(o))},Z.\u0275cmp=v.Xpm({type:Z,selectors:[["ng-component"]],viewQuery:function(ae,xe){if(1&ae&&v.Gf(n,7),2&ae){let fe;v.iGM(fe=v.CRH())&&(xe._editorContainer=fe.first)}},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(ae,xe){},encapsulation:2}),Z})(),R=(()=>{class Z extends w{constructor(ae,xe){super(xe),this.zone=ae,this.editorConfig=xe,this._value="",this.propagateChange=fe=>{},this.onTouched=()=>{}}set options(ae){this._options=Object.assign({},this.config.defaultOptions,ae),this._editor&&(this._editor.dispose(),this.initMonaco(ae))}get options(){return this._options}set model(ae){this.options.model=ae,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(ae){this._value=ae||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(ae){this.propagateChange=ae}registerOnTouched(ae){this.onTouched=ae}initMonaco(ae){const xe=!!ae.model;if(xe){const fe=monaco.editor.getModel(ae.model.uri||"");fe?(ae.model=fe,ae.model.setValue(this._value)):ae.model=monaco.editor.createModel(ae.model.value,ae.model.language,ae.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,ae),xe||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(fe=>{const _e=this._editor.getValue();this.zone.run(()=>{this.propagateChange(_e),this._value=_e})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,t.R)(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return Z.\u0275fac=function(ae){return new(ae||Z)(v.Y36(v.R0b),v.Y36(o))},Z.\u0275cmp=v.Xpm({type:Z,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[v._Bn([{provide:p.JU,useExisting:(0,v.Gpc)(()=>Z),multi:!0}]),v.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(ae,xe){1&ae&&v._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%] {\n          display: block;\n          height: 200px;\n      }\n\n      .editor-container[_ngcontent-%COMP%] {\n          width: 100%;\n          height: 98%;\n      }"]}),Z})(),W=(()=>{class Z{static forRoot(ae={}){return{ngModule:Z,providers:[{provide:o,useValue:ae}]}}}return Z.\u0275fac=function(ae){return new(ae||Z)},Z.\u0275mod=v.oAB({type:Z}),Z.\u0275inj=v.cJS({imports:[[e.ez]]}),Z})()},61135:(P,H,h)=>{"use strict";h.d(H,{X:()=>p});var v=h(77579);class p extends v.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:o}=this;if(e)throw n;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}}},79307:(P,H,h)=>{"use strict";h.d(H,{y:()=>R});var v=h(70930),p=h(50727),t=h(48822),e=h(44671);var u=h(42416),b=h(30576),w=h(72806);let R=(()=>{class K{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const fe=new K;return fe.source=this,fe.operator=xe,fe}subscribe(xe,fe,_e){const Oe=function(K){return K&&K instanceof v.Lv||function(K){return K&&(0,b.m)(K.next)&&(0,b.m)(K.error)&&(0,b.m)(K.complete)}(K)&&(0,p.Nn)(K)}(xe)?xe:new v.Hp(xe,fe,_e);return(0,w.x)(()=>{const{operator:Be,source:Ee}=this;Oe.add(Be?Be.call(Oe,Ee):Ee?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(xe){try{return this._subscribe(xe)}catch(fe){xe.error(fe)}}forEach(xe,fe){return new(fe=N(fe))((_e,Oe)=>{let Be;Be=this.subscribe(Ee=>{try{xe(Ee)}catch(ce){Oe(ce),null==Be||Be.unsubscribe()}},Oe,_e)})}_subscribe(xe){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(xe)}[t.L](){return this}pipe(...xe){return function(K){return 0===K.length?e.y:1===K.length?K[0]:function(xe){return K.reduce((fe,_e)=>_e(fe),xe)}}(xe)(this)}toPromise(xe){return new(xe=N(xe))((fe,_e)=>{let Oe;this.subscribe(Be=>Oe=Be,Be=>_e(Be),()=>fe(Oe))})}}return K.create=ae=>new K(ae),K})();function N(K){var ae;return null!==(ae=null!=K?K:u.v.Promise)&&void 0!==ae?ae:Promise}},77579:(P,H,h)=>{"use strict";h.d(H,{x:()=>u});var v=h(79307),p=h(50727);const e=(0,h(83888).d)(w=>function(){w(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var n=h(38737),o=h(72806);let u=(()=>{class w extends v.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(N){const W=new b(this,this);return W.operator=N,W}_throwIfClosed(){if(this.closed)throw new e}next(N){(0,o.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const W=this.observers.slice();for(const Z of W)Z.next(N)}})}error(N){(0,o.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=N;const{observers:W}=this;for(;W.length;)W.shift().error(N)}})}complete(){(0,o.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:N}=this;for(;N.length;)N.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var N;return(null===(N=this.observers)||void 0===N?void 0:N.length)>0}_trySubscribe(N){return this._throwIfClosed(),super._trySubscribe(N)}_subscribe(N){return this._throwIfClosed(),this._checkFinalizedStatuses(N),this._innerSubscribe(N)}_innerSubscribe(N){const{hasError:W,isStopped:Z,observers:K}=this;return W||Z?p.Lc:(K.push(N),new p.w0(()=>(0,n.P)(K,N)))}_checkFinalizedStatuses(N){const{hasError:W,thrownError:Z,isStopped:K}=this;W?N.error(Z):K&&N.complete()}asObservable(){const N=new v.y;return N.source=this,N}}return w.create=(R,N)=>new b(R,N),w})();class b extends u{constructor(R,N){super(),this.destination=R,this.source=N}next(R){var N,W;null===(W=null===(N=this.destination)||void 0===N?void 0:N.next)||void 0===W||W.call(N,R)}error(R){var N,W;null===(W=null===(N=this.destination)||void 0===N?void 0:N.error)||void 0===W||W.call(N,R)}complete(){var R,N;null===(N=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===N||N.call(R)}_subscribe(R){var N,W;return null!==(W=null===(N=this.source)||void 0===N?void 0:N.subscribe(R))&&void 0!==W?W:p.Lc}}},70930:(P,H,h)=>{"use strict";h.d(H,{Hp:()=>Z,Lv:()=>W});var v=h(30576),p=h(50727),t=h(42416),e=h(87849),n=h(25032);const o=w("C",void 0,void 0);function w(_e,Oe,Be){return{kind:_e,value:Oe,error:Be}}var R=h(43410),N=h(72806);class W extends p.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,p.Nn)(Oe)&&Oe.add(this)):this.destination=fe}static create(Oe,Be,Ee){return new Z(Oe,Be,Ee)}next(Oe){this.isStopped?xe(w("N",Oe,void 0),this):this._next(Oe)}error(Oe){this.isStopped?xe(w("E",void 0,Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?xe(o,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Z extends W{constructor(Oe,Be,Ee){let ce;if(super(),(0,v.m)(Oe))ce=Oe;else if(Oe){let q;({next:ce,error:Be,complete:Ee}=Oe),this&&t.v.useDeprecatedNextContext?(q=Object.create(Oe),q.unsubscribe=()=>this.unsubscribe()):q=Oe,ce=null==ce?void 0:ce.bind(q),Be=null==Be?void 0:Be.bind(q),Ee=null==Ee?void 0:Ee.bind(q)}this.destination={next:ce?K(ce):n.Z,error:K(null!=Be?Be:ae),complete:Ee?K(Ee):n.Z}}}function K(_e,Oe){return(...Be)=>{try{_e(...Be)}catch(Ee){t.v.useDeprecatedSynchronousErrorHandling?(0,N.O)(Ee):(0,e.h)(Ee)}}}function ae(_e){throw _e}function xe(_e,Oe){const{onStoppedNotification:Be}=t.v;Be&&R.z.setTimeout(()=>Be(_e,Oe))}const fe={closed:!0,next:n.Z,error:ae,complete:n.Z}},50727:(P,H,h)=>{"use strict";h.d(H,{Lc:()=>o,w0:()=>n,Nn:()=>u});var v=h(30576);const t=(0,h(83888).d)(w=>function(N){w(this),this.message=N?`${N.length} errors occurred during unsubscription:\n${N.map((W,Z)=>`${Z+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=N});var e=h(38737);class n{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:N}=this;if(N)if(this._parentage=null,Array.isArray(N))for(const K of N)K.remove(this);else N.remove(this);const{initialTeardown:W}=this;if((0,v.m)(W))try{W()}catch(K){R=K instanceof t?K.errors:[K]}const{_teardowns:Z}=this;if(Z){this._teardowns=null;for(const K of Z)try{b(K)}catch(ae){R=null!=R?R:[],ae instanceof t?R=[...R,...ae.errors]:R.push(ae)}}if(R)throw new t(R)}}add(R){var N;if(R&&R!==this)if(this.closed)b(R);else{if(R instanceof n){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._teardowns=null!==(N=this._teardowns)&&void 0!==N?N:[]).push(R)}}_hasParent(R){const{_parentage:N}=this;return N===R||Array.isArray(N)&&N.includes(R)}_addParent(R){const{_parentage:N}=this;this._parentage=Array.isArray(N)?(N.push(R),N):N?[N,R]:R}_removeParent(R){const{_parentage:N}=this;N===R?this._parentage=null:Array.isArray(N)&&(0,e.P)(N,R)}remove(R){const{_teardowns:N}=this;N&&(0,e.P)(N,R),R instanceof n&&R._removeParent(this)}}n.EMPTY=(()=>{const w=new n;return w.closed=!0,w})();const o=n.EMPTY;function u(w){return w instanceof n||w&&"closed"in w&&(0,v.m)(w.remove)&&(0,v.m)(w.add)&&(0,v.m)(w.unsubscribe)}function b(w){(0,v.m)(w)?w():w.unsubscribe()}},42416:(P,H,h)=>{"use strict";h.d(H,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},39841:(P,H,h)=>{"use strict";h.d(H,{a:()=>R});var v=h(79307),p=h(54742),t=h(32076),e=h(44671),n=h(83268),o=h(63269),u=h(31810),b=h(25403),w=h(39672);function R(...Z){const K=(0,o.yG)(Z),ae=(0,o.jO)(Z),{args:xe,keys:fe}=(0,p.D)(Z);if(0===xe.length)return(0,t.D)([],K);const _e=new v.y(function(Z,K,ae=e.y){return xe=>{W(K,()=>{const{length:fe}=Z,_e=new Array(fe);let Oe=fe,Be=fe;for(let Ee=0;Ee<fe;Ee++)W(K,()=>{const ce=(0,t.D)(Z[Ee],K);let q=!1;ce.subscribe(new b.Q(xe,se=>{_e[Ee]=se,q||(q=!0,Be--),Be||xe.next(ae(_e.slice()))},()=>{--Oe||xe.complete()}))},xe)},xe)}}(xe,K,fe?Oe=>(0,u.n)(fe,Oe):e.y));return ae?_e.pipe((0,n.Z)(ae)):_e}function W(Z,K,ae){Z?(0,w.f)(ae,Z,K):K()}},97272:(P,H,h)=>{"use strict";h.d(H,{z:()=>n});var v=h(8189),t=h(63269),e=h(32076);function n(...o){return(0,v.J)(1)((0,e.D)(o,(0,t.yG)(o)))}},49770:(P,H,h)=>{"use strict";h.d(H,{P:()=>t});var v=h(79307),p=h(38421);function t(e){return new v.y(n=>{(0,p.Xf)(e()).subscribe(n)})}},60515:(P,H,h)=>{"use strict";h.d(H,{E:()=>p});const p=new(h(79307).y)(n=>n.complete())},4128:(P,H,h)=>{"use strict";h.d(H,{D:()=>b});var v=h(79307),p=h(54742),t=h(38421),e=h(63269),n=h(25403),o=h(83268),u=h(31810);function b(...w){const R=(0,e.jO)(w),{args:N,keys:W}=(0,p.D)(w),Z=new v.y(K=>{const{length:ae}=N;if(!ae)return void K.complete();const xe=new Array(ae);let fe=ae,_e=ae;for(let Oe=0;Oe<ae;Oe++){let Be=!1;(0,t.Xf)(N[Oe]).subscribe(new n.Q(K,Ee=>{Be||(Be=!0,_e--),xe[Oe]=Ee},()=>fe--,void 0,()=>{(!fe||!Be)&&(_e||K.next(W?(0,u.n)(W,xe):xe),K.complete())}))}});return R?Z.pipe((0,o.Z)(R)):Z}},32076:(P,H,h)=>{"use strict";h.d(H,{D:()=>se});var v=h(38421),p=h(39672),t=h(54482),e=h(25403);function n(ne,Pe=0){return(0,t.e)((oe,de)=>{oe.subscribe(new e.Q(de,te=>(0,p.f)(de,ne,()=>de.next(te),Pe),()=>(0,p.f)(de,ne,()=>de.complete(),Pe),te=>(0,p.f)(de,ne,()=>de.error(te),Pe)))})}function o(ne,Pe=0){return(0,t.e)((oe,de)=>{de.add(ne.schedule(()=>oe.subscribe(de),Pe))})}var w=h(79307),N=h(2202),W=h(30576);function K(ne,Pe){if(!ne)throw new Error("Iterable cannot be null");return new w.y(oe=>{(0,p.f)(oe,Pe,()=>{const de=ne[Symbol.asyncIterator]();(0,p.f)(oe,Pe,()=>{de.next().then(te=>{te.done?oe.complete():oe.next(te.value)})},0,!0)})})}var ae=h(93670),xe=h(28239),fe=h(81144),_e=h(26495),Oe=h(12206),Be=h(44532),Ee=h(53260);function se(ne,Pe){return Pe?function(ne,Pe){if(null!=ne){if((0,ae.c)(ne))return function(ne,Pe){return(0,v.Xf)(ne).pipe(o(Pe),n(Pe))}(ne,Pe);if((0,fe.z)(ne))return function(ne,Pe){return new w.y(oe=>{let de=0;return Pe.schedule(function(){de===ne.length?oe.complete():(oe.next(ne[de++]),oe.closed||this.schedule())})})}(ne,Pe);if((0,xe.t)(ne))return function(ne,Pe){return(0,v.Xf)(ne).pipe(o(Pe),n(Pe))}(ne,Pe);if((0,Oe.D)(ne))return K(ne,Pe);if((0,_e.T)(ne))return function(ne,Pe){return new w.y(oe=>{let de;return(0,p.f)(oe,Pe,()=>{de=ne[N.h](),(0,p.f)(oe,Pe,()=>{let te,ie;try{({value:te,done:ie}=de.next())}catch(Ge){return void oe.error(Ge)}ie?oe.complete():oe.next(te)},0,!0)}),()=>(0,W.m)(null==de?void 0:de.return)&&de.return()})}(ne,Pe);if((0,Ee.L)(ne))return function(ne,Pe){return K((0,Ee.Q)(ne),Pe)}(ne,Pe)}throw(0,Be.z)(ne)}(ne,Pe):(0,v.Xf)(ne)}},54968:(P,H,h)=>{"use strict";h.d(H,{R:()=>R});var v=h(38421),p=h(79307),t=h(95577),e=h(81144),n=h(30576),o=h(83268);const u=["addListener","removeListener"],b=["addEventListener","removeEventListener"],w=["on","off"];function R(ae,xe,fe,_e){if((0,n.m)(fe)&&(_e=fe,fe=void 0),_e)return R(ae,xe,fe).pipe((0,o.Z)(_e));const[Oe,Be]=function(ae){return(0,n.m)(ae.addEventListener)&&(0,n.m)(ae.removeEventListener)}(ae)?b.map(Ee=>ce=>ae[Ee](xe,ce,fe)):function(ae){return(0,n.m)(ae.addListener)&&(0,n.m)(ae.removeListener)}(ae)?u.map(N(ae,xe)):function(ae){return(0,n.m)(ae.on)&&(0,n.m)(ae.off)}(ae)?w.map(N(ae,xe)):[];if(!Oe&&(0,e.z)(ae))return(0,t.z)(Ee=>R(Ee,xe,fe))((0,v.Xf)(ae));if(!Oe)throw new TypeError("Invalid event target");return new p.y(Ee=>{const ce=(...q)=>Ee.next(1<q.length?q:q[0]);return Oe(ce),()=>Be(ce)})}function N(ae,xe){return fe=>_e=>ae[fe](xe,_e)}},38421:(P,H,h)=>{"use strict";h.d(H,{Xf:()=>Z});var v=h(35987),p=h(81144),t=h(28239),e=h(79307),n=h(93670),o=h(12206),u=h(44532),b=h(26495),w=h(53260),R=h(30576),N=h(87849),W=h(48822);function Z(Ee){if(Ee instanceof e.y)return Ee;if(null!=Ee){if((0,n.c)(Ee))return function(Ee){return new e.y(ce=>{const q=Ee[W.L]();if((0,R.m)(q.subscribe))return q.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,p.z)(Ee))return function(Ee){return new e.y(ce=>{for(let q=0;q<Ee.length&&!ce.closed;q++)ce.next(Ee[q]);ce.complete()})}(Ee);if((0,t.t)(Ee))return function(Ee){return new e.y(ce=>{Ee.then(q=>{ce.closed||(ce.next(q),ce.complete())},q=>ce.error(q)).then(null,N.h)})}(Ee);if((0,o.D)(Ee))return _e(Ee);if((0,b.T)(Ee))return function(Ee){return new e.y(ce=>{for(const q of Ee)if(ce.next(q),ce.closed)return;ce.complete()})}(Ee);if((0,w.L)(Ee))return function(Ee){return _e((0,w.Q)(Ee))}(Ee)}throw(0,u.z)(Ee)}function _e(Ee){return new e.y(ce=>{(function(Ee,ce){var q,se,ne,Pe;return(0,v.mG)(this,void 0,void 0,function*(){try{for(q=(0,v.KL)(Ee);!(se=yield q.next()).done;)if(ce.next(se.value),ce.closed)return}catch(oe){ne={error:oe}}finally{try{se&&!se.done&&(Pe=q.return)&&(yield Pe.call(q))}finally{if(ne)throw ne.error}}ce.complete()})})(Ee,ce).catch(q=>ce.error(q))})}},56451:(P,H,h)=>{"use strict";h.d(H,{T:()=>o});var v=h(8189),p=h(38421),t=h(60515),e=h(63269),n=h(32076);function o(...u){const b=(0,e.yG)(u),w=(0,e._6)(u,1/0),R=u;return R.length?1===R.length?(0,p.Xf)(R[0]):(0,v.J)(w)((0,n.D)(R,b)):t.E}},39646:(P,H,h)=>{"use strict";h.d(H,{of:()=>t});var v=h(63269),p=h(32076);function t(...e){const n=(0,v.yG)(e);return(0,p.D)(e,n)}},5963:(P,H,h)=>{"use strict";h.d(H,{H:()=>n});var v=h(79307),p=h(34986),t=h(93532);function n(o=0,u,b=p.P){let w=-1;return null!=u&&((0,t.K)(u)?b=u:w=u),new v.y(R=>{let N=function(o){return o instanceof Date&&!isNaN(o)}(o)?+o-b.now():o;N<0&&(N=0);let W=0;return b.schedule(function(){R.closed||(R.next(W++),0<=w?this.schedule(void 0,w):R.complete())},N)})}},25403:(P,H,h)=>{"use strict";h.d(H,{Q:()=>p});var v=h(70930);class p extends v.Lv{constructor(e,n,o,u,b){super(e),this.onFinalize=b,this._next=n?function(w){try{n(w)}catch(R){e.error(R)}}:super._next,this._error=u?function(w){try{u(w)}catch(R){e.error(R)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(w){e.error(w)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}},70262:(P,H,h)=>{"use strict";h.d(H,{K:()=>e});var v=h(38421),p=h(25403),t=h(54482);function e(n){return(0,t.e)((o,u)=>{let R,b=null,w=!1;b=o.subscribe(new p.Q(u,void 0,void 0,N=>{R=(0,v.Xf)(n(N,e(n)(o))),b?(b.unsubscribe(),b=null,R.subscribe(u)):w=!0})),w&&(b.unsubscribe(),b=null,R.subscribe(u))})}},24351:(P,H,h)=>{"use strict";h.d(H,{b:()=>t});var v=h(95577),p=h(30576);function t(e,n){return(0,p.m)(n)?(0,v.z)(e,n,1):(0,v.z)(e,1)}},78372:(P,H,h)=>{"use strict";h.d(H,{b:()=>e});var v=h(34986),p=h(54482),t=h(25403);function e(n,o=v.z){return(0,p.e)((u,b)=>{let w=null,R=null,N=null;const W=()=>{if(w){w.unsubscribe(),w=null;const K=R;R=null,b.next(K)}};function Z(){const K=N+n,ae=o.now();if(ae<K)return w=this.schedule(void 0,K-ae),void b.add(w);W()}u.subscribe(new t.Q(b,K=>{R=K,N=o.now(),w||(w=o.schedule(Z,n),b.add(w))},()=>{W(),b.complete()},void 0,()=>{R=w=null}))})}},91005:(P,H,h)=>{"use strict";h.d(H,{g:()=>W});var v=h(34986),p=h(97272),t=h(95698),e=h(54482),n=h(25403),o=h(25032),b=h(69718),w=h(95577);function R(Z,K){return K?ae=>(0,p.z)(K.pipe((0,t.q)(1),(0,e.e)((Z,K)=>{Z.subscribe(new n.Q(K,o.Z))})),ae.pipe(R(Z))):(0,w.z)((ae,xe)=>Z(ae,xe).pipe((0,t.q)(1),(0,b.h)(ae)))}var N=h(5963);function W(Z,K=v.z){const ae=(0,N.H)(Z,K);return R(()=>ae)}},71884:(P,H,h)=>{"use strict";h.d(H,{x:()=>e});var v=h(44671),p=h(54482),t=h(25403);function e(o,u=v.y){return o=null!=o?o:n,(0,p.e)((b,w)=>{let R,N=!0;b.subscribe(new t.Q(w,W=>{const Z=u(W);(N||!o(R,Z))&&(N=!1,R=Z,w.next(W))}))})}function n(o,u){return o===u}},39300:(P,H,h)=>{"use strict";h.d(H,{h:()=>t});var v=h(54482),p=h(25403);function t(e,n){return(0,v.e)((o,u)=>{let b=0;o.subscribe(new p.Q(u,w=>e.call(n,w,b++)&&u.next(w)))})}},28746:(P,H,h)=>{"use strict";h.d(H,{x:()=>p});var v=h(54482);function p(t){return(0,v.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}},54004:(P,H,h)=>{"use strict";h.d(H,{U:()=>t});var v=h(54482),p=h(25403);function t(e,n){return(0,v.e)((o,u)=>{let b=0;o.subscribe(new p.Q(u,w=>{u.next(e.call(n,w,b++))}))})}},69718:(P,H,h)=>{"use strict";h.d(H,{h:()=>p});var v=h(54004);function p(t){return(0,v.U)(()=>t)}},8189:(P,H,h)=>{"use strict";h.d(H,{J:()=>t});var v=h(95577),p=h(44671);function t(e=1/0){return(0,v.z)(p.y,e)}},95577:(P,H,h)=>{"use strict";h.d(H,{z:()=>b});var v=h(54004),p=h(38421),t=h(54482),n=(h(39672),h(25403)),u=h(30576);function b(w,R,N=1/0){return(0,u.m)(R)?b((W,Z)=>(0,v.U)((K,ae)=>R(W,K,Z,ae))((0,p.Xf)(w(W,Z))),N):("number"==typeof R&&(N=R),(0,t.e)((W,Z)=>function(w,R,N,W,Z,K,ae,xe){const fe=[];let _e=0,Oe=0,Be=!1;const Ee=()=>{Be&&!fe.length&&!_e&&R.complete()},ce=se=>_e<W?q(se):fe.push(se),q=se=>{_e++;let ne=!1;(0,p.Xf)(N(se,Oe++)).subscribe(new n.Q(R,Pe=>{R.next(Pe)},()=>{ne=!0},void 0,()=>{if(ne)try{for(_e--;fe.length&&_e<W;){const Pe=fe.shift();q(Pe)}Ee()}catch(Pe){R.error(Pe)}}))};return w.subscribe(new n.Q(R,ce,()=>{Be=!0,Ee()})),()=>{}}(W,Z,w,N)))}},13099:(P,H,h)=>{"use strict";h.d(H,{B:()=>o});var v=h(32076),p=h(95698),t=h(77579),e=h(70930),n=h(54482);function o(b={}){const{connector:w=(()=>new t.x),resetOnError:R=!0,resetOnComplete:N=!0,resetOnRefCountZero:W=!0}=b;return Z=>{let K=null,ae=null,xe=null,fe=0,_e=!1,Oe=!1;const Be=()=>{null==ae||ae.unsubscribe(),ae=null},Ee=()=>{Be(),K=xe=null,_e=Oe=!1},ce=()=>{const q=K;Ee(),null==q||q.unsubscribe()};return(0,n.e)((q,se)=>{fe++,!Oe&&!_e&&Be();const ne=xe=null!=xe?xe:w();se.add(()=>{fe--,0===fe&&!Oe&&!_e&&(ae=u(ce,W))}),ne.subscribe(se),K||(K=new e.Hp({next:Pe=>ne.next(Pe),error:Pe=>{Oe=!0,Be(),ae=u(Ee,R,Pe),ne.error(Pe)},complete:()=>{_e=!0,Be(),ae=u(Ee,N),ne.complete()}}),(0,v.D)(q).subscribe(K))})(Z)}}function u(b,w,...R){return!0===w?(b(),null):!1===w?null:w(...R).pipe((0,p.q)(1)).subscribe(()=>b())}},35684:(P,H,h)=>{"use strict";h.d(H,{T:()=>p});var v=h(39300);function p(t){return(0,v.h)((e,n)=>t<=n)}},68675:(P,H,h)=>{"use strict";h.d(H,{O:()=>e});var v=h(97272),p=h(63269),t=h(54482);function e(...n){const o=(0,p.yG)(n);return(0,t.e)((u,b)=>{(o?(0,v.z)(n,u,o):(0,v.z)(n,u)).subscribe(b)})}},63900:(P,H,h)=>{"use strict";h.d(H,{w:()=>e});var v=h(38421),p=h(54482),t=h(25403);function e(n,o){return(0,p.e)((u,b)=>{let w=null,R=0,N=!1;const W=()=>N&&!w&&b.complete();u.subscribe(new t.Q(b,Z=>{null==w||w.unsubscribe();let K=0;const ae=R++;(0,v.Xf)(n(Z,ae)).subscribe(w=new t.Q(b,xe=>b.next(o?o(Z,xe,ae,K++):xe),()=>{w=null,W()}))},()=>{N=!0,W()}))})}},95698:(P,H,h)=>{"use strict";h.d(H,{q:()=>e});var v=h(60515),p=h(54482),t=h(25403);function e(n){return n<=0?()=>v.E:(0,p.e)((o,u)=>{let b=0;o.subscribe(new t.Q(u,w=>{++b<=n&&(u.next(w),n<=b&&u.complete())}))})}},82722:(P,H,h)=>{"use strict";h.d(H,{R:()=>n});var v=h(54482),p=h(25403),t=h(38421),e=h(25032);function n(o){return(0,v.e)((u,b)=>{(0,t.Xf)(o).subscribe(new p.Q(b,()=>b.complete(),e.Z)),!b.closed&&u.subscribe(b)})}},18505:(P,H,h)=>{"use strict";h.d(H,{b:()=>n});var v=h(30576),p=h(54482),t=h(25403),e=h(44671);function n(o,u,b){const w=(0,v.m)(o)||u||b?{next:o,error:u,complete:b}:o;return w?(0,p.e)((R,N)=>{var W;null===(W=w.subscribe)||void 0===W||W.call(w);let Z=!0;R.subscribe(new t.Q(N,K=>{var ae;null===(ae=w.next)||void 0===ae||ae.call(w,K),N.next(K)},()=>{var K;Z=!1,null===(K=w.complete)||void 0===K||K.call(w),N.complete()},K=>{var ae;Z=!1,null===(ae=w.error)||void 0===ae||ae.call(w,K),N.error(K)},()=>{var K,ae;Z&&(null===(K=w.unsubscribe)||void 0===K||K.call(w)),null===(ae=w.finalize)||void 0===ae||ae.call(w)}))}):e.y}},84408:(P,H,h)=>{"use strict";h.d(H,{o:()=>n});var v=h(50727);class p extends v.w0{constructor(u,b){super()}schedule(u,b=0){return this}}const t={setInterval(...o){const{delegate:u}=t;return((null==u?void 0:u.setInterval)||setInterval)(...o)},clearInterval(o){const{delegate:u}=t;return((null==u?void 0:u.clearInterval)||clearInterval)(o)},delegate:void 0};var e=h(38737);class n extends p{constructor(u,b){super(u,b),this.scheduler=u,this.work=b,this.pending=!1}schedule(u,b=0){if(this.closed)return this;this.state=u;const w=this.id,R=this.scheduler;return null!=w&&(this.id=this.recycleAsyncId(R,w,b)),this.pending=!0,this.delay=b,this.id=this.id||this.requestAsyncId(R,this.id,b),this}requestAsyncId(u,b,w=0){return t.setInterval(u.flush.bind(u,this),w)}recycleAsyncId(u,b,w=0){if(null!=w&&this.delay===w&&!1===this.pending)return b;t.clearInterval(b)}execute(u,b){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const w=this._execute(u,b);if(w)return w;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(u,b){let R,w=!1;try{this.work(u)}catch(N){w=!0,R=N||new Error("Scheduled action threw falsy error")}if(w)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:u,scheduler:b}=this,{actions:w}=b;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.P)(w,this),null!=u&&(this.id=this.recycleAsyncId(b,u,null)),this.delay=null,super.unsubscribe()}}}},97565:(P,H,h)=>{"use strict";h.d(H,{v:()=>t});var v=h(26063);class p{constructor(n,o=p.now){this.schedulerActionCtor=n,this.now=o}schedule(n,o=0,u){return new this.schedulerActionCtor(this,n).schedule(u,o)}}p.now=v.l.now;class t extends p{constructor(n,o=p.now){super(n,o),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:o}=this;if(this._active)return void o.push(n);let u;this._active=!0;do{if(u=n.execute(n.state,n.delay))break}while(n=o.shift());if(this._active=!1,u){for(;n=o.shift();)n.unsubscribe();throw u}}}},53101:(P,H,h)=>{"use strict";h.d(H,{E:()=>K});var v=h(84408);let t,p=1;const e={};function n(xe){return xe in e&&(delete e[xe],!0)}const o={setImmediate(xe){const fe=p++;return e[fe]=!0,t||(t=Promise.resolve()),t.then(()=>n(fe)&&xe()),fe},clearImmediate(xe){n(xe)}},{setImmediate:b,clearImmediate:w}=o,R={setImmediate(...xe){const{delegate:fe}=R;return((null==fe?void 0:fe.setImmediate)||b)(...xe)},clearImmediate(xe){const{delegate:fe}=R;return((null==fe?void 0:fe.clearImmediate)||w)(xe)},delegate:void 0};var W=h(97565);const K=new class extends W.v{flush(fe){this._active=!0,this._scheduled=void 0;const{actions:_e}=this;let Oe,Be=-1;fe=fe||_e.shift();const Ee=_e.length;do{if(Oe=fe.execute(fe.state,fe.delay))break}while(++Be<Ee&&(fe=_e.shift()));if(this._active=!1,Oe){for(;++Be<Ee&&(fe=_e.shift());)fe.unsubscribe();throw Oe}}}(class extends v.o{constructor(fe,_e){super(fe,_e),this.scheduler=fe,this.work=_e}requestAsyncId(fe,_e,Oe=0){return null!==Oe&&Oe>0?super.requestAsyncId(fe,_e,Oe):(fe.actions.push(this),fe._scheduled||(fe._scheduled=R.setImmediate(fe.flush.bind(fe,void 0))))}recycleAsyncId(fe,_e,Oe=0){if(null!=Oe&&Oe>0||null==Oe&&this.delay>0)return super.recycleAsyncId(fe,_e,Oe);0===fe.actions.length&&(R.clearImmediate(_e),fe._scheduled=void 0)}})},34986:(P,H,h)=>{"use strict";h.d(H,{z:()=>t,P:()=>e});var v=h(84408);const t=new(h(97565).v)(v.o),e=t},26063:(P,H,h)=>{"use strict";h.d(H,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},43410:(P,H,h)=>{"use strict";h.d(H,{z:()=>v});const v={setTimeout(...p){const{delegate:t}=v;return((null==t?void 0:t.setTimeout)||setTimeout)(...p)},clearTimeout(p){const{delegate:t}=v;return((null==t?void 0:t.clearTimeout)||clearTimeout)(p)},delegate:void 0}},2202:(P,H,h)=>{"use strict";h.d(H,{h:()=>p});const p="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},48822:(P,H,h)=>{"use strict";h.d(H,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},63269:(P,H,h)=>{"use strict";h.d(H,{jO:()=>e,yG:()=>n,_6:()=>o});var v=h(30576),p=h(93532);function t(u){return u[u.length-1]}function e(u){return(0,v.m)(t(u))?u.pop():void 0}function n(u){return(0,p.K)(t(u))?u.pop():void 0}function o(u,b){return"number"==typeof t(u)?u.pop():b}},54742:(P,H,h)=>{"use strict";h.d(H,{D:()=>n});const{isArray:v}=Array,{getPrototypeOf:p,prototype:t,keys:e}=Object;function n(u){if(1===u.length){const b=u[0];if(v(b))return{args:b,keys:null};if(function(u){return u&&"object"==typeof u&&p(u)===t}(b)){const w=e(b);return{args:w.map(R=>b[R]),keys:w}}}return{args:u,keys:null}}},38737:(P,H,h)=>{"use strict";function v(p,t){if(p){const e=p.indexOf(t);0<=e&&p.splice(e,1)}}h.d(H,{P:()=>v})},83888:(P,H,h)=>{"use strict";function v(p){const e=p(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}h.d(H,{d:()=>v})},31810:(P,H,h)=>{"use strict";function v(p,t){return p.reduce((e,n,o)=>(e[n]=t[o],e),{})}h.d(H,{n:()=>v})},72806:(P,H,h)=>{"use strict";h.d(H,{x:()=>t,O:()=>e});var v=h(42416);let p=null;function t(n){if(v.v.useDeprecatedSynchronousErrorHandling){const o=!p;if(o&&(p={errorThrown:!1,error:null}),n(),o){const{errorThrown:u,error:b}=p;if(p=null,u)throw b}}else n()}function e(n){v.v.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=n)}},39672:(P,H,h)=>{"use strict";function v(p,t,e,n=0,o=!1){const u=t.schedule(function(){e(),o?p.add(this.schedule(null,n)):this.unsubscribe()},n);if(p.add(u),!o)return u}h.d(H,{f:()=>v})},44671:(P,H,h)=>{"use strict";function v(p){return p}h.d(H,{y:()=>v})},81144:(P,H,h)=>{"use strict";h.d(H,{z:()=>v});const v=p=>p&&"number"==typeof p.length&&"function"!=typeof p},12206:(P,H,h)=>{"use strict";h.d(H,{D:()=>p});var v=h(30576);function p(t){return Symbol.asyncIterator&&(0,v.m)(null==t?void 0:t[Symbol.asyncIterator])}},30576:(P,H,h)=>{"use strict";function v(p){return"function"==typeof p}h.d(H,{m:()=>v})},93670:(P,H,h)=>{"use strict";h.d(H,{c:()=>t});var v=h(48822),p=h(30576);function t(e){return(0,p.m)(e[v.L])}},26495:(P,H,h)=>{"use strict";h.d(H,{T:()=>t});var v=h(2202),p=h(30576);function t(e){return(0,p.m)(null==e?void 0:e[v.h])}},28239:(P,H,h)=>{"use strict";h.d(H,{t:()=>p});var v=h(30576);function p(t){return(0,v.m)(null==t?void 0:t.then)}},53260:(P,H,h)=>{"use strict";h.d(H,{Q:()=>t,L:()=>e});var v=h(35987),p=h(30576);function t(n){return(0,v.FC)(this,arguments,function*(){const u=n.getReader();try{for(;;){const{value:b,done:w}=yield(0,v.qq)(u.read());if(w)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(b)}}finally{u.releaseLock()}})}function e(n){return(0,p.m)(null==n?void 0:n.getReader)}},93532:(P,H,h)=>{"use strict";h.d(H,{K:()=>p});var v=h(30576);function p(t){return t&&(0,v.m)(t.schedule)}},54482:(P,H,h)=>{"use strict";h.d(H,{A:()=>p,e:()=>t});var v=h(30576);function p(e){return(0,v.m)(null==e?void 0:e.lift)}function t(e){return n=>{if(p(n))return n.lift(function(o){try{return e(o,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}},83268:(P,H,h)=>{"use strict";h.d(H,{Z:()=>e});var v=h(54004);const{isArray:p}=Array;function e(n){return(0,v.U)(o=>function(n,o){return p(o)?n(...o):n(o)}(n,o))}},25032:(P,H,h)=>{"use strict";function v(){}h.d(H,{Z:()=>v})},87849:(P,H,h)=>{"use strict";h.d(H,{h:()=>t});var v=h(42416),p=h(43410);function t(e){p.z.setTimeout(()=>{const{onUnhandledError:n}=v.v;if(!n)throw e;n(e)})}},44532:(P,H,h)=>{"use strict";function v(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}h.d(H,{z:()=>v})},34346:(P,H,h)=>{P.exports={interpreterHelper:h(44489),saveBlocksUrl:h(18449),saveLoad:h(79628)}},44489:(P,H,h)=>{const v=h(55841);H.createInterpreter=function(p,t){return{latestCode:"",workspace:p,BlocklyJavaScript:t,step:0,highlightPause:!1,myInterpreter:null,runner:null,generateCodeAndLoadIntoInterpreter:function(){this.BlocklyJavaScript.STATEMENT_PREFIX="highlightBlock(%1);\n",this.BlocklyJavaScript.addReservedWords("highlightBlock"),this.latestCode=this.BlocklyJavaScript.workspaceToCode(p),this.resetStepUi(!0)},resetStepUi:function(e){this.step=0,this.workspace.highlightBlock(null),this.highlightPause=!1},resetInterpreter:function(){this.myInterpreter=null,this.runner&&(window.clearTimeout(this.runner),this.runner=null)},highlightBlock:function(e){this.workspace.highlightBlock(e),highlightPause=!0},nextStep:function(e,n){console.log("next step"),e.myInterpreter.step()?setTimeout((o,u)=>{o.nextStep(o,u)},10,e,n):(n?n():console.log("\n\n<< Program complete >>"),e.resetInterpreter(),e.resetStepUi(!1))},runCode:function(e,n,o,u){""==u&&(u=this.latestCode),this.myInterpreter||this.resetStepUi(!0),this.generateCodeAndLoadIntoInterpreter();var b=this;b.myInterpreter=e(u,(w,R)=>b.initApiJS(w,R,b,n,o)),1!=window.runOneByOne?setTimeout(function(){this.highlightPause=!1,b.runner=function(){b.myInterpreter&&(b.myInterpreter.run()?setTimeout(b.runner,10):(o?o():console.log("\n\n<< Program complete >>"),b.resetInterpreter(),b.resetStepUi(!1)))},b.runner&&b.runner()},100):this.nextStep(b,o)},initInterpreterWaitForSeconds:function(e,n){this.BlocklyJavaScript.addReservedWords("waitForSeconds");var o=e.createAsyncFunction(function(u,b){setTimeout(b,1e3*u)});e.setProperty(n,"waitForSeconds",o)},getCreds:function(e,n,o){var u=e.pseudoToNative(n),b="(localSite)";(o.startsWith("http://")||o.startsWith("https://"))&&(b=new URL(o).hostname);var w=!1;return b in u?w=u[b]:"*"in u&&(w=u["*"]),w},getHeaders:function(e,n,o){var u=e.pseudoToNative(n),b="(localSite)";(o.startsWith("http://")||o.startsWith("https://"))&&(b=new URL(o).hostname);var w=[];return b in u?w=u[b]:"*"in u&&(w=u["*"]),w},doGet:function(e,n,o,u){let b=new XMLHttpRequest;b.open("GET",e,!0),this.generateDataAndCreds(b,o,u,!1),b.onreadystatechange=function(){if(4==b.readyState){if(b.status>=200&&b.status<300){var w=JSON.stringify({origHref:e,objectToSend:"",status:b.status,statusOK:!0,text:b.responseText});return n(w)}return w=JSON.stringify({origHref:e,objectToSend:"",status:b.status,statusOK:!1,text:b.responseText,headers:b.getAllResponseHeaders()}),n(w)}},b.send(null)},exportToFile:function(e,n,o){var b,u=h(18642);return b=o?this.b64toBlob(n):new Blob([n],{type:"text/plain;charset=utf-8"}),u.saveAs(b,e),e},b64toBlob:function(e,n="",o=512){const u=atob(e),b=[];for(let R=0;R<u.length;R+=o){const N=u.slice(R,R+o),W=new Array(N.length);for(let K=0;K<N.length;K++)W[K]=N.charCodeAt(K);const Z=new Uint8Array(W);b.push(Z)}return new Blob(b,{type:n})},displayDateCurrentAsHuman:function(){return(new Date).toLocaleDateString(void 0,{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},displayDateCurrentAsIso:function(){return(new Date).toISOString()},displayDateCurrentAsUnix:function(){return Date.now()},displayDateFormatted:function(e){switch(e){case"human":return this.displayDateCurrentAsHuman();case"iso":return this.displayDateCurrentAsIso();case"unix":return this.displayDateCurrentAsUnix();default:console.log("Date time format not suported")}},generateDataAndCreds(e,n,o,u){if(o)e.withCredentials=o;else{var b=!1;if(n&&n.length>0)for(var w=0;w<n.length;w++){var R=n[w];"Content-Type"==R.name&&(b=!0),e.setRequestHeader(R.name,R.value)}u&&!b&&e.setRequestHeader("Content-Type","application/json;charset=UTF-8")}},doPut:(e,n,o,u,b)=>{let w=n,R=new XMLHttpRequest;R.open("PUT",e,!0),this.generateDataAndCreds(R,u,b,!!n),R.onreadystatechange=function(){if(4==R.readyState){if(R.status>=200&&R.status<300){var N=JSON.stringify({origHref:e,objectToSend:n,status:R.status,statusOK:!0,text:R.responseText});return o(N)}return N=JSON.stringify({origHref:e,objectToSend:n,status:R.status,statusOK:!1,text:R.responseText,objectToSend:n,headers:R.getAllResponseHeaders()}),o(N)}},R.send(w)},doDelete:function(e,n,o,u,b){let w=n;var R=new XMLHttpRequest;R.open("DELETE",e,!0),this.generateDataAndCreds(R,u,b,!!n),R.onreadystatechange=function(){if(4==R.readyState){if(R.status>=200&&R.status<300){var N=JSON.stringify({origHref:e,objectToSend:"",status:R.status,statusOK:!0,text:R.responseText});return o(N)}return N=JSON.stringify({origHref:e,objectToSend:"",status:R.status,statusOK:!1,text:R.responseText,objectToSend:n,headers:R.getAllResponseHeaders()}),o(N)}},R.send(w)},doPost:function(e,n,o,u,b){let w=n,R=new XMLHttpRequest;R.open("POST",e,!0),this.generateDataAndCreds(R,u,b,!!n),R.onreadystatechange=function(){if(4==R.readyState){if(R.status>=200&&R.status<300){var N=JSON.stringify({origHref:e,objectToSend:n,status:R.status,statusOK:!0,text:R.responseText});return o(N)}return N=JSON.stringify({origHref:e,objectToSend:n,status:R.status,statusOK:!1,text:R.responseText,objectToSend:n,headers:R.getAllResponseHeaders()}),o(N)}},R.send(w)},table2array:function(e){var n=e.rows,o=[];if(0==n.length)return[];for(var u=Array.from(n[0].children).map(W=>W.innerText),b=1;b<n.length;b++){for(var w=n[b].children,R={},N=0;N<w.length;N++)R[u[N]]=w[N].innerText;o.push(R)}return o},list2array:function(e){var n=e.getElementsByTagName("li"),o=[];if(0==n.length)return[];for(var u=0;u<n.length;u++)o.push({li:n[u].innerText});return o},parseDOMFromStringElements:function(e,n,o){var K,u=(new DOMParser).parseFromString(e,n),b=[];if(o.toString().indexOf(",")>-1)for(var w=o.split(","),R=0;R<w.length;R++)b=b.concat(Array.from(u.getElementsByTagName(w[R])));else b=u.getElementsByTagName(o);var N={};if(0==b.length)return N;switch(o){case"table":for(N={},R=0;R<b.length;R++)N["table"+R]=this.table2array(b[R]);break;case"a":N=[];var W=(null==(K=null==window?void 0:window.location)?void 0:K.host)||"";for(W.length>0&&(W=window.location.protocol+"//"+W),R=0;R<b.length;R++){var Z=b[R].href;W.length>0&&Z.startsWith(W)&&(Z=Z.substring(W.length)),N.push({href:Z,text:b[R].innerText})}break;case"img":for(N=[],R=0;R<b.length;R++)N.push({src:b[R].src});break;case"ul,ol":for(N={},R=0;R<b.length;R++)N["list"+R]=this.list2array(b[R]);break;case"h1,h2,h3,h4,h5,h6":for(N=[],R=0;R<b.length;R++)N.push({header:b[R].innerText});break;default:throw new Error(`tag !${o}! not supported`)}return JSON.stringify(N)},consoleLog:function(e,n){return console.log(e,n)},initApiJS:function(e,n,o,u,b){e.setProperty(n,"errHandler",e.createNativeFunction(w=W=>{u?u("\n error --\n"+W+"\n error --"):console.log(W)}));var w=function(W,Z){return e.createPrimitive(o.consoleLog(W,Z))};e.setProperty(n,"consoleLog",e.createNativeFunction(w)),w=function(W,Z,K){return W=W?W.toString():"",e.createPrimitive(o.parseDOMFromStringElements(W,Z,K))},e.setProperty(n,"parseDOMFromStringElements",e.createNativeFunction(w)),e.setProperty(n,"parseDomNative",e.createNativeFunction(w));var R=e.nativeToPseudo({"(localSite)":!1});e.setProperty(n,"withCredsForDomain",R);var N=e.nativeToPseudo({"(localSite)":[]});e.setProperty(n,"headersForDomain",N),e.setProperty(n,"alert1",e.createNativeFunction(w=function(W){W=W?W.toString():"",window.alert(W)})),e.setProperty(n,"playPiano",e.createNativeFunction(w=function(W,Z,K){v.Synth.createInstrument("piano").play(W,Z,K)})),e.setProperty(n,"startDebugger",e.createNativeFunction(w=function(W,Z,K){o.highlightBlock(Z),console.log(W,Z,K)})),e.setProperty(n,"alert",e.createNativeFunction(w=function(W){W=W?W.toString():"",u?u(W):console.log(W)})),e.setProperty(n,"waitTime",e.createAsyncFunction(w=(W,Z)=>{console.log(`waiting seconds ${W}`),setTimeout(Z,1e3*W)})),e.setProperty(n,"displayDateFormatted",e.createNativeFunction(w=W=>o.displayDateFormatted(W))),e.setProperty(n,"exportToFile",e.createNativeFunction(w=(W,Z,K)=>o.exportToFile(W,Z,K))),e.setProperty(n,"convertToCSV",e.createNativeFunction(w=W=>{var Z=null;return Array.isArray(W)?Z=W:((Z="object"!=typeof W?JSON.parse(W):{})&&Z.table0&&(Z=Z.table0),Z&&Z.list0&&(Z=Z.list0)),0==Z.length?"":(Z=[Object.keys(Z[0])].concat(Z)).map(ae=>Object.values(ae).toString()).join("\n")})),e.setProperty(n,"open",e.createNativeFunction(w=function(W){window.open(W,"_blank")})),e.setProperty(n,"changeHost",e.createNativeFunction(w=function(W,Z){if(0==(Z=(Z=Z?Z.toString():"").trim()).length)return W;if(0==(W=(W=W||"").trim()).length&&!(W=Z).startsWith("http"))throw`please put in front of ${Z} http:// or https://`;if(W=new URL(W),Z.startsWith("http")){var K=new URL(Z);W.hostname=K.hostname,W.protocol=K.protocol}else W.hostname=Z.replace("https://","").replace("http://","");var ae=W.href;return ae.endsWith("/")&&(ae=ae.substring(0,ae.length-1)),ae})),e.setProperty(n,"changePort",e.createNativeFunction(w=function(W,Z){W=new URL(W),console.log(`url ${W.href}`),W.port=Z,console.log(`url ${W.href}`);var K=W.href;return K.endsWith("/")&&(K=K.substring(0,K.length-1)),K})),e.setProperty(n,"speakDefault",e.createNativeFunction(w=function(W,Z,K,ae,xe){var fe=new SpeechSynthesisUtterance(W),_e=parseInt(Z),Oe=window.speechSynthesis.getVoices()[_e];fe.voice=Oe,window.speechSynthesis.speak(fe)})),e.setProperty(n,"prompt",e.createAsyncFunction(w=function(W,Z,K){W=W?W.toString():"",Z=Z?Z.toString():"",K(window.prompt(W,Z))})),o.BlocklyJavaScript.addReservedWords("waitForSeconds"),w=e.createAsyncFunction(function(W,Z){setTimeout(Z,1e3*W)}),e.setProperty(n,"waitForSeconds",w),e.setProperty(n,"getXhr",e.createAsyncFunction(w=(W,Z)=>{var K=o.getHeaders(e,N,W),ae=o.getCreds(e,R,W);return o.doGet(W,Z,K,ae)})),e.setProperty(n,"postXhr",e.createAsyncFunction(w=(W,Z,K)=>{try{var ae=o.getHeaders(e,N,W),xe=o.getCreds(e,R,W);o.doPost(W,Z,K,ae,xe)}catch(fe){alert("is an error"+fe)}})),e.setProperty(n,"deleteXhr",e.createAsyncFunction(w=(W,Z,K)=>{try{var ae=o.getHeaders(e,N,W),xe=o.getCreds(e,R,W);o.doDelete(W,Z,K,ae,xe)}catch(fe){alert("is an error"+fe)}})),w=(W,Z,K)=>{try{var ae=e.pseudoToNative(N),xe="(localSite)";(W.startsWith("http://")||W.startsWith("https://"))&&(xe=new URL(W).hostname);var fe=[];xe in ae&&(fe=ae[xe]),o.doPut(W,Z,K,fe,!1)}catch(Oe){alert("is an error"+Oe)}},e.setProperty(n,"putXhr",e.createAsyncFunction(w)),w=function(W){return W=W?W.toString():"",e.createPrimitive(o.highlightBlock(W))},e.setProperty(n,"highlightBlock",e.createNativeFunction(w))}}}},55841:(P,H,h)=>{"use strict";var v,p,t;h.r(H),h.d(H,{Synth:()=>v}),function(){var e=window.URL||window.webkitURL,n=window.Blob;if(!e||!n)throw new Error("This browser does not support AudioSynth");var o=!1,u=null,b=function(Z,K){return[new Uint8Array([K,K>>8]),new Uint8Array([K,K>>8,K>>16,K>>24])][Z]},w=function(Z,K,ae,xe){Object.defineProperty(this,Z,{value:K,writable:!!ae,enumerable:!!xe})},R=function(Z,K,ae){w.call(this,Z,K,ae,!0)};t=function(){this.__init__.apply(this,arguments)};var N=w.bind(t.prototype),W=R.bind(t.prototype);N("__init__",function(Z,K,ae){if(!o)throw new Error("AudioSynthInstrument can only be instantiated from the createInstrument method of the AudioSynth object.");w.call(this,"_parent",Z),R.call(this,"name",K),w.call(this,"_soundID",ae)}),W("play",function(Z,K,ae){return this._parent.play(this._soundID,Z,K,ae)}),W("generate",function(Z,K,ae){return this._parent.generate(this._soundID,Z,K,ae)}),N=w.bind((p=function Z(){return u instanceof Z?u:(this.__init__(),this)}).prototype),W=R.bind(p.prototype),N("_debug",!1,!0),N("_bitsPerSample",16),N("_channels",1),N("_sampleRate",44100,!0),W("setSampleRate",function(Z){return this._sampleRate=Math.max(Math.min(0|Z,44100),4e3),this._clearCache(),this._sampleRate}),W("getSampleRate",function(){return this._sampleRate}),N("_volume",32768,!0),W("setVolume",function(Z){return Z=parseFloat(Z),isNaN(Z)&&(Z=0),Z=Math.round(32768*Z),this._volume=Math.max(Math.min(0|Z,32768),0),this._clearCache(),this._volume}),W("getVolume",function(){return Math.round(this._volume/32768*1e4)/1e4}),N("_notes",{C:261.63,"C#":277.18,D:293.66,"D#":311.13,E:329.63,F:349.23,"F#":369.99,G:392,"G#":415.3,A:440,"A#":466.16,B:493.88}),N("_fileCache",[],!0),N("_temp",{},!0),N("_sounds",[],!0),N("_mod",[function(Z,K,ae,xe){return Math.sin(2*Math.PI*(Z/K)*ae+xe)}]),N("_resizeCache",function(){for(var Z=this._fileCache,K=this._sounds.length;Z.length<K;){for(var ae=[],xe=0;xe<8;xe++){var fe={};for(var _e in this._notes)fe[_e]={};ae.push(fe)}Z.push(ae)}}),N("_clearCache",function(){this._fileCache=[],this._resizeCache()}),W("generate",function(Z,K,ae,xe){var fe=this._sounds[Z];if(!fe)for(var _e=0;_e<this._sounds.length;_e++)if(this._sounds[_e].name==Z){fe=this._sounds[_e],Z=_e;break}if(!fe)throw new Error("Invalid sound or sound ID: "+Z);var Oe=(new Date).valueOf();this._temp={},ae|=0,ae=Math.min(8,Math.max(1,ae));var Be=xe?parseFloat(xe):2;if(void 0===this._notes[K])throw new Error(K+" is not a valid note.");if(void 0!==this._fileCache[Z][ae-1][K][Be])return this._debug&&console.log((new Date).valueOf()-Oe,"ms to retrieve (cached)"),this._fileCache[Z][ae-1][K][Be];var Ee=this._notes[K]*Math.pow(2,ae-4),ce=this._sampleRate,q=this._volume,se=this._channels,ne=this._bitsPerSample,Pe=fe.attack(ce,Ee,q),oe=fe.dampen(ce,Ee,q),de=fe.wave,te={modulate:this._mod,vars:this._temp},ie=0,ve=new Uint8Array(new ArrayBuffer(Math.ceil(ce*Be*2))),He=ce*Pe|0,ct=ce*Be|0;for(_e=0;_e!==He;_e++)ie=q*(_e/(ce*Pe))*de.call(te,_e,ce,Ee,q),ve[_e<<1]=ie,ve[1+(_e<<1)]=ie>>8;for(;_e!==ct;_e++)ie=q*Math.pow(1-(_e-ce*Pe)/(ce*(Be-Pe)),oe)*de.call(te,_e,ce,Ee,q),ve[_e<<1]=ie,ve[1+(_e<<1)]=ie>>8;var Yt=["RIFF",b(1,52),"WAVE","fmt ",b(1,16),b(0,1),b(0,se),b(1,ce),b(1,ce*se*ne/8),b(0,se*ne/8),b(0,ne),"data",b(1,ve.length*se*ne/8),ve],ht=new n(Yt,{type:"audio/wav"}),Bt=e.createObjectURL(ht);return this._fileCache[Z][ae-1][K][Be]=Bt,this._debug&&console.log((new Date).valueOf()-Oe,"ms to generate"),Bt}),W("play",function(Z,K,ae,xe){var fe=this.generate(Z,K,ae,xe);return new Audio(fe).play(),!0}),W("debug",function(){this._debug=!0}),W("createInstrument",function(Z){var K=0,ae=!1;if("string"==typeof Z){for(var xe=0;xe<this._sounds.length;xe++)if(this._sounds[xe].name==Z){ae=!0,K=xe;break}}else this._sounds[Z]&&(Z=this._sounds[K=Z].name,ae=!0);if(!ae)throw new Error("Invalid sound or sound ID: "+Z);o=!0;var fe=new t(this,Z,K);return o=!1,fe}),W("listSounds",function(){for(var Z=[],K=0;K<this._sounds.length;K++)Z.push(this._sounds[K].name);return Z}),N("__init__",function(){this._resizeCache()}),W("loadSoundProfile",function(){for(var Z=0,K=arguments.length;Z<K;Z++){var ae=arguments[Z];if(!(ae instanceof Object))throw new Error("Invalid sound profile.");this._sounds.push(ae)}return this._resizeCache(),!0}),W("loadModulationFunction",function(){for(var Z=0,K=arguments.length;Z<K;Z++){var ae=arguments[Z];if("function"!=typeof ae)throw new Error("Invalid modulation function.");this._mod.push(ae)}return!0}),u=new p,v=u}(),v.loadModulationFunction(function(e,n,o,u){return 1*Math.sin(2*Math.PI*(e/n*o)+u)},function(e,n,o,u){return 1*Math.sin(4*Math.PI*(e/n*o)+u)},function(e,n,o,u){return 1*Math.sin(8*Math.PI*(e/n*o)+u)},function(e,n,o,u){return 1*Math.sin(.5*Math.PI*(e/n*o)+u)},function(e,n,o,u){return 1*Math.sin(.25*Math.PI*(e/n*o)+u)},function(e,n,o,u){return.5*Math.sin(2*Math.PI*(e/n*o)+u)},function(e,n,o,u){return.5*Math.sin(4*Math.PI*(e/n*o)+u)},function(e,n,o,u){return.5*Math.sin(8*Math.PI*(e/n*o)+u)},function(e,n,o,u){return.5*Math.sin(.5*Math.PI*(e/n*o)+u)},function(e,n,o,u){return.5*Math.sin(.25*Math.PI*(e/n*o)+u)}),v.loadSoundProfile({name:"piano",attack:function(){return.002},dampen:function(e,n,o){return Math.pow(.5*Math.log(n*o/e),2)},wave:function(e,n,o,u){var b=this.modulate[0];return this.modulate[1](e,n,o,Math.pow(b(e,n,o,0),2)+.75*b(e,n,o,.25)+.1*b(e,n,o,.5))}},{name:"organ",attack:function(){return.3},dampen:function(e,n){return 1+.01*n},wave:function(e,n,o){var u=this.modulate[0];return this.modulate[1](e,n,o,u(e,n,o,0)+.5*u(e,n,o,.25)+.25*u(e,n,o,.5))}},{name:"acoustic",attack:function(){return.002},dampen:function(){return 1},wave:function(e,n,o){var u=this.vars;u.valueTable=u.valueTable?u.valueTable:[],void 0===u.playVal&&(u.playVal=0),void 0===u.periodCount&&(u.periodCount=0);var b=u.valueTable,w=u.playVal,R=u.periodCount,N=n/o,W=Math.floor(100*(N-Math.floor(N))),Z=!1;if(b.length<=Math.ceil(N))return b.push(2*Math.round(Math.random())-1),b[b.length-1];b[w]=.5*(b[w>=b.length-1?0:w+1]+b[w]),w>=Math.floor(N)&&(w<Math.ceil(N)?R%100>=W&&(Z=!0,b[w+1]=.5*(b[0]+b[w+1]),u.periodCount++):Z=!0);var K=b[w];return Z?u.playVal=0:u.playVal++,K}},{name:"edm",attack:function(){return.002},dampen:function(){return 1},wave:function(e,n,o){var u=this.modulate[0],b=this.modulate.slice(1);return b[0](e,n,o,b[9](e,n,o,b[2](e,n,o,Math.pow(u(e,n,o,0),3)+Math.pow(u(e,n,o,.5),5)+Math.pow(u(e,n,o,1),7)))+b[8](e,n,o,u(e,n,o,1.75)))}})},18449:(P,H)=>{H.saveState=function(p,t,e){var n="BlocklyState"+(e||""),o=p.workspaceToDom(t,!0),u=p.domToPrettyText(o);window.localStorage.setItem(n,u)},H.restoreState=function(p,t,e){var o=window.localStorage.getItem("BlocklyState"+(e||""));if((null==o?void 0:o.length)>62){var u=p.textToDom(o);p.clearWorkspaceAndLoadFromXml(u,t)}return""}},79628:(P,H,h)=>{var v=h(18642);H.DownloadBlocks=function(p,t,e){var n=p.workspaceToDom(t,!0),o=p.domToPrettyText(n),u=new Blob([o],{type:"text/plain;charset=utf-16"});v.saveAs(u,e)},H.LoadFile=function(p,t,e){t.clear();var n=p.textToDom(e);p.domToWorkspace(n,t)}},19842:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.HTMLheaders={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("Header").appendField(new v.FieldDropdown([["H1","H1"],["H2","H2"],["H3","H3"]]),"NAME"),this.setOutput(!0,null),this.setColour(240),this.setTooltip("string to Header "),this.setHelpUrl("")}},t.HTMLheaders=function(e){var n=e.getFieldValue("NAME");return[`'<${n}>'+ ${t.valueToCode(e,"NAME",t.ORDER_ATOMIC)} + '</${n}>'`,t.ORDER_NONE]},p.HTMLlist={init:function(){this.appendDummyInput().appendField("List ").appendField(new v.FieldDropdown([["OL","ol"],["UL","ul"]]),"listType"),this.appendStatementInput("Content").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(240),this.setTooltip("list - please add li block "),this.setHelpUrl("")}},t.HTMLlist=function(e){var n=e.getFieldValue("listType");return t.valueToCode(e,"ListType",t.ORDER_ATOMIC),`window.alert('<${n}>');\n;${t.statementToCode(e,"Content")};\n;window.alert('</${n}>');\n`},p.HTMLli={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("LI"),this.setOutput(!0,null),this.setColour(240),this.setTooltip("string to LI"),this.setHelpUrl("")}},t.HTMLli=function(e){return[`'<li>'+ ${t.valueToCode(e,"NAME",t.ORDER_ATOMIC)} + '</li>'`,t.ORDER_NONE]},p.HTMLliStart={init:function(){this.appendDummyInput().appendField("List").appendField(new v.FieldDropdown([["OL","OL"],["LI","LI"]]),"NAME"),this.setColour(240),this.setOutput(!0,null),this.setTooltip("LI start"),this.setHelpUrl("")}},t.HTMLliStart=function(e){return[`'<${e.getFieldValue("NAME")}>'`,t.ORDER_NONE]},p.HTMLliStop={init:function(){this.appendDummyInput().appendField("/List").appendField(new v.FieldDropdown([["OL","OL"],["LI","LI"]]),"NAME"),this.setColour(240),this.setOutput(!0,null),this.setTooltip("LI stop"),this.setHelpUrl("")}},t.HTMLliStop=function(e){return[`'</${e.getFieldValue("NAME")}>'`,t.ORDER_NONE]},p.HTMLlink={init:function(){this.appendDummyInput().appendField("A").appendField("target").appendField(new v.FieldDropdown([["_blank","_blank"],["_self","_self"],["_parent","_parent"],["_top","_top"]]),"targetDrop"),this.appendValueInput("HREF").setCheck(null).appendField("href"),this.appendValueInput("text").setCheck(null).appendField("text"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},t.HTMLlink=function(e){var n=e.getFieldValue("targetDrop"),o=t.valueToCode(e,"HREF",t.ORDER_ATOMIC),u=t.valueToCode(e,"text",t.ORDER_ATOMIC),b="'<a href=\"'+"+o;return b+=`+ '" target="${n}"'`,[b+="+ '>'+"+(u=u||o)+"+ '</a> '",t.ORDER_NONE]}},H.fieldXML=function(){return'\n    <block type=\'text_print\'>" \n               <value name=\'TEXT\'>" \n                 \n    <block type="HTMLheaders">\n        <value name="NAME">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n    </block>    \n      </value>\n\n\n      </block>\n        \n<block type="HTMLlist"></block>\n\n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n  \n<block type="HTMLli">\n<value name="NAME">\n<shadow type="text">\n <field name="TEXT"></field>\n</shadow>\n</value>\n</block>    \n</value>\n</block>\n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n\n<block type="HTMLliStart"></block>\n</value>\n</block>    \n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n\n<block type="HTMLliStop"></block>\n\n</value>\n</block>    \n\n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n\n<block type="HTMLlink"></block>\n\n</value>\n</block>    \n\n\n'}},67105:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.simpleHtmlparser={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("Find ").appendField(new v.FieldDropdown([["Tables","table"],["Links","a"],["Images","img"],["List","ul,ol"],["Headers","h1,h2,h3,h4,h5,h6"]]),"To"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},t.simpleHtmlparser=function(e){var u="(function(value){ \n";return u+=`var doc  = parseDOMFromStringElements(value,"text/html","${e.getFieldValue("To")}");\n`,u+="return doc;\n",[u+="})("+t.valueToCode(e,"NAME",t.ORDER_ATOMIC)+")",t.ORDER_NONE]}},H.fieldXML=function(){return'\n    <block type=\'text_print\'>" \n               <value name=\'TEXT\'>" \n                 \n    <block type="simpleHtmlparser">\n        <value name="NAME">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n    </block>    \n      </value>\n\n\n      </block>\n        '}},87804:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.ttsBlock={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("Voice").appendField(new v.FieldDropdown(this.generateOptions),"voiceSelected"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")},generateOptions:function(){if(window.speechSynthesis){var n=window.speechSynthesis.getVoices().map((o,u)=>[o.name,"voice"+u]);if(n.length>0)return n}return[["no voice","NoVoice"]]}},t.ttsBlock=function(e){var n=e.getFieldValue("voiceSelected");return n=n.replace("voice",""),"speakDefault("+t.valueToCode(e,"NAME",t.ORDER_ATOMIC)+","+n+");\n"}},H.fieldXML=function(){return'<block type="ttsBlock">\n        <value name="NAME">\n            <shadow type="text">\n            <field name="TEXT">Hello</field></shadow>\n        </value>       \n        </block>\n'}},40054:(P,H)=>{H.definitionBlocks=function(h,v){h.credsforhttp={init:function(){this.appendDummyInput().appendField("Http with Creds"),this.appendValueInput("HttpDomain").setCheck("String").appendField("Domain"),this.appendValueInput("WithCreds").setCheck("Boolean").appendField("With Creds ?"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},v.credsforhttp=function(e){return"withCredsForDomain["+(v.valueToCode(e,"HttpDomain",0)||"(localSite)")+"]="+v.valueToCode(e,"WithCreds",0)+";\n"}},H.fieldXML=function(){return'<block type="credsforhttp">\n    <value name="HttpDomain">\n        <shadow type="text">\n            <field name="TEXT">(localSite)</field>\n        </shadow>\n    </value>\n    <value name="WithCreds">\n        <shadow type="logic_boolean">\n            <field name="BOOL">FALSE</field>\n        </shadow>\n    </value>\n</block>\n'}},29130:(P,H)=>{H.definitionBlocks=function(h,v){h.auth0webapidata={init:function(){this.appendDummyInput().appendField("Auth0"),this.appendValueInput("client_id").setCheck(null).appendField("client_id"),this.appendValueInput("client_secret").setCheck(null).appendField("client_secret"),this.appendValueInput("audience").setCheck(null).appendField("audience"),this.appendValueInput("grant_type").setCheck(null).appendField("grant_type"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},v.auth0webapidata=function(e){var w='{"client_id":'+v.valueToCode(e,"client_id",0);return w+=',"client_secret":'+v.valueToCode(e,"client_secret",0),w+=',"audience":'+v.valueToCode(e,"audience",0),w+=',"grant_type":'+v.valueToCode(e,"grant_type",0),[w+="}",99]}},H.fieldXML=function(){return'<category id="Auth0" name="Auth0">\n    <block type="auth0webapidata">\n        <value name="client_id">\n            <shadow type="text">\n                <field name="TEXT">client_id?</field>\n            </shadow>\n\n        </value>\n        <value name="client_secret">\n            <shadow type="text">\n                <field name="TEXT">client_secret?</field>\n            </shadow>\n\n        </value>\n        <value name="audience">\n            <shadow type="text">\n                <field name="TEXT">audience</field>\n            </shadow>\n\n        </value>\n        <value name="grant_type">\n            <shadow type="text">\n                <field name="TEXT">grant_type?</field>\n            </shadow>\n\n        </value>\n    </block>\n</category>\n'}},34122:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.chart_js={init:function(){this.appendDummyInput().appendField("ChartType").appendField(new v.FieldDropdown([["HBar","HBar"],["VBar","VBar"]]),"ChartTypeValue"),this.appendValueInput("ChartTitleValue").setCheck(null).appendField(new v.FieldLabelSerializable("Title"),"ChartTitle"),this.appendValueInput("LabelsValue").setCheck("Array").appendField(new v.FieldLabelSerializable("Labels"),"ChartLabels"),this.appendValueInput("DataSet1Label").setCheck("String").appendField(new v.FieldLabelSerializable("DataSet1 Label"),"DataSetLabel1"),this.appendValueInput("DataSet1Data").setCheck("Array").appendField(new v.FieldLabelSerializable("DataSet1 Data"),"DataSetData1"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},t.chart_js=function(e){var n=e.getFieldValue("ChartTypeValue"),u=(t.valueToCode(e,"ChartTitleValue",t.ORDER_ATOMIC),t.valueToCode(e,"LabelsValue",t.ORDER_ATOMIC)),b=t.valueToCode(e,"DataSet1Label",t.ORDER_ATOMIC),w=t.valueToCode(e,"DataSet1Data",t.ORDER_ATOMIC),R="",N="x";switch(n){case"HBar":R="bar",N="y";break;case"VBar":R="bar";break;default:throw"Unknown chart type:"+n}return[`JSON.stringify({ 'type': '${R}', 'options':{ 'indexAxis':'${N}'},  'data': {  'labels': ${u}, 'datasets': [{ 'backgroundColor': ['green','blue'],'label': ${b}, 'data': ${w} }] } })`,t.ORDER_NONE]}},H.fieldXML=function(){return'<block type="chart_js"></block>'}},11124:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.comment={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("comment /* */").appendField(new v.FieldLabelSerializable(""),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},t.comment=function(n){return"/*\n"+(t.valueToCode(n,"TEXT",0)||"''")+"\n*/;\n"},p.debugger={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("debugger").appendField(new v.FieldLabelSerializable(""),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},t.debugger=function(n){return"startDebugger("+(t.valueToCode(n,"TEXT",0)||"''")+",'"+n.id+"',this);\n"}},H.fieldXML=function(){return'<block type="comment">\n    <value name="TEXT">\n        <shadow type="text">\n            <field name="TEXT">Put here comments</field>\n        </shadow>\n    </value>\n</block>\n<block type="debugger">\n    <value name="TEXT">\n        <shadow type="text">\n            <field name="TEXT">my message for debug</field>\n        </shadow>\n    </value>\n</block>\n'}},54256:(P,H)=>{H.definitionBlocks=function(h,v){h.converttojson={init:function(){this.appendDummyInput().appendField("ConvertToJSON"),this.appendValueInput("ValueToConvert").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,null),this.setTooltip("Convert to JSON"),this.setHelpUrl("")}},v.converttojson=function(e){return["JSON.parse("+v.valueToCode(e,"ValueToConvert",0)+")",99]},h.converttostring={init:function(){this.appendDummyInput().appendField("ConvertToString"),this.appendValueInput("ValueToConvert").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,null),this.setTooltip("Convert to String"),this.setHelpUrl("")}},v.converttostring=function(e){return["JSON.stringify("+v.valueToCode(e,"ValueToConvert",0)+")",99]},h.convertcsv={init:function(){this.appendDummyInput().appendField("Convert To CSV"),this.appendValueInput("ArrayToConvert").setCheck(null).appendField("Array to convert"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("")}},v.convertcsv=function(e){return["convertToCSV("+v.valueToCode(e,"ArrayToConvert",v.ORDER_ATOMIC)+")",99]}},H.fieldXML=function(){return'<block type="converttojson"></block>\n <block type="converttostring"></block>\n <block type="convertcsv"></block>\n'}},97404:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t,e,n){t.object_from_json=function(oe){return[`JSON.parse(${t.valueToCode(oe,"JSON",0)})`,99]},t.object_to_json=function(oe){return[`JSON.stringify(${t.valueToCode(oe,"object",0)})`,99]},t.object_get=function(oe){const de=oe.getFieldValue("field_name");return[`${t.valueToCode(oe,"object",0)}['${de}']`,99]},t.object_set=function(oe){const de=oe.getFieldValue("field_name");return`${t.valueToCode(oe,"object_field",0)}['${de}'] = ${t.valueToCode(oe,"value_field",0)};\n`},t.object_create=function(oe){if(!oe.numFields)return["{}",99];let de="";for(let ie=1;ie<=oe.numFields;ie++)de+=`"${oe.getFieldValue("field"+ie)}": ${t.valueToCode(oe,"field_input"+ie,0)}, `;return[`{ ${de} }`,99]};const ae="object_field",xe="object_create_mutator_top",fe="#F99EA3",_e=(oe,...de)=>({object_from_json:"get object from JSON %1",object_from_json_tooltip:"Create object from JSON string.",object_to_json:"generate JSON from object %1",object_to_json_tooltip:"Save object as a JSON string.",object_get_json:"get property %1 %2 of object %3",object_get_json_tooltip:"Get a property of an object.",object_set_json:"set property %1 %2 of object %3 to %4",object_set_json_tooltip:"Set a property of an object.",object_create:"create object",object_create_tooltip:"Create a new object, optionally with some property values.",object_field_name:"property name"}[oe]),Oe={type:"object_from_json",message0:_e("object_from_json"),args0:[{type:"input_value",name:"JSON",check:"String"}],output:"Object",colour:fe,tooltip:_e("object_from_json_tooltip"),helpUrl:"http://www.json.org/"};p.object_from_json={init:function(){this.jsonInit(Oe)}};const Be={type:"object_to_json",message0:_e("object_to_json"),args0:[{type:"input_value",name:"object",check:"Object"}],output:null,colour:fe,tooltip:_e("object_to_json_tooltip"),helpUrl:"http://www.json.org/"};p.object_to_json={init:function(){this.jsonInit(Be)}};const Ee={type:"object_get",message0:_e("object_get_json"),args0:[{type:"field_input",name:"field_name",text:"default"},{type:"input_dummy"},{type:"input_value",name:"object",check:"Object",align:"RIGHT"}],output:null,colour:fe,tooltip:_e("object_get_json_tooltip"),helpUrl:""};p.object_get={init:function(){this.jsonInit(Ee)}};const ce={type:"object_set",message0:_e("object_set_json"),args0:[{type:"field_input",name:"field_name",text:_e("object_field_name")},{type:"input_dummy"},{type:"input_value",name:"object_field",check:"Object",align:"RIGHT"},{type:"input_value",name:"value_field",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:fe,tooltip:_e("object_set_json_tooltip"),helpUrl:""};p.object_set={init:function(){this.jsonInit(ce)}};const q={type:"object_create",message0:_e("object_create"),output:"Object",mutator:"controls_create_mutator",colour:15,tooltip:_e("object_create_tooltip"),helpUrl:""};p.object_create={init:function(){this.jsonInit(q)}};const se={type:"object_field",message0:"%1 %2",args0:[{type:"field_input",name:"field_name",text:_e("object_field_name")},{type:"input_value",name:"field_value"}],previousStatement:null,nextStatement:null,colour:15,tooltip:"",helpUrl:""};p[ae]={init:function(){this.jsonInit(se)}};const ne={type:"object_create_mutator",message0:_e("object_create"),nextStatement:null,colour:15,tooltip:_e("object_create_tooltip"),helpUrl:""};p[xe]={init:function(){this.jsonInit(ne)}};const Pe={numFields:0,fields:[],domToMutation:function(oe){this.fields=[];for(let te,de=0;te=oe.childNodes[de];de++)"field"==te.nodeName.toLowerCase()&&this.fields.push(te.getAttribute("name"));this.numFields=this.fields.length,this.updateShape()},mutationToDom:function(){if(!this.numFields)return null;const oe=document.createElement("mutation");oe.setAttribute("num_fields",""+this.numFields);for(let de=0;de<this.fields.length;de++){const te=document.createElement("field");te.setAttribute("name",this.fields[de]),oe.appendChild(te)}return oe},compose:function(oe){let de=oe.nextConnection&&oe.nextConnection.targetBlock();this.numFields=0,this.fields=[];let te=[null];for(;de;)this.fields.push(de.getFieldValue("field_name")),this.numFields++,te.push(de.savedConnection),de=de.nextConnection&&de.nextConnection.targetBlock();this.updateShape();for(let ie=1;ie<=this.numFields;ie++)n.reconnect(te[ie],this,"field_input"+ie)},decompose:function(oe){const de=oe.newBlock(xe);de.initSvg();let te=de.nextConnection;for(let ie=0;ie<this.fields.length;ie++){const Ge=oe.newBlock(ae);Ge.initSvg(),Ge.setFieldValue(this.fields[ie],"field_name"),te.connect(Ge.previousConnection),te=Ge.nextConnection}return de},saveConnections:function(oe){let de=oe.nextConnection&&oe.nextConnection.targetBlock(),te=1;for(;de;){const ie=this.getInput("field_input"+te);de.savedConnection=ie&&ie.connection.targetConnection,de.setFieldValue(this.getFieldValue("field"+te),"field_name"),te++,de=de.nextConnection&&de.nextConnection.targetBlock()}},updateShape:function(){this.getInput("with")&&this.removeInput("with");let oe=1;for(;this.getInput("field_input"+oe);)this.removeInput("field_input"+oe),oe++;this.numFields>0&&this.appendDummyInput("with").setAlign(1).appendField("with fields");for(let de=1;de<=this.numFields;de++){const te=this.fields[de-1];this.appendValueInput("field_input"+de).setCheck(null).setAlign(1).appendField(new v.FieldTextInput(te),"field"+de)}}};try{e.registerMutator("controls_create_mutator",Pe,null,["object_field"])}catch(oe){}},H.fieldXML=function(){return'    \n    <block type="modifyproperty"></block>\n    <block type="getproperty"></block>\n    <block type="object_create"></block>\n    \x3c!--<block type="object_from_json"></block>\n<block type="object_to_json"></block>\n<block type="object_get"></block>\n<block type="object_set"></block>--\x3e\n\n'}},50188:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.displayCurrentDate={init:function(){this.appendDummyInput().appendField("Current Date"),this.appendDummyInput().appendField("Pick date format:").appendField(new v.FieldDropdown([["Unix format","unix"],["ISO format","iso"],["Human format","human"]]),"dateFormat"),this.setOutput(!0,null),this.setColour(100),this.setTooltip("Show current date."),this.setHelpUrl("https://www.w3schools.com/jsref/jsref_obj_date.asp")}};t.displayCurrentDate=o=>{let b="";switch(o.getFieldValue("dateFormat").toString()){case"human":b="displayDateFormatted('human')";break;case"iso":b="displayDateFormatted('iso')";break;case"unix":b="displayDateFormatted('unix')";break;default:console.log("Date time format not suported")}return[b,99]}},H.fieldXML=function(){return'<block type="displayCurrentDate"></block>'}},71320:(P,H)=>{H.definitionBlocks=function(h,v){h.DateFromText={init:function(){this.appendValueInput("VALUE").appendField("Date from "),this.setOutput(!0,null),this.setHelpUrl("https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse#Date_Time_String_Format")}},v.DateFromText=t=>["Date.parse("+(v.valueToCode(t,"VALUE",v.ORDER_ATOMIC)||"")+")",99]},H.fieldXML=function(){return'<block type="DateFromText">\n    <value name="VALUE">\n        <shadow type="text">\n            <field name="TEXT">1970-04-16T02:00:00</field>\n        </shadow>\n    </value>\n</block>\n'}},18638:(P,H)=>{H.generalBlocks=function(){return'\n    \n    <category name="Blockly Core">\n\n    <category id="catLogic" colour="210" name="Logic">\n        <block type="controls_if"></block>\n        <block type="logic_compare"></block>\n        <block type="logic_operation"></block>\n        <block type="logic_negate"></block>\n        <block type="logic_boolean"></block>\n        <block type="logic_null"></block>\n        <block type="logic_ternary"></block>\n    </category>\n    <category id="catLoops" colour="120" name="Loops">\n        <block type="controls_repeat_ext">\n            <value name="TIMES">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="controls_whileUntil"></block>\n        <block type="controls_for">\n            <value name="FROM">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="TO">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n            <value name="BY">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="controls_forEach"></block>\n        <block type="controls_flow_statements"></block>\n    </category>\n    <category id="catMath" colour="230" name="Math">\n        <block type="math_number"></block>\n        <block type="math_arithmetic">\n            <value name="A">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="B">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_single">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">9</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_trig">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">45</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_constant"></block>\n        <block type="math_number_property">\n            <value name="NUMBER_TO_CHECK">\n                <shadow type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_change">\n            <value name="DELTA">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_round">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">3.1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_on_list"></block>\n        <block type="math_modulo">\n            <value name="DIVIDEND">\n                <shadow type="math_number">\n                    <field name="NUM">64</field>\n                </shadow>\n            </value>\n            <value name="DIVISOR">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_constrain">\n            <value name="VALUE">\n                <shadow type="math_number">\n                    <field name="NUM">50</field>\n                </shadow>\n            </value>\n            <value name="LOW">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="HIGH">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_random_int">\n            <value name="FROM">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="TO">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_random_float"></block>\n    </category>\n    <category id="catText" colour="160" name="Text">\n        <block type="text"></block>\n        <block type="text_join"></block>\n        <block type="text_append">\n            <value name="TEXT">\n                <shadow type="text"></shadow>\n            </value>\n        </block>\n        <block type="text_length">\n            <value name="VALUE">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_isEmpty">\n            <value name="VALUE">\n                <shadow type="text">\n                    <field name="TEXT"></field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_indexOf">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n            <value name="FIND">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_charAt">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n        </block>\n        <block type="text_getSubstring">\n            <value name="STRING">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n        </block>\n        <block type="text_changeCase">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_trim">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_print">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_prompt_ext">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n    </category>\n    <category id="catLists" colour="260" name="Lists">\n        <block type="lists_create_with">\n            <mutation items="0"></mutation>\n        </block>\n        <block type="lists_create_with"></block>\n        <block type="lists_repeat">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">5</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="lists_length"></block>\n        <block type="lists_isEmpty"></block>\n        <block type="lists_indexOf">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_getIndex">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_setIndex">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_getSublist">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_split">\n            <value name="DELIM">\n                <shadow type="text">\n                    <field name="TEXT">,</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="lists_sort"></block>\n    </category>\n    <category id="catColour" colour="20" name="Color">\n        <block type="colour_picker"></block>\n        <block type="colour_random"></block>\n        <block type="colour_rgb">\n            <value name="RED">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n            <value name="GREEN">\n                <shadow type="math_number">\n                    <field name="NUM">50</field>\n                </shadow>\n            </value>\n            <value name="BLUE">\n                <shadow type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="colour_blend">\n            <value name="COLOUR1">\n                <shadow type="colour_picker">\n                    <field name="COLOUR">#ff0000</field>\n                </shadow>\n            </value>\n            <value name="COLOUR2">\n                <shadow type="colour_picker">\n                    <field name="COLOUR">#3333ff</field>\n                </shadow>\n            </value>\n            <value name="RATIO">\n                <shadow type="math_number">\n                    <field name="NUM">0.5</field>\n                </shadow>\n            </value>\n        </block>\n    </category>\n    <category id="catVariables" colour="330" custom="VARIABLE" name="Variables"></category>\n    <category id="catFunctions" colour="290" custom="PROCEDURE" name="Functions"></category>\n</category>\n\n      '}},15889:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.blockemail={init:function(){this.appendValueInput("from").setCheck(null).appendField("From:"),this.appendValueInput("to").setCheck(null).appendField("To:"),this.appendValueInput("cc").setCheck(null).appendField("CC:"),this.appendValueInput("bcc").setCheck(null).appendField("BCC:"),this.appendValueInput("subject").setCheck(null).appendField("Subject:"),this.appendValueInput("body").setCheck(null).appendField("Body:").appendField(new v.FieldDropdown([["HTML","Html"],["TEXT","Text"]]),"NAME"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},p.sendinblue={init:function(){this.appendDummyInput().appendField("SendInBlue"),this.appendValueInput("APIKey").setCheck(null).appendField("ApiKey"),this.appendValueInput("email").setCheck("blockemail").appendField("Email"),this.setColour(230),this.setTooltip("Please see https://account.sendinblue.com/advanced/api"),this.setHelpUrl("https://account.sendinblue.com/advanced/api"),this.setOutput(!0,null)}},t.sendinblue=function(n){var b='window.alert("SendInBlue");\n',w="api.sendinblue.com";return b=`(function(apiKey,email){if(!('${w}' in headersForDomain)){ headersForDomain['${w}']=[]; };\n`,b+=`headersForDomain['${w}'].push({"name":"api-key","value":apiKey});\n`,b+=`headersForDomain['${w}'].push({"name":"Content-Type","value":"application/json"});\n`,b+=`headersForDomain['${w}'].push({"name":"Accept","value":"application/json"});\n`,b+='var sendinblueData={"sender":{"email": email.from }, "to":[{"email":email.to }],"subject":email.subject,"htmlContent": email.body} ;\n',b+="\nwindow.alert(JSON.stringify(sendinblueData));\n",b+=`var res=JSON.parse(postXhr("https://${w}/v3/smtp/email",JSON.stringify(sendinblueData)));if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;\n`,[b+="})("+t.valueToCode(n,"APIKey",t.ORDER_ATOMIC)+","+t.valueToCode(n,"email",t.ORDER_ATOMIC)+")",t.ORDER_NONE]},t.blockemail=function(n){var o=t.valueToCode(n,"from",t.ORDER_ATOMIC),u=t.valueToCode(n,"to",t.ORDER_ATOMIC),b=t.valueToCode(n,"cc",t.ORDER_ATOMIC),w=t.valueToCode(n,"bcc",t.ORDER_ATOMIC),R=t.valueToCode(n,"subject",t.ORDER_ATOMIC),N=n.getFieldValue("NAME"),Z="{";return Z+='"from":'+o+",",Z+='"to":'+u+",",Z+='"cc":'+b+",",Z+='"bcc":'+w+",",Z+='"subject":'+R+",",Z+='"body":'+t.valueToCode(n,"body",t.ORDER_ATOMIC)+",",Z+='"typeEmail":"'+N+'"',[""+(Z+="}"),t.ORDER_NONE]}},H.fieldXML=function(){return'<block type="blockemail">\n        <value name="from">\n            <shadow type="text">\n                <field name="TEXT">test@test.com</field>\n            </shadow>\n        </value>\n        <value name="to">\n            <shadow type="text">\n                <field name="TEXT">ignatandrei@yahoo.com</field>\n            </shadow>\n        </value>\n        <value name="cc">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n        <value name="bcc">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n        <value name="subject">\n            <shadow type="text">\n                <field name="TEXT">My test email</field>\n            </shadow>\n        </value>\n        <value name="body">\n            <shadow type="text">\n                <field name="TEXT">This is the body</field>\n            </shadow>\n        </value>\n            </block>\n        <block type="sendinblue">\n        <value name="APIKey">\n            <shadow type="text">\n                <field name="TEXT">Please put here the API Key from SendInBlue</field>\n            </shadow>\n            \n        </value>\n        <value name="email">\n            <shadow type="blockemail">\n            </shadow>\n            \n        </value>\n        \n        </block>\n'}},19544:(P,H)=>{H.definitionBlocks=function(h,v){h.exportfile={init:function(){this.appendDummyInput().appendField("ExportToFile"),this.appendValueInput("fileName").setCheck(null).appendField("FileName"),this.appendValueInput("contentFile").setCheck(null).appendField("Content"),this.appendValueInput("convertToByte").setCheck("Boolean").appendField("ConvertToByteFromBase64"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},v.exportfile=function(e){return"exportToFile("+v.valueToCode(e,"fileName",0)+","+v.valueToCode(e,"contentFile",0)+","+v.valueToCode(e,"convertToByte",0)+");\n"}},H.fieldXML=function(){return'<block type="exportfile">\n    <value name="fileName">\n        <shadow type="text">\n            <field name="TEXT">abc</field>\n        </shadow>\n    </value>\n    <value name="convertToByte">\n        <shadow type="logic_boolean">\n            <field name="BOOL">FALSE</field>\n        </shadow>\n    </value>\n</block>\n'}},30721:(P,H)=>{H.definitionBlocks=function(h,v){h.filterList={init:function(){this.appendDummyInput().appendField("filterList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("Logic").setCheck("String").appendField("item=>"),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},v.filterList=function(p){var t=v.valueToCode(p,"LIST",v.ORDER_MEMBER)||"[]",e=v.valueToCode(p,"Logic",v.ORDER_ATOMIC);"string"==typeof e&&(e=e.substr(1,e.length-2));var n="";return n+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+t+")).filter(function (item){ return "+e+";})",[n+="",v.ORDER_FUNCTION_CALL]},h.mapList={init:function(){this.appendDummyInput().appendField("mapList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("Logic").setCheck("String").appendField("item=>"),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},v.mapList=function(p){var t=v.valueToCode(p,"LIST",v.ORDER_MEMBER)||"[]",e=v.valueToCode(p,"Logic",v.ORDER_ATOMIC);"string"==typeof e&&(e=e.substr(1,e.length-2));var n="";return n+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+t+")).map(function (item){ return "+e+";})",[n+="",v.ORDER_FUNCTION_CALL]},h.reduceList={init:function(){this.appendDummyInput().appendField("reduceList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("initValue").setCheck(null).appendField("initialValue"),this.appendValueInput("Logic").setCheck("String").appendField("callback(acc,curVal,index, array)=>"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},v.reduceList=function(p){var t=v.valueToCode(p,"LIST",v.ORDER_MEMBER)||"[]",e="";try{e=v.valueToCode(p,"initValue",v.ORDER_ATOMIC)}catch(u){window.alert(u)}var n=v.valueToCode(p,"Logic",v.ORDER_ATOMIC);"string"==typeof n&&(n=n.substr(1,n.length-2));var o="";return o+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+t+")).reduce(function (acc,curVal,index,array){ "+n+";}",e&&e.toString().length>0&&(o+=","+e),o+=")",[o+="",v.ORDER_FUNCTION_CALL]}},H.fieldXML=function(){return'\n        <category id="catA" name="Array">\n            <block type="filterList">\n                <value name="LIST">\n                    <block type="variables_get">\n                        <field name="VAR">list</field>\n                    </block>\n                </value>\n                <value name="initValue">\n                    <shadow type="text">\n                        <field name="TEXT"> </field>\n                    </shadow>\n                </value>\n                <value name="Logic">\n                    <shadow type="text">\n                        <field name="TEXT">item.property == "value"</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="mapList">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n            <value name="Logic">\n                <shadow type="text">\n                    <field name="TEXT">item.property</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="reduceList">\n        <value name="LIST">\n        <block type="variables_get">\n                <field name="VAR">list</field>\n            </block>\n            </value>\n            <value name="Logic">\n                <shadow type="text">\n                    <field name="TEXT">...</field>\n                </shadow>\n            </value>\n        </block>\n        </category>\n\n'}},79118:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.window_open={init:function(){this.jsonInit({message0:"Open %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks"})}},t.window_open=function(o){var u=t.valueToCode(o,"TEXT",99)||"''";return"if((typeof "+u+' == "object") && ("to" in '+u+')){open("mailto:'+u.to+'")}else{ open('+u+")};\n"},p.text_message={init:function(){this.jsonInit({message0:"alert %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks"})}},t.text_message=function(o){return"alert1("+(t.valueToCode(o,"TEXT",99)||"''")+");\n"},p.text_print_return={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("print return").appendField(new v.FieldLabelSerializable(""),"NAME"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("")}},t.text_print_return=function(o){var u=t.valueToCode(o,"TEXT",0)||"''";return["(function(){window.alert("+u+");\n;return ("+u+");}())\n",99]},p.valuefromtext={init:function(){this.appendDummyInput().appendField("InputFromText"),this.appendValueInput("IdOfText").setCheck("String").appendField("Text id"),this.appendValueInput("ValueToObtain").setCheck("String").appendField("Property"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},t.valuefromtext=function(o){return["getIDProp("+t.valueToCode(o,"IdOfText",0)+","+(t.valueToCode(o,"ValueToObtain",0)||'"value"')+")",99]}},H.fieldXML=function(){return'<block type="window_open"></block>\n    <block type="valuefromtext">\n        <value name="IdOfText">\n            <shadow type="text">\n                <field name="TEXT">output</field>\n            </shadow>\n        </value>\n        <value name="ValueToObtain">\n            <shadow type="text">\n                <field name="TEXT">value</field>\n            </shadow>\n        </value>\n    </block>\n    <block type="text_print"></block>\n    <block type="text_print_return"></block>  \n    <block type="text_prompt_ext"></block>\n    <block type="text_message"></block>\n    \n    '}},4283:(P,H,h)=>{P.exports={defaultBlocks:h(18638),filterBlocks:h(30721),waitBlocks:h(63889),xhrBlocks:h(23087),propBlocks:h(83033),guiBlocks:h(79118),convertersBlocks:h(54256),exportFileBlock:h(19544),createObjectBlocks:h(97404),currentDateBlock:h(50188),dateFromTextBlock:h(71320),waitBlocks:h(3322),commentBlock:h(11124),auth0Blocks:h(29130),windowsCreds:h(40054),trycatchFinBlock:h(88073),chartBlock:h(34122),emailBlocks:h(15889),htmlblocks:h(19842),ttsBlock:h(87804),pianoBlock:h(62303),HTMLParserBlocks:h(67105)}},62303:(P,H,h)=>{h(45797),H.definitionBlocks=function(p,t){p.pianoBlock={init:function(){this.appendValueInput("Note").setCheck("String").appendField("Note(A-G)"),this.appendValueInput("Sharp").setCheck("Boolean").appendField("#"),this.appendValueInput("Octave").setCheck("Number").appendField("Octave"),this.appendValueInput("Duration").setCheck("Number").appendField("Duration"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("https://github.com/keithwhor/audiosynth")}},t.pianoBlock=function(e){var n=t.valueToCode(e,"Note",t.ORDER_ATOMIC),w="";return"true"==(t.valueToCode(e,"Sharp",t.ORDER_ATOMIC)||!1)&&(w="#"),"playPiano("+n+w+","+t.valueToCode(e,"Octave",t.ORDER_ATOMIC)+","+(t.valueToCode(e,"Duration",t.ORDER_ATOMIC)||2)+");\n"},p.cmajor={init:function(){this.appendDummyInput().appendField("CMajor "),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},t.cmajor=function(e){return['["C","D","E","F","G","A","B"]',t.ORDER_NONE]}},H.fieldXML=function(){return'<block type="pianoBlock">\n        <value name="Note">\n            <shadow type="text">\n            <field name="TEXT">C</field></shadow>\n        </value>       \n        <value name="Octave">\n            <shadow type="math_number">\n            <field name="NUM">4</field></shadow>\n        </value>       \n        <value name="Sharp">\n            <shadow type="logic_boolean">\n            <field name="BOOL">FALSE</field></shadow>\n        </value>       \n        \n        <value name="Duration">\n            <shadow type="math_number">\n            <field name="NUM">2</field></shadow>\n        </value>       \n        </block>\n        <block type="cmajor"></block>\n\n'}},83033:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.modifyproperty={init:function(){this.appendDummyInput().appendField("Modify "),this.appendValueInput("ObjectToChange").setCheck(null).setAlign(0).appendField(new v.FieldLabelSerializable("object"),"objectName"),this.appendValueInput("PropertyName").setCheck(null).setAlign(1).appendField(new v.FieldLabelSerializable(",property"),"prop"),this.appendValueInput("NewValue").setCheck(null).setAlign(1).appendField(new v.FieldLabelSerializable("toValue"),"newValue"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},t.modifyproperty=function(b){return t.valueToCode(b,"ObjectToChange",0)+"["+t.valueToCode(b,"PropertyName",0)+"]="+t.valueToCode(b,"NewValue",0)+";"},p.getproperty={init:function(){this.appendDummyInput().appendField("Get from"),this.appendValueInput("ObjectToChange").setCheck(null).setAlign(0).appendField(new v.FieldLabelSerializable("object"),"objectName"),this.appendValueInput("PropertyName").setCheck(null).setAlign(1).appendField(new v.FieldLabelSerializable("property"),"prop"),this.setInputsInline(!0),this.setOutput(!0,null)}},t.getproperty=function(b){return['(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+t.valueToCode(b,"ObjectToChange",0)+"))["+t.valueToCode(b,"PropertyName",0)+"]",99]}},H.fieldXML=function(){return'\n    \n    <block type="modifyproperty">\n        <value name="PropertyName">\n            <shadow type="text">\n                <field name="TEXT">enter property name</field>\n            </shadow>\n        </value>\n    </block>\n    <block type="getproperty">\n        <value name="PropertyName">\n            <shadow type="text">\n                <field name="TEXT">enter property name</field>\n            </shadow>\n        </value>\n\n    </block>    \n'}},88073:(P,H)=>{H.definitionBlocks=function(h,v){h.trycatchfinally={init:function(){this.appendStatementInput("TRY").appendField("try"),this.appendStatementInput("CATCH").appendField("catch"),this.appendStatementInput("FINALLY").appendField("finally"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},v.trycatchfinally=function(e){var b="try {\n"+v.statementToCode(e,"TRY")+"}\n";return(b+="catch(err){\n errHandler(JSON.stringify(err));\n"+v.statementToCode(e,"CATCH")+"\n}")+"finally{\n "+v.statementToCode(e,"FINALLY")+"\n}\n"}},H.fieldXML=function(){return'\n    \n    <block type="trycatchfinally">\n    \n</block>\n'}},3322:(P,H)=>{H.definitionBlocks=function(h,v){h.wait={init:function(){this.appendValueInput("VALUE").appendField("wait secs"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},v.wait=function(t){return"waitTime("+(v.valueToCode(t,"VALUE",v.ORDER_ATOMIC)||"")+");"},h.wait_until={init:function(){this.appendValueInput("VALUE").appendField("wait until date"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},v.wait_until=function(t){return"waitTime(("+(v.valueToCode(t,"VALUE",0)||"")+"-new Date())/1000);"}},H.fieldXML=function(){return'\n    <block type="wait">\n\n    <value name="VALUE">\n        <shadow type="math_number">\n            <field name="NUM">10</field>\n        </shadow>\n    </value>\n\n</block>\n<block type="wait_until">\n\n</block>'}},63889:(P,H)=>{H.definitionBlocks=function(h,v){h([{type:"wait_seconds",message0:" wait %1 seconds",args0:[{type:"field_number",name:"SECONDS",min:0,max:600,value:1}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}"}]),v.wait_seconds=function(p){return"waitForSeconds("+Number(p.getFieldValue("SECONDS"))+");\n"}},H.fieldXML=function(){return'\n  <block type="wait_seconds"></block>\n'}},23087:(P,H,h)=>{const v=h(45797);H.definitionBlocks=function(p,t){p.headersbeforehttp={init:function(){this.appendDummyInput().appendField("Add Headers"),this.appendValueInput("HttpDomain").setCheck("String").appendField("Domain"),this.appendValueInput("HeaderName").setCheck("String").appendField("Header Name"),this.appendValueInput("HeaderValue").setCheck("String").appendField("Header Value"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("at domain put (localSite) or *")}},t.headersbeforehttp=function(o){var u=t.valueToCode(o,"HttpDomain",0)||"(localSite)",R="\n";return R+="{\n",R+="if(!("+u+" in headersForDomain))\n",R+="{\n",R+="headersForDomain["+u+"]=[];\n",R+="};\n",R+="var arr = headersForDomain["+u+"];\n",R+="arr.push({name:"+t.valueToCode(o,"HeaderName",0)+", value:"+t.valueToCode(o,"HeaderValue",0)+"});\n",R+='//alert("a" + JSON.stringify(arr)+"a");\n',(R+='//alert("a" + JSON.stringify(headersForDomain['+u+'])+"a");\n')+"};\n"},p.httprequest={init:function(){this.appendDummyInput().appendField(new v.FieldDropdown([["JSON","JSON"],["Text","Text"]]),"TypeOutput").appendField("HttpRequest"),this.appendValueInput("TheUrl").setCheck(null).appendField(new v.FieldDropdown([["GET","GET"],["POST","POST"],["PUT","PUT"],["DELETE","DELETE"]]),"TypeRequest").appendField("URL"),this.appendValueInput("Data").setCheck(null).appendField("Data"),this.setOutput(!0,null)}},t.httprequest=function(o){var u=o.getFieldValue("TypeOutput"),b=o.getFieldValue("TypeRequest"),w=t.valueToCode(o,"TheUrl",0),R=t.valueToCode(o,"Data",0),N="";switch(b.toString()){case"GET":N="(function(url){ var res=JSON.parse(getXhr(url)); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+w+") )";break;case"POST":N="(function(url,data){ var res=JSON.parse(postXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+w,R&&(N+=","+R),N+=") )";break;case"DELETE":N="(function(url,data){ var res=JSON.parse(deleteXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+w,R&&(N+=","+R),N+=") )";break;case"PUT":N="(function(url,data){ var res=JSON.parse(putXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+w,R&&(N+=","+R),N+=") )";break;default:alert("Do not understand : "+b.toString())}var W=N;return"JSON"===u&&(W="JSON.parse("+W+")"),[W,99]}},H.fieldXML=function(){return'\n    \n    <block type="headersbeforehttp">\n    <value name="HttpDomain">\n        <shadow type="text">\n            <field name="TEXT">(localSite)</field>\n        </shadow>\n    </value>\n    <value name="HeaderName">\n        <shadow type="text">\n            <field name="TEXT">Authorization</field>\n        </shadow>\n    </value>\n    <value name="HeaderValue">\n        <shadow type="text_join">\n\n        </shadow>\n    </value>\n</block>\n<block type="text_print">\n<value name="TEXT">\n\n    <block type="httprequest">\n    <value name="TheUrl">\n        <shadow type="text">\n            <field name="TEXT">https://httpbin.org/get</field>\n        </shadow>\n    </value>\n</block>\n</value>\n</block>    \n\n'}},20070:(P,H,h)=>{var v=h(48926).default;const p=h(45797);P.exports=class{constructor(o){cl(this,"GenerateBlocks",[]),cl(this,"GenerateFunctions",[]),cl(this,"fieldXMLObjects",[]),cl(this,"fieldXMLFunctions",[]),cl(this,"hasError",!0),cl(this,"paths",[]),cl(this,"name",""),cl(this,"operations",[]),cl(this,"tagsSwagger",[]),cl(this,"cacheCategSwaggerFromPaths",[]),cl(this,"openApiDocument",null),cl(this,"basePath",""),this.swaggerUrl=o}nameCategSwagger(){return`catSwagger${this.findHostNameRegular()}_${this.name}`}metaBlocks(){var o=this;return function(u,b){var w;u[w=`meta_swagger_controllers_${o.name}`]={init:function(){this.appendDummyInput().appendField("categories_"+o.name),this.setOutput(!0,null),this.setColour(30),this.setTooltip(""),this.setHelpUrl(o.swaggerUrl)}},b[w]=function(R){var W=o.findCategSwaggerFromPaths().map(K=>({name:K}));return W={name:o.name,categories:W},[JSON.stringify(W),b.ORDER_NONE]},u[w=`meta_swagger_controllers_actions_${o.name}`]={init:function(){this.appendDummyInput().appendField("categories_actions"+o.name),this.setOutput(!0,null),this.setColour(30),this.setTooltip(""),this.setHelpUrl(o.swaggerUrl)}},b[w]=function(R){var W=o.findCategSwaggerFromPaths().map(K=>({name:K,ops:o.findfieldXMLFunctions(K).map(ae=>ae.id).filter(ae=>ae.length>0)}));return W={name:o.name,categories:W},[JSON.stringify(W),b.ORDER_NONE]}}}findfieldXMLFunctions(o){Object.keys(this.openApiDocument.paths);var w=this.operations.filter(N=>N.controller==o);return this.fieldXMLFunctions.filter(N=>{if(""==N.id)return!0;var W=N.id+"/",Z=!1;return w.forEach(K=>{W.startsWith(K.id)&&(Z=!0)}),!!Z||(w.forEach(K=>{var ae=K.id.substring(0,K.id.lastIndexOf("/"))+"{";W.startsWith(ae)&&(Z=!0)}),Z)})}findCategsFromTags(){var o=this.openApiDocument.paths,u=Object.keys(o),b=this;u.forEach(function(w){var R=o[w];R&&Object.keys(R).forEach(function(W){var Z=R[W].tags;Z&&Z.length>0&&Z.forEach(function(K){b.cacheCategSwaggerFromPaths.includes(K)||b.cacheCategSwaggerFromPaths.push(K),b.operations.push({controller:K,id:w})})})})}findCategSwaggerFromPaths(){if(this.findCategsFromTags(),this.cacheCategSwaggerFromPaths.length>0)return this.cacheCategSwaggerFromPaths;var o=this.paths.filter(b=>b&&b.id&&b.id.length>0).map(b=>{for(var w=b.id.length,R=b.id.indexOf("{");R>0;){var N=b.id.indexOf("}",R);if(w-N<2){b.id=b.id.substring(0,R);break}R=b.id.indexOf("{",N)}return b}).map(b=>(b.id.lastIndexOf("/")!=b.id.length-1&&(b.id+="/"),b));this.operations=o.filter(b=>b.nrOps>1).map(b=>({arr:b.id.split("/").filter(R=>R.length>0),id:b.id})).map(b=>({controller:b.arr[b.arr.length-1],id:b.id}));var u=o.filter(b=>1==b.nrOps).map(b=>({arr:b.id.split("/").filter(w=>w.length>0),id:b.id})).map(b=>1==b.arr.length?{controller:b.arr[0],id:b.id}:{controller:b.arr[b.arr.length-2],id:b.id});return this.operations.push(...u),this.cacheCategSwaggerFromPaths=[...new Set(this.operations.map(b=>b.controller))],this.cacheCategSwaggerFromPaths}categSwagger(){var o=this.findHostNameRegular();(o=o.replaceAll(".","")).length>5&&o.substring(0,5);var w=this.nameCategSwagger();return'<category name="Objects" custom="objects_'+w+'"></category><category name="AllApi" custom="AllApi_'+w+'"></category>'}findRootSite(){var R,N,o="";if((null==(N=null==(R=this.openApiDocument)?void 0:R.host)?void 0:N.length)>0){var u=this.openApiDocument.host;o=Array.isArray(u)?this.openApiDocument.schemes[0]+"://"+u[0]:this.openApiDocument.schemes[0]+"://"+u}else o=this.swaggerUrl;var b="";if(o.startsWith("http://")||o.startsWith("https://")){var w=new URL(o);b=w.protocol+"//"+w.hostname,w.port.length>0&&(b+=":"+w.port)}return b}findHostNameRegular(){var N,W,Z,o="";if((null==(W=null==(N=this.openApiDocument)?void 0:N.host)?void 0:W.length)>0){var u=this.openApiDocument.host;o=Array.isArray(u)?this.openApiDocument.schemes[0]+"://"+u[0]:this.openApiDocument.schemes[0]+"://"+u}else o=this.swaggerUrl;var b="(localSite)";if(o.startsWith("http://")||o.startsWith("https://")){var w=new URL(o),R=null!=(Z=w.port)?Z:80;b=w.hostname+R}return b.replaceAll(".","")}showWindowToLoad(o,u){try{vex.registerPlugin(h(Object(function(){var N=new Error("Cannot find module 'vex-dialog'");throw N.code="MODULE_NOT_FOUND",N}())))}catch(R){}u(window.prompt("Swagger url",o))}ParseSwagger(){var o=this;return v(function*(){var W,u=o;u.fieldXMLObjects.push(`<label text="${u.swaggerUrl}"></label>`),u.fieldXMLFunctions.push({id:"",gui:`<label text="${u.swaggerUrl}"></label>`});var b=null;try{b=(yield h(47511).default(o.swaggerUrl)).spec}catch(Z){return console.error(`parseSwagger ${o.swaggerUrl}`,Z),u.fieldXMLObjects.push("<label text='Error parsing!'></label>"),o}o.hasError=!1,o.basePath=b.basePath||"";var R=null==(W=b.components)?void 0:W.schemas;return(null==R||null==R)&&(R=b.definitions),R?Object.keys(R).sort().forEach(function(Z){var K=R[Z],ae=u.findProperties(K),xe=`<block type="${Z}">`;ae.forEach(function(fe){if(fe.value&&fe.value.type){var _e=u.GenerateShadowField(fe.value.type,fe.key);_e.length>0&&(xe+=`<value name="val_${fe.key}">${_e}</value>`)}}),u.fieldXMLObjects.push(xe+="</block>"),u.GenerateBlocks.push(u.GenerateBlock(K,Z))}):console.log("_A",b),b.paths&&Object.keys(b.paths).forEach(function(Z){var K=b.paths[Z];u.paths.push({id:Z,nrOps:Object.keys(K).length}),Object.keys(K).forEach(function(ae){u.GenerateFunctions.push(u.GenerateFunction(K,Z,K[ae],ae))})}),u.openApiDocument=b,u})()}findProperties(o){var u=[];return o.properties&&Object.keys(o.properties).forEach(b=>{u.push({key:b,value:o.properties[b]})}),u}GenerateNameFunction(o,u,b,w){return w+"_"+u.replaceAll("/","_").replaceAll("{","__").replaceAll("}","")}GenerateShadowField(o,u,b){switch(o){case"integer":return`<block type='math_number'><field name='NUM'>${b||0}</field></block>`;case"string":return`<block type='text'><field name='TEXT'>${b||`please enter ${u}`}</field></block>`;case"boolean":return`<block type='logic_boolean'><field name='BOOL'>${b||"FALSE"}</field></block>`;case"array":return'<block type="lists_create_with"> <mutation items="0"></mutation></block>';default:return""}}GenerateFunction(o,u,b,w){var R=this,N=R.GenerateNameFunction(o,u,b,w),Z=b,K=`<block type="text_print"> <value name="TEXT"><block type="${N}">`;Z.parameters&&Z.parameters.forEach(Be=>{if(Be.type)(Ee=R.GenerateShadowField(Be.type,Be.name)).length>0&&(K+=`<value name="val_${Be.name}">${Ee}</value>`);else if(Be.schema&&Be.schema.type){var Ee;(Ee=R.GenerateShadowField(Be.schema.type,Be.name)).length>0&&(K+=`<value name="val_${Be.name}">${Ee}</value>`)}});var ae="",xe="";try{var fe=R.findRootSite();if((fe||"").length>0){var _e=new URL(fe);ae=_e.hostname,xe=_e.port}}catch(Be){console.log("find root error",Be)}var Oe=R.GenerateShadowField("string","override_host",ae=ae||" ");return K+=`<value name="override_Host">${Oe}</value>`,Oe=R.GenerateShadowField("integer","override_port",xe=xe||"0"),K+=`<value name="override_Port">${Oe}</value>`,K+="</block></value>",R.fieldXMLFunctions.push({id:u,gui:K+="</block>"}),function(Be,Ee){Be[N]={init:function(){var ce=w;switch(w.toString().toLowerCase()){case"get":ce="",this.setColour(210);break;case"post":ce="",this.setColour(165);break;case"put":ce="",this.setColour(40);break;case"delete":ce="",this.setColour(10);break;default:console.log(`not found ${w}`),this.setColour(10)}for(var q=u,se=R.findCategSwaggerFromPaths(),ne=0;ne<se.length;ne++){var Pe="/"+se[ne]+"/",oe=u.indexOf(Pe);if(oe>-1){var de=u.substring(oe+Pe.length);de.length<q.length&&(q=de)}}q.length>25&&(q=q.substring(0,25)+"..."),this.appendDummyInput().appendField(new p.FieldImage(`assets/httpImages/${w}.png`,90,20,w)).appendField(`${ce} ${q}`);var te=R.findRootSite();if(Z.parameters&&Z.parameters.forEach(He=>{var ct=He.name;if(He.required&&(ct+="*"),He.type)ct+=":"+He.type;else if(He.schema)if(He.schema.enum&&"$$ref"in He.schema){var Yt=He.schema.$$ref.split("/");ct+="=>"+Yt[Yt.length-1]}else if(He.schema.type)if("object"==He.schema.type){var ht=He.schema.$$ref||"";ht.length>0&&(ct+=":"+(ht=ht.substring(ht.lastIndexOf("/")+1)))}else ct+=":"+He.schema.type;this.appendValueInput(`val_${He.name}`).appendField(ct)}),Z.requestBody){var ie="";if(Z.requestBody.content){var Ge=Z.requestBody.content["application/json"];if(Ge&&Ge.schema){var ve=Ge.schema.$$ref;ve&&(ie="=>"+ve.substring(ve.lastIndexOf("/")+1))}}this.appendValueInput("val_values").appendField("values"+ie).setCheck()}this.appendValueInput("override_Host").appendField("override Host"),this.appendValueInput("override_Port").appendField("override Port"),this.setTooltip(`${w} ${te}${u}`),this.setOutput(!0,"")}},Ee[N]=function(ce){var Pe=R.openApiDocument.paths[u][w],oe=[];"parameters"in Pe&&(oe=Pe.parameters);var de=!1,te=oe.filter(Lt=>"body"==Lt.in).length>0;(te||"requestBody"in Pe)&&(de=!0);var ie={},Ge={};de&&(ie.val_values=Ee.valueToCode(ce,"val_values",0),Ge.val_values=ie.val_values),oe.forEach(Lt=>{ie[`val_${Lt.name}`]=Ee.valueToCode(ce,`val_${Lt.name}`,0)});var ve=oe.map(Lt=>Lt.name);de&!te&&ve.push("values"),ve.push("extraData"),oe.map(Lt=>`\${obj['val_${Lt.name}']},`);var ct="function(";ct+=ve.join(","),ct+="){\n",ct+='var rootSite="'+R.findRootSite()+'";\n',ct+="if(extraData){\n",ct+="if(extraData.url && extraData.url.host && extraData.url.host.length>0 ){\n",ct+="rootSite =  changeHost(rootSite, extraData.url.host);\n",ct+="};\n",ct+="if(extraData.url && extraData.url.port && extraData.url.port.toString().length>0 ){\n",ct+="rootSite  =changePort(rootSite , extraData.url.port);\n",ct+="};\n",ct+="};\n",ct+='var strUrl =rootSite +"'+R.basePath+u+'";\n';var Yt=oe.filter(Lt=>"query"==Lt.in);if(Yt.length>0){ct+='strUrl+="?";\n;';var ht=Yt.map(Lt=>`${Lt.name}={`+Lt.name+"}").join("&");ct+='strUrl += "'+ht+'";\n;'}var Bt=oe.filter(Lt=>"path"==Lt.in||"query"==Lt.in).map(Lt=>`\n          //this gives error cannot read property 'call' of undefined in acorn\n          //strUrl = strUrl.replace("{${Lt.name}}",${Lt.name});\n          {\n            var replaceFInd = "{${Lt.name}}";\n            var index= strUrl.indexOf(replaceFInd);\n            if(index>=0){\n              var strUrlReplace = strUrl.substring(0,index)+ ${Lt.name} + strUrl.substring(index+replaceFInd.length);\n              strUrl = strUrlReplace;\n            }\n\n          };`);if(ct+=Bt.join("\n"),ct+=`\n{var res= ${w}Xhr(strUrl`,de){var Ht="values";te&&(Ht=oe.filter(Lt=>"body"==Lt.in)[0].name),ct+=`,JSON.stringify(${Ht})`}ct+=");\n",ct+="var resJS=JSON.parse(res);\n",ct+="if(resJS.statusOK) return resJS.text;\n",ct+="errHandler(res);\n}\n",ct+="}",ct+="(",oe.forEach(Lt=>{ct+=ie[`val_${Lt.name}`]+","}),de&!te&&(ct+=Ge.val_values+",");var Kt="url:{notImportant:1",vi=Ee.valueToCode(ce,"override_Host",0);(vi=vi||"").length>0&&(Kt+=`,host:${vi}`);var qt=Ee.valueToCode(ce,"override_Port",0);return(qt=qt||"").length>0&&(Kt+=`,port:${qt}`),ct+=`{${Kt+="}"}}\n`,[ct+=")",99]}}}GenerateBlock(o,u){var b=this,w=u,N=b.findProperties(o);return function(W,Z){W[w]={init:function(){var K=!1,ae=[];o.enum&&(K=!0,ae=Object.keys(o.enum).map(o["x-enumNames"]?_e=>[o["x-enumNames"][_e],_e]:_e=>[o.enum[_e],_e]));var fe=this.appendDummyInput().appendField(u);K?(ae=ae.map(_e=>[_e[0].toString(),_e[1].toString()]),fe.appendField(new p.FieldDropdown(ae),`val_${u}`)):N.forEach(_e=>{var q,Oe=_e.key;if(_e.value.nullable&&0==_e.value.nullable&&(Oe+="*"),null==(q=_e.value)?void 0:q.type){var Be=_e.value.type||"";if("object"==Be){var Ee=_e.value.$$ref||"";Ee.length>0&&(Be=Ee.substring(Ee.lastIndexOf("/")+1))}Oe+=":"+Be}_e.value.$ref&&(Oe+="->"+_e.value.$ref.replaceAll("#/components/schemas/","")),this.appendValueInput(`val_${_e.key}`).appendField(`${Oe}`)}),this.setOutput(!0,w)}},Z[w]=function(K){{var ae=!1;o.enum&&(ae=!0);var xe=b.findProperties(o);const Be=99,Ee=0;var fe="",_e=[];return xe.forEach(ce=>{let q=Z.valueToCode(K,`val_${ce.key}`,Ee);""===q&&(q="null"),null==q&&(q="null"),_e.push(`"${ce.key}":${q}`)}),fe="{ "+_e.join(",")+" }",ae&&(fe=K.getFieldValue(`val_${u}`)),[fe,Be]}}}}TranslateToBlocklyType(o){return"integer"==o?"Number":"string"==o?"String":"bool"==o?"Boolean":"array"==o?"Array":(console.error("not found TranslateToBlocklyType item"+o),"not found type"+o)}}},21086:(P,H,h)=>{P.exports={parseSwagger:h(18706),parseData:h(20070)}},18706:(P,H,h)=>{var v=h(48926).default;H.parseSwagger=function(){var e=v(function*(n){var W;new(h(20070))(n);var b=[],N=(yield h(53096).default(n)).response;return(null==(W=N.components)?void 0:W.schemas)&&Object.keys(N.components.schemas).forEach(function(Z){b.push(function(e,n){var o=n;return e.properties&&Object.keys(e.properties).forEach(u=>{}),function(u,b){u[o]={init:function(){this.appendDummyInput().appendField(n),this.setOutput(!0,o)}}}}(N.components.schemas[Z],Z))}),b});return function(n){return e.apply(this,arguments)}}(),H.parseSwagger1=function(e){return h(53096).default(e)}},96609:(P,H,h)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.Api=void 0;var v=h(35414);H.Api=function(e,n){void 0===n&&(n={}),this.entrypoint=e,v.assignSealed(this,n)}},66639:(P,H,h)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.Field=void 0;var v=h(35414);H.Field=function(e,n){void 0===n&&(n={}),this.name=e,v.assignSealed(this,n)}},57175:(P,H,h)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.Resource=void 0;var v=h(35414);H.Resource=function(e,n,o){void 0===o&&(o={}),this.name=e,this.url=n,v.assignSealed(this,o)}},2586:(P,H,h)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.removeTrailingSlash=void 0;var p=h(59312).__importDefault(h(37901)),t=h(66639),e=h(57175),n=h(61817);H.removeTrailingSlash=function(b){return b.endsWith("/")&&(b=b.slice(0,-1)),b},H.default=function(b,w){return n.getResources(b.paths).map(function(W){var Z=W.replace("/",""),K=H.removeTrailingSlash(w)+W,ae=Object.keys(b.paths[W])[0],xe=b.paths[W][ae];if(!xe.tags)throw new Error;var fe=xe.tags[0];if(!b.components)throw new Error;if(!b.components.schemas)throw new Error;var Oe=b.components.schemas[fe].properties;if(!Oe)throw new Error;var Be=Object.keys(Oe),Ee=p.default(b,["components","schemas",fe,"required"],[]),ce=Be.map(function(q){return new t.Field(q,{id:null,range:null,reference:null,required:!!Ee.find(function(se){return se===q}),description:p.default(Oe[q],"description","")})});return new e.Resource(Z,K,{id:null,title:fe,fields:ce,readableFields:ce,writableFields:ce})})}},53096:(P,H,h)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});var v=h(59312),p=h(96609),t=v.__importStar(h(2586));H.default=function(n){return n=t.removeTrailingSlash(n),fetch(n).then(function(o){return Promise.all([o,o.json()])}).then(function(o){var u=o[0],b=o[1],w=b.info.title,R=t.default(b,n);return Promise.resolve({api:new p.Api(n,{title:w,resources:R}),response:b,status:u.status})},function(o){var u=o[0],b=o[1];return Promise.reject({api:new p.Api(n,{resources:[]}),response:b,status:u.status})})}},35414:(P,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.assignSealed=void 0,H.assignSealed=function(v,p){Object.keys(p).forEach(function(t){Object.defineProperty(v,t,{writable:!0,enumerable:!0,configurable:!1,value:p[t]})})}},61817:(P,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.getResources=void 0,H.getResources=function(v){var p=[];return Object.keys(v).forEach(function(t){t.includes("/{id}")||p.find(function(e){return e.startsWith("/"+t.split("/")[1])})||p.push(t)}),p}},54678:function(P,H,h){var p,t;p=[h(33164)],void 0!==(t=function(e){"use strict";return e}.apply(H,p))&&(P.exports=t)},33164:function(P,H){var p;void 0!==(p=function(){"use strict";var t={connectionTypes:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4},constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};return t.CONNECTING_SNAP_RADIUS=t.SNAP_RADIUS,t.CURRENT_CONNECTION_PREFERENCE=8,t.BUMP_DELAY=250,t.BUMP_RANDOMNESS=10,t.COLLAPSE_CHARS=30,t.LONGPRESS=750,t.SOUND_LIMIT=100,t.DRAG_STACK=!0,t.HSV_SATURATION=.45,t.HSV_VALUE=.65,t.SPRITE={width:96,height:124,url:"sprites.png"},t.constants.ALIGN={LEFT:-1,CENTRE:0,RIGHT:1},t.DRAG_NONE=0,t.DRAG_STICKY=1,t.DRAG_BEGIN=1,t.DRAG_FREE=2,t.OPPOSITE_TYPE=[],t.OPPOSITE_TYPE[t.connectionTypes.INPUT_VALUE]=t.connectionTypes.OUTPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.OUTPUT_VALUE]=t.connectionTypes.INPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.NEXT_STATEMENT]=t.connectionTypes.PREVIOUS_STATEMENT,t.OPPOSITE_TYPE[t.connectionTypes.PREVIOUS_STATEMENT]=t.connectionTypes.NEXT_STATEMENT,t.VARIABLE_CATEGORY_NAME="VARIABLE",t.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",t.PROCEDURE_CATEGORY_NAME="PROCEDURE",t.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",t.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",t.constants.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",t.constants.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",t.utils={},t.utils.global=function(){return"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:this}(),t.Msg={},t.utils.global.Blockly||(t.utils.global.Blockly={}),t.utils.global.Blockly.Msg||(t.utils.global.Blockly.Msg=t.Msg),t.utils.colour={},t.utils.colour.parse=function(e){e=String(e).toLowerCase().trim();var n=t.utils.colour.names[e];if(n||(n="0x"==e.substring(0,2)?"#"+e.substring(2):e,/^#[0-9a-f]{6}$/.test(n="#"==n[0]?n:"#"+n)))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");var o=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return o&&(e=Number(o[1]),n=Number(o[2]),o=Number(o[3]),0<=e&&256>e&&0<=n&&256>n&&0<=o&&256>o)?t.utils.colour.rgbToHex(e,n,o):null},t.utils.colour.rgbToHex=function(e,n,o){return n=e<<16|n<<8|o,16>e?"#"+(16777216|n).toString(16).substr(1):"#"+n.toString(16)},t.utils.colour.hexToRgb=function(e){return(e=t.utils.colour.parse(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},t.utils.colour.hsvToHex=function(e,n,o){var u=0,b=0,w=0;if(0==n)w=b=u=o;else{var R=Math.floor(e/60),N=e/60-R;e=o*(1-n);var W=o*(1-n*N);switch(n=o*(1-n*(1-N)),R){case 1:u=W,b=o,w=e;break;case 2:u=e,b=o,w=n;break;case 3:u=e,b=W,w=o;break;case 4:u=n,b=e,w=o;break;case 5:u=o,b=e,w=W;break;case 6:case 0:u=o,b=n,w=e}}return t.utils.colour.rgbToHex(Math.floor(u),Math.floor(b),Math.floor(w))},t.utils.colour.blend=function(e,n,o){return(e=t.utils.colour.parse(e))&&(n=t.utils.colour.parse(n))?(e=t.utils.colour.hexToRgb(e),n=t.utils.colour.hexToRgb(n),t.utils.colour.rgbToHex(Math.round(n[0]+o*(e[0]-n[0])),Math.round(n[1]+o*(e[1]-n[1])),Math.round(n[2]+o*(e[2]-n[2])))):null},t.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},t.utils.Coordinate=function(e,n){this.x=e,this.y=n},t.utils.Coordinate.equals=function(e,n){return e==n||!(!e||!n)&&e.x==n.x&&e.y==n.y},t.utils.Coordinate.distance=function(e,n){var o=e.x-n.x;return e=e.y-n.y,Math.sqrt(o*o+e*e)},t.utils.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.utils.Coordinate.difference=function(e,n){return new t.utils.Coordinate(e.x-n.x,e.y-n.y)},t.utils.Coordinate.sum=function(e,n){return new t.utils.Coordinate(e.x+n.x,e.y+n.y)},t.utils.Coordinate.prototype.clone=function(){return new t.utils.Coordinate(this.x,this.y)},t.utils.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},t.utils.Coordinate.prototype.translate=function(e,n){return this.x+=e,this.y+=n,this},t.utils.Rect=function(e,n,o,u){this.top=e,this.bottom=n,this.left=o,this.right=u},t.utils.Rect.prototype.contains=function(e,n){return e>=this.left&&e<=this.right&&n>=this.top&&n<=this.bottom},t.utils.Rect.prototype.intersects=function(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)},t.utils.string={},t.utils.string.startsWith=function(e,n){return 0==e.lastIndexOf(n,0)},t.utils.string.shortestStringLength=function(e){return e.length?e.reduce(function(n,o){return n.length<o.length?n:o}).length:0},t.utils.string.commonWordPrefix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;var o=0;n=n||t.utils.string.shortestStringLength(e);for(var u=0;u<n;u++){for(var b=e[0][u],w=1;w<e.length;w++)if(b!=e[w][u])return o;" "==b&&(o=u+1)}for(w=1;w<e.length;w++)if((b=e[w][u])&&" "!=b)return o;return n},t.utils.string.commonWordSuffix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;var o=0;n=n||t.utils.string.shortestStringLength(e);for(var u=0;u<n;u++){for(var b=e[0].substr(-u-1,1),w=1;w<e.length;w++)if(b!=e[w].substr(-u-1,1))return o;" "==b&&(o=u+1)}for(w=1;w<e.length;w++)if((b=e[w].charAt(e[w].length-u-1))&&" "!=b)return o;return n},t.utils.string.wrap=function(e,n){e=e.split("\n");for(var o=0;o<e.length;o++)e[o]=t.utils.string.wrapLine_(e[o],n);return e.join("\n")},t.utils.string.wrapLine_=function(e,n){if(e.length<=n)return e;for(var o=e.trim().split(/\s+/),u=0;u<o.length;u++)o[u].length>n&&(n=o[u].length);u=-1/0;var b=1;do{var w=u,R=e;e=[];var N=o.length/b,W=1;for(u=0;u<o.length-1;u++)W<(u+1.5)/N?(W++,e[u]=!0):e[u]=!1;e=t.utils.string.wrapMutate_(o,e,n),u=t.utils.string.wrapScore_(o,e,n),e=t.utils.string.wrapToText_(o,e),b++}while(u>w);return R},t.utils.string.wrapScore_=function(e,n,o){for(var u=[0],b=[],w=0;w<e.length;w++)u[u.length-1]+=e[w].length,!0===n[w]?(u.push(0),b.push(e[w].charAt(e[w].length-1))):!1===n[w]&&u[u.length-1]++;for(e=Math.max.apply(Math,u),w=n=0;w<u.length;w++)n-=2*Math.pow(Math.abs(o-u[w]),1.5),n-=Math.pow(e-u[w],1.5),-1!=".?!".indexOf(b[w])?n+=o/3:-1!=",;)]}".indexOf(b[w])&&(n+=o/4);return 1<u.length&&u[u.length-1]<=u[u.length-2]&&(n+=.5),n},t.utils.string.wrapMutate_=function(e,n,o){for(var b,u=t.utils.string.wrapScore_(e,n,o),w=0;w<n.length-1;w++)if(n[w]!=n[w+1]){var R=[].concat(n);R[w]=!R[w],R[w+1]=!R[w+1];var N=t.utils.string.wrapScore_(e,R,o);N>u&&(u=N,b=R)}return b?t.utils.string.wrapMutate_(e,b,o):n},t.utils.string.wrapToText_=function(e,n){for(var o=[],u=0;u<e.length;u++)o.push(e[u]),void 0!==n[u]&&o.push(n[u]?"\n":" ");return o.join("")},t.utils.Size=function(e,n){this.width=e,this.height=n},t.utils.Size.equals=function(e,n){return e==n||!(!e||!n)&&e.width==n.width&&e.height==n.height},t.utils.style={},t.utils.style.getSize=function(e){if("none"!=t.utils.style.getStyle_(e,"display"))return t.utils.style.getSizeWithDisplay_(e);var n=e.style,o=n.display,u=n.visibility,b=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var w=e.offsetWidth;return e=e.offsetHeight,n.display=o,n.position=b,n.visibility=u,new t.utils.Size(w,e)},t.utils.style.getSizeWithDisplay_=function(e){return new t.utils.Size(e.offsetWidth,e.offsetHeight)},t.utils.style.getStyle_=function(e,n){return t.utils.style.getComputedStyle(e,n)||t.utils.style.getCascadedStyle(e,n)||e.style&&e.style[n]},t.utils.style.getComputedStyle=function(e,n){return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(e,null))&&(e[n]||e.getPropertyValue(n))||""},t.utils.style.getCascadedStyle=function(e,n){return e.currentStyle?e.currentStyle[n]:null},t.utils.style.getPageOffset=function(e){var n=new t.utils.Coordinate(0,0);e=e.getBoundingClientRect();var o=document.documentElement;return o=new t.utils.Coordinate(window.pageXOffset||o.scrollLeft,window.pageYOffset||o.scrollTop),n.x=e.left+o.x,n.y=e.top+o.y,n},t.utils.style.getViewportPageOffset=function(){var e=document.body,n=document.documentElement;return new t.utils.Coordinate(e.scrollLeft||n.scrollLeft,e.scrollTop||n.scrollTop)},t.utils.style.setElementShown=function(e,n){e.style.display=n?"":"none"},t.utils.style.isRightToLeft=function(e){return"rtl"==t.utils.style.getStyle_(e,"direction")},t.utils.style.getBorderBox=function(e){var n=t.utils.style.getComputedStyle(e,"borderLeftWidth"),o=t.utils.style.getComputedStyle(e,"borderRightWidth"),u=t.utils.style.getComputedStyle(e,"borderTopWidth");return e=t.utils.style.getComputedStyle(e,"borderBottomWidth"),{top:parseFloat(u),right:parseFloat(o),bottom:parseFloat(e),left:parseFloat(n)}},t.utils.style.scrollIntoContainerView=function(e,n,o){e=t.utils.style.getContainerOffsetToScrollInto(e,n,o),n.scrollLeft=e.x,n.scrollTop=e.y},t.utils.style.getContainerOffsetToScrollInto=function(e,n,o){var u=t.utils.style.getPageOffset(e),b=t.utils.style.getPageOffset(n),w=t.utils.style.getBorderBox(n),R=u.x-b.x-w.left;return u=u.y-b.y-w.top,b=t.utils.style.getSizeWithDisplay_(e),e=n.clientWidth-b.width,b=n.clientHeight-b.height,w=n.scrollLeft,n=n.scrollTop,o?(w+=R-e/2,n+=u-b/2):(w+=Math.min(R,Math.max(R-e,0)),n+=Math.min(u,Math.max(u-b,0))),new t.utils.Coordinate(w,n)},t.utils.userAgent={},function(e){function n(u){return-1!=o.indexOf(u.toUpperCase())}t.utils.userAgent.raw=e;var o=t.utils.userAgent.raw.toUpperCase();t.utils.userAgent.IE=n("Trident")||n("MSIE"),t.utils.userAgent.EDGE=n("Edge"),t.utils.userAgent.JAVA_FX=n("JavaFX"),t.utils.userAgent.CHROME=(n("Chrome")||n("CriOS"))&&!t.utils.userAgent.EDGE,t.utils.userAgent.WEBKIT=n("WebKit")&&!t.utils.userAgent.EDGE,t.utils.userAgent.GECKO=n("Gecko")&&!t.utils.userAgent.WEBKIT&&!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,t.utils.userAgent.ANDROID=n("Android"),e=t.utils.global.navigator&&t.utils.global.navigator.maxTouchPoints,t.utils.userAgent.IPAD=n("iPad")||n("Macintosh")&&0<e,t.utils.userAgent.IPOD=n("iPod"),t.utils.userAgent.IPHONE=n("iPhone")&&!t.utils.userAgent.IPAD&&!t.utils.userAgent.IPOD,t.utils.userAgent.MAC=n("Macintosh"),t.utils.userAgent.TABLET=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID&&!n("Mobile")||n("Silk"),t.utils.userAgent.MOBILE=!t.utils.userAgent.TABLET&&(t.utils.userAgent.IPOD||t.utils.userAgent.IPHONE||t.utils.userAgent.ANDROID||n("IEMobile"))}(t.utils.global.navigator&&t.utils.global.navigator.userAgent||""),t.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},t.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable||e.target.dataset&&"true"==e.target.dataset.isTextInput},t.utils.getRelativeXY=function(e){var n=new t.utils.Coordinate(0,0),o=e.getAttribute("x");return o&&(n.x=parseInt(o,10)),(o=e.getAttribute("y"))&&(n.y=parseInt(o,10)),(o=(o=e.getAttribute("transform"))&&o.match(t.utils.getRelativeXY.XY_REGEX_))&&(n.x+=Number(o[1]),o[3]&&(n.y+=Number(o[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(t.utils.getRelativeXY.XY_STYLE_REGEX_))&&(n.x+=Number(e[1]),e[3]&&(n.y+=Number(e[3]))),n},t.utils.getInjectionDivXY_=function(e){for(var n=0,o=0;e;){var u=t.utils.getRelativeXY(e);if(n+=u.x,o+=u.y,-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new t.utils.Coordinate(n,o)},t.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,t.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,t.utils.isRightButton=function(e){return!(!e.ctrlKey||!t.utils.userAgent.MAC)||2==e.button},t.utils.mouseToSvg=function(e,n,o){var u=n.createSVGPoint();return u.x=e.clientX,u.y=e.clientY,o||(o=n.getScreenCTM().inverse()),u.matrixTransform(o)},t.utils.getScrollDeltaPixels=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*t.LINE_MODE_MULTIPLIER,y:e.deltaY*t.LINE_MODE_MULTIPLIER};case 2:return{x:e.deltaX*t.PAGE_MODE_MULTIPLIER,y:e.deltaY*t.PAGE_MODE_MULTIPLIER}}},t.utils.tokenizeInterpolation=function(e){return t.utils.tokenizeInterpolation_(e,!0)},t.utils.replaceMessageReferences=function(e){return"string"!=typeof e?e:(e=t.utils.tokenizeInterpolation_(e,!1)).length?String(e[0]):""},t.utils.checkMessageReferences=function(e){for(var n=!0,o=t.Msg,u=e.match(/%{BKY_[A-Z]\w*}/gi),b=0;b<u.length;b++)null==o[u[b].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+u[b]+" in "+e),n=!1);return n},t.utils.tokenizeInterpolation_=function(e,n){var o=[],u=e.split("");u.push("");var b=0;e=[];for(var w=null,R=0;R<u.length;R++){var N=u[R];0==b?"%"==N?((N=e.join(""))&&o.push(N),e.length=0,b=1):e.push(N):1==b?"%"==N?(e.push(N),b=0):n&&"0"<=N&&"9">=N?(b=2,w=N,(N=e.join(""))&&o.push(N),e.length=0):"{"==N?b=3:(e.push("%",N),b=0):2==b?"0"<=N&&"9">=N?w+=N:(o.push(parseInt(w,10)),R--,b=0):3==b&&(""==N?(e.splice(0,0,"%{"),R--,b=0):"}"!=N?e.push(N):(b=e.join(""),/[A-Z]\w*/i.test(b)?(N=b.toUpperCase(),(N=t.utils.string.startsWith(N,"BKY_")?N.substring(4):null)&&N in t.Msg?"string"==typeof(b=t.Msg[N])?Array.prototype.push.apply(o,t.utils.tokenizeInterpolation_(b,n)):o.push(n?String(b):b):o.push("%{"+b+"}")):o.push("%{"+b+"}"),b=e.length=0))}for((N=e.join(""))&&o.push(N),n=[],R=e.length=0;R<o.length;++R)"string"==typeof o[R]?e.push(o[R]):((N=e.join(""))&&n.push(N),e.length=0,n.push(o[R]));return(N=e.join(""))&&n.push(N),e.length=0,n},t.utils.genUid=function(){for(var e=t.utils.genUid.soup_.length,n=[],o=0;20>o;o++)n[o]=t.utils.genUid.soup_.charAt(Math.random()*e);return n.join("")},t.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.utils.is3dSupported=function(){if(void 0!==t.utils.is3dSupported.cached_)return t.utils.is3dSupported.cached_;if(!t.utils.global.getComputedStyle)return!1;var e=document.createElement("p"),n="none",o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var u in document.body.insertBefore(e,null),o)if(void 0!==e.style[u]){if(e.style[u]="translate3d(1px,1px,1px)",!(n=t.utils.global.getComputedStyle(e)))return document.body.removeChild(e),!1;n=n.getPropertyValue(o[u])}return document.body.removeChild(e),t.utils.is3dSupported.cached_="none"!==n,t.utils.is3dSupported.cached_},t.utils.runAfterPageLoad=function(e){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)e();else var n=setInterval(function(){"complete"==document.readyState&&(clearInterval(n),e())},10)},t.utils.getViewportBBox=function(){var e=t.utils.style.getViewportPageOffset();return new t.utils.Rect(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},t.utils.arrayRemove=function(e,n){return-1!=(n=e.indexOf(n))&&(e.splice(n,1),!0)},t.utils.getDocumentScroll=function(){var e=document.documentElement,n=window;return t.utils.userAgent.IE&&n.pageYOffset!=e.scrollTop?new t.utils.Coordinate(e.scrollLeft,e.scrollTop):new t.utils.Coordinate(n.pageXOffset||e.scrollLeft,n.pageYOffset||e.scrollTop)},t.utils.getBlockTypeCounts=function(e,n){var o=Object.create(null),u=e.getDescendants(!0);for(n&&(e=e.getNextBlock())&&(e=u.indexOf(e),u.splice(e,u.length-e)),e=0;n=u[e];e++)o[n.type]?o[n.type]++:o[n.type]=1;return o},t.utils.screenToWsCoordinates=function(e,n){var o=n.x;n=n.y;var u=e.getInjectionDiv().getBoundingClientRect();return o=new t.utils.Coordinate(o-u.left,n-u.top),n=e.getOriginOffsetInPixels(),t.utils.Coordinate.difference(o,n).scale(1/e.scale)},t.utils.parseBlockColour=function(e){var n="string"==typeof e?t.utils.replaceMessageReferences(e):e,o=Number(n);if(!isNaN(o)&&0<=o&&360>=o)return{hue:o,hex:t.utils.colour.hsvToHex(o,t.HSV_SATURATION,255*t.HSV_VALUE)};if(o=t.utils.colour.parse(n))return{hue:null,hex:o};throw o='Invalid colour: "'+n+'"',e!=n&&(o+=' (from "'+e+'")'),Error(o)},t.Touch={},t.Touch.TOUCH_ENABLED="ontouchstart"in t.utils.global||!!(t.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!t.utils.global.navigator||!t.utils.global.navigator.maxTouchPoints&&!t.utils.global.navigator.msMaxTouchPoints),t.Touch.touchIdentifier_=null,t.Touch.TOUCH_MAP={},t.utils.global.PointerEvent?t.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:t.Touch.TOUCH_ENABLED&&(t.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),t.longPid_=0,t.longStart=function(e,n){t.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(t.longPid_=setTimeout(function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),n&&n.handleRightClick(e)},t.LONGPRESS))},t.longStop_=function(){t.longPid_&&(clearTimeout(t.longPid_),t.longPid_=0)},t.Touch.clearTouchIdentifier=function(){t.Touch.touchIdentifier_=null},t.Touch.shouldHandleEvent=function(e){return!t.Touch.isMouseOrTouchEvent(e)||t.Touch.checkTouchIdentifier(e)},t.Touch.getTouchIdentifierFromEvent=function(e){return null!=e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&null!=e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},t.Touch.checkTouchIdentifier=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);return null!=t.Touch.touchIdentifier_?t.Touch.touchIdentifier_==n:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(t.Touch.touchIdentifier_=n,!0)},t.Touch.setClientFromTouch=function(e){if(t.utils.string.startsWith(e.type,"touch")){var n=e.changedTouches[0];e.clientX=n.clientX,e.clientY=n.clientY}},t.Touch.isMouseOrTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"mouse")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.isTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.splitEventByTouches=function(e){var n=[];if(e.changedTouches)for(var o=0;o<e.changedTouches.length;o++)n[o]={type:e.type,changedTouches:[e.changedTouches[o]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else n.push(e);return n},t.browserEvents={},t.browserEvents.conditionalBind=function(e,n,o,u,b,w){var R=!1,N=function(xe){var fe=!b;xe=t.Touch.splitEventByTouches(xe);for(var Oe,_e=0;Oe=xe[_e];_e++)(!fe||t.Touch.shouldHandleEvent(Oe))&&(t.Touch.setClientFromTouch(Oe),o?u.call(o,Oe):u(Oe),R=!0)},W=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var K,Z=0;K=t.Touch.TOUCH_MAP[n][Z];Z++)e.addEventListener(K,N,!1),W.push([e,K,N]);else if(e.addEventListener(n,N,!1),W.push([e,n,N]),n in t.Touch.TOUCH_MAP){var ae=function(xe){N(xe),R&&!w&&xe.preventDefault()};for(Z=0;K=t.Touch.TOUCH_MAP[n][Z];Z++)e.addEventListener(K,ae,!1),W.push([e,K,ae])}return W},t.browserEvents.bind=function(e,n,o,u){var b=function(Z){o?u.call(o,Z):u(Z)},w=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var N,R=0;N=t.Touch.TOUCH_MAP[n][R];R++)e.addEventListener(N,b,!1),w.push([e,N,b]);else if(e.addEventListener(n,b,!1),w.push([e,n,b]),n in t.Touch.TOUCH_MAP){var W=function(Z){if(Z.changedTouches&&1==Z.changedTouches.length){var K=Z.changedTouches[0];Z.clientX=K.clientX,Z.clientY=K.clientY}b(Z),Z.preventDefault()};for(R=0;N=t.Touch.TOUCH_MAP[n][R];R++)e.addEventListener(N,W,!1),w.push([e,N,W])}return w},t.browserEvents.unbind=function(e){for(;e.length;){var n=e.pop(),o=n[2];n[0].removeEventListener(n[1],o,!1)}return o},t.ComponentManager=function(){this.componentData_=Object.create(null),this.capabilityToComponentIds_=Object.create(null)},t.ComponentManager.prototype.addComponent=function(e,n){var o=e.component.id;if(!n&&this.componentData_[o])throw Error('Plugin "'+o+'" with capabilities "'+this.componentData_[o].capabilities+'" already added.');this.componentData_[o]=e,n=[];for(var u=0;u<e.capabilities.length;u++){var b=String(e.capabilities[u]).toLowerCase();n.push(b),void 0===this.capabilityToComponentIds_[b]?this.capabilityToComponentIds_[b]=[o]:this.capabilityToComponentIds_[b].push(o)}this.componentData_[o].capabilities=n},t.ComponentManager.prototype.removeComponent=function(e){var n=this.componentData_[e];if(n){for(var o=0;o<n.capabilities.length;o++){var u=String(n.capabilities[o]).toLowerCase();this.capabilityToComponentIds_[u].splice(this.capabilityToComponentIds_[u].indexOf(e),1)}delete this.componentData_[e]}},t.ComponentManager.prototype.addCapability=function(e,n){if(!this.getComponent(e))throw Error('Cannot add capability, "'+n+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,n)?console.warn('Plugin "'+e+'already has capability "'+n+'"'):(n=String(n).toLowerCase(),this.componentData_[e].capabilities.push(n),this.capabilityToComponentIds_[n].push(e))},t.ComponentManager.prototype.removeCapability=function(e,n){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+n+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,n)?(n=String(n).toLowerCase(),this.componentData_[e].capabilities.splice(this.componentData_[e].capabilities.indexOf(n),1),this.capabilityToComponentIds_[n].splice(this.capabilityToComponentIds_[n].indexOf(e),1)):console.warn('Plugin "'+e+"doesn't have capability \""+n+'" to remove')},t.ComponentManager.prototype.hasCapability=function(e,n){return n=String(n).toLowerCase(),-1!==this.componentData_[e].capabilities.indexOf(n)},t.ComponentManager.prototype.getComponent=function(e){return this.componentData_[e]&&this.componentData_[e].component},t.ComponentManager.prototype.getComponents=function(e,n){if(e=String(e).toLowerCase(),!(e=this.capabilityToComponentIds_[e]))return[];var o=[];if(n){var u=[],b=this.componentData_;e.forEach(function(w){u.push(b[w])}),u.sort(function(w,R){return w.weight-R.weight}),u.forEach(function(w){o.push(w.component)})}else b=this.componentData_,e.forEach(function(w){o.push(b[w].component)});return o},t.ComponentManager.Capability=function(e){this.name_=e},t.ComponentManager.Capability.prototype.toString=function(){return this.name_},t.ComponentManager.Capability.POSITIONABLE=new t.ComponentManager.Capability("positionable"),t.ComponentManager.Capability.DRAG_TARGET=new t.ComponentManager.Capability("drag_target"),t.ComponentManager.Capability.DELETE_AREA=new t.ComponentManager.Capability("delete_area"),t.ComponentManager.Capability.AUTOHIDEABLE=new t.ComponentManager.Capability("autohideable"),t.utils.Svg=function(e){this.tagName_=e},t.utils.Svg.prototype.toString=function(){return this.tagName_},t.utils.Svg.ANIMATE=new t.utils.Svg("animate"),t.utils.Svg.CIRCLE=new t.utils.Svg("circle"),t.utils.Svg.CLIPPATH=new t.utils.Svg("clipPath"),t.utils.Svg.DEFS=new t.utils.Svg("defs"),t.utils.Svg.FECOMPOSITE=new t.utils.Svg("feComposite"),t.utils.Svg.FECOMPONENTTRANSFER=new t.utils.Svg("feComponentTransfer"),t.utils.Svg.FEFLOOD=new t.utils.Svg("feFlood"),t.utils.Svg.FEFUNCA=new t.utils.Svg("feFuncA"),t.utils.Svg.FEGAUSSIANBLUR=new t.utils.Svg("feGaussianBlur"),t.utils.Svg.FEPOINTLIGHT=new t.utils.Svg("fePointLight"),t.utils.Svg.FESPECULARLIGHTING=new t.utils.Svg("feSpecularLighting"),t.utils.Svg.FILTER=new t.utils.Svg("filter"),t.utils.Svg.FOREIGNOBJECT=new t.utils.Svg("foreignObject"),t.utils.Svg.G=new t.utils.Svg("g"),t.utils.Svg.IMAGE=new t.utils.Svg("image"),t.utils.Svg.LINE=new t.utils.Svg("line"),t.utils.Svg.PATH=new t.utils.Svg("path"),t.utils.Svg.PATTERN=new t.utils.Svg("pattern"),t.utils.Svg.POLYGON=new t.utils.Svg("polygon"),t.utils.Svg.RECT=new t.utils.Svg("rect"),t.utils.Svg.SVG=new t.utils.Svg("svg"),t.utils.Svg.TEXT=new t.utils.Svg("text"),t.utils.Svg.TSPAN=new t.utils.Svg("tspan"),t.utils.dom={},t.utils.dom.SVG_NS="http://www.w3.org/2000/svg",t.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",t.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",t.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},t.utils.dom.cacheWidths_=null,t.utils.dom.cacheReference_=0,t.utils.dom.canvasContext_=null,t.utils.dom.createSvgElement=function(e,n,o){for(var u in e=document.createElementNS(t.utils.dom.SVG_NS,String(e)),n)e.setAttribute(u,n[u]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),o&&o.appendChild(e),e},t.utils.dom.addClass=function(e,n){var o=e.getAttribute("class")||"";return-1==(" "+o+" ").indexOf(" "+n+" ")&&(o&&(o+=" "),e.setAttribute("class",o+n),!0)},t.utils.dom.removeClasses=function(e,n){n=n.split(" ");for(var o=0;o<n.length;o++)t.utils.dom.removeClass(e,n[o])},t.utils.dom.removeClass=function(e,n){var o=e.getAttribute("class");if(-1==(" "+o+" ").indexOf(" "+n+" "))return!1;o=o.split(/\s+/);for(var u=0;u<o.length;u++)o[u]&&o[u]!=n||(o.splice(u,1),u--);return o.length?e.setAttribute("class",o.join(" ")):e.removeAttribute("class"),!0},t.utils.dom.hasClass=function(e,n){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+n+" ")},t.utils.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},t.utils.dom.insertAfter=function(e,n){var o=n.nextSibling;if(!(n=n.parentNode))throw Error("Reference node has no parent.");o?n.insertBefore(e,o):n.appendChild(e)},t.utils.dom.containsNode=function(e,n){return!!(e.compareDocumentPosition(n)&t.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},t.utils.dom.setCssTransform=function(e,n){e.style.transform=n,e.style["-webkit-transform"]=n},t.utils.dom.startTextWidthCache=function(){t.utils.dom.cacheReference_++,t.utils.dom.cacheWidths_||(t.utils.dom.cacheWidths_=Object.create(null))},t.utils.dom.stopTextWidthCache=function(){t.utils.dom.cacheReference_--,t.utils.dom.cacheReference_||(t.utils.dom.cacheWidths_=null)},t.utils.dom.getTextWidth=function(e){var o,n=e.textContent+"\n"+e.className.baseVal;if(t.utils.dom.cacheWidths_&&(o=t.utils.dom.cacheWidths_[n]))return o;try{o=t.utils.userAgent.IE||t.utils.userAgent.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(u){return 8*e.textContent.length}return t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[n]=o),o},t.utils.dom.getFastTextWidth=function(e,n,o,u){return t.utils.dom.getFastTextWidthWithSizeString(e,n+"pt",o,u)},t.utils.dom.getFastTextWidthWithSizeString=function(e,n,o,u){var w,b=e.textContent;return e=b+"\n"+e.className.baseVal,t.utils.dom.cacheWidths_&&(w=t.utils.dom.cacheWidths_[e])||(t.utils.dom.canvasContext_||((w=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(w),t.utils.dom.canvasContext_=w.getContext("2d")),t.utils.dom.canvasContext_.font=o+" "+n+" "+u,w=t.utils.dom.canvasContext_.measureText(b).width,t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[e]=w)),w},t.utils.dom.measureFontMetrics=function(e,n,o,u){var b=document.createElement("span");b.style.font=o+" "+n+" "+u,b.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0px",(n=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),n.appendChild(b),n.appendChild(e),document.body.appendChild(n);try{o={},n.style.alignItems="baseline",o.baseline=e.offsetTop-b.offsetTop,n.style.alignItems="flex-end",o.height=e.offsetTop-b.offsetTop}finally{document.body.removeChild(n)}return o},t.utils.math={},t.utils.math.toRadians=function(e){return e*Math.PI/180},t.utils.math.toDegrees=function(e){return 180*e/Math.PI},t.utils.math.clamp=function(e,n,o){if(o<e){var u=o;o=e,e=u}return Math.max(e,Math.min(n,o))},t.DropDownDiv=function(){},t.DropDownDiv.boundsElement_=null,t.DropDownDiv.owner_=null,t.DropDownDiv.positionToField_=null,t.DropDownDiv.ARROW_SIZE=16,t.DropDownDiv.BORDER_SIZE=1,t.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,t.DropDownDiv.PADDING_Y=16,t.DropDownDiv.ANIMATION_TIME=.25,t.DropDownDiv.animateOutTimer_=null,t.DropDownDiv.onHide_=null,t.DropDownDiv.rendererClassName_="",t.DropDownDiv.themeClassName_="",t.DropDownDiv.createDom=function(){if(!t.DropDownDiv.DIV_){var e=document.createElement("div");e.className="blocklyDropDownDiv",(t.parentContainer||document.body).appendChild(e),t.DropDownDiv.DIV_=e;var n=document.createElement("div");n.className="blocklyDropDownContent",e.appendChild(n),t.DropDownDiv.content_=n,(n=document.createElement("div")).className="blocklyDropDownArrow",e.appendChild(n),t.DropDownDiv.arrow_=n,t.DropDownDiv.DIV_.style.opacity=0,t.DropDownDiv.DIV_.style.transition="transform "+t.DropDownDiv.ANIMATION_TIME+"s, opacity "+t.DropDownDiv.ANIMATION_TIME+"s",e.addEventListener("focusin",function(){t.utils.dom.addClass(e,"blocklyFocused")}),e.addEventListener("focusout",function(){t.utils.dom.removeClass(e,"blocklyFocused")})}},t.DropDownDiv.setBoundsElement=function(e){t.DropDownDiv.boundsElement_=e},t.DropDownDiv.getContentDiv=function(){return t.DropDownDiv.content_},t.DropDownDiv.clearContent=function(){t.DropDownDiv.content_.textContent="",t.DropDownDiv.content_.style.width=""},t.DropDownDiv.setColour=function(e,n){t.DropDownDiv.DIV_.style.backgroundColor=e,t.DropDownDiv.DIV_.style.borderColor=n},t.DropDownDiv.showPositionedByBlock=function(e,n,o,u){return t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfBlock_(n),e,o,u)},t.DropDownDiv.showPositionedByField=function(e,n,o){return t.DropDownDiv.positionToField_=!0,t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfField_(e),e,n,o)},t.DropDownDiv.getScaledBboxOfBlock_=function(e){var n=e.getSvgRoot(),o=n.getBBox(),u=e.workspace.scale;return e=o.height*u,o=o.width*u,n=t.utils.style.getPageOffset(n),new t.utils.Rect(n.y,n.y+e,n.x,n.x+o)},t.DropDownDiv.getScaledBboxOfField_=function(e){return e=e.getScaledBBox(),new t.utils.Rect(e.top,e.bottom,e.left,e.right)},t.DropDownDiv.showPositionedByRect_=function(e,n,o,u){var b=e.left+(e.right-e.left)/2,w=e.bottom;e=e.top,u&&(e+=u);for(var R=(u=n.getSourceBlock()).workspace;R.options.parentWorkspace;)R=R.options.parentWorkspace;return t.DropDownDiv.setBoundsElement(R.getParentSvg().parentNode),t.DropDownDiv.show(n,u.RTL,b,w,b,e,o)},t.DropDownDiv.show=function(e,n,o,u,b,w,R){return t.DropDownDiv.owner_=e,t.DropDownDiv.onHide_=R||null,(e=t.DropDownDiv.DIV_).style.direction=n?"rtl":"ltr",n=t.getMainWorkspace(),t.DropDownDiv.rendererClassName_=n.getRenderer().getClassName(),t.DropDownDiv.themeClassName_=n.getTheme().getClassName(),t.utils.dom.addClass(e,t.DropDownDiv.rendererClassName_),t.utils.dom.addClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.positionInternal_(o,u,b,w)},t.DropDownDiv.getBoundsInfo_=function(){var e=t.utils.style.getPageOffset(t.DropDownDiv.boundsElement_),n=t.utils.style.getSize(t.DropDownDiv.boundsElement_);return{left:e.x,right:e.x+n.width,top:e.y,bottom:e.y+n.height,width:n.width,height:n.height}},t.DropDownDiv.getPositionMetrics_=function(e,n,o,u){var b=t.DropDownDiv.getBoundsInfo_(),w=t.utils.style.getSize(t.DropDownDiv.DIV_);return n+w.height<b.bottom?t.DropDownDiv.getPositionBelowMetrics_(e,n,b,w):u-w.height>b.top?t.DropDownDiv.getPositionAboveMetrics_(o,u,b,w):n+w.height<document.documentElement.clientHeight?t.DropDownDiv.getPositionBelowMetrics_(e,n,b,w):u-w.height>document.documentElement.clientTop?t.DropDownDiv.getPositionAboveMetrics_(o,u,b,w):t.DropDownDiv.getPositionTopOfPageMetrics_(e,b,w)},t.DropDownDiv.getPositionBelowMetrics_=function(e,n,o,u){return{initialX:(e=t.DropDownDiv.getPositionX(e,o.left,o.right,u.width)).divX,initialY:n,finalX:e.divX,finalY:n+t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(t.DropDownDiv.ARROW_SIZE/2+t.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},t.DropDownDiv.getPositionAboveMetrics_=function(e,n,o,u){return{initialX:(e=t.DropDownDiv.getPositionX(e,o.left,o.right,u.width)).divX,initialY:n-u.height,finalX:e.divX,finalY:n-u.height-t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:u.height-2*t.DropDownDiv.BORDER_SIZE-t.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},t.DropDownDiv.getPositionTopOfPageMetrics_=function(e,n,o){return{initialX:(e=t.DropDownDiv.getPositionX(e,n.left,n.right,o.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},t.DropDownDiv.getPositionX=function(e,n,o,u){var b=e;return e=t.utils.math.clamp(n,e-u/2,o-u),{arrowX:u=t.utils.math.clamp(n=t.DropDownDiv.ARROW_HORIZONTAL_PADDING,(b-=t.DropDownDiv.ARROW_SIZE/2)-e,u-n-t.DropDownDiv.ARROW_SIZE),divX:e}},t.DropDownDiv.isVisible=function(){return!!t.DropDownDiv.owner_},t.DropDownDiv.hideIfOwner=function(e,n){return t.DropDownDiv.owner_===e&&(n?t.DropDownDiv.hideWithoutAnimation():t.DropDownDiv.hide(),!0)},t.DropDownDiv.hide=function(){var e=t.DropDownDiv.DIV_;e.style.transform="translate(0, 0)",e.style.opacity=0,t.DropDownDiv.animateOutTimer_=setTimeout(function(){t.DropDownDiv.hideWithoutAnimation()},1e3*t.DropDownDiv.ANIMATION_TIME),t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null)},t.DropDownDiv.hideWithoutAnimation=function(){if(t.DropDownDiv.isVisible()){t.DropDownDiv.animateOutTimer_&&clearTimeout(t.DropDownDiv.animateOutTimer_);var e=t.DropDownDiv.DIV_;e.style.transform="",e.style.left="",e.style.top="",e.style.opacity=0,e.style.display="none",e.style.backgroundColor="",e.style.borderColor="",t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null),t.DropDownDiv.clearContent(),t.DropDownDiv.owner_=null,t.DropDownDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.rendererClassName_),t.DropDownDiv.rendererClassName_=""),t.DropDownDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.DropDownDiv.positionInternal_=function(e,n,o,u){(e=t.DropDownDiv.getPositionMetrics_(e,n,o,u)).arrowVisible?(t.DropDownDiv.arrow_.style.display="",t.DropDownDiv.arrow_.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",t.DropDownDiv.arrow_.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):t.DropDownDiv.arrow_.style.display="none",n=Math.floor(e.initialX),o=Math.floor(e.initialY),u=Math.floor(e.finalX);var b=Math.floor(e.finalY),w=t.DropDownDiv.DIV_;return w.style.left=n+"px",w.style.top=o+"px",w.style.display="block",w.style.opacity=1,w.style.transform="translate("+(u-n)+"px,"+(b-o)+"px)",!!e.arrowAtTop},t.DropDownDiv.repositionForWindowResize=function(){if(t.DropDownDiv.owner_){var e=t.DropDownDiv.owner_,n=e.getSourceBlock();e=t.DropDownDiv.positionToField_?t.DropDownDiv.getScaledBboxOfField_(e):t.DropDownDiv.getScaledBboxOfBlock_(n),t.DropDownDiv.positionInternal_(n=e.left+(e.right-e.left)/2,e.bottom,n,e.top)}else t.DropDownDiv.hide()},t.registry={},t.registry.typeMap_=Object.create(null),t.registry.DEFAULT="default",t.registry.Type=function(e){this.name_=e},t.registry.Type.prototype.toString=function(){return this.name_},t.registry.Type.CONNECTION_CHECKER=new t.registry.Type("connectionChecker"),t.registry.Type.CURSOR=new t.registry.Type("cursor"),t.registry.Type.EVENT=new t.registry.Type("event"),t.registry.Type.FIELD=new t.registry.Type("field"),t.registry.Type.RENDERER=new t.registry.Type("renderer"),t.registry.Type.TOOLBOX=new t.registry.Type("toolbox"),t.registry.Type.THEME=new t.registry.Type("theme"),t.registry.Type.TOOLBOX_ITEM=new t.registry.Type("toolboxItem"),t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new t.registry.Type("flyoutsVerticalToolbox"),t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new t.registry.Type("flyoutsHorizontalToolbox"),t.registry.Type.METRICS_MANAGER=new t.registry.Type("metricsManager"),t.registry.Type.BLOCK_DRAGGER=new t.registry.Type("blockDragger"),t.registry.register=function(e,n,o,u){if(!(e instanceof t.registry.Type)&&"string"!=typeof e||""==String(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=String(e).toLowerCase(),"string"!=typeof n||""==n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');if(n=n.toLowerCase(),!o)throw Error("Can not register a null value");var b=t.registry.typeMap_[e];if(b||(b=t.registry.typeMap_[e]=Object.create(null)),t.registry.validate_(e,o),!u&&b[n])throw Error('Name "'+n+'" with type "'+e+'" already registered.');b[n]=o},t.registry.validate_=function(e,n){if(e===String(t.registry.Type.FIELD)&&"function"!=typeof n.fromJson)throw Error('Type "'+e+'" must have a fromJson function')},t.registry.unregister=function(e,n){e=String(e).toLowerCase(),n=n.toLowerCase();var o=t.registry.typeMap_[e];o&&o[n]?delete t.registry.typeMap_[e][n]:console.warn("Unable to unregister ["+n+"]["+e+"] from the registry.")},t.registry.getItem_=function(e,n,o){e=String(e).toLowerCase(),n=n.toLowerCase();var u=t.registry.typeMap_[e];if(!u||!u[n]){if(n="Unable to find ["+n+"]["+e+"] in the registry.",o)throw Error(n+" You must require or register a "+e+" plugin.");return console.warn(n),null}return u[n]},t.registry.hasItem=function(e,n){return e=String(e).toLowerCase(),n=n.toLowerCase(),!!(e=t.registry.typeMap_[e])&&!!e[n]},t.registry.getClass=function(e,n,o){return t.registry.getItem_(e,n,o)},t.registry.getObject=function(e,n,o){return t.registry.getItem_(e,n,o)},t.registry.getClassFromOptions=function(e,n,o){return"function"==typeof(n=n.plugins[e.toString()]||t.registry.DEFAULT)?n:t.registry.getClass(e,n,o)},t.Events={},t.Events.group_="",t.Events.recordUndo=!0,t.Events.disabled_=0,t.Events.CREATE="create",t.Events.BLOCK_CREATE=t.Events.CREATE,t.Events.DELETE="delete",t.Events.BLOCK_DELETE=t.Events.DELETE,t.Events.CHANGE="change",t.Events.BLOCK_CHANGE=t.Events.CHANGE,t.Events.MOVE="move",t.Events.BLOCK_MOVE=t.Events.MOVE,t.Events.VAR_CREATE="var_create",t.Events.VAR_DELETE="var_delete",t.Events.VAR_RENAME="var_rename",t.Events.UI="ui",t.Events.BLOCK_DRAG="drag",t.Events.SELECTED="selected",t.Events.CLICK="click",t.Events.MARKER_MOVE="marker_move",t.Events.BUBBLE_OPEN="bubble_open",t.Events.TRASHCAN_OPEN="trashcan_open",t.Events.TOOLBOX_ITEM_SELECT="toolbox_item_select",t.Events.THEME_CHANGE="theme_change",t.Events.VIEWPORT_CHANGE="viewport_change",t.Events.COMMENT_CREATE="comment_create",t.Events.COMMENT_DELETE="comment_delete",t.Events.COMMENT_CHANGE="comment_change",t.Events.COMMENT_MOVE="comment_move",t.Events.FINISHED_LOADING="finished_loading",t.Events.BUMP_EVENTS=[t.Events.BLOCK_CREATE,t.Events.BLOCK_MOVE,t.Events.COMMENT_CREATE,t.Events.COMMENT_MOVE],t.Events.FIRE_QUEUE_=[],t.Events.fire=function(e){t.Events.isEnabled()&&(t.Events.FIRE_QUEUE_.length||setTimeout(t.Events.fireNow_,0),t.Events.FIRE_QUEUE_.push(e))},t.Events.fireNow_=function(){for(var o,e=t.Events.filter(t.Events.FIRE_QUEUE_,!0),n=t.Events.FIRE_QUEUE_.length=0;o=e[n];n++)if(o.workspaceId){var u=t.Workspace.getById(o.workspaceId);u&&u.fireChangeListener(o)}},t.Events.filter=function(e,n){e=e.slice(),n||e.reverse();for(var w,o=[],u=Object.create(null),b=0;w=e[b];b++)if(!w.isNull()){var R=[w.isUiEvent?t.Events.UI:w.type,w.blockId,w.workspaceId].join(" "),N=u[R],W=N?N.event:null;N?w.type==t.Events.MOVE&&N.index==b-1?(W.newParentId=w.newParentId,W.newInputName=w.newInputName,W.newCoordinate=w.newCoordinate,N.index=b):w.type==t.Events.CHANGE&&w.element==W.element&&w.name==W.name?W.newValue=w.newValue:w.type==t.Events.VIEWPORT_CHANGE?(W.viewTop=w.viewTop,W.viewLeft=w.viewLeft,W.scale=w.scale,W.oldScale=w.oldScale):(w.type!=t.Events.CLICK||W.type!=t.Events.BUBBLE_OPEN)&&(u[R]={event:w,index:b},o.push(w)):(u[R]={event:w,index:b},o.push(w))}for(e=o.filter(function(Z){return!Z.isNull()}),n||e.reverse(),b=1;w=e[b];b++)w.type==t.Events.CHANGE&&"mutation"==w.element&&e.unshift(e.splice(b,1)[0]);return e},t.Events.clearPendingUndo=function(){for(var n,e=0;n=t.Events.FIRE_QUEUE_[e];e++)n.recordUndo=!1},t.Events.disable=function(){t.Events.disabled_++},t.Events.enable=function(){t.Events.disabled_--},t.Events.isEnabled=function(){return 0==t.Events.disabled_},t.Events.getGroup=function(){return t.Events.group_},t.Events.setGroup=function(e){t.Events.group_="boolean"==typeof e?e?t.utils.genUid():"":e},t.Events.getDescendantIds=function(e){var n=[];e=e.getDescendants(!1);for(var u,o=0;u=e[o];o++)n[o]=u.id;return n},t.Events.fromJson=function(e,n){var o=t.Events.get(e.type);if(!o)throw Error("Unknown event type.");return(o=new o).fromJson(e),o.workspaceId=n.id,o},t.Events.get=function(e){return t.registry.getClass(t.registry.Type.EVENT,e)},t.Events.disableOrphans=function(e){if((e.type==t.Events.MOVE||e.type==t.Events.CREATE)&&e.workspaceId){var n=t.Workspace.getById(e.workspaceId),o=n.getBlockById(e.blockId);if(o){e=t.Events.recordUndo;try{t.Events.recordUndo=!1;var u=o.getParent();if(u&&u.isEnabled()){var w,b=o.getDescendants(!1);for(n=0;w=b[n];n++)w.setEnabled(!0)}else if((o.outputConnection||o.previousConnection)&&!n.isDragging())do{o.setEnabled(!1),o=o.getNextBlock()}while(o)}finally{t.Events.recordUndo=e}}}},t.Events.Abstract=function(){this.isBlank=null,this.workspaceId=void 0,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.Events.Abstract.prototype.isUiEvent=!1,t.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},t.Events.Abstract.prototype.fromJson=function(e){this.isBlank=!1,this.group=e.group},t.Events.Abstract.prototype.isNull=function(){return!1},t.Events.Abstract.prototype.run=function(e){},t.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var e=t.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},t.utils.object={},t.utils.object.inherits=function(e,n){e.superClass_=n.prototype,e.prototype=Object.create(n.prototype),e.prototype.constructor=e},t.utils.object.mixin=function(e,n){for(var o in n)e[o]=n[o]},t.utils.object.deepMerge=function(e,n){for(var o in n)e[o]=null!=n[o]&&"object"==typeof n[o]?t.utils.object.deepMerge(e[o]||Object.create(null),n[o]):n[o];return e},t.utils.object.values=function(e){return Object.values?Object.values(e):Object.keys(e).map(function(n){return e[n]})},t.utils.xml={},t.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",t.utils.xml.document=function(){return document},t.utils.xml.createElement=function(e){return t.utils.xml.document().createElementNS(t.utils.xml.NAME_SPACE,e)},t.utils.xml.createTextNode=function(e){return t.utils.xml.document().createTextNode(e)},t.utils.xml.textToDomDocument=function(e){return(new DOMParser).parseFromString(e,"text/xml")},t.utils.xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},t.inputTypes={VALUE:t.connectionTypes.INPUT_VALUE,STATEMENT:t.connectionTypes.NEXT_STATEMENT,DUMMY:5},t.Xml={},t.Xml.workspaceToDom=function(e,n){var o=t.utils.xml.createElement("xml"),u=t.Xml.variablesToDom(t.Variables.allUsedVarModels(e));u.hasChildNodes()&&o.appendChild(u);var w,b=e.getTopComments(!0);for(u=0;w=b[u];u++)o.appendChild(w.toXmlWithXY(n));for(e=e.getTopBlocks(!0),u=0;b=e[u];u++)o.appendChild(t.Xml.blockToDomWithXY(b,n));return o},t.Xml.variablesToDom=function(e){for(var u,n=t.utils.xml.createElement("variables"),o=0;u=e[o];o++){var b=t.utils.xml.createElement("variable");b.appendChild(t.utils.xml.createTextNode(u.name)),u.type&&b.setAttribute("type",u.type),b.id=u.getId(),n.appendChild(b)}return n},t.Xml.blockToDomWithXY=function(e,n){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;var o;e.workspace.RTL&&(o=e.workspace.getWidth()),n=t.Xml.blockToDom(e,n);var u=e.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(e.workspace.RTL?o-u.x:u.x)),n.setAttribute("y",Math.round(u.y)),n},t.Xml.fieldToDom_=function(e){if(e.isSerializable()){var n=t.utils.xml.createElement("field");return n.setAttribute("name",e.name||""),e.toXml(n)}return null},t.Xml.allFieldsToDom_=function(e,n){for(var u,o=0;u=e.inputList[o];o++)for(var w,b=0;w=u.fieldRow[b];b++)(w=t.Xml.fieldToDom_(w))&&n.appendChild(w)},t.Xml.blockToDom=function(e,n){if(e.isInsertionMarker())return(e=e.getChildren(!1)[0])?t.Xml.blockToDom(e):new DocumentFragment;var o=t.utils.xml.createElement(e.isShadow()?"shadow":"block");if(o.setAttribute("type",e.type),n||o.setAttribute("id",e.id),e.mutationToDom){var u=e.mutationToDom();u&&(u.hasChildNodes()||u.hasAttributes())&&o.appendChild(u)}if(t.Xml.allFieldsToDom_(e,o),u=e.getCommentText()){var b=e.commentModel.size,w=e.commentModel.pinned,R=t.utils.xml.createElement("comment");R.appendChild(t.utils.xml.createTextNode(u)),R.setAttribute("pinned",w),R.setAttribute("h",b.height),R.setAttribute("w",b.width),o.appendChild(R)}for(e.data&&((u=t.utils.xml.createElement("data")).appendChild(t.utils.xml.createTextNode(e.data)),o.appendChild(u)),u=0;b=e.inputList[u];u++){var N;if(w=!0,b.type!=t.inputTypes.DUMMY){var W=b.connection.targetBlock();b.type==t.inputTypes.VALUE?N=t.utils.xml.createElement("value"):b.type==t.inputTypes.STATEMENT&&(N=t.utils.xml.createElement("statement")),!(R=b.connection.getShadowDom())||W&&W.isShadow()||N.appendChild(t.Xml.cloneShadow_(R,n)),W&&(R=t.Xml.blockToDom(W,n)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&(N.appendChild(R),w=!1),N.setAttribute("name",b.name),w||o.appendChild(N)}}return null!=e.inputsInline&&e.inputsInline!=e.inputsInlineDefault&&o.setAttribute("inline",e.inputsInline),e.isCollapsed()&&o.setAttribute("collapsed",!0),e.isEnabled()||o.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||o.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||o.setAttribute("movable",!1),e.isEditable()||o.setAttribute("editable",!1),(u=e.getNextBlock())&&(R=t.Xml.blockToDom(u,n)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&((N=t.utils.xml.createElement("next")).appendChild(R),o.appendChild(N)),!(R=e.nextConnection&&e.nextConnection.getShadowDom())||u&&u.isShadow()||N.appendChild(t.Xml.cloneShadow_(R,n)),o},t.Xml.cloneShadow_=function(e,n){for(var u,o=e=e.cloneNode(!0);o;)if(n&&"shadow"==o.nodeName&&o.removeAttribute("id"),o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;)u=o,o=o.parentNode,u.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==u.data.trim()&&o.firstChild!=u&&t.utils.dom.removeNode(u);o&&(u=o,o=o.nextSibling,u.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==u.data.trim()&&t.utils.dom.removeNode(u))}return e},t.Xml.domToText=function(e){return t.utils.xml.domToText(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},t.Xml.domToPrettyText=function(e){e=t.Xml.domToText(e).split("<");for(var n="",o=1;o<e.length;o++){var u=e[o];"/"==u[0]&&(n=n.substring(2)),e[o]=n+"<"+u,"/"!=u[0]&&"/>"!=u.slice(-2)&&(n+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},t.Xml.textToDom=function(e){var n=t.utils.xml.textToDomDocument(e);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return n.documentElement},t.Xml.clearWorkspaceAndLoadFromXml=function(e,n){return n.setResizesEnabled(!1),n.clear(),e=t.Xml.domToWorkspace(e,n),n.setResizesEnabled(!0),e},t.Xml.domToWorkspace=function(e,n){if(e instanceof t.Workspace){var o=e;e=n,n=o,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var u;n.RTL&&(u=n.getWidth()),o=[],t.utils.dom.startTextWidthCache();var b=t.Events.getGroup();b||t.Events.setGroup(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var w=!0;try{for(var N,R=0;N=e.childNodes[R];R++){var W=N.nodeName.toLowerCase(),Z=N;if("block"==W||"shadow"==W&&!t.Events.recordUndo){var K=t.Xml.domToBlock(Z,n);o.push(K.id);var ae=Z.hasAttribute("x")?parseInt(Z.getAttribute("x"),10):10,xe=Z.hasAttribute("y")?parseInt(Z.getAttribute("y"),10):10;isNaN(ae)||isNaN(xe)||K.moveBy(n.RTL?u-ae:ae,xe),w=!1}else{if("shadow"==W)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==W)n.rendered?t.WorkspaceCommentSvg?t.WorkspaceCommentSvg.fromXml(Z,n,u):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):t.WorkspaceComment?t.WorkspaceComment.fromXml(Z,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==W){if(!w)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");t.Xml.domToVariables(Z,n),w=!1}}}}finally{b||t.Events.setGroup(!1),t.utils.dom.stopTextWidthCache()}return n.setResizesEnabled&&n.setResizesEnabled(!0),t.Events.fire(new(t.Events.get(t.Events.FINISHED_LOADING))(n)),o},t.Xml.appendDomToWorkspace=function(e,n){var o;if(Object.prototype.hasOwnProperty.call(n,"scale")&&(o=n.getBlocksBoundingBox()),e=t.Xml.domToWorkspace(e,n),o&&o.top!=o.bottom){var u=o.bottom,b=n.RTL?o.right:o.left,w=1/0,R=-1/0,N=1/0;for(o=0;o<e.length;o++){var W=n.getBlockById(e[o]).getRelativeToSurfaceXY();W.y<N&&(N=W.y),W.x<w&&(w=W.x),W.x>R&&(R=W.x)}for(u=u-N+10,b=n.RTL?b-R:b-w,o=0;o<e.length;o++)n.getBlockById(e[o]).moveBy(b,u)}return e},t.Xml.domToBlock=function(e,n){if(e instanceof t.Workspace){var o=e;e=n,n=o,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}t.Events.disable(),o=n.getAllVariables();try{var u=t.Xml.domToBlockHeadless_(e,n),b=u.getDescendants(!1);if(n.rendered){u.setConnectionTracking(!1);for(var w=b.length-1;0<=w;w--)b[w].initSvg();for(w=b.length-1;0<=w;w--)b[w].render(!1);setTimeout(function(){u.disposed||u.setConnectionTracking(!0)},1),u.updateDisabled(),n.resizeContents()}else for(w=b.length-1;0<=w;w--)b[w].initModel()}finally{t.Events.enable()}if(t.Events.isEnabled()){for(e=t.Variables.getAddedVariables(n,o),w=0;w<e.length;w++)n=e[w],t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(n));t.Events.fire(new(t.Events.get(t.Events.CREATE))(u))}return u},t.Xml.domToVariables=function(e,n){for(var u,o=0;u=e.childNodes[o];o++)if(u.nodeType==t.utils.dom.NodeType.ELEMENT_NODE){var b=u.getAttribute("type"),w=u.getAttribute("id");n.createVariable(u.textContent,b,w)}},t.Xml.mapSupportedXmlTags_=function(e){for(var u,n={mutation:[],comment:[],data:[],field:[],input:[],next:[]},o=0;u=e.childNodes[o];o++)if(u.nodeType!=t.utils.dom.NodeType.TEXT_NODE)switch(u.nodeName.toLowerCase()){case"mutation":n.mutation.push(u);break;case"comment":if(!t.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}n.comment.push(u);break;case"data":n.data.push(u);break;case"title":case"field":n.field.push(u);break;case"value":case"statement":n.input.push(u);break;case"next":n.next.push(u);break;default:console.warn("Ignoring unknown tag: "+u.nodeName)}return n},t.Xml.applyMutationTagNodes_=function(e,n){for(var b,o=!1,u=0;b=e[u];u++)n.domToMutation&&(n.domToMutation(b),n.initSvg&&(o=!0));return o},t.Xml.applyCommentTagNodes_=function(e,n){for(var u,o=0;u=e[o];o++){var b=u.textContent,w="true"==u.getAttribute("pinned"),R=parseInt(u.getAttribute("w"),10);u=parseInt(u.getAttribute("h"),10),n.setCommentText(b),n.commentModel.pinned=w,isNaN(R)||isNaN(u)||(n.commentModel.size=new t.utils.Size(R,u)),w&&n.getCommentIcon&&!n.isInFlyout&&setTimeout(function(){n.getCommentIcon().setVisible(!0)},1)}},t.Xml.applyDataTagNodes_=function(e,n){for(var u,o=0;u=e[o];o++)n.data=u.textContent},t.Xml.applyFieldTagNodes_=function(e,n){for(var u,o=0;u=e[o];o++){var b=u.getAttribute("name");t.Xml.domToField_(n,b,u)}},t.Xml.findChildBlocks_=function(e){for(var u,n={childBlockElement:null,childShadowElement:null},o=0;u=e.childNodes[o];o++)u.nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&("block"==u.nodeName.toLowerCase()?n.childBlockElement=u:"shadow"==u.nodeName.toLowerCase()&&(n.childShadowElement=u));return n},t.Xml.applyInputTagNodes_=function(e,n,o,u){for(var w,b=0;w=e[b];b++){var R=w.getAttribute("name"),N=o.getInput(R);if(!N){console.warn("Ignoring non-existent input "+R+" in block "+u);break}if((w=t.Xml.findChildBlocks_(w)).childBlockElement){if(!N.connection)throw TypeError("Input connection does not exist.");t.Xml.domToBlockHeadless_(w.childBlockElement,n,N.connection,!1)}w.childShadowElement&&N.connection.setShadowDom(w.childShadowElement)}},t.Xml.applyNextTagNodes_=function(e,n,o){for(var b,u=0;b=e[u];u++){if((b=t.Xml.findChildBlocks_(b)).childBlockElement){if(!o.nextConnection)throw TypeError("Next statement does not exist.");if(o.nextConnection.isConnected())throw TypeError("Next statement is already connected.");t.Xml.domToBlockHeadless_(b.childBlockElement,n,o.nextConnection,!0)}b.childShadowElement&&o.nextConnection&&o.nextConnection.setShadowDom(b.childShadowElement)}},t.Xml.domToBlockHeadless_=function(e,n,o,u){var b=e.getAttribute("type");if(!b)throw TypeError("Block type unspecified: "+e.outerHTML);var w=e.getAttribute("id");w=n.newBlock(b,w);var R=t.Xml.mapSupportedXmlTags_(e),N=t.Xml.applyMutationTagNodes_(R.mutation,w);if(t.Xml.applyCommentTagNodes_(R.comment,w),t.Xml.applyDataTagNodes_(R.data,w),o)if(u){if(!w.previousConnection)throw TypeError("Next block does not have previous statement.");o.connect(w.previousConnection)}else if(w.outputConnection)o.connect(w.outputConnection);else{if(!w.previousConnection)throw TypeError("Child block does not have output or previous statement.");o.connect(w.previousConnection)}if(t.Xml.applyFieldTagNodes_(R.field,w),t.Xml.applyInputTagNodes_(R.input,n,w,b),t.Xml.applyNextTagNodes_(R.next,n,w),N&&w.initSvg(),(n=e.getAttribute("inline"))&&w.setInputsInline("true"==n),(n=e.getAttribute("disabled"))&&w.setEnabled("true"!=n&&"disabled"!=n),(n=e.getAttribute("deletable"))&&w.setDeletable("true"==n),(n=e.getAttribute("movable"))&&w.setMovable("true"==n),(n=e.getAttribute("editable"))&&w.setEditable("true"==n),(n=e.getAttribute("collapsed"))&&w.setCollapsed("true"==n),"shadow"==e.nodeName.toLowerCase()){for(e=w.getChildren(!1),n=0;o=e[n];n++)if(!o.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(w.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");w.setShadow(!0)}return w},t.Xml.domToField_=function(e,n,o){var u=e.getField(n);u?u.fromXml(o):console.warn("Ignoring non-existent field "+n+" in block "+e.type)},t.Xml.deleteNext=function(e){for(var o,n=0;o=e.childNodes[n];n++)if("next"==o.nodeName.toLowerCase()){e.removeChild(o);break}},t.Events.BlockBase=function(e){t.Events.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.BlockBase,t.Events.Abstract),t.Events.BlockBase.prototype.toJson=function(){var e=t.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},t.Events.BlockBase.prototype.fromJson=function(e){t.Events.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId},t.Events.BlockChange=function(e,n,o,u,b){t.Events.Change.superClass_.constructor.call(this,e),e&&(this.element=void 0===n?"":n,this.name=void 0===o?"":o,this.oldValue=void 0===u?"":u,this.newValue=void 0===b?"":b)},t.utils.object.inherits(t.Events.BlockChange,t.Events.BlockBase),t.Events.Change=t.Events.BlockChange,t.Events.BlockChange.prototype.type=t.Events.CHANGE,t.Events.BlockChange.prototype.toJson=function(){var e=t.Events.BlockChange.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.oldValue=this.oldValue,e.newValue=this.newValue,e},t.Events.BlockChange.prototype.fromJson=function(e){t.Events.BlockChange.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue},t.Events.BlockChange.prototype.isNull=function(){return this.oldValue==this.newValue},t.Events.BlockChange.prototype.run=function(e){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(e||null);break;case"collapsed":n.setCollapsed(!!e);break;case"disabled":n.setEnabled(!e);break;case"inline":n.setInputsInline(!!e);break;case"mutation":var o="";if(n.mutationToDom&&(o=(o=n.mutationToDom())&&t.Xml.domToText(o)),n.domToMutation){var u=t.Xml.textToDom(e||"<mutation/>");n.domToMutation(u)}t.Events.fire(new t.Events.BlockChange(n,"mutation",null,o,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},t.Events.Create=function(e){t.Events.Create.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e))},t.utils.object.inherits(t.Events.Create,t.Events.BlockBase),t.Events.BlockCreate=t.Events.Create,t.Events.Create.prototype.type=t.Events.CREATE,t.Events.Create.prototype.toJson=function(){var e=t.Events.Create.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Create.prototype.fromJson=function(e){t.Events.Create.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Create.prototype.run=function(e){var n=this.getEventWorkspace_();if(e)(e=t.utils.xml.createElement("xml")).appendChild(this.xml),t.Xml.domToWorkspace(e,n);else{e=0;for(var o;o=this.ids[e];e++){var u=n.getBlockById(o);u?u.dispose(!1):o==this.blockId&&console.warn("Can't uncreate non-existent block: "+o)}}},t.Events.Delete=function(e){if(t.Events.Delete.superClass_.constructor.call(this,e),e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e)}},t.utils.object.inherits(t.Events.Delete,t.Events.BlockBase),t.Events.BlockDelete=t.Events.Delete,t.Events.Delete.prototype.type=t.Events.DELETE,t.Events.Delete.prototype.toJson=function(){var e=t.Events.Delete.superClass_.toJson.call(this);return e.oldXml=t.Xml.domToText(this.oldXml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Delete.prototype.fromJson=function(e){t.Events.Delete.superClass_.fromJson.call(this,e),this.oldXml=t.Xml.textToDom(e.oldXml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Delete.prototype.run=function(e){var n=this.getEventWorkspace_();if(e){e=0;for(var o;o=this.ids[e];e++){var u=n.getBlockById(o);u?u.dispose(!1):o==this.blockId&&console.warn("Can't delete non-existent block: "+o)}}else(e=t.utils.xml.createElement("xml")).appendChild(this.oldXml),t.Xml.domToWorkspace(e,n)},t.Events.Move=function(e){t.Events.Move.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},t.utils.object.inherits(t.Events.Move,t.Events.BlockBase),t.Events.BlockMove=t.Events.Move,t.Events.Move.prototype.type=t.Events.MOVE,t.Events.Move.prototype.toJson=function(){var e=t.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Move.prototype.fromJson=function(e){if(t.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate){var n=e.newCoordinate.split(",");this.newCoordinate=new t.utils.Coordinate(Number(n[0]),Number(n[1]))}void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},t.Events.Move.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),n={},o=e.getParent();return o?(n.parentId=o.id,(e=o.getInputWithBlock(e))&&(n.inputName=e.name)):n.coordinate=e.getRelativeToSurfaceXY(),n},t.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&t.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},t.Events.Move.prototype.run=function(e){var n=this.getEventWorkspace_(),o=n.getBlockById(this.blockId);if(o){var u=e?this.newParentId:this.oldParentId,b=e?this.newInputName:this.oldInputName,w=e?this.newCoordinate:this.oldCoordinate;if(e=null,u&&!(e=n.getBlockById(u)))return void console.warn("Can't connect to non-existent block: "+u);if(o.getParent()&&o.unplug(),w)b=o.getRelativeToSurfaceXY(),o.moveBy(w.x-b.x,w.y-b.y);else{if(n=(o=o.outputConnection||o.previousConnection).type,b){if(e=e.getInput(b))var R=e.connection}else n==t.connectionTypes.PREVIOUS_STATEMENT&&(R=e.nextConnection);R?o.connect(R):console.warn("Can't connect to non-existent input: "+b)}}else console.warn("Can't move non-existent block: "+this.blockId)},t.registry.register(t.registry.Type.EVENT,t.Events.CREATE,t.Events.Create),t.registry.register(t.registry.Type.EVENT,t.Events.DELETE,t.Events.Delete),t.registry.register(t.registry.Type.EVENT,t.Events.CHANGE,t.Events.BlockChange),t.registry.register(t.registry.Type.EVENT,t.Events.MOVE,t.Events.Move),t.Events.FinishedLoading=function(e){this.isBlank=void 0===e,this.workspaceId=e?e.id:"",this.group=t.Events.getGroup(),this.recordUndo=!1},t.utils.object.inherits(t.Events.FinishedLoading,t.Events.Abstract),t.Events.FinishedLoading.prototype.type=t.Events.FINISHED_LOADING,t.Events.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},t.Events.FinishedLoading.prototype.fromJson=function(e){this.isBlank=!1,this.workspaceId=e.workspaceId,this.group=e.group},t.registry.register(t.registry.Type.EVENT,t.Events.FINISHED_LOADING,t.Events.FinishedLoading),t.Events.UiBase=function(e){t.Events.UiBase.superClass_.constructor.call(this),this.isBlank=void 0===e,this.workspaceId=e||"",this.recordUndo=!1},t.utils.object.inherits(t.Events.UiBase,t.Events.Abstract),t.Events.UiBase.prototype.isUiEvent=!0,t.Events.Ui=function(e,n,o,u){t.Events.Ui.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.element=void 0===n?"":n,this.oldValue=void 0===o?"":o,this.newValue=void 0===u?"":u},t.utils.object.inherits(t.Events.Ui,t.Events.UiBase),t.Events.Ui.prototype.type=t.Events.UI,t.Events.Ui.prototype.toJson=function(){var e=t.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},t.Events.Ui.prototype.fromJson=function(e){t.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.UI,t.Events.Ui),t.Events.VarBase=function(e){t.Events.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank=void 0===e)?"":e.getId(),this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.VarBase,t.Events.Abstract),t.Events.VarBase.prototype.toJson=function(){var e=t.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},t.Events.VarBase.prototype.fromJson=function(e){t.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},t.Events.VarCreate=function(e){t.Events.VarCreate.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarCreate,t.Events.VarBase),t.Events.VarCreate.prototype.type=t.Events.VAR_CREATE,t.Events.VarCreate.prototype.toJson=function(){var e=t.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarCreate.prototype.fromJson=function(e){t.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarCreate.prototype.run=function(e){var n=this.getEventWorkspace_();e?n.createVariable(this.varName,this.varType,this.varId):n.deleteVariableById(this.varId)},t.Events.VarDelete=function(e){t.Events.VarDelete.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarDelete,t.Events.VarBase),t.Events.VarDelete.prototype.type=t.Events.VAR_DELETE,t.Events.VarDelete.prototype.toJson=function(){var e=t.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarDelete.prototype.fromJson=function(e){t.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarDelete.prototype.run=function(e){var n=this.getEventWorkspace_();e?n.deleteVariableById(this.varId):n.createVariable(this.varName,this.varType,this.varId)},t.Events.VarRename=function(e,n){t.Events.VarRename.superClass_.constructor.call(this,e),e&&(this.oldName=e.name,this.newName=void 0===n?"":n)},t.utils.object.inherits(t.Events.VarRename,t.Events.VarBase),t.Events.VarRename.prototype.type=t.Events.VAR_RENAME,t.Events.VarRename.prototype.toJson=function(){var e=t.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},t.Events.VarRename.prototype.fromJson=function(e){t.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},t.Events.VarRename.prototype.run=function(e){this.getEventWorkspace_().renameVariableById(this.varId,e?this.newName:this.oldName)},t.registry.register(t.registry.Type.EVENT,t.Events.VAR_CREATE,t.Events.VarCreate),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_DELETE,t.Events.VarDelete),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_RENAME,t.Events.VarRename),t.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},t.BlockDragSurfaceSvg.prototype.SVG_=null,t.BlockDragSurfaceSvg.prototype.dragGroup_=null,t.BlockDragSurfaceSvg.prototype.container_=null,t.BlockDragSurfaceSvg.prototype.scale_=1,t.BlockDragSurfaceSvg.prototype.surfaceXY_=null,t.BlockDragSurfaceSvg.prototype.childSurfaceXY_=new t.utils.Coordinate(0,0),t.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.SVG_))},t.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new t.utils.Coordinate(0,0)},t.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,n,o){this.scale_=o,e=e.toFixed(0),n=n.toFixed(0),this.childSurfaceXY_.x=parseInt(e,10),this.childSurfaceXY_.y=parseInt(n,10),this.dragGroup_.setAttribute("transform","translate("+e+","+n+") scale("+o+")")},t.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,n=this.surfaceXY_.y;e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.BlockDragSurfaceSvg.prototype.translateBy=function(e,n){this.surfaceXY_=new t.utils.Coordinate(this.surfaceXY_.x+e,this.surfaceXY_.y+n),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.translateSurface=function(e,n){this.surfaceXY_=new t.utils.Coordinate(e*this.scale_,n*this.scale_),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=t.utils.getRelativeXY(this.SVG_);return new t.utils.Coordinate(e.x/this.scale_,e.y/this.scale_)},t.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},t.BlockDragSurfaceSvg.prototype.getSvgRoot=function(){return this.SVG_},t.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},t.BlockDragSurfaceSvg.prototype.getWsTranslation=function(){return this.childSurfaceXY_.clone()},t.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},t.Css={},t.Css.injected_=!1,t.Css.register=function(e){if(t.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(t.Css.CONTENT,e),e.length=0},t.Css.inject=function(e,n){if(!t.Css.injected_){t.Css.injected_=!0;var o=t.Css.CONTENT.join("\n");t.Css.CONTENT.length=0,e&&(e=n.replace(/[\\/]$/,""),o=o.replace(/<<<PATH>>>/g,e),(e=document.createElement("style")).id="blockly-common-style",o=document.createTextNode(o),e.appendChild(o),document.head.insertBefore(e,document.head.firstChild))}},t.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],t.Grid=function(e,n){this.gridPattern_=e,this.spacing_=n.spacing,this.length_=n.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=n.snap},t.Grid.prototype.scale_=1,t.Grid.prototype.dispose=function(){this.gridPattern_=null},t.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},t.Grid.prototype.getSpacing=function(){return this.spacing_},t.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},t.Grid.prototype.update=function(e){this.scale_=e;var n=this.spacing_*e||100;this.gridPattern_.setAttribute("width",n),this.gridPattern_.setAttribute("height",n);var o=(n=Math.floor(this.spacing_/2)+.5)-this.length_/2,u=n+this.length_/2;this.setLineAttributes_(this.line1_,e,o*=e,u*=e,n*=e,n),this.setLineAttributes_(this.line2_,e,n,n,o,u)},t.Grid.prototype.setLineAttributes_=function(e,n,o,u,b,w){e&&(e.setAttribute("stroke-width",n),e.setAttribute("x1",o),e.setAttribute("y1",b),e.setAttribute("x2",u),e.setAttribute("y2",w))},t.Grid.prototype.moveTo=function(e,n){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",n),(t.utils.userAgent.IE||t.utils.userAgent.EDGE)&&this.update(this.scale_)},t.Grid.createDom=function(e,n,o){return e=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},o),0<n.length&&0<n.spacing?(t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:n.colour},e),1<n.length&&t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:n.colour},e)):t.utils.dom.createSvgElement(t.utils.Svg.LINE,{},e),e},t.Theme=function(e,n,o,u){this.name=e,this.blockStyles=n||Object.create(null),this.categoryStyles=o||Object.create(null),this.componentStyles=u||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,t.registry.register(t.registry.Type.THEME,e,this)},t.Theme.prototype.getClassName=function(){return this.name+"-theme"},t.Theme.prototype.setBlockStyle=function(e,n){this.blockStyles[e]=n},t.Theme.prototype.setCategoryStyle=function(e,n){this.categoryStyles[e]=n},t.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles[e])&&"string"==typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null},t.Theme.prototype.setComponentStyle=function(e,n){this.componentStyles[e]=n},t.Theme.prototype.setFontStyle=function(e){this.fontStyle=e},t.Theme.prototype.setStartHats=function(e){this.startHats=e},t.Theme.defineTheme=function(e,n){var o=new t.Theme(e),u=n.base;return u&&("string"==typeof u&&(u=t.registry.getObject(t.registry.Type.THEME,u)),u instanceof t.Theme&&(t.utils.object.deepMerge(o,u),o.name=e)),t.utils.object.deepMerge(o.blockStyles,n.blockStyles),t.utils.object.deepMerge(o.categoryStyles,n.categoryStyles),t.utils.object.deepMerge(o.componentStyles,n.componentStyles),t.utils.object.deepMerge(o.fontStyle,n.fontStyle),null!=n.startHats&&(o.startHats=n.startHats),o},t.Themes={},t.Themes.Classic={},t.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},t.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},t.Themes.Classic=new t.Theme("classic",t.Themes.Classic.defaultBlockStyles,t.Themes.Classic.categoryStyles),t.utils.IdGenerator={},t.utils.IdGenerator.nextId_=0,t.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(t.utils.IdGenerator.nextId_++).toString(36)},t.utils.Metrics=function(){},t.utils.toolbox={},t.utils.toolbox.CATEGORY_TOOLBOX_KIND="categoryToolbox",t.utils.toolbox.FLYOUT_TOOLBOX_KIND="flyoutToolbox",t.utils.toolbox.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},t.utils.toolbox.convertToolboxDefToJson=function(e){return e?((e instanceof Element||"string"==typeof e)&&(e=t.utils.toolbox.parseToolboxTree(e),e=t.utils.toolbox.convertToToolboxJson_(e)),t.utils.toolbox.validateToolbox_(e),e):null},t.utils.toolbox.validateToolbox_=function(e){var n=e.kind;if(e=e.contents,n&&n!=t.utils.toolbox.FLYOUT_TOOLBOX_KIND&&n!=t.utils.toolbox.CATEGORY_TOOLBOX_KIND)throw Error("Invalid toolbox kind "+n+". Please supply either "+t.utils.toolbox.FLYOUT_TOOLBOX_KIND+" or "+t.utils.toolbox.CATEGORY_TOOLBOX_KIND);if(!e)throw Error("Toolbox must have a contents attribute.")},t.utils.toolbox.convertFlyoutDefToJsonArray=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:t.utils.toolbox.xmlToJsonArray_(e):[]},t.utils.toolbox.hasCategories=function(e){if(!e)return!1;var n=e.kind;return n?n==t.utils.toolbox.CATEGORY_TOOLBOX_KIND:!!e.contents.filter(function(o){return"CATEGORY"==o.kind.toUpperCase()}).length},t.utils.toolbox.isCategoryCollapsible=function(e){return!(!e||!e.contents||!e.contents.filter(function(n){return"CATEGORY"==n.kind.toUpperCase()}).length)},t.utils.toolbox.convertToToolboxJson_=function(e){var n={contents:t.utils.toolbox.xmlToJsonArray_(e)};return e instanceof Node&&t.utils.toolbox.addAttributes_(e,n),n},t.utils.toolbox.xmlToJsonArray_=function(e){var u,n=[],o=e.childNodes;for(o||(o=e),e=0;u=o[e];e++)if(u.tagName){var b={},w=u.tagName.toUpperCase();b.kind=w,"BLOCK"==w?b.blockxml=u:u.childNodes&&0<u.childNodes.length&&(b.contents=t.utils.toolbox.xmlToJsonArray_(u)),t.utils.toolbox.addAttributes_(u,b),n.push(b)}return n},t.utils.toolbox.addAttributes_=function(e,n){for(var o=0;o<e.attributes.length;o++){var u=e.attributes[o];-1<u.nodeName.indexOf("css-")?(n.cssconfig=n.cssconfig||{},n.cssconfig[u.nodeName.replace("css-","")]=u.value):n[u.nodeName]=u.value}},t.utils.toolbox.parseToolboxTree=function(e){if(e){if("string"!=typeof e&&(t.utils.userAgent.IE&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&"xml"!=(e=t.Xml.textToDom(e)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e=null;return e},t.Options=function(e){var n=!!e.readOnly;if(n)var o=null,u=!1,b=!1,w=!1,R=!1,N=!1,W=!1;else{o=t.utils.toolbox.convertToolboxDefToJson(e.toolbox),u=t.utils.toolbox.hasCategories(o),void 0===(b=e.trashcan)&&(b=u);var Z=e.maxTrashcanContents;b?void 0===Z&&(Z=32):Z=0,void 0===(w=e.collapse)&&(w=u),void 0===(R=e.comments)&&(R=u),void 0===(N=e.disable)&&(N=u),void 0===(W=e.sounds)&&(W=!0)}var K=!!e.rtl,ae=e.horizontalLayout;void 0===ae&&(ae=!1);var xe=e.toolboxPosition;xe="end"!==xe,xe=ae?xe?t.utils.toolbox.Position.TOP:t.utils.toolbox.Position.BOTTOM:xe==K?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT;var fe=e.css;void 0===fe&&(fe=!0);var _e="https://blockly-demo.appspot.com/static/media/";e.media?_e=e.media:e.path&&(_e=e.path+"media/");var Oe=void 0===e.oneBasedIndex||!!e.oneBasedIndex,Be=e.renderer||"geras",Ee=e.plugins||{};this.RTL=K,this.oneBasedIndex=Oe,this.collapse=w,this.comments=R,this.disable=N,this.readOnly=n,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=e.maxInstances,this.pathToMedia=_e,this.hasCategories=u,this.moveOptions=t.Options.parseMoveOptions_(e,u),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=b,this.maxTrashcanContents=Z,this.hasSounds=W,this.hasCss=fe,this.horizontalLayout=ae,this.languageTree=o,this.gridOptions=t.Options.parseGridOptions_(e),this.zoomOptions=t.Options.parseZoomOptions_(e),this.toolboxPosition=xe,this.theme=t.Options.parseThemeOptions_(e),this.renderer=Be,this.rendererOverrides=e.rendererOverrides,this.gridPattern=null,this.parentWorkspace=e.parentWorkspace,this.plugins=Ee},t.BlocklyOptions=function(){},t.Options.parseMoveOptions_=function(e,n){var o=e.move||{},u={};return void 0===o.scrollbars&&void 0===e.scrollbars?u.scrollbars=n:"object"==typeof o.scrollbars?(u.scrollbars={},u.scrollbars.horizontal=!!o.scrollbars.horizontal,u.scrollbars.vertical=!!o.scrollbars.vertical,u.scrollbars.horizontal&&u.scrollbars.vertical?u.scrollbars=!0:u.scrollbars.horizontal||u.scrollbars.vertical||(u.scrollbars=!1)):u.scrollbars=!!o.scrollbars||!!e.scrollbars,u.wheel=u.scrollbars&&void 0!==o.wheel?!!o.wheel:"object"==typeof u.scrollbars,u.drag=!(!u.scrollbars||void 0!==o.drag&&!o.drag),u},t.Options.parseZoomOptions_=function(e){var n={};return n.controls=void 0!==(e=e.zoom||{}).controls&&!!e.controls,n.wheel=void 0!==e.wheel&&!!e.wheel,n.startScale=void 0===e.startScale?1:Number(e.startScale),n.maxScale=void 0===e.maxScale?3:Number(e.maxScale),n.minScale=void 0===e.minScale?.3:Number(e.minScale),n.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),n.pinch=void 0===e.pinch?n.wheel||n.controls:!!e.pinch,n},t.Options.parseGridOptions_=function(e){e=e.grid||{};var n={};return n.spacing=Number(e.spacing)||0,n.colour=e.colour||"#888",n.length=void 0===e.length?1:Number(e.length),n.snap=0<n.spacing&&!!e.snap,n},t.Options.parseThemeOptions_=function(e){return"string"==typeof(e=e.theme||t.Themes.Classic)?t.registry.getObject(t.registry.Type.THEME,e):e instanceof t.Theme?e:t.Theme.defineTheme(e.name||"builtin"+t.utils.IdGenerator.getNextUniqueId(),e)},t.Options.parseToolboxTree=function(e){return t.utils.deprecation.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree"),t.utils.toolbox.parseToolboxTree(e)},t.ScrollbarPair=function(e,n,o,u,b){this.workspace_=e,o=void 0===o||o;var w=(n=void 0===n||n)&&o;n&&(this.hScroll=new t.Scrollbar(e,!0,w,u,b)),o&&(this.vScroll=new t.Scrollbar(e,!1,w,u,b)),w&&(this.corner_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:t.Scrollbar.scrollbarThickness,width:t.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),t.utils.dom.insertAfter(this.corner_,e.getBubbleCanvas())),this.oldHostMetrics_=null},t.ScrollbarPair.prototype.dispose=function(){t.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},t.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var n=!1,o=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth==e.scrollWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.scrollLeft==e.scrollLeft||(n=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight==e.scrollHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.scrollTop==e.scrollTop||(o=!0)):o=n=!0,n||o){try{t.Events.disable(),this.hScroll&&n&&this.hScroll.resize(e),this.vScroll&&o&&this.vScroll.resize(e)}finally{t.Events.enable()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=e}},t.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},t.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},t.ScrollbarPair.prototype.setOrigin=function(e,n){this.hScroll&&this.hScroll.setOrigin(e,n),this.vScroll&&this.vScroll.setOrigin(e,n)},t.ScrollbarPair.prototype.set=function(e,n,o){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(n,!1),(o||void 0===o)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(e))},t.ScrollbarPair.prototype.setX=function(e){this.hScroll&&this.hScroll.set(e,!0)},t.ScrollbarPair.prototype.setY=function(e){this.vScroll&&this.vScroll.set(e,!0)},t.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)},t.ScrollbarPair.prototype.isVisible=function(){var e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e},t.ScrollbarPair.prototype.resizeContent=function(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)},t.ScrollbarPair.prototype.resizeView=function(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)},t.Scrollbar=function(e,n,o,u,b){this.workspace_=e,this.pair_=o||!1,this.horizontal_=n,this.margin_=void 0!==b?b:t.Scrollbar.DEFAULT_SCROLLBAR_MARGIN,this.ratio=this.oldHostMetrics_=null,this.createDom_(u),this.position=new t.utils.Coordinate(0,0),e=t.Scrollbar.scrollbarThickness,n?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=t.browserEvents.conditionalBind(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},t.Scrollbar.prototype.origin_=new t.utils.Coordinate(0,0),t.Scrollbar.prototype.startDragMouse_=0,t.Scrollbar.prototype.scrollbarLength_=0,t.Scrollbar.prototype.handleLength_=0,t.Scrollbar.prototype.handlePosition_=0,t.Scrollbar.prototype.isVisible_=!0,t.Scrollbar.prototype.containerVisible_=!0,t.Scrollbar.scrollbarThickness=15,t.Touch.TOUCH_ENABLED&&(t.Scrollbar.scrollbarThickness=25),t.Scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5,t.Scrollbar.metricsAreEquivalent_=function(e,n){return e.viewWidth==n.viewWidth&&e.viewHeight==n.viewHeight&&e.viewLeft==n.viewLeft&&e.viewTop==n.viewTop&&e.absoluteTop==n.absoluteTop&&e.absoluteLeft==n.absoluteLeft&&e.scrollWidth==n.scrollWidth&&e.scrollHeight==n.scrollHeight&&e.scrollLeft==n.scrollLeft&&e.scrollTop==n.scrollTop},t.Scrollbar.prototype.dispose=function(){this.cleanUp_(),t.browserEvents.unbind(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,t.browserEvents.unbind(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,t.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},t.Scrollbar.prototype.constrainHandleLength_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_)},t.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},t.Scrollbar.prototype.constrainHandlePosition_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_-this.handleLength_)},t.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},t.Scrollbar.prototype.setScrollbarLength_=function(e){this.scrollbarLength_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},t.Scrollbar.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n,t.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},t.Scrollbar.prototype.resize=function(e){!e&&!(e=this.workspace_.getMetrics())||this.oldHostMetrics_&&t.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.oldHostMetrics_=e,this.updateMetrics_())},t.Scrollbar.prototype.requiresViewResize_=function(e){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics_.absoluteTop!==e.absoluteTop},t.Scrollbar.prototype.resizeHorizontal_=function(e){this.requiresViewResize_(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeViewHorizontal=function(e){var n=e.viewWidth-2*this.margin_;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),n=e.absoluteLeft+this.margin_,this.pair_&&this.workspace_.RTL&&(n+=t.Scrollbar.scrollbarThickness),this.setPosition(n,e.absoluteTop+e.viewHeight-t.Scrollbar.scrollbarThickness-this.margin_),this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeContentHorizontal=function(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var n=this.scrollbarLength_*e.viewWidth/e.scrollWidth;n=this.constrainHandleLength_(n),this.setHandleLength_(n);var o=this.scrollbarLength_-this.handleLength_;e=this.constrainHandlePosition_(e=(e.viewLeft-e.scrollLeft)/(n=e.scrollWidth-e.viewWidth)*o),this.setHandlePosition(e),this.ratio=o/n}},t.Scrollbar.prototype.resizeVertical_=function(e){this.requiresViewResize_(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeViewVertical=function(e){var n=e.viewHeight-2*this.margin_;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),this.setPosition(this.workspace_.RTL?e.absoluteLeft+this.margin_:e.absoluteLeft+e.viewWidth-t.Scrollbar.scrollbarThickness-this.margin_,e.absoluteTop+this.margin_),this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeContentVertical=function(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var n=this.scrollbarLength_*e.viewHeight/e.scrollHeight;n=this.constrainHandleLength_(n),this.setHandleLength_(n);var o=this.scrollbarLength_-this.handleLength_;e=this.constrainHandlePosition_(e=(e.viewTop-e.scrollTop)/(n=e.scrollHeight-e.viewHeight)*o),this.setHandlePosition(e),this.ratio=o/n}},t.Scrollbar.prototype.createDom_=function(e){var n="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(n+=" "+e),this.outerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{class:n},null),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.outerSvg_),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((t.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),t.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},t.Scrollbar.prototype.isVisible=function(){return this.isVisible_},t.Scrollbar.prototype.setContainerVisible=function(e){var n=e!=this.containerVisible_;this.containerVisible_=e,n&&this.updateDisplay_()},t.Scrollbar.prototype.setVisible=function(e){var n=e!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,n&&this.updateDisplay_()},t.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},t.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),t.Touch.clearTouchIdentifier(),this.cleanUp_(),t.utils.isRightButton(e))e.stopPropagation();else{var n=t.utils.mouseToSvg(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());n=this.horizontal_?n.x:n.y;var o=t.utils.getInjectionDivXY_(this.svgHandle_),u=this.handlePosition_,b=.95*this.handleLength_;n<=(o=this.horizontal_?o.x:o.y)?u-=b:n>=o+this.handleLength_&&(u+=b),this.setHandlePosition(this.constrainHandlePosition_(u)),this.updateMetrics_(),e.stopPropagation(),e.preventDefault()}},t.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),t.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,t.Scrollbar.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,this.onMouseUpHandle_),t.Scrollbar.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},t.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.updateMetrics_()},t.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),t.Touch.clearTouchIdentifier(),this.cleanUp_()},t.Scrollbar.prototype.cleanUp_=function(){t.hideChaff(!0),t.Scrollbar.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseUpWrapper_),t.Scrollbar.onMouseUpWrapper_=null),t.Scrollbar.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseMoveWrapper_),t.Scrollbar.onMouseMoveWrapper_=null)},t.Scrollbar.prototype.getRatio_=function(){var e=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(e)&&(e=0),e},t.Scrollbar.prototype.updateMetrics_=function(){var e=this.getRatio_(),n={};this.horizontal_?n.x=e:n.y=e,this.workspace_.setMetrics(n)},t.Scrollbar.prototype.set=function(e,n){this.setHandlePosition(this.constrainHandlePosition_(e*this.ratio)),(n||void 0===n)&&this.updateMetrics_()},t.Scrollbar.prototype.setOrigin=function(e,n){this.origin_=new t.utils.Coordinate(e,n)},t.Tooltip={},t.Tooltip.visible=!1,t.Tooltip.blocked_=!1,t.Tooltip.LIMIT=50,t.Tooltip.mouseOutPid_=0,t.Tooltip.showPid_=0,t.Tooltip.lastX_=0,t.Tooltip.lastY_=0,t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.OFFSET_X=0,t.Tooltip.OFFSET_Y=10,t.Tooltip.RADIUS_OK=10,t.Tooltip.HOVER_MS=750,t.Tooltip.MARGINS=5,t.Tooltip.DIV=null,t.Tooltip.getTooltipOfObject=function(e){if(e=t.Tooltip.getTargetObject_(e)){for(e=e.tooltip;"function"==typeof e;)e=e();if("string"!=typeof e)throw Error("Tooltip function must return a string.");return e}return""},t.Tooltip.getTargetObject_=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},t.Tooltip.createDom=function(){t.Tooltip.DIV||(t.Tooltip.DIV=document.createElement("div"),t.Tooltip.DIV.className="blocklyTooltipDiv",(t.parentContainer||document.body).appendChild(t.Tooltip.DIV))},t.Tooltip.bindMouseEvents=function(e){e.mouseOverWrapper_=t.browserEvents.bind(e,"mouseover",null,t.Tooltip.onMouseOver_),e.mouseOutWrapper_=t.browserEvents.bind(e,"mouseout",null,t.Tooltip.onMouseOut_),e.addEventListener("mousemove",t.Tooltip.onMouseMove_,!1)},t.Tooltip.unbindMouseEvents=function(e){e&&(t.browserEvents.unbind(e.mouseOverWrapper_),t.browserEvents.unbind(e.mouseOutWrapper_),e.removeEventListener("mousemove",t.Tooltip.onMouseMove_))},t.Tooltip.onMouseOver_=function(e){t.Tooltip.blocked_||(e=t.Tooltip.getTargetObject_(e.currentTarget),t.Tooltip.element_!=e&&(t.Tooltip.hide(),t.Tooltip.poisonedElement_=null,t.Tooltip.element_=e),clearTimeout(t.Tooltip.mouseOutPid_))},t.Tooltip.onMouseOut_=function(e){t.Tooltip.blocked_||(t.Tooltip.mouseOutPid_=setTimeout(function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},1),clearTimeout(t.Tooltip.showPid_))},t.Tooltip.onMouseMove_=function(e){if(t.Tooltip.element_&&t.Tooltip.element_.tooltip&&!t.Tooltip.blocked_)if(t.Tooltip.visible){var n=t.Tooltip.lastX_-e.pageX;e=t.Tooltip.lastY_-e.pageY,Math.sqrt(n*n+e*e)>t.Tooltip.RADIUS_OK&&t.Tooltip.hide()}else t.Tooltip.poisonedElement_!=t.Tooltip.element_&&(clearTimeout(t.Tooltip.showPid_),t.Tooltip.lastX_=e.pageX,t.Tooltip.lastY_=e.pageY,t.Tooltip.showPid_=setTimeout(t.Tooltip.show_,t.Tooltip.HOVER_MS))},t.Tooltip.dispose=function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},t.Tooltip.hide=function(){t.Tooltip.visible&&(t.Tooltip.visible=!1,t.Tooltip.DIV&&(t.Tooltip.DIV.style.display="none")),t.Tooltip.showPid_&&clearTimeout(t.Tooltip.showPid_)},t.Tooltip.block=function(){t.Tooltip.hide(),t.Tooltip.blocked_=!0},t.Tooltip.unblock=function(){t.Tooltip.blocked_=!1},t.Tooltip.show_=function(){if(!t.Tooltip.blocked_&&(t.Tooltip.poisonedElement_=t.Tooltip.element_,t.Tooltip.DIV)){t.Tooltip.DIV.textContent="";var e=t.Tooltip.getTooltipOfObject(t.Tooltip.element_);e=(e=t.utils.string.wrap(e,t.Tooltip.LIMIT)).split("\n");for(var n=0;n<e.length;n++){var o=document.createElement("div");o.appendChild(document.createTextNode(e[n])),t.Tooltip.DIV.appendChild(o)}e=t.Tooltip.element_.RTL,n=document.documentElement.clientWidth,o=document.documentElement.clientHeight,t.Tooltip.DIV.style.direction=e?"rtl":"ltr",t.Tooltip.DIV.style.display="block",t.Tooltip.visible=!0;var u=t.Tooltip.lastX_;u=e?u-(t.Tooltip.OFFSET_X+t.Tooltip.DIV.offsetWidth):u+t.Tooltip.OFFSET_X;var b=t.Tooltip.lastY_+t.Tooltip.OFFSET_Y;b+t.Tooltip.DIV.offsetHeight>o+window.scrollY&&(b-=t.Tooltip.DIV.offsetHeight+2*t.Tooltip.OFFSET_Y),e?u=Math.max(t.Tooltip.MARGINS-window.scrollX,u):u+t.Tooltip.DIV.offsetWidth>n+window.scrollX-2*t.Tooltip.MARGINS&&(u=n-t.Tooltip.DIV.offsetWidth-2*t.Tooltip.MARGINS),t.Tooltip.DIV.style.top=b+"px",t.Tooltip.DIV.style.left=u+"px"}},t.utils.aria={},t.utils.aria.ARIA_PREFIX_="aria-",t.utils.aria.ROLE_ATTRIBUTE_="role",t.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},t.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},t.utils.aria.setRole=function(e,n){e.setAttribute(t.utils.aria.ROLE_ATTRIBUTE_,n)},t.utils.aria.setState=function(e,n,o){Array.isArray(o)&&(o=o.join(" ")),e.setAttribute(t.utils.aria.ARIA_PREFIX_+n,o)},t.IASTNodeLocation=function(){},t.IASTNodeLocationSvg=function(){},t.IASTNodeLocationWithBlock=function(){},t.IKeyboardAccessible=function(){},t.utils.deprecation={},t.utils.deprecation.warn=function(e,n,o,u){e=e+" was deprecated on "+n+" and will be deleted on "+o+".",u&&(e+="\nUse "+u+" instead."),console.warn(e)},t.Connection=function(e,n){this.sourceBlock_=e,this.type=n},t.Connection.CAN_CONNECT=0,t.Connection.REASON_SELF_CONNECTION=1,t.Connection.REASON_WRONG_TYPE=2,t.Connection.REASON_TARGET_NULL=3,t.Connection.REASON_CHECKS_FAILED=4,t.Connection.REASON_DIFFERENT_WORKSPACES=5,t.Connection.REASON_SHADOW_PARENT=6,t.Connection.REASON_DRAG_CHECKS_FAILED=7,t.Connection.prototype.targetConnection=null,t.Connection.prototype.disposed=!1,t.Connection.prototype.check_=null,t.Connection.prototype.shadowDom_=null,t.Connection.prototype.x=0,t.Connection.prototype.y=0,t.Connection.prototype.connect_=function(e){var N,n=t.connectionTypes.INPUT_VALUE,o=this.getSourceBlock(),u=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),this.isConnected()){var b=this.getShadowDom(!0);this.shadowDom_=null;var w=this.targetBlock();if(w.isShadow())w.dispose(!1);else{this.disconnect();var R=w}this.shadowDom_=b}t.Events.isEnabled()&&(N=new(t.Events.get(t.Events.BLOCK_MOVE))(u)),t.Connection.connectReciprocally_(this,e),u.setParent(o),N&&(N.recordNew(),t.Events.fire(N)),R&&((u=t.Connection.getConnectionForOrphanedConnection(u,e=this.type===n?R.outputConnection:R.previousConnection))?e.connect(u):e.onFailedConnect(this))},t.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var e=this.targetBlock();e&&e.unplug()}this.disposed=!0},t.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Connection.prototype.isSuperior=function(){return this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.NEXT_STATEMENT},t.Connection.prototype.isConnected=function(){return!!this.targetConnection},t.Connection.prototype.canConnectWithReason=function(e){return t.utils.deprecation.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnectWithReason(this,e,!1)},t.Connection.prototype.checkConnection=function(e){t.utils.deprecation.warn("Connection.prototype.checkConnection","July 2020","July 2021","the workspace's connection checker");var n=this.getConnectionChecker(),o=n.canConnectWithReason(this,e,!1);if(o!=t.Connection.CAN_CONNECT)throw Error(n.getErrorMessage(o,this,e))},t.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},t.Connection.prototype.isConnectionAllowed=function(e){return t.utils.deprecation.warn("Connection.prototype.isConnectionAllowed","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!0)},t.Connection.prototype.onFailedConnect=function(e){},t.Connection.prototype.connect=function(e){if(this.targetConnection!=e&&this.getConnectionChecker().canConnect(this,e,!1)){var n=t.Events.getGroup();n||t.Events.setGroup(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n||t.Events.setGroup(!1)}},t.Connection.connectReciprocally_=function(e,n){if(!e||!n)throw Error("Cannot connect null connections.");e.targetConnection=n,n.targetConnection=e},t.Connection.getSingleConnection_=function(e,n){for(var w,o=null,u=(n=n.outputConnection).getConnectionChecker(),b=0;w=e.inputList[b];b++)if((w=w.connection)&&u.canConnect(n,w,!1)){if(o)return null;o=w}return o},t.Connection.getConnectionForOrphanedOutput_=function(e,n){for(var o;o=t.Connection.getSingleConnection_(e,n);)if(!(e=o.targetBlock())||e.isShadow())return o;return null},t.Connection.getConnectionForOrphanedConnection=function(e,n){if(n.type===t.connectionTypes.OUTPUT_VALUE)return t.Connection.getConnectionForOrphanedOutput_(e,n.getSourceBlock());e=e.lastConnectionInStack(!0);var o=n.getConnectionChecker();return e&&o.canConnect(n,e,!1)?e:null},t.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var n=this.sourceBlock_,o=e.getSourceBlock();e=this}else n=e.getSourceBlock(),o=this.sourceBlock_;var u=t.Events.getGroup();u||t.Events.setGroup(!0),this.disconnectInternal_(n,o),o.isShadow()||e.respawnShadow_(),u||t.Events.setGroup(!1)},t.Connection.prototype.disconnectInternal_=function(e,n){var o;t.Events.isEnabled()&&(o=new(t.Events.get(t.Events.BLOCK_MOVE))(n)),this.targetConnection=this.targetConnection.targetConnection=null,n.setParent(null),o&&(o.recordNew(),t.Events.fire(o))},t.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),n=this.getShadowDom();if(e.workspace&&n)if((e=t.Xml.domToBlock(n,e.workspace)).outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(e.previousConnection)}},t.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},t.Connection.prototype.checkType=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType","October 2019","January 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!1)},t.Connection.prototype.checkType_=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType_","October 2019","January 2021","the workspace's connection checker"),this.checkType(e)},t.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},t.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},t.Connection.prototype.getCheck=function(){return this.check_},t.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e,(e=this.targetBlock())?e.isShadow()&&(e.dispose(!1),this.respawnShadow_()):this.respawnShadow_()},t.Connection.prototype.getShadowDom=function(e){return e&&this.targetBlock().isShadow()?t.Xml.blockToDom(this.targetBlock()):this.shadowDom_},t.Connection.prototype.neighbours=function(e){return[]},t.Connection.prototype.getParentInput=function(){for(var e=null,n=this.sourceBlock_.inputList,o=0;o<n.length;o++)if(n[o].connection===this){e=n[o];break}return e},t.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var n="Output Connection of ";else if(e.previousConnection==this)n="Previous Connection of ";else if(e.nextConnection==this)n="Next Connection of ";else{n=null;for(var u,o=0;u=e.inputList[o];o++)if(u.connection==this){n=u;break}if(!n)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";n='Input "'+n.name+'" connection on '}return n+e.toDevString()},t.IConnectionChecker=function(){},t.ConnectionChecker=function(){},t.ConnectionChecker.prototype.canConnect=function(e,n,o,u){return this.canConnectWithReason(e,n,o,u)==t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.canConnectWithReason=function(e,n,o,u){var b=this.doSafetyChecks(e,n);return b!=t.Connection.CAN_CONNECT?b:this.doTypeChecks(e,n)?o&&!this.doDragChecks(e,n,u||0)?t.Connection.REASON_DRAG_CHECKS_FAILED:t.Connection.CAN_CONNECT:t.Connection.REASON_CHECKS_FAILED},t.ConnectionChecker.prototype.getErrorMessage=function(e,n,o){switch(e){case t.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case t.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case t.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case t.Connection.REASON_TARGET_NULL:return"Target connection is null.";case t.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+n+" expected "+n.getCheck()+", found "+o.getCheck();case t.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case t.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}},t.ConnectionChecker.prototype.doSafetyChecks=function(e,n){if(!e||!n)return t.Connection.REASON_TARGET_NULL;if(e.isSuperior())var o=e.getSourceBlock(),u=n.getSourceBlock();else u=e.getSourceBlock(),o=n.getSourceBlock();return o==u?t.Connection.REASON_SELF_CONNECTION:n.type!=t.OPPOSITE_TYPE[e.type]?t.Connection.REASON_WRONG_TYPE:o.workspace!==u.workspace?t.Connection.REASON_DIFFERENT_WORKSPACES:o.isShadow()&&!u.isShadow()?t.Connection.REASON_SHADOW_PARENT:t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.doTypeChecks=function(e,n){if(e=e.getCheck(),n=n.getCheck(),!e||!n)return!0;for(var o=0;o<e.length;o++)if(-1!=n.indexOf(e[o]))return!0;return!1},t.ConnectionChecker.prototype.doDragChecks=function(e,n,o){if(e.distanceFrom(n)>o||n.getSourceBlock().isInsertionMarker())return!1;switch(n.type){case t.connectionTypes.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,n);case t.connectionTypes.OUTPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case t.connectionTypes.INPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isMovable()&&!n.targetBlock().isShadow())return!1;break;case t.connectionTypes.NEXT_STATEMENT:if(n.isConnected()&&!e.getSourceBlock().nextConnection&&!n.targetBlock().isShadow()&&n.targetBlock().nextConnection)return!1;break;default:return!1}return-1==t.draggingConnections.indexOf(n)},t.ConnectionChecker.prototype.canConnectToPrevious_=function(e,n){return!(e.targetConnection||-1!=t.draggingConnections.indexOf(n)||n.targetConnection&&(!(e=n.targetBlock()).isInsertionMarker()||e.getPreviousBlock()))},t.registry.register(t.registry.Type.CONNECTION_CHECKER,t.registry.DEFAULT,t.ConnectionChecker),t.VariableMap=function(e){this.variableMap_=Object.create(null),this.workspace=e},t.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},t.VariableMap.prototype.renameVariable=function(e,n){var o=this.getVariable(n,e.type),u=this.workspace.getAllBlocks(!1);t.Events.setGroup(!0);try{o&&o.getId()!=e.getId()?this.renameVariableWithConflict_(e,n,o,u):this.renameVariableAndUses_(e,n,u)}finally{t.Events.setGroup(!1)}},t.VariableMap.prototype.renameVariableById=function(e,n){var o=this.getVariableById(e);if(!o)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(o,n)},t.VariableMap.prototype.renameVariableAndUses_=function(e,n,o){for(t.Events.fire(new(t.Events.get(t.Events.VAR_RENAME))(e,n)),e.name=n,n=0;n<o.length;n++)o[n].updateVarName(e)},t.VariableMap.prototype.renameVariableWithConflict_=function(e,n,o,u){var b=e.type;for(n!=o.name&&this.renameVariableAndUses_(o,n,u),n=0;n<u.length;n++)u[n].renameVarById(e.getId(),o.getId());t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e)),e=this.getVariablesOfType(b).indexOf(e),this.variableMap_[b].splice(e,1)},t.VariableMap.prototype.createVariable=function(e,n,o){var u=this.getVariable(e,n);if(u){if(o&&u.getId()!=o)throw Error('Variable "'+e+'" is already in use and its id is "'+u.getId()+'" which conflicts with the passed in id, "'+o+'".');return u}if(o&&this.getVariableById(o))throw Error('Variable id, "'+o+'", is already in use.');return u=o||t.utils.genUid(),u=new t.VariableModel(this.workspace,e,n=n||"",u),(e=this.variableMap_[n]||[]).push(u),delete this.variableMap_[n],this.variableMap_[n]=e,u},t.VariableMap.prototype.deleteVariable=function(e){for(var u,n=this.variableMap_[e.type],o=0;u=n[o];o++)if(u.getId()==e.getId()){n.splice(o,1),t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e));break}},t.VariableMap.prototype.deleteVariableById=function(e){var n=this.getVariableById(e);if(n){var b,o=n.name,u=this.getVariableUsesById(e);for(e=0;b=u[e];e++)if("procedures_defnoreturn"==b.type||"procedures_defreturn"==b.type)return e=b.getFieldValue("NAME"),o=t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",o).replace("%2",e),void t.alert(o);var w=this;1<u.length?(o=t.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(u.length)).replace("%2",o),t.confirm(o,function(R){R&&n&&w.deleteVariableInternal(n,u)})):w.deleteVariableInternal(n,u)}else console.warn("Can't delete non-existent variable: "+e)},t.VariableMap.prototype.deleteVariableInternal=function(e,n){var o=t.Events.getGroup();o||t.Events.setGroup(!0);try{for(var u=0;u<n.length;u++)n[u].dispose(!0);this.deleteVariable(e)}finally{o||t.Events.setGroup(!1)}},t.VariableMap.prototype.getVariable=function(e,n){if(n=this.variableMap_[n||""])for(var u,o=0;u=n[o];o++)if(t.Names.equals(u.name,e))return u;return null},t.VariableMap.prototype.getVariableById=function(e){for(var n=Object.keys(this.variableMap_),o=0;o<n.length;o++)for(var w,u=n[o],b=0;w=this.variableMap_[u][b];b++)if(w.getId()==e)return w;return null},t.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},t.VariableMap.prototype.getVariableTypes=function(e){var n={};t.utils.object.mixin(n,this.variableMap_),e&&e.getPotentialVariableMap()&&t.utils.object.mixin(n,e.getPotentialVariableMap().variableMap_),e=Object.keys(n),n=!1;for(var o=0;o<e.length;o++)""==e[o]&&(n=!0);return n||e.push(""),e},t.VariableMap.prototype.getAllVariables=function(){var n,e=[];for(n in this.variableMap_)e=e.concat(this.variableMap_[n]);return e},t.VariableMap.prototype.getAllVariableNames=function(){var n,e=[];for(n in this.variableMap_)for(var b,o=this.variableMap_[n],u=0;b=o[u];u++)e.push(b.name);return e},t.VariableMap.prototype.getVariableUsesById=function(e){for(var n=[],o=this.workspace.getAllBlocks(!1),u=0;u<o.length;u++){var b=o[u].getVarModels();if(b)for(var w=0;w<b.length;w++)b[w].getId()==e&&n.push(o[u])}return n},t.Workspace=function(e){this.id=t.utils.genUid(),t.Workspace.WorkspaceDB_[this.id]=this,this.options=e||new t.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(t.registry.getClassFromOptions(t.registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new t.VariableMap(this),this.potentialVariableMap_=null},t.Workspace.prototype.rendered=!1,t.Workspace.prototype.isClearing=!1,t.Workspace.prototype.MAX_UNDO=1024,t.Workspace.prototype.connectionDBList=null,t.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete t.Workspace.WorkspaceDB_[this.id]},t.Workspace.SCAN_ANGLE=3,t.Workspace.prototype.sortObjects_=function(e,n){return e=e.getRelativeToSurfaceXY(),n=n.getRelativeToSurfaceXY(),e.y+t.Workspace.prototype.sortObjects_.offset*e.x-(n.y+t.Workspace.prototype.sortObjects_.offset*n.x)},t.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},t.Workspace.prototype.removeTopBlock=function(e){if(!t.utils.arrayRemove(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},t.Workspace.prototype.getTopBlocks=function(e){var n=[].concat(this.topBlocks_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},t.Workspace.prototype.removeTypedBlock=function(e){this.typedBlocksDB_[e.type].splice(this.typedBlocksDB_[e.type].indexOf(e),1),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},t.Workspace.prototype.getBlocksByType=function(e,n){return this.typedBlocksDB_[e]?(e=this.typedBlocksDB_[e].slice(0),n&&1<e.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e):[]},t.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB_[e.id]=e},t.Workspace.prototype.removeTopComment=function(e){if(!t.utils.arrayRemove(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},t.Workspace.prototype.getTopComments=function(e){var n=[].concat(this.topComments_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.getAllBlocks=function(e){if(e){e=this.getTopBlocks(!0);for(var n=[],o=0;o<e.length;o++)n.push.apply(n,e[o].getDescendants(!0))}else for(n=this.getTopBlocks(!1),o=0;o<n.length;o++)n.push.apply(n,n[o].getChildren(!1));return n.filter(function(u){return!u.isInsertionMarker()})},t.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=t.Events.getGroup();for(e||t.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);e||t.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},t.Workspace.prototype.renameVariableById=function(e,n){this.variableMap_.renameVariableById(e,n)},t.Workspace.prototype.createVariable=function(e,n,o){return this.variableMap_.createVariable(e,n,o)},t.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},t.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},t.Workspace.prototype.getVariable=function(e,n){return this.variableMap_.getVariable(e,n)},t.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},t.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},t.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},t.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},t.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},t.Workspace.prototype.getWidth=function(){return 0},t.Workspace.prototype.newBlock=function(e,n){return new t.Block(this,e,n)},t.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},t.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0},t.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var o,n=0;for(o in e){if(e[o]>this.remainingCapacityOfType(o))return!1;n+=e[o]}return!(n>this.remainingCapacity())},t.Workspace.prototype.hasBlockLimits=function(){return this.options.maxBlocks!=1/0||!!this.options.maxInstances},t.Workspace.prototype.getUndoStack=function(){return this.undoStack_},t.Workspace.prototype.getRedoStack=function(){return this.redoStack_},t.Workspace.prototype.undo=function(e){var n=e?this.redoStack_:this.undoStack_,o=e?this.undoStack_:this.redoStack_,u=n.pop();if(u){for(var b=[u];n.length&&u.group&&u.group==n[n.length-1].group;)b.push(n.pop());for(n=0;u=b[n];n++)o.push(u);b=t.Events.filter(b,e),t.Events.recordUndo=!1;try{for(n=0;u=b[n];n++)u.run(e)}finally{t.Events.recordUndo=!0}}},t.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,t.Events.clearPendingUndo()},t.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},t.Workspace.prototype.removeChangeListener=function(e){t.utils.arrayRemove(this.listeners_,e)},t.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var o,n=0;o=this.listeners_[n];n++)o(e)},t.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},t.Workspace.prototype.setBlockById=function(e,n){this.blockDB_[e]=n},t.Workspace.prototype.removeBlockById=function(e){delete this.blockDB_[e]},t.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},t.Workspace.prototype.allInputsFilled=function(e){for(var u,n=this.getTopBlocks(!1),o=0;u=n[o];o++)if(!u.allInputsFilled(e))return!1;return!0},t.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},t.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new t.VariableMap(this)},t.Workspace.prototype.getVariableMap=function(){return this.variableMap_},t.Workspace.prototype.setVariableMap=function(e){this.variableMap_=e},t.Workspace.WorkspaceDB_=Object.create(null),t.Workspace.getById=function(e){return t.Workspace.WorkspaceDB_[e]||null},t.Workspace.getAll=function(){var n,e=[];for(n in t.Workspace.WorkspaceDB_)e.push(t.Workspace.WorkspaceDB_[n]);return e},t.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},t.WorkspaceDragSurfaceSvg.prototype.SVG_=null,t.WorkspaceDragSurfaceSvg.prototype.container_=null,t.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},t.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,n){e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return t.utils.getRelativeXY(this.SVG_)},t.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var n=this.SVG_.childNodes[0],o=this.SVG_.childNodes[1];if(!(n&&o&&t.utils.dom.hasClass(n,"blocklyBlockCanvas")&&t.utils.dom.hasClass(o,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?t.utils.dom.insertAfter(n,this.previousSibling_):e.insertBefore(n,e.firstChild),t.utils.dom.insertAfter(o,n),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");t.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},t.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,n,o,u,b,w){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=o,e.setAttribute("transform","translate(0, 0) scale("+w+")"),n.setAttribute("transform","translate(0, 0) scale("+w+")"),this.SVG_.setAttribute("width",u),this.SVG_.setAttribute("height",b),this.SVG_.appendChild(e),this.SVG_.appendChild(n),this.SVG_.style.display="block"},t.blockRendering={},t.blockRendering.useDebugger=!1,t.blockRendering.register=function(e,n){t.registry.register(t.registry.Type.RENDERER,e,n)},t.blockRendering.unregister=function(e){t.registry.unregister(t.registry.Type.RENDERER,e)},t.blockRendering.startDebugger=function(){t.blockRendering.useDebugger=!0},t.blockRendering.stopDebugger=function(){t.blockRendering.useDebugger=!1},t.blockRendering.init=function(e,n,o){return(e=new(t.registry.getClass(t.registry.Type.RENDERER,e))(e)).init(n,o),e},t.ASTNode=function(e,n,o){if(!n)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=t.ASTNode.isConnectionType_(e),this.location_=n,this.wsCoordinate_=null,this.processParams_(o||null)},t.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},t.ASTNode.NAVIGATE_ALL_FIELDS=!1,t.ASTNode.DEFAULT_OFFSET_Y=-20,t.ASTNode.isConnectionType_=function(e){switch(e){case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:case t.ASTNode.types.INPUT:case t.ASTNode.types.OUTPUT:return!0}return!1},t.ASTNode.createFieldNode=function(e){return e?new t.ASTNode(t.ASTNode.types.FIELD,e):null},t.ASTNode.createConnectionNode=function(e){if(!e)return null;var n=e.type;return n==t.connectionTypes.INPUT_VALUE||n==t.connectionTypes.NEXT_STATEMENT&&e.getParentInput()?t.ASTNode.createInputNode(e.getParentInput()):n==t.connectionTypes.NEXT_STATEMENT?new t.ASTNode(t.ASTNode.types.NEXT,e):n==t.connectionTypes.OUTPUT_VALUE?new t.ASTNode(t.ASTNode.types.OUTPUT,e):n==t.connectionTypes.PREVIOUS_STATEMENT?new t.ASTNode(t.ASTNode.types.PREVIOUS,e):null},t.ASTNode.createInputNode=function(e){return e&&e.connection?new t.ASTNode(t.ASTNode.types.INPUT,e.connection):null},t.ASTNode.createBlockNode=function(e){return e?new t.ASTNode(t.ASTNode.types.BLOCK,e):null},t.ASTNode.createStackNode=function(e){return e?new t.ASTNode(t.ASTNode.types.STACK,e):null},t.ASTNode.createWorkspaceNode=function(e,n){return n&&e?new t.ASTNode(t.ASTNode.types.WORKSPACE,e,{wsCoordinate:n}):null},t.ASTNode.createTopNode=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)},t.ASTNode.prototype.getLocation=function(){return this.location_},t.ASTNode.prototype.getType=function(){return this.type_},t.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},t.ASTNode.prototype.isConnection=function(){return this.isConnection_},t.ASTNode.prototype.findNextForInput_=function(){var o,e=this.location_.getParentInput(),n=e.getSourceBlock();for(e=n.inputList.indexOf(e)+1;o=n.inputList[e];e++){for(var w,u=o.fieldRow,b=0;w=u[b];b++)if(w.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(w);if(o.connection)return t.ASTNode.createInputNode(o)}return null},t.ASTNode.prototype.findNextForField_=function(){var e=this.location_,n=e.getParentInput(),o=e.getSourceBlock(),u=o.inputList.indexOf(n);for(e=n.fieldRow.indexOf(e)+1;n=o.inputList[u];u++){for(var b=n.fieldRow;e<b.length;){if(b[e].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(b[e]);e++}if(e=0,n.connection)return t.ASTNode.createInputNode(n)}return null},t.ASTNode.prototype.findPrevForInput_=function(){for(var u,e=this.location_.getParentInput(),n=e.getSourceBlock(),o=n.inputList.indexOf(e);u=n.inputList[o];o--){if(u.connection&&u!==e)return t.ASTNode.createInputNode(u);for(var w,b=(u=u.fieldRow).length-1;w=u[b];b--)if(w.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(w)}return null},t.ASTNode.prototype.findPrevForField_=function(){var b,e=this.location_,n=e.getParentInput(),o=e.getSourceBlock(),u=o.inputList.indexOf(n);for(e=n.fieldRow.indexOf(e)-1;b=o.inputList[u];u--){if(b.connection&&b!==n)return t.ASTNode.createInputNode(b);for(b=b.fieldRow;-1<e;){if(b[e].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(b[e]);e--}0<=u-1&&(e=o.inputList[u-1].fieldRow.length-1)}return null},t.ASTNode.prototype.navigateBetweenStacks_=function(e){var n=this.getLocation();if(n instanceof t.Block||(n=n.getSourceBlock()),!n||!n.workspace)return null;var o=n.getRootBlock();n=o.workspace.getTopBlocks(!0);for(var b,u=0;b=n[u];u++)if(o.id==b.id)return-1==(e=u+(e?1:-1))||e==n.length?null:t.ASTNode.createStackNode(n[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")},t.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;var n=(e=e.getTopStackBlock()).previousConnection||e.outputConnection;return n&&n.targetConnection&&n.targetConnection.getParentInput()?t.ASTNode.createInputNode(n.targetConnection.getParentInput()):t.ASTNode.createStackNode(e)},t.ASTNode.prototype.findFirstFieldOrInput_=function(e){e=e.inputList;for(var o,n=0;o=e[n];n++){for(var w,u=o.fieldRow,b=0;w=u[b];b++)if(w.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(w);if(o.connection)return t.ASTNode.createInputNode(o)}return null},t.ASTNode.prototype.getSourceBlock=function(){return this.getType()===t.ASTNode.types.BLOCK||this.getType()===t.ASTNode.types.STACK?this.getLocation():this.getType()===t.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},t.ASTNode.prototype.next=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case t.ASTNode.types.OUTPUT:var e=this.location_;return t.ASTNode.createBlockNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return this.findNextForField_();case t.ASTNode.types.INPUT:return this.findNextForInput_();case t.ASTNode.types.BLOCK:return t.ASTNode.createConnectionNode(this.location_.nextConnection);case t.ASTNode.types.PREVIOUS:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock());case t.ASTNode.types.NEXT:return t.ASTNode.createConnectionNode((e=this.location_).targetConnection)}return null},t.ASTNode.prototype.in=function(){switch(this.type_){case t.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return t.ASTNode.createStackNode(e[0]);break;case t.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(e=this.location_);case t.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(e=this.location_);case t.ASTNode.types.INPUT:return t.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},t.ASTNode.prototype.prev=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case t.ASTNode.types.FIELD:return this.findPrevForField_();case t.ASTNode.types.INPUT:return this.findPrevForInput_();case t.ASTNode.types.BLOCK:var e=this.location_;return t.ASTNode.createConnectionNode(e.previousConnection||e.outputConnection);case t.ASTNode.types.PREVIOUS:if((e=(e=this.location_).targetConnection)&&!e.getParentInput())return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.NEXT:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock())}return null},t.ASTNode.prototype.out=function(){switch(this.type_){case t.ASTNode.types.STACK:var e=this.location_,n=e.getRelativeToSurfaceXY();return n=new t.utils.Coordinate(n.x,n.y+t.ASTNode.DEFAULT_OFFSET_Y),t.ASTNode.createWorkspaceNode(e.workspace,n);case t.ASTNode.types.OUTPUT:return(n=(e=this.location_).targetConnection)?t.ASTNode.createConnectionNode(n):t.ASTNode.createStackNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.INPUT:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock());case t.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(e=this.location_);case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_((e=this.location_).getSourceBlock())}return null},t.Blocks=Object.create(null),t.Extensions={},t.Extensions.ALL_=Object.create(null),t.Extensions.register=function(e,n){if("string"!=typeof e||""==e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(t.Extensions.ALL_[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof n)throw Error('Error: Extension "'+e+'" must be a function');t.Extensions.ALL_[e]=n},t.Extensions.registerMixin=function(e,n){if(!n||"object"!=typeof n)throw Error('Error: Mixin "'+e+'" must be a object');t.Extensions.register(e,function(){this.mixin(n)})},t.Extensions.registerMutator=function(e,n,o,u){var b='Error when registering mutator "'+e+'": ';t.Extensions.checkHasFunction_(b,n.domToMutation,"domToMutation"),t.Extensions.checkHasFunction_(b,n.mutationToDom,"mutationToDom");var w=t.Extensions.checkMutatorDialog_(n,b);if(o&&"function"!=typeof o)throw Error('Extension "'+e+'" is not a function');t.Extensions.register(e,function(){if(w){if(!t.Mutator)throw Error(b+"Missing require for Blockly.Mutator");this.setMutator(new t.Mutator(u||[]))}this.mixin(n),o&&o.apply(this)})},t.Extensions.unregister=function(e){t.Extensions.ALL_[e]?delete t.Extensions.ALL_[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},t.Extensions.apply=function(e,n,o){var u=t.Extensions.ALL_[e];if("function"!=typeof u)throw Error('Error: Extension "'+e+'" not found.');if(o)t.Extensions.checkNoMutatorProperties_(e,n);else var b=t.Extensions.getMutatorProperties_(n);if(u.apply(n),o)t.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+e+'": ',n);else if(!t.Extensions.mutatorPropertiesMatch_(b,n))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},t.Extensions.checkHasFunction_=function(e,n,o){if(!n)throw Error(e+'missing required property "'+o+'"');if("function"!=typeof n)throw Error(e+'" required property "'+o+'" must be a function')},t.Extensions.checkNoMutatorProperties_=function(e,n){if(t.Extensions.getMutatorProperties_(n).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+n.id)},t.Extensions.checkMutatorDialog_=function(e,n){var o=void 0!==e.compose,u=void 0!==e.decompose;if(o&&u){if("function"!=typeof e.compose)throw Error(n+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(n+"decompose must be a function.");return!0}if(!o&&!u)return!1;throw Error(n+'Must have both or neither of "compose" and "decompose"')},t.Extensions.checkBlockHasMutatorProperties_=function(e,n){if("function"!=typeof n.domToMutation)throw Error(e+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof n.mutationToDom)throw Error(e+'Applying a mutator didn\'t add "mutationToDom"');t.Extensions.checkMutatorDialog_(n,e)},t.Extensions.getMutatorProperties_=function(e){var n=[];return void 0!==e.domToMutation&&n.push(e.domToMutation),void 0!==e.mutationToDom&&n.push(e.mutationToDom),void 0!==e.compose&&n.push(e.compose),void 0!==e.decompose&&n.push(e.decompose),n},t.Extensions.mutatorPropertiesMatch_=function(e,n){if((n=t.Extensions.getMutatorProperties_(n)).length!=e.length)return!1;for(var o=0;o<n.length;o++)if(e[o]!=n[o])return!1;return!0},t.Extensions.buildTooltipForDropdown=function(e,n){var o=[];return"object"==typeof document&&t.utils.runAfterPageLoad(function(){for(var u in n)t.utils.checkMessageReferences(n[u])}),function(){this.type&&-1==o.indexOf(this.type)&&(t.Extensions.checkDropdownOptionsInTable_(this,e,n),o.push(this.type)),this.setTooltip(function(){var u=String(this.getFieldValue(e)),b=n[u];return null==b?-1==o.indexOf(this.type)&&(u="No tooltip mapping for value "+u+" of field "+e,null!=this.type&&(u+=" of block type "+this.type),console.warn(u+".")):b=t.utils.replaceMessageReferences(b),b}.bind(this))}},t.Extensions.checkDropdownOptionsInTable_=function(e,n,o){var u=e.getField(n);if(!u.isOptionListDynamic()){u=u.getOptions();for(var b=0;b<u.length;++b){var w=u[b][1];null==o[w]&&console.warn("No tooltip mapping for value "+w+" of field "+n+" of block type "+e.type)}}},t.Extensions.buildTooltipWithFieldText=function(e,n){return"object"==typeof document&&t.utils.runAfterPageLoad(function(){t.utils.checkMessageReferences(e)}),function(){this.setTooltip(function(){var o=this.getField(n);return t.utils.replaceMessageReferences(e).replace("%1",o?o.getText():"")}.bind(this))}},t.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},t.Extensions.register("parent_tooltip_when_inline",t.Extensions.extensionParentTooltip_),t.fieldRegistry={},t.fieldRegistry.register=function(e,n){t.registry.register(t.registry.Type.FIELD,e,n)},t.fieldRegistry.unregister=function(e){t.registry.unregister(t.registry.Type.FIELD,e)},t.fieldRegistry.fromJson=function(e){var n=t.registry.getObject(t.registry.Type.FIELD,e.type);return n?n.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},t.IDeletable=function(){},t.blockAnimations={},t.blockAnimations.disconnectPid_=0,t.blockAnimations.disconnectGroup_=null,t.blockAnimations.disposeUiEffect=function(e){var n=e.workspace,o=e.getSvgRoot();n.getAudioManager().play("delete"),e=n.getSvgXY(o),(o=o.cloneNode(!0)).translateX_=e.x,o.translateY_=e.y,o.setAttribute("transform","translate("+e.x+","+e.y+")"),n.getParentSvg().appendChild(o),o.bBox_=o.getBBox(),t.blockAnimations.disposeUiStep_(o,n.RTL,new Date,n.scale)},t.blockAnimations.disposeUiStep_=function(e,n,o,u){var b=(new Date-o)/150;1<b?t.utils.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(n?-1:1)*e.bBox_.width*u/2*b)+","+(e.translateY_+e.bBox_.height*u*b)+") scale("+(1-b)*u+")"),setTimeout(t.blockAnimations.disposeUiStep_,10,e,n,o,u))},t.blockAnimations.connectionUiEffect=function(e){var n=e.workspace,o=n.scale;if(n.getAudioManager().play("click"),!(1>o)){var u=n.getSvgXY(e.getSvgRoot());e.outputConnection?(u.x+=(e.RTL?3:-3)*o,u.y+=13*o):e.previousConnection&&(u.x+=(e.RTL?-23:23)*o,u.y+=3*o),e=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:u.x,cy:u.y,r:0,fill:"none",stroke:"#888","stroke-width":10},n.getParentSvg()),t.blockAnimations.connectionUiStep_(e,new Date,o)}},t.blockAnimations.connectionUiStep_=function(e,n,o){var u=(new Date-n)/150;1<u?t.utils.dom.removeNode(e):(e.setAttribute("r",25*u*o),e.style.opacity=1-u,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.connectionUiStep_,10,e,n,o))},t.blockAnimations.disconnectUiEffect=function(e){if(e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var n=e.getHeightWidth().height;n=Math.atan(10/n)/Math.PI*180,e.RTL||(n*=-1),t.blockAnimations.disconnectUiStep_(e.getSvgRoot(),n,new Date)}},t.blockAnimations.disconnectUiStep_=function(e,n,o){var u=(new Date-o)/200;1<u?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(u*Math.PI*3)*(1-u)*n)+")",t.blockAnimations.disconnectGroup_=e,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.disconnectUiStep_,10,e,n,o)),e.setAttribute("transform",e.translate_+e.skew_)},t.blockAnimations.disconnectUiStop=function(){if(t.blockAnimations.disconnectGroup_){clearTimeout(t.blockAnimations.disconnectPid_);var e=t.blockAnimations.disconnectGroup_;e.skew_="",e.setAttribute("transform",e.translate_),t.blockAnimations.disconnectGroup_=null}},t.Events.BlockDrag=function(e,n,o){t.Events.BlockDrag.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isStart=n,this.blocks=o},t.utils.object.inherits(t.Events.BlockDrag,t.Events.UiBase),t.Events.BlockDrag.prototype.type=t.Events.BLOCK_DRAG,t.Events.BlockDrag.prototype.toJson=function(){var e=t.Events.BlockDrag.superClass_.toJson.call(this);return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e},t.Events.BlockDrag.prototype.fromJson=function(e){t.Events.BlockDrag.superClass_.fromJson.call(this,e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks},t.registry.register(t.registry.Type.EVENT,t.Events.BLOCK_DRAG,t.Events.BlockDrag),t.IBlockDragger=function(){},t.InsertionMarkerManager=function(e){this.topBlock_=t.selected=e,this.workspace_=e.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",t.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,t.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{t.Events.enable()}},t.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},t.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},t.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(t.Events.disable(),this.hidePreview_(),t.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;t.blockAnimations.connectionUiEffect(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},t.InsertionMarkerManager.prototype.update=function(e,n){var o=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(o,n))||this.shouldUpdatePreviews_(o,e))&&(t.Events.disable(),this.maybeHidePreview_(o),this.maybeShowPreview_(o),t.Events.enable())},t.InsertionMarkerManager.prototype.createMarkerBlock_=function(e){var n=e.type;t.Events.disable();try{var o=this.workspace_.newBlock(n);if(o.setInsertionMarker(!0),e.mutationToDom){var u=e.mutationToDom();u&&o.domToMutation(u)}for(n=0;n<e.inputList.length;n++){var b=e.inputList[n];if(b.name!=t.constants.COLLAPSED_INPUT_NAME){var w=o.inputList[n];if(!w)throw Error(t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","an input"));for(u=0;u<b.fieldRow.length;u++){var R=b.fieldRow[u],N=w.fieldRow[u];if(!N)throw Error(t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","a field"));N.setValue(R.getValue())}}}o.setCollapsed(e.isCollapsed()),o.setInputsInline(e.getInputsInline()),o.initSvg(),o.getSvgRoot().setAttribute("visibility","hidden")}finally{t.Events.enable()}return o},t.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),n=this.topBlock_.lastConnectionInStack(!0);if(n&&n!=this.topBlock_.nextConnection){if(e.push(n),this.lastOnStack_=n,this.lastMarker_){t.Events.disable();try{this.lastMarker_.dispose()}finally{t.Events.enable()}}this.lastMarker_=this.createMarkerBlock_(n.getSourceBlock())}return e},t.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(e,n){var o=e.local,u=e.closest;return e=e.radius,o&&u?this.localConnection_&&this.closestConnection_?!(this.closestConnection_==u&&this.localConnection_==o||(o=this.localConnection_.x+n.x-this.closestConnection_.x,n=this.localConnection_.y+n.y-this.closestConnection_.y,n=Math.sqrt(o*o+n*n),u&&e>n-t.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},t.InsertionMarkerManager.prototype.getCandidate_=function(e){for(var n=this.getStartRadius_(),o=null,u=null,b=0;b<this.availableConnections_.length;b++){var w=this.availableConnections_[b],R=w.closest(n,e);R.connection&&(o=R.connection,u=w,n=R.radius)}return{closest:o,local:u,radius:n}},t.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?t.CONNECTING_SNAP_RADIUS:t.SNAP_RADIUS},t.InsertionMarkerManager.prototype.shouldDelete_=function(e,n){return!(!n||!this.workspace_.getComponentManager().hasCapability(n.id,t.ComponentManager.Capability.DELETE_AREA))&&n.wouldDelete(this.topBlock_,e&&!!e.closest)},t.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var n=e.closest;e=e.local,n&&(n==this.closestConnection_||n.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=n,this.localConnection_=e,this.showPreview_()))}},t.InsertionMarkerManager.prototype.showPreview_=function(){var e=this.closestConnection_,n=this.workspace_.getRenderer();switch(n.getConnectionPreviewMethod(e,this.localConnection_,this.topBlock_)){case t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}e&&n.shouldHighlightConnection(e)&&e.highlight()},t.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var n=this.closestConnection_!=e.closest;e=this.localConnection_!=e.local,this.closestConnection_&&this.localConnection_&&(n||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},t.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},t.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var e=this.localConnection_,n=this.closestConnection_,o=this.lastOnStack_&&e==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((e=o.getMatchingConnection(e.getSourceBlock(),e))==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");o.render(),o.rendered=!0,o.getSvgRoot().setAttribute("visibility","visible"),e&&n&&o.positionNearConnection(e,n),n&&e.connect(n),this.markerConnection_=e},t.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var e=this.markerConnection_,n=e.getSourceBlock(),o=n.nextConnection,u=n.previousConnection,b=n.outputConnection;if(b=e.type==t.connectionTypes.INPUT_VALUE&&!(b&&b.targetConnection),!(e!=o||u&&u.targetConnection)||b?e.targetBlock().unplug(!1):e.type==t.connectionTypes.NEXT_STATEMENT&&e!=o?((o=e.targetConnection).getSourceBlock().unplug(!1),u=u?u.targetConnection:null,n.unplug(!0),u&&u.connect(o)):n.unplug(!0),e.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,(e=n.getSvgRoot())&&e.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},t.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var e=this.closestConnection_;this.highlightedBlock_=e.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(e,!0)},t.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},t.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},t.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},t.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e},t.BlockDragger=function(e,n){this.draggingBlock_=e,this.workspace_=n,this.draggedConnectionManager_=new t.InsertionMarkerManager(this.draggingBlock_),this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=t.BlockDragger.initIconData_(e)},t.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},t.BlockDragger.initIconData_=function(e){var n=[];e=e.getDescendants(!1);for(var u,o=0;u=e[o];o++){u=u.getIcons();for(var b=0;b<u.length;b++){var w={location:u[b].getIconLocation(),icon:u[b]};n.push(w)}}return n},t.BlockDragger.prototype.startDrag=function(e,n){t.Events.getGroup()||t.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),t.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),t.blockAnimations.disconnectUiStop(),this.shouldDisconnect_(n)&&this.disconnectBlock_(n,e),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()},t.BlockDragger.prototype.shouldDisconnect_=function(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())},t.BlockDragger.prototype.disconnectBlock_=function(e,n){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(n),e=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),t.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()},t.BlockDragger.prototype.fireDragStartEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.drag=function(e,n){n=this.pixelsToWorkspaceUnits_(n);var o=t.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(o),this.dragIcons_(n),o=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),this.draggedConnectionManager_.update(n,this.dragTarget_),e=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock(),e!=this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==o&&(o&&o.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)},t.BlockDragger.prototype.endDrag=function(e,n){if(this.drag(e,n),this.dragIconData_=[],this.fireDragEndEvent_(),t.utils.dom.stopTextWidthCache(),t.blockAnimations.disconnectUiStop(),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_))e=this.startXY_;else{var o=(e=this.getNewLocationAfterDrag_(n)).delta;e=e.newLocation}this.draggingBlock_.moveOffDragSurface(e),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),o?this.updateBlockAfterMove_(o):t.bumpObjectIntoBounds_(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),t.Events.setGroup(!1)},t.BlockDragger.prototype.getNewLocationAfterDrag_=function(e){var n={};return n.delta=this.pixelsToWorkspaceUnits_(e),n.newLocation=t.utils.Coordinate.sum(this.startXY_,n.delta),n},t.BlockDragger.prototype.maybeDeleteBlock_=function(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),t.draggingConnections=[],!0)},t.BlockDragger.prototype.updateBlockAfterMove_=function(e){this.draggingBlock_.moveConnections(e.x,e.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()},t.BlockDragger.prototype.fireDragEndEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.updateToolboxStyle_=function(e){var n=this.workspace_.getToolbox();if(n){var o=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"==typeof n.removeStyle?n.removeStyle(o):e||"function"!=typeof n.addStyle||n.addStyle(o)}},t.BlockDragger.prototype.fireMoveEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_MOVE))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),t.Events.fire(e)},t.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)},t.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BlockDragger.prototype.dragIcons_=function(e){for(var n=0;n<this.dragIconData_.length;n++){var o=this.dragIconData_[n];o.icon.setIconLocation(t.utils.Coordinate.sum(o.location,e))}},t.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},t.registry.register(t.registry.Type.BLOCK_DRAGGER,t.registry.DEFAULT,t.BlockDragger),t.IContextMenu=function(){},t.IDraggable=function(){},t.IBubble=function(){},t.Bubble=function(e,n,o,u,b,w){this.workspace_=e,this.content_=n,this.shape_=o,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,o=t.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(o=-o),this.arrow_radians_=t.utils.math.toRadians(o),e.getBubbleCanvas().appendChild(this.createDom_(n,!(!b||!w))),this.setAnchorLocation(u),b&&w||(b=(e=this.content_.getBBox()).width+2*t.Bubble.BORDER_WIDTH,w=e.height+2*t.Bubble.BORDER_WIDTH),this.setBubbleSize(b,w),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},t.Bubble.BORDER_WIDTH=6,t.Bubble.ARROW_THICKNESS=5,t.Bubble.ARROW_ANGLE=20,t.Bubble.ARROW_BEND=4,t.Bubble.ANCHOR_RADIUS=8,t.Bubble.onMouseUpWrapper_=null,t.Bubble.onMouseMoveWrapper_=null,t.Bubble.unbindDragEvents_=function(){t.Bubble.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseUpWrapper_),t.Bubble.onMouseUpWrapper_=null),t.Bubble.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseMoveWrapper_),t.Bubble.onMouseMoveWrapper_=null)},t.Bubble.bubbleMouseUp_=function(e){t.Touch.clearTouchIdentifier(),t.Bubble.unbindDragEvents_()},t.Bubble.prototype.rendered_=!1,t.Bubble.prototype.anchorXY_=null,t.Bubble.prototype.relativeLeft_=0,t.Bubble.prototype.relativeTop_=0,t.Bubble.prototype.width_=0,t.Bubble.prototype.height_=0,t.Bubble.prototype.autoLayout_=!0,t.Bubble.prototype.createDom_=function(e,n){this.bubbleGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var o={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return t.utils.userAgent.JAVA_FX&&(o={}),o=t.utils.dom.createSvgElement(t.utils.Svg.G,o,this.bubbleGroup_),this.bubbleArrow_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{},o),this.bubbleBack_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:t.Bubble.BORDER_WIDTH,ry:t.Bubble.BORDER_WIDTH},o),n?(this.resizeGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),t.utils.dom.createSvgElement(t.utils.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,(n=2*t.Bubble.BORDER_WIDTH).toString())},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=t.browserEvents.conditionalBind(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=t.browserEvents.conditionalBind(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(e),this.bubbleGroup_},t.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},t.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},t.Bubble.prototype.bubbleMouseDown_=function(e){var n=this.workspace_.getGesture(e);n&&n.handleBubbleStart(e,this)},t.Bubble.prototype.showContextMenu=function(e){},t.Bubble.prototype.isDeletable=function(){return!1},t.Bubble.prototype.setDeleteStyle=function(e){},t.Bubble.prototype.resizeMouseDown_=function(e){this.promote(),t.Bubble.unbindDragEvents_(),t.utils.isRightButton(e)||(this.workspace_.startDrag(e,new t.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),t.Bubble.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,t.Bubble.bubbleMouseUp_),t.Bubble.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.resizeMouseMove_),t.hideChaff()),e.stopPropagation()},t.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},t.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},t.Bubble.prototype.registerMoveEvent=function(e){this.moveCallback_=e},t.Bubble.prototype.promote=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},t.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},t.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),n=this.getOptimalRelativeLeft_(e),o=this.getOptimalRelativeTop_(e),u=this.shape_.getBBox(),b={x:n,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},w={x:-this.width_-30,y:o};o={x:u.width,y:o};var R={x:n,y:u.height};n=u.width<u.height?o:R,u=u.width<u.height?R:o,o=this.getOverlap_(b,e),R=this.getOverlap_(w,e);var N=this.getOverlap_(n,e);e=this.getOverlap_(u,e),o==(e=Math.max(o,R,N,e))?(this.relativeLeft_=b.x,this.relativeTop_=b.y):R==e?(this.relativeLeft_=w.x,this.relativeTop_=w.y):N==e?(this.relativeLeft_=n.x,this.relativeTop_=n.y):(this.relativeLeft_=u.x,this.relativeTop_=u.y)},t.Bubble.prototype.getOverlap_=function(e,n){var o=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x;return e=e.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(o+this.width_,n.left+n.width)-Math.max(o,n.left))*(Math.min(e+this.height_,n.top+n.height)-Math.max(e,n.top))/(this.width_*this.height_)))},t.Bubble.prototype.getOptimalRelativeLeft_=function(e){var n=-this.width_/4;if(this.width_>e.width)return n;if(this.workspace_.RTL)var o=this.anchorXY_.x-n,u=o-this.width_,b=e.left+e.width,w=e.left+t.Scrollbar.scrollbarThickness/this.workspace_.scale;else o=(u=n+this.anchorXY_.x)+this.width_,w=e.left,b=e.left+e.width-t.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?u<w?n=-(w-this.anchorXY_.x+this.width_):o>b&&(n=-(b-this.anchorXY_.x)):u<w?n=w-this.anchorXY_.x:o>b&&(n=b-this.anchorXY_.x-this.width_),n},t.Bubble.prototype.getOptimalRelativeTop_=function(e){var n=-this.height_/4;if(this.height_>e.height)return n;var o=this.anchorXY_.y+n,b=e.top;e=e.top+e.height-t.Scrollbar.scrollbarThickness/this.workspace_.scale;var w=this.anchorXY_.y;return o<b?n=b-w:o+this.height_>e&&(n=e-w-this.height_),n},t.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;this.moveTo(e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.relativeTop_+this.anchorXY_.y)},t.Bubble.prototype.moveTo=function(e,n){this.bubbleGroup_.setAttribute("transform","translate("+e+","+n+")")},t.Bubble.prototype.setDragging=function(e){!e&&this.moveCallback_&&this.moveCallback_()},t.Bubble.prototype.getBubbleSize=function(){return new t.utils.Size(this.width_,this.height_)},t.Bubble.prototype.setBubbleSize=function(e,n){var o=2*t.Bubble.BORDER_WIDTH;e=Math.max(e,o+45),n=Math.max(n,o+20),this.width_=e,this.height_=n,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",n),this.resizeGroup_&&this.resizeGroup_.setAttribute("transform",this.workspace_.RTL?"translate("+2*t.Bubble.BORDER_WIDTH+","+(n-o)+") scale(-1 1)":"translate("+(e-o)+","+(n-o)+")"),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},t.Bubble.prototype.renderArrow_=function(){var e=[],n=this.width_/2,o=this.height_/2,u=-this.relativeLeft_,b=-this.relativeTop_;if(n==u&&o==b)e.push("M "+n+","+o);else{b-=o,u-=n,this.workspace_.RTL&&(u*=-1);var w=Math.sqrt(b*b+u*u),R=Math.acos(u/w);0>b&&(R=2*Math.PI-R);var N=R+Math.PI/2;N>2*Math.PI&&(N-=2*Math.PI);var W=Math.sin(N),Z=Math.cos(N),K=this.getBubbleSize();N=(K.width+K.height)/t.Bubble.ARROW_THICKNESS,N=Math.min(N,K.width,K.height)/4,u=n+(K=1-t.Bubble.ANCHOR_RADIUS/w)*u,b=o+K*b,K=n+N*Z;var ae=o+N*W;n-=N*Z,o-=N*W,(W=R+this.arrow_radians_)>2*Math.PI&&(W-=2*Math.PI),R=Math.sin(W)*w/t.Bubble.ARROW_BEND,w=Math.cos(W)*w/t.Bubble.ARROW_BEND,e.push("M"+K+","+ae),e.push("C"+(K+w)+","+(ae+R)+" "+u+","+b+" "+u+","+b),e.push("C"+u+","+b+" "+(n+w)+","+(o+R)+" "+n+","+o)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},t.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},t.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&t.browserEvents.unbind(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&t.browserEvents.unbind(this.onMouseDownResizeWrapper_),t.Bubble.unbindDragEvents_(),t.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},t.Bubble.prototype.moveDuringDrag=function(e,n){e?e.translateSurface(n.x,n.y):this.moveTo(n.x,n.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-n.x-this.width_:n.x-this.anchorXY_.x,this.relativeTop_=n.y-this.anchorXY_.y,this.renderArrow_()},t.Bubble.prototype.getRelativeToSurfaceXY=function(){return new t.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},t.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},t.Bubble.textToDom=function(e){var n=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:t.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var o=0;o<e.length;o++){var u=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{dy:"1em",x:t.Bubble.BORDER_WIDTH},n),b=document.createTextNode(e[o]);u.appendChild(b)}return n},t.Bubble.createNonEditableBubble=function(e,n,o){if((o=new t.Bubble(n.workspace,e,n.pathObject.svgPath,o,null,null)).setSvgId(n.id),n.RTL){n=e.getBBox().width;for(var b,u=0;b=e.childNodes[u];u++)b.setAttribute("text-anchor","end"),b.setAttribute("x",n+t.Bubble.BORDER_WIDTH)}return o},t.Events.CommentBase=function(e){this.commentId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.utils.object.inherits(t.Events.CommentBase,t.Events.Abstract),t.Events.CommentBase.prototype.toJson=function(){var e=t.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},t.Events.CommentBase.prototype.fromJson=function(e){t.Events.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},t.Events.CommentChange=function(e,n,o){t.Events.CommentChange.superClass_.constructor.call(this,e),e&&(this.oldContents_=void 0===n?"":n,this.newContents_=void 0===o?"":o)},t.utils.object.inherits(t.Events.CommentChange,t.Events.CommentBase),t.Events.CommentChange.prototype.type=t.Events.COMMENT_CHANGE,t.Events.CommentChange.prototype.toJson=function(){var e=t.Events.CommentChange.superClass_.toJson.call(this);return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e},t.Events.CommentChange.prototype.fromJson=function(e){t.Events.CommentChange.superClass_.fromJson.call(this,e),this.oldContents_=e.oldContents,this.newContents_=e.newContents},t.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},t.Events.CommentChange.prototype.run=function(e){var n=this.getEventWorkspace_().getCommentById(this.commentId);n?n.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},t.Events.CommentCreate=function(e){t.Events.CommentCreate.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentCreate,t.Events.CommentBase),t.Events.CommentCreate.prototype.type=t.Events.COMMENT_CREATE,t.Events.CommentCreate.prototype.toJson=function(){var e=t.Events.CommentCreate.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e},t.Events.CommentCreate.prototype.fromJson=function(e){t.Events.CommentCreate.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml)},t.Events.CommentCreate.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,e)},t.Events.CommentCreateDeleteHelper=function(e,n){var o=e.getEventWorkspace_();n?((n=t.utils.xml.createElement("xml")).appendChild(e.xml),t.Xml.domToWorkspace(n,o)):(o=o.getCommentById(e.commentId))?o.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+e.commentId)},t.Events.CommentDelete=function(e){t.Events.CommentDelete.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentDelete,t.Events.CommentBase),t.Events.CommentDelete.prototype.type=t.Events.COMMENT_DELETE,t.Events.CommentDelete.prototype.toJson=function(){return t.Events.CommentDelete.superClass_.toJson.call(this)},t.Events.CommentDelete.prototype.fromJson=function(e){t.Events.CommentDelete.superClass_.fromJson.call(this,e)},t.Events.CommentDelete.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,!e)},t.Events.CommentMove=function(e){t.Events.CommentMove.superClass_.constructor.call(this,e),e&&(this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)},t.utils.object.inherits(t.Events.CommentMove,t.Events.CommentBase),t.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},t.Events.CommentMove.prototype.type=t.Events.COMMENT_MOVE,t.Events.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},t.Events.CommentMove.prototype.toJson=function(){var e=t.Events.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(e.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),e},t.Events.CommentMove.prototype.fromJson=function(e){if(t.Events.CommentMove.superClass_.fromJson.call(this,e),e.oldCoordinate){var n=e.oldCoordinate.split(",");this.oldCoordinate_=new t.utils.Coordinate(Number(n[0]),Number(n[1]))}e.newCoordinate&&(n=e.newCoordinate.split(","),this.newCoordinate_=new t.utils.Coordinate(Number(n[0]),Number(n[1])))},t.Events.CommentMove.prototype.isNull=function(){return t.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},t.Events.CommentMove.prototype.run=function(e){var n=this.getEventWorkspace_().getCommentById(this.commentId);if(n){e=e?this.newCoordinate_:this.oldCoordinate_;var o=n.getXY();n.moveBy(e.x-o.x,e.y-o.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CREATE,t.Events.CommentCreate),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CHANGE,t.Events.CommentChange),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_MOVE,t.Events.CommentMove),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_DELETE,t.Events.CommentDelete),t.BubbleDragger=function(e,n){this.draggingBubble_=e,this.workspace_=n,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=t.utils.is3dSupported()&&n.getBlockDragSurface()?n.getBlockDragSurface():null},t.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},t.BubbleDragger.prototype.startBubbleDrag=function(){t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0)},t.BubbleDragger.prototype.dragBubble=function(e,n){n=this.pixelsToWorkspaceUnits_(n),n=t.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),n=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!=this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==n&&(n&&n.onDragExit(this.draggingBubble_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBubble_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBubble_)},t.BubbleDragger.prototype.shouldDelete_=function(e){return!(!e||!this.workspace_.getComponentManager().hasCapability(e.id,t.ComponentManager.Capability.DELETE_AREA))&&e.wouldDelete(this.draggingBubble_,!1)},t.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.draggingBubble_.setDeleteStyle(this.wouldDeleteBubble_)},t.BubbleDragger.prototype.endBubbleDrag=function(e,n){this.dragBubble(e,n),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBubble_)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(n),e=t.utils.Coordinate.sum(this.startXY_,e)),this.draggingBubble_.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBubble_),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),t.Events.setGroup(!1)},t.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new(t.Events.get(t.Events.COMMENT_MOVE))(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),t.Events.fire(e)}},t.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},t.Events.Click=function(e,n,o){t.Events.Click.superClass_.constructor.call(this,e?e.workspace.id:n),this.blockId=e?e.id:null,this.targetType=o},t.utils.object.inherits(t.Events.Click,t.Events.UiBase),t.Events.Click.prototype.type=t.Events.CLICK,t.Events.Click.prototype.toJson=function(){var e=t.Events.Click.superClass_.toJson.call(this);return e.targetType=this.targetType,this.blockId&&(e.blockId=this.blockId),e},t.Events.Click.prototype.fromJson=function(e){t.Events.Click.superClass_.fromJson.call(this,e),this.targetType=e.targetType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.CLICK,t.Events.Click),t.WorkspaceDragger=function(e){this.workspace_=e,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new t.utils.Coordinate(e.scrollX,e.scrollY)},t.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},t.WorkspaceDragger.prototype.startDrag=function(){t.selected&&t.selected.unselect(),this.workspace_.setupDragSurface()},t.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},t.WorkspaceDragger.prototype.drag=function(e){if(e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(e.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,e.y)}},t.Gesture=function(e,n){this.mouseDownXY_=null,this.currentDragDeltaXY_=new t.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!t.DRAG_STACK},t.Gesture.prototype.dispose=function(){t.Touch.clearTouchIdentifier(),t.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&t.browserEvents.unbind(this.onMoveWrapper_),this.onUpWrapper_&&t.browserEvents.unbind(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},t.Gesture.prototype.updateFromEvent_=function(e){var n=new t.utils.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(n)&&(this.updateIsDragging_(),t.longStop_()),this.mostRecentEvent_=e},t.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=t.utils.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=t.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?t.FLYOUT_DRAG_RADIUS:t.DRAG_RADIUS))},t.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_)||this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)||(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),t.Events.getGroup()||t.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),0))},t.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},t.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},t.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new t.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},t.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},t.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new(t.registry.getClassFromOptions(t.registry.Type.BLOCK_DRAGGER,this.creatorWorkspace_.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new t.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.doStart=function(e){t.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,t.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),t.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,t.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),t.utils.isRightButton(e)?this.handleRightClick(e):("touchstart"!=e.type.toLowerCase()&&"pointerdown"!=e.type.toLowerCase()||"mouse"==e.pointerType||t.longStart(e,this),this.mouseDownXY_=new t.utils.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},t.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),t.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},t.Gesture.prototype.cancel=function(){this.isEnding_||(t.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},t.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),t.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(t.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},t.Gesture.prototype.handleWsStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(n),this.mostRecentEvent_=e,this.doStart(e)},t.Gesture.prototype.fireWorkspaceClick_=function(e){t.Events.fire(new(t.Events.get(t.Events.CLICK))(null,e.id,"workspace"))},t.Gesture.prototype.handleFlyoutStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(n),this.handleWsStart(e,n.getWorkspace())},t.Gesture.prototype.handleBlockStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(n),this.mostRecentEvent_=e},t.Gesture.prototype.handleBubbleStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(n),this.mostRecentEvent_=e},t.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},t.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},t.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&(t.Events.getGroup()||t.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var e=new(t.Events.get(t.Events.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");t.Events.fire(e)}this.bringBlockToFront_(),t.Events.setGroup(!1)},t.Gesture.prototype.doWorkspaceClick_=function(e){e=this.creatorWorkspace_,t.selected&&t.selected.unselect(),this.fireWorkspaceClick_(this.startWorkspace_||e)},t.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},t.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},t.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},t.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},t.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},t.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},t.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},t.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},t.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},t.Gesture.prototype.isWorkspaceClick_=function(){return!(this.startBlock_||this.startBubble_||this.startField_||this.hasExceededDragRadius_)},t.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},t.Gesture.prototype.hasStarted=function(){return this.hasStarted_},t.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},t.Gesture.prototype.getCurrentDragger=function(){return this.isDraggingBlock_?this.blockDragger_:this.isDraggingWorkspace_?this.workspaceDragger_:this.isDraggingBubble_?this.bubbleDragger_:null},t.Gesture.inProgress=function(){for(var o,e=t.Workspace.getAll(),n=0;o=e[n];n++)if(o.currentGesture_)return!0;return!1},t.IRegistrable=function(){},t.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},t.Marker.prototype.setDrawer=function(e){this.drawer_=e},t.Marker.prototype.getDrawer=function(){return this.drawer_},t.Marker.prototype.getCurNode=function(){return this.curNode_},t.Marker.prototype.setCurNode=function(e){var n=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(n,this.curNode_)},t.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},t.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},t.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},t.Cursor=function(){t.Cursor.superClass_.constructor.call(this),this.type="cursor"},t.utils.object.inherits(t.Cursor,t.Marker),t.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},t.Cursor.prototype.in=function(){var e=this.getCurNode();return e?((e.getType()==t.ASTNode.types.PREVIOUS||e.getType()==t.ASTNode.types.OUTPUT)&&(e=e.next()),(e=e.in())&&this.setCurNode(e),e):null},t.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},t.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()==t.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},t.registry.register(t.registry.Type.CURSOR,t.registry.DEFAULT,t.Cursor),t.MarkerManager=function(e){this.cursorSvg_=this.cursor_=null,this.markers_=Object.create(null),this.workspace_=e},t.MarkerManager.LOCAL_MARKER="local_marker_1",t.MarkerManager.prototype.registerMarker=function(e,n){this.markers_[e]&&this.unregisterMarker(e),n.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,n)),this.setMarkerSvg(n.getDrawer().createDom()),this.markers_[e]=n},t.MarkerManager.prototype.unregisterMarker=function(e){var n=this.markers_[e];if(!n)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");n.dispose(),delete this.markers_[e]},t.MarkerManager.prototype.getCursor=function(){return this.cursor_},t.MarkerManager.prototype.getMarker=function(e){return this.markers_[e]||null},t.MarkerManager.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},t.MarkerManager.prototype.setCursorSvg=function(e){e?(this.workspace_.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},t.MarkerManager.prototype.setMarkerSvg=function(e){e?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(e)):this.markerSvg_=null},t.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},t.MarkerManager.prototype.dispose=function(){for(var o,e=Object.keys(this.markers_),n=0;o=e[n];n++)this.unregisterMarker(o);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},t.WidgetDiv={},t.WidgetDiv.owner_=null,t.WidgetDiv.dispose_=null,t.WidgetDiv.rendererClassName_="",t.WidgetDiv.themeClassName_="",t.WidgetDiv.createDom=function(){t.WidgetDiv.DIV||(t.WidgetDiv.DIV=document.createElement("div"),t.WidgetDiv.DIV.className="blocklyWidgetDiv",(t.parentContainer||document.body).appendChild(t.WidgetDiv.DIV))},t.WidgetDiv.show=function(e,n,o){t.WidgetDiv.hide(),t.WidgetDiv.owner_=e,t.WidgetDiv.dispose_=o,(e=t.WidgetDiv.DIV).style.direction=n?"rtl":"ltr",e.style.display="block",n=t.getMainWorkspace(),t.WidgetDiv.rendererClassName_=n.getRenderer().getClassName(),t.WidgetDiv.themeClassName_=n.getTheme().getClassName(),t.utils.dom.addClass(e,t.WidgetDiv.rendererClassName_),t.utils.dom.addClass(e,t.WidgetDiv.themeClassName_)},t.WidgetDiv.hide=function(){if(t.WidgetDiv.isVisible()){t.WidgetDiv.owner_=null;var e=t.WidgetDiv.DIV;e.style.display="none",e.style.left="",e.style.top="",t.WidgetDiv.dispose_&&t.WidgetDiv.dispose_(),t.WidgetDiv.dispose_=null,e.textContent="",t.WidgetDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.rendererClassName_),t.WidgetDiv.rendererClassName_=""),t.WidgetDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.themeClassName_),t.WidgetDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.WidgetDiv.isVisible=function(){return!!t.WidgetDiv.owner_},t.WidgetDiv.hideIfOwner=function(e){t.WidgetDiv.owner_==e&&t.WidgetDiv.hide()},t.WidgetDiv.positionInternal_=function(e,n,o){t.WidgetDiv.DIV.style.left=e+"px",t.WidgetDiv.DIV.style.top=n+"px",t.WidgetDiv.DIV.style.height=o+"px"},t.WidgetDiv.positionWithAnchor=function(e,n,o,u){var b=t.WidgetDiv.calculateY_(e,n,o);e=t.WidgetDiv.calculateX_(e,n,o,u),0>b?t.WidgetDiv.positionInternal_(e,0,o.height+b):t.WidgetDiv.positionInternal_(e,b,o.height)},t.WidgetDiv.calculateX_=function(e,n,o,u){return u?(n=Math.max(n.right-o.width,e.left),Math.min(n,e.right-o.width)):(n=Math.min(n.left,e.right-o.width),Math.max(n,e.left))},t.WidgetDiv.calculateY_=function(e,n,o){return n.bottom+o.height>=e.bottom?n.top-o.height:n.bottom},t.Field=function(e,n,o){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new t.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,o&&this.configure_(o),this.setValue(e),n&&this.setValidator(n)},t.Field.prototype.DEFAULT_VALUE=null,t.Field.prototype.name=void 0,t.Field.prototype.disposed=!1,t.Field.prototype.maxDisplayLength=50,t.Field.prototype.sourceBlock_=null,t.Field.prototype.isDirty_=!0,t.Field.prototype.visible_=!0,t.Field.prototype.clickTarget_=null,t.Field.NBSP="\xa0",t.Field.prototype.EDITABLE=!0,t.Field.prototype.SERIALIZABLE=!1,t.Field.prototype.configure_=function(e){var n=e.tooltip;"string"==typeof n&&(n=t.utils.replaceMessageReferences(e.tooltip)),n&&this.setTooltip(n)},t.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=e},t.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},t.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},t.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},t.Field.prototype.initModel=function(){},t.Field.prototype.createBorderRect_=function(){this.borderRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},t.Field.prototype.createTextElement_=function(){this.textElement_=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},t.Field.prototype.bindEvents_=function(){t.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=t.browserEvents.conditionalBind(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},t.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},t.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},t.Field.prototype.dispose=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hideIfOwner(this),t.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&t.browserEvents.unbind(this.mouseDownWrapper_),t.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},t.Field.prototype.updateEditable=function(){var e=this.fieldGroup_;this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(t.utils.dom.addClass(e,"blocklyEditableText"),t.utils.dom.removeClass(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(t.utils.dom.addClass(e,"blocklyNonEditableText"),t.utils.dom.removeClass(e,"blocklyEditableText"),e.style.cursor=""))},t.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"==typeof this.showEditor_},t.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},t.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},t.Field.prototype.isVisible=function(){return this.visible_},t.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var n=this.getSvgRoot();n&&(n.style.display=e?"block":"none")}},t.Field.prototype.setValidator=function(e){this.validator_=e},t.Field.prototype.getValidator=function(){return this.validator_},t.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},t.Field.prototype.applyColour=function(){},t.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},t.Field.prototype.showEditor=function(e){this.isClickable()&&this.showEditor_(e)},t.Field.prototype.updateSize_=function(e){var n=this.getConstants(),o=2*(e=null!=e?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),u=n.FIELD_TEXT_HEIGHT,b=0;this.textElement_&&(o+=b=t.utils.dom.getFastTextWidth(this.textElement_,n.FIELD_TEXT_FONTSIZE,n.FIELD_TEXT_FONTWEIGHT,n.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(u=Math.max(u,n.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=u,this.size_.width=o,this.positionTextElement_(e,b),this.positionBorderRect_()},t.Field.prototype.positionTextElement_=function(e,n){if(this.textElement_){var o=this.getConstants(),u=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-n-e:e),this.textElement_.setAttribute("y",o.FIELD_TEXT_BASELINE_CENTER?u:u-o.FIELD_TEXT_HEIGHT/2+o.FIELD_TEXT_BASELINE)}},t.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},t.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new t.utils.Size(0,0)},t.Field.prototype.getScaledBBox=function(){if(this.borderRect_)e=this.borderRect_.getBoundingClientRect(),o=t.utils.style.getPageOffset(this.borderRect_),u=e.width,e=e.height;else{var e=this.sourceBlock_.getHeightWidth(),n=this.sourceBlock_.workspace.scale,o=this.getAbsoluteXY_(),u=e.width*n;e=e.height*n,t.utils.userAgent.GECKO?(o.x+=1.5*n,o.y+=1.5*n):t.utils.userAgent.EDGE||t.utils.userAgent.IE||(o.x-=.5*n,o.y-=.5*n),u+=1*n,e+=1*n}return new t.utils.Rect(o.y,o.y+e,o.x,o.x+u)},t.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"\u2026"),e=e.replace(/\s/g,t.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="\u200f"),e):t.Field.NBSP},t.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return String(e)}return String(this.getValue())},t.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},t.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},t.Field.prototype.setValue=function(e){if(null!==e){var n=this.doClassValidation_(e);if(!((e=this.processValidation_(e,n))instanceof Error)){if((n=this.getValidator())&&(n=n.call(this,e),(e=this.processValidation_(e,n))instanceof Error))return;if(!(n=this.sourceBlock_)||!n.disposed){var o=this.getValue();o===e?this.doValueUpdate_(e):(n&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(n,"field",this.name||null,o,e)),this.doValueUpdate_(e),this.isDirty_&&this.forceRerender())}}}},t.Field.prototype.processValidation_=function(e,n){return null===n?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==n&&(e=n),e)},t.Field.prototype.getValue=function(){return this.value_},t.Field.prototype.doClassValidation_=function(e){return null==e?null:e},t.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},t.Field.prototype.doValueInvalid_=function(e){},t.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},t.Field.prototype.setTooltip=function(e){e||""===e||(e=this.sourceBlock_);var n=this.getClickTarget_();n?n.tooltip=e:this.tooltip_=e},t.Field.prototype.getTooltip=function(){var e=this.getClickTarget_();return t.Tooltip.getTooltipOfObject(e||{tooltip:this.tooltip_})},t.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},t.Field.prototype.getAbsoluteXY_=function(){return t.utils.style.getPageOffset(this.getClickTarget_())},t.Field.prototype.referencesVariables=function(){return!1},t.Field.prototype.getParentInput=function(){for(var e=null,n=this.sourceBlock_,o=n.inputList,u=0;u<n.inputList.length;u++)for(var b=o[u],w=b.fieldRow,R=0;R<w.length;R++)if(w[R]===this){e=b;break}return e},t.Field.prototype.getFlipRtl=function(){return!1},t.Field.prototype.isTabNavigable=function(){return!1},t.Field.prototype.onShortcut=function(e){return!1},t.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},t.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},t.Field.prototype.updateMarkers_=function(){var e=this.sourceBlock_.workspace;e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.FieldLabel=function(e,n,o){this.class_=null,t.FieldLabel.superClass_.constructor.call(this,e,null,o),o||(this.class_=n||null)},t.utils.object.inherits(t.FieldLabel,t.Field),t.FieldLabel.prototype.DEFAULT_VALUE="",t.FieldLabel.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabel(n,void 0,e)},t.FieldLabel.prototype.EDITABLE=!1,t.FieldLabel.prototype.configure_=function(e){t.FieldLabel.superClass_.configure_.call(this,e),this.class_=e.class},t.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&t.utils.dom.addClass(this.textElement_,this.class_)},t.FieldLabel.prototype.doClassValidation_=function(e){return null==e?null:String(e)},t.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&t.utils.dom.removeClass(this.textElement_,this.class_),e&&t.utils.dom.addClass(this.textElement_,e)),this.class_=e},t.fieldRegistry.register("field_label",t.FieldLabel),t.Input=function(e,n,o,u){if(e!=t.inputTypes.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=e,this.name=n,this.sourceBlock_=o,this.connection=u,this.fieldRow=[]},t.Input.prototype.align=t.constants.ALIGN.LEFT,t.Input.prototype.visible_=!0,t.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Input.prototype.appendField=function(e,n){return this.insertFieldAt(this.fieldRow.length,e,n),this},t.Input.prototype.insertFieldAt=function(e,n,o){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(n||""==n&&o)&&("string"==typeof n&&(n=t.fieldRegistry.fromJson({type:"field_label",text:n})),n.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(n.init(),n.applyColour()),n.name=o,n.setVisible(this.isVisible()),n.prefixField&&(e=this.insertFieldAt(e,n.prefixField)),this.fieldRow.splice(e,0,n),++e,n.suffixField&&(e=this.insertFieldAt(e,n.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours())),e},t.Input.prototype.removeField=function(e,n){for(var u,o=0;u=this.fieldRow[o];o++)if(u.name===e)return u.dispose(),this.fieldRow.splice(o,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(n)return!1;throw Error('Field "'+e+'" not found.')},t.Input.prototype.isVisible=function(){return this.visible_},t.Input.prototype.setVisible=function(e){var n=[];if(this.visible_==e)return n;this.visible_=e;for(var u,o=0;u=this.fieldRow[o];o++)u.setVisible(e);return this.connection&&(this.connection=this.connection,e?n=this.connection.startTrackingAll():this.connection.stopTrackingAll(),o=this.connection.targetBlock())&&(o.getSvgRoot().style.display=e?"block":"none"),n},t.Input.prototype.markDirty=function(){for(var n,e=0;n=this.fieldRow[e];e++)n.markDirty()},t.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},t.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},t.Input.prototype.setShadowDom=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this},t.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},t.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},t.Input.prototype.dispose=function(){for(var n,e=0;n=this.fieldRow[e];e++)n.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},t.Block=function(e,n,o){if(t.Generator&&void 0!==t.Generator.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=o&&!e.getBlockById(o)?o:t.utils.genUid(),e.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new t.utils.Size(160,80)},this.xy_=new t.utils.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,n){if(this.type=n,!(o=t.Blocks[n])||"object"!=typeof o)throw TypeError("Unknown block type: "+n);t.utils.object.mixin(this,o)}e.addTopBlock(this),e.addTypedBlock(this),(e=t.Events.getGroup())||t.Events.setGroup(!0),n=t.Events.recordUndo;try{"function"==typeof this.init&&(t.Events.recordUndo=!1,this.init(),t.Events.recordUndo=n),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(this))}finally{e||t.Events.setGroup(!1),t.Events.recordUndo=n}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},t.Block.COLLAPSED_INPUT_NAME=t.constants.COLLAPSED_INPUT_NAME,t.Block.COLLAPSED_FIELD_NAME=t.constants.COLLAPSED_FIELD_NAME,t.Block.prototype.data=null,t.Block.prototype.disposed=!1,t.Block.prototype.hue_=null,t.Block.prototype.colour_="#000000",t.Block.prototype.styleName_="",t.Block.prototype.dispose=function(e){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_DELETE))(this)),t.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),t.selected==this&&(t.selected=null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);n=0;for(var o;o=this.inputList[n];n++)o.dispose();this.inputList.length=0;var b,u=this.getConnections_(!0);for(n=0;b=u[n];n++)b.dispose()}finally{t.Events.enable(),this.disposed=!0}}},t.Block.prototype.initModel=function(){for(var n,e=0;n=this.inputList[e];e++)for(var u,o=0;u=n.fieldRow[o];o++)u.initModel&&u.initModel()},t.Block.prototype.unplug=function(e){this.outputConnection?this.unplugFromRow_(e):this.previousConnection&&this.unplugFromStack_(e)},t.Block.prototype.unplugFromRow_=function(e){var n=null;this.outputConnection.isConnected()&&(n=this.outputConnection.targetConnection,this.outputConnection.disconnect()),n&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&((e=e.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(e,n,!1)?n.connect(e):e.onFailedConnect(n))},t.Block.prototype.getOnlyValueConnection_=function(){for(var e=null,n=0;n<this.inputList.length;n++){var o=this.inputList[n].connection;if(o&&o.type==t.connectionTypes.INPUT_VALUE&&o.targetConnection){if(e)return null;e=o}}return e},t.Block.prototype.unplugFromStack_=function(e){var n=null;this.previousConnection.isConnected()&&(n=this.previousConnection.targetConnection,this.previousConnection.disconnect());var o=this.getNextBlock();e&&o&&!o.isShadow()&&((e=this.nextConnection.targetConnection).disconnect(),n&&this.workspace.connectionChecker.canConnect(n,e,!1)&&n.connect(e))},t.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var o,n=0;o=this.inputList[n];n++)o.connection&&e.push(o.connection);return e},t.Block.prototype.lastConnectionInStack=function(e){for(var n=this.nextConnection;n;){var o=n.targetBlock();if(!o||e&&o.isShadow())return n;n=o.nextConnection}return null},t.Block.prototype.bumpNeighbours=function(){},t.Block.prototype.getParent=function(){return this.parentBlock_},t.Block.prototype.getInputWithBlock=function(e){for(var o,n=0;o=this.inputList[n];n++)if(o.connection&&o.connection.targetBlock()==e)return o;return null},t.Block.prototype.getSurroundParent=function(){var e=this;do{var n=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()==n);return e},t.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},t.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},t.Block.prototype.getFirstStatementConnection=function(){for(var n,e=0;n=this.inputList[e];e++)if(n.connection&&n.connection.type==t.connectionTypes.NEXT_STATEMENT)return n.connection;return null},t.Block.prototype.getRootBlock=function(){var e=this;do{var n=e;e=n.parentBlock_}while(e);return n},t.Block.prototype.getTopStackBlock=function(){var e=this;do{var n=e.getPreviousBlock()}while(n&&n.getNextBlock()==e&&(e=n));return e},t.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var o,n=0;o=this.inputList[n];n++)o.connection&&(o=o.connection.targetBlock())&&e.push(o);return(n=this.getNextBlock())&&e.push(n),e},t.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(t.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},t.Block.prototype.getDescendants=function(e){for(var u,n=[this],o=this.getChildren(e),b=0;u=o[b];b++)n.push.apply(n,u.getDescendants(e));return n},t.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setDeletable=function(e){this.deletable_=e},t.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setMovable=function(e){this.movable_=e},t.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(t.utils.getBlockTypeCounts(this,!0))},t.Block.prototype.isShadow=function(){return this.isShadow_},t.Block.prototype.setShadow=function(e){this.isShadow_=e},t.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},t.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},t.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var n;n=this.inputList[e];e++)for(var u,o=0;u=n.fieldRow[o];o++)u.updateEditable()},t.Block.prototype.isDisposed=function(){return this.disposed},t.Block.prototype.getMatchingConnection=function(e,n){var o=this.getConnections_(!0);if(e=e.getConnections_(!0),o.length!=e.length)throw Error("Connection lists did not match in length.");for(var u=0;u<e.length;u++)if(e[u]==n)return o[u];return null},t.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},t.Block.prototype.setTooltip=function(e){this.tooltip=e},t.Block.prototype.getTooltip=function(){return t.Tooltip.getTooltipOfObject(this)},t.Block.prototype.getColour=function(){return this.colour_},t.Block.prototype.getStyleName=function(){return this.styleName_},t.Block.prototype.getHue=function(){return this.hue_},t.Block.prototype.setColour=function(e){e=t.utils.parseBlockColour(e),this.hue_=e.hue,this.colour_=e.hex},t.Block.prototype.setStyle=function(e){this.styleName_=e},t.Block.prototype.setOnChange=function(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},t.Block.prototype.getField=function(e){if("string"!=typeof e)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(var o,n=0;o=this.inputList[n];n++)for(var b,u=0;b=o.fieldRow[u];u++)if(b.name===e)return b;return null},t.Block.prototype.getVars=function(){for(var o,e=[],n=0;o=this.inputList[n];n++)for(var b,u=0;b=o.fieldRow[u];u++)b.referencesVariables()&&e.push(b.getValue());return e},t.Block.prototype.getVarModels=function(){for(var o,e=[],n=0;o=this.inputList[n];n++)for(var b,u=0;b=o.fieldRow[u];u++)b.referencesVariables()&&(b=this.workspace.getVariableById(b.getValue()))&&e.push(b);return e},t.Block.prototype.updateVarName=function(e){for(var o,n=0;o=this.inputList[n];n++)for(var b,u=0;b=o.fieldRow[u];u++)b.referencesVariables()&&e.getId()==b.getValue()&&b.refreshVariableName()},t.Block.prototype.renameVarById=function(e,n){for(var u,o=0;u=this.inputList[o];o++)for(var w,b=0;w=u.fieldRow[b];b++)w.referencesVariables()&&e==w.getValue()&&w.setValue(n)},t.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},t.Block.prototype.setFieldValue=function(e,n){var o=this.getField(n);if(!o)throw Error('Field "'+n+'" not found.');o.setValue(e)},t.Block.prototype.setPreviousStatement=function(e,n){if(e){if(void 0===n&&(n=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(t.connectionTypes.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(n)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},t.Block.prototype.setNextStatement=function(e,n){if(e)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(t.connectionTypes.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},t.Block.prototype.setOutput=function(e,n){if(e){if(void 0===n&&(n=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(t.connectionTypes.OUTPUT_VALUE)}this.outputConnection.setCheck(n)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},t.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},t.Block.prototype.getInputsInline=function(){if(null!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.DUMMY&&this.inputList[e].type==t.inputTypes.DUMMY)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.VALUE&&this.inputList[e].type==t.inputTypes.DUMMY)return!0;return!1},t.Block.prototype.setOutputShape=function(e){this.outputShape_=e},t.Block.prototype.getOutputShape=function(){return this.outputShape_},t.Block.prototype.isEnabled=function(){return!this.disabled},t.Block.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"disabled",null,this.disabled,!e)),this.disabled=!e)},t.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},t.Block.prototype.isCollapsed=function(){return this.collapsed_},t.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},t.Block.prototype.toString=function(e,n){function o(Z){var K=Z.getCheck();return!K&&Z.targetConnection&&(K=Z.targetConnection.getCheck()),!!K&&(-1!=K.indexOf("Boolean")||-1!=K.indexOf("Number"))}function u(){R&&R.getType()==N.getType()&&R.getLocation()==N.getLocation()&&(R=null)}var b=[];n=n||"?";var w=t.ASTNode.NAVIGATE_ALL_FIELDS;t.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var R=t.ASTNode.createBlockNode(this),N=R;R;){switch(R.getType()){case t.ASTNode.types.INPUT:var W=R.getLocation();R.in()?o(W)&&b.push("("):b.push(n);break;case t.ASTNode.types.FIELD:(W=R.getLocation()).name!=t.constants.COLLAPSED_FIELD_NAME&&b.push(W.getText())}if(!(R=(W=R).in()||W.next())){for(R=W.out(),u();R&&!R.next();)R=R.out(),u(),R&&R.getType()==t.ASTNode.types.INPUT&&o(R.getLocation())&&b.push(")");R&&(R=R.next())}}for(t.ASTNode.NAVIGATE_ALL_FIELDS=w,n=2;n<b.length;n++)"("==b[n-2]&&")"==b[n]&&(b[n-2]=b[n-1],b.splice(n-1,2));return b=(b=b.reduce(function(Z,K){return Z+("("==Z.substr(-1)||")"==K?"":" ")+K},"")).trim()||"???",e&&b.length>e&&(b=b.substring(0,e-3)+"..."),b},t.Block.prototype.appendValueInput=function(e){return this.appendInput_(t.inputTypes.VALUE,e)},t.Block.prototype.appendStatementInput=function(e){return this.appendInput_(t.inputTypes.STATEMENT,e)},t.Block.prototype.appendDummyInput=function(e){return this.appendInput_(t.inputTypes.DUMMY,e||"")},t.Block.prototype.jsonInit=function(e){var n=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(n+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,n):this.jsonInitColour_(e,n);for(var o=0;void 0!==e["message"+o];)this.interpolate_(e["message"+o],e["args"+o]||[],e["lastDummyAlign"+o],n),o++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(o=t.utils.replaceMessageReferences(o=e.tooltip),this.setTooltip(o)),void 0!==e.enableContextMenu&&(this.contextMenu=!!(o=e.enableContextMenu)),void 0!==e.helpUrl&&(o=t.utils.replaceMessageReferences(o=e.helpUrl),this.setHelpUrl(o)),"string"==typeof e.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&t.Extensions.apply(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(n=0;n<e.length;++n)t.Extensions.apply(e[n],this,!1)},t.Block.prototype.jsonInitColour_=function(e,n){if("colour"in e)if(void 0===e.colour)console.warn(n+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(o){console.warn(n+"Illegal colour value: ",e)}}},t.Block.prototype.jsonInitStyle_=function(e,n){e=e.style;try{this.setStyle(e)}catch(o){console.warn(n+"Style does not exist: ",e)}},t.Block.prototype.mixin=function(e,n){if(void 0!==n&&"boolean"!=typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){for(var o in n=[],e)void 0!==this[o]&&n.push(o);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}t.utils.object.mixin(this,e)},t.Block.prototype.interpolate_=function(e,n,o,u){e=t.utils.tokenizeInterpolation(e),this.validateTokens_(e,n.length),n=this.interpolateArguments_(e,n,o),o=[],e=0;for(var b;b=n[e];e++)if(this.isInputKeyword_(b.type)){if(b=this.inputFromJson_(b,u)){for(var R,w=0;R=o[w];w++)b.appendField(R[0],R[1]);o.length=0}}else(w=this.fieldFromJson_(b))&&o.push([w,b.name])},t.Block.prototype.validateTokens_=function(e,n){for(var o=[],u=0,b=0;b<e.length;b++){var w=e[b];if("number"==typeof w){if(1>w||w>n)throw Error('Block "'+this.type+'": Message index %'+w+" out of range.");if(o[w])throw Error('Block "'+this.type+'": Message index %'+w+" duplicated.");o[w]=!0,u++}}if(u!=n)throw Error('Block "'+this.type+'": Message does not reference all '+n+" arg(s).")},t.Block.prototype.interpolateArguments_=function(e,n,o){for(var u=[],b=0;b<e.length;b++){var w=e[b];"number"==typeof w&&(w=n[w-1]),("string"!=typeof w||(w=this.stringToFieldJson_(w)))&&u.push(w)}return(e=u.length)&&!this.isInputKeyword_(u[e-1].type)&&(e={type:"input_dummy"},o&&(e.align=o),u.push(e)),u},t.Block.prototype.fieldFromJson_=function(e){var n=t.fieldRegistry.fromJson(e);return!n&&e.alt?"string"==typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):n},t.Block.prototype.inputFromJson_=function(e,n){var o={LEFT:t.constants.ALIGN.LEFT,RIGHT:t.constants.ALIGN.RIGHT,CENTRE:t.constants.ALIGN.CENTRE,CENTER:t.constants.ALIGN.CENTRE},u=null;switch(e.type){case"input_value":u=this.appendValueInput(e.name);break;case"input_statement":u=this.appendStatementInput(e.name);break;case"input_dummy":u=this.appendDummyInput(e.name)}return u?(e.check&&u.setCheck(e.check),e.align&&(void 0===(o=o[e.align.toUpperCase()])?console.warn(n+"Illegal align value: ",e.align):u.setAlign(o)),u):null},t.Block.prototype.isInputKeyword_=function(e){return"input_value"==e||"input_statement"==e||"input_dummy"==e},t.Block.prototype.stringToFieldJson_=function(e){return(e=e.trim())?{type:"field_label",text:e}:null},t.Block.prototype.appendInput_=function(e,n){var o=null;return(e==t.inputTypes.VALUE||e==t.inputTypes.STATEMENT)&&(o=this.makeConnection_(e)),e==t.inputTypes.STATEMENT&&this.statementInputCount++,e=new t.Input(e,n,this,o),this.inputList.push(e),e},t.Block.prototype.moveInputBefore=function(e,n){if(e!=n){for(var w,o=-1,u=n?-1:this.inputList.length,b=0;w=this.inputList[b];b++)if(w.name==e){if(o=b,-1!=u)break}else if(n&&w.name==n&&(u=b,-1!=o))break;if(-1==o)throw Error('Named input "'+e+'" not found.');if(-1==u)throw Error('Reference input "'+n+'" not found.');this.moveNumberedInputBefore(o,u)}},t.Block.prototype.moveNumberedInputBefore=function(e,n){if(e==n)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(n>this.inputList.length)throw RangeError("Reference input "+n+" out of bounds.");var o=this.inputList[e];this.inputList.splice(e,1),e<n&&n--,this.inputList.splice(n,0,o)},t.Block.prototype.removeInput=function(e,n){for(var u,o=0;u=this.inputList[o];o++)if(u.name==e)return u.type==t.inputTypes.STATEMENT&&this.statementInputCount--,u.dispose(),this.inputList.splice(o,1),!0;if(n)return!1;throw Error("Input not found: "+e)},t.Block.prototype.getInput=function(e){for(var o,n=0;o=this.inputList[n];n++)if(o.name==e)return o;return null},t.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},t.Block.prototype.getCommentText=function(){return this.commentModel.text},t.Block.prototype.setCommentText=function(e){this.commentModel.text!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},t.Block.prototype.setWarningText=function(e,n){},t.Block.prototype.setMutator=function(e){},t.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},t.Block.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var o=new(t.Events.get(t.Events.BLOCK_MOVE))(this);this.xy_.translate(e,n),o.recordNew(),t.Events.fire(o)},t.Block.prototype.makeConnection_=function(e){return new t.Connection(this,e)},t.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var o,n=0;o=this.inputList[n];n++)if(o.connection&&(!(o=o.connection.targetBlock())||!o.allInputsFilled(e)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(e)},t.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e},t.blockRendering.IPathObject=function(e,n){},t.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},t.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},t.Menu.prototype.addChild=function(e){this.menuItems_.push(e)},t.Menu.prototype.render=function(e){var n=document.createElement("div");n.className="blocklyMenu goog-menu blocklyNonSelectable",n.tabIndex=0,this.roleName_&&t.utils.aria.setRole(n,this.roleName_),this.element_=n;for(var u,o=0;u=this.menuItems_[o];o++)n.appendChild(u.createDom());this.mouseOverHandler_=t.browserEvents.conditionalBind(n,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=t.browserEvents.conditionalBind(n,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=t.browserEvents.conditionalBind(n,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=t.browserEvents.conditionalBind(n,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=t.browserEvents.conditionalBind(n,"keydown",this,this.handleKeyEvent_),e.appendChild(n)},t.Menu.prototype.getElement=function(){return this.element_},t.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus({preventScroll:!0}),t.utils.dom.addClass(e,"blocklyFocused"))},t.Menu.prototype.blur_=function(){var e=this.getElement();e&&(e.blur(),t.utils.dom.removeClass(e,"blocklyFocused"))},t.Menu.prototype.setRole=function(e){this.roleName_=e},t.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(t.browserEvents.unbind(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(t.browserEvents.unbind(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(t.browserEvents.unbind(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(t.browserEvents.unbind(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(t.browserEvents.unbind(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var n,e=0;n=this.menuItems_[e];e++)n.dispose();this.element_=null},t.Menu.prototype.getMenuItem_=function(e){for(var n=this.getElement();e&&e!=n;){if(t.utils.dom.hasClass(e,"blocklyMenuItem"))for(var u,o=0;u=this.menuItems_[o];o++)if(u.getElement()==e)return u;e=e.parentElement}return null},t.Menu.prototype.setHighlighted=function(e){var n=this.highlightedItem_;n&&(n.setHighlighted(!1),this.highlightedItem_=null),e&&(e.setHighlighted(!0),this.highlightedItem_=e,n=this.getElement(),t.utils.style.scrollIntoContainerView(e.getElement(),n),t.utils.aria.setState(n,t.utils.aria.State.ACTIVEDESCENDANT,e.getId()))},t.Menu.prototype.highlightNext=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(e,1)},t.Menu.prototype.highlightPrevious=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>e?this.menuItems_.length:e,-1)},t.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},t.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},t.Menu.prototype.highlightHelper_=function(e,n){e+=n;for(var o;o=this.menuItems_[e];){if(o.isEnabled()){this.setHighlighted(o);break}e+=n}},t.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem_(e.target))&&(e.isEnabled()?this.highlightedItem_!=e&&this.setHighlighted(e):this.setHighlighted(null))},t.Menu.prototype.handleClick_=function(e){var n=this.openingCoords;if(this.openingCoords=null,n&&"number"==typeof e.clientX){var o=new t.utils.Coordinate(e.clientX,e.clientY);if(1>t.utils.Coordinate.distance(n,o))return}(e=this.getMenuItem_(e.target))&&e.performAction()},t.Menu.prototype.handleMouseEnter_=function(e){this.focus()},t.Menu.prototype.handleMouseLeave_=function(e){this.getElement()&&(this.blur_(),this.setHighlighted(null))},t.Menu.prototype.handleKeyEvent_=function(e){if(this.menuItems_.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var n=this.highlightedItem_;switch(e.keyCode){case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:n&&n.performAction();break;case t.utils.KeyCodes.UP:this.highlightPrevious();break;case t.utils.KeyCodes.DOWN:this.highlightNext();break;case t.utils.KeyCodes.PAGE_UP:case t.utils.KeyCodes.HOME:this.highlightFirst_();break;case t.utils.KeyCodes.PAGE_DOWN:case t.utils.KeyCodes.END:this.highlightLast_();break;default:return}e.preventDefault(),e.stopPropagation()}},t.Menu.prototype.getSize=function(){var e=this.getElement(),n=t.utils.style.getSize(e);return n.height=e.scrollHeight,n},t.MenuItem=function(e,n){this.content_=e,this.value_=n,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},t.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=t.utils.IdGenerator.getNextUniqueId(),this.element_=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var n=document.createElement("div");if(n.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var o=document.createElement("div");o.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",n.appendChild(o)}return o=this.content_,"string"==typeof this.content_&&(o=document.createTextNode(this.content_)),n.appendChild(o),e.appendChild(n),this.roleName_&&t.utils.aria.setRole(e,this.roleName_),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),t.utils.aria.setState(e,t.utils.aria.State.DISABLED,!this.enabled_),e},t.MenuItem.prototype.dispose=function(){this.element_=null},t.MenuItem.prototype.getElement=function(){return this.element_},t.MenuItem.prototype.getId=function(){return this.element_.id},t.MenuItem.prototype.getValue=function(){return this.value_},t.MenuItem.prototype.setRightToLeft=function(e){this.rightToLeft_=e},t.MenuItem.prototype.setRole=function(e){this.roleName_=e},t.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},t.MenuItem.prototype.setChecked=function(e){this.checked_=e},t.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var n=this.getElement();n&&this.isEnabled()&&(e?(t.utils.dom.addClass(n,"blocklyMenuItemHighlight"),t.utils.dom.addClass(n,"goog-menuitem-highlight")):(t.utils.dom.removeClass(n,"blocklyMenuItemHighlight"),t.utils.dom.removeClass(n,"goog-menuitem-highlight")))},t.MenuItem.prototype.isEnabled=function(){return this.enabled_},t.MenuItem.prototype.setEnabled=function(e){this.enabled_=e},t.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},t.MenuItem.prototype.onAction=function(e,n){this.actionHandler_=e.bind(n)},t.ContextMenu={},t.ContextMenu.currentBlock=null,t.ContextMenu.menu_=null,t.ContextMenu.show=function(e,n,o){if(t.WidgetDiv.show(t.ContextMenu,o,t.ContextMenu.dispose),n.length){var u=t.ContextMenu.populate_(n,o);t.ContextMenu.menu_=u,t.ContextMenu.position_(u,e,o),setTimeout(function(){u.focus()},1),t.ContextMenu.currentBlock=null}else t.ContextMenu.hide()},t.ContextMenu.populate_=function(e,n){var o=new t.Menu;o.setRole(t.utils.aria.Role.MENU);for(var b,u=0;b=e[u];u++){var w=new t.MenuItem(b.text);w.setRightToLeft(n),w.setRole(t.utils.aria.Role.MENUITEM),o.addChild(w),w.setEnabled(b.enabled),b.enabled&&w.onAction(function(R){t.ContextMenu.hide(),this.callback(this.scope)},b)}return o},t.ContextMenu.position_=function(e,n,o){var u=t.utils.getViewportBBox();n=new t.utils.Rect(n.clientY+u.top,n.clientY+u.top,n.clientX+u.left,n.clientX+u.left),t.ContextMenu.createWidget_(e);var b=e.getSize();o&&(n.left+=b.width,n.right+=b.width,u.left+=b.width,u.right+=b.width),t.WidgetDiv.positionWithAnchor(u,n,b,o),e.focus()},t.ContextMenu.createWidget_=function(e){e.render(t.WidgetDiv.DIV);var n=e.getElement();t.utils.dom.addClass(n,"blocklyContextMenu"),t.browserEvents.conditionalBind(n,"contextmenu",null,t.utils.noEvent),e.focus()},t.ContextMenu.hide=function(){t.WidgetDiv.hideIfOwner(t.ContextMenu),t.ContextMenu.currentBlock=null},t.ContextMenu.dispose=function(){t.ContextMenu.menu_&&(t.ContextMenu.menu_.dispose(),t.ContextMenu.menu_=null)},t.ContextMenu.callbackFactory=function(e,n){return function(){t.Events.disable();try{var o=t.Xml.domToBlock(n,e.workspace),u=e.getRelativeToSurfaceXY();u.x=e.RTL?u.x-t.SNAP_RADIUS:u.x+t.SNAP_RADIUS,u.y+=2*t.SNAP_RADIUS,o.moveBy(u.x,u.y)}finally{t.Events.enable()}t.Events.isEnabled()&&!o.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(o)),o.select()}},t.ContextMenu.commentDeleteOption=function(e){return{text:t.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.commentDuplicateOption=function(e){return{text:t.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){t.duplicate(e)}}},t.ContextMenu.workspaceCommentOption=function(e,n){if(!t.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var o={enabled:!t.utils.userAgent.IE};return o.text=t.Msg.ADD_COMMENT,o.callback=function(){var u=new t.WorkspaceCommentSvg(e,t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,t.WorkspaceCommentSvg.DEFAULT_SIZE,t.WorkspaceCommentSvg.DEFAULT_SIZE),b=e.getInjectionDiv().getBoundingClientRect();b=new t.utils.Coordinate(n.clientX-b.left,n.clientY-b.top);var w=e.getOriginOffsetInPixels();(b=t.utils.Coordinate.difference(b,w)).scale(1/e.scale),u.moveBy(b.x,b.y),e.rendered&&(u.initSvg(),u.render(),u.select())},o},t.ContextMenuRegistry=function(){t.ContextMenuRegistry.registry=this,this.registry_=Object.create(null)},t.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},t.ContextMenuRegistry.registry=null,t.ContextMenuRegistry.prototype.register=function(e){if(this.registry_[e.id])throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_[e.id]=e},t.ContextMenuRegistry.prototype.unregister=function(e){if(!this.registry_[e])throw Error('Menu item with ID "'+e+'" not found.');delete this.registry_[e]},t.ContextMenuRegistry.prototype.getItem=function(e){return this.registry_[e]||null},t.ContextMenuRegistry.prototype.getContextMenuOptions=function(e,n){var o=[],u=this.registry_;return Object.keys(u).forEach(function(b){if(e==(b=u[b]).scopeType){var w=b.preconditionFn(n);"hidden"!=w&&(b={text:"function"==typeof b.displayText?b.displayText(n):b.displayText,enabled:"enabled"==w,callback:b.callback,scope:n,weight:b.weight},o.push(b))}}),o.sort(function(b,w){return b.weight-w.weight}),o},new t.ContextMenuRegistry,t.Events.Selected=function(e,n,o){t.Events.Selected.superClass_.constructor.call(this,o),this.oldElementId=e,this.newElementId=n},t.utils.object.inherits(t.Events.Selected,t.Events.UiBase),t.Events.Selected.prototype.type=t.Events.SELECTED,t.Events.Selected.prototype.toJson=function(){var e=t.Events.Selected.superClass_.toJson.call(this);return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e},t.Events.Selected.prototype.fromJson=function(e){t.Events.Selected.superClass_.fromJson.call(this,e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId},t.registry.register(t.registry.Type.EVENT,t.Events.SELECTED,t.Events.Selected),t.IBoundedElement=function(){},t.ICopyable=function(){},t.RenderedConnection=function(e,n){t.RenderedConnection.superClass_.constructor.call(this,e,n),this.db_=e.workspace.connectionDBList[n],this.dbOpposite_=e.workspace.connectionDBList[t.OPPOSITE_TYPE[n]],this.offsetInBlock_=new t.utils.Coordinate(0,0),this.trackedState_=t.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},t.utils.object.inherits(t.RenderedConnection,t.Connection),t.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},t.RenderedConnection.prototype.dispose=function(){t.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},t.RenderedConnection.prototype.getSourceBlock=function(){return t.RenderedConnection.superClass_.getSourceBlock.call(this)},t.RenderedConnection.prototype.targetBlock=function(){return t.RenderedConnection.superClass_.targetBlock.call(this)},t.RenderedConnection.prototype.distanceFrom=function(e){var n=this.x-e.x;return e=this.y-e.y,Math.sqrt(n*n+e*e)},t.RenderedConnection.prototype.bumpAwayFrom=function(e){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var o=!1;if(!n.isMovable()){if(!(n=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,o=!0}var u=t.selected==n;u||n.addSelect();var b=e.x+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x,w=e.y+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.y;o&&(w=-w),n.RTL&&(b=e.x-t.SNAP_RADIUS-Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x),n.moveBy(b,w),u||n.removeSelect()}}},t.RenderedConnection.prototype.moveTo=function(e,n){this.trackedState_==t.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,n),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,n)),this.x=e,this.y=n},t.RenderedConnection.prototype.moveBy=function(e,n){this.moveTo(this.x+e,this.y+n)},t.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},t.RenderedConnection.prototype.setOffsetInBlock=function(e,n){this.offsetInBlock_.x=e,this.offsetInBlock_.y=n},t.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},t.RenderedConnection.prototype.tighten=function(){var e=this.targetConnection.x-this.x,n=this.targetConnection.y-this.y;if(0!=e||0!=n){var o=this.targetBlock(),u=o.getSvgRoot();if(!u)throw Error("block is not rendered.");u=t.utils.getRelativeXY(u),o.getSvgRoot().setAttribute("transform","translate("+(u.x-e)+","+(u.y-n)+")"),o.moveConnections(-e,-n)}},t.RenderedConnection.prototype.closest=function(e,n){return this.dbOpposite_.searchForClosest(this,e,n)},t.RenderedConnection.prototype.highlight=function(){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),n=e.shapeFor(this);n=this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.OUTPUT_VALUE?t.utils.svgPaths.moveBy(0,-(e=e.TAB_OFFSET_FROM_TOP))+t.utils.svgPaths.lineOnAxis("v",e)+n.pathDown+t.utils.svgPaths.lineOnAxis("v",e):t.utils.svgPaths.moveBy(-(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS),0)+t.utils.svgPaths.lineOnAxis("h",e)+n.pathLeft+t.utils.svgPaths.lineOnAxis("h",e),e=this.sourceBlock_.getRelativeToSurfaceXY(),t.Connection.highlightedPath_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:n,transform:"translate("+(this.x-e.x)+","+(this.y-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},t.RenderedConnection.prototype.unhighlight=function(){t.utils.dom.removeNode(t.Connection.highlightedPath_),delete t.Connection.highlightedPath_},t.RenderedConnection.prototype.setTracking=function(e){e&&this.trackedState_==t.RenderedConnection.TrackedState.TRACKED||!e&&this.trackedState_==t.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.UNTRACKED))},t.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),n=0;n<e.length;n++){for(var o=e[n],u=o.getConnections_(!0),b=0;b<u.length;b++)u[b].setTracking(!1);for(o=o.getIcons(),b=0;b<o.length;b++)o[b].setVisible(!1)}},t.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var e=[];if(this.type!=t.connectionTypes.INPUT_VALUE&&this.type!=t.connectionTypes.NEXT_STATEMENT)return e;var n=this.targetBlock();if(n){if(n.isCollapsed()){var o=[];n.outputConnection&&o.push(n.outputConnection),n.nextConnection&&o.push(n.nextConnection),n.previousConnection&&o.push(n.previousConnection)}else o=n.getConnections_(!0);for(var u=0;u<o.length;u++)e.push.apply(e,o[u].startTrackingAll());e.length||(e[0]=n)}return e},t.RenderedConnection.prototype.isConnectionAllowed=function(e,n){return t.utils.deprecation.warn("RenderedConnection.prototype.isConnectionAllowed","July 2020","July 2021","Blockly.Workspace.prototype.getConnectionChecker().canConnect"),!(this.distanceFrom(e)>n)&&t.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},t.RenderedConnection.prototype.onFailedConnect=function(e){var n=this.getSourceBlock();if(t.Events.recordUndo){var o=t.Events.getGroup();setTimeout(function(){n.isDisposed()||n.getParent()||(t.Events.setGroup(o),this.bumpAwayFrom(e),t.Events.setGroup(!1))}.bind(this),t.BUMP_DELAY)}},t.RenderedConnection.prototype.disconnectInternal_=function(e,n){t.RenderedConnection.superClass_.disconnectInternal_.call(this,e,n),e.rendered&&e.render(),n.rendered&&(n.updateDisabled(),n.render(),n.getSvgRoot().style.display="block")},t.RenderedConnection.prototype.respawnShadow_=function(){t.RenderedConnection.superClass_.respawnShadow_.call(this);var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),(e=this.getSourceBlock()).rendered&&e.render())},t.RenderedConnection.prototype.neighbours=function(e){return this.dbOpposite_.getNeighbours(this,e)},t.RenderedConnection.prototype.connect_=function(e){t.RenderedConnection.superClass_.connect_.call(this,e);var n=this.getSourceBlock();e=e.getSourceBlock();var o=n.rendered,u=e.rendered;o&&n.updateDisabled(),u&&e.updateDisabled(),o&&u&&(this.type==t.connectionTypes.NEXT_STATEMENT||this.type==t.connectionTypes.PREVIOUS_STATEMENT?e.render():n.render()),(n=n.getInputWithBlock(e))&&(n=n.isVisible(),e.getSvgRoot().style.display=n?"block":"none")},t.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},t.BasicCursor=function(){t.BasicCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.BasicCursor,t.Cursor),t.BasicCursor.registrationName="basicCursor",t.BasicCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null},t.BasicCursor.prototype.in=function(){return this.next()},t.BasicCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null},t.BasicCursor.prototype.out=function(){return this.prev()},t.BasicCursor.prototype.getNextNode_=function(e,n){if(!e)return null;var o=e.in()||e.next();return n(o)?o:o?this.getNextNode_(o,n):n(e=this.findSiblingOrParent_(e.out()))?e:e?this.getNextNode_(e,n):null},t.BasicCursor.prototype.getPreviousNode_=function(e,n){if(!e)return null;var o=e.prev();return n(o=o?this.getRightMostChild_(o):e.out())?o:o?this.getPreviousNode_(o,n):null},t.BasicCursor.prototype.validNode_=function(e){var n=!1;return((e=e&&e.getType())==t.ASTNode.types.OUTPUT||e==t.ASTNode.types.INPUT||e==t.ASTNode.types.FIELD||e==t.ASTNode.types.NEXT||e==t.ASTNode.types.PREVIOUS||e==t.ASTNode.types.WORKSPACE)&&(n=!0),n},t.BasicCursor.prototype.findSiblingOrParent_=function(e){return e?e.next()||this.findSiblingOrParent_(e.out()):null},t.BasicCursor.prototype.getRightMostChild_=function(e){if(!e.in())return e;for(e=e.in();e.next();)e=e.next();return this.getRightMostChild_(e)},t.registry.register(t.registry.Type.CURSOR,t.BasicCursor.registrationName,t.BasicCursor),t.TabNavigateCursor=function(){t.TabNavigateCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.TabNavigateCursor,t.BasicCursor),t.TabNavigateCursor.prototype.validNode_=function(e){var n=!1,o=e&&e.getType();return e&&(e=e.getLocation(),o==t.ASTNode.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(n=!0)),n},t.BlockSvg=function(e,n,o){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=t.utils.is3dSupported()&&!!e.getBlockDragSurface();var u=this.pathObject.svgPath;u.tooltip=this,t.Tooltip.bindMouseEvents(u),t.BlockSvg.superClass_.constructor.call(this,e,n,o),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:t.utils.userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id)},t.utils.object.inherits(t.BlockSvg,t.Block),t.BlockSvg.prototype.height=0,t.BlockSvg.prototype.width=0,t.BlockSvg.prototype.warningTextDb_=null,t.BlockSvg.INLINE=-1,t.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",t.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var n,e=0;n=this.inputList[e];e++)n.init();for(n=this.getIcons(),e=0;e<n.length;e++)n[e].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||t.browserEvents.conditionalBind(e,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)},t.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},t.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},t.BlockSvg.prototype.getColourShadow=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourShadow","January 2020","January 2021","style.colourSecondary"),this.getColourSecondary()},t.BlockSvg.prototype.getColourBorder=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourBorder","January 2020","January 2021","style.colourTertiary"),{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},t.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(t.selected!=this){var e=null;if(t.selected){e=t.selected.id,t.Events.disable();try{t.selected.unselect()}finally{t.Events.enable()}}e=new(t.Events.get(t.Events.SELECTED))(e,this.id,this.workspace.id),t.Events.fire(e),t.selected=this,this.addSelect()}},t.BlockSvg.prototype.unselect=function(){if(t.selected==this){var e=new(t.Events.get(t.Events.SELECTED))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,t.Events.fire(e),t.selected=null,this.removeSelect()}},t.BlockSvg.prototype.mutator=null,t.BlockSvg.prototype.comment=null,t.BlockSvg.prototype.commentIcon_=null,t.BlockSvg.prototype.warning=null,t.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},t.BlockSvg.prototype.setParent=function(e){var n=this.parentBlock_;if(e!=n){t.utils.dom.startTextWidthCache(),t.BlockSvg.superClass_.setParent.call(this,e),t.utils.dom.stopTextWidthCache();var o=this.getSvgRoot();if(!this.workspace.isClearing&&o){var u=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(o),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-u.x,e.y-u.y)):n&&(this.workspace.getCanvas().appendChild(o),this.translate(u.x,u.y)),this.applyColour()}}},t.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,n=0,o=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,u=this.getSvgRoot();if(u)do{var b=t.utils.getRelativeXY(u);e+=b.x,n+=b.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==u&&(e+=(b=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,n+=b.y),u=u.parentNode}while(u&&u!=this.workspace.getCanvas()&&u!=o);return new t.utils.Coordinate(e,n)},t.BlockSvg.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var o=t.Events.isEnabled();if(o)var u=new(t.Events.get(t.Events.BLOCK_MOVE))(this);var b=this.getRelativeToSurfaceXY();this.translate(b.x+e,b.y+n),this.moveConnections(e,n),o&&(u.recordNew(),t.Events.fire(u)),this.workspace.resizeContents()},t.BlockSvg.prototype.translate=function(e,n){this.getSvgRoot().setAttribute("transform","translate("+e+","+n+")")},t.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}},t.BlockSvg.prototype.moveTo=function(e){var n=this.getRelativeToSurfaceXY();this.moveBy(e.x-n.x,e.y-n.y)},t.BlockSvg.prototype.moveOffDragSurface=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},t.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},t.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},t.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var n=e.getSpacing(),o=n/2,u=this.getRelativeToSurfaceXY();e=Math.round((u.x-o)/n)*n+o-u.x,n=Math.round((u.y-o)/n)*n+o-u.y,e=Math.round(e),n=Math.round(n),0==e&&0==n||this.moveBy(e,n)}}},t.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(),n=this.getHeightWidth();if(this.RTL)var o=e.x-n.width,u=e.x;else o=e.x,u=e.x+n.width;return new t.utils.Rect(e.y,e.y+n.height,o,u)},t.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var n,e=0;n=this.inputList[e];e++)n.markDirty()},t.BlockSvg.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.BlockSvg.superClass_.setCollapsed.call(this,e),e?this.rendered&&this.render():this.updateCollapsed_())},t.BlockSvg.prototype.updateCollapsed_=function(){for(var b,e=this.isCollapsed(),n=t.constants.COLLAPSED_INPUT_NAME,o=t.constants.COLLAPSED_FIELD_NAME,u=0;b=this.inputList[u];u++)b.name!=n&&b.setVisible(!e);if(e){for(b=this.getIcons(),u=0;e=b[u];u++)e.setVisible(!1);u=this.toString(t.COLLAPSE_CHARS),(b=this.getField(o))?b.setValue(u):(b=this.getInput(n)||this.appendDummyInput(n)).appendField(new t.FieldLabel(u),o)}else this.updateDisabled(),this.removeInput(n)},t.BlockSvg.prototype.tab=function(e,n){var o=new t.TabNavigateCursor;o.setCurNode(t.ASTNode.createFieldNode(e)),e=o.getCurNode(),n?o.next():o.prev(),(n=o.getCurNode())&&n!==e&&(n.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(n))},t.BlockSvg.prototype.onMouseDown_=function(e){var n=this.workspace&&this.workspace.getGesture(e);n&&n.handleBlockStart(e,this)},t.BlockSvg.prototype.showHelp=function(){var e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},t.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e},t.BlockSvg.prototype.showContextMenu=function(e){var n=this.generateContextMenu();n&&n.length&&(t.ContextMenu.show(e,n,this.RTL),t.ContextMenu.currentBlock=this)},t.BlockSvg.prototype.moveConnections=function(e,n){if(this.rendered){for(var o=this.getConnections_(!1),u=0;u<o.length;u++)o[u].moveBy(e,n);for(o=this.getIcons(),u=0;u<o.length;u++)o[u].computeIconLocation();for(u=0;u<this.childBlocks_.length;u++)this.childBlocks_[u].moveConnections(e,n)}},t.BlockSvg.prototype.setDragging=function(e){if(e){var n=this.getSvgRoot();n.translate_="",n.skew_="",t.draggingConnections=t.draggingConnections.concat(this.getConnections_(!0)),t.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else t.draggingConnections=[],t.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].setDragging(e)},t.BlockSvg.prototype.setMovable=function(e){t.BlockSvg.superClass_.setMovable.call(this,e),this.pathObject.updateMovable(e)},t.BlockSvg.prototype.setEditable=function(e){t.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var n=0;n<e.length;n++)e[n].updateEditable()},t.BlockSvg.prototype.setShadow=function(e){t.BlockSvg.superClass_.setShadow.call(this,e),this.applyColour()},t.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},t.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.BlockSvg.prototype.dispose=function(e,n){if(this.workspace){t.Tooltip.dispose(),t.Tooltip.unbindMouseEvents(this.pathObject.svgPath),t.utils.dom.startTextWidthCache();var o=this.workspace;if(t.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),t.ContextMenu.currentBlock==this&&t.ContextMenu.hide(),n&&this.rendered&&(this.unplug(e),t.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var u in this.warningTextDb_)clearTimeout(this.warningTextDb_[u]);this.warningTextDb_=null}for(n=this.getIcons(),u=0;u<n.length;u++)n[u].dispose();t.BlockSvg.superClass_.dispose.call(this,!!e),t.utils.dom.removeNode(this.svgGroup_),o.resizeContents(),this.svgGroup_=null,t.utils.dom.stopTextWidthCache()}},t.BlockSvg.prototype.toCopyData=function(){if(this.isInsertionMarker_)return null;var e=t.Xml.blockToDom(this,!0);t.Xml.deleteNext(e);var n=this.getRelativeToSurfaceXY();return e.setAttribute("x",this.RTL?-n.x:n.x),e.setAttribute("y",n.y),{xml:e,source:this.workspace,typeCounts:t.utils.getBlockTypeCounts(this,!0)}},t.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),n=0;n<e.length;n++)e[n].applyColour();for(e=0;n=this.inputList[e];e++)for(var u,o=0;u=n.fieldRow[o];o++)u.applyColour()},t.BlockSvg.prototype.updateDisabled=function(){var e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var o,n=0;o=e[n];n++)o.rendered&&o.updateDisabled()},t.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},t.BlockSvg.prototype.setCommentText=function(e){if(!t.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=e&&(t.BlockSvg.superClass_.setCommentText.call(this,e),!!this.commentIcon_==(e=null!=e)?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new t.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},t.BlockSvg.prototype.setWarningText=function(e,n){if(!t.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var o=n||"";if(o)this.warningTextDb_[o]&&(clearTimeout(this.warningTextDb_[o]),delete this.warningTextDb_[o]);else for(var u in this.warningTextDb_)clearTimeout(this.warningTextDb_[u]),delete this.warningTextDb_[u];if(this.workspace.isDragging()){var b=this;this.warningTextDb_[o]=setTimeout(function(){b.workspace&&(delete b.warningTextDb_[o],b.setWarningText(e,o))},100)}else{if(this.isInFlyout&&(e=null),n=!1,"string"==typeof e){u=this.getSurroundParent();for(var w=null;u;)u.isCollapsed()&&(w=u),u=u.getSurroundParent();w&&w.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new t.Warning(this),n=!0),this.warning.setText(e,o)}else this.warning&&!o?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",o),(u=this.warning.getText())||this.warning.dispose(),n=n!=u);n&&this.rendered&&(this.render(),this.bumpNeighbours())}},t.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},t.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&this.pathObject.updateHighlighted(e)},t.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},t.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},t.BlockSvg.prototype.setDeleteStyle=function(e){this.pathObject.updateDraggingDelete(e)},t.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},t.BlockSvg.prototype.setColour=function(e){t.BlockSvg.superClass_.setColour.call(this,e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()},t.BlockSvg.prototype.setStyle=function(e){var n=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!n)throw Error("Invalid style name: "+e);this.hat=n.hat,this.pathObject.setStyle(n),this.colour_=n.colourPrimary,this.style=n,this.applyColour()},t.BlockSvg.prototype.bringToFront=function(){var e=this;do{var n=e.getSvgRoot(),o=n.parentNode,u=o.childNodes;u[u.length-1]!==n&&o.appendChild(n),e=e.getParent()}while(e)},t.BlockSvg.prototype.setPreviousStatement=function(e,n){t.BlockSvg.superClass_.setPreviousStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setNextStatement=function(e,n){t.BlockSvg.superClass_.setNextStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setOutput=function(e,n){t.BlockSvg.superClass_.setOutput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setInputsInline=function(e){t.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.removeInput=function(e,n){return e=t.BlockSvg.superClass_.removeInput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.moveNumberedInputBefore=function(e,n){t.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.appendInput_=function(e,n){return e=t.BlockSvg.superClass_.appendInput_.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.setConnectionTracking=function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var n=this.nextConnection.targetBlock();n&&n.setConnectionTracking(e)}if(!this.collapsed_)for(n=0;n<this.inputList.length;n++){var o=this.inputList[n].connection;o&&(o.setTracking(e),(o=o.targetBlock())&&o.setConnectionTracking(e))}},t.BlockSvg.prototype.getConnections_=function(e){var n=[];if((e||this.rendered)&&(this.outputConnection&&n.push(this.outputConnection),this.previousConnection&&n.push(this.previousConnection),this.nextConnection&&n.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var o;o=this.inputList[e];e++)o.connection&&n.push(o.connection)}return n},t.BlockSvg.prototype.lastConnectionInStack=function(e){return t.BlockSvg.superClass_.lastConnectionInStack.call(this,e)},t.BlockSvg.prototype.getMatchingConnection=function(e,n){return t.BlockSvg.superClass_.getMatchingConnection.call(this,e,n)},t.BlockSvg.prototype.makeConnection_=function(e){return new t.RenderedConnection(this,e)},t.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var e=this.getRootBlock();if(!e.isInFlyout)for(var u,n=this.getConnections_(!1),o=0;u=n[o];o++){u.isConnected()&&u.isSuperior()&&u.targetBlock().bumpNeighbours();for(var R,b=u.neighbours(t.SNAP_RADIUS),w=0;R=b[w];w++)u.isConnected()&&R.isConnected()||R.getSourceBlock().getRootBlock()!=e&&(u.isSuperior()?R.bumpAwayFrom(u):u.bumpAwayFrom(R))}}},t.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,n=t.Events.getGroup();setTimeout(function(){t.Events.setGroup(n),e.snapToGrid(),t.Events.setGroup(!1)},t.BUMP_DELAY/2),setTimeout(function(){t.Events.setGroup(n),e.bumpNeighbours(),t.Events.setGroup(!1)},t.BUMP_DELAY)},t.BlockSvg.prototype.positionNearConnection=function(e,n){e.type!=t.connectionTypes.NEXT_STATEMENT&&e.type!=t.connectionTypes.INPUT_VALUE||this.moveBy(n.x-e.x,n.y-e.y)},t.BlockSvg.prototype.getParent=function(){return t.BlockSvg.superClass_.getParent.call(this)},t.BlockSvg.prototype.getRootBlock=function(){return t.BlockSvg.superClass_.getRootBlock.call(this)},t.BlockSvg.prototype.render=function(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,t.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){var n=this.getParent();n?n.render(!0):this.workspace.resizeContents()}t.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},t.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var n=0;n<this.inputList.length;n++){var o=this.inputList[n].connection;o&&(o.moveToOffset(e),o.isConnected()&&o.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())},t.BlockSvg.prototype.setCursorSvg=function(e){this.pathObject.setCursorSvg(e)},t.BlockSvg.prototype.setMarkerSvg=function(e){this.pathObject.setMarkerSvg(e)},t.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,n=this.width,o=this.getNextBlock();if(o){o=o.getHeightWidth();var u=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=o.height-u,n=Math.max(n,o.width)}return{height:e,width:n}},t.BlockSvg.prototype.fadeForReplacement=function(e){this.pathObject.updateReplacementFade(e)},t.BlockSvg.prototype.highlightShapeForInput=function(e,n){this.pathObject.updateShapeForInputHighlight(e,n)},t.ConnectionDB=function(e){this.connections_=[],this.connectionChecker_=e},t.ConnectionDB.prototype.addConnection=function(e,n){n=this.calculateIndexForYPos_(n),this.connections_.splice(n,0,e)},t.ConnectionDB.prototype.findIndexOfConnection_=function(e,n){if(!this.connections_.length)return-1;var o=this.calculateIndexForYPos_(n);if(o>=this.connections_.length)return-1;n=e.y;for(var u=o;0<=u&&this.connections_[u].y==n;){if(this.connections_[u]==e)return u;u--}for(u=o;u<this.connections_.length&&this.connections_[u].y==n;){if(this.connections_[u]==e)return u;u++}return-1},t.ConnectionDB.prototype.calculateIndexForYPos_=function(e){if(!this.connections_.length)return 0;for(var n=0,o=this.connections_.length;n<o;){var u=Math.floor((n+o)/2);if(this.connections_[u].y<e)n=u+1;else{if(!(this.connections_[u].y>e)){n=u;break}o=u}}return n},t.ConnectionDB.prototype.removeConnection=function(e,n){if(-1==(e=this.findIndexOfConnection_(e,n)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)},t.ConnectionDB.prototype.getNeighbours=function(e,n){function o(Z){var K=b-u[Z].x,ae=w-u[Z].y;return Math.sqrt(K*K+ae*ae)<=n&&W.push(u[Z]),ae<n}var u=this.connections_,b=e.x,w=e.y;e=0;for(var R=u.length-2,N=R;e<N;)u[N].y<w?e=N:R=N,N=Math.floor((e+R)/2);var W=[];if(R=e=N,u.length){for(;0<=e&&o(e);)e--;do{R++}while(R<u.length&&o(R))}return W},t.ConnectionDB.prototype.isInYRange_=function(e,n,o){return Math.abs(this.connections_[e].y-n)<=o},t.ConnectionDB.prototype.searchForClosest=function(e,n,o){if(!this.connections_.length)return{connection:null,radius:n};var u=e.y,b=e.x;e.x=b+o.x,e.y=u+o.y;var w=this.calculateIndexForYPos_(e.y);o=null;for(var N,R=n,W=w-1;0<=W&&this.isInYRange_(W,e.y,n);)this.connectionChecker_.canConnect(e,N=this.connections_[W],!0,R)&&(o=N,R=N.distanceFrom(e)),W--;for(;w<this.connections_.length&&this.isInYRange_(w,e.y,n);)this.connectionChecker_.canConnect(e,N=this.connections_[w],!0,R)&&(o=N,R=N.distanceFrom(e)),w++;return e.x=b,e.y=u,{connection:o,radius:R}},t.ConnectionDB.init=function(e){var n=[];return n[t.connectionTypes.INPUT_VALUE]=new t.ConnectionDB(e),n[t.connectionTypes.OUTPUT_VALUE]=new t.ConnectionDB(e),n[t.connectionTypes.NEXT_STATEMENT]=new t.ConnectionDB(e),n[t.connectionTypes.PREVIOUS_STATEMENT]=new t.ConnectionDB(e),n},t.Events.ThemeChange=function(e,n){t.Events.ThemeChange.superClass_.constructor.call(this,n),this.themeName=e},t.utils.object.inherits(t.Events.ThemeChange,t.Events.UiBase),t.Events.ThemeChange.prototype.type=t.Events.THEME_CHANGE,t.Events.ThemeChange.prototype.toJson=function(){var e=t.Events.ThemeChange.superClass_.toJson.call(this);return e.themeName=this.themeName,e},t.Events.ThemeChange.prototype.fromJson=function(e){t.Events.ThemeChange.superClass_.fromJson.call(this,e),this.themeName=e.themeName},t.registry.register(t.registry.Type.EVENT,t.Events.THEME_CHANGE,t.Events.ThemeChange),t.Events.ViewportChange=function(e,n,o,u,b){t.Events.ViewportChange.superClass_.constructor.call(this,u),this.viewTop=e,this.viewLeft=n,this.scale=o,this.oldScale=b},t.utils.object.inherits(t.Events.ViewportChange,t.Events.UiBase),t.Events.ViewportChange.prototype.type=t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange.prototype.toJson=function(){var e=t.Events.ViewportChange.superClass_.toJson.call(this);return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e},t.Events.ViewportChange.prototype.fromJson=function(e){t.Events.ViewportChange.superClass_.fromJson.call(this,e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale},t.registry.register(t.registry.Type.EVENT,t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange),t.IMetricsManager=function(){},t.MetricsManager=function(e){this.workspace_=e},t.MetricsManager.prototype.getDimensionsPx_=function(e){var n=0,o=0;return e&&(n=e.getWidth(),o=e.getHeight()),new t.utils.Size(n,o)},t.MetricsManager.prototype.getFlyoutMetrics=function(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getToolboxMetrics=function(){var e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},t.MetricsManager.prototype.getAbsoluteMetrics=function(){var e=0,n=this.getToolboxMetrics(),o=this.getFlyoutMetrics(!0),u=!!this.workspace_.getToolbox(),b=!!this.workspace_.getFlyout(!0),w=u?n.position:o.position,R=w==t.utils.toolbox.Position.LEFT;return w=w==t.utils.toolbox.Position.TOP,u&&R?e=n.width:b&&R&&(e=o.width),R=0,u&&w?R=n.height:b&&w&&(R=o.height),{top:R,left:e}},t.MetricsManager.prototype.getViewMetrics=function(e){e=e?this.workspace_.scale:1;var n=this.getSvgMetrics(),o=this.getToolboxMetrics(),u=this.getFlyoutMetrics(!0),b=this.workspace_.getToolbox()?o.position:u.position;return this.workspace_.getToolbox()?b==t.utils.toolbox.Position.TOP||b==t.utils.toolbox.Position.BOTTOM?n.height-=o.height:(b==t.utils.toolbox.Position.LEFT||b==t.utils.toolbox.Position.RIGHT)&&(n.width-=o.width):this.workspace_.getFlyout(!0)&&(b==t.utils.toolbox.Position.TOP||b==t.utils.toolbox.Position.BOTTOM?n.height-=u.height:(b==t.utils.toolbox.Position.LEFT||b==t.utils.toolbox.Position.RIGHT)&&(n.width-=u.width)),{height:n.height/e,width:n.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}},t.MetricsManager.prototype.getContentMetrics=function(e){e=e?1:this.workspace_.scale;var n=this.workspace_.getBlocksBoundingBox();return{height:(n.bottom-n.top)*e,width:(n.right-n.left)*e,top:n.top*e,left:n.left*e}},t.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},t.MetricsManager.prototype.getComputedFixedEdges_=function(e){if(!this.hasFixedEdges())return{};var n=this.workspace_.isMovableHorizontally(),o=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);var u={};return o||(u.top=e.top,u.bottom=e.top+e.height),n||(u.left=e.left,u.right=e.left+e.width),u},t.MetricsManager.prototype.getPaddedContent_=function(e,n){var o=n.top+n.height,u=n.left+n.width,b=e.width,w=b/2,R=(e=e.height)/2;return{top:Math.min(n.top-R,o-e),bottom:Math.max(o+R,n.top+e),left:Math.min(n.left-w,u-b),right:Math.max(u+w,n.left+b)}},t.MetricsManager.prototype.getScrollMetrics=function(e,n,o){e=e?this.workspace_.scale:1,n=n||this.getViewMetrics(!1);var u=o||this.getContentMetrics();o=this.getComputedFixedEdges_(n),n=this.getPaddedContent_(n,u);var b=void 0!==o.left?o.left:n.left;return{top:(u=void 0!==o.top?o.top:n.top)/e,left:b/e,width:((void 0!==o.right?o.right:n.right)-b)/e,height:((void 0!==o.bottom?o.bottom:n.bottom)-u)/e}},t.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},t.MetricsManager.prototype.getMetrics=function(){var e=this.getToolboxMetrics(),n=this.getFlyoutMetrics(!0),o=this.getSvgMetrics(),u=this.getAbsoluteMetrics(),b=this.getViewMetrics(),w=this.getContentMetrics(),R=this.getScrollMetrics(!1,b,w);return{contentHeight:w.height,contentWidth:w.width,contentTop:w.top,contentLeft:w.left,scrollHeight:R.height,scrollWidth:R.width,scrollTop:R.top,scrollLeft:R.left,viewHeight:b.height,viewWidth:b.width,viewTop:b.top,viewLeft:b.left,absoluteTop:u.top,absoluteLeft:u.left,svgHeight:o.height,svgWidth:o.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:n.width,flyoutHeight:n.height}},t.registry.register(t.registry.Type.METRICS_MANAGER,t.registry.DEFAULT,t.MetricsManager),t.FlyoutMetricsManager=function(e,n){this.flyout_=n,t.FlyoutMetricsManager.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.FlyoutMetricsManager,t.MetricsManager),t.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var e=this.workspace_.getCanvas().getBBox()}catch(n){e={height:0,y:0,width:0,x:0}}return e},t.FlyoutMetricsManager.prototype.getContentMetrics=function(e){var n=this.getBoundingBox_();return{height:n.height*(e=e?1:this.workspace_.scale),width:n.width*e,top:n.y*e,left:n.x*e}},t.FlyoutMetricsManager.prototype.getScrollMetrics=function(e,n,o){return{height:((n=o||this.getContentMetrics()).height+2*(o=this.flyout_.MARGIN*this.workspace_.scale))/(e=e?this.workspace_.scale:1),width:(n.width+n.left+o)/e,top:0,left:0}},t.ThemeManager=function(e,n){this.workspace_=e,this.theme_=n,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},t.ThemeManager.prototype.getTheme=function(){return this.theme_},t.ThemeManager.prototype.setTheme=function(e){var o,n=this.theme_;for(this.theme_=e,(e=this.workspace_.getInjectionDiv())&&(n&&t.utils.dom.removeClass(e,n.getClassName()),t.utils.dom.addClass(e,this.theme_.getClassName())),n=0;e=this.subscribedWorkspaces_[n];n++)e.refreshTheme();for(n=0,e=Object.keys(this.componentDB_);o=e[n];n++)for(var b,u=0;b=this.componentDB_[o][u];u++){var w=b.element;b=b.propertyName;var R=this.theme_&&this.theme_.getComponentStyle(o);w.style[b]=R||""}t.hideChaff()},t.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},t.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(0>(e=this.subscribedWorkspaces_.indexOf(e)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(e,1)},t.ThemeManager.prototype.subscribe=function(e,n,o){this.componentDB_[n]||(this.componentDB_[n]=[]),this.componentDB_[n].push({element:e,propertyName:o}),n=this.theme_&&this.theme_.getComponentStyle(n),e.style[o]=n||""},t.ThemeManager.prototype.unsubscribe=function(e){if(e)for(var u,n=Object.keys(this.componentDB_),o=0;u=n[o];o++){for(var b=this.componentDB_[u],w=b.length-1;0<=w;w--)b[w].element===e&&b.splice(w,1);this.componentDB_[u].length||delete this.componentDB_[u]}},t.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},t.TouchGesture=function(e,n){t.TouchGesture.superClass_.constructor.call(this,e,n),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},t.utils.object.inherits(t.TouchGesture,t.Gesture),t.TouchGesture.ZOOM_IN_MULTIPLIER=5,t.TouchGesture.ZOOM_OUT_MULTIPLIER=6,t.TouchGesture.prototype.doStart=function(e){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,t.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&t.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},t.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=t.browserEvents.conditionalBind(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},t.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&t.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&t.longStop_())},t.TouchGesture.prototype.handleMove=function(e){this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(t.Touch.isTouchEvent(e)&&this.handleTouchMove(e),t.longStop_()):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handleUp=function(e){t.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},t.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},t.TouchGesture.prototype.dispose=function(){t.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&t.browserEvents.unbind(this.onStartWrapper_)},t.TouchGesture.prototype.handleTouchStart=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),2==(n=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]]),this.isMultiTouch_=!0,e.preventDefault())},t.TouchGesture.prototype.handleTouchMove=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),n=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===n.length?this.handlePinch_(e):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handlePinch_=function(e){var n=Object.keys(this.cachedPoints_);if(n=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var o=n-this.previousScale_;o=0<o?o*t.TouchGesture.ZOOM_IN_MULTIPLIER:o*t.TouchGesture.ZOOM_OUT_MULTIPLIER;var u=this.startWorkspace_,b=t.utils.mouseToSvg(e,u.getParentSvg(),u.getInverseScreenCTM());u.zoom(b.x,b.y,o)}this.previousScale_=n,e.preventDefault()},t.TouchGesture.prototype.handleTouchEnd=function(e){e=t.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},t.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new t.utils.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},t.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},t.WorkspaceAudio.prototype.lastSound_=null,t.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},t.WorkspaceAudio.prototype.load=function(e,n){if(e.length){try{var o=new t.utils.global.Audio}catch(N){return}for(var u,b=0;b<e.length;b++){var w=e[b],R=w.match(/\.(\w+)$/);if(R&&o.canPlayType("audio/"+R[1])){u=new t.utils.global.Audio(w);break}}u&&u.play&&(this.SOUNDS_[n]=u)}},t.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var n=this.SOUNDS_[e];n.volume=.01;var o=n.play();if(void 0!==o?o.then(n.pause).catch(function(){}):n.pause(),t.utils.userAgent.IPAD||t.utils.userAgent.IPHONE)break}},t.WorkspaceAudio.prototype.play=function(e,n){var o=this.SOUNDS_[e];o?(e=new Date,null!=this.lastSound_&&e-this.lastSound_<t.SOUND_LIMIT||(this.lastSound_=e,(o=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID?o:o.cloneNode()).volume=void 0===n?1:n,o.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,n)},t.WorkspaceSvg=function(e,n,o){t.WorkspaceSvg.superClass_.constructor.call(this,e),this.metricsManager_=new(t.registry.getClassFromOptions(t.registry.Type.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=e.setMetrics||t.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.componentManager_=new t.ComponentManager,this.connectionDBList=t.ConnectionDB.init(this.connectionChecker),n&&(this.blockDragSurface_=n),o&&(this.workspaceDragSurface_=o),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&t.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new t.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new t.Grid(this.options.gridPattern,e.gridOptions):null,this.markerManager_=new t.MarkerManager(this),this.toolboxCategoryCallbacks_=Object.create(null),this.flyoutButtonCallbacks_=Object.create(null),t.Variables&&t.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_CATEGORY_NAME,t.Variables.flyoutCategory),t.VariablesDynamic&&t.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_DYNAMIC_CATEGORY_NAME,t.VariablesDynamic.flyoutCategory),t.Procedures&&t.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(t.PROCEDURE_CATEGORY_NAME,t.Procedures.flyoutCategory),this.addChangeListener(t.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new t.ThemeManager(this,this.options.theme||t.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=t.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.dragTargetAreas_=[],this.cachedParentSvgSize_=new t.utils.Size(0,0)},t.utils.object.inherits(t.WorkspaceSvg,t.Workspace),t.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,t.WorkspaceSvg.prototype.rendered=!0,t.WorkspaceSvg.prototype.isVisible_=!0,t.WorkspaceSvg.prototype.isFlyout=!1,t.WorkspaceSvg.prototype.isMutator=!1,t.WorkspaceSvg.prototype.resizesEnabled_=!0,t.WorkspaceSvg.prototype.scrollX=0,t.WorkspaceSvg.prototype.scrollY=0,t.WorkspaceSvg.prototype.startScrollX=0,t.WorkspaceSvg.prototype.startScrollY=0,t.WorkspaceSvg.prototype.dragDeltaXY_=null,t.WorkspaceSvg.prototype.scale=1,t.WorkspaceSvg.prototype.oldScale_=1,t.WorkspaceSvg.prototype.oldTop_=0,t.WorkspaceSvg.prototype.oldLeft_=0,t.WorkspaceSvg.prototype.trashcan=null,t.WorkspaceSvg.prototype.scrollbar=null,t.WorkspaceSvg.prototype.flyout_=null,t.WorkspaceSvg.prototype.toolbox_=null,t.WorkspaceSvg.prototype.currentGesture_=null,t.WorkspaceSvg.prototype.blockDragSurface_=null,t.WorkspaceSvg.prototype.workspaceDragSurface_=null,t.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,t.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,t.WorkspaceSvg.prototype.injectionDiv_=null,t.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,t.WorkspaceSvg.prototype.targetWorkspace=null,t.WorkspaceSvg.prototype.inverseScreenCTM_=null,t.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,t.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},t.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},t.WorkspaceSvg.prototype.setMetricsManager=function(e){this.metricsManager_=e,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},t.WorkspaceSvg.prototype.getComponentManager=function(){return this.componentManager_},t.WorkspaceSvg.prototype.setCursorSvg=function(e){this.markerManager_.setCursorSvg(e)},t.WorkspaceSvg.prototype.setMarkerSvg=function(e){this.markerManager_.setMarkerSvg(e)},t.WorkspaceSvg.prototype.getMarker=function(e){return this.markerManager_?this.markerManager_.getMarker(e):null},t.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},t.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},t.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},t.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},t.WorkspaceSvg.prototype.setTheme=function(e){e||(e=t.Themes.Classic),this.themeManager_.setTheme(e)},t.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(n){return!!n.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var e=new(t.Events.get(t.Events.THEME_CHANGE))(this.getTheme().name,this.id);t.Events.fire(e)},t.WorkspaceSvg.prototype.updateBlockStyles_=function(e){for(var o,n=0;o=e[n];n++){var u=o.getStyleName();u&&(o.setStyle(u),o.mutator&&o.mutator.updateBlockStyle())}},t.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},t.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},t.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},t.WorkspaceSvg.prototype.getSvgXY=function(e){var n=0,o=0,u=1;(t.utils.dom.containsNode(this.getCanvas(),e)||t.utils.dom.containsNode(this.getBubbleCanvas(),e))&&(u=this.scale);do{var b=t.utils.getRelativeXY(e);(e==this.getCanvas()||e==this.getBubbleCanvas())&&(u=1),n+=b.x*u,o+=b.y*u,e=e.parentNode}while(e&&e!=this.getParentSvg());return new t.utils.Coordinate(n,o)},t.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var e=this.cachedParentSvgSize_;return new t.utils.Size(e.width,e.height)},t.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return t.utils.getInjectionDivXY_(this.getCanvas())},t.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},t.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},t.WorkspaceSvg.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(t.browserEvents.conditionalBind(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(t.registry.getClassFromOptions(t.registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDragTargets(),(e=t.registry.getClassFromOptions(t.registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new e),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},t.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),t.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg();e&&e.parentNode&&t.utils.dom.removeNode(e.parentNode)}this.resizeHandlerWrapper_&&(t.browserEvents.unbind(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},t.WorkspaceSvg.prototype.newBlock=function(e,n){return new t.BlockSvg(this,e,n)},t.WorkspaceSvg.prototype.addTrashcan=function(){if(!t.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new t.Trashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},t.WorkspaceSvg.prototype.addZoomControls=function(){if(!t.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new t.ZoomControls(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)},t.WorkspaceSvg.prototype.addFlyout=function(e){var n=new t.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(n):new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(n),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(e)},t.WorkspaceSvg.prototype.getFlyout=function(e){return this.flyout_||e?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},t.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},t.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDragTargets()},t.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},t.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var b,e=this.componentManager_.getComponents(t.ComponentManager.Capability.POSITIONABLE,!0),n=this.getMetricsManager().getUiMetrics(),o=[],u=0;b=e[u];u++)b.position(n,o),(b=b.getBoundingRectangle())&&o.push(b);this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},t.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=t.utils.getDocumentScroll();t.utils.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},t.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setCachedParentSvgSize=function(e,n){var o=this.getParentSvg();e&&(this.cachedParentSvgSize_.width=e,o.cachedWidth_=e),n&&(this.cachedParentSvgSize_.height=n,o.cachedHeight_=n)},t.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},t.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var e=this.svgGroup_;e;){if("svg"==e.tagName){this.cachedParentSvg_=e;break}e=e.parentNode}return this.cachedParentSvg_},t.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if(t.Events.isEnabled()){var e=this.scale,n=-this.scrollY,o=-this.scrollX;if(!(e==this.oldScale_&&1>Math.abs(n-this.oldTop_)&&1>Math.abs(o-this.oldLeft_))){var u=new(t.Events.get(t.Events.VIEWPORT_CHANGE))(n,o,e,this.id,this.oldScale_);this.oldScale_=e,this.oldTop_=n,this.oldLeft_=o,t.Events.fire(u)}}},t.WorkspaceSvg.prototype.translate=function(e,n){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,n);else{var o="translate("+e+","+n+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",o),this.svgBubbleCanvas_.setAttribute("transform",o)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,n,this.scale),this.grid_&&this.grid_.moveTo(e,n),this.maybeFireViewportChangeEvent()},t.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),this.svgBlockCanvas_.setAttribute("transform",e="translate("+e.x+","+e.y+") scale("+this.scale+")"),this.svgBubbleCanvas_.setAttribute("transform",e)}},t.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,n=parseInt(this.getParentSvg().getAttribute("width"),10),o=parseInt(this.getParentSvg().getAttribute("height"),10),u=t.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),e,n,o,this.scale),this.workspaceDragSurface_.translateSurface(u.x,u.y)}},t.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},t.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},t.WorkspaceSvg.prototype.setVisible=function(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){for(var n=(e=this.getAllBlocks(!1)).length-1;0<=n;n--)e[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else t.hideChaff(!0)},t.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),n=e.length-1;0<=n;n--)e[n].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),n=0;n<e.length;n++)e[n].render(!1);this.markerManager_.updateMarkers()},t.WorkspaceSvg.prototype.highlightBlock=function(e,n){if(void 0===n){for(var u,o=0;u=this.highlightedBlocks_[o];o++)u.setHighlighted(!1);this.highlightedBlocks_.length=0}(u=e?this.getBlockById(e):null)&&((e=void 0===n||n)?-1==this.highlightedBlocks_.indexOf(u)&&this.highlightedBlocks_.push(u):t.utils.arrayRemove(this.highlightedBlocks_,u),u.setHighlighted(e))},t.WorkspaceSvg.prototype.paste=function(e){!this.rendered||!e.tagName||e.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e))},t.WorkspaceSvg.prototype.pasteBlock_=function(e){t.Events.disable();try{var n=t.Xml.domToBlock(e,this),o=parseInt(e.getAttribute("x"),10),u=parseInt(e.getAttribute("y"),10);if(!isNaN(o)&&!isNaN(u)){this.RTL&&(o=-o);do{e=!1;for(var R,b=this.getAllBlocks(!1),w=0;R=b[w];w++){var N=R.getRelativeToSurfaceXY();if(1>=Math.abs(o-N.x)&&1>=Math.abs(u-N.y)){e=!0;break}}if(!e){var Z,W=n.getConnections_(!1);for(w=0;Z=W[w];w++)if(Z.closest(t.SNAP_RADIUS,new t.utils.Coordinate(o,u)).connection){e=!0;break}}e&&(o=this.RTL?o-t.SNAP_RADIUS:o+t.SNAP_RADIUS,u+=2*t.SNAP_RADIUS)}while(e);n.moveBy(o,u)}}finally{t.Events.enable()}t.Events.isEnabled()&&!n.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n)),n.select()},t.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){t.Events.disable();try{var n=t.WorkspaceCommentSvg.fromXml(e,this),o=parseInt(e.getAttribute("x"),10),u=parseInt(e.getAttribute("y"),10);isNaN(o)||isNaN(u)||(this.RTL&&(o=-o),n.moveBy(o+50,u+50))}finally{t.Events.enable()}t.Events.isEnabled()&&t.WorkspaceComment.fireCreateEvent(n),n.select()},t.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()},t.WorkspaceSvg.prototype.renameVariableById=function(e,n){t.WorkspaceSvg.superClass_.renameVariableById.call(this,e,n),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.deleteVariableById=function(e){t.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.createVariable=function(e,n,o){return e=t.WorkspaceSvg.superClass_.createVariable.call(this,e,n,o),this.refreshToolboxSelection(),e},t.WorkspaceSvg.prototype.recordDeleteAreas=function(){t.utils.deprecation.warn("WorkspaceSvg.prototype.recordDeleteAreas","June 2021","June 2022","WorkspaceSvg.prototype.recordDragTargets"),this.recordDragTargets()},t.WorkspaceSvg.prototype.recordDragTargets=function(){var e=this.componentManager_.getComponents(t.ComponentManager.Capability.DRAG_TARGET,!0);this.dragTargetAreas_=[];for(var o,n=0;o=e[n];n++){var u=o.getClientRect();u&&this.dragTargetAreas_.push({component:o,clientRect:u})}},t.WorkspaceSvg.prototype.getDragTarget=function(e){for(var o,n=0;o=this.dragTargetAreas_[n];n++)if(o.clientRect.contains(e.clientX,e.clientY))return o.component;return null},t.WorkspaceSvg.prototype.onMouseDown_=function(e){var n=this.getGesture(e);n&&n.handleWsStart(e,this)},t.WorkspaceSvg.prototype.startDrag=function(e,n){(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY_=t.utils.Coordinate.difference(n,e)},t.WorkspaceSvg.prototype.moveDrag=function(e){return(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,t.utils.Coordinate.sum(this.dragDeltaXY_,e)},t.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},t.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},t.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},t.WorkspaceSvg.prototype.isMovableHorizontally=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())},t.WorkspaceSvg.prototype.isMovableVertically=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())},t.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(t.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var n=this.options.zoomOptions&&this.options.zoomOptions.wheel,o=this.options.moveOptions&&this.options.moveOptions.wheel;if(n||o){var u=t.utils.getScrollDeltaPixels(e);!n||!e.ctrlKey&&o?(n=this.scrollX-u.x,o=this.scrollY-u.y,e.shiftKey&&!u.x&&(n=this.scrollX-u.y,o=this.scrollY),this.scroll(n,o)):(u=-u.y/50,n=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(n.x,n.y,u)),e.preventDefault()}}},t.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBoundedElements();if(!e.length)return new t.utils.Rect(0,0,0,0);for(var n=e[0].getBoundingRectangle(),o=1;o<e.length;o++){var u=e[o];u.isInsertionMarker&&u.isInsertionMarker()||((u=u.getBoundingRectangle()).top<n.top&&(n.top=u.top),u.bottom>n.bottom&&(n.bottom=u.bottom),u.left<n.left&&(n.left=u.left),u.right>n.right&&(n.right=u.right))}return n},t.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),t.Events.setGroup(!0);for(var u,e=this.getTopBlocks(!0),n=0,o=0;u=e[o];o++)if(u.isMovable()){var b=u.getRelativeToSurfaceXY();u.moveBy(-b.x,n-b.y),u.snapToGrid(),n=u.getRelativeToSurfaceXY().y+u.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}t.Events.setGroup(!1),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.showContextMenu=function(e){if(!this.options.readOnly&&!this.isFlyout){var n=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(n,e),t.ContextMenu.show(e,n,this.RTL)}},t.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=t.utils.toolbox.convertToolboxDefToJson(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(t.utils.toolbox.hasCategories(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},t.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(t.mainWorkspace=this,this.setBrowserFocus())},t.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(n){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},t.WorkspaceSvg.prototype.zoom=function(e,n,o){o=Math.pow(this.options.zoomOptions.scaleSpeed,o);var u=this.scale*o;if(this.scale!=u){u>this.options.zoomOptions.maxScale?o=this.options.zoomOptions.maxScale/this.scale:u<this.options.zoomOptions.minScale&&(o=this.options.zoomOptions.minScale/this.scale);var b=this.getCanvas().getCTM(),w=this.getParentSvg().createSVGPoint();w.x=e,w.y=n,w=w.matrixTransform(b.inverse()),b=b.translate((e=w.x)*(1-o),(n=w.y)*(1-o)).scale(o),this.scrollX=b.e,this.scrollY=b.f,this.setScale(u)}},t.WorkspaceSvg.prototype.zoomCenter=function(e){var n=this.getMetrics();if(this.flyout_){var o=n.svgWidth?n.svgWidth/2:0;n=n.svgHeight?n.svgHeight/2:0}else o=n.viewWidth/2+n.absoluteLeft,n=n.viewHeight/2+n.absoluteTop;this.zoom(o,n,e)},t.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var e=this.getMetrics(),n=e.viewWidth;e=e.viewHeight;var o=this.getBlocksBoundingBox(),u=o.right-o.left;if(o=o.bottom-o.top,u){this.flyout_&&(this.horizontalLayout?(e+=this.flyout_.getHeight(),o+=this.flyout_.getHeight()/this.scale):(n+=this.flyout_.getWidth(),u+=this.flyout_.getWidth()/this.scale)),n/=u,e/=o,t.Events.disable();try{this.setScale(Math.min(n,e)),this.scrollCenter()}finally{t.Events.enable()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.beginCanvasTransition=function(){t.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.endCanvasTransition=function(){t.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),n=(e.scrollWidth-e.viewWidth)/2,o=(e.scrollHeight-e.viewHeight)/2;this.scroll(n=-n-e.scrollLeft,o=-o-e.scrollTop)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var n=e.getRelativeToSurfaceXY(),o=e.getHeightWidth(),u=this.scale;e=(n.x+(this.RTL?-1:1)*o.width/2)*u,n=(n.y+o.height/2)*u,o=this.getMetrics(),this.scroll(-(e-o.viewWidth/2),-(n-o.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,t.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDragTargets()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))},t.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},t.WorkspaceSvg.prototype.scroll=function(e,n){t.hideChaff(!0);var o=this.getMetrics();e=Math.min(e,-o.scrollLeft),n=Math.min(n,-o.scrollTop);var u=o.scrollTop+Math.max(0,o.scrollHeight-o.viewHeight);e=Math.max(e,-(o.scrollLeft+Math.max(0,o.scrollWidth-o.viewWidth))),n=Math.max(n,-u),this.scrollX=e,this.scrollY=n,this.scrollbar&&this.scrollbar.set(-(e+o.scrollLeft),-(n+o.scrollTop),!1),this.translate(e+=o.absoluteLeft,n+=o.absoluteTop)},t.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var n=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(n.scrollLeft+(n.scrollWidth-n.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(n.scrollTop+(n.scrollHeight-n.viewHeight)*e.y)),this.translate(this.scrollX+n.absoluteLeft,this.scrollY+n.absoluteTop)},t.WorkspaceSvg.prototype.getBlockById=function(e){return t.WorkspaceSvg.superClass_.getBlockById.call(this,e)},t.WorkspaceSvg.prototype.getTopBlocks=function(e){return t.WorkspaceSvg.superClass_.getTopBlocks.call(this,e)},t.WorkspaceSvg.prototype.addTopBlock=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopBlock.call(this,e)},t.WorkspaceSvg.prototype.removeTopBlock=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopBlock.call(this,e)},t.WorkspaceSvg.prototype.addTopComment=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopComment.call(this,e)},t.WorkspaceSvg.prototype.removeTopComment=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopComment.call(this,e)},t.WorkspaceSvg.prototype.addTopBoundedElement=function(e){this.topBoundedElements_.push(e)},t.WorkspaceSvg.prototype.removeTopBoundedElement=function(e){t.utils.arrayRemove(this.topBoundedElements_,e)},t.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},t.WorkspaceSvg.prototype.setResizesEnabled=function(e){var n=!this.resizesEnabled_&&e;this.resizesEnabled_=e,n&&this.resizeContents()},t.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),t.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.registerButtonCallback=function(e,n){if("function"!=typeof n)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=n},t.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},t.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},t.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,n){if("function"!=typeof n)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=n},t.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},t.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},t.WorkspaceSvg.prototype.getGesture=function(e){var n="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,o=this.currentGesture_;return o?n&&o.hasStarted()?(console.warn("Tried to start the same gesture twice."),o.cancel(),null):o:n?this.currentGesture_=new t.TouchGesture(e,this):null},t.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},t.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},t.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},t.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},t.inject=function(e,n){if(t.checkBlockColourConstants(),"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e||!t.utils.dom.containsNode(document,e))throw Error("Error: container is not in current document.");n=new t.Options(n||{});var o=document.createElement("div");o.className="injectionDiv",o.tabIndex=0,t.utils.aria.setState(o,t.utils.aria.State.LABEL,t.Msg.WORKSPACE_ARIA_LABEL),e.appendChild(o),e=t.createDom_(o,n);var u=new t.BlockDragSurfaceSvg(o),b=new t.WorkspaceDragSurfaceSvg(o),w=t.createMainWorkspace_(e,n,u,b);return t.init_(w),t.mainWorkspace=w,t.svgResize(w),o.addEventListener("focusin",function(){t.mainWorkspace=w}),w},t.createDom_=function(e,n){e.setAttribute("dir","LTR"),t.Css.inject(n.hasCss,n.pathToMedia),e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},e);var o=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),u=String(Math.random()).substring(2);return n.gridPattern=t.Grid.createDom(u,n.gridOptions,o),e},t.createMainWorkspace_=function(e,n,o,u){return n.parentWorkspace=null,(n=new t.WorkspaceSvg(n,o,u)).scale=(o=n.options).zoomOptions.startScale,e.appendChild(n.createDom("blocklyMainBackground")),t.utils.dom.addClass(n.getInjectionDiv(),n.getRenderer().getClassName()),t.utils.dom.addClass(n.getInjectionDiv(),n.getTheme().getClassName()),!o.hasCategories&&o.languageTree&&(u=n.addFlyout(t.utils.Svg.SVG),t.utils.dom.insertAfter(u,e)),o.hasTrashcan&&n.addTrashcan(),o.zoomOptions&&o.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(e,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(t.bumpIntoBoundsHandler_(n)),t.svgResize(n),t.WidgetDiv.createDom(),t.DropDownDiv.createDom(),t.Tooltip.createDom(),n},t.extractObjectFromEvent_=function(e,n){var o=null;switch(n.type){case t.Events.BLOCK_CREATE:case t.Events.BLOCK_MOVE:(o=e.getBlockById(n.blockId))&&(o=o.getRootBlock());break;case t.Events.COMMENT_CREATE:case t.Events.COMMENT_MOVE:o=e.getCommentById(n.commentId)}return o},t.bumpTopObjectsIntoBounds_=function(e){var n=e.getMetricsManager();if(n.hasFixedEdges()&&!e.isDragging()){n=n.getScrollMetrics(!0);for(var b,o=e.getTopBoundedElements(),u=0;b=o[u];u++)t.bumpObjectIntoBounds_(e,n,b)}},t.bumpIntoBoundsHandler_=function(e){return function(n){var o=e.getMetricsManager();if(o.hasFixedEdges()&&!e.isDragging())if(-1!==t.Events.BUMP_EVENTS.indexOf(n.type)){o=o.getScrollMetrics(!0);var u=t.extractObjectFromEvent_(e,n);if(u){var b=t.Events.getGroup();t.Events.setGroup(n.group),t.bumpObjectIntoBounds_(e,o,u)&&!n.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==b&&t.Events.setGroup(b)}}else n.type===t.Events.VIEWPORT_CHANGE&&n.scale>n.oldScale&&t.bumpTopObjectsIntoBounds_(e)}},t.bumpObjectIntoBounds_=function(e,n,o){var u=o.getBoundingRectangle(),b=u.right-u.left,w=t.utils.math.clamp(n.top,u.top,n.top+n.height-(u.bottom-u.top))-u.top,R=n.left;return n=n.left+n.width-b,e.RTL?R=Math.min(n,R):n=Math.max(R,n),!(!(e=t.utils.math.clamp(R,u.left,n)-u.left)&&!w||(o.moveBy(e,w),0))},t.init_=function(e){var n=e.options,o=e.getParentSvg();if(t.browserEvents.conditionalBind(o.parentNode,"contextmenu",null,function(b){t.utils.isTargetInput(b)||b.preventDefault()}),o=t.browserEvents.conditionalBind(window,"resize",null,function(){t.hideChaff(!0),t.svgResize(e),t.bumpTopObjectsIntoBounds_(e)}),e.setResizeHandlerWrapper(o),t.inject.bindDocumentEvents_(),n.languageTree){o=e.getToolbox();var u=e.getFlyout(!0);o?o.init():u&&(u.init(e),u.show(n.languageTree),"function"==typeof u.scrollToStart&&u.scrollToStart())}n.hasTrashcan&&e.trashcan.init(),n.zoomOptions&&n.zoomOptions.controls&&e.zoomControls_.init(),n.moveOptions&&n.moveOptions.scrollbars?(e.scrollbar=new t.ScrollbarPair(e,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.horizontal,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),n.hasSounds&&t.inject.loadSounds_(n.pathToMedia,e)},t.inject.bindDocumentEvents_=function(){t.documentEventsBound_||(t.browserEvents.conditionalBind(document,"scroll",null,function(){for(var o,e=t.Workspace.getAll(),n=0;o=e[n];n++)o.updateInverseScreenCTM&&o.updateInverseScreenCTM()}),t.browserEvents.conditionalBind(document,"keydown",null,t.onKeyDown),t.browserEvents.bind(document,"touchend",null,t.longStop_),t.browserEvents.bind(document,"touchcancel",null,t.longStop_),t.utils.userAgent.IPAD&&t.browserEvents.conditionalBind(window,"orientationchange",document,function(){t.svgResize(t.getMainWorkspace())})),t.documentEventsBound_=!0},t.inject.loadSounds_=function(e,n){var o=n.getAudioManager();o.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),o.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),o.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var u=[];e=function(){for(;u.length;)t.browserEvents.unbind(u.pop());o.preload()},u.push(t.browserEvents.conditionalBind(document,"mousemove",null,e,!0)),u.push(t.browserEvents.conditionalBind(document,"touchstart",null,e,!0))},t.Names=function(e,n){if(this.variablePrefix_=n||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),n=0;n<e.length;n++)this.reservedDict_[e[n]]=!0;this.reset()},t.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",t.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},t.Names.prototype.setVariableMap=function(e){this.variableMap_=e},t.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)},t.Names.prototype.populateVariables=function(e){e=t.Variables.allUsedVarModels(e);for(var n=0;n<e.length;n++)this.getName(e[n].getId(),t.VARIABLE_CATEGORY_NAME)},t.Names.prototype.populateProcedures=function(e){e=(e=t.Procedures.allProcedures(e))[0].concat(e[1]);for(var n=0;n<e.length;n++)this.getName(e[n][0],t.PROCEDURE_CATEGORY_NAME)},t.Names.prototype.getName=function(e,n){var o=e;n==t.VARIABLE_CATEGORY_NAME&&(e=this.getNameForUserVariable_(e))&&(o=e),e=o.toLowerCase();var u=n==t.VARIABLE_CATEGORY_NAME||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";n in this.db_||(this.db_[n]=Object.create(null));var b=this.db_[n];return e in b?u+b[e]:(n=this.getDistinctName(o,n),b[e]=n.substr(u.length),n)},t.Names.prototype.getUserNames=function(e){return Object.keys(this.db_[e]||{})},t.Names.prototype.getDistinctName=function(e,n){e=this.safeName_(e);for(var o="";this.dbReverse_[e+o]||e+o in this.reservedDict_;)o=o?o+1:2;return this.dbReverse_[e+=o]=!0,(n==t.VARIABLE_CATEGORY_NAME||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+e},t.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=t.Msg.UNNAMED_KEY||"unnamed",e},t.Names.equals=function(e,n){return e.toLowerCase()==n.toLowerCase()},t.Procedures={},t.Procedures.NAME_TYPE=t.PROCEDURE_CATEGORY_NAME,t.Procedures.DEFAULT_ARG="x",t.Procedures.allProcedures=function(e){var n=e.getBlocksByType("procedures_defnoreturn",!1).map(function(o){return o.getProcedureDef()});return e=e.getBlocksByType("procedures_defreturn",!1).map(function(o){return o.getProcedureDef()}),n.sort(t.Procedures.procTupleComparator_),e.sort(t.Procedures.procTupleComparator_),[n,e]},t.Procedures.procTupleComparator_=function(e,n){return e[0].localeCompare(n[0],void 0,{sensitivity:"base"})},t.Procedures.findLegalName=function(e,n){if(n.isInFlyout)return e;for(e=e||t.Msg.UNNAMED_KEY||"unnamed";!t.Procedures.isLegalName_(e,n.workspace,n);){var o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2],10)+1):e+"2"}return e},t.Procedures.isLegalName_=function(e,n,o){return!t.Procedures.isNameUsed(e,n,o)},t.Procedures.isNameUsed=function(e,n,o){n=n.getAllBlocks(!1);for(var u=0;u<n.length;u++)if(n[u]!=o&&n[u].getProcedureDef){var b=n[u].getProcedureDef();if(t.Names.equals(b[0],e))return!0}return!1},t.Procedures.rename=function(e){e=e.trim();var n=t.Procedures.findLegalName(e,this.getSourceBlock()),o=this.getValue();if(o!=e&&o!=n){e=this.getSourceBlock().workspace.getAllBlocks(!1);for(var u=0;u<e.length;u++)e[u].renameProcedure&&e[u].renameProcedure(o,n)}return n},t.Procedures.flyoutCategory=function(e){function n(w,R){for(var N=0;N<w.length;N++){var W=w[N][0],Z=w[N][1],K=t.utils.xml.createElement("block");K.setAttribute("type",R),K.setAttribute("gap",16);var ae=t.utils.xml.createElement("mutation");for(ae.setAttribute("name",W),K.appendChild(ae),W=0;W<Z.length;W++){var xe=t.utils.xml.createElement("arg");xe.setAttribute("name",Z[W]),ae.appendChild(xe)}o.push(K)}}var o=[];if(t.Blocks.procedures_defnoreturn){var u=t.utils.xml.createElement("block");u.setAttribute("type","procedures_defnoreturn"),u.setAttribute("gap",16);var b=t.utils.xml.createElement("field");b.setAttribute("name","NAME"),b.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),u.appendChild(b),o.push(u)}return t.Blocks.procedures_defreturn&&((u=t.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),u.setAttribute("gap",16),(b=t.utils.xml.createElement("field")).setAttribute("name","NAME"),b.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),u.appendChild(b),o.push(u)),t.Blocks.procedures_ifreturn&&((u=t.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),u.setAttribute("gap",16),o.push(u)),o.length&&o[o.length-1].setAttribute("gap",24),n((e=t.Procedures.allProcedures(e))[0],"procedures_callnoreturn"),n(e[1],"procedures_callreturn"),o},t.Procedures.updateMutatorFlyout_=function(e){for(var b,n=[],o=e.getBlocksByType("procedures_mutatorarg",!1),u=0;b=o[u];u++)n.push(b.getFieldValue("NAME"));o=t.utils.xml.createElement("xml"),(u=t.utils.xml.createElement("block")).setAttribute("type","procedures_mutatorarg"),(b=t.utils.xml.createElement("field")).setAttribute("name","NAME"),n=t.Variables.generateUniqueNameFromOptions(t.Procedures.DEFAULT_ARG,n),n=t.utils.xml.createTextNode(n),b.appendChild(n),u.appendChild(b),o.appendChild(u),e.updateToolbox(o)},t.Procedures.mutatorOpenListener=function(e){if(e.type==t.Events.BUBBLE_OPEN&&"mutator"===e.bubbleType&&e.isOpen){var n=(e=t.Workspace.getById(e.workspaceId).getBlockById(e.blockId)).type;("procedures_defnoreturn"==n||"procedures_defreturn"==n)&&(e=e.mutator.getWorkspace(),t.Procedures.updateMutatorFlyout_(e),e.addChangeListener(t.Procedures.mutatorChangeListener_))}},t.Procedures.mutatorChangeListener_=function(e){(e.type==t.Events.BLOCK_CREATE||e.type==t.Events.BLOCK_DELETE||e.type==t.Events.BLOCK_CHANGE)&&(e=t.Workspace.getById(e.workspaceId),t.Procedures.updateMutatorFlyout_(e))},t.Procedures.getCallers=function(e,n){var o=[];n=n.getAllBlocks(!1);for(var u=0;u<n.length;u++)if(n[u].getProcedureCall){var b=n[u].getProcedureCall();b&&t.Names.equals(b,e)&&o.push(n[u])}return o},t.Procedures.mutateCallers=function(e){var b,n=t.Events.recordUndo,o=e.getProcedureDef()[0],u=e.mutationToDom(!0);for(e=t.Procedures.getCallers(o,e.workspace),o=0;b=e[o];o++){var w=b.mutationToDom();w=w&&t.Xml.domToText(w),b.domToMutation(u);var R=b.mutationToDom();w!=(R=R&&t.Xml.domToText(R))&&(t.Events.recordUndo=!1,t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(b,"mutation",null,w,R)),t.Events.recordUndo=n)}},t.Procedures.getDefinition=function(e,n){n=n.getAllBlocks(!1);for(var o=0;o<n.length;o++)if(n[o].getProcedureDef){var u=n[o].getProcedureDef();if(u&&t.Names.equals(u[0],e))return n[o]}return null},t.ShortcutRegistry=function(){t.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)},t.ShortcutRegistry.modifierKeys={Shift:t.utils.KeyCodes.SHIFT,Control:t.utils.KeyCodes.CTRL,Alt:t.utils.KeyCodes.ALT,Meta:t.utils.KeyCodes.META},t.ShortcutRegistry.prototype.register=function(e,n){if(this.registry_[e.name]&&!n)throw Error('Shortcut with name "'+e.name+'" already exists.');this.registry_[e.name]=e},t.ShortcutRegistry.prototype.unregister=function(e){return this.registry_[e]?(this.removeAllKeyMappings(e),delete this.registry_[e],!0):(console.warn('Keyboard shortcut with name "'+e+'" not found.'),!1)},t.ShortcutRegistry.prototype.addKeyMapping=function(e,n,o){e=String(e);var u=this.keyMap_[e];if(u&&!o)throw Error('Shortcut with name "'+n+'" collides with shortcuts '+u.toString());u&&o?u.unshift(n):this.keyMap_[e]=[n]},t.ShortcutRegistry.prototype.removeKeyMapping=function(e,n,o){var u=this.keyMap_[e];if(!u&&!o)return console.warn('No keyboard shortcut with name "'+n+'" registered with key code "'+e+'"'),!1;var b=u.indexOf(n);return-1<b?(u.splice(b,1),0==u.length&&delete this.keyMap_[e],!0):(o||console.warn('No keyboard shortcut with name "'+n+'" registered with key code "'+e+'"'),!1)},t.ShortcutRegistry.prototype.removeAllKeyMappings=function(e){for(var n in this.keyMap_)this.removeKeyMapping(n,e,!0)},t.ShortcutRegistry.prototype.setKeyMap=function(e){this.keyMap_=e},t.ShortcutRegistry.prototype.getKeyMap=function(){return t.utils.object.deepMerge(Object.create(null),this.keyMap_)},t.ShortcutRegistry.prototype.getRegistry=function(){return t.utils.object.deepMerge(Object.create(null),this.registry_)},t.ShortcutRegistry.prototype.onKeyDown=function(e,n){var o=this.serializeKeyEvent_(n);if(!(o=this.getShortcutNamesByKeyCode(o)))return!1;for(var b,u=0;b=o[u];u++)if((!(b=this.registry_[b]).preconditionFn||b.preconditionFn(e))&&b.callback&&b.callback(e,n,b))return!0;return!1},t.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(e){return this.keyMap_[e]||[]},t.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(e){var o,n=[];for(o in this.keyMap_)-1<this.keyMap_[o].indexOf(e)&&n.push(o);return n},t.ShortcutRegistry.prototype.serializeKeyEvent_=function(e){var o,n="";for(o in t.ShortcutRegistry.modifierKeys)e.getModifierState(o)&&(""!=n&&(n+="+"),n+=o);return""!=n&&e.keyCode?n=n+"+"+e.keyCode:e.keyCode&&(n=e.keyCode.toString()),n},t.ShortcutRegistry.prototype.checkModifiers_=function(e){for(var u,n=t.utils.object.values(t.ShortcutRegistry.modifierKeys),o=0;u=e[o];o++)if(0>n.indexOf(u))throw Error(u+" is not a valid modifier key.")},t.ShortcutRegistry.prototype.createSerializedKey=function(e,n){var o="";if(n)for(var u in this.checkModifiers_(n),t.ShortcutRegistry.modifierKeys)-1<n.indexOf(t.ShortcutRegistry.modifierKeys[u])&&(""!=o&&(o+="+"),o+=u);return""!=o&&e?o=o+"+"+e:e&&(o=e.toString()),o},new t.ShortcutRegistry,t.VariableModel=function(e,n,o,u){this.workspace=e,this.name=n,this.type=o||"",this.id_=u||t.utils.genUid(),t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(this))},t.VariableModel.prototype.getId=function(){return this.id_},t.VariableModel.compareByName=function(e,n){return e.name.localeCompare(n.name,void 0,{sensitivity:"base"})},t.Variables={},t.Variables.NAME_TYPE=t.VARIABLE_CATEGORY_NAME,t.Variables.allUsedVarModels=function(e){var n=e.getAllBlocks(!1);e=Object.create(null);for(var o=0;o<n.length;o++){var u=n[o].getVarModels();if(u)for(var b=0;b<u.length;b++){var w=u[b],R=w.getId();R&&(e[R]=w)}}for(R in n=[],e)n.push(e[R]);return n},t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},t.Variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);for(var u,n=Object.create(null),o=0;u=e[o];o++){var b=u.getDeveloperVariables;if(!b&&u.getDeveloperVars&&(b=u.getDeveloperVars,t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[u.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+u.type+"')"),t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[u.type]=!0)),b)for(u=b(),b=0;b<u.length;b++)n[u[b]]=!0}return Object.keys(n)},t.Variables.flyoutCategory=function(e){var n=[],o=document.createElement("button");return o.setAttribute("text","%{BKY_NEW_VARIABLE}"),o.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(u){t.Variables.createVariableButtonHandler(u.getTargetWorkspace())}),n.push(o),e=t.Variables.flyoutCategoryBlocks(e),n.concat(e)},t.Variables.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getVariablesOfType("")).length){var o=e[e.length-1];if(t.Blocks.variables_set){var u=t.utils.xml.createElement("block");u.setAttribute("type","variables_set"),u.setAttribute("gap",t.Blocks.math_change?8:24),u.appendChild(t.Variables.generateVariableFieldDom(o)),n.push(u)}if(t.Blocks.math_change&&((u=t.utils.xml.createElement("block")).setAttribute("type","math_change"),u.setAttribute("gap",t.Blocks.variables_get?20:8),u.appendChild(t.Variables.generateVariableFieldDom(o)),o=t.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),u.appendChild(o),n.push(u)),t.Blocks.variables_get){e.sort(t.VariableModel.compareByName),o=0;for(var b;b=e[o];o++)(u=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),u.setAttribute("gap",8),u.appendChild(t.Variables.generateVariableFieldDom(b)),n.push(u)}}return n},t.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",t.Variables.generateUniqueName=function(e){return t.Variables.generateUniqueNameFromOptions(t.Variables.VAR_LETTER_OPTIONS.charAt(0),e.getAllVariableNames())},t.Variables.generateUniqueNameFromOptions=function(e,n){if(!n.length)return e;for(var o=t.Variables.VAR_LETTER_OPTIONS,u="",b=o.indexOf(e);;){for(var w=!1,R=0;R<n.length;R++)if(n[R].toLowerCase()==e){w=!0;break}if(!w)return e;++b==o.length&&(b=0,u=Number(u)+1),e=o.charAt(b)+u}},t.Variables.createVariableButtonHandler=function(e,n,o){var u=o||"",b=function(w){t.Variables.promptName(t.Msg.NEW_VARIABLE_TITLE,w,function(R){if(R){var N=t.Variables.nameUsedWithAnyType(R,e);if(N){if(N.type==u)var W=t.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",N.name);else W=(W=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",N.name).replace("%2",N.type);t.alert(W,function(){b(R)})}else e.createVariable(R,u),n&&n(R)}else n&&n(null)})};b("")},t.Variables.createVariable=t.Variables.createVariableButtonHandler,t.Variables.renameVariable=function(e,n,o){var u=function(b){var w=t.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);t.Variables.promptName(w,b,function(R){if(R){var N=t.Variables.nameUsedWithOtherType_(R,n.type,e);N?(N=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",N.name).replace("%2",N.type),t.alert(N,function(){u(R)})):(e.renameVariableById(n.getId(),R),o&&o(R))}else o&&o(null)})};u("")},t.Variables.promptName=function(e,n,o){t.prompt(e,n,function(u){u&&((u=u.replace(/[\s\xa0]+/g," ").trim())==t.Msg.RENAME_VARIABLE||u==t.Msg.NEW_VARIABLE)&&(u=null),o(u)})},t.Variables.nameUsedWithOtherType_=function(e,n,o){o=o.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var b,u=0;b=o[u];u++)if(b.name.toLowerCase()==e&&b.type!=n)return b;return null},t.Variables.nameUsedWithAnyType=function(e,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var u,o=0;u=n[o];o++)if(u.name.toLowerCase()==e)return u;return null},t.Variables.generateVariableFieldDom=function(e){var n=t.utils.xml.createElement("field");return n.setAttribute("name","VAR"),n.setAttribute("id",e.getId()),n.setAttribute("variabletype",e.type),e=t.utils.xml.createTextNode(e.name),n.appendChild(e),n},t.Variables.getOrCreateVariablePackage=function(e,n,o,u){var b=t.Variables.getVariable(e,n,o,u);return b||(b=t.Variables.createVariable_(e,n,o,u)),b},t.Variables.getVariable=function(e,n,o,u){var b=e.getPotentialVariableMap(),w=null;if(n&&(!(w=e.getVariableById(n))&&b&&(w=b.getVariableById(n)),w))return w;if(o){if(null==u)throw Error("Tried to look up a variable by name without a type");!(w=e.getVariable(o,u))&&b&&(w=b.getVariable(o,u))}return w},t.Variables.createVariable_=function(e,n,o,u){var b=e.getPotentialVariableMap();return o||(o=t.Variables.generateUniqueName(e.isFlyout?e.targetWorkspace:e)),b?b.createVariable(o,u,n):e.createVariable(o,u,n)},t.Variables.getAddedVariables=function(e,n){e=e.getAllVariables();var o=[];if(n.length!=e.length)for(var u=0;u<e.length;u++){var b=e[u];-1==n.indexOf(b)&&o.push(b)}return o},t.VERSION="6.20210701.0",t.mainWorkspace=null,t.selected=null,t.draggingConnections=[],t.clipboardXml_=null,t.clipboardSource_=null,t.clipboardTypeCounts_=null,t.cache3dSupported_=null,t.parentContainer=null,t.svgSize=function(e){return t.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new t.utils.Size(e.cachedWidth_,e.cachedHeight_)},t.resizeSvgContents=function(e){e.resizeContents()},t.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var n=e.getParentSvg(),o=e.getCachedParentSvgSize(),u=n.parentNode;if(u){var b=u.offsetWidth;u=u.offsetHeight,o.width!=b&&(n.setAttribute("width",b+"px"),e.setCachedParentSvgSize(b,null)),o.height!=u&&(n.setAttribute("height",u+"px"),e.setCachedParentSvgSize(null,u)),e.resize()}},t.onKeyDown=function(e){var n=t.mainWorkspace;n&&!(t.utils.isTargetInput(e)||n.rendered&&!n.isVisible())&&t.ShortcutRegistry.registry.onKeyDown(n,e)},t.deleteBlock=function(e){e.workspace.isFlyout||(t.Events.setGroup(!0),t.hideChaff(),e.dispose(!e.outputConnection,!0),t.Events.setGroup(!1))},t.copy=function(e){(e=e.toCopyData())&&(t.clipboardXml_=e.xml,t.clipboardSource_=e.source,t.clipboardTypeCounts_=e.typeCounts)},t.paste=function(){if(!t.clipboardXml_)return!1;var e=t.clipboardSource_;return e.isFlyout&&(e=e.targetWorkspace),!(!t.clipboardTypeCounts_||!e.isCapacityAvailable(t.clipboardTypeCounts_)||(t.Events.setGroup(!0),e.paste(t.clipboardXml_),t.Events.setGroup(!1),0))},t.duplicate=function(e){var n=t.clipboardXml_,o=t.clipboardSource_;t.copy(e),e.workspace.paste(t.clipboardXml_),t.clipboardXml_=n,t.clipboardSource_=o},t.onContextMenu_=function(e){t.utils.isTargetInput(e)||e.preventDefault()},t.hideChaff=function(e){t.Tooltip.hide(),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation();var n=!!e;t.getMainWorkspace().getComponentManager().getComponents(t.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach(function(o){o.autoHide(n)})},t.getMainWorkspace=function(){return t.mainWorkspace},t.alert=function(e,n){alert(e),n&&n()},t.confirm=function(e,n){n(confirm(e))},t.prompt=function(e,n,o){o(prompt(e,n))},t.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},t.defineBlocksWithJsonArray=function(e){for(var n=0;n<e.length;n++){var o=e[n];if(o){var u=o.type;null==u||""===u?console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping."):(t.Blocks[u]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+u+'".'),t.Blocks[u]={init:t.jsonInitFactory_(o)})}else console.warn("Block definition #"+n+" in JSON array is "+o+". Skipping.")}},t.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},t.hueToHex=function(e){return t.utils.colour.hsvToHex(e,t.HSV_SATURATION,255*t.HSV_VALUE)},t.checkBlockColourConstants=function(){t.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),t.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),t.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),t.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),t.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),t.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),t.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),t.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),t.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),t.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),t.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),t.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),t.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),t.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),t.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),t.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},t.checkBlockColourConstant_=function(e,n,o){for(var u="Blockly",b=t,w=0;w<n.length;++w)u+="."+n[w],b&&(b=b[n[w]]);b&&b!==o&&(e=(void 0===o?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",u).replace("%2",e),console.warn(e))},t.setParentContainer=function(e){t.parentContainer=e},t.bindEvent_=t.browserEvents.bind,t.unbindEvent_=t.browserEvents.unbind,t.bindEventWithChecks_=t.browserEvents.conditionalBind,t.ALIGN_LEFT=t.constants.ALIGN.LEFT,t.ALIGN_CENTRE=t.constants.ALIGN.CENTRE,t.ALIGN_RIGHT=t.constants.ALIGN.RIGHT,t.INPUT_VALUE=t.connectionTypes.INPUT_VALUE,t.OUTPUT_VALUE=t.connectionTypes.OUTPUT_VALUE,t.NEXT_STATEMENT=t.connectionTypes.NEXT_STATEMENT,t.PREVIOUS_STATEMENT=t.connectionTypes.PREVIOUS_STATEMENT,t.DUMMY_INPUT=t.inputTypes.DUMMY,t.TOOLBOX_AT_TOP=t.utils.toolbox.Position.TOP,t.TOOLBOX_AT_BOTTOM=t.utils.toolbox.Position.BOTTOM,t.TOOLBOX_AT_LEFT=t.utils.toolbox.Position.LEFT,t.TOOLBOX_AT_RIGHT=t.utils.toolbox.Position.RIGHT,t.Events.BubbleOpen=function(e,n,o){t.Events.BubbleOpen.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isOpen=n,this.bubbleType=o},t.utils.object.inherits(t.Events.BubbleOpen,t.Events.UiBase),t.Events.BubbleOpen.prototype.type=t.Events.BUBBLE_OPEN,t.Events.BubbleOpen.prototype.toJson=function(){var e=t.Events.BubbleOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId,e},t.Events.BubbleOpen.prototype.fromJson=function(e){t.Events.BubbleOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.BUBBLE_OPEN,t.Events.BubbleOpen),t.Icon=function(e){this.block_=e,this.iconGroup_=null},t.Icon.prototype.collapseHidden=!0,t.Icon.prototype.SIZE=17,t.Icon.prototype.bubble_=null,t.Icon.prototype.iconXY_=null,t.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),t.browserEvents.conditionalBind(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},t.Icon.prototype.dispose=function(){t.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},t.Icon.prototype.updateEditable=function(){},t.Icon.prototype.isVisible=function(){return!!this.bubble_},t.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||t.utils.isRightButton(e)||this.setVisible(!this.isVisible())},t.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},t.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},t.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),n=t.utils.getRelativeXY(this.iconGroup_);e=new t.utils.Coordinate(e.x+n.x+this.SIZE/2,e.y+n.y+this.SIZE/2),t.utils.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},t.Icon.prototype.getIconLocation=function(){return this.iconXY_},t.Icon.prototype.getCorrectedSize=function(){return new t.utils.Size(t.Icon.prototype.SIZE,t.Icon.prototype.SIZE-2)},t.Warning=function(e){t.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_=Object.create(null)},t.utils.object.inherits(t.Warning,t.Icon),t.Warning.prototype.collapseHidden=!1,t.Warning.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},t.Warning.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"warning")),e?this.createBubble_():this.disposeBubble_())},t.Warning.prototype.createBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.getText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},t.Warning.prototype.setText=function(e,n){this.text_[n]!=e&&(e?this.text_[n]=e:delete this.text_[n],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},t.Warning.prototype.getText=function(){var n,e=[];for(n in this.text_)e.push(this.text_[n]);return e.join("\n")},t.Warning.prototype.dispose=function(){this.block_.warning=null,t.Icon.prototype.dispose.call(this)},t.Comment=function(e){t.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},t.utils.object.inherits(t.Comment,t.Icon),t.Comment.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},t.Comment.prototype.createEditor_=function(){this.foreignObject_=t.utils.dom.createSvgElement(t.utils.Svg.FOREIGNOBJECT,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(t.utils.dom.HTML_NS,"body");e.setAttribute("xmlns",t.utils.dom.HTML_NS),e.className="blocklyMinimalBody";var n=this.textarea_=document.createElementNS(t.utils.dom.HTML_NS,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),n.value=this.model_.text,this.resizeTextarea_(),e.appendChild(n),this.foreignObject_.appendChild(e),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(n,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=t.browserEvents.conditionalBind(n,"wheel",this,function(o){o.stopPropagation()}),this.onChangeWrapper_=t.browserEvents.conditionalBind(n,"change",this,function(o){this.cachedText_!=this.model_.text&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))}),this.onInputWrapper_=t.browserEvents.conditionalBind(n,"input",this,function(o){this.model_.text=n.value}),setTimeout(n.focus.bind(n),0),this.foreignObject_},t.Comment.prototype.updateEditable=function(){t.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},t.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},t.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,n=2*t.Bubble.BORDER_WIDTH,o=e.width-n;e=e.height-n,this.foreignObject_.setAttribute("width",o),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=o-4+"px",this.textarea_.style.height=e-4+"px"},t.Comment.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"comment")),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},t.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||t.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},t.Comment.prototype.createEditableBubble_=function(){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},t.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&(t.browserEvents.unbind(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(t.browserEvents.unbind(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(t.browserEvents.unbind(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(t.browserEvents.unbind(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},t.Comment.prototype.startEdit_=function(e){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},t.Comment.prototype.getBubbleSize=function(){return this.model_.size},t.Comment.prototype.setBubbleSize=function(e,n){this.bubble_?this.bubble_.setBubbleSize(e,n):(this.model_.size.width=e,this.model_.size.height=n)},t.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},t.Comment.prototype.dispose=function(){this.block_.comment=null,t.Icon.prototype.dispose.call(this)},t.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(",")),t.IComponent=function(){},t.IDragTarget=function(){},t.DragTarget=function(){},t.DragTarget.prototype.onDragEnter=function(e){},t.DragTarget.prototype.onDragOver=function(e){},t.DragTarget.prototype.onDragExit=function(e){},t.DragTarget.prototype.onDrop=function(e){},t.DragTarget.prototype.shouldPreventMove=function(e){return!1},t.IDeleteArea=function(){},t.DeleteArea=function(){t.DeleteArea.superClass_.constructor.call(this),this.wouldDelete_=!1},t.utils.object.inherits(t.DeleteArea,t.DragTarget),t.DeleteArea.prototype.wouldDelete=function(e,n){return e instanceof t.BlockSvg?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!n)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_},t.DeleteArea.prototype.updateWouldDelete_=function(e){this.wouldDelete_=e},t.IFlyout=function(){},t.Flyout=function(e){t.Flyout.superClass_.constructor.call(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new t.WorkspaceSvg(e),this.workspace_.setMetricsManager(new t.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=t.utils.genUid(),this.RTL=!!e.RTL,this.horizontalLayout=!1,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},t.utils.object.inherits(t.Flyout,t.DeleteArea),t.Flyout.prototype.autoClose=!0,t.Flyout.prototype.isVisible_=!1,t.Flyout.prototype.containerVisible_=!0,t.Flyout.prototype.CORNER_RADIUS=8,t.Flyout.prototype.MARGIN=t.Flyout.prototype.CORNER_RADIUS,t.Flyout.prototype.GAP_X=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.GAP_Y=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.SCROLLBAR_MARGIN=2.5,t.Flyout.prototype.width_=0,t.Flyout.prototype.height_=0,t.Flyout.prototype.dragAngleRange_=70,t.Flyout.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},t.Flyout.prototype.init=function(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new t.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET]})},t.Flyout.prototype.dispose=function(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),t.browserEvents.unbind(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},t.Flyout.prototype.getWidth=function(){return this.width_},t.Flyout.prototype.getHeight=function(){return this.height_},t.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},t.Flyout.prototype.getWorkspace=function(){return this.workspace_},t.Flyout.prototype.isVisible=function(){return this.isVisible_},t.Flyout.prototype.setVisible=function(e){var n=e!=this.isVisible();this.isVisible_=e,n&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())},t.Flyout.prototype.setContainerVisible=function(e){var n=e!=this.containerVisible_;this.containerVisible_=e,n&&this.updateDisplay_()},t.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.workspace_.scrollbar.setContainerVisible(e)},t.Flyout.prototype.positionAt_=function(e,n,o,u){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",n),this.workspace_.setCachedParentSvgSize(e,n),"svg"==this.svgGroup_.tagName?t.utils.dom.setCssTransform(this.svgGroup_,"translate("+o+"px,"+u+"px)"):this.svgGroup_.setAttribute("transform","translate("+o+","+u+")"),(e=this.workspace_.scrollbar)&&(e.setOrigin(o,u),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))},t.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var n,e=0;n=this.listeners_[e];e++)t.browserEvents.unbind(n);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},t.Flyout.prototype.show=function(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=t.utils.toolbox.convertFlyoutDefToJsonArray(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push(t.browserEvents.conditionalBind(this.svgBackground_,"mouseover",this,function(){for(var u,n=this.workspace_.getTopBlocks(!1),o=0;u=n[o];o++)u.removeSelect()})),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.createFlyoutInfo_=function(e){var n=[],o=[];this.permanentlyDisabled_.length=0;for(var w,u=this.horizontalLayout?this.GAP_X:this.GAP_Y,b=0;w=e[b];b++)switch(w.custom&&(w=this.getDynamicCategoryContents_(w.custom),w=t.utils.toolbox.convertFlyoutDefToJsonArray(w),e.splice.apply(e,[b,1].concat(w)),w=e[b]),w.kind.toUpperCase()){case"BLOCK":var R=w,N=this.getBlockXml_(R);w=this.createBlock_(N),R=parseInt(R.gap||N.getAttribute("gap"),10),o.push(isNaN(R)?u:R),n.push({type:"block",block:w});break;case"SEP":this.addSeparatorGap_(w,o,u);break;case"LABEL":w=this.createButton_(w,!0),n.push({type:"button",button:w}),o.push(u);break;case"BUTTON":w=this.createButton_(w,!1),n.push({type:"button",button:w}),o.push(u)}return{contents:n,gaps:o}},t.Flyout.prototype.getDynamicCategoryContents_=function(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw new TypeError("Result of toolbox category callback must be an array.");return e},t.Flyout.prototype.createButton_=function(e,n){if(!t.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new t.FlyoutButton(this.workspace_,this.targetWorkspace,e,n)},t.Flyout.prototype.createBlock_=function(e){return(e=t.Xml.domToBlock(e,this.workspace_)).isEnabled()||this.permanentlyDisabled_.push(e),e},t.Flyout.prototype.getBlockXml_=function(e){var n=null,o=e.blockxml;if(o&&"string"!=typeof o?n=o:o&&"string"==typeof o?(n=t.Xml.textToDom(o),e.blockxml=n):e.type&&((n=t.utils.xml.createElement("xml")).setAttribute("type",e.type),n.setAttribute("disabled",e.disabled),e.blockxml=n),!n)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return n},t.Flyout.prototype.addSeparatorGap_=function(e,n,o){e=parseInt(e.gap,10),!isNaN(e)&&0<n.length?n[n.length-1]=e:n.push(o)},t.Flyout.prototype.clearOldBlocks_=function(){for(var o,e=this.workspace_.getTopBlocks(!1),n=0;o=e[n];n++)o.workspace==this.workspace_&&o.dispose(!1,!1);for(n=0;n<this.mats_.length;n++)(e=this.mats_[n])&&(t.Tooltip.unbindMouseEvents(e),t.utils.dom.removeNode(e));for(n=this.mats_.length=0;e=this.buttons_[n];n++)e.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},t.Flyout.prototype.addBlockListeners_=function(e,n,o){this.listeners_.push(t.browserEvents.conditionalBind(e,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.browserEvents.conditionalBind(o,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.browserEvents.bind(e,"mouseenter",n,n.addSelect)),this.listeners_.push(t.browserEvents.bind(e,"mouseleave",n,n.removeSelect)),this.listeners_.push(t.browserEvents.bind(o,"mouseenter",n,n.addSelect)),this.listeners_.push(t.browserEvents.bind(o,"mouseleave",n,n.removeSelect))},t.Flyout.prototype.blockMouseDown_=function(e){var n=this;return function(o){var u=n.targetWorkspace.getGesture(o);u&&(u.setStartBlock(e),u.handleFlyoutStart(o,n))}},t.Flyout.prototype.onMouseDown_=function(e){var n=this.targetWorkspace.getGesture(e);n&&n.handleFlyoutStart(e,this)},t.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},t.Flyout.prototype.createBlock=function(e){var n=null;t.Events.disable();var o=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{n=this.placeNewBlock_(e)}finally{t.Events.enable()}if(t.hideChaff(),e=t.Variables.getAddedVariables(this.targetWorkspace,o),t.Events.isEnabled()){for(t.Events.setGroup(!0),o=0;o<e.length;o++){var u=e[o];t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(u))}t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n))}return this.autoClose?this.hide():this.filterForCapacity_(),n},t.Flyout.prototype.initFlyoutButton_=function(e,n,o){var u=e.createDom();e.moveTo(n,o),e.show(),this.listeners_.push(t.browserEvents.conditionalBind(u,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},t.Flyout.prototype.createRect_=function(e,n,o,u,b){return(n=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{"fill-opacity":0,x:n,y:o,height:u.height,width:u.width},null)).tooltip=e,t.Tooltip.bindMouseEvents(n),this.workspace_.getCanvas().insertBefore(n,e.getSvgRoot()),e.flyoutRect_=n,this.mats_[b]=n},t.Flyout.prototype.moveRectToBlock_=function(e,n){var o=n.getHeightWidth();e.setAttribute("width",o.width),e.setAttribute("height",o.height),n=n.getRelativeToSurfaceXY(),e.setAttribute("y",n.y),e.setAttribute("x",this.RTL?n.x-o.width:n.x)},t.Flyout.prototype.filterForCapacity_=function(){for(var o,e=this.workspace_.getTopBlocks(!1),n=0;o=e[n];n++)if(-1==this.permanentlyDisabled_.indexOf(o))for(var u=this.targetWorkspace.isCapacityAvailable(t.utils.getBlockTypeCounts(o));o;)o.setEnabled(u),o=o.getNextBlock()},t.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},t.Flyout.prototype.placeNewBlock_=function(e){var n=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");var o=t.Xml.blockToDom(e,!0);if(n.setResizesEnabled(!1),!(o=t.Xml.domToBlock(o,n)).getSvgRoot())throw Error("block is not rendered.");var u=n.getOriginOffsetInPixels(),b=this.workspace_.getOriginOffsetInPixels();return(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),e=t.utils.Coordinate.sum(b,e),(u=t.utils.Coordinate.difference(e,u)).scale(1/n.scale),o.moveBy(u.x,u.y),o},t.HorizontalFlyout=function(e){t.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout=!0},t.utils.object.inherits(t.HorizontalFlyout,t.Flyout),t.HorizontalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var n=this.workspace_.getMetricsManager(),o=n.getScrollMetrics(),u=n.getViewMetrics();n=n.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(o.left+(o.width-u.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+n.left,this.workspace_.scrollY+n.top)}},t.HorizontalFlyout.prototype.getX=function(){return 0},t.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),n=e.getAbsoluteMetrics(),o=e.getViewMetrics();e=e.getToolboxMetrics();var u=this.toolboxPosition_==t.utils.toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?u?e.height:o.height-this.height_:u?0:o.height:u?0:o.height+n.top-this.height_},t.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var n=this.getY();this.positionAt_(this.width_,this.height_,e,n)}},t.HorizontalFlyout.prototype.setBackgroundPath_=function(e,n){var o=this.toolboxPosition_==t.utils.toolbox.Position.TOP,u=["M 0,"+(o?0:this.CORNER_RADIUS)];o?(u.push("h",e+2*this.CORNER_RADIUS),u.push("v",n),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",-e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),u.push("h",e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",n),u.push("h",-e-2*this.CORNER_RADIUS)),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))},t.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},t.HorizontalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n=n.x||n.y){var o=this.workspace_.getMetricsManager(),u=o.getScrollMetrics();n=o.getViewMetrics().left-u.left+n,this.workspace_.scrollbar.setX(n),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.HorizontalFlyout.prototype.layout_=function(e,n){this.workspace_.scale=this.targetWorkspace.scale;var o=this.MARGIN,u=o+this.tabWidth_;this.RTL&&(e=e.reverse());for(var w,b=0;w=e[b];b++)if("block"==w.type){for(var W,R=(w=w.block).getDescendants(!1),N=0;W=R[N];N++)W.isInFlyout=!0;w.render(),R=w.getSvgRoot(),N=w.getHeightWidth(),W=w.outputConnection?this.tabWidth_:0,w.moveBy(W=this.RTL?u+N.width:u-W,o),W=this.createRect_(w,W,o,N,b),u+=N.width+n[b],this.addBlockListeners_(R,w,W)}else"button"==w.type&&(this.initFlyoutButton_(w.button,u,o),u+=w.button.width+n[b])},t.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var n=this.dragAngleRange_;return e<90+n&&e>90-n||e>-90-n&&e<-90+n},t.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top;return this.toolboxPosition_==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e9,n+e.height,-1e9,1e9):new t.utils.Rect(n,1e9,-1e9,1e9)},t.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var u,e=0,n=this.workspace_.getTopBlocks(!1),o=0;u=n[o];o++)e=Math.max(e,u.getHeightWidth().height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,this.height_!=(e+=t.Scrollbar.scrollbarThickness)){for(o=0;u=n[o];o++)u.flyoutRect_&&this.moveRectToBlock_(u.flyoutRect_,u);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.recordDragTargets()}},t.registry.register(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,t.registry.DEFAULT,t.HorizontalFlyout),t.VerticalFlyout=function(e){t.VerticalFlyout.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.VerticalFlyout,t.Flyout),t.VerticalFlyout.registryName="verticalFlyout",t.VerticalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var n=this.workspace_.getMetricsManager(),o=n.getScrollMetrics(),u=n.getViewMetrics();n=n.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(o.top+(o.height-u.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+n.left,this.workspace_.scrollY+n.top)}},t.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),n=e.getAbsoluteMetrics(),o=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_==t.utils.toolbox.Position.LEFT?e.width:o.width-this.width_:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:o.width:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:o.width+n.left-this.width_},t.VerticalFlyout.prototype.getY=function(){return 0},t.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var n=this.getY();this.positionAt_(this.width_,this.height_,e,n)}},t.VerticalFlyout.prototype.setBackgroundPath_=function(e,n){var o=this.toolboxPosition_==t.utils.toolbox.Position.RIGHT,u=e+this.CORNER_RADIUS;(u=["M "+(o?u:0)+",0"]).push("h",o?-e:e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",Math.max(0,n)),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",o?e:-e),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))},t.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},t.VerticalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n.y){var o=this.workspace_.getMetricsManager(),u=o.getScrollMetrics();n=o.getViewMetrics().top-u.top+n.y,this.workspace_.scrollbar.setY(n),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.VerticalFlyout.prototype.layout_=function(e,n){this.workspace_.scale=this.targetWorkspace.scale;for(var w,o=this.MARGIN,u=this.RTL?o:o+this.tabWidth_,b=0;w=e[b];b++)if("block"==w.type){for(var W,R=(w=w.block).getDescendants(!1),N=0;W=R[N];N++)W.isInFlyout=!0;w.render(),R=w.getSvgRoot(),N=w.getHeightWidth(),w.moveBy(W=w.outputConnection?u-this.tabWidth_:u,o),W=this.createRect_(w,this.RTL?W-N.width:W,o,N,b),this.addBlockListeners_(R,w,W),o+=N.height+n[b]}else"button"==w.type&&(this.initFlyoutButton_(w.button,u,o),o+=w.button.height+n[b])},t.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var n=this.dragAngleRange_;return e<n&&e>-n||e<-180+n||e>180-n},t.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.left;return this.toolboxPosition_==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e9,1e9,-1e9,n+e.width):new t.utils.Rect(-1e9,1e9,n,1e9)},t.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var u,e=0,n=this.workspace_.getTopBlocks(!1),o=0;u=n[o];o++){var b=u.getHeightWidth().width;u.outputConnection&&(b-=this.tabWidth_),e=Math.max(e,b)}for(o=0;u=this.buttons_[o];o++)e=Math.max(e,u.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,this.width_!=(e+=t.Scrollbar.scrollbarThickness)){for(o=0;u=n[o];o++){if(this.RTL){b=u.getRelativeToSurfaceXY().x;var w=e/this.workspace_.scale-this.MARGIN;u.outputConnection||(w-=this.tabWidth_),u.moveBy(w-b,0)}u.flyoutRect_&&this.moveRectToBlock_(u.flyoutRect_,u)}if(this.RTL)for(o=0;u=this.buttons_[o];o++)n=u.getPosition().y,u.moveTo(e/this.workspace_.scale-u.width-this.MARGIN-this.tabWidth_,n);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.recordDragTargets()}},t.registry.register(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,t.registry.DEFAULT,t.VerticalFlyout),t.FlyoutButton=function(e,n,o,u){this.workspace_=e,this.targetWorkspace_=n,this.text_=o.text,this.position_=new t.utils.Coordinate(0,0),this.isLabel_=u,this.callbackKey_=o.callbackKey||o.callbackkey,this.cssClass_=o["web-class"]||null,this.onMouseUpWrapper_=null,this.info=o},t.FlyoutButton.MARGIN_X=5,t.FlyoutButton.MARGIN_Y=2,t.FlyoutButton.prototype.width=0,t.FlyoutButton.prototype.height=0,t.FlyoutButton.prototype.createDom=function(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},this.workspace_.getCanvas()),!this.isLabel_)var n=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);e=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var o=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),u=t.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(u+="\u200f"),o.textContent=u,this.isLabel_&&(this.svgText_=o,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var b=t.utils.style.getComputedStyle(o,"fontSize"),w=t.utils.style.getComputedStyle(o,"fontWeight"),R=t.utils.style.getComputedStyle(o,"fontFamily");return this.width=t.utils.dom.getFastTextWidthWithSizeString(o,b,w,R),u=t.utils.dom.measureFontMetrics(u,b,w,R),this.height=u.height,this.isLabel_||(this.width+=2*t.FlyoutButton.MARGIN_X,this.height+=2*t.FlyoutButton.MARGIN_Y,n.setAttribute("width",this.width),n.setAttribute("height",this.height)),e.setAttribute("width",this.width),e.setAttribute("height",this.height),o.setAttribute("x",this.width/2),o.setAttribute("y",this.height/2-u.height/2+u.baseline),this.updateTransform_(),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},t.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},t.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},t.FlyoutButton.prototype.moveTo=function(e,n){this.position_.x=e,this.position_.y=n,this.updateTransform_()},t.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},t.FlyoutButton.prototype.getPosition=function(){return this.position_},t.FlyoutButton.prototype.getButtonText=function(){return this.text_},t.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},t.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&t.browserEvents.unbind(this.onMouseUpWrapper_),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},t.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},t.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(",")),t.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},t.Generator.prototype.INFINITE_LOOP_TRAP=null,t.Generator.prototype.STATEMENT_PREFIX=null,t.Generator.prototype.STATEMENT_SUFFIX=null,t.Generator.prototype.INDENT="  ",t.Generator.prototype.COMMENT_WRAP=60,t.Generator.prototype.ORDER_OVERRIDES=[],t.Generator.prototype.isInitialized=null,t.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=t.getMainWorkspace());var n=[];this.init(e),e=e.getTopBlocks(!0);for(var u,o=0;u=e[o];o++){var b=this.blockToCode(u);Array.isArray(b)&&(b=b[0]),b&&(u.outputConnection&&(b=this.scrubNakedValue(b),this.STATEMENT_PREFIX&&!u.suppressPrefixSuffix&&(b=this.injectId(this.STATEMENT_PREFIX,u)+b),this.STATEMENT_SUFFIX&&!u.suppressPrefixSuffix&&(b+=this.injectId(this.STATEMENT_SUFFIX,u))),n.push(b))}return n=n.join("\n"),(n=(n=(n=this.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},t.Generator.prototype.prefixLines=function(e,n){return n+e.replace(/(?!\n$)\n/g,"\n"+n)},t.Generator.prototype.allNestedComments=function(e){var n=[];e=e.getDescendants(!0);for(var o=0;o<e.length;o++){var u=e[o].getCommentText();u&&n.push(u)}return n.length&&n.push(""),n.join("\n")},t.Generator.prototype.blockToCode=function(e,n){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return n?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return n?"":this.blockToCode(e.getChildren(!1)[0]);var o=this[e.type];if("function"!=typeof o)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(o=o.call(e,e),Array.isArray(o)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,o[0],n),o[1]]}if("string"==typeof o)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,e)+o),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,o,n);if(null===o)return"";throw SyntaxError("Invalid code generated: "+o)},t.Generator.prototype.valueToCode=function(e,n,o){if(isNaN(o))throw TypeError("Expecting valid order from block: "+e.type);var u=e.getInputTargetBlock(n);if(!u||""===(n=this.blockToCode(u)))return"";if(!Array.isArray(n))throw TypeError("Expecting tuple from value block: "+u.type);if(e=n[0],n=n[1],isNaN(n))throw TypeError("Expecting valid order from value block: "+u.type);if(!e)return"";u=!1;var b=Math.floor(o),w=Math.floor(n);if(b<=w&&(b!=w||0!=b&&99!=b))for(u=!0,b=0;b<this.ORDER_OVERRIDES.length;b++)if(this.ORDER_OVERRIDES[b][0]==o&&this.ORDER_OVERRIDES[b][1]==n){u=!1;break}return u&&(e="("+e+")"),e},t.Generator.prototype.statementToCode=function(e,n){if(e=e.getInputTargetBlock(n),"string"!=typeof(n=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return n&&(n=this.prefixLines(n,this.INDENT)),n},t.Generator.prototype.addLoopTrap=function(e,n){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,n),this.INDENT)+e),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,n),this.INDENT)+e),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,n),this.INDENT)),e},t.Generator.prototype.injectId=function(e,n){return n=n.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+n+"'")},t.Generator.prototype.RESERVED_WORDS_="",t.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},t.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Object.defineProperty(t.Generator.prototype,"variableDB_",{get:function(){return t.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_},set:function(e){t.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_=e}}),t.Generator.prototype.provideFunction_=function(e,n){if(!this.definitions_[e]){var u,o=this.nameDB_.getDistinctName(e,t.PROCEDURE_CATEGORY_NAME);for(this.functionNames_[e]=o,n=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);u!=n;)u=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[e]=n}return this.functionNames_[e]},t.Generator.prototype.init=function(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)},t.Generator.prototype.scrub_=function(e,n,o){return n},t.Generator.prototype.finish=function(e){return delete this.definitions_,delete this.functionNames_,e},t.Generator.prototype.scrubNakedValue=function(e){return e},t.IToolboxItem=function(){},t.ISelectableToolboxItem=function(){},t.ICollapsibleToolboxItem=function(){},t.ToolboxItem=function(e,n,o){this.id_=e.toolboxitemid||t.utils.IdGenerator.getNextUniqueId(),this.level_=(this.parent_=o||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=n,this.workspace_=this.parentToolbox_.getWorkspace()},t.ToolboxItem.prototype.init=function(){},t.ToolboxItem.prototype.getDiv=function(){return null},t.ToolboxItem.prototype.getId=function(){return this.id_},t.ToolboxItem.prototype.getParent=function(){return null},t.ToolboxItem.prototype.getLevel=function(){return this.level_},t.ToolboxItem.prototype.isSelectable=function(){return!1},t.ToolboxItem.prototype.isCollapsible=function(){return!1},t.ToolboxItem.prototype.dispose=function(){},t.ToolboxCategory=function(e,n,o){t.ToolboxCategory.superClass_.constructor.call(this,e,n,o),this.name_=t.utils.replaceMessageReferences(e.name),this.colour_=this.getColour_(e),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(e)},t.utils.object.inherits(t.ToolboxCategory,t.ToolboxItem),t.ToolboxCategory.registrationName="category",t.ToolboxCategory.nestedPadding=19,t.ToolboxCategory.borderWidth=8,t.ToolboxCategory.defaultBackgroundColour="#57e",t.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},t.ToolboxCategory.prototype.parseContents_=function(e){var n=e.contents;if(e.custom)this.flyoutItems_=e.custom;else if(n){e=0;for(var o;o=n[e];e++)this.flyoutItems_.push(o)}},t.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"==this.toolboxItemDef_.hidden&&this.hide()},t.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),t.utils.aria.setRole(this.htmlDiv_,t.utils.aria.Role.TREEITEM),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,!1),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),t.utils.aria.setRole(this.iconDom_,t.utils.aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},t.ToolboxCategory.prototype.createContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),e},t.ToolboxCategory.prototype.createRowContainer_=function(){var e=document.createElement("div");t.utils.dom.addClass(e,this.cssConfig_.row);var n=t.ToolboxCategory.nestedPadding*this.getLevel();return n=n.toString()+"px",this.workspace_.RTL?e.style.paddingRight=n:e.style.paddingLeft=n,e},t.ToolboxCategory.prototype.createRowContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.rowcontentcontainer),e},t.ToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.display="inline-block",e},t.ToolboxCategory.prototype.createLabelDom_=function(e){var n=document.createElement("span");return n.setAttribute("id",this.getId()+".label"),n.textContent=e,t.utils.dom.addClass(n,this.cssConfig_.label),n},t.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},t.ToolboxCategory.prototype.addColourBorder_=function(e){e&&(e=t.ToolboxCategory.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)},t.ToolboxCategory.prototype.getColour_=function(e){var n=e.categorystyle||e.categoryStyle;return(e=e.colour)&&n?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):n?this.getColourfromStyle_(n):this.parseColour_(e)},t.ToolboxCategory.prototype.getColourfromStyle_=function(e){var n=this.workspace_.getTheme();if(e&&n){if((n=n.categoryStyles[e])&&n.colour)return this.parseColour_(n.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""},t.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},t.ToolboxCategory.prototype.parseColour_=function(e){if(null==(e=t.utils.replaceMessageReferences(e))||""===e)return"";var n=Number(e);return isNaN(n)?(n=t.utils.colour.parse(e))?n:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):t.hueToHex(n)},t.ToolboxCategory.prototype.openIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.closedicon),t.utils.dom.addClass(e,this.cssConfig_.openicon))},t.ToolboxCategory.prototype.closeIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.openicon),t.utils.dom.addClass(e,this.cssConfig_.closedicon))},t.ToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},t.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},t.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},t.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var e=this;e.getParent();)if(!(e=e.getParent()).isExpanded())return!1;return!0},t.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},t.ToolboxCategory.prototype.onClick=function(e){},t.ToolboxCategory.prototype.setSelected=function(e){if(e){var n=this.parseColour_(t.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||n,t.utils.dom.addClass(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",t.utils.dom.removeClass(this.rowDiv_,this.cssConfig_.selected);t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,e)},t.ToolboxCategory.prototype.setDisabled=function(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",e),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},t.ToolboxCategory.prototype.getName=function(){return this.name_},t.ToolboxCategory.prototype.getParent=function(){return this.parent_},t.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},t.ToolboxCategory.prototype.updateFlyoutContents=function(e){this.flyoutItems_=[],"string"==typeof e?this.toolboxItemDef_.custom=e:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=t.utils.toolbox.convertFlyoutDefToJsonArray(e)),this.parseContents_(this.toolboxItemDef_)},t.ToolboxCategory.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxCategory.registrationName,t.ToolboxCategory),t.ToolboxSeparator=function(e,n){t.ToolboxSeparator.superClass_.constructor.call(this,e,n),this.cssConfig_={container:"blocklyTreeSeparator"},t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig)},t.utils.object.inherits(t.ToolboxSeparator,t.ToolboxItem),t.ToolboxSeparator.registrationName="sep",t.ToolboxSeparator.prototype.init=function(){this.createDom_()},t.ToolboxSeparator.prototype.createDom_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),this.htmlDiv_=e},t.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxSeparator.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(",")),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxSeparator.registrationName,t.ToolboxSeparator),t.CollapsibleToolboxCategory=function(e,n,o){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],t.CollapsibleToolboxCategory.superClass_.constructor.call(this,e,n,o)},t.utils.object.inherits(t.CollapsibleToolboxCategory,t.ToolboxCategory),t.CollapsibleToolboxCategory.registrationName="collapsibleCategory",t.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var e=t.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return e.contents="blocklyToolboxContents",e},t.CollapsibleToolboxCategory.prototype.parseContents_=function(e){var n=e.contents,o=!0;if(e.custom)this.flyoutItems_=e.custom;else if(n){e=0;for(var u;u=n[e];e++)!t.registry.hasItem(t.registry.Type.TOOLBOX_ITEM,u.kind)||u.kind.toLowerCase()==t.ToolboxSeparator.registrationName&&o?(this.flyoutItems_.push(u),o=!0):(this.createToolboxItem_(u),o=!1)}},t.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(e){var n=e.kind;"CATEGORY"==n.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(n=t.CollapsibleToolboxCategory.registrationName),e=new(t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,n))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)},t.CollapsibleToolboxCategory.prototype.init=function(){t.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"==this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},t.CollapsibleToolboxCategory.prototype.createDom_=function(){t.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),t.utils.aria.setRole(this.subcategoriesDiv_,t.utils.aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||(t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.visibility="visible"),e.style.display="inline-block",e},t.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(e){var n=document.createElement("div");t.utils.dom.addClass(n,this.cssConfig_.contents);for(var o=0;o<e.length;o++){var u=e[o];u.init();var b=u.getDiv();n.appendChild(b),u.getClickTarget&&u.getClickTarget().setAttribute("id",u.getId())}return n},t.CollapsibleToolboxCategory.prototype.setExpanded=function(e){this.expanded_!=e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())},t.CollapsibleToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none";for(var o,n=0;o=this.getChildToolboxItems()[n];n++)o.setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},t.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},t.CollapsibleToolboxCategory.prototype.onClick=function(e){this.toggleExpanded()},t.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},t.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.CollapsibleToolboxCategory.registrationName,t.CollapsibleToolboxCategory),t.Events.ToolboxItemSelect=function(e,n,o){t.Events.ToolboxItemSelect.superClass_.constructor.call(this,o),this.oldItem=e,this.newItem=n},t.utils.object.inherits(t.Events.ToolboxItemSelect,t.Events.UiBase),t.Events.ToolboxItemSelect.prototype.type=t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect.prototype.toJson=function(){var e=t.Events.ToolboxItemSelect.superClass_.toJson.call(this);return e.oldItem=this.oldItem,e.newItem=this.newItem,e},t.Events.ToolboxItemSelect.prototype.fromJson=function(e){t.Events.ToolboxItemSelect.superClass_.fromJson.call(this,e),this.oldItem=e.oldItem,this.newItem=e.newItem},t.registry.register(t.registry.Type.EVENT,t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect),t.IAutoHideable=function(){},t.IStyleable=function(){},t.IToolbox=function(){},t.Toolbox=function(e){t.Toolbox.superClass_.constructor.call(this),this.workspace_=e,this.id="toolbox",this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.RTL=e.options.RTL,this.flyout_=null,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]},t.utils.object.inherits(t.Toolbox,t.DeleteArea),t.Toolbox.prototype.onShortcut=function(e){return!1},t.Toolbox.prototype.init=function(){var e=this.workspace_,n=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),t.utils.dom.insertAfter(this.flyout_.createDom("svg"),n),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.AUTOHIDEABLE,t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET]})},t.Toolbox.prototype.createDom_=function(e){e=e.getParentSvg();var n=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,t.utils.aria.setRole(this.contentsDiv_,t.utils.aria.Role.TREE),n.appendChild(this.contentsDiv_),e.parentNode.insertBefore(n,e),this.attachEvents_(n,this.contentsDiv_),n},t.Toolbox.prototype.createContainer_=function(){var e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),t.utils.dom.addClass(e,"blocklyToolboxDiv"),t.utils.dom.addClass(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e},t.Toolbox.prototype.createContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e},t.Toolbox.prototype.attachEvents_=function(e,n){e=t.browserEvents.conditionalBind(e,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(e),n=t.browserEvents.conditionalBind(n,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(n)},t.Toolbox.prototype.onClick_=function(e){if(t.utils.isRightButton(e)||e.target==this.HtmlDiv)t.hideChaff(!1);else{var n=e.target.getAttribute("id");n&&(n=this.getToolboxItemById(n)).isSelectable()&&(this.setSelectedItem(n),n.onClick(e)),t.hideChaff(!0)}t.Touch.clearTouchIdentifier()},t.Toolbox.prototype.onKeyDown_=function(e){var n=!1;switch(e.keyCode){case t.utils.KeyCodes.DOWN:n=this.selectNext_();break;case t.utils.KeyCodes.UP:n=this.selectPrevious_();break;case t.utils.KeyCodes.LEFT:n=this.selectParent_();break;case t.utils.KeyCodes.RIGHT:n=this.selectChild_();break;case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),n=!0);break;default:n=!1}!n&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(n=this.selectedItem_.onKeyDown(e)),n&&e.preventDefault()},t.Toolbox.prototype.createFlyout_=function(){var e=this.workspace_,n=new t.Options({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=e.options.toolboxPosition,new(t.registry.getClassFromOptions(e.horizontalLayout?t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX:t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(n)},t.Toolbox.prototype.render=function(e){this.toolboxDef_=e;for(var n=0;n<this.contents_.length;n++){var o=this.contents_[n];o&&o.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()},t.Toolbox.prototype.renderContents_=function(e){for(var u,n=document.createDocumentFragment(),o=0;u=e[o];o++)this.createToolboxItem_(u,n);this.contentsDiv_.appendChild(n)},t.Toolbox.prototype.createToolboxItem_=function(e,n){var o=e.kind;"CATEGORY"==o.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(o=t.CollapsibleToolboxCategory.registrationName),(o=t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,o.toLowerCase()))&&(e=new o(e,this),this.addToolboxItem_(e),e.init(),(o=e.getDiv())&&n.appendChild(o),e.getClickTarget&&e.getClickTarget().setAttribute("id",e.getId()))},t.Toolbox.prototype.addToolboxItem_=function(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible())for(var o,n=0;o=e.getChildToolboxItems()[n];n++)this.addToolboxItem_(o)},t.Toolbox.prototype.getToolboxItems=function(){return this.contents_},t.Toolbox.prototype.addStyle=function(e){t.utils.dom.addClass(this.HtmlDiv,e)},t.Toolbox.prototype.removeStyle=function(e){t.utils.dom.removeClass(this.HtmlDiv,e)},t.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect(),n=e.top,o=n+e.height,u=e.left;return e=u+e.width,this.toolboxPosition==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e7,o,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.BOTTOM?new t.utils.Rect(n,1e7,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e7,1e7,-1e7,e):new t.utils.Rect(-1e7,1e7,u,1e7)},t.Toolbox.prototype.wouldDelete=function(e,n){return this.updateWouldDelete_(e instanceof t.BlockSvg?!e.getParent()&&e.isDeletable():e.isDeletable()),this.wouldDelete_},t.Toolbox.prototype.onDragEnter=function(e){this.updateCursorDeleteStyle_(!0)},t.Toolbox.prototype.onDragExit=function(e){this.updateCursorDeleteStyle_(!1)},t.Toolbox.prototype.onDrop=function(e){this.updateCursorDeleteStyle_(!1)},t.Toolbox.prototype.updateWouldDelete_=function(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))},t.Toolbox.prototype.updateCursorDeleteStyle_=function(e){var n=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(n):this.removeStyle(n)},t.Toolbox.prototype.getToolboxItemById=function(e){return this.contentMap_[e]||null},t.Toolbox.prototype.getWidth=function(){return this.width_},t.Toolbox.prototype.getHeight=function(){return this.height_},t.Toolbox.prototype.getFlyout=function(){return this.flyout_},t.Toolbox.prototype.getWorkspace=function(){return this.workspace_},t.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},t.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},t.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},t.Toolbox.prototype.position=function(){var e=this.workspace_.getMetrics(),n=this.HtmlDiv;n&&(this.horizontalLayout_?(n.style.left="0",n.style.height="auto",n.style.width="100%",this.height_=n.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition==t.utils.toolbox.Position.TOP?n.style.top="0":n.style.bottom="0"):(this.toolboxPosition==t.utils.toolbox.Position.RIGHT?n.style.right="0":n.style.left="0",n.style.height="100%",this.width_=n.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())},t.Toolbox.prototype.handleToolboxItemResize=function(){var e=this.workspace_,n=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition==t.utils.toolbox.Position.LEFT?e.scrollX+n.width:e.scrollX,this.toolboxPosition==t.utils.toolbox.Position.TOP?e.scrollY+n.height:e.scrollY),t.svgResize(e)},t.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},t.Toolbox.prototype.refreshTheme=function(){for(var e=0;e<this.contents_.length;e++){var n=this.contents_[e];n.refreshTheme&&n.refreshTheme()}},t.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},t.Toolbox.prototype.setVisible=function(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())},t.Toolbox.prototype.autoHide=function(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()},t.Toolbox.prototype.setSelectedItem=function(e){var n=this.selectedItem_;!e&&!n||e&&!e.isSelectable()||(this.shouldDeselectItem_(n,e)&&null!=n&&this.deselectItem_(n),this.shouldSelectItem_(n,e)&&null!=e&&this.selectItem_(n,e),this.updateFlyout_(n,e),this.fireSelectEvent_(n,e))},t.Toolbox.prototype.shouldDeselectItem_=function(e,n){return null!=e&&(!e.isCollapsible()||e!=n)},t.Toolbox.prototype.shouldSelectItem_=function(e,n){return null!=n&&n!=e},t.Toolbox.prototype.deselectItem_=function(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,"")},t.Toolbox.prototype.selectItem_=function(e,n){this.selectedItem_=n,this.previouslySelectedItem_=e,n.setSelected(!0),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,n.getId())},t.Toolbox.prototype.selectItemByPosition=function(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)},t.Toolbox.prototype.updateFlyout_=function(e,n){(e!=n||n.isCollapsible())&&n&&n.getContents().length?(this.flyout_.show(n.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},t.Toolbox.prototype.fireSelectEvent_=function(e,n){var o=e&&e.getName(),u=n&&n.getName();e==n&&(u=null),e=new(t.Events.get(t.Events.TOOLBOX_ITEM_SELECT))(o,u,this.workspace_.id),t.Events.fire(e)},t.Toolbox.prototype.selectParent_=function(){return!(!this.selectedItem_||(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),0):!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable()||(this.setSelectedItem(this.selectedItem_.getParent()),0)))},t.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.setExpanded(!0),!0},t.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){for(var n=this.contents_[e];n&&!n.isSelectable();)n=this.contents_[++e];if(n&&n.isSelectable())return this.setSelectedItem(n),!0}return!1},t.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){for(var n=this.contents_[e];n&&!n.isSelectable();)n=this.contents_[--e];if(n&&n.isSelectable())return this.setSelectedItem(n),!0}return!1},t.Toolbox.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)t.browserEvents.unbind(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),t.utils.dom.removeNode(this.HtmlDiv)},t.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;","}",".blocklyToolboxContents:focus {","outline: none;","}"]),t.registry.register(t.registry.Type.TOOLBOX,t.registry.DEFAULT,t.Toolbox),t.Events.TrashcanOpen=function(e,n){t.Events.TrashcanOpen.superClass_.constructor.call(this,n),this.isOpen=e},t.utils.object.inherits(t.Events.TrashcanOpen,t.Events.UiBase),t.Events.TrashcanOpen.prototype.type=t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen.prototype.toJson=function(){var e=t.Events.TrashcanOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e},t.Events.TrashcanOpen.prototype.fromJson=function(e){t.Events.TrashcanOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen},t.registry.register(t.registry.Type.EVENT,t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen),t.IPositionable=function(){},t.uiPosition={},t.uiPosition.verticalPosition={TOP:0,BOTTOM:1},t.uiPosition.horizontalPosition={LEFT:0,RIGHT:1},t.uiPosition.bumpDirection={UP:0,DOWN:1},t.uiPosition.getStartPositionRect=function(e,n,o,u,b,w){var R=w.scrollbar&&w.scrollbar.canScrollVertically();return e.horizontal===t.uiPosition.horizontalPosition.LEFT?(o=b.absoluteMetrics.left+o,R&&w.RTL&&(o+=t.Scrollbar.scrollbarThickness)):(o=b.absoluteMetrics.left+b.viewMetrics.width-n.width-o,R&&!w.RTL&&(o-=t.Scrollbar.scrollbarThickness)),e.vertical===t.uiPosition.verticalPosition.TOP?e=b.absoluteMetrics.top+u:(e=b.absoluteMetrics.top+b.viewMetrics.height-n.height-u,w.scrollbar&&w.scrollbar.canScrollHorizontally()&&(e-=t.Scrollbar.scrollbarThickness)),new t.utils.Rect(e,e+n.height,o,o+n.width)},t.uiPosition.getCornerOppositeToolbox=function(e,n){return{horizontal:n.toolboxMetrics.position===t.utils.toolbox.Position.LEFT||e.horizontalLayout&&!e.RTL?t.uiPosition.horizontalPosition.RIGHT:t.uiPosition.horizontalPosition.LEFT,vertical:n.toolboxMetrics.position===t.utils.toolbox.Position.BOTTOM?t.uiPosition.verticalPosition.TOP:t.uiPosition.verticalPosition.BOTTOM}},t.uiPosition.bumpPositionRect=function(e,n,o,u){for(var W,b=e.left,w=e.right-e.left,R=e.bottom-e.top,N=0;W=u[N];N++)e.intersects(W)&&(e=new t.utils.Rect(e=o===t.uiPosition.bumpDirection.UP?W.top-R-n:W.bottom+n,e+R,b,b+w),N=-1);return e},t.Trashcan=function(e){t.Trashcan.superClass_.constructor.call(this),this.workspace_=e,this.id="trashcan",this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(e=new t.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.TOP?t.utils.toolbox.Position.BOTTOM:t.utils.toolbox.Position.TOP,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(e)):(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT?t.utils.toolbox.Position.LEFT:t.utils.toolbox.Position.RIGHT,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(e)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))},t.utils.object.inherits(t.Trashcan,t.DeleteArea),t.Trashcan.prototype.WIDTH_=47,t.Trashcan.prototype.BODY_HEIGHT_=44,t.Trashcan.prototype.LID_HEIGHT_=16,t.Trashcan.prototype.MARGIN_VERTICAL_=20,t.Trashcan.prototype.MARGIN_HORIZONTAL_=20,t.Trashcan.prototype.MARGIN_HOTSPOT_=10,t.Trashcan.prototype.SPRITE_LEFT_=0,t.Trashcan.prototype.SPRITE_TOP_=32,t.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,t.Trashcan.ANIMATION_LENGTH_=80,t.Trashcan.ANIMATION_FRAMES_=4,t.Trashcan.OPACITY_MIN_=.4,t.Trashcan.OPACITY_MAX_=.8,t.Trashcan.MAX_LID_ANGLE_=45,t.Trashcan.prototype.isLidOpen=!1,t.Trashcan.prototype.minOpenness_=0,t.Trashcan.prototype.svgGroup_=null,t.Trashcan.prototype.svgLid_=null,t.Trashcan.prototype.lidTask_=0,t.Trashcan.prototype.lidOpen_=0,t.Trashcan.prototype.left_=0,t.Trashcan.prototype.top_=0,t.Trashcan.prototype.initialized_=!1,t.Trashcan.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyTrash"},null);var e=String(Math.random()).substring(2),n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},n);var o=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_);return o.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.LID_HEIGHT_},n),this.svgLid_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),t.browserEvents.bind(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),t.browserEvents.bind(this.svgGroup_,"mouseup",this,this.click),t.browserEvents.bind(o,"mouseover",this,this.mouseOver_),t.browserEvents.bind(o,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},t.Trashcan.prototype.init=function(){0<this.workspace_.options.maxTrashcanContents&&(t.utils.dom.insertAfter(this.flyout.createDom(t.utils.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.AUTOHIDEABLE,t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET,t.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)},t.Trashcan.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},t.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},t.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},t.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){var e=this.contents_.map(t.Xml.textToDom);this.flyout.show(e),this.fireUiEvent_(!0)}},t.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1))},t.Trashcan.prototype.autoHide=function(e){!e&&this.flyout&&this.closeFlyout()},t.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},t.Trashcan.prototype.position=function(e,n){if(this.initialized_){var o=t.uiPosition.getCornerOppositeToolbox(this.workspace_,e);e=t.uiPosition.getStartPositionRect(o,new t.utils.Size(this.WIDTH_,this.BODY_HEIGHT_+this.LID_HEIGHT_),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,e,this.workspace_),n=t.uiPosition.bumpPositionRect(e,this.MARGIN_VERTICAL_,o.vertical===t.uiPosition.verticalPosition.TOP?t.uiPosition.bumpDirection.DOWN:t.uiPosition.bumpDirection.UP,n),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.Trashcan.prototype.getBoundingRectangle=function(){return new t.utils.Rect(this.top_,this.top_+this.BODY_HEIGHT_+this.LID_HEIGHT_,this.left_,this.left_+this.WIDTH_)},t.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return new t.utils.Rect(n,n+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,e=e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,e+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},t.Trashcan.prototype.onDragOver=function(e){this.setLidOpen(this.wouldDelete_)},t.Trashcan.prototype.onDragExit=function(e){this.setLidOpen(!1)},t.Trashcan.prototype.onDrop=function(e){setTimeout(this.setLidOpen.bind(this,!1),100)},t.Trashcan.prototype.setLidOpen=function(e){this.isLidOpen!=e&&(clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())},t.Trashcan.prototype.animateLid_=function(){var e=t.Trashcan.ANIMATION_FRAMES_,n=1/(e+1);this.lidOpen_+=this.isLidOpen?n:-n,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*t.Trashcan.MAX_LID_ANGLE_),this.svgGroup_.style.opacity=(n=t.Trashcan.OPACITY_MIN_)+this.lidOpen_*(t.Trashcan.OPACITY_MAX_-n),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),t.Trashcan.ANIMATION_LENGTH_/e))},t.Trashcan.prototype.setLidAngle_=function(e){var n=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(n?-e:e)+","+(n?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},t.Trashcan.prototype.setMinOpenness_=function(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(e*t.Trashcan.MAX_LID_ANGLE_)},t.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},t.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},t.Trashcan.prototype.fireUiEvent_=function(e){e=new(t.Events.get(t.Events.TRASHCAN_OPEN))(e,this.workspace_.id),t.Events.fire(e)},t.Trashcan.prototype.blockMouseDownWhenOpenable_=function(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()},t.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},t.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},t.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents)&&e.type==t.Events.BLOCK_DELETE&&e.oldXml.tagName&&"shadow"!=e.oldXml.tagName.toLowerCase()&&(e=this.cleanBlockXML_(e.oldXml),-1==this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},t.Trashcan.prototype.cleanBlockXML_=function(e){for(var n=e=e.cloneNode(!0);n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var o=n.firstChild||n.nextSibling;if(!o)for(o=n.parentNode;o;){if(o.nextSibling){o=o.nextSibling;break}o=o.parentNode}n=o}return t.Xml.domToText(e)},t.VariablesDynamic={},t.VariablesDynamic.onCreateVariableButtonClick_String=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"String")},t.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Number")},t.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Colour")},t.VariablesDynamic.flyoutCategory=function(e){var n=[],o=document.createElement("button");return o.setAttribute("text",t.Msg.NEW_STRING_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(o),(o=document.createElement("button")).setAttribute("text",t.Msg.NEW_NUMBER_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(o),(o=document.createElement("button")).setAttribute("text",t.Msg.NEW_COLOUR_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(o),e.registerButtonCallback("CREATE_VARIABLE_STRING",t.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",t.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",t.VariablesDynamic.onCreateVariableButtonClick_Colour),e=t.VariablesDynamic.flyoutCategoryBlocks(e),n.concat(e)},t.VariablesDynamic.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getAllVariables()).length){if(t.Blocks.variables_set_dynamic){var o=e[e.length-1],u=t.utils.xml.createElement("block");u.setAttribute("type","variables_set_dynamic"),u.setAttribute("gap",24),u.appendChild(t.Variables.generateVariableFieldDom(o)),n.push(u)}if(t.Blocks.variables_get_dynamic){e.sort(t.VariableModel.compareByName),o=0;for(var b;b=e[o];o++)(u=t.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),u.setAttribute("gap",8),u.appendChild(t.Variables.generateVariableFieldDom(b)),n.push(u)}}return n},t.ZoomControls=function(e){this.workspace_=e,this.id="zoomControls",this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null},t.ZoomControls.prototype.WIDTH_=32,t.ZoomControls.prototype.HEIGHT_=32,t.ZoomControls.prototype.SMALL_SPACING_=2,t.ZoomControls.prototype.LARGE_SPACING_=11,t.ZoomControls.prototype.MARGIN_VERTICAL_=20,t.ZoomControls.prototype.MARGIN_HORIZONTAL_=20,t.ZoomControls.prototype.svgGroup_=null,t.ZoomControls.prototype.left_=0,t.ZoomControls.prototype.top_=0,t.ZoomControls.prototype.initialized_=!1,t.ZoomControls.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var e=String(Math.random()).substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},t.ZoomControls.prototype.init=function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[t.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0},t.ZoomControls.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("zoomControls"),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.onZoomResetWrapper_&&t.browserEvents.unbind(this.onZoomResetWrapper_),this.onZoomInWrapper_&&t.browserEvents.unbind(this.onZoomInWrapper_),this.onZoomOutWrapper_&&t.browserEvents.unbind(this.onZoomOutWrapper_)},t.ZoomControls.prototype.getBoundingRectangle=function(){var e=this.SMALL_SPACING_+2*this.HEIGHT_;return this.zoomResetGroup_&&(e+=this.LARGE_SPACING_+this.HEIGHT_),new t.utils.Rect(this.top_,this.top_+e,this.left_,this.left_+this.WIDTH_)},t.ZoomControls.prototype.position=function(e,n){if(this.initialized_){var o=t.uiPosition.getCornerOppositeToolbox(this.workspace_,e),u=this.SMALL_SPACING_+2*this.HEIGHT_;this.zoomResetGroup_&&(u+=this.LARGE_SPACING_+this.HEIGHT_),e=t.uiPosition.getStartPositionRect(o,new t.utils.Size(this.WIDTH_,u),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,e,this.workspace_),n=t.uiPosition.bumpPositionRect(e,this.MARGIN_VERTICAL_,(o=o.vertical)===t.uiPosition.verticalPosition.TOP?t.uiPosition.bumpDirection.DOWN:t.uiPosition.bumpDirection.UP,n),o===t.uiPosition.verticalPosition.TOP?(this.zoomInGroup_.setAttribute("transform","translate(0, "+(o=this.SMALL_SPACING_+this.HEIGHT_)+")"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, "+(o+this.LARGE_SPACING_+this.HEIGHT_)+")")):(this.zoomInGroup_.setAttribute("transform","translate(0, "+(o=this.zoomResetGroup_?this.LARGE_SPACING_+this.HEIGHT_:0)+")"),this.zoomOutGroup_.setAttribute("transform","translate(0, "+(o+this.SMALL_SPACING_+this.HEIGHT_)+")")),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.ZoomControls.prototype.createZoomOutSvg_=function(e){this.zoomOutGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomOutWrapper_=t.browserEvents.conditionalBind(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},t.ZoomControls.prototype.createZoomInSvg_=function(e){this.zoomInGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomInWrapper_=t.browserEvents.conditionalBind(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},t.ZoomControls.prototype.zoom_=function(e,n){this.workspace_.markFocused(),this.workspace_.zoomCenter(e),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),n.stopPropagation(),n.preventDefault()},t.ZoomControls.prototype.createZoomResetSvg_=function(e){this.zoomResetGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomResetWrapper_=t.browserEvents.conditionalBind(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},t.ZoomControls.prototype.resetZoom_=function(e){this.workspace_.markFocused();var n=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(n),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()},t.ZoomControls.prototype.fireZoomEvent_=function(){var e=new(t.Events.get(t.Events.CLICK))(null,this.workspace_.id,"zoom_controls");t.Events.fire(e)},t.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),t.ShortcutItems={},t.ShortcutItems.names={ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},t.ShortcutItems.registerEscape=function(){var e={name:t.ShortcutItems.names.ESCAPE,preconditionFn:function(n){return!n.options.readOnly},callback:function(){return t.hideChaff(),!0}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.ESC,e.name)},t.ShortcutItems.registerDelete=function(){var e={name:t.ShortcutItems.names.DELETE,preconditionFn:function(n){return!n.options.readOnly&&t.selected&&t.selected.isDeletable()},callback:function(n,o){return o.preventDefault(),!t.Gesture.inProgress()&&(t.deleteBlock(t.selected),!0)}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.DELETE,e.name),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.BACKSPACE,e.name)},t.ShortcutItems.registerCopy=function(){var e={name:t.ShortcutItems.names.COPY,preconditionFn:function(o){return!o.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()},callback:function(o,u){return u.preventDefault(),t.hideChaff(),t.copy(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerCut=function(){var e={name:t.ShortcutItems.names.CUT,preconditionFn:function(o){return!o.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()&&!t.selected.workspace.isFlyout},callback:function(){return t.copy(t.selected),t.deleteBlock(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerPaste=function(){var e={name:t.ShortcutItems.names.PASTE,preconditionFn:function(o){return!o.options.readOnly&&!t.Gesture.inProgress()},callback:function(){return t.paste()}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerUndo=function(){var e={name:t.ShortcutItems.names.UNDO,preconditionFn:function(o){return!o.options.readOnly&&!t.Gesture.inProgress()},callback:function(o){return t.hideChaff(),o.undo(!1),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerRedo=function(){var e={name:t.ShortcutItems.names.REDO,preconditionFn:function(o){return!t.Gesture.inProgress()&&!o.options.readOnly},callback:function(o){return t.hideChaff(),o.undo(!0),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Y,[t.utils.KeyCodes.CTRL]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerDefaultShortcuts=function(){t.ShortcutItems.registerEscape(),t.ShortcutItems.registerDelete(),t.ShortcutItems.registerCopy(),t.ShortcutItems.registerCut(),t.ShortcutItems.registerPaste(),t.ShortcutItems.registerUndo(),t.ShortcutItems.registerRedo()},t.ShortcutItems.registerDefaultShortcuts(),t.ContextMenuItems={},t.ContextMenuItems.registerUndo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.UNDO},preconditionFn:function(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!1)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},t.ContextMenuItems.registerRedo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.REDO},preconditionFn:function(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!0)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},t.ContextMenuItems.registerCleanup=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.CLEAN_UP},preconditionFn:function(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(e){e.workspace.cleanUp()},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},t.ContextMenuItems.toggleOption_=function(e,n){for(var o=0,u=0;u<n.length;u++)for(var b=n[u];b;)setTimeout(b.setCollapsed.bind(b,e),o),b=b.getNextBlock(),o+=10},t.ContextMenuItems.registerCollapse=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.COLLAPSE_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var n=0;n<e.length;n++)for(var o=e[n];o;){if(!o.isCollapsed())return"enabled";o=o.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!0,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},t.ContextMenuItems.registerExpand=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.EXPAND_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var n=0;n<e.length;n++)for(var o=e[n];o;){if(o.isCollapsed())return"enabled";o=o.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!1,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},t.ContextMenuItems.addDeletableBlocks_=function(e,n){if(e.isDeletable())Array.prototype.push.apply(n,e.getDescendants(!1));else{e=e.getChildren(!1);for(var o=0;o<e.length;o++)t.ContextMenuItems.addDeletableBlocks_(e[o],n)}},t.ContextMenuItems.getDeletableBlocks_=function(e){var n=[];e=e.getTopBlocks(!0);for(var o=0;o<e.length;o++)t.ContextMenuItems.addDeletableBlocks_(e[o],n);return n},t.ContextMenuItems.deleteNext_=function(e,n){t.Events.setGroup(n);var o=e.shift();o&&(o.workspace?(o.dispose(!1,!0),setTimeout(t.ContextMenuItems.deleteNext_,10,e,n)):t.ContextMenuItems.deleteNext_(e,n)),t.Events.setGroup(!1)},t.ContextMenuItems.registerDeleteAll=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){if(e.workspace)return 1==(e=t.ContextMenuItems.getDeletableBlocks_(e.workspace).length)?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(e){if(e.workspace)return 0<t.ContextMenuItems.getDeletableBlocks_(e.workspace).length?"enabled":"disabled"},callback:function(e){if(e.workspace){e.workspace.cancelCurrentGesture();var n=t.ContextMenuItems.getDeletableBlocks_(e.workspace),o=t.utils.genUid();2>n.length?t.ContextMenuItems.deleteNext_(n,o):t.confirm(t.Msg.DELETE_ALL_BLOCKS.replace("%1",n.length),function(u){u&&t.ContextMenuItems.deleteNext_(n,o)})}},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},t.ContextMenuItems.registerWorkspaceOptions_=function(){t.ContextMenuItems.registerUndo(),t.ContextMenuItems.registerRedo(),t.ContextMenuItems.registerCleanup(),t.ContextMenuItems.registerCollapse(),t.ContextMenuItems.registerExpand(),t.ContextMenuItems.registerDeleteAll()},t.ContextMenuItems.registerDuplicate=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.DUPLICATE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(e){e.block&&t.duplicate(e.block)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},t.ContextMenuItems.registerComment=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getCommentIcon()?t.Msg.REMOVE_COMMENT:t.Msg.ADD_COMMENT},preconditionFn:function(e){return e=e.block,t.utils.userAgent.IE||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()?"hidden":"enabled"},callback:function(e){(e=e.block).getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},t.ContextMenuItems.registerInline=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getInputsInline()?t.Msg.EXTERNAL_INPUTS:t.Msg.INLINE_INPUTS},preconditionFn:function(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed())for(var n=1;n<e.inputList.length;n++)if(e.inputList[n-1].type!=t.inputTypes.STATEMENT&&e.inputList[n].type!=t.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},t.ContextMenuItems.registerCollapseExpandBlock=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isCollapsed()?t.Msg.EXPAND_BLOCK:t.Msg.COLLAPSE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback:function(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},t.ContextMenuItems.registerDisable=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isEnabled()?t.Msg.DISABLE_BLOCK:t.Msg.ENABLE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(e){e=e.block;var n=t.Events.getGroup();n||t.Events.setGroup(!0),e.setEnabled(!e.isEnabled()),n||t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},t.ContextMenuItems.registerDelete=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){var n=e.block;return e=n.getDescendants(!1).length,(n=n.getNextBlock())&&(e-=n.getDescendants(!1).length),1==e?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback:function(e){t.Events.setGroup(!0),e.block&&t.deleteBlock(e.block),t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},t.ContextMenuItems.registerHelp=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.HELP},preconditionFn:function(e){return("function"==typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback:function(e){e.block.showHelp()},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},t.ContextMenuItems.registerBlockOptions_=function(){t.ContextMenuItems.registerDuplicate(),t.ContextMenuItems.registerComment(),t.ContextMenuItems.registerInline(),t.ContextMenuItems.registerCollapseExpandBlock(),t.ContextMenuItems.registerDisable(),t.ContextMenuItems.registerDelete(),t.ContextMenuItems.registerHelp()},t.ContextMenuItems.registerDefaultOptions=function(){t.ContextMenuItems.registerWorkspaceOptions_(),t.ContextMenuItems.registerBlockOptions_()},t.ContextMenuItems.registerDefaultOptions(),t.Mutator=function(e){t.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},t.utils.object.inherits(t.Mutator,t.Icon),t.Mutator.prototype.workspace_=null,t.Mutator.prototype.workspaceWidth_=0,t.Mutator.prototype.workspaceHeight_=0,t.Mutator.prototype.setBlock=function(e){this.block_=e},t.Mutator.prototype.getWorkspace=function(){return this.workspace_},t.Mutator.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},t.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&t.Icon.prototype.iconClick_.call(this,e)},t.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var o,e=t.utils.xml.createElement("xml"),n=0;o=this.quarkNames_[n];n++){var u=t.utils.xml.createElement("block");u.setAttribute("type",o),e.appendChild(u)}else e=null;return(n=new t.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT,(o=!!e)&&(n.languageTree=t.utils.toolbox.convertToolboxDefToJson(e)),this.workspace_=new t.WorkspaceSvg(n),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(t.Events.disableOrphans),e=o?this.workspace_.addFlyout(t.utils.Svg.G):null,n=this.workspace_.createDom("blocklyMutatorBackground"),e&&n.insertBefore(e,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(n),this.svgDialog_},t.Mutator.prototype.updateEditable=function(){t.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&t.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},t.Mutator.prototype.resizeBubble_=function(){var e=2*t.Bubble.BORDER_WIDTH,n=this.workspace_.getCanvas().getBBox(),o=n.width+n.x,u=n.height+3*e,b=this.workspace_.getFlyout();if(b){var w=b.getWorkspace().getMetricsManager().getScrollMetrics();u=Math.max(u,w.height+20),o+=b.getWidth()}this.block_.RTL&&(o=-n.x),o+=3*e,(Math.abs(this.workspaceWidth_-o)>e||Math.abs(this.workspaceHeight_-u)>e)&&(this.workspaceWidth_=o,this.workspaceHeight_=u,this.bubble_.setBubbleSize(o+e,u+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},t.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDragTargets()},t.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"mutator")),e){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var n=this.workspace_.options.languageTree;e=this.workspace_.getFlyout(),n&&(e.init(this.workspace_),e.show(n)),this.rootBlock_=this.block_.decompose(this.workspace_),n=this.rootBlock_.getDescendants(!1);for(var u,o=0;u=n[o];o++)u.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),e?(n=2*e.CORNER_RADIUS,e=this.rootBlock_.RTL?e.getWidth()+n:n):e=n=16,this.block_.RTL&&(e=-e),this.rootBlock_.moveBy(e,n),this.block_.saveConnections){var b=this,w=this.block_;w.saveConnections(this.rootBlock_),this.sourceListener_=function(){w.saveConnections(b.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},t.Mutator.prototype.workspaceChanged_=function(e){if(!(e.isUiEvent||e.type==t.Events.CHANGE&&"disabled"==e.element)){if(!this.workspace_.isDragging()){e=this.workspace_.getTopBlocks(!1);for(var o,n=0;o=e[n];n++){var u=o.getRelativeToSurfaceXY();if(20>u.y&&o.moveBy(0,20-u.y),o.RTL){var b=-20,w=this.workspace_.getFlyout();w&&(b-=w.getWidth()),u.x>b&&o.moveBy(b-u.x,0)}else 20>u.x&&o.moveBy(20-u.x,0)}}if(this.rootBlock_.workspace==this.workspace_){if(t.Events.setGroup(!0),e=(e=(o=this.block_).mutationToDom())&&t.Xml.domToText(e),n=o.rendered,o.rendered=!1,o.compose(this.rootBlock_),o.rendered=n,o.initSvg(),o.rendered&&o.render(),e!=(n=(n=o.mutationToDom())&&t.Xml.domToText(n))){t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(o,"mutation",null,e,n));var R=t.Events.getGroup();setTimeout(function(){t.Events.setGroup(R),o.bumpNeighbours(),t.Events.setGroup(!1)},t.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),t.Events.setGroup(!1)}}},t.Mutator.prototype.dispose=function(){this.block_.mutator=null,t.Icon.prototype.dispose.call(this)},t.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){for(var u,n=e.getAllBlocks(!1),o=0;u=n[o];o++)u.setStyle(u.getStyleName());if(o=e.getFlyout())for(e=o.workspace_.getAllBlocks(!1),o=0;u=e[o];o++)u.setStyle(u.getStyleName())}},t.Mutator.reconnect=function(e,n,o){if(!e||!e.getSourceBlock().workspace)return!1;o=n.getInput(o).connection;var u=e.targetBlock();return!(u&&u!=n||o.targetConnection==e||(o.isConnected()&&o.disconnect(),o.connect(e),0))},t.Mutator.findParentWs=function(e){var n=null;if(e&&e.options){var o=e.options.parentWorkspace;e.isFlyout?o&&o.options&&(n=o.options.parentWorkspace):o&&(n=o)}return n},t.FieldTextInput=function(e,n,o){this.spellcheck_=!0,t.FieldTextInput.superClass_.constructor.call(this,e,n,o),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},t.utils.object.inherits(t.FieldTextInput,t.Field),t.FieldTextInput.prototype.DEFAULT_VALUE="",t.FieldTextInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldTextInput(n,void 0,e)},t.FieldTextInput.prototype.SERIALIZABLE=!0,t.FieldTextInput.BORDERRADIUS=4,t.FieldTextInput.prototype.CURSOR="text",t.FieldTextInput.prototype.configure_=function(e){t.FieldTextInput.superClass_.configure_.call(this,e),"boolean"==typeof e.spellcheck&&(this.spellcheck_=e.spellcheck)},t.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var u,e=0,n=0,o=0;u=this.sourceBlock_.inputList[o];o++){for(var b=0;u.fieldRow[b];b++)e++;u.connection&&n++}this.fullBlockClickTarget_=1>=e&&this.sourceBlock_.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},t.FieldTextInput.prototype.doClassValidation_=function(e){return null==e?null:String(e)},t.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))},t.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},t.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},t.FieldTextInput.prototype.render_=function(){if(t.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var e=this.htmlInput_;this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0))}},t.FieldTextInput.prototype.setSpellcheck=function(e){e!=this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},t.FieldTextInput.prototype.showEditor_=function(e,n){this.workspace_=this.sourceBlock_.workspace,!(e=n||!1)&&(t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},t.FieldTextInput.prototype.showPromptEditor_=function(){t.prompt(t.Msg.CHANGE_VALUE_TITLE,this.getText(),function(e){this.setValue(this.getValueFromEditorText_(e))}.bind(this))},t.FieldTextInput.prototype.showInlineEditor_=function(e){t.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},t.FieldTextInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV;t.utils.dom.addClass(this.getClickTarget_(),"editing");var n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var o=this.workspace_.getScale(),u=this.getConstants().FIELD_TEXT_FONTSIZE*o+"pt";if(e.style.fontSize=u,n.style.fontSize=u,u=t.FieldTextInput.BORDERRADIUS*o+"px",this.fullBlockClickTarget_){u=((u=this.getScaledBBox()).bottom-u.top)/2+"px";var b=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;n.style.border=1*o+"px solid "+b,e.style.borderRadius=u,e.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(e.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*o+"px")}return n.style.borderRadius=u,e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(n),n},t.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var e=t.WidgetDiv.DIV.style;e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,t.utils.dom.removeClass(this.getClickTarget_(),"editing")},t.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=t.browserEvents.conditionalBind(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=t.browserEvents.conditionalBind(e,"input",this,this.onHtmlInputChange_)},t.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(t.browserEvents.unbind(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},t.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode==t.utils.KeyCodes.ENTER?(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.ESC?(this.setValue(this.htmlInput_.untypedDefaultValue_),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.TAB&&(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},t.FieldTextInput.prototype.onHtmlInputChange_=function(e){(e=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,t.Events.setGroup(!0),e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),this.resizeEditor_(),t.Events.setGroup(!1))},t.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},t.FieldTextInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,n=this.getScaledBBox();e.style.width=n.right-n.left+"px",e.style.height=n.bottom-n.top+"px",n=new t.utils.Coordinate(this.sourceBlock_.RTL?n.right-e.offsetWidth:n.left,n.top),e.style.left=n.x+"px",e.style.top=n.y+"px"},t.FieldTextInput.prototype.isTabNavigable=function(){return!0},t.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},t.FieldTextInput.prototype.getEditorText_=function(e){return String(e)},t.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},t.fieldRegistry.register("field_input",t.FieldTextInput),t.FieldAngle=function(e,n,o){this.clockwise_=t.FieldAngle.CLOCKWISE,this.offset_=t.FieldAngle.OFFSET,this.wrap_=t.FieldAngle.WRAP,this.round_=t.FieldAngle.ROUND,t.FieldAngle.superClass_.constructor.call(this,e,n,o),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=this.editor_=null},t.utils.object.inherits(t.FieldAngle,t.FieldTextInput),t.FieldAngle.prototype.DEFAULT_VALUE=0,t.FieldAngle.fromJson=function(e){return new t.FieldAngle(e.angle,void 0,e)},t.FieldAngle.prototype.SERIALIZABLE=!0,t.FieldAngle.ROUND=15,t.FieldAngle.HALF=50,t.FieldAngle.CLOCKWISE=!1,t.FieldAngle.OFFSET=0,t.FieldAngle.WRAP=360,t.FieldAngle.RADIUS=t.FieldAngle.HALF-1,t.FieldAngle.prototype.configure_=function(e){switch(t.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var n=e.clockwise;"boolean"==typeof n&&(this.clockwise_=n),null!=(n=e.offset)&&(n=Number(n),isNaN(n)||(this.offset_=n)),null!=(n=e.wrap)&&(n=Number(n),isNaN(n)||(this.wrap_=n)),null!=(e=e.round)&&(e=Number(e),isNaN(e)||(this.round_=e))},t.FieldAngle.prototype.initView=function(){t.FieldAngle.superClass_.initView.call(this),this.symbol_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},t.FieldAngle.prototype.render_=function(){t.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},t.FieldAngle.prototype.showEditor_=function(e){t.FieldAngle.superClass_.showEditor_.call(this,e,t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD),this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.editor_),t.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},t.FieldAngle.prototype.dropdownCreate_=function(){var e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",height:2*t.FieldAngle.HALF+"px",width:2*t.FieldAngle.HALF+"px",style:"touch-action: none"},null),n=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:t.FieldAngle.HALF,cy:t.FieldAngle.HALF,r:t.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyAngleGauge"},e),this.line_=t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF,y1:t.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var o=0;360>o;o+=15)t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF+t.FieldAngle.RADIUS,y1:t.FieldAngle.HALF,x2:t.FieldAngle.HALF+t.FieldAngle.RADIUS-(o%45==0?10:5),y2:t.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+","+t.FieldAngle.HALF+","+t.FieldAngle.HALF+")"},e);this.clickWrapper_=t.browserEvents.conditionalBind(e,"click",this,this.hide_),this.clickSurfaceWrapper_=t.browserEvents.conditionalBind(n,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=t.browserEvents.conditionalBind(n,"mousemove",this,this.onMouseMove_,!0,!0),this.editor_=e},t.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(t.browserEvents.unbind(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(t.browserEvents.unbind(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(t.browserEvents.unbind(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},t.FieldAngle.prototype.hide_=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hide()},t.FieldAngle.prototype.onMouseMove_=function(e){var n=this.gauge_.ownerSVGElement.getBoundingClientRect(),o=e.clientX-n.left-t.FieldAngle.HALF;e=e.clientY-n.top-t.FieldAngle.HALF,n=Math.atan(-e/o),isNaN(n)||(n=t.utils.math.toDegrees(n),0>o?n+=180:0<e&&(n+=360),this.displayMouseOrKeyboardValue_(n=this.clockwise_?this.offset_+360-n:360-(this.offset_-n)))},t.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!=this.value_&&this.setEditorValue_(e)},t.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+this.offset_,n=t.utils.math.toRadians(e%360);e=["M ",t.FieldAngle.HALF,",",t.FieldAngle.HALF];var o=t.FieldAngle.HALF,u=t.FieldAngle.HALF;if(!isNaN(n)){var b=Number(this.clockwise_),w=t.utils.math.toRadians(this.offset_),R=Math.cos(w)*t.FieldAngle.RADIUS,N=Math.sin(w)*-t.FieldAngle.RADIUS;b&&(n=2*w-n),o+=Math.cos(n)*t.FieldAngle.RADIUS,u-=Math.sin(n)*t.FieldAngle.RADIUS,n=Math.abs(Math.floor((n-w)/Math.PI)%2),b&&(n=1-n),e.push(" l ",R,",",N," A ",t.FieldAngle.RADIUS,",",t.FieldAngle.RADIUS," 0 ",n," ",b," ",o,",",u," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",o),this.line_.setAttribute("y2",u)}},t.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){var n;if(t.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e),e.keyCode===t.utils.KeyCodes.LEFT?n=this.sourceBlock_.RTL?1:-1:e.keyCode===t.utils.KeyCodes.RIGHT?n=this.sourceBlock_.RTL?-1:1:e.keyCode===t.utils.KeyCodes.DOWN?n=-1:e.keyCode===t.utils.KeyCodes.UP&&(n=1),n){var o=this.getValue();this.displayMouseOrKeyboardValue_(o+n*this.round_),e.preventDefault(),e.stopPropagation()}},t.FieldAngle.prototype.doClassValidation_=function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},t.FieldAngle.prototype.wrapValue_=function(e){return 0>(e%=360)&&(e+=360),e>this.wrap_&&(e-=360),e},t.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),t.fieldRegistry.register("field_angle",t.FieldAngle),t.FieldCheckbox=function(e,n,o){this.checkChar_=null,t.FieldCheckbox.superClass_.constructor.call(this,e,n,o)},t.utils.object.inherits(t.FieldCheckbox,t.Field),t.FieldCheckbox.prototype.DEFAULT_VALUE=!1,t.FieldCheckbox.fromJson=function(e){return new t.FieldCheckbox(e.checked,void 0,e)},t.FieldCheckbox.CHECK_CHAR="\u2713",t.FieldCheckbox.prototype.SERIALIZABLE=!0,t.FieldCheckbox.prototype.CURSOR="default",t.FieldCheckbox.prototype.configure_=function(e){t.FieldCheckbox.superClass_.configure_.call(this,e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)},t.FieldCheckbox.prototype.initView=function(){t.FieldCheckbox.superClass_.initView.call(this),t.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},t.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},t.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||t.FieldCheckbox.CHECK_CHAR},t.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.forceRerender()},t.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},t.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},t.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},t.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},t.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},t.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},t.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"==typeof e?"TRUE"==e:!!e},t.fieldRegistry.register("field_checkbox",t.FieldCheckbox),t.FieldColour=function(e,n,o){t.FieldColour.superClass_.constructor.call(this,e,n,o),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},t.utils.object.inherits(t.FieldColour,t.Field),t.FieldColour.fromJson=function(e){return new t.FieldColour(e.colour,void 0,e)},t.FieldColour.prototype.SERIALIZABLE=!0,t.FieldColour.prototype.CURSOR="default",t.FieldColour.prototype.isDirty_=!1,t.FieldColour.prototype.colours_=null,t.FieldColour.prototype.titles_=null,t.FieldColour.prototype.columns_=0,t.FieldColour.prototype.configure_=function(e){t.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},t.FieldColour.prototype.initView=function(){this.size_=new t.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},t.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},t.FieldColour.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:t.utils.colour.parse(e)},t.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},t.FieldColour.prototype.getText=function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},t.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),t.FieldColour.prototype.DEFAULT_VALUE=t.FieldColour.COLOURS[0],t.FieldColour.TITLES=[],t.FieldColour.COLUMNS=7,t.FieldColour.prototype.setColours=function(e,n){return this.colours_=e,n&&(this.titles_=n),this},t.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},t.FieldColour.prototype.showEditor_=function(){this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.picker_),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onClick_=function(e){null!==(e=(e=e.target)&&e.label)&&(this.setValue(e),t.DropDownDiv.hideIfOwner(this))},t.FieldColour.prototype.onKeyDown_=function(e){var n=!1;e.keyCode===t.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),n=!0):e.keyCode===t.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),n=!0):e.keyCode===t.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),n=!0):e.keyCode===t.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),n=!0):e.keyCode===t.utils.KeyCodes.ENTER&&((n=this.getHighlighted_())&&null!==(n=n&&n.label)&&this.setValue(n),t.DropDownDiv.hideWithoutAnimation(),n=!0),n&&e.stopPropagation()},t.FieldColour.prototype.moveHighlightBy_=function(e,n){var o=this.colours_||t.FieldColour.COLOURS,u=this.columns_||t.FieldColour.COLUMNS,b=this.highlightedIndex_%u,w=Math.floor(this.highlightedIndex_/u);b+=e,w+=n,0>e?0>b&&0<w?(b=u-1,w--):0>b&&(b=0):0<e?b>u-1&&w<Math.floor(o.length/u)-1?(b=0,w++):b>u-1&&b--:0>n?0>w&&(w=0):0<n&&w>Math.floor(o.length/u)-1&&(w=Math.floor(o.length/u)-1),this.setHighlightedCell_(this.picker_.childNodes[w].childNodes[b],w*u+b)},t.FieldColour.prototype.onMouseMove_=function(e){var n=(e=e.target)&&Number(e.getAttribute("data-index"));null!==n&&n!==this.highlightedIndex_&&this.setHighlightedCell_(e,n)},t.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&t.utils.dom.removeClass(e,"blocklyColourHighlighted")},t.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return n?n.childNodes[this.highlightedIndex_%e]:null},t.FieldColour.prototype.setHighlightedCell_=function(e,n){var o=this.getHighlighted_();o&&t.utils.dom.removeClass(o,"blocklyColourHighlighted"),t.utils.dom.addClass(e,"blocklyColourHighlighted"),this.highlightedIndex_=n,t.utils.aria.setState(this.picker_,t.utils.aria.State.ACTIVEDESCENDANT,e.getAttribute("id"))},t.FieldColour.prototype.dropdownCreate_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.colours_||t.FieldColour.COLOURS,o=this.titles_||t.FieldColour.TITLES,u=this.getValue(),b=document.createElement("table");b.className="blocklyColourTable",b.tabIndex=0,b.dir="ltr",t.utils.aria.setRole(b,t.utils.aria.Role.GRID),t.utils.aria.setState(b,t.utils.aria.State.EXPANDED,!0),t.utils.aria.setState(b,t.utils.aria.State.ROWCOUNT,Math.floor(n.length/e)),t.utils.aria.setState(b,t.utils.aria.State.COLCOUNT,e);for(var w,R=0;R<n.length;R++){R%e==0&&(w=document.createElement("tr"),t.utils.aria.setRole(w,t.utils.aria.Role.ROW),b.appendChild(w));var N=document.createElement("td");w.appendChild(N),N.label=n[R],N.title=o[R]||n[R],N.id=t.utils.IdGenerator.getNextUniqueId(),N.setAttribute("data-index",R),t.utils.aria.setRole(N,t.utils.aria.Role.GRIDCELL),t.utils.aria.setState(N,t.utils.aria.State.LABEL,n[R]),t.utils.aria.setState(N,t.utils.aria.State.SELECTED,n[R]==u),N.style.backgroundColor=n[R],n[R]==u&&(N.className="blocklyColourSelected",this.highlightedIndex_=R)}this.onClickWrapper_=t.browserEvents.conditionalBind(b,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=t.browserEvents.conditionalBind(b,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=t.browserEvents.conditionalBind(b,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=t.browserEvents.conditionalBind(b,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=t.browserEvents.conditionalBind(b,"keydown",this,this.onKeyDown_),this.picker_=b},t.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(t.browserEvents.unbind(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(t.browserEvents.unbind(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(t.browserEvents.unbind(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(t.browserEvents.unbind(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},t.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),t.fieldRegistry.register("field_colour",t.FieldColour),t.FieldDropdown=function(e,n,o){"function"!=typeof e&&t.FieldDropdown.validateOptions_(e),this.menuGenerator_=e,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],t.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],n,o),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},t.utils.object.inherits(t.FieldDropdown,t.Field),t.FieldDropdown.fromJson=function(e){return new t.FieldDropdown(e.options,void 0,e)},t.FieldDropdown.prototype.fromXml=function(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)},t.FieldDropdown.prototype.SERIALIZABLE=!0,t.FieldDropdown.CHECKMARK_OVERHANG=25,t.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,t.FieldDropdown.IMAGE_Y_OFFSET=5,t.FieldDropdown.IMAGE_Y_PADDING=2*t.FieldDropdown.IMAGE_Y_OFFSET,t.FieldDropdown.ARROW_CHAR=t.utils.userAgent.ANDROID?"\u25bc":"\u25be",t.FieldDropdown.prototype.CURSOR="default",t.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&t.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},t.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},t.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?t.FieldDropdown.ARROW_CHAR+" ":" "+t.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},t.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},t.FieldDropdown.prototype.showEditor_=function(e){if(this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new t.utils.Coordinate(e.clientX,e.clientY):null,this.menu_.render(t.DropDownDiv.getContentDiv()),e=this.menu_.getElement(),t.utils.dom.addClass(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){e=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var n=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;t.DropDownDiv.setColour(e,n)}t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},t.FieldDropdown.prototype.dropdownCreate_=function(){var e=new t.Menu;e.setRole(t.utils.aria.Role.LISTBOX),this.menu_=e;var n=this.getOptions(!1);this.selectedMenuItem_=null;for(var o=0;o<n.length;o++){var u=n[o][0],b=n[o][1];if("object"==typeof u){var w=new Image(u.width,u.height);w.src=u.src,w.alt=u.alt||"",u=w}(u=new t.MenuItem(u,b)).setRole(t.utils.aria.Role.OPTION),u.setRightToLeft(this.sourceBlock_.RTL),u.setCheckable(!0),e.addChild(u),u.setChecked(b==this.value_),b==this.value_&&(this.selectedMenuItem_=u),u.onAction(this.handleMenuActionEvent_,this)}},t.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},t.FieldDropdown.prototype.handleMenuActionEvent_=function(e){t.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,e)},t.FieldDropdown.prototype.onItemSelected_=function(e,n){this.setValue(n.getValue())},t.FieldDropdown.prototype.trimOptions_=function(){var e=this.menuGenerator_;if(Array.isArray(e)){for(var n=!1,o=0;o<e.length;o++){var u=e[o][0];"string"==typeof u?e[o][0]=t.utils.replaceMessageReferences(u):(null!=u.alt&&(e[o][0].alt=t.utils.replaceMessageReferences(u.alt)),n=!0)}if(!(n||2>e.length)){for(n=[],o=0;o<e.length;o++)n.push(e[o][0]);o=t.utils.string.shortestStringLength(n),u=t.utils.string.commonWordPrefix(n,o);var b=t.utils.string.commonWordSuffix(n,o);!u&&!b||o<=u+b||(u&&(this.prefixField=n[0].substring(0,u-1)),b&&(this.suffixField=n[0].substr(1-b)),this.menuGenerator_=t.FieldDropdown.applyTrim_(e,u,b))}}},t.FieldDropdown.applyTrim_=function(e,n,o){for(var u=[],b=0;b<e.length;b++){var w=e[b][0],R=e[b][1];w=w.substring(n,w.length-o),u[b]=[w,R]}return u},t.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},t.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),t.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},t.FieldDropdown.prototype.doClassValidation_=function(e){for(var b,n=!1,o=this.getOptions(!0),u=0;b=o[u];u++)if(b[1]==e){n=!0;break}return n?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)},t.FieldDropdown.prototype.doValueUpdate_=function(e){t.FieldDropdown.superClass_.doValueUpdate_.call(this,e),e=this.getOptions(!0);for(var o,n=0;o=e[n];n++)o[1]==this.value_&&(this.selectedOption_=o)},t.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.borderRect_.setAttribute("fill",this.menu_?this.sourceBlock_.style.colourTertiary:"transparent")),this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.isShadow()?this.sourceBlock_.style.colourSecondary:this.sourceBlock_.style.colourPrimary)},t.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.selectedOption_&&this.selectedOption_[0];e&&"object"==typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()},t.FieldDropdown.prototype.renderSelectedImage_=function(e){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",e.src),this.imageElement_.setAttribute("height",e.height),this.imageElement_.setAttribute("width",e.width);var n=Number(e.height);e=Number(e.width);var o=!!this.borderRect_,u=Math.max(o?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+t.FieldDropdown.IMAGE_Y_PADDING);o=o?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var b=this.svgArrow_?this.positionSVGArrow_(e+o,u/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):t.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=e+b+2*o,this.size_.height=u;var w=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",o+b):(w=e+b,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",o)),this.imageElement_.setAttribute("y",u/2-n/2),this.positionTextElement_(w+o,e+b)},t.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),t.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var e=!!this.borderRect_,n=Math.max(e?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),o=t.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);e=e?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var u=0;this.svgArrow_&&(u=this.positionSVGArrow_(o+e,n/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=o+u+2*e,this.size_.height=n,this.positionTextElement_(e,o)},t.FieldDropdown.prototype.positionSVGArrow_=function(e,n){if(!this.svgArrow_)return 0;var o=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,u=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,b=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?o:e+u)+","+n+")"),b+u},t.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var e=this.selectedOption_[0];return"object"==typeof e?e.alt:e},t.FieldDropdown.validateOptions_=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var n=!1,o=0;o<e.length;++o){var u=e[o];Array.isArray(u)?"string"!=typeof u[1]?(n=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option id must be a string. Found "+u[1]+" in: ",u)):u[0]&&"string"!=typeof u[0]&&"string"!=typeof u[0].src&&(n=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must have a string label or image description. Found"+u[0]+" in: ",u)):(n=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must be an array. Found: ",u))}if(n)throw TypeError("Found invalid FieldDropdown options.")},t.fieldRegistry.register("field_dropdown",t.FieldDropdown),t.FieldLabelSerializable=function(e,n,o){t.FieldLabelSerializable.superClass_.constructor.call(this,e,n,o)},t.utils.object.inherits(t.FieldLabelSerializable,t.FieldLabel),t.FieldLabelSerializable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabelSerializable(n,void 0,e)},t.FieldLabelSerializable.prototype.EDITABLE=!1,t.FieldLabelSerializable.prototype.SERIALIZABLE=!0,t.fieldRegistry.register("field_label_serializable",t.FieldLabelSerializable),t.FieldImage=function(e,n,o,u,b,w,R){if(!e)throw Error("Src value of an image field is required");if(e=t.utils.replaceMessageReferences(e),o=Number(t.utils.replaceMessageReferences(o)),n=Number(t.utils.replaceMessageReferences(n)),isNaN(o)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=o||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",t.FieldImage.superClass_.constructor.call(this,e,null,R),R||(this.flipRtl_=!!w,this.altText_=t.utils.replaceMessageReferences(u)||""),this.size_=new t.utils.Size(n,o+t.FieldImage.Y_PADDING),this.imageHeight_=o,this.clickHandler_=null,"function"==typeof b&&(this.clickHandler_=b),this.imageElement_=null},t.utils.object.inherits(t.FieldImage,t.Field),t.FieldImage.prototype.DEFAULT_VALUE="",t.FieldImage.fromJson=function(e){return new t.FieldImage(e.src,e.width,e.height,void 0,void 0,void 0,e)},t.FieldImage.Y_PADDING=1,t.FieldImage.prototype.EDITABLE=!1,t.FieldImage.prototype.isDirty_=!1,t.FieldImage.prototype.configure_=function(e){t.FieldImage.superClass_.configure_.call(this,e),this.flipRtl_=!!e.flipRtl,this.altText_=t.utils.replaceMessageReferences(e.alt)||""},t.FieldImage.prototype.initView=function(){this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},t.FieldImage.prototype.updateSize_=function(){},t.FieldImage.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:e},t.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",String(this.value_))},t.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},t.FieldImage.prototype.setAlt=function(e){e!=this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},t.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},t.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},t.FieldImage.prototype.getText_=function(){return this.altText_},t.fieldRegistry.register("field_image",t.FieldImage),t.FieldMultilineInput=function(e,n,o){t.FieldMultilineInput.superClass_.constructor.call(this,e,n,o),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1},t.utils.object.inherits(t.FieldMultilineInput,t.FieldTextInput),t.FieldMultilineInput.prototype.configure_=function(e){t.FieldMultilineInput.superClass_.configure_.call(this,e),e.maxLines&&this.setMaxLines(e.maxLines)},t.FieldMultilineInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldMultilineInput(n,void 0,e)},t.FieldMultilineInput.prototype.toXml=function(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e},t.FieldMultilineInput.prototype.fromXml=function(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))},t.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},t.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.getText();if(!e)return t.Field.NBSP;var n=e.split("\n");e="";for(var o=this.isOverflowedY_?this.maxLines_:n.length,u=0;u<o;u++){var b=n[u];b.length>this.maxDisplayLength?b=b.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&u===o-1&&(b=b.substring(0,b.length-3)+"..."),e+=b=b.replace(/\s/g,t.Field.NBSP),u!==o-1&&(e+="\n")}return this.sourceBlock_.RTL&&(e+="\u200f"),e},t.FieldMultilineInput.prototype.doValueUpdate_=function(e){t.FieldMultilineInput.superClass_.doValueUpdate_.call(this,e),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},t.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var n=0,o=0;o<e.length;o++){var u=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[o])),n+=u}this.isBeingEdited_&&(e=this.htmlInput_,this.isOverflowedY_?t.utils.dom.addClass(e,"blocklyHtmlTextAreaInputOverflowedY"):t.utils.dom.removeClass(e,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0)))},t.FieldMultilineInput.prototype.updateSize_=function(){for(var e=this.textGroup_.childNodes,n=0,o=0,u=0;u<e.length;u++){var b=t.utils.dom.getTextWidth(e[u]);b>n&&(n=b),o+=this.getConstants().FIELD_TEXT_HEIGHT+(0<u?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){e=this.value_.split("\n"),b=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText"});var w=this.getConstants().FIELD_TEXT_FONTSIZE,R=this.getConstants().FIELD_TEXT_FONTWEIGHT,N=this.getConstants().FIELD_TEXT_FONTFAMILY;for(u=0;u<e.length;u++){e[u].length>this.maxDisplayLength&&(e[u]=e[u].substring(0,this.maxDisplayLength)),b.textContent=e[u];var W=t.utils.dom.getFastTextWidth(b,w,R,N);W>n&&(n=W)}n+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(o+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",n),this.borderRect_.setAttribute("height",o)),this.size_.width=n,this.size_.height=o,this.positionBorderRect_()},t.FieldMultilineInput.prototype.showEditor_=function(e,n){t.FieldMultilineInput.superClass_.showEditor_.call(this,e,n),this.forceRerender()},t.FieldMultilineInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,n=this.workspace_.getScale(),o=document.createElement("textarea");o.className="blocklyHtmlInput blocklyHtmlTextAreaInput",o.setAttribute("spellcheck",this.spellcheck_);var u=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";e.style.fontSize=u,o.style.fontSize=u,o.style.borderRadius=t.FieldTextInput.BORDERRADIUS*n+"px",u=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;var b=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return o.style.padding=b+"px "+u+"px "+b+"px "+u+"px",u=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o.style.lineHeight=u*n+"px",e.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.untypedDefaultValue_=this.value_,o.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(o),o},t.FieldMultilineInput.prototype.setMaxLines=function(e){"number"==typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())},t.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},t.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==t.utils.KeyCodes.ENTER&&t.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},t.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}".split(",")),t.fieldRegistry.register("field_multilinetext",t.FieldMultilineInput),t.FieldNumber=function(e,n,o,u,b,w){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,t.FieldNumber.superClass_.constructor.call(this,e,b,w),w||this.setConstraints(n,o,u)},t.utils.object.inherits(t.FieldNumber,t.FieldTextInput),t.FieldNumber.prototype.DEFAULT_VALUE=0,t.FieldNumber.fromJson=function(e){return new t.FieldNumber(e.value,void 0,void 0,void 0,void 0,e)},t.FieldNumber.prototype.SERIALIZABLE=!0,t.FieldNumber.prototype.configure_=function(e){t.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},t.FieldNumber.prototype.setConstraints=function(e,n,o){this.setMinInternal_(e),this.setMaxInternal_(n),this.setPrecisionInternal_(o),this.setValue(this.getValue())},t.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))},t.FieldNumber.prototype.getMin=function(){return this.min_},t.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))},t.FieldNumber.prototype.getMax=function(){return this.max_},t.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setPrecisionInternal_=function(e){this.precision_=Number(e)||0;var n=String(this.precision_);-1!=n.indexOf("e")&&(n=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var o=n.indexOf(".");this.decimalPlaces_=-1==o?e?0:null:n.length-o-1},t.FieldNumber.prototype.getPrecision=function(){return this.precision_},t.FieldNumber.prototype.doClassValidation_=function(e){return null===e||(e=(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e)},t.FieldNumber.prototype.widgetCreate_=function(){var e=t.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMAX,this.max_),e},t.fieldRegistry.register("field_number",t.FieldNumber),t.FieldVariable=function(e,n,o,u,b){this.menuGenerator_=t.FieldVariable.dropdownCreate,this.defaultVariableName="string"==typeof e?e:"",this.size_=new t.utils.Size(0,0),b&&this.configure_(b),n&&this.setValidator(n),b||this.setTypes_(o,u)},t.utils.object.inherits(t.FieldVariable,t.FieldDropdown),t.FieldVariable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.variable);return new t.FieldVariable(n,void 0,void 0,void 0,e)},t.FieldVariable.prototype.SERIALIZABLE=!0,t.FieldVariable.prototype.configure_=function(e){t.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},t.FieldVariable.prototype.initModel=function(){if(!this.variable_){var e=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(e.getId())}},t.FieldVariable.prototype.shouldAddBorderRect_=function(){return t.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},t.FieldVariable.prototype.fromXml=function(e){var n=e.getAttribute("id"),o=e.textContent,u=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(n=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,n,o,u),null!=u&&u!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+t.Xml.domToText(e)+".");this.setValue(n.getId())},t.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},t.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");t.FieldVariable.superClass_.setSourceBlock.call(this,e)},t.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},t.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},t.FieldVariable.prototype.getVariable=function(){return this.variable_},t.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},t.FieldVariable.prototype.doClassValidation_=function(e){if(null===e)return null;var n=t.Variables.getVariable(this.sourceBlock_.workspace,e);return n?this.typeIsAllowed_(n=n.type)?e:(console.warn("Variable type doesn't match this field!  Type was "+n),null):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)},t.FieldVariable.prototype.doValueUpdate_=function(e){this.variable_=t.Variables.getVariable(this.sourceBlock_.workspace,e),t.FieldVariable.superClass_.doValueUpdate_.call(this,e)},t.FieldVariable.prototype.typeIsAllowed_=function(e){var n=this.getVariableTypes_();if(!n)return!0;for(var o=0;o<n.length;o++)if(e==n[o])return!0;return!1},t.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},t.FieldVariable.prototype.setTypes_=function(e,n){if(n=n||"",null==e||null==e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var o=!1,u=0;u<e.length;u++)e[u]==n&&(o=!0);if(!o)throw Error("Invalid default type '"+n+"' in the definition of a FieldVariable")}this.defaultType_=n,this.variableTypes=e},t.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},t.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var o=this.getVariableTypes_(),u=0;u<o.length;u++){var b=this.sourceBlock_.workspace.getVariablesOfType(o[u]);n=n.concat(b)}for(n.sort(t.VariableModel.compareByName),o=[],u=0;u<n.length;u++)o[u]=[n[u].name,n[u].getId()];return o.push([t.Msg.RENAME_VARIABLE,t.RENAME_VARIABLE_ID]),t.Msg.DELETE_VARIABLE&&o.push([t.Msg.DELETE_VARIABLE.replace("%1",e),t.DELETE_VARIABLE_ID]),o},t.FieldVariable.prototype.onItemSelected_=function(e,n){if(e=n.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(e==t.RENAME_VARIABLE_ID)return void t.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(e==t.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(e)},t.FieldVariable.prototype.referencesVariables=function(){return!0},t.fieldRegistry.register("field_variable",t.FieldVariable),t.utils.svgPaths={},t.utils.svgPaths.point=function(e,n){return" "+e+","+n+" "},t.utils.svgPaths.curve=function(e,n){return" "+e+n.join("")},t.utils.svgPaths.moveTo=function(e,n){return" M "+e+","+n+" "},t.utils.svgPaths.moveBy=function(e,n){return" m "+e+","+n+" "},t.utils.svgPaths.lineTo=function(e,n){return" l "+e+","+n+" "},t.utils.svgPaths.line=function(e){return" l"+e.join("")},t.utils.svgPaths.lineOnAxis=function(e,n){return" "+e+" "+n+" "},t.utils.svgPaths.arc=function(e,n,o,u){return e+" "+o+" "+o+" "+n+u},t.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=t.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},t.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},t.blockRendering.ConstantProvider.prototype.setTheme=function(e){this.blockStyles=Object.create(null);var o,n=e.blockStyles;for(o in n)this.blockStyles[o]=this.validatedBlockStyle_(n[o]);this.setDynamicProperties_(e)},t.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=null!=e.startHats?e.startHats:this.ADD_START_HATS},t.blockRendering.ConstantProvider.prototype.setFontConstants_=function(e){this.FIELD_TEXT_FONTFAMILY=e.fontStyle&&null!=e.fontStyle.family?e.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=e.fontStyle&&null!=e.fontStyle.weight?e.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=e.fontStyle&&null!=e.fontStyle.size?e.fontStyle.size:this.FIELD_TEXT_FONTSIZE,e=t.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline},t.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},t.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(e){var n="auto_"+e;return this.blockStyles[n]||(this.blockStyles[n]=this.createBlockStyle_(e)),{style:this.blockStyles[n],name:n}},t.blockRendering.ConstantProvider.prototype.getBlockStyle=function(e){return this.blockStyles[e||""]||(e&&0==e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))},t.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(e){return this.validatedBlockStyle_({colourPrimary:e})},t.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(e){var n={};return e&&t.utils.object.mixin(n,e),e=t.utils.parseBlockColour(n.colourPrimary||"#000"),n.colourPrimary=e.hex,n.colourSecondary=n.colourSecondary?t.utils.parseBlockColour(n.colourSecondary).hex:this.generateSecondaryColour_(n.colourPrimary),n.colourTertiary=n.colourTertiary?t.utils.parseBlockColour(n.colourTertiary).hex:this.generateTertiaryColour_(n.colourPrimary),n.hat=n.hat||"",n},t.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#fff",e,.6)||e},t.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#fff",e,.3)||e},t.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&t.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&t.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&t.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},t.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var e=this.JAGGED_TEETH_HEIGHT,n=this.JAGGED_TEETH_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.line([t.utils.svgPaths.point(n,e/4),t.utils.svgPaths.point(2*-n,e/2),t.utils.svgPaths.point(n,e/4)])}},t.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(30,-e),t.utils.svgPaths.point(70,-e),t.utils.svgPaths.point(n,0)])}},t.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function e(w){var R=-(w=w?-1:1),N=o/2,W=N+2.5,Z=N+.5,K=t.utils.svgPaths.point(-n,w*N);return N=t.utils.svgPaths.point(n,w*N),t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(0,w*W),t.utils.svgPaths.point(-n,R*Z),K])+t.utils.svgPaths.curve("s",[t.utils.svgPaths.point(n,2.5*R),N])}var n=this.TAB_WIDTH,o=this.TAB_HEIGHT,u=e(!0),b=e(!1);return{type:this.SHAPES.PUZZLE,width:n,height:o,pathDown:b,pathUp:u}},t.blockRendering.ConstantProvider.prototype.makeNotch=function(){function e(R){return t.utils.svgPaths.line([t.utils.svgPaths.point(R*u,o),t.utils.svgPaths.point(3*R,0),t.utils.svgPaths.point(R*u,-o)])}var n=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,u=(n-3)/2,b=e(1),w=e(-1);return{type:this.SHAPES.NOTCH,width:n,height:o,pathLeft:b,pathRight:w}},t.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e))}},t.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var e=this.CORNER_RADIUS,n=t.utils.svgPaths.moveBy(0,e)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,-e)),o=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e)),u=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,-e));return{topLeft:n,topRight:o,bottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e)),bottomLeft:u,rightHeight:e}},t.blockRendering.ConstantProvider.prototype.shapeFor=function(e){switch(e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:return this.PUZZLE_TAB;case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},t.blockRendering.ConstantProvider.prototype.createDom=function(e,n,o){this.injectCSS_(n,o),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},n),o=t.utils.dom.createSvgElement(t.utils.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},o),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},n),this.embossFilterId=n.id,this.embossFilter_=n,n=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:10,height:10,fill:"#aaa"},n),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},n),this.disabledPatternId=n.id,this.disabledPattern_=n,t.blockRendering.Debug&&(e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e)},t.blockRendering.ConstantProvider.prototype.injectCSS_=function(e,n){n=this.getCSS_(n),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);var o=n.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=o:((n=document.createElement("style")).id=e,e=document.createTextNode(o),n.appendChild(e),document.head.insertBefore(n,document.head.firstChild),this.cssNode_=n)},t.blockRendering.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},t.blockRendering.Types.LEFT_CORNER=t.blockRendering.Types.LEFT_SQUARE_CORNER|t.blockRendering.Types.LEFT_ROUND_CORNER,t.blockRendering.Types.RIGHT_CORNER=t.blockRendering.Types.RIGHT_SQUARE_CORNER|t.blockRendering.Types.RIGHT_ROUND_CORNER,t.blockRendering.Types.nextTypeValue_=16777216,t.blockRendering.Types.getType=function(e){return Object.prototype.hasOwnProperty.call(t.blockRendering.Types,e)||(t.blockRendering.Types[e]=t.blockRendering.Types.nextTypeValue_,t.blockRendering.Types.nextTypeValue_<<=1),t.blockRendering.Types[e]},t.blockRendering.Types.isField=function(e){return e.type&t.blockRendering.Types.FIELD},t.blockRendering.Types.isHat=function(e){return e.type&t.blockRendering.Types.HAT},t.blockRendering.Types.isIcon=function(e){return e.type&t.blockRendering.Types.ICON},t.blockRendering.Types.isSpacer=function(e){return e.type&t.blockRendering.Types.SPACER},t.blockRendering.Types.isInRowSpacer=function(e){return e.type&t.blockRendering.Types.IN_ROW_SPACER},t.blockRendering.Types.isInput=function(e){return e.type&t.blockRendering.Types.INPUT},t.blockRendering.Types.isExternalInput=function(e){return e.type&t.blockRendering.Types.EXTERNAL_VALUE_INPUT},t.blockRendering.Types.isInlineInput=function(e){return e.type&t.blockRendering.Types.INLINE_INPUT},t.blockRendering.Types.isStatementInput=function(e){return e.type&t.blockRendering.Types.STATEMENT_INPUT},t.blockRendering.Types.isPreviousConnection=function(e){return e.type&t.blockRendering.Types.PREVIOUS_CONNECTION},t.blockRendering.Types.isNextConnection=function(e){return e.type&t.blockRendering.Types.NEXT_CONNECTION},t.blockRendering.Types.isPreviousOrNextConnection=function(e){return e.type&(t.blockRendering.Types.PREVIOUS_CONNECTION|t.blockRendering.Types.NEXT_CONNECTION)},t.blockRendering.Types.isLeftRoundedCorner=function(e){return e.type&t.blockRendering.Types.LEFT_ROUND_CORNER},t.blockRendering.Types.isRightRoundedCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_ROUND_CORNER},t.blockRendering.Types.isLeftSquareCorner=function(e){return e.type&t.blockRendering.Types.LEFT_SQUARE_CORNER},t.blockRendering.Types.isRightSquareCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_SQUARE_CORNER},t.blockRendering.Types.isCorner=function(e){return e.type&t.blockRendering.Types.CORNER},t.blockRendering.Types.isJaggedEdge=function(e){return e.type&t.blockRendering.Types.JAGGED_EDGE},t.blockRendering.Types.isRow=function(e){return e.type&t.blockRendering.Types.ROW},t.blockRendering.Types.isBetweenRowSpacer=function(e){return e.type&t.blockRendering.Types.BETWEEN_ROW_SPACER},t.blockRendering.Types.isTopRow=function(e){return e.type&t.blockRendering.Types.TOP_ROW},t.blockRendering.Types.isBottomRow=function(e){return e.type&t.blockRendering.Types.BOTTOM_ROW},t.blockRendering.Types.isTopOrBottomRow=function(e){return e.type&(t.blockRendering.Types.TOP_ROW|t.blockRendering.Types.BOTTOM_ROW)},t.blockRendering.Types.isInputRow=function(e){return e.type&t.blockRendering.Types.INPUT_ROW},t.blockRendering.Measurable=function(e){this.height=this.width=0,this.type=t.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Connection=function(e,n){t.blockRendering.Connection.superClass_.constructor.call(this,e),this.connectionModel=n,this.shape=this.constants_.shapeFor(n),this.isDynamicShape=!!this.shape.isDynamic,this.type|=t.blockRendering.Types.CONNECTION},t.utils.object.inherits(t.blockRendering.Connection,t.blockRendering.Measurable),t.blockRendering.OutputConnection=function(e,n){t.blockRendering.OutputConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.OutputConnection,t.blockRendering.Connection),t.blockRendering.PreviousConnection=function(e,n){t.blockRendering.PreviousConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.PreviousConnection,t.blockRendering.Connection),t.blockRendering.NextConnection=function(e,n){t.blockRendering.NextConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.NextConnection,t.blockRendering.Connection),t.blockRendering.InputConnection=function(e,n){t.blockRendering.InputConnection.superClass_.constructor.call(this,e,n.connection),this.type|=t.blockRendering.Types.INPUT,this.input=n,this.align=n.align,(this.connectedBlock=n.connection&&n.connection.targetBlock()?n.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.InputConnection,t.blockRendering.Connection),t.blockRendering.InlineInput=function(e,n){t.blockRendering.InlineInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},t.utils.object.inherits(t.blockRendering.InlineInput,t.blockRendering.InputConnection),t.blockRendering.StatementInput=function(e,n){t.blockRendering.StatementInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},t.utils.object.inherits(t.blockRendering.StatementInput,t.blockRendering.InputConnection),t.blockRendering.ExternalValueInput=function(e,n){t.blockRendering.ExternalValueInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.ExternalValueInput,t.blockRendering.InputConnection),t.blockRendering.Icon=function(e,n){t.blockRendering.Icon.superClass_.constructor.call(this,e),this.icon=n,this.isVisible=n.isVisible(),this.type|=t.blockRendering.Types.ICON,e=n.getCorrectedSize(),this.height=e.height,this.width=e.width},t.utils.object.inherits(t.blockRendering.Icon,t.blockRendering.Measurable),t.blockRendering.JaggedEdge=function(e){t.blockRendering.JaggedEdge.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},t.utils.object.inherits(t.blockRendering.JaggedEdge,t.blockRendering.Measurable),t.blockRendering.Field=function(e,n,o){t.blockRendering.Field.superClass_.constructor.call(this,e),this.field=n,this.isEditable=n.EDITABLE,this.flipRtl=n.getFlipRtl(),this.type|=t.blockRendering.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=o},t.utils.object.inherits(t.blockRendering.Field,t.blockRendering.Measurable),t.blockRendering.Hat=function(e){t.blockRendering.Hat.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},t.utils.object.inherits(t.blockRendering.Hat,t.blockRendering.Measurable),t.blockRendering.SquareCorner=function(e,n){t.blockRendering.SquareCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_SQUARE_CORNER:t.blockRendering.Types.LEFT_SQUARE_CORNER)|t.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},t.utils.object.inherits(t.blockRendering.SquareCorner,t.blockRendering.Measurable),t.blockRendering.RoundCorner=function(e,n){t.blockRendering.RoundCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_ROUND_CORNER:t.blockRendering.Types.LEFT_ROUND_CORNER)|t.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},t.utils.object.inherits(t.blockRendering.RoundCorner,t.blockRendering.Measurable),t.blockRendering.InRowSpacer=function(e,n){t.blockRendering.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.IN_ROW_SPACER,this.width=n,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},t.utils.object.inherits(t.blockRendering.InRowSpacer,t.blockRendering.Measurable),t.blockRendering.Row=function(e){this.type=t.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},t.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},t.blockRendering.Row.prototype.getLastInput=function(){for(var n,e=this.elements.length-1;n=this.elements[e];e--)if(t.blockRendering.Types.isInput(n))return n;return null},t.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.getFirstSpacer=function(){for(var n,e=0;n=this.elements[e];e++)if(t.blockRendering.Types.isSpacer(n))return n;return null},t.blockRendering.Row.prototype.getLastSpacer=function(){for(var n,e=this.elements.length-1;n=this.elements[e];e--)if(t.blockRendering.Types.isSpacer(n))return n;return null},t.blockRendering.TopRow=function(e){t.blockRendering.TopRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},t.utils.object.inherits(t.blockRendering.TopRow,t.blockRendering.Row),t.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var n=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,o=e.getPreviousBlock();return!!e.outputConnection||n||!!o&&o.getNextBlock()==e},t.blockRendering.TopRow.prototype.hasRightSquareCorner=function(e){return!0},t.blockRendering.TopRow.prototype.measure=function(){for(var b,e=0,n=0,o=0,u=0;b=this.elements[u];u++)n+=b.width,t.blockRendering.Types.isSpacer(b)||(t.blockRendering.Types.isHat(b)?o=Math.max(o,b.ascenderHeight):e=Math.max(e,b.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,e)+o,this.capline=this.ascenderHeight=o,this.widthWithConnectedBlocks=this.width},t.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow=function(e){t.blockRendering.BottomRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},t.utils.object.inherits(t.blockRendering.BottomRow,t.blockRendering.Row),t.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},t.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(e){return!0},t.blockRendering.BottomRow.prototype.measure=function(){for(var b,e=0,n=0,o=0,u=0;b=this.elements[u];u++)n+=b.width,t.blockRendering.Types.isSpacer(b)||(t.blockRendering.Types.isNextConnection(b)?o=Math.max(o,b.height):e=Math.max(e,b.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,e)+o,this.descenderHeight=o,this.widthWithConnectedBlocks=this.width},t.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.SpacerRow=function(e,n,o){t.blockRendering.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=o,this.height=n,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new t.blockRendering.InRowSpacer(this.constants_,o)]},t.utils.object.inherits(t.blockRendering.SpacerRow,t.blockRendering.Row),t.blockRendering.SpacerRow.prototype.measure=function(){},t.blockRendering.InputRow=function(e){t.blockRendering.InputRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},t.utils.object.inherits(t.blockRendering.InputRow,t.blockRendering.Row),t.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var o,e=0,n=0;o=this.elements[n];n++)this.width+=o.width,t.blockRendering.Types.isInput(o)&&(t.blockRendering.Types.isStatementInput(o)?e+=o.connectedBlockWidth:t.blockRendering.Types.isExternalInput(o)&&0!=o.connectedBlockWidth&&(e+=o.connectedBlockWidth-o.connectionWidth)),t.blockRendering.Types.isSpacer(o)||(this.height=Math.max(this.height,o.height));this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e},t.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},t.blockRendering.RenderInfo=function(e,n){this.block_=n,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new t.blockRendering.OutputConnection(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new t.blockRendering.TopRow(this.constants_),this.bottomRow=new t.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},t.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new t.blockRendering.InputRow(this.constants_);this.inputRows.push(e);for(var u,n=this.block_.getIcons(),o=0;u=n[o];o++){var b=new t.blockRendering.Icon(this.constants_,u);this.isCollapsed&&u.collapseHidden?this.hiddenIcons.push(b):e.elements.push(b)}for(u=null,o=0;n=this.block_.inputList[o];o++)if(n.isVisible()){for(this.shouldStartNewRow_(n,u)&&(this.rows.push(e),e=new t.blockRendering.InputRow(this.constants_),this.inputRows.push(e)),u=0;b=n.fieldRow[u];u++)e.elements.push(new t.blockRendering.Field(this.constants_,b,n));this.addInput_(n,e),u=n}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new t.blockRendering.JaggedEdge(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)},t.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var e=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e,o=this.topRow.hasLeftSquareCorner(this.block_)?t.blockRendering.SquareCorner:t.blockRendering.RoundCorner;this.topRow.elements.push(new o(this.constants_)),n?(e=new t.blockRendering.Hat(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new t.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.topRow.minHeight=this.block_.inputList.length&&this.block_.inputList[0].type==t.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.constants_.TOP_ROW_MIN_HEIGHT,o=this.topRow.hasRightSquareCorner(this.block_)?t.blockRendering.SquareCorner:t.blockRendering.RoundCorner,this.topRow.elements.push(new o(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new t.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(n.elements.push(new t.blockRendering.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),null==n.align&&(n.align=e.align)},t.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!(!n||e.type!=t.inputTypes.STATEMENT&&n.type!=t.inputTypes.STATEMENT&&(e.type!=t.inputTypes.VALUE&&e.type!=t.inputTypes.DUMMY||this.isInline))},t.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var n,e=0;n=this.rows[e];e++){var o=n.elements;if(n.elements=[],n.startsWithElemSpacer()&&n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(var u=0;u<o.length-1;u++){n.elements.push(o[u]);var b=this.getInRowSpacing_(o[u],o[u+1]);n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,b))}n.elements.push(o[o.length-1]),n.endsWithElemSpacer()&&n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(o[o.length-1],null)))}}},t.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e&&n&&t.blockRendering.Types.isStatementInput(n))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var b,e=0,n=0,o=0,u=0;b=this.rows[u];u++){if(b.measure(),n=Math.max(n,b.width),b.hasStatement){var w=b.getLastInput();e=Math.max(e,b.width-w.width)}o=Math.max(o,b.widthWithConnectedBlocks)}for(this.statementEdge=e,this.width=n,u=0;b=this.rows[u];u++)b.hasStatement&&(b.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,o),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},t.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var n,e=0;n=this.rows[e];e++)if(n.hasStatement)this.alignStatementRow_(n);else{var o=n.width;0<(o=this.getDesiredRowWidth_(n)-o)&&this.addAlignmentPadding_(n,o),t.blockRendering.Types.isTopOrBottomRow(n)&&(n.widthWithConnectedBlocks=n.width)}},t.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(e,n){var o=e.getFirstSpacer(),u=e.getLastSpacer();(e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=n),e.align==t.constants.ALIGN.LEFT?u.width+=n:e.align==t.constants.ALIGN.CENTRE?(o.width+=n/2,u.width+=n/2):e.align==t.constants.ALIGN.RIGHT?o.width+=n:u.width+=n,e.width+=n},t.blockRendering.RenderInfo.prototype.alignStatementRow_=function(e){var n=e.getLastInput(),o=e.width-n.width,u=this.statementEdge;0<(o=u-o)&&this.addAlignmentPadding_(e,o),o=e.width,u=this.getDesiredRowWidth_(e),n.width+=u-o,n.height=Math.max(n.height,e.height),e.width+=u-o,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)},t.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var n=0;n<e.length;n++)this.rows.push(e[n]),n!=e.length-1&&this.rows.push(this.makeSpacerRow_(e[n],e[n+1]))},t.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(e,n){var o=this.getSpacerRowHeight_(e,n),u=this.getSpacerRowWidth_(e,n);return o=new t.blockRendering.SpacerRow(this.constants_,o,u),e.hasStatement&&(o.followsStatement=!0),n.hasStatement&&(o.precedesStatement=!0),o},t.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(e,n){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.getElemCenterline_=function(e,n){return t.blockRendering.Types.isSpacer(n)?e.yPos+n.height/2:t.blockRendering.Types.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2):t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2:e.yPos+e.height/2},t.blockRendering.RenderInfo.prototype.recordElemPositions_=function(e){for(var u,n=e.xPos,o=0;u=e.elements[o];o++)t.blockRendering.Types.isSpacer(u)&&(u.height=e.height),u.xPos=n,u.centerline=this.getElemCenterline_(e,u),n+=u.width},t.blockRendering.RenderInfo.prototype.finalize_=function(){for(var u,e=0,n=0,o=0;u=this.rows[o];o++)u.yPos=n,u.xPos=this.startX,n+=u.height,e=Math.max(e,u.widthWithConnectedBlocks),this.recordElemPositions_(u);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight},t.blockRendering.Debug=function(e){this.debugElements_=[],this.svgRoot_=null,this.constants_=e},t.blockRendering.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},t.blockRendering.Debug.prototype.clearElems=function(){for(var n,e=0;n=this.debugElements_[e];e++)t.utils.dom.removeNode(n);this.debugElements_=[]},t.blockRendering.Debug.prototype.drawSpacerRow=function(e,n,o){if(t.blockRendering.Debug.config.rowSpacers){var u=Math.abs(e.height),b=0>e.height;b&&(n-=u),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:o?-(e.xPos+e.width):e.xPos,y:n,width:e.width,height:u,stroke:b?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawSpacerElem=function(e,n,o){if(t.blockRendering.Debug.config.elemSpacers){n=Math.abs(e.width);var u=0>e.width,b=u?e.xPos-n:e.xPos;o&&(b=-(b+n)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:b,y:e.centerline-e.height/2,width:n,height:e.height,stroke:"pink",fill:u?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedElem=function(e,n){if(t.blockRendering.Debug.config.elems){var o=e.xPos;n&&(o=-(o+e.width)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:o,y:n=e.centerline-e.height/2,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isField(e)&&e.field instanceof t.FieldLabel&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:o,y:n+this.constants_.FIELD_TEXT_BASELINE,width:e.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}t.blockRendering.Types.isInput(e)&&t.blockRendering.Debug.config.connections&&this.drawConnection(e.connectionModel)},t.blockRendering.Debug.prototype.drawConnection=function(e){if(t.blockRendering.Debug.config.connections){if(e.type==t.connectionTypes.INPUT_VALUE)var n=4,o="magenta",u="none";else e.type==t.connectionTypes.OUTPUT_VALUE?(n=2,u=o="magenta"):e.type==t.connectionTypes.NEXT_STATEMENT?(n=4,o="goldenrod",u="none"):e.type==t.connectionTypes.PREVIOUS_STATEMENT&&(n=2,u=o="goldenrod");this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blockRenderDebug",cx:e.offsetInBlock_.x,cy:e.offsetInBlock_.y,r:n,fill:u,stroke:o},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedRow=function(e,n,o){t.blockRendering.Debug.config.rows&&(this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:o?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isTopOrBottomRow(e)||t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:o?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},t.blockRendering.Debug.prototype.drawRowWithElements=function(e,n,o){for(var u=0,b=e.elements.length;u<b;u++){var w=e.elements[u];w?t.blockRendering.Types.isSpacer(w)?this.drawSpacerElem(w,e.height,o):this.drawRenderedElem(w,o):console.warn("A row has an undefined or null element.",e,w)}this.drawRenderedRow(e,n,o)},t.blockRendering.Debug.prototype.drawBoundingBox=function(e){if(t.blockRendering.Debug.config.blockBounds){var n=e.RTL?-e.width:0;this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:n,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockRenderDebug",x:n=e.RTL?-e.widthWithChildren:0,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawDebug=function(e,n){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var b,o=0,u=0;b=n.rows[u];u++)t.blockRendering.Types.isBetweenRowSpacer(b)?this.drawSpacerRow(b,o,n.RTL):this.drawRowWithElements(b,o,n.RTL),o+=b.height;e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),n.rightSide&&this.drawRenderedElem(n.rightSide,n.RTL),this.drawBoundingBox(n),this.drawRender(e.pathObject.svgPath)},t.blockRendering.Debug.prototype.drawRender=function(e){t.blockRendering.Debug.config.render&&(e.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout(function(){e.setAttribute("filter","")},100))},t.blockRendering.Drawer=function(e,n){this.block_=e,this.info_=n,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=n.getRenderer().getConstants()},t.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},t.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var n,e=0;n=this.info_.hiddenIcons[e];e++)n.icon.iconGroup_.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var n=this.info_.rows[e];n.hasJaggedEdge?this.drawJaggedEdge_(n):n.hasStatement?this.drawStatementInput_(n):n.hasExternalInput?this.drawValueInput_(n):this.drawRightSideRow_(n)}this.drawBottom_(),this.drawLeft_()},t.blockRendering.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,n=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var u,o=0;u=n[o];o++)t.blockRendering.Types.isLeftRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:t.blockRendering.Types.isRightRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:t.blockRendering.Types.isPreviousConnection(u)?this.outlinePath_+=u.shape.pathLeft:t.blockRendering.Types.isHat(u)?this.outlinePath_+=this.constants_.START_HAT.path:t.blockRendering.Types.isSpacer(u)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",u.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("v",e.height)},t.blockRendering.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+t.utils.svgPaths.lineOnAxis("v",e.height-this.constants_.JAGGED_TEETH.height)},t.blockRendering.Drawer.prototype.drawValueInput_=function(e){var n=e.getLastInput();this.positionExternalValueConnection_(e);var o="function"==typeof n.shape.pathDown?n.shape.pathDown(n.height):n.shape.pathDown;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",n.xPos+n.width)+o+t.utils.svgPaths.lineOnAxis("v",e.height-n.connectionHeight)},t.blockRendering.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),o=n.xPos+n.notchOffset+n.shape.width;n=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var u=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",o)+n+t.utils.svgPaths.lineOnAxis("v",u)+this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.blockRendering.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.blockRendering.Drawer.prototype.drawBottom_=function(){var e=this.info_.bottomRow,n=e.elements;this.positionNextConnection_();for(var w,o=0,u="",b=n.length-1;w=n[b];b--)t.blockRendering.Types.isNextConnection(w)?u+=w.shape.pathRight:t.blockRendering.Types.isLeftSquareCorner(w)?u+=t.utils.svgPaths.lineOnAxis("H",e.xPos):t.blockRendering.Types.isLeftRoundedCorner(w)?u+=this.constants_.OUTSIDE_CORNERS.bottomLeft:t.blockRendering.Types.isRightRoundedCorner(w)?(u+=this.constants_.OUTSIDE_CORNERS.bottomRight,o=this.constants_.OUTSIDE_CORNERS.rightHeight):t.blockRendering.Types.isSpacer(w)&&(u+=t.utils.svgPaths.lineOnAxis("h",-1*w.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-o),this.outlinePath_+=u},t.blockRendering.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var n=e.connectionOffsetY+e.height;e="function"==typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",n)+e}this.outlinePath_+="z"},t.blockRendering.Drawer.prototype.drawInternals_=function(){for(var n,e=0;n=this.info_.rows[e];e++)for(var u,o=0;u=n.elements[o];o++)t.blockRendering.Types.isInlineInput(u)?this.drawInlineInput_(u):(t.blockRendering.Types.isIcon(u)||t.blockRendering.Types.isField(u))&&this.layoutField_(u)},t.blockRendering.Drawer.prototype.layoutField_=function(e){if(t.blockRendering.Types.isField(e))var n=e.field.getSvgRoot();else t.blockRendering.Types.isIcon(e)&&(n=e.icon.iconGroup_);var o=e.centerline-e.height/2,u=e.xPos,b="";this.info_.RTL&&(u=-(u+e.width),e.flipRtl&&(u+=e.width,b="scale(-1 1)")),t.blockRendering.Types.isIcon(e)?(n.setAttribute("display","block"),n.setAttribute("transform","translate("+u+","+o+")"),e.icon.computeIconLocation()):n.setAttribute("transform","translate("+u+","+o+")"+b),this.info_.isInsertionMarker&&n.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawInlineInput_=function(e){var n=e.width,o=e.height,u=e.connectionOffsetY,b=e.connectionHeight+u;this.inlinePath_+=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-o/2)+t.utils.svgPaths.lineOnAxis("v",u)+e.shape.pathDown+t.utils.svgPaths.lineOnAxis("v",o-b)+t.utils.svgPaths.lineOnAxis("h",n-e.connectionWidth)+t.utils.svgPaths.lineOnAxis("v",-o)+"z",this.positionInlineInputConnection_(e)},t.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(e){if(e.connectionModel){var o=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,e.centerline-e.height/2+e.connectionOffsetY)}},t.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var o=e.xPos+e.statementEdge+n.notchOffset;this.info_.RTL&&(o*=-1),n.connectionModel.setOffsetInBlock(o,e.yPos)}},t.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var o=e.xPos+e.width;this.info_.RTL&&(o*=-1),n.connectionModel.setOffsetInBlock(o,e.yPos)}},t.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var n=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,0)}},t.blockRendering.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var n=e.connection,o=n.xPos;n.connectionModel.setOffsetInBlock(this.info_.RTL?-o:o,e.baseline)}},t.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}},t.Events.MarkerMove=function(e,n,o,u){var b=e?e.workspace.id:void 0;u&&u.getType()==t.ASTNode.types.WORKSPACE&&(b=u.getLocation().id),t.Events.MarkerMove.superClass_.constructor.call(this,b),this.blockId=e?e.id:null,this.oldNode=o,this.newNode=u,this.isCursor=n},t.utils.object.inherits(t.Events.MarkerMove,t.Events.UiBase),t.Events.MarkerMove.prototype.type=t.Events.MARKER_MOVE,t.Events.MarkerMove.prototype.toJson=function(){var e=t.Events.MarkerMove.superClass_.toJson.call(this);return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e},t.Events.MarkerMove.prototype.fromJson=function(e){t.Events.MarkerMove.superClass_.fromJson.call(this,e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode},t.registry.register(t.registry.Type.EVENT,t.Events.MARKER_MOVE,t.Events.MarkerMove),t.blockRendering.MarkerSvg=function(e,n,o){this.workspace_=e,this.marker_=o,this.parent_=null,this.constants_=n,this.currentMarkerSvg=null,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=o.colour||e},t.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",t.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,t.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},t.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},t.blockRendering.MarkerSvg.prototype.createDom=function(){var e=this.isCursor()?t.blockRendering.MarkerSvg.CURSOR_CLASS:t.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},null),this.createDomInternal_(),this.svgGroup_},t.blockRendering.MarkerSvg.prototype.setParent_=function(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e},t.blockRendering.MarkerSvg.prototype.draw=function(e,n){if(n){this.constants_=this.workspace_.getRenderer().getConstants();var o=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||o,this.applyColour_(n),this.showAtLocation_(n),this.fireMarkerEvent_(e,n),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()},t.blockRendering.MarkerSvg.prototype.showAtLocation_=function(e){var n=e.getLocation().type;e.getType()==t.ASTNode.types.BLOCK?this.showWithBlock_(e):e.getType()==t.ASTNode.types.OUTPUT?this.showWithOutput_(e):n==t.connectionTypes.INPUT_VALUE?this.showWithInput_(e):n==t.connectionTypes.NEXT_STATEMENT?this.showWithNext_(e):e.getType()==t.ASTNode.types.PREVIOUS?this.showWithPrevious_(e):e.getType()==t.ASTNode.types.FIELD?this.showWithField_(e):e.getType()==t.ASTNode.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()==t.ASTNode.types.STACK&&this.showWithStack_(e)},t.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(e){var n=(e=e.getSourceBlock()).width,o=e.height,u=o*t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,b=this.constants_.CURSOR_BLOCK_PADDING;if(e.previousConnection){var w=this.constants_.shapeFor(e.previousConnection);this.positionPrevious_(n,b,u,w)}else e.outputConnection?(w=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(n,o,w)):this.positionBlock_(n,b,u);this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithBlock_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(e){var n=e.getWsCoordinate();e=n.x,this.workspace_.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,n=n.y,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithField_=function(e){var n=(e=e.getLocation()).getSize().width,o=e.getSize().height;this.positionRect_(0,0,n,o),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithInput_=function(e){var n=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(n),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithNext_=function(e){var n=e.getLocation();e=n.getSourceBlock();var o=0;n=n.getOffsetInBlock().y;var u=e.getHeightWidth().width;this.workspace_.RTL&&(o=-u),this.positionLine_(o,n,u),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithStack_=function(e){var n=(e=e.getLocation()).getHeightWidth(),o=n.width+this.constants_.CURSOR_STACK_PADDING,u=-this.constants_.CURSOR_STACK_PADDING/2,w=u;this.workspace_.RTL&&(w=-(o+u)),this.positionRect_(w,-this.constants_.CURSOR_STACK_PADDING/2,o,n=n.height+this.constants_.CURSOR_STACK_PADDING),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},t.blockRendering.MarkerSvg.prototype.positionBlock_=function(e,n,o){e=t.utils.svgPaths.moveBy(-n,o)+t.utils.svgPaths.lineOnAxis("V",-n)+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",o),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionInput_=function(e){var n=e.getOffsetInBlock().x,o=e.getOffsetInBlock().y;e=t.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+n+","+o+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},t.blockRendering.MarkerSvg.prototype.positionLine_=function(e,n,o){this.markerSvgLine_.setAttribute("x",e),this.markerSvgLine_.setAttribute("y",n),this.markerSvgLine_.setAttribute("width",o),this.currentMarkerSvg=this.markerSvgLine_},t.blockRendering.MarkerSvg.prototype.positionOutput_=function(e,n,o){e=t.utils.svgPaths.moveBy(e,0)+t.utils.svgPaths.lineOnAxis("h",-(e-o.width))+t.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+o.pathDown+t.utils.svgPaths.lineOnAxis("V",n)+t.utils.svgPaths.lineOnAxis("H",e),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionPrevious_=function(e,n,o,u){e=t.utils.svgPaths.moveBy(-n,o)+t.utils.svgPaths.lineOnAxis("V",-n)+t.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+u.pathLeft+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",o),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionRect_=function(e,n,o,u){this.markerSvgRect_.setAttribute("x",e),this.markerSvgRect_.setAttribute("y",n),this.markerSvgRect_.setAttribute("width",o),this.markerSvgRect_.setAttribute("height",u),this.currentMarkerSvg=this.markerSvgRect_},t.blockRendering.MarkerSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},t.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},t.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(e,n){var o=n.getSourceBlock();e=new(t.Events.get(t.Events.MARKER_MOVE))(o,this.isCursor(),e,n),t.Events.fire(e)},t.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},t.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerSvgLine_),t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerInput_),e.attributeName="stroke",t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerBlock_)}return this.markerSvg_},t.blockRendering.MarkerSvg.prototype.applyColour_=function(e){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(this.markerSvgLine_.firstChild.setAttribute("values",e=this.colour_+";transparent;transparent;"),this.markerInput_.firstChild.setAttribute("values",e),this.markerBlock_.firstChild.setAttribute("values",e))},t.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.blockRendering.PathObject=function(e,n,o){this.constants=o,this.svgRoot=e,this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=n,this.markerSvg=this.cursorSvg=null},t.blockRendering.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e)},t.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},t.blockRendering.PathObject.prototype.setCursorSvg=function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null},t.blockRendering.PathObject.prototype.setMarkerSvg=function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null},t.blockRendering.PathObject.prototype.applyColour=function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())},t.blockRendering.PathObject.prototype.setStyle=function(e){this.style=e},t.blockRendering.PathObject.prototype.setClass_=function(e,n){n?t.utils.dom.addClass(this.svgRoot,e):t.utils.dom.removeClass(this.svgRoot,e)},t.blockRendering.PathObject.prototype.updateHighlighted=function(e){this.svgPath.setAttribute("filter",e?"url(#"+this.constants.embossFilterId+")":"none")},t.blockRendering.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.blockRendering.PathObject.prototype.updateDisabled_=function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},t.blockRendering.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e)},t.blockRendering.PathObject.prototype.updateDraggingDelete=function(e){this.setClass_("blocklyDraggingDelete",e)},t.blockRendering.PathObject.prototype.updateInsertionMarker=function(e){this.setClass_("blocklyInsertionMarker",e)},t.blockRendering.PathObject.prototype.updateMovable=function(e){this.setClass_("blocklyDraggable",e)},t.blockRendering.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e)},t.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(e,n){},t.blockRendering.Renderer=function(e){this.name=e,this.overrides=this.constants_=null},t.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},t.blockRendering.Renderer.prototype.init=function(e,n){this.constants_=this.makeConstants_(),n&&(this.overrides=n,t.utils.object.mixin(this.constants_,n)),this.constants_.setTheme(e),this.constants_.init()},t.blockRendering.Renderer.prototype.createDom=function(e,n){this.constants_.createDom(e,this.name+"-"+n.name,"."+this.getClassName()+"."+n.getClassName())},t.blockRendering.Renderer.prototype.refreshDom=function(e,n){var o=this.getConstants();o.dispose(),this.constants_=this.makeConstants_(),this.overrides&&t.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=o.randomIdentifier,this.constants_.setTheme(n),this.constants_.init(),this.createDom(e,n)},t.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},t.blockRendering.Renderer.prototype.makeConstants_=function(){return new t.blockRendering.ConstantProvider},t.blockRendering.Renderer.prototype.makeRenderInfo_=function(e){return new t.blockRendering.RenderInfo(this,e)},t.blockRendering.Renderer.prototype.makeDrawer_=function(e,n){return new t.blockRendering.Drawer(e,n)},t.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!t.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new t.blockRendering.Debug(this.getConstants())},t.blockRendering.Renderer.prototype.makeMarkerDrawer=function(e,n){return new t.blockRendering.MarkerSvg(e,this.getConstants(),n)},t.blockRendering.Renderer.prototype.makePathObject=function(e,n){return new t.blockRendering.PathObject(e,n,this.constants_)},t.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},t.blockRendering.Renderer.prototype.shouldHighlightConnection=function(e){return!0},t.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(e,n,o){return!!t.Connection.getConnectionForOrphanedConnection(e,o===t.connectionTypes.OUTPUT_VALUE?n.outputConnection:n.previousConnection)},t.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(e,n,o){return n.type==t.connectionTypes.OUTPUT_VALUE||n.type==t.connectionTypes.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(o,e.targetBlock(),n.type)?t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},t.blockRendering.Renderer.prototype.render=function(e){t.blockRendering.useDebugger&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var n=this.makeRenderInfo_(e);n.measure(),this.makeDrawer_(e,n).draw()},t.geras={},t.geras.ConstantProvider=function(){t.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2},t.utils.object.inherits(t.geras.ConstantProvider,t.blockRendering.ConstantProvider),t.geras.ConstantProvider.prototype.getCSS_=function(e){return t.geras.ConstantProvider.superClass_.getCSS_.call(this,e).concat([e+" .blocklyInsertionMarker>.blocklyPathLight,",e+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},t.geras.Highlighter=function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},t.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},t.geras.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var o,n=0;o=e.elements[n];n++)t.blockRendering.Types.isLeftSquareCorner(o)?this.steps_+=this.highlightConstants_.START_POINT:t.blockRendering.Types.isLeftRoundedCorner(o)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):t.blockRendering.Types.isPreviousConnection(o)?this.steps_+=this.notchPaths_.pathLeft:t.blockRendering.Types.isHat(o)?this.steps_+=this.startPaths_.path(this.RTL_):t.blockRendering.Types.isSpacer(o)&&0!=o.width&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",o.xPos+o.width-this.highlightOffset_));this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width-this.highlightOffset_)},t.geras.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+t.utils.svgPaths.lineOnAxis("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},t.geras.Highlighter.prototype.drawValueInput=function(e){var n=e.getLastInput();if(this.RTL_){var o=e.height-n.connectionHeight;this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",o)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.Highlighter.prototype.drawStatementInput=function(e){var n=e.getLastInput();if(this.RTL_){var o=e.height-2*this.insideCornerPaths_.height;this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",o)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)},t.geras.Highlighter.prototype.drawRightSideRow=function(e){var n=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n)),this.RTL_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n),e.height>this.highlightOffset_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height-this.highlightOffset_)))},t.geras.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-this.highlightOffset_);else{var n=this.info_.bottomRow.elements[0];t.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=t.utils.svgPaths.moveTo(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):t.blockRendering.Types.isLeftRoundedCorner(n)&&(this.steps_+=t.utils.svgPaths.moveTo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},t.geras.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX,e):(this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=t.utils.svgPaths.lineOnAxis("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t.blockRendering.Types.isLeftRoundedCorner((e=this.info_.topRow).elements[0])?this.steps_+=t.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_))},t.geras.Highlighter.prototype.drawInlineInput=function(e){var n=this.highlightOffset_,o=e.xPos+e.connectionWidth,u=e.centerline-e.height/2,b=e.width-e.connectionWidth,w=u+n;this.RTL_?(u=e.connectionOffsetY-n,e=e.height-(e.connectionOffsetY+e.connectionHeight)+n,this.inlineSteps_+=t.utils.svgPaths.moveTo(o-n,w)+t.utils.svgPaths.lineOnAxis("v",u)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",e)+t.utils.svgPaths.lineOnAxis("h",b)):this.inlineSteps_+=t.utils.svgPaths.moveTo(e.xPos+e.width+n,w)+t.utils.svgPaths.lineOnAxis("v",e.height)+t.utils.svgPaths.lineOnAxis("h",-b)+t.utils.svgPaths.moveTo(o,u+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.InlineInput=function(e,n){t.geras.InlineInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.InlineInput,t.blockRendering.InlineInput),t.geras.StatementInput=function(e,n){t.geras.StatementInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.StatementInput,t.blockRendering.StatementInput),t.geras.RenderInfo=function(e,n){t.geras.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.geras.RenderInfo,t.blockRendering.RenderInfo),t.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.geras.RenderInfo.prototype.populateBottomRow_=function(){t.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},t.geras.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.inputTypes.VALUE?(n.elements.push(new t.geras.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(n.elements.push(new t.geras.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),this.isInline||null!=n.align||(n.align=e.align)},t.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var o,e=!1,n=0;o=this.rows[n];n++)o.hasExternalInput&&(e=!0);for(n=0;o=this.rows[n];n++){var u=o.elements;if(o.elements=[],o.startsWithElemSpacer()&&o.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,u[0]))),u.length){for(var b=0;b<u.length-1;b++){o.elements.push(u[b]);var w=this.getInRowSpacing_(u[b],u[b+1]);o.elements.push(new t.blockRendering.InRowSpacer(this.constants_,w))}o.elements.push(u[u.length-1]),o.endsWithElemSpacer()&&(w=this.getInRowSpacing_(u[u.length-1],null),e&&o.hasDummyInput&&(w+=this.constants_.TAB_WIDTH),o.elements.push(new t.blockRendering.InRowSpacer(this.constants_,w)))}}},t.geras.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&(!n||t.blockRendering.Types.isStatementInput(n)))return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&t.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset;if(t.blockRendering.Types.isNextConnection(n))return n.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(t.blockRendering.Types.isLeftRoundedCorner(e)&&n){if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS;if(t.blockRendering.Types.isNextConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return t.blockRendering.Types.isField(e)&&n&&t.blockRendering.Types.isField(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||!e.hasStatement&&n.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2;var o=e.yPos;return t.blockRendering.Types.isField(n)||t.blockRendering.Types.isIcon(n)?(o+=n.height/2,(e.hasInlineInput||e.hasStatement)&&n.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(o+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):o=t.blockRendering.Types.isInlineInput(n)?o+n.height/2:o+e.height/2,o},t.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var u,e=0,n=null,o=this.rows.length-1;u=this.rows[o];o--)u.nextRightEdge=e,t.blockRendering.Types.isInputRow(u)&&(u.hasStatement&&this.alignStatementRow_(u),n&&n.hasStatement&&u.width<n.width?u.nextRightEdge=n.width:e=u.width,n=u);for(o=e=0;u=this.rows[o];o++)u.hasStatement?e=this.getDesiredRowWidth_(u):t.blockRendering.Types.isSpacer(u)?u.width=Math.max(e,u.nextRightEdge):(0<(e=Math.max(e,u.nextRightEdge)-u.width)&&this.addAlignmentPadding_(u,e),e=u.width)}else t.geras.RenderInfo.superClass_.alignRowElements_.call(this)},t.geras.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:t.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.geras.RenderInfo.prototype.finalize_=function(){for(var u,e=0,n=0,o=0;u=this.rows[o];o++){u.yPos=n,u.xPos=this.startX,n+=u.height,e=Math.max(e,u.widthWithConnectedBlocks);var b=n-this.topRow.ascenderHeight;u==this.bottomRow&&b<this.constants_.MIN_BLOCK_HEIGHT&&(this.bottomRow.height+=b=this.constants_.MIN_BLOCK_HEIGHT-b,n+=b),this.recordElemPositions_(u)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},t.geras.Drawer=function(e,n){t.geras.Drawer.superClass_.constructor.call(this,e,n),this.highlighter_=new t.geras.Highlighter(n)},t.utils.object.inherits(t.geras.Drawer,t.blockRendering.Drawer),t.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),t.geras.Drawer.superClass_.drawTop_.call(this)},t.geras.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),t.geras.Drawer.superClass_.drawJaggedEdge_.call(this,e)},t.geras.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),t.geras.Drawer.superClass_.drawValueInput_.call(this,e)},t.geras.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),t.geras.Drawer.superClass_.drawStatementInput_.call(this,e)},t.geras.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width)+t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),t.geras.Drawer.superClass_.drawBottom_.call(this)},t.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),t.geras.Drawer.superClass_.drawLeft_.call(this)},t.geras.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),t.geras.Drawer.superClass_.drawInlineInput_.call(this,e)},t.geras.Drawer.prototype.positionInlineInputConnection_=function(e){if(e.connectionModel){var o=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,e.centerline-e.height/2+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionStatementInputConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var o=e.xPos+e.statementEdge+n.notchOffset;n.connectionModel.setOffsetInBlock(o=this.info_.RTL?-1*o:o+this.constants_.DARK_PATH_OFFSET,e.yPos+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionExternalValueConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var o=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),n.connectionModel.setOffsetInBlock(o,e.yPos)}},t.geras.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var n=e.connection,o=n.xPos;n.connectionModel.setOffsetInBlock((this.info_.RTL?-o:o)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}},t.geras.HighlightConstantProvider=function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=t.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},t.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},t.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,o=(1-Math.SQRT1_2)*(e+n)-n,u=t.utils.svgPaths.moveBy(o,o)+t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-o-n,e-o)),b=t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e+n,e+n)),w=t.utils.svgPaths.moveBy(o,-o)+t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e-o,o+n));return{width:e+n,height:e,pathTop:function(R){return R?u:""},pathBottom:function(R){return R?b:w}}},t.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,o=(1-Math.SQRT1_2)*(e-n)+n,u=t.utils.svgPaths.moveBy(o,o)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e-o,-o+n)),b=t.utils.svgPaths.moveBy(n,e)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e,-e+n)),w=-o,R=t.utils.svgPaths.moveBy(o,w)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(-o+n,-w-e));return{height:e,topLeft:function(N){return N?u:b},bottomLeft:function(){return R}}},t.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var e=this.constantProvider.TAB_WIDTH,n=this.constantProvider.TAB_HEIGHT,o=t.utils.svgPaths.moveBy(-2,3.4-n)+t.utils.svgPaths.lineTo(-.45*e,-2.1),u=t.utils.svgPaths.lineOnAxis("v",2.5)+t.utils.svgPaths.moveBy(.97*-e,2.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(.05*-e,10),t.utils.svgPaths.point(.3*e,9.5)])+t.utils.svgPaths.moveBy(.67*e,-1.9)+t.utils.svgPaths.lineOnAxis("v",2.5),b=t.utils.svgPaths.lineOnAxis("v",-1.5)+t.utils.svgPaths.moveBy(-.92*e,-.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(-.19*e,-5.5),t.utils.svgPaths.point(0,-11)])+t.utils.svgPaths.moveBy(.92*e,1),w=t.utils.svgPaths.moveBy(-5,n-.7)+t.utils.svgPaths.lineTo(.46*e,-2.1);return{width:e,height:n,pathUp:function(R){return R?o:b},pathDown:function(R){return R?u:w}}},t.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:t.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},t.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:t.utils.svgPaths.lineTo(5.1,2.6)+t.utils.svgPaths.moveBy(-10.2,6.8)+t.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},t.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,n=t.utils.svgPaths.moveBy(25,-8.7)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(29.7,-6.2),t.utils.svgPaths.point(57.2,-.5),t.utils.svgPaths.point(75,8.7)]),o=t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(17.8,-9.2),t.utils.svgPaths.point(45.3,-14.9),t.utils.svgPaths.point(75,-8.7)])+t.utils.svgPaths.moveTo(100.5,e+.5);return{path:function(u){return u?n:o}}},t.geras.PathObject=function(e,n,o){this.constants=o,this.svgRoot=e,this.svgPathDark=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=n},t.utils.object.inherits(t.geras.PathObject,t.blockRendering.PathObject),t.geras.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)},t.geras.PathObject.prototype.setHighlightPath=function(e){this.svgPathLight.setAttribute("d",e)},t.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},t.geras.PathObject.prototype.applyColour=function(e){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),t.geras.PathObject.superClass_.applyColour.call(this,e),this.svgPath.setAttribute("stroke","none")},t.geras.PathObject.prototype.setStyle=function(e){this.style=e,this.colourDark=t.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},t.geras.PathObject.prototype.updateHighlighted=function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},t.geras.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.geras.PathObject.prototype.updateDisabled_=function(e){t.geras.PathObject.superClass_.updateDisabled_.call(this,e),e&&this.svgPath.setAttribute("stroke","none")},t.geras.Renderer=function(e){t.geras.Renderer.superClass_.constructor.call(this,e),this.highlightConstants_=null},t.utils.object.inherits(t.geras.Renderer,t.blockRendering.Renderer),t.geras.Renderer.prototype.init=function(e,n){t.geras.Renderer.superClass_.init.call(this,e,n),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},t.geras.Renderer.prototype.refreshDom=function(e,n){t.geras.Renderer.superClass_.refreshDom.call(this,e,n),this.getHighlightConstants().init()},t.geras.Renderer.prototype.makeConstants_=function(){return new t.geras.ConstantProvider},t.geras.Renderer.prototype.makeRenderInfo_=function(e){return new t.geras.RenderInfo(this,e)},t.geras.Renderer.prototype.makeDrawer_=function(e,n){return new t.geras.Drawer(e,n)},t.geras.Renderer.prototype.makePathObject=function(e,n){return new t.geras.PathObject(e,n,this.getConstants())},t.geras.Renderer.prototype.makeHighlightConstants_=function(){return new t.geras.HighlightConstantProvider(this.getConstants())},t.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},t.blockRendering.register("geras",t.geras.Renderer),t.thrasos={},t.thrasos.RenderInfo=function(e,n){t.thrasos.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.thrasos.RenderInfo,t.blockRendering.RenderInfo),t.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var o,e=!1,n=0;o=this.rows[n];n++)o.hasExternalInput&&(e=!0);for(n=0;o=this.rows[n];n++){var u=o.elements;o.elements=[],o.startsWithElemSpacer()&&o.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,u[0])));for(var b=0;b<u.length-1;b++){o.elements.push(u[b]);var w=this.getInRowSpacing_(u[b],u[b+1]);o.elements.push(new t.blockRendering.InRowSpacer(this.constants_,w))}o.elements.push(u[u.length-1]),o.endsWithElemSpacer()&&(w=this.getInRowSpacing_(u[u.length-1],null),e&&o.hasDummyInput&&(w+=this.constants_.TAB_WIDTH),o.elements.push(new t.blockRendering.InRowSpacer(this.constants_,w)))}},t.thrasos.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&!n)return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&t.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))return n.notchOffset}return t.blockRendering.Types.isLeftRoundedCorner(e)&&n?n.notchOffset-this.constants_.CORNER_RADIUS:t.blockRendering.Types.isField(e)&&n&&t.blockRendering.Types.isField(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||e.hasDummyInput||n.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2;var o=e.yPos;return t.blockRendering.Types.isField(n)&&e.hasStatement?o+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+n.height/2):o+e.height/2},t.thrasos.RenderInfo.prototype.finalize_=function(){for(var u,e=0,n=0,o=0;u=this.rows[o];o++){u.yPos=n,u.xPos=this.startX,n+=u.height,e=Math.max(e,u.widthWithConnectedBlocks);var b=n-this.topRow.ascenderHeight;u==this.bottomRow&&b<this.constants_.MIN_BLOCK_HEIGHT&&(this.bottomRow.height+=b=this.constants_.MIN_BLOCK_HEIGHT-b,n+=b),this.recordElemPositions_(u)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline},t.thrasos.Renderer=function(e){t.thrasos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.thrasos.Renderer,t.blockRendering.Renderer),t.thrasos.Renderer.prototype.makeRenderInfo_=function(e){return new t.thrasos.RenderInfo(this,e)},t.blockRendering.register("thrasos",t.thrasos.Renderer),t.zelos={},t.zelos.ConstantProvider=function(){t.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},t.utils.object.inherits(t.zelos.ConstantProvider,t.blockRendering.ConstantProvider),t.zelos.ConstantProvider.prototype.setFontConstants_=function(e){t.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},t.zelos.ConstantProvider.prototype.init=function(){t.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},t.zelos.ConstantProvider.prototype.setDynamicProperties_=function(e){t.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var n=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=n&&!isNaN(n)?n:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE},t.zelos.ConstantProvider.prototype.dispose=function(){t.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&t.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&t.utils.dom.removeNode(this.replacementGlowFilter_)},t.zelos.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(25,-e),t.utils.svgPaths.point(71,-e),t.utils.svgPaths.point(n,0)])}},t.zelos.ConstantProvider.prototype.makeHexagonal=function(){function e(o,u,b){var w=o/2;return t.utils.svgPaths.lineTo(-(b=b?-1:1)*(w=w>n?n:w),o=(u?-1:1)*o/2)+t.utils.svgPaths.lineTo(b*w,o)}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(o){return(o/=2)>n?n:o},height:function(o){return o},connectionOffsetY:function(o){return o/2},connectionOffsetX:function(o){return-o},pathDown:function(o){return e(o,!1,!1)},pathUp:function(o){return e(o,!0,!1)},pathRightDown:function(o){return e(o,!1,!0)},pathRightUp:function(o){return e(o,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeRounded=function(){function e(u,b,w){var R=u>o?u-o:0;return t.utils.svgPaths.arc("a","0 0,1",u=(u>o?o:u)/2,t.utils.svgPaths.point((b?-1:1)*u,(b?-1:1)*u))+t.utils.svgPaths.lineOnAxis("v",(w?1:-1)*R)+t.utils.svgPaths.arc("a","0 0,1",u,t.utils.svgPaths.point((b?1:-1)*u,(b?-1:1)*u))}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o=2*n;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(u){return(u/=2)>n?n:u},height:function(u){return u},connectionOffsetY:function(u){return u/2},connectionOffsetX:function(u){return-u},pathDown:function(u){return e(u,!1,!1)},pathUp:function(u){return e(u,!0,!1)},pathRightDown:function(u){return e(u,!1,!0)},pathRightUp:function(u){return e(u,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeSquared=function(){function e(o,u,b){return o-=2*n,t.utils.svgPaths.arc("a","0 0,1",n,t.utils.svgPaths.point((u?-1:1)*n,(u?-1:1)*n))+t.utils.svgPaths.lineOnAxis("v",(b?1:-1)*o)+t.utils.svgPaths.arc("a","0 0,1",n,t.utils.svgPaths.point((u?1:-1)*n,(u?-1:1)*n))}var n=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(o){return n},height:function(o){return o},connectionOffsetY:function(o){return o/2},connectionOffsetX:function(o){return-o},pathDown:function(o){return e(o,!1,!1)},pathUp:function(o){return e(o,!0,!1)},pathRightDown:function(o){return e(o,!1,!0)},pathRightUp:function(o){return e(o,!1,!0)}}},t.zelos.ConstantProvider.prototype.shapeFor=function(e){var n=e.getCheck();switch(!n&&e.targetConnection&&(n=e.targetConnection.getCheck()),e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:if(null!=(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return n&&-1!=n.indexOf("Boolean")?this.HEXAGONAL:(n&&-1!=n.indexOf("Number")||n&&n.indexOf("String"),this.ROUNDED);case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},t.zelos.ConstantProvider.prototype.makeNotch=function(){function e(Z){return t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(Z*b/2,0),t.utils.svgPaths.point(Z*b*3/4,R/2),t.utils.svgPaths.point(Z*b,R)])+t.utils.svgPaths.line([t.utils.svgPaths.point(Z*b,w)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(Z*b/4,R/2),t.utils.svgPaths.point(Z*b/2,R),t.utils.svgPaths.point(Z*b,R)])+t.utils.svgPaths.lineOnAxis("h",Z*u)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(Z*b/2,0),t.utils.svgPaths.point(Z*b*3/4,-R/2),t.utils.svgPaths.point(Z*b,-R)])+t.utils.svgPaths.line([t.utils.svgPaths.point(Z*b,-w)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(Z*b/4,-R/2),t.utils.svgPaths.point(Z*b/2,-R),t.utils.svgPaths.point(Z*b,-R)])}var n=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,u=n/3,b=u/3,w=o/2,R=w/2,N=e(1),W=e(-1);return{type:this.SHAPES.NOTCH,width:n,height:o,pathLeft:N,pathRight:W}},t.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS,n=t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),o=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e));return{width:e,height:e,pathTop:n,pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e)),rightWidth:e,rightHeight:e,pathTopRight:o,pathBottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e))}},t.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#000",e,.15)||e},t.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#000",e,.25)||e},t.zelos.ConstantProvider.prototype.createDom=function(e,n,o){t.zelos.ConstantProvider.superClass_.createDom.call(this,e,n,o),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},n),o=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},n),this.selectedGlowFilterId=n.id,this.selectedGlowFilter_=n,e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e},t.zelos.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",e+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.zelos.TopRow=function(e){t.zelos.TopRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.TopRow,t.blockRendering.TopRow),t.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.TopRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection},t.zelos.TopRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},t.zelos.BottomRow=function(e){t.zelos.BottomRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.BottomRow,t.blockRendering.BottomRow),t.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection},t.zelos.BottomRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},t.zelos.RightConnectionShape=function(e){t.zelos.RightConnectionShape.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},t.utils.object.inherits(t.zelos.RightConnectionShape,t.blockRendering.Measurable),t.zelos.RenderInfo=function(e,n){t.zelos.RenderInfo.superClass_.constructor.call(this,e,n),this.topRow=new t.zelos.TopRow(this.constants_),this.bottomRow=new t.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!n.getInputsInline()||n.isCollapsed(),this.hasStatementInput=0<n.statementInputCount,this.rightSide=this.outputConnection?new t.zelos.RightConnectionShape(this.constants_):null},t.utils.object.inherits(t.zelos.RenderInfo,t.blockRendering.RenderInfo),t.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.zelos.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!!n&&(e.type==t.inputTypes.STATEMENT||n.type==t.inputTypes.STATEMENT||(e.type==t.inputTypes.VALUE||e.type==t.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},t.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):t.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.zelos.RenderInfo.prototype.getInRowSpacing_=function(e,n){return e&&n||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&t.blockRendering.Types.isHat(n)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){if(t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var o=t.blockRendering.Types.isInputRow(e)&&e.hasStatement,u=t.blockRendering.Types.isInputRow(n)&&n.hasStatement;return u||o?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),u&&o?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):t.blockRendering.Types.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):t.blockRendering.Types.isBottomRow(n)?this.outputConnection?!n.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(e,n){var o=this.width-this.startX;return t.blockRendering.Types.isInputRow(e)&&e.hasStatement||t.blockRendering.Types.isInputRow(n)&&n.hasStatement?Math.max(o,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):o},t.zelos.RenderInfo.prototype.getElemCenterline_=function(e,n){if(e.hasStatement&&!t.blockRendering.Types.isSpacer(n)&&!t.blockRendering.Types.isStatementInput(n))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(t.blockRendering.Types.isInlineInput(n)){var o=n.connectedBlock;if(o&&o.outputConnection&&o.nextConnection)return e.yPos+o.height/2}return t.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,e,n)},t.zelos.RenderInfo.prototype.addInput_=function(e,n){e.type==t.inputTypes.DUMMY&&n.hasDummyInput&&n.align==t.constants.ALIGN.LEFT&&e.align==t.constants.ALIGN.RIGHT&&(n.rightAlignedDummyInput=e),t.zelos.RenderInfo.superClass_.addInput_.call(this,e,n)},t.zelos.RenderInfo.prototype.addAlignmentPadding_=function(e,n){if(e.rightAlignedDummyInput){for(var o,b,u=0;(b=e.elements[u])&&(t.blockRendering.Types.isSpacer(b)&&(o=b),!t.blockRendering.Types.isField(b)||b.parentInput!=e.rightAlignedDummyInput);u++);if(o)return o.width+=n,void(e.width+=n)}t.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,e,n)},t.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,n=e,o=2;o<this.rows.length-1;o+=2){var u=this.rows[o-1],b=this.rows[o],w=this.rows[o+1];if(u=2==o?!!this.topRow.hasPreviousConnection:!!u.followsStatement,w=o+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!w.precedesStatement,t.blockRendering.Types.isInputRow(b)&&b.hasStatement)b.measure(),n=b.width-b.getLastInput().width+e;else if(u&&(2==o||w)&&t.blockRendering.Types.isInputRow(b)&&!b.hasStatement){w=b.xPos,u=null;for(var N,R=0;N=b.elements[R];R++)t.blockRendering.Types.isSpacer(N)&&(u=N),!(u&&(t.blockRendering.Types.isField(N)||t.blockRendering.Types.isInput(N))&&w<n)||t.blockRendering.Types.isField(N)&&(N.field instanceof t.FieldLabel||N.field instanceof t.FieldImage)||(u.width+=n-w),w+=N.width}}},t.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var o,e=0,n=0;o=this.rows[n];n++)o.yPos=e,e+=o.height;this.height=e,e=this.outputConnection.shape.height(n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height),n=this.outputConnection.shape.width(n),this.outputConnection.height=e,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(e),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(n),o=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(o=n,this.rightSide.height=e,this.rightSide.width=o,this.rightSide.centerline=e/2,this.rightSide.xPos=this.width+o),this.startX=n,this.width+=n+o,this.widthWithChildren+=n+o}},t.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var o,e=0,n=0;o=this.rows[n];n++)if(t.blockRendering.Types.isInputRow(o)){e=o.elements[o.elements.length-2];var u=this.getNegativeSpacing_(o.elements[1]),b=this.getNegativeSpacing_(e),w=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-(e=u+b)<w&&(u=(e=this.width-w)/2,b=e/2),o.elements.unshift(new t.blockRendering.InRowSpacer(this.constants_,-u)),o.elements.push(new t.blockRendering.InRowSpacer(this.constants_,-b))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,n=0;o=this.rows[n];n++)t.blockRendering.Types.isTopOrBottomRow(o)&&(o.elements[1].width-=e,o.elements[1].widthWithConnectedBlocks-=e),o.width-=e,o.widthWithConnectedBlocks-=e}},t.zelos.RenderInfo.prototype.getNegativeSpacing_=function(e){if(!e)return 0;var n=this.outputConnection.width,o=this.outputConnection.shape.type,u=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)return o===u.SHAPES.ROUND?n-(o=this.height/2>(o=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH)?o:this.height/2)*(1-Math.sin(Math.acos((o-this.constants_.SMALL_PADDING)/o))):0;if(t.blockRendering.Types.isInlineInput(e)){var b=e.connectedBlock;return e=b?b.pathObject.outputShapeType:e.shape.type,b&&b.outputConnection&&(b.statementInputCount||b.nextConnection)||o==u.SHAPES.HEXAGONAL&&o!=e?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[o][e]}return t.blockRendering.Types.isField(e)?o==u.SHAPES.ROUND&&e.field instanceof t.FieldTextInput?n-2.75*u.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[o][0]:t.blockRendering.Types.isIcon(e)?this.constants_.SMALL_PADDING:0},t.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var e=2;e<this.rows.length-1;e+=2){var n=this.rows[e-1],o=this.rows[e],u=this.rows[e+1],b=2==e,w=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!u.precedesStatement;if(b?this.topRow.hasPreviousConnection:n.followsStatement){var R=3==o.elements.length&&(o.elements[1].field instanceof t.FieldLabel||o.elements[1].field instanceof t.FieldImage);if(!b&&R)n.height-=this.constants_.SMALL_PADDING,u.height-=this.constants_.SMALL_PADDING,o.height-=this.constants_.MEDIUM_PADDING;else if(b||w){if(w){for(b=!1,w=0;R=o.elements[w];w++)if(t.blockRendering.Types.isInlineInput(R)&&R.connectedBlock&&!R.connectedBlock.isShadow()&&40<=R.connectedBlock.getHeightWidth().height){b=!0;break}b&&(n.height-=this.constants_.SMALL_PADDING,u.height-=this.constants_.SMALL_PADDING)}}else n.height+=this.constants_.SMALL_PADDING}}},t.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),t.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},t.zelos.Drawer=function(e,n){t.zelos.Drawer.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.zelos.Drawer,t.blockRendering.Drawer),t.zelos.Drawer.prototype.draw=function(){var e=this.block_.pathObject;e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()},t.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):t.zelos.Drawer.superClass_.drawOutline_.call(this)},t.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():t.zelos.Drawer.superClass_.drawLeft_.call(this)},t.zelos.Drawer.prototype.drawRightSideRow_=function(e){if(!(0>=e.height))if(e.precedesStatement||e.followsStatement){var n=this.constants_.INSIDE_CORNERS.rightHeight;this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<(n=e.height-(e.precedesStatement?n:0))?t.utils.svgPaths.lineOnAxis("V",e.yPos+n):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},t.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},t.zelos.Drawer.prototype.drawFlatTop_=function(){var e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",e.width)},t.zelos.Drawer.prototype.drawFlatBottom_=function(){var e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",-e.width)},t.zelos.Drawer.prototype.drawInlineInput_=function(e){this.positionInlineInputConnection_(e);var n=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var o=e.width-2*e.connectionWidth;e=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+t.utils.svgPaths.lineOnAxis("h",o)+e.shape.pathRightDown(e.height)+t.utils.svgPaths.lineOnAxis("h",-o)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(n,e)}},t.zelos.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),o=n.xPos+n.notchOffset+n.shape.width,u=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,b=e.height-2*this.constants_.INSIDE_CORNERS.height;n=this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("h",n.notchOffset-this.constants_.INSIDE_CORNERS.width)+(n.connectedBottomNextConnection?"":n.shape.pathLeft),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",o)+u+t.utils.svgPaths.lineOnAxis("v",b)+n+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.zelos.MarkerSvg=function(e,n,o){t.zelos.MarkerSvg.superClass_.constructor.call(this,e,n,o)},t.utils.object.inherits(t.zelos.MarkerSvg,t.blockRendering.MarkerSvg),t.zelos.MarkerSvg.prototype.showWithInputOutput_=function(e){var n=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(n),this.showCurrent_()},t.zelos.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithInputOutput_(e)},t.zelos.MarkerSvg.prototype.showWithInput_=function(e){this.showWithInputOutput_(e)},t.zelos.MarkerSvg.prototype.showWithBlock_=function(e){var n=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,n.width,n.height),this.setParent_(e),this.showCurrent_()},t.zelos.MarkerSvg.prototype.positionCircle_=function(e,n){this.markerCircle_.setAttribute("cx",e),this.markerCircle_.setAttribute("cy",n),this.currentMarkerSvg=this.markerCircle_},t.zelos.MarkerSvg.prototype.hide=function(){t.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},t.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(t.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerCircle_)}return this.markerSvg_},t.zelos.MarkerSvg.prototype.applyColour_=function(e){t.zelos.MarkerSvg.superClass_.applyColour_.call(this,e),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},t.zelos.PathObject=function(e,n,o){t.zelos.PathObject.superClass_.constructor.call(this,e,n,o),this.constants=o,this.svgPathSelected_=null,this.outlines_=Object.create(null),this.outputShapeType=this.remainingOutlines_=null},t.utils.object.inherits(t.zelos.PathObject,t.blockRendering.PathObject),t.zelos.PathObject.prototype.setPath=function(e){t.zelos.PathObject.superClass_.setPath.call(this,e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)},t.zelos.PathObject.prototype.applyColour=function(e){for(var n in t.zelos.PathObject.superClass_.applyColour.call(this,e),e.isShadow()&&e.getParent()&&this.svgPath.setAttribute("stroke",e.getParent().style.colourTertiary),this.outlines_)this.outlines_[n].setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.flipRTL=function(){for(var e in t.zelos.PathObject.superClass_.flipRTL.call(this),this.outlines_)this.outlines_[e].setAttribute("transform","scale(-1 1)")},t.zelos.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},t.zelos.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},t.zelos.PathObject.prototype.updateShapeForInputHighlight=function(e,n){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(n?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))},t.zelos.PathObject.prototype.beginDrawing=function(){for(var e in this.remainingOutlines_=Object.create(null),this.outlines_)this.remainingOutlines_[e]=1},t.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var e in this.remainingOutlines_)this.removeOutlinePath_(e);this.remainingOutlines_=null},t.zelos.PathObject.prototype.setOutlinePath=function(e,n){(e=this.getOutlinePath_(e)).setAttribute("d",n),e.setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.getOutlinePath_=function(e){return this.outlines_[e]||(this.outlines_[e]=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[e],this.outlines_[e]},t.zelos.PathObject.prototype.removeOutlinePath_=function(e){this.outlines_[e].parentNode.removeChild(this.outlines_[e]),delete this.outlines_[e]},t.zelos.Renderer=function(e){t.zelos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.Renderer,t.blockRendering.Renderer),t.zelos.Renderer.prototype.makeConstants_=function(){return new t.zelos.ConstantProvider},t.zelos.Renderer.prototype.makeRenderInfo_=function(e){return new t.zelos.RenderInfo(this,e)},t.zelos.Renderer.prototype.makeDrawer_=function(e,n){return new t.zelos.Drawer(e,n)},t.zelos.Renderer.prototype.makeMarkerDrawer=function(e,n){return new t.zelos.MarkerSvg(e,this.getConstants(),n)},t.zelos.Renderer.prototype.makePathObject=function(e,n){return new t.zelos.PathObject(e,n,this.getConstants())},t.zelos.Renderer.prototype.shouldHighlightConnection=function(e){return e.type!=t.connectionTypes.INPUT_VALUE&&e.type!==t.connectionTypes.OUTPUT_VALUE},t.zelos.Renderer.prototype.getConnectionPreviewMethod=function(e,n,o){return n.type==t.connectionTypes.OUTPUT_VALUE?e.isConnected()?t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:t.zelos.Renderer.superClass_.getConnectionPreviewMethod(e,n,o)},t.blockRendering.register("zelos",t.zelos.Renderer),t.Themes.Dark=t.Theme.defineTheme("dark",{base:t.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),t.Themes.Deuteranopia={},t.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},t.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},t.Themes.Deuteranopia=new t.Theme("deuteranopia",t.Themes.Deuteranopia.defaultBlockStyles,t.Themes.Deuteranopia.categoryStyles),t.Themes.HighContrast={},t.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},t.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},t.Themes.HighContrast=new t.Theme("highcontrast",t.Themes.HighContrast.defaultBlockStyles,t.Themes.HighContrast.categoryStyles),t.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),t.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),t.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),t.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),t.Themes.Tritanopia={},t.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},t.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},t.Themes.Tritanopia=new t.Theme("tritanopia",t.Themes.Tritanopia.defaultBlockStyles,t.Themes.Tritanopia.categoryStyles),t.requires={},t}.apply(H,[]))&&(P.exports=p)},96116:function(P,H,h){var p,t;p=[h(83801)],void 0!==(t=function(e){"use strict";return e.Blocks={},e.Blocks}.apply(H,p))&&(P.exports=t)},83801:function(P,H,h){var p,t;p=[h(33164)],void 0!==(t=function(e){"use strict";return e.Blocks.colour={},e.Constants={},e.Constants.Colour={},e.Constants.Colour.HUE=20,e.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),e.Constants.Lists={},e.Constants.Lists.HUE=260,e.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),e.Blocks.lists_create_with={init:function(){this.setHelpUrl(e.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.Mutator(["lists_create_with_item"])),this.setTooltip(e.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("items",this.itemCount_),n},domToMutation:function(n){this.itemCount_=parseInt(n.getAttribute("items"),10),this.updateShape_()},decompose:function(n){var o=n.newBlock("lists_create_with_container");o.initSvg();for(var u=o.getInput("STACK").connection,b=0;b<this.itemCount_;b++){var w=n.newBlock("lists_create_with_item");w.initSvg(),u.connect(w.previousConnection),u=w.nextConnection}return o},compose:function(n){var o=n.getInputTargetBlock("STACK");for(n=[];o&&!o.isInsertionMarker();)n.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var u=this.getInput("ADD"+o).connection.targetConnection;u&&-1==n.indexOf(u)&&u.disconnect()}for(this.itemCount_=n.length,this.updateShape_(),o=0;o<this.itemCount_;o++)e.Mutator.reconnect(n[o],this,"ADD"+o)},saveConnections:function(n){n=n.getInputTargetBlock("STACK");for(var o=0;n;){var u=this.getInput("ADD"+o);n.valueConnection_=u&&u.connection.targetConnection,o++,n=n.nextConnection&&n.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg.LISTS_CREATE_EMPTY_TITLE);for(var n=0;n<this.itemCount_;n++)if(!this.getInput("ADD"+n)){var o=this.appendValueInput("ADD"+n).setAlign(e.ALIGN_RIGHT);0==n&&o.appendField(e.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+n);)this.removeInput("ADD"+n),n++}},e.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_indexOf={init:function(){var n=[[e.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(e.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new e.FieldDropdown(n),"END"),this.setInputsInline(!0);var o=this;this.setTooltip(function(){return e.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"0":"-1")})}},e.Blocks.lists_getIndex={init:function(){var n=[[e.Msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),n=new e.FieldDropdown(n,function(u){u="REMOVE"==u,this.getSourceBlock().updateStatement_(u)}),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(n,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var o=this;this.setTooltip(function(){var u=o.getFieldValue("MODE"),b=o.getFieldValue("WHERE"),w="";switch(u+" "+b){case"GET FROM_START":case"GET FROM_END":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":w=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return("FROM_START"==b||"FROM_END"==b)&&(w+="  "+("FROM_START"==b?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),w})},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");n.setAttribute("statement",!this.outputConnection);var o=this.getInput("AT").type==e.INPUT_VALUE;return n.setAttribute("at",o),n},domToMutation:function(n){var o="true"==n.getAttribute("statement");this.updateStatement_(o),n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateStatement_:function(n){n!=!this.outputConnection&&(this.unplug(!0,!0),n?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var o=new e.FieldDropdown(this.WHERE_OPTIONS,function(u){var b="FROM_START"==u||"FROM_END"==u;if(b!=n){var w=this.getSourceBlock();return w.updateAt_(b),w.setFieldValue(u,"WHERE"),null}});this.getInput("AT").appendField(o,"WHERE"),e.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_setIndex={init:function(){var n=[[e.Msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new e.FieldDropdown(n),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var o=this;this.setTooltip(function(){var u=o.getFieldValue("MODE"),b=o.getFieldValue("WHERE"),w="";switch(u+" "+b){case"SET FROM_START":case"SET FROM_END":w=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":w=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":w=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":w=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":w=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":w=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":w=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":w=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return("FROM_START"==b||"FROM_END"==b)&&(w+="  "+e.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),w})},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),o=this.getInput("AT").type==e.INPUT_VALUE;return n.setAttribute("at",o),n},domToMutation:function(n){n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var o=new e.FieldDropdown(this.WHERE_OPTIONS,function(u){var b="FROM_START"==u||"FROM_END"==u;if(b!=n){var w=this.getSourceBlock();return w.updateAt_(b),w.setFieldValue(u,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(o,"WHERE")}},e.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==e.INPUT_VALUE;return n.setAttribute("at1",o),o=this.getInput("AT2").type==e.INPUT_VALUE,n.setAttribute("at2",o),n},domToMutation:function(n){var o="true"==n.getAttribute("at1");n="true"==n.getAttribute("at2"),this.updateAt_(1,o),this.updateAt_(2,n)},updateAt_:function(n,o){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),o?(this.appendValueInput("AT"+n).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n);var u=new e.FieldDropdown(this["WHERE_OPTIONS_"+n],function(b){var w="FROM_START"==b||"FROM_END"==b;if(w!=o){var R=this.getSourceBlock();return R.updateAt_(n,w),R.setFieldValue(b,"WHERE"+n),null}});this.getInput("AT"+n).appendField(u,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_sort={init:function(){this.jsonInit({message0:e.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[e.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[e.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[e.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[e.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[e.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:e.Msg.LISTS_SORT_TOOLTIP,helpUrl:e.Msg.LISTS_SORT_HELPURL})}},e.Blocks.lists_split={init:function(){var n=this,o=new e.FieldDropdown([[e.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(u){n.updateType_(u)});this.setHelpUrl(e.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(o,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var u=n.getFieldValue("MODE");if("SPLIT"==u)return e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==u)return e.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+u)})},updateType_:function(n){if(this.getFieldValue("MODE")!=n){var o=this.getInput("INPUT").connection;o.setShadowDom(null);var u=o.targetBlock();u&&(o.disconnect(),u.isShadow()?u.dispose():this.bumpNeighbours())}"SPLIT"==n?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("mode",this.getFieldValue("MODE")),n},domToMutation:function(n){this.updateType_(n.getAttribute("mode"))}},e.Blocks.logic={},e.Constants.Logic={},e.Constants.Logic.HUE=210,e.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),e.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),e.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},e.Extensions.register("logic_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Logic.TOOLTIPS_BY_OP)),e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var n=e.utils.xml.createElement("mutation");return this.elseifCount_&&n.setAttribute("elseif",this.elseifCount_),this.elseCount_&&n.setAttribute("else",1),n},domToMutation:function(n){this.elseifCount_=parseInt(n.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(n.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(n){var o=n.newBlock("controls_if_if");o.initSvg();for(var u=o.nextConnection,b=1;b<=this.elseifCount_;b++){var w=n.newBlock("controls_if_elseif");w.initSvg(),u.connect(w.previousConnection),u=w.nextConnection}return this.elseCount_&&((n=n.newBlock("controls_if_else")).initSvg(),u.connect(n.previousConnection)),o},compose:function(n){n=n.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var o=[null],u=[null],b=null;n&&!n.isInsertionMarker();){switch(n.type){case"controls_if_elseif":this.elseifCount_++,o.push(n.valueConnection_),u.push(n.statementConnection_);break;case"controls_if_else":this.elseCount_++,b=n.statementConnection_;break;default:throw TypeError("Unknown block type: "+n.type)}n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(o,u,b)},saveConnections:function(n){n=n.nextConnection.targetBlock();for(var o=1;n;){switch(n.type){case"controls_if_elseif":var u=this.getInput("IF"+o),b=this.getInput("DO"+o);n.valueConnection_=u&&u.connection.targetConnection,n.statementConnection_=b&&b.connection.targetConnection,o++;break;case"controls_if_else":b=this.getInput("ELSE"),n.statementConnection_=b&&b.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+n.type)}n=n.nextConnection&&n.nextConnection.targetBlock()}},rebuildShape_:function(){var n=[null],o=[null],u=null;this.getInput("ELSE")&&(u=this.getInput("ELSE").connection.targetConnection);for(var b=1;this.getInput("IF"+b);){var w=this.getInput("IF"+b),R=this.getInput("DO"+b);n.push(w.connection.targetConnection),o.push(R.connection.targetConnection),b++}this.updateShape_(),this.reconnectChildBlocks_(n,o,u)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var n=1;this.getInput("IF"+n);)this.removeInput("IF"+n),this.removeInput("DO"+n),n++;for(n=1;n<=this.elseifCount_;n++)this.appendValueInput("IF"+n).setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+n).appendField(e.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(n,o,u){for(var b=1;b<=this.elseifCount_;b++)e.Mutator.reconnect(n[b],this,"IF"+b),e.Mutator.reconnect(o[b],this,"DO"+b);e.Mutator.reconnect(u,this,"ELSE")}},e.Extensions.registerMutator("controls_if_mutator",e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_4:"":e.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},e.Extensions.register("controls_if_tooltip",e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(n){this.prevBlocks_||(this.prevBlocks_=[null,null]);var o=this.getInputTargetBlock("A"),u=this.getInputTargetBlock("B");o&&u&&!this.workspace.connectionChecker.doTypeChecks(o.outputConnection,u.outputConnection)&&(e.Events.setGroup(n.group),(n=this.prevBlocks_[0])!==o&&(o.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("A").connection.connect(n.outputConnection)),(o=this.prevBlocks_[1])!==u&&(u.unplug(),!o||o.isDisposed()||o.isShadow()||this.getInput("B").connection.connect(o.outputConnection)),this.bumpNeighbours(),e.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},e.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},e.Extensions.register("logic_compare",e.Constants.Logic.LOGIC_COMPARE_EXTENSION),e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(n){var o=this.getInputTargetBlock("THEN"),u=this.getInputTargetBlock("ELSE"),b=this.outputConnection.targetConnection;if((o||u)&&b)for(var w=0;2>w;w++){var R=1==w?o:u;R&&!R.workspace.connectionChecker.doTypeChecks(R.outputConnection,b)&&(e.Events.setGroup(n.group),b===this.prevParentConnection_?(this.unplug(),b.getSourceBlock().bumpNeighbours()):(R.unplug(),R.bumpNeighbours()),e.Events.setGroup(!1))}this.prevParentConnection_=b}},e.Extensions.registerMixin("logic_ternary",e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),e.Blocks.loops={},e.Constants.Loops={},e.Constants.Loops.HUE=120,e.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),e.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},e.Extensions.register("controls_whileUntil_tooltip",e.Extensions.buildTooltipForDropdown("MODE",e.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},e.Extensions.register("controls_flow_tooltip",e.Extensions.buildTooltipForDropdown("FLOW",e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(n){if(!this.isInFlyout){var o=this.getField("VAR").getVariable(),u=o.name;if(!this.isCollapsed()&&null!=u){var b={enabled:!0};b.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",u),o=e.Variables.generateVariableFieldDom(o),(u=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),u.appendChild(o),b.callback=e.ContextMenu.callbackFactory(this,u),n.push(b)}}}},e.Extensions.registerMixin("contextMenu_newGetVariableBlock",e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),e.Extensions.register("controls_for_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.Extensions.register("controls_forEach_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(n){do{if(-1!=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(n.type))return n;n=n.getSurroundParent()}while(n);return null},onchange:function(n){if(this.workspace.isDragging&&!this.workspace.isDragging()&&n.type==e.Events.BLOCK_MOVE){var o=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);if(this.setWarningText(o?null:e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var u=e.Events.getGroup();e.Events.setGroup(n.group),this.setEnabled(o),e.Events.setGroup(u)}}}},e.Extensions.registerMixin("controls_flow_in_loop_check",e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),e.Blocks.math={},e.Constants.Math={},e.Constants.Math.HUE=230,e.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),e.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},e.Extensions.register("math_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Math.TOOLTIPS_BY_OP)),e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),o="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return n.setAttribute("divisor_input",o),n},domToMutation:function(n){n="true"==n.getAttribute("divisor_input"),this.updateShape_(n)},updateShape_:function(n){var o=this.getInput("DIVISOR");n?o||this.appendValueInput("DIVISOR").setCheck("Number"):o&&this.removeInput("DIVISOR")}},e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator(function(n){n="DIVISIBLE_BY"==n,this.getSourceBlock().updateShape_(n)})},e.Extensions.registerMutator("math_is_divisibleby_mutator",e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),e.Extensions.register("math_change_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),e.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(n){this.outputConnection.setCheck("MODE"==n?"Array":"Number")},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("op",this.getFieldValue("OP")),n},domToMutation:function(n){this.updateType_(n.getAttribute("op"))}},e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(n){this.updateType_(n)}.bind(this))},e.Extensions.registerMutator("math_modes_of_list_mutator",e.Constants.Math.LIST_MODES_MUTATOR_MIXIN,e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),e.Blocks.procedures={},e.Blocks.procedures_defnoreturn={init:function(){var n=e.Procedures.findLegalName("",this);(n=new e.FieldTextInput(n,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(n,"NAME").appendField("","PARAMS"),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(n){this.hasStatements_!==n&&(n?(this.appendStatementInput("STACK").appendField(e.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=n)},updateParams_:function(){var n="";this.arguments_.length&&(n=e.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.Events.disable();try{this.setFieldValue(n,"PARAMS")}finally{e.Events.enable()}},mutationToDom:function(n){var o=e.utils.xml.createElement("mutation");n&&o.setAttribute("name",this.getFieldValue("NAME"));for(var u=0;u<this.argumentVarModels_.length;u++){var b=e.utils.xml.createElement("arg"),w=this.argumentVarModels_[u];b.setAttribute("name",w.name),b.setAttribute("varid",w.getId()),n&&this.paramIds_&&b.setAttribute("paramId",this.paramIds_[u]),o.appendChild(b)}return this.hasStatements_||o.setAttribute("statements","false"),o},domToMutation:function(n){this.arguments_=[],this.argumentVarModels_=[];for(var u,o=0;u=n.childNodes[o];o++)if("arg"==u.nodeName.toLowerCase()){var b=u.getAttribute("name");u=u.getAttribute("varid")||u.getAttribute("varId"),this.arguments_.push(b),null!=(u=e.Variables.getOrCreateVariablePackage(this.workspace,u,b,""))?this.argumentVarModels_.push(u):console.log("Failed to create a variable with name "+b+", ignoring.")}this.updateParams_(),e.Procedures.mutateCallers(this),this.setStatements_("false"!==n.getAttribute("statements"))},decompose:function(n){var o=e.utils.xml.createElement("block");o.setAttribute("type","procedures_mutatorcontainer");var u=e.utils.xml.createElement("statement");u.setAttribute("name","STACK"),o.appendChild(u);for(var b=0;b<this.arguments_.length;b++){var w=e.utils.xml.createElement("block");w.setAttribute("type","procedures_mutatorarg");var R=e.utils.xml.createElement("field");R.setAttribute("name","NAME");var N=e.utils.xml.createTextNode(this.arguments_[b]);R.appendChild(N),w.appendChild(R),R=e.utils.xml.createElement("next"),w.appendChild(R),u.appendChild(w),u=R}return n=e.Xml.domToBlock(o,n),"procedures_defreturn"==this.type?n.setFieldValue(this.hasStatements_,"STATEMENTS"):n.removeInput("STATEMENT_INPUT"),e.Procedures.mutateCallers(this),n},compose:function(n){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var o=n.getInputTargetBlock("STACK");o&&!o.isInsertionMarker();){var u=o.getFieldValue("NAME");this.arguments_.push(u),u=this.workspace.getVariable(u,""),this.argumentVarModels_.push(u),this.paramIds_.push(o.id),o=o.nextConnection&&o.nextConnection.targetBlock()}this.updateParams_(),e.Procedures.mutateCallers(this),null!==(n=n.getFieldValue("STATEMENTS"))&&this.hasStatements_!=(n="TRUE"==n)&&(n?(this.setStatements_(!0),e.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(n=this.getInput("STACK").connection,(this.statementConnection_=n.targetConnection)&&((n=n.targetBlock()).unplug(),n.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(n,o){var u=this.workspace.getVariableById(n);if(""==u.type){u=u.name,o=this.workspace.getVariableById(o);for(var b=!1,w=0;w<this.argumentVarModels_.length;w++)this.argumentVarModels_[w].getId()==n&&(this.arguments_[w]=o.name,this.argumentVarModels_[w]=o,b=!0);b&&(this.displayRenamedVar_(u,o.name),e.Procedures.mutateCallers(this))}},updateVarName:function(n){for(var o=n.name,u=!1,b=0;b<this.argumentVarModels_.length;b++)if(this.argumentVarModels_[b].getId()==n.getId()){var w=this.arguments_[b];this.arguments_[b]=o,u=!0}u&&(this.displayRenamedVar_(w,o),e.Procedures.mutateCallers(this))},displayRenamedVar_:function(n,o){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var w,u=this.mutator.workspace_.getAllBlocks(!1),b=0;w=u[b];b++)"procedures_mutatorarg"==w.type&&e.Names.equals(n,w.getFieldValue("NAME"))&&w.setFieldValue(o,"NAME")},customContextMenu:function(n){if(!this.isInFlyout){var o={enabled:!0},u=this.getFieldValue("NAME");o.text=e.Msg.PROCEDURES_CREATE_DO.replace("%1",u);var b=e.utils.xml.createElement("mutation");for(b.setAttribute("name",u),u=0;u<this.arguments_.length;u++){var w=e.utils.xml.createElement("arg");w.setAttribute("name",this.arguments_[u]),b.appendChild(w)}if((u=e.utils.xml.createElement("block")).setAttribute("type",this.callType_),u.appendChild(b),o.callback=e.ContextMenu.callbackFactory(this,u),n.push(o),!this.isCollapsed())for(u=0;u<this.argumentVarModels_.length;u++)(o={enabled:!0}).text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",(b=this.argumentVarModels_[u]).name),b=e.Variables.generateVariableFieldDom(b),(w=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),w.appendChild(b),o.callback=e.ContextMenu.callbackFactory(this,w),n.push(o)}},callType_:"procedures_callnoreturn"},e.Blocks.procedures_defreturn={init:function(){var n=e.Procedures.findLegalName("",this);(n=new e.FieldTextInput(n,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(n,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.ALIGN_RIGHT).appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:e.Blocks.procedures_defnoreturn.setStatements_,updateParams_:e.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:e.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_defnoreturn.domToMutation,decompose:e.Blocks.procedures_defnoreturn.decompose,compose:e.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:e.Blocks.procedures_defnoreturn.getVars,getVarModels:e.Blocks.procedures_defnoreturn.getVarModels,renameVarById:e.Blocks.procedures_defnoreturn.renameVarById,updateVarName:e.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:e.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:e.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},e.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new e.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.procedures_mutatorarg={init:function(){var n=new e.FieldTextInput(e.Procedures.DEFAULT_ARG,this.validator_);n.oldShowEditorFn_=n.showEditor_,n.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(n,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,n.onFinishEditing_=this.deleteIntermediateVars_,n.createdVariables_=[],n.onFinishEditing_("x")},validator_:function(n){var o=this.getSourceBlock(),u=e.Mutator.findParentWs(o.workspace);if(!(n=n.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var b=(o.workspace.targetWorkspace||o.workspace).getAllBlocks(!1),w=n.toLowerCase(),R=0;R<b.length;R++)if(b[R].id!=this.getSourceBlock().id){var N=b[R].getFieldValue("NAME");if(N&&N.toLowerCase()==w)return null}return o.isInFlyout||((o=u.getVariable(n,""))&&o.name!=n&&u.renameVariableById(o.getId(),n),o||(o=u.createVariable(n,""))&&this.createdVariables_&&this.createdVariables_.push(o)),n},deleteIntermediateVars_:function(n){var o=e.Mutator.findParentWs(this.getSourceBlock().workspace);if(o)for(var u=0;u<this.createdVariables_.length;u++){var b=this.createdVariables_[u];b.name!=n&&o.deleteVariableById(b.getId())}}},e.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(n,o){e.Names.equals(n,this.getProcedureCall())&&(this.setFieldValue(o,"NAME"),this.setTooltip((this.outputConnection?e.Msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",o)))},setProcedureParameters_:function(n,o){var u=e.Procedures.getDefinition(this.getProcedureCall(),this.workspace),b=u&&u.mutator&&u.mutator.isVisible();if(b||(this.quarkConnections_={},this.quarkIds_=null),o)if(n.join("\n")==this.arguments_.join("\n"))this.quarkIds_=o;else{if(o.length!=n.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),u=this.rendered,this.rendered=!1;for(var w=0;w<this.arguments_.length;w++){var R=this.getInput("ARG"+w);R&&(this.quarkConnections_[this.quarkIds_[w]]=R=R.connection.targetConnection,b&&R&&-1==o.indexOf(this.quarkIds_[w])&&(R.disconnect(),R.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(n),this.argumentVarModels_=[],w=0;w<this.arguments_.length;w++)n=e.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[w],""),this.argumentVarModels_.push(n);if(this.updateShape_(),this.quarkIds_=o)for(w=0;w<this.arguments_.length;w++)(o=this.quarkIds_[w])in this.quarkConnections_&&(e.Mutator.reconnect(R=this.quarkConnections_[o],this,"ARG"+w)||delete this.quarkConnections_[o]);(this.rendered=u)&&this.render()}},updateShape_:function(){for(var n=0;n<this.arguments_.length;n++){var o=this.getField("ARGNAME"+n);if(o){e.Events.disable();try{o.setValue(this.arguments_[n])}finally{e.Events.enable()}}else o=new e.FieldLabel(this.arguments_[n]),this.appendValueInput("ARG"+n).setAlign(e.ALIGN_RIGHT).appendField(o,"ARGNAME"+n).init()}for(;this.getInput("ARG"+n);)this.removeInput("ARG"+n),n++;(n=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(n.appendField(e.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),n.init()):this.getField("WITH")&&n.removeField("WITH"))},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");n.setAttribute("name",this.getProcedureCall());for(var o=0;o<this.arguments_.length;o++){var u=e.utils.xml.createElement("arg");u.setAttribute("name",this.arguments_[o]),n.appendChild(u)}return n},domToMutation:function(n){var o=n.getAttribute("name");this.renameProcedure(this.getProcedureCall(),o),o=[];for(var w,u=[],b=0;w=n.childNodes[b];b++)"arg"==w.nodeName.toLowerCase()&&(o.push(w.getAttribute("name")),u.push(w.getAttribute("paramId")));this.setProcedureParameters_(o,u)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(n){if(this.workspace&&!this.workspace.isFlyout&&n.recordUndo)if(n.type==e.Events.BLOCK_CREATE&&-1!=n.ids.indexOf(this.id)){var o=this.getProcedureCall();if(!(o=e.Procedures.getDefinition(o,this.workspace))||o.type==this.defType_&&JSON.stringify(o.getVars())==JSON.stringify(this.arguments_)||(o=null),!o){e.Events.setGroup(n.group),n=e.utils.xml.createElement("xml"),(o=e.utils.xml.createElement("block")).setAttribute("type",this.defType_);var u=this.getRelativeToSurfaceXY(),b=u.y+2*e.SNAP_RADIUS;o.setAttribute("x",u.x+e.SNAP_RADIUS*(this.RTL?-1:1)),o.setAttribute("y",b),u=this.mutationToDom(),o.appendChild(u),(u=e.utils.xml.createElement("field")).setAttribute("name","NAME"),(b=this.getProcedureCall())||(b=e.Procedures.findLegalName("",this),this.renameProcedure("",b)),u.appendChild(e.utils.xml.createTextNode(b)),o.appendChild(u),n.appendChild(o),e.Xml.domToWorkspace(n,this.workspace),e.Events.setGroup(!1)}}else n.type==e.Events.BLOCK_DELETE?(o=this.getProcedureCall(),(o=e.Procedures.getDefinition(o,this.workspace))||(e.Events.setGroup(n.group),this.dispose(!0),e.Events.setGroup(!1))):n.type==e.Events.CHANGE&&"disabled"==n.element&&(o=this.getProcedureCall(),(o=e.Procedures.getDefinition(o,this.workspace))&&o.id==n.blockId&&((o=e.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),e.Events.setGroup(n.group),n.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),e.Events.setGroup(o)))},customContextMenu:function(n){if(this.workspace.isMovable()){var o={enabled:!0};o.text=e.Msg.PROCEDURES_HIGHLIGHT_DEF;var u=this.getProcedureCall(),b=this.workspace;o.callback=function(){var w=e.Procedures.getDefinition(u,b);w&&(b.centerOnBlock(w.id),w.select())},n.push(o)}},defType_:"procedures_defnoreturn"},e.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:e.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:e.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:e.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:e.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:e.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_callnoreturn.domToMutation,getVars:e.Blocks.procedures_callnoreturn.getVars,getVarModels:e.Blocks.procedures_callnoreturn.getVarModels,onchange:e.Blocks.procedures_callnoreturn.onchange,customContextMenu:e.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},e.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("value",Number(this.hasReturnValue_)),n},domToMutation:function(n){this.hasReturnValue_=1==n.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(n){if(this.workspace.isDragging&&!this.workspace.isDragging()){n=!1;var o=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(o.type)){n=!0;break}o=o.getSurroundParent()}while(o);n?("procedures_defnoreturn"==o.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=o.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(e.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},e.Blocks.texts={},e.Constants.Text={},e.Constants.Text.HUE=160,e.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),e.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==e.INPUT_VALUE;return n.setAttribute("at1",o),o=this.getInput("AT2").type==e.INPUT_VALUE,n.setAttribute("at2",o),n},domToMutation:function(n){var o="true"==n.getAttribute("at1");n="true"==n.getAttribute("at2"),this.updateAt_(1,o),this.updateAt_(2,n)},updateAt_:function(n,o){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),o?(this.appendValueInput("AT"+n).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n),2==n&&e.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL));var u=new e.FieldDropdown(this["WHERE_OPTIONS_"+n],function(b){var w="FROM_START"==b||"FROM_END"==b;if(w!=o){var R=this.getSourceBlock();return R.updateAt_(n,w),R.setFieldValue(b,"WHERE"+n),null}});this.getInput("AT"+n).appendField(u,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},e.Blocks.text_changeCase={init:function(){var n=[[e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(n),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_CHANGECASE_TOOLTIP)}},e.Blocks.text_trim={init:function(){var n=[[e.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(n),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_TRIM_TOOLTIP)}},e.Blocks.text_print={init:function(){this.jsonInit({message0:e.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg.TEXT_PRINT_HELPURL})}},e.Blocks.text_prompt_ext={init:function(){var n=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var o=this;n=new e.FieldDropdown(n,function(u){o.updateType_(u)}),this.appendValueInput("TEXT").appendField(n,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==o.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:function(n){this.outputConnection.setCheck("NUMBER"==n?"Number":"String")},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("type",this.getFieldValue("TYPE")),n},domToMutation:function(n){this.updateType_(n.getAttribute("type"))}},e.Blocks.text_prompt={init:function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN);var n=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],o=this;this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),n=new e.FieldDropdown(n,function(u){o.updateType_(u)}),this.appendDummyInput().appendField(n,"TYPE").appendField(this.newQuote_(!0)).appendField(new e.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==o.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:e.Blocks.text_prompt_ext.updateType_,mutationToDom:e.Blocks.text_prompt_ext.mutationToDom,domToMutation:e.Blocks.text_prompt_ext.domToMutation},e.Blocks.text_count={init:function(){this.jsonInit({message0:e.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg.TEXT_COUNT_HELPURL})}},e.Blocks.text_replace={init:function(){this.jsonInit({message0:e.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg.TEXT_REPLACE_HELPURL})}},e.Blocks.text_reverse={init:function(){this.jsonInit({message0:e.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg.TEXT_REVERSE_HELPURL})}},e.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(n){for(var u,o=0;u=this.inputList[o];o++)for(var w,b=0;w=u.fieldRow[b];b++)if(n==w.name)return u.insertFieldAt(b,this.newQuote_(!0)),void u.insertFieldAt(b+2,this.newQuote_(!1));console.warn('field named "'+n+'" not found in '+this.toDevString())},newQuote_:function(n){return new e.FieldImage((n=this.RTL?!n:n)?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,n?"\u201c":"\u201d")}},e.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("items",this.itemCount_),n},domToMutation:function(n){this.itemCount_=parseInt(n.getAttribute("items"),10),this.updateShape_()},decompose:function(n){var o=n.newBlock("text_create_join_container");o.initSvg();for(var u=o.getInput("STACK").connection,b=0;b<this.itemCount_;b++){var w=n.newBlock("text_create_join_item");w.initSvg(),u.connect(w.previousConnection),u=w.nextConnection}return o},compose:function(n){var o=n.getInputTargetBlock("STACK");for(n=[];o&&!o.isInsertionMarker();)n.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var u=this.getInput("ADD"+o).connection.targetConnection;u&&-1==n.indexOf(u)&&u.disconnect()}for(this.itemCount_=n.length,this.updateShape_(),o=0;o<this.itemCount_;o++)e.Mutator.reconnect(n[o],this,"ADD"+o)},saveConnections:function(n){n=n.getInputTargetBlock("STACK");for(var o=0;n;){var u=this.getInput("ADD"+o);n.valueConnection_=u&&u.connection.targetConnection,o++,n=n.nextConnection&&n.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var n=0;n<this.itemCount_;n++)if(!this.getInput("ADD"+n)){var o=this.appendValueInput("ADD"+n).setAlign(e.ALIGN_RIGHT);0==n&&o.appendField(e.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+n);)this.removeInput("ADD"+n),n++}},e.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.Mutator(["text_create_join_item"]))},e.Extensions.register("text_append_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var n=this;this.setTooltip(function(){return e.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"0":"-1")})},e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("at",!!this.isAt_),n},domToMutation:function(n){n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateAt_:function(n){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),n&&(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)),e.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_CHARAT_TAIL)),this.isAt_=n}},e.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator(function(o){(o="FROM_START"==o||"FROM_END"==o)!=this.isAt_&&this.getSourceBlock().updateAt_(o)}),this.updateAt_(!0);var n=this;this.setTooltip(function(){var o=n.getFieldValue("WHERE"),u=e.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==o||"FROM_END"==o)&&(o="FROM_START"==o?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(u+="  "+o.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),u})},e.Extensions.register("text_indexOf_tooltip",e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),e.Extensions.register("text_quotes",e.Constants.Text.TEXT_QUOTES_EXTENSION),e.Extensions.registerMutator("text_join_mutator",e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,e.Constants.Text.TEXT_JOIN_EXTENSION),e.Extensions.registerMutator("text_charAt_mutator",e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,e.Constants.Text.TEXT_CHARAT_EXTENSION),e.Blocks.variables={},e.Constants.Variables={},e.Constants.Variables.HUE=330,e.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(n){if(this.isInFlyout)("variables_get"==this.type||"variables_get_reporter"==this.type)&&(o={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},w=this.getField("VAR").getText(),b={text:e.Msg.DELETE_VARIABLE.replace("%1",w),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},n.unshift(o),n.unshift(b));else{if("variables_get"==this.type)var o="variables_set",u=e.Msg.VARIABLES_GET_CREATE_SET;else o="variables_get",u=e.Msg.VARIABLES_SET_CREATE_GET;var b={enabled:0<this.workspace.remainingCapacity()},w=this.getField("VAR").getText();b.text=u.replace("%1",w),(u=e.utils.xml.createElement("field")).setAttribute("name","VAR"),u.appendChild(e.utils.xml.createTextNode(w)),(w=e.utils.xml.createElement("block")).setAttribute("type",o),w.appendChild(u),b.callback=e.ContextMenu.callbackFactory(this,w),n.push(b)}}},e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(n){return function(){var o=n.workspace,u=n.getField("VAR").getVariable();e.Variables.renameVariable(o,u)}},e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(n){return function(){var o=n.workspace,u=n.getField("VAR").getVariable();o.deleteVariableById(u.getId()),o.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableSetterGetter",e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Constants.VariablesDynamic={},e.Constants.VariablesDynamic.HUE=310,e.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(n){if(this.isInFlyout)("variables_get_dynamic"==this.type||"variables_get_reporter_dynamic"==this.type)&&(o={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},R=this.getField("VAR").getText(),w={text:e.Msg.DELETE_VARIABLE.replace("%1",R),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},n.unshift(o),n.unshift(w));else{var o=this.getFieldValue("VAR"),u=this.workspace.getVariableById(o).type;if("variables_get_dynamic"==this.type){o="variables_set_dynamic";var b=e.Msg.VARIABLES_GET_CREATE_SET}else o="variables_get_dynamic",b=e.Msg.VARIABLES_SET_CREATE_GET;var w={enabled:0<this.workspace.remainingCapacity()},R=this.getField("VAR").getText();w.text=b.replace("%1",R),(b=e.utils.xml.createElement("field")).setAttribute("name","VAR"),b.setAttribute("variabletype",u),b.appendChild(e.utils.xml.createTextNode(R)),(R=e.utils.xml.createElement("block")).setAttribute("type",o),R.appendChild(b),w.callback=e.ContextMenu.callbackFactory(this,R),n.push(w)}},onchange:function(n){n=this.getFieldValue("VAR"),n=e.Variables.getVariable(this.workspace,n),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(n.type):this.getInput("VALUE").connection.setCheck(n.type)}},e.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(n){return function(){var o=n.workspace,u=n.getField("VAR").getVariable();e.Variables.renameVariable(o,u)}},e.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(n){return function(){var o=n.workspace,u=n.getField("VAR").getVariable();o.deleteVariableById(u.getId()),o.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Blocks}.apply(H,p))&&(P.exports=t)},38136:function(P,H,h){var p,t;p=[h(3731),h(32998),h(96116),h(59506)],void 0!==(t=function(e,n,o,u){"use strict";return e.setLocale(n),e.Blocks=e.Blocks||{},Object.keys(o).forEach(function(b){e.Blocks[b]=o[b]}),e.JavaScript=u,e}.apply(H,p))&&(P.exports=t)},3731:function(P,H,h){var p,t;p=[h(54678)],void 0!==(t=function(e){"use strict";return e.setLocale=function(n){e.Msg=e.Msg||{},Object.keys(n).forEach(function(o){e.Msg[o]=n[o]})},e}.apply(H,p))&&(P.exports=t)},45797:function(P,H,h){var p,t;p=[h(38136)],void 0!==(t=function(e){"use strict";return e}.apply(H,p))&&(P.exports=t)},59506:function(P,H,h){var p,t;p=[h(3731),h(29920)],void 0!==(t=function(e,n){"use strict";return e.JavaScript=n,n}.apply(H,p))&&(P.exports=t)},29920:function(P,H,h){var p,t;p=[h(33164)],void 0!==(t=function(e){"use strict";return e.JavaScript=new e.Generator("JavaScript"),e.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(e.utils.global).join(",")),e.JavaScript.ORDER_ATOMIC=0,e.JavaScript.ORDER_NEW=1.1,e.JavaScript.ORDER_MEMBER=1.2,e.JavaScript.ORDER_FUNCTION_CALL=2,e.JavaScript.ORDER_INCREMENT=3,e.JavaScript.ORDER_DECREMENT=3,e.JavaScript.ORDER_BITWISE_NOT=4.1,e.JavaScript.ORDER_UNARY_PLUS=4.2,e.JavaScript.ORDER_UNARY_NEGATION=4.3,e.JavaScript.ORDER_LOGICAL_NOT=4.4,e.JavaScript.ORDER_TYPEOF=4.5,e.JavaScript.ORDER_VOID=4.6,e.JavaScript.ORDER_DELETE=4.7,e.JavaScript.ORDER_AWAIT=4.8,e.JavaScript.ORDER_EXPONENTIATION=5,e.JavaScript.ORDER_MULTIPLICATION=5.1,e.JavaScript.ORDER_DIVISION=5.2,e.JavaScript.ORDER_MODULUS=5.3,e.JavaScript.ORDER_SUBTRACTION=6.1,e.JavaScript.ORDER_ADDITION=6.2,e.JavaScript.ORDER_BITWISE_SHIFT=7,e.JavaScript.ORDER_RELATIONAL=8,e.JavaScript.ORDER_IN=8,e.JavaScript.ORDER_INSTANCEOF=8,e.JavaScript.ORDER_EQUALITY=9,e.JavaScript.ORDER_BITWISE_AND=10,e.JavaScript.ORDER_BITWISE_XOR=11,e.JavaScript.ORDER_BITWISE_OR=12,e.JavaScript.ORDER_LOGICAL_AND=13,e.JavaScript.ORDER_LOGICAL_OR=14,e.JavaScript.ORDER_CONDITIONAL=15,e.JavaScript.ORDER_ASSIGNMENT=16,e.JavaScript.ORDER_YIELD=17,e.JavaScript.ORDER_COMMA=18,e.JavaScript.ORDER_NONE=99,e.JavaScript.ORDER_OVERRIDES=[[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_LOGICAL_NOT,e.JavaScript.ORDER_LOGICAL_NOT],[e.JavaScript.ORDER_MULTIPLICATION,e.JavaScript.ORDER_MULTIPLICATION],[e.JavaScript.ORDER_ADDITION,e.JavaScript.ORDER_ADDITION],[e.JavaScript.ORDER_LOGICAL_AND,e.JavaScript.ORDER_LOGICAL_AND],[e.JavaScript.ORDER_LOGICAL_OR,e.JavaScript.ORDER_LOGICAL_OR]],e.JavaScript.isInitialized=!1,e.JavaScript.init=function(n){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new e.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(n.getVariableMap()),this.nameDB_.populateVariables(n),this.nameDB_.populateProcedures(n);for(var o=[],u=e.Variables.allDeveloperVariables(n),b=0;b<u.length;b++)o.push(this.nameDB_.getName(u[b],e.Names.DEVELOPER_VARIABLE_TYPE));for(n=e.Variables.allUsedVarModels(n),b=0;b<n.length;b++)o.push(this.nameDB_.getName(n[b].getId(),e.VARIABLE_CATEGORY_NAME));o.length&&(this.definitions_.variables="var "+o.join(", ")+";"),this.isInitialized=!0},e.JavaScript.finish=function(n){var o=e.utils.object.values(this.definitions_);return n=Object.getPrototypeOf(this).finish.call(this,n),this.isInitialized=!1,this.nameDB_.reset(),o.join("\n\n")+"\n\n\n"+n},e.JavaScript.scrubNakedValue=function(n){return n+";\n"},e.JavaScript.quote_=function(n){return"'"+(n=n.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},e.JavaScript.multiline_quote_=function(n){return n.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},e.JavaScript.scrub_=function(n,o,u){var b="";if(!n.outputConnection||!n.outputConnection.targetConnection){var w=n.getCommentText();w&&(w=e.utils.string.wrap(w,this.COMMENT_WRAP-3),b+=this.prefixLines(w+"\n","// "));for(var R=0;R<n.inputList.length;R++)n.inputList[R].type==e.inputTypes.VALUE&&(w=n.inputList[R].connection.targetBlock())&&(w=this.allNestedComments(w))&&(b+=this.prefixLines(w,"// "))}return n=n.nextConnection&&n.nextConnection.targetBlock(),b+o+(u?"":this.blockToCode(n))},e.JavaScript.getAdjusted=function(n,o,u,b,w){u=u||0,w=w||this.ORDER_NONE,n.workspace.options.oneBasedIndex&&u--;var R=n.workspace.options.oneBasedIndex?"1":"0";if(n=0<u?this.valueToCode(n,o,this.ORDER_ADDITION)||R:0>u?this.valueToCode(n,o,this.ORDER_SUBTRACTION)||R:b?this.valueToCode(n,o,this.ORDER_UNARY_NEGATION)||R:this.valueToCode(n,o,w)||R,e.isNumber(n))n=Number(n)+u,b&&(n=-n);else{if(0<u){n=n+" + "+u;var N=this.ORDER_ADDITION}else 0>u&&(n=n+" - "+-u,N=this.ORDER_SUBTRACTION);b&&(n=u?"-("+n+")":"-"+n,N=this.ORDER_UNARY_NEGATION),N=Math.floor(N),w=Math.floor(w),N&&w>=N&&(n="("+n+")")}return n},e.JavaScript.colour={},e.JavaScript.colour_picker=function(n){return[e.JavaScript.quote_(n.getFieldValue("COLOUR")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.colour_random=function(n){return[e.JavaScript.provideFunction_("colourRandom",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_rgb=function(n){var o=e.JavaScript.valueToCode(n,"RED",e.JavaScript.ORDER_NONE)||0,u=e.JavaScript.valueToCode(n,"GREEN",e.JavaScript.ORDER_NONE)||0;return n=e.JavaScript.valueToCode(n,"BLUE",e.JavaScript.ORDER_NONE)||0,[e.JavaScript.provideFunction_("colourRgb",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+u+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_blend=function(n){var o=e.JavaScript.valueToCode(n,"COLOUR1",e.JavaScript.ORDER_NONE)||"'#000000'",u=e.JavaScript.valueToCode(n,"COLOUR2",e.JavaScript.ORDER_NONE)||"'#000000'";return n=e.JavaScript.valueToCode(n,"RATIO",e.JavaScript.ORDER_NONE)||.5,[e.JavaScript.provideFunction_("colourBlend",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+u+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists={},e.JavaScript.lists_create_empty=function(n){return["[]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_create_with=function(n){for(var o=Array(n.itemCount_),u=0;u<n.itemCount_;u++)o[u]=e.JavaScript.valueToCode(n,"ADD"+u,e.JavaScript.ORDER_NONE)||"null";return["["+o.join(", ")+"]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_repeat=function(n){return[e.JavaScript.provideFunction_("listsRepeat",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(e.JavaScript.valueToCode(n,"ITEM",e.JavaScript.ORDER_NONE)||"null")+", "+(n=e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_NONE)||"0")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_length=function(n){return[(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.lists_isEmpty=function(n){return["!"+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.lists_indexOf=function(n){var o="FIRST"==n.getFieldValue("END")?"indexOf":"lastIndexOf",u=e.JavaScript.valueToCode(n,"FIND",e.JavaScript.ORDER_NONE)||"''";return o=(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+"."+o+"("+u+")",n.workspace.options.oneBasedIndex?[o+" + 1",e.JavaScript.ORDER_ADDITION]:[o,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_getIndex=function(n){var o=n.getFieldValue("MODE")||"GET",u=n.getFieldValue("WHERE")||"FROM_START",b=e.JavaScript.valueToCode(n,"VALUE","RANDOM"==u?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"[]";switch(u){case"FIRST":if("GET"==o)return[b+"[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[b+".shift()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==o)return b+".shift();\n";break;case"LAST":if("GET"==o)return[b+".slice(-1)[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[b+".pop()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==o)return b+".pop();\n";break;case"FROM_START":if(n=e.JavaScript.getAdjusted(n,"AT"),"GET"==o)return[b+"["+n+"]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[b+".splice("+n+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return b+".splice("+n+", 1);\n";break;case"FROM_END":if(n=e.JavaScript.getAdjusted(n,"AT",1,!0),"GET"==o)return[b+".slice("+n+")[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==o)return[b+".splice("+n+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return b+".splice("+n+", 1);";break;case"RANDOM":if(b=e.JavaScript.provideFunction_("listsGetRandomItem",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+b+", "+("GET"!=o)+")","GET"==o||"GET_REMOVE"==o)return[b,e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return b+";\n"}throw Error("Unhandled combination (lists_getIndex).")},e.JavaScript.lists_setIndex=function(n){function o(){if(u.match(/^\w+$/))return"";var N=e.JavaScript.nameDB_.getDistinctName("tmpList",e.VARIABLE_CATEGORY_NAME),W="var "+N+" = "+u+";\n";return u=N,W}var u=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",b=n.getFieldValue("MODE")||"GET",w=n.getFieldValue("WHERE")||"FROM_START",R=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"null";switch(w){case"FIRST":if("SET"==b)return u+"[0] = "+R+";\n";if("INSERT"==b)return u+".unshift("+R+");\n";break;case"LAST":if("SET"==b)return(n=o())+(u+"[")+u+".length - 1] = "+R+";\n";if("INSERT"==b)return u+".push("+R+");\n";break;case"FROM_START":if(w=e.JavaScript.getAdjusted(n,"AT"),"SET"==b)return u+"["+w+"] = "+R+";\n";if("INSERT"==b)return u+".splice("+w+", 0, "+R+");\n";break;case"FROM_END":if(w=e.JavaScript.getAdjusted(n,"AT",1,!1,e.JavaScript.ORDER_SUBTRACTION),n=o(),"SET"==b)return n+(u+"[")+u+".length - "+w+"] = "+R+";\n";if("INSERT"==b)return n+(u+".splice(")+u+".length - "+w+", 0, "+R+");\n";break;case"RANDOM":if(n=o(),n+="var "+(w=e.JavaScript.nameDB_.getDistinctName("tmpX",e.VARIABLE_CATEGORY_NAME))+" = Math.floor(Math.random() * "+u+".length);\n","SET"==b)return n+(u+"[")+w+"] = "+R+";\n";if("INSERT"==b)return n+(u+".splice(")+w+", 0, "+R+");\n"}throw Error("Unhandled combination (lists_setIndex).")},e.JavaScript.lists.getIndex_=function(n,o,u){return"FIRST"==o?"0":"FROM_END"==o?n+".length - 1 - "+u:"LAST"==o?n+".length - 1":u},e.JavaScript.lists_getSublist=function(n){var o=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",u=n.getFieldValue("WHERE1"),b=n.getFieldValue("WHERE2");if("FIRST"==u&&"LAST"==b)o+=".slice(0)";else if(o.match(/^\w+$/)||"FROM_END"!=u&&"FROM_START"==b){switch(u){case"FROM_START":var w=e.JavaScript.getAdjusted(n,"AT1");break;case"FROM_END":w=o+".length - "+(w=e.JavaScript.getAdjusted(n,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":w="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(b){case"FROM_START":n=e.JavaScript.getAdjusted(n,"AT2",1);break;case"FROM_END":n=o+".length - "+(n=e.JavaScript.getAdjusted(n,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":n=o+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}o=o+".slice("+w+", "+n+")"}else{w=e.JavaScript.getAdjusted(n,"AT1"),n=e.JavaScript.getAdjusted(n,"AT2");var R=e.JavaScript.lists.getIndex_,N={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};o=e.JavaScript.provideFunction_("subsequence"+N[u]+N[b],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==u||"FROM_START"==u?", at1":"")+("FROM_END"==b||"FROM_START"==b?", at2":"")+") {","  var start = "+R("sequence",u,"at1")+";","  var end = "+R("sequence",b,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+o+("FROM_END"==u||"FROM_START"==u?", "+w:"")+("FROM_END"==b||"FROM_START"==b?", "+n:"")+")"}return[o,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_sort=function(n){var o=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]",u="1"===n.getFieldValue("DIRECTION")?1:-1;return n=n.getFieldValue("TYPE"),[o+".slice().sort("+e.JavaScript.provideFunction_("listsGetSortCompare",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+n+'", '+u+"))",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_split=function(n){var o=e.JavaScript.valueToCode(n,"INPUT",e.JavaScript.ORDER_MEMBER),u=e.JavaScript.valueToCode(n,"DELIM",e.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(n=n.getFieldValue("MODE")))o||(o="''"),n="split";else{if("JOIN"!=n)throw Error("Unknown mode: "+n);o||(o="[]"),n="join"}return[o+"."+n+"("+u+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_reverse=function(n){return[(e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.logic={},e.JavaScript.controls_if=function(n){var o=0,u="";e.JavaScript.STATEMENT_PREFIX&&(u+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n));do{var b=e.JavaScript.valueToCode(n,"IF"+o,e.JavaScript.ORDER_NONE)||"false",w=e.JavaScript.statementToCode(n,"DO"+o);e.JavaScript.STATEMENT_SUFFIX&&(w=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)+w),u+=(0<o?" else ":"")+"if ("+b+") {\n"+w+"}",++o}while(n.getInput("IF"+o));return(n.getInput("ELSE")||e.JavaScript.STATEMENT_SUFFIX)&&(w=e.JavaScript.statementToCode(n,"ELSE"),e.JavaScript.STATEMENT_SUFFIX&&(w=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)+w),u+=" else {\n"+w+"}"),u+"\n"},e.JavaScript.controls_ifelse=e.JavaScript.controls_if,e.JavaScript.logic_compare=function(n){var o={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[n.getFieldValue("OP")],u="=="==o||"!="==o?e.JavaScript.ORDER_EQUALITY:e.JavaScript.ORDER_RELATIONAL;return[(e.JavaScript.valueToCode(n,"A",u)||"0")+" "+o+" "+(n=e.JavaScript.valueToCode(n,"B",u)||"0"),u]},e.JavaScript.logic_operation=function(n){var o="AND"==n.getFieldValue("OP")?"&&":"||",u="&&"==o?e.JavaScript.ORDER_LOGICAL_AND:e.JavaScript.ORDER_LOGICAL_OR,b=e.JavaScript.valueToCode(n,"A",u);if(n=e.JavaScript.valueToCode(n,"B",u),b||n){var w="&&"==o?"true":"false";b||(b=w),n||(n=w)}else n=b="false";return[b+" "+o+" "+n,u]},e.JavaScript.logic_negate=function(n){var o=e.JavaScript.ORDER_LOGICAL_NOT;return["!"+(e.JavaScript.valueToCode(n,"BOOL",o)||"true"),o]},e.JavaScript.logic_boolean=function(n){return["TRUE"==n.getFieldValue("BOOL")?"true":"false",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_null=function(n){return["null",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_ternary=function(n){return[(e.JavaScript.valueToCode(n,"IF",e.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(e.JavaScript.valueToCode(n,"THEN",e.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(n=e.JavaScript.valueToCode(n,"ELSE",e.JavaScript.ORDER_CONDITIONAL)||"null"),e.JavaScript.ORDER_CONDITIONAL]},e.JavaScript.loops={},e.JavaScript.controls_repeat_ext=function(n){var o=n.getField("TIMES")?String(Number(n.getFieldValue("TIMES"))):e.JavaScript.valueToCode(n,"TIMES",e.JavaScript.ORDER_ASSIGNMENT)||"0",u=e.JavaScript.statementToCode(n,"DO");u=e.JavaScript.addLoopTrap(u,n),n="";var b=e.JavaScript.nameDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME),w=o;return o.match(/^\w+$/)||e.isNumber(o)||(n+="var "+(w=e.JavaScript.nameDB_.getDistinctName("repeat_end",e.VARIABLE_CATEGORY_NAME))+" = "+o+";\n"),n+"for (var "+b+" = 0; "+b+" < "+w+"; "+b+"++) {\n"+u+"}\n"},e.JavaScript.controls_repeat=e.JavaScript.controls_repeat_ext,e.JavaScript.controls_whileUntil=function(n){var o="UNTIL"==n.getFieldValue("MODE"),u=e.JavaScript.valueToCode(n,"BOOL",o?e.JavaScript.ORDER_LOGICAL_NOT:e.JavaScript.ORDER_NONE)||"false",b=e.JavaScript.statementToCode(n,"DO");return o&&(u="!"+u),"while ("+u+") {\n"+(b=e.JavaScript.addLoopTrap(b,n))+"}\n"},e.JavaScript.controls_for=function(n){var o=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),u=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_ASSIGNMENT)||"0",b=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"0",w=e.JavaScript.valueToCode(n,"BY",e.JavaScript.ORDER_ASSIGNMENT)||"1",R=e.JavaScript.statementToCode(n,"DO");if(R=e.JavaScript.addLoopTrap(R,n),e.isNumber(u)&&e.isNumber(b)&&e.isNumber(w)){var N=Number(u)<=Number(b);n="for ("+o+" = "+u+"; "+o+(N?" <= ":" >= ")+b+"; "+o,n=(1==(o=Math.abs(Number(w)))?n+(N?"++":"--"):n+(N?" += ":" -= ")+o)+") {\n"+R+"}\n"}else n="",N=u,u.match(/^\w+$/)||e.isNumber(u)||(n+="var "+(N=e.JavaScript.nameDB_.getDistinctName(o+"_start",e.VARIABLE_CATEGORY_NAME))+" = "+u+";\n"),u=b,b.match(/^\w+$/)||e.isNumber(b)||(n+="var "+(u=e.JavaScript.nameDB_.getDistinctName(o+"_end",e.VARIABLE_CATEGORY_NAME))+" = "+b+";\n"),n+="var "+(b=e.JavaScript.nameDB_.getDistinctName(o+"_inc",e.VARIABLE_CATEGORY_NAME))+" = ",n=(n=e.isNumber(w)?n+(Math.abs(w)+";\n"):n+"Math.abs("+w+");\n")+"if ("+N+" > "+u+") {\n"+(e.JavaScript.INDENT+b)+" = -"+b+";\n",n+="}\n",n+="for ("+o+" = "+N+"; "+b+" >= 0 ? "+o+" <= "+u+" : "+o+" >= "+u+"; "+o+" += "+b+") {\n"+R+"}\n";return n},e.JavaScript.controls_forEach=function(n){var o=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),u=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_ASSIGNMENT)||"[]",b=e.JavaScript.statementToCode(n,"DO");b=e.JavaScript.addLoopTrap(b,n),n="";var w=u;return u.match(/^\w+$/)||(n+="var "+(w=e.JavaScript.nameDB_.getDistinctName(o+"_list",e.VARIABLE_CATEGORY_NAME))+" = "+u+";\n"),n+"for (var "+(u=e.JavaScript.nameDB_.getDistinctName(o+"_index",e.VARIABLE_CATEGORY_NAME))+" in "+w+") {\n"+(b=e.JavaScript.INDENT+o+" = "+w+"["+u+"];\n"+b)+"}\n"},e.JavaScript.controls_flow_statements=function(n){var o="";if(e.JavaScript.STATEMENT_PREFIX&&(o+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n)),e.JavaScript.STATEMENT_SUFFIX&&(o+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n)),e.JavaScript.STATEMENT_PREFIX){var u=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(n);u&&!u.suppressPrefixSuffix&&(o+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,u))}switch(n.getFieldValue("FLOW")){case"BREAK":return o+"break;\n";case"CONTINUE":return o+"continue;\n"}throw Error("Unknown flow statement.")},e.JavaScript.math={},e.JavaScript.math_number=function(n){return[n=Number(n.getFieldValue("NUM")),0<=n?e.JavaScript.ORDER_ATOMIC:e.JavaScript.ORDER_UNARY_NEGATION]},e.JavaScript.math_arithmetic=function(n){var o={ADD:[" + ",e.JavaScript.ORDER_ADDITION],MINUS:[" - ",e.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",e.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",e.JavaScript.ORDER_DIVISION],POWER:[null,e.JavaScript.ORDER_NONE]}[n.getFieldValue("OP")],u=o[0],b=e.JavaScript.valueToCode(n,"A",o=o[1])||"0";return n=e.JavaScript.valueToCode(n,"B",o)||"0",u?[b+u+n,o]:["Math.pow("+b+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_single=function(n){var o=n.getFieldValue("OP");if("NEG"==o)return"-"==(n=e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(n=" "+n),["-"+n,e.JavaScript.ORDER_UNARY_NEGATION];switch(n="SIN"==o||"COS"==o||"TAN"==o?e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_DIVISION)||"0":e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_NONE)||"0",o){case"ABS":var u="Math.abs("+n+")";break;case"ROOT":u="Math.sqrt("+n+")";break;case"LN":u="Math.log("+n+")";break;case"EXP":u="Math.exp("+n+")";break;case"POW10":u="Math.pow(10,"+n+")";break;case"ROUND":u="Math.round("+n+")";break;case"ROUNDUP":u="Math.ceil("+n+")";break;case"ROUNDDOWN":u="Math.floor("+n+")";break;case"SIN":u="Math.sin("+n+" / 180 * Math.PI)";break;case"COS":u="Math.cos("+n+" / 180 * Math.PI)";break;case"TAN":u="Math.tan("+n+" / 180 * Math.PI)"}if(u)return[u,e.JavaScript.ORDER_FUNCTION_CALL];switch(o){case"LOG10":u="Math.log("+n+") / Math.log(10)";break;case"ASIN":u="Math.asin("+n+") / Math.PI * 180";break;case"ACOS":u="Math.acos("+n+") / Math.PI * 180";break;case"ATAN":u="Math.atan("+n+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+o)}return[u,e.JavaScript.ORDER_DIVISION]},e.JavaScript.math_constant=function(n){return{PI:["Math.PI",e.JavaScript.ORDER_MEMBER],E:["Math.E",e.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",e.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",e.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",e.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",e.JavaScript.ORDER_ATOMIC]}[n.getFieldValue("CONSTANT")]},e.JavaScript.math_number_property=function(n){var o=e.JavaScript.valueToCode(n,"NUMBER_TO_CHECK",e.JavaScript.ORDER_MODULUS)||"0",u=n.getFieldValue("PROPERTY");if("PRIME"==u)return[e.JavaScript.provideFunction_("mathIsPrime",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+o+")",e.JavaScript.ORDER_FUNCTION_CALL];switch(u){case"EVEN":var b=o+" % 2 == 0";break;case"ODD":b=o+" % 2 == 1";break;case"WHOLE":b=o+" % 1 == 0";break;case"POSITIVE":b=o+" > 0";break;case"NEGATIVE":b=o+" < 0";break;case"DIVISIBLE_BY":b=o+" % "+(n=e.JavaScript.valueToCode(n,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[b,e.JavaScript.ORDER_EQUALITY]},e.JavaScript.math_change=function(n){var o=e.JavaScript.valueToCode(n,"DELTA",e.JavaScript.ORDER_ADDITION)||"0";return(n=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = (typeof "+n+" == 'number' ? "+n+" : 0) + "+o+";\n"},e.JavaScript.math_round=e.JavaScript.math_single,e.JavaScript.math_trig=e.JavaScript.math_single,e.JavaScript.math_on_list=function(n){var o=n.getFieldValue("OP");switch(o){case"SUM":n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",n+=".reduce(function(x, y) {return x + y;})";break;case"MIN":n="Math.min.apply(null, "+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MAX":n="Math.max.apply(null, "+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"AVERAGE":n=(o=e.JavaScript.provideFunction_("mathMean",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":n=(o=e.JavaScript.provideFunction_("mathMedian",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":n=(o=e.JavaScript.provideFunction_("mathModes",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":n=(o=e.JavaScript.provideFunction_("mathStandardDeviation",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":n=(o=e.JavaScript.provideFunction_("mathRandomList",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+o)}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_modulo=function(n){return[(e.JavaScript.valueToCode(n,"DIVIDEND",e.JavaScript.ORDER_MODULUS)||"0")+" % "+(n=e.JavaScript.valueToCode(n,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0"),e.JavaScript.ORDER_MODULUS]},e.JavaScript.math_constrain=function(n){return["Math.min(Math.max("+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_NONE)||"0")+", "+(e.JavaScript.valueToCode(n,"LOW",e.JavaScript.ORDER_NONE)||"0")+"), "+(n=e.JavaScript.valueToCode(n,"HIGH",e.JavaScript.ORDER_NONE)||"Infinity")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_int=function(n){var o=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_NONE)||"0";return n=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_NONE)||"0",[e.JavaScript.provideFunction_("mathRandomInt",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+o+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_float=function(n){return["Math.random()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_atan2=function(n){var o=e.JavaScript.valueToCode(n,"X",e.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(e.JavaScript.valueToCode(n,"Y",e.JavaScript.ORDER_NONE)||"0")+", "+o+") / Math.PI * 180",e.JavaScript.ORDER_DIVISION]},e.JavaScript.procedures={},e.JavaScript.procedures_defreturn=function(n){var o=e.JavaScript.nameDB_.getName(n.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),u="";e.JavaScript.STATEMENT_PREFIX&&(u+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n)),e.JavaScript.STATEMENT_SUFFIX&&(u+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n)),u&&(u=e.JavaScript.prefixLines(u,e.JavaScript.INDENT));var b="";e.JavaScript.INFINITE_LOOP_TRAP&&(b=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.INFINITE_LOOP_TRAP,n),e.JavaScript.INDENT));var w=e.JavaScript.statementToCode(n,"STACK"),R=e.JavaScript.valueToCode(n,"RETURN",e.JavaScript.ORDER_NONE)||"",N="";w&&R&&(N=u),R&&(R=e.JavaScript.INDENT+"return "+R+";\n");for(var W=[],Z=n.getVars(),K=0;K<Z.length;K++)W[K]=e.JavaScript.nameDB_.getName(Z[K],e.VARIABLE_CATEGORY_NAME);return u="function "+o+"("+W.join(", ")+") {\n"+u+b+w+N+R+"}",u=e.JavaScript.scrub_(n,u),e.JavaScript.definitions_["%"+o]=u,null},e.JavaScript.procedures_defnoreturn=e.JavaScript.procedures_defreturn,e.JavaScript.procedures_callreturn=function(n){for(var o=e.JavaScript.nameDB_.getName(n.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),u=[],b=n.getVars(),w=0;w<b.length;w++)u[w]=e.JavaScript.valueToCode(n,"ARG"+w,e.JavaScript.ORDER_NONE)||"null";return[o+"("+u.join(", ")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.procedures_callnoreturn=function(n){return e.JavaScript.procedures_callreturn(n)[0]+";\n"},e.JavaScript.procedures_ifreturn=function(n){var o="if ("+(e.JavaScript.valueToCode(n,"CONDITION",e.JavaScript.ORDER_NONE)||"false")+") {\n";return e.JavaScript.STATEMENT_SUFFIX&&(o+=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)),n.hasReturnValue_?(n=e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_NONE)||"null",o+=e.JavaScript.INDENT+"return "+n+";\n"):o+=e.JavaScript.INDENT+"return;\n",o+"}\n"},e.JavaScript.texts={},e.JavaScript.text=function(n){return[e.JavaScript.quote_(n.getFieldValue("TEXT")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.text_multiline=function(n){var o=-1!=(n=e.JavaScript.multiline_quote_(n.getFieldValue("TEXT"))).indexOf("+")?e.JavaScript.ORDER_ADDITION:e.JavaScript.ORDER_ATOMIC;return[n,o]},e.JavaScript.text.forceString_=function(n){return e.JavaScript.text.forceString_.strRegExp.test(n)?[n,e.JavaScript.ORDER_ATOMIC]:["String("+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.JavaScript.text_join=function(n){switch(n.itemCount_){case 0:return["''",e.JavaScript.ORDER_ATOMIC];case 1:return n=e.JavaScript.valueToCode(n,"ADD0",e.JavaScript.ORDER_NONE)||"''",e.JavaScript.text.forceString_(n);case 2:var o=e.JavaScript.valueToCode(n,"ADD0",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"ADD1",e.JavaScript.ORDER_NONE)||"''",[n=e.JavaScript.text.forceString_(o)[0]+" + "+e.JavaScript.text.forceString_(n)[0],e.JavaScript.ORDER_ADDITION];default:o=Array(n.itemCount_);for(var u=0;u<n.itemCount_;u++)o[u]=e.JavaScript.valueToCode(n,"ADD"+u,e.JavaScript.ORDER_NONE)||"''";return[n="["+o.join(",")+"].join('')",e.JavaScript.ORDER_FUNCTION_CALL]}},e.JavaScript.text_append=function(n){var o=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return n=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''",o+" += "+e.JavaScript.text.forceString_(n)[0]+";\n"},e.JavaScript.text_length=function(n){return[(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.text_isEmpty=function(n){return["!"+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.text_indexOf=function(n){var o="FIRST"==n.getFieldValue("END")?"indexOf":"lastIndexOf",u=e.JavaScript.valueToCode(n,"FIND",e.JavaScript.ORDER_NONE)||"''";return o=(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+"."+o+"("+u+")",n.workspace.options.oneBasedIndex?[o+" + 1",e.JavaScript.ORDER_ADDITION]:[o,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_charAt=function(n){var o=n.getFieldValue("WHERE")||"FROM_START",u=e.JavaScript.valueToCode(n,"VALUE","RANDOM"==o?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"''";switch(o){case"FIRST":return[u+".charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[u+".slice(-1)",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[u+".charAt("+(n=e.JavaScript.getAdjusted(n,"AT"))+")",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[u+".slice("+(n=e.JavaScript.getAdjusted(n,"AT",1,!0))+").charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[e.JavaScript.provideFunction_("textRandomLetter",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+u+")",e.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.JavaScript.text.getIndex_=function(n,o,u){return"FIRST"==o?"0":"FROM_END"==o?n+".length - 1 - "+u:"LAST"==o?n+".length - 1":u},e.JavaScript.text_getSubstring=function(n){var o=n.getFieldValue("WHERE1"),u=n.getFieldValue("WHERE2"),b="FROM_END"!=o&&"LAST"!=o&&"FROM_END"!=u&&"LAST"!=u,w=e.JavaScript.valueToCode(n,"STRING",b?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''";if("FIRST"==o&&"LAST"==u)return[w,e.JavaScript.ORDER_NONE];if(w.match(/^'?\w+'?$/)||b){switch(o){case"FROM_START":b=e.JavaScript.getAdjusted(n,"AT1");break;case"FROM_END":b=w+".length - "+(b=e.JavaScript.getAdjusted(n,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":b="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(u){case"FROM_START":n=e.JavaScript.getAdjusted(n,"AT2",1);break;case"FROM_END":n=w+".length - "+(n=e.JavaScript.getAdjusted(n,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":n=w+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}o=w+".slice("+b+", "+n+")"}else{b=e.JavaScript.getAdjusted(n,"AT1"),n=e.JavaScript.getAdjusted(n,"AT2");var R=e.JavaScript.text.getIndex_,N={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};o=e.JavaScript.provideFunction_("subsequence"+N[o]+N[u],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==o||"FROM_START"==o?", at1":"")+("FROM_END"==u||"FROM_START"==u?", at2":"")+") {","  var start = "+R("sequence",o,"at1")+";","  var end = "+R("sequence",u,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+w+("FROM_END"==o||"FROM_START"==o?", "+b:"")+("FROM_END"==u||"FROM_START"==u?", "+n:"")+")"}return[o,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_changeCase=function(n){var o={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[n.getFieldValue("CASE")];return n=e.JavaScript.valueToCode(n,"TEXT",o?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''",[o?n+o:e.JavaScript.provideFunction_("textToTitleCase",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_trim=function(n){var o={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[n.getFieldValue("MODE")];return[(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+o,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_print=function(n){return"window.alert("+(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''")+");\n"},e.JavaScript.text_prompt_ext=function(n){var o="window.prompt("+(n.getField("TEXT")?e.JavaScript.quote_(n.getFieldValue("TEXT")):e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==n.getFieldValue("TYPE")&&(o="Number("+o+")"),[o,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_prompt=e.JavaScript.text_prompt_ext,e.JavaScript.text_count=function(n){var o=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"SUB",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textCount",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+o+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_replace=function(n){var o=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''",u=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textReplace",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+o+", "+u+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_reverse=function(n){return[(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.variables={},e.JavaScript.variables_get=function(n){return[e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.variables_set=function(n){var o=e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_ASSIGNMENT)||"0";return e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+o+";\n"},e.JavaScript.variablesDynamic={},e.JavaScript.variables_get_dynamic=e.JavaScript.variables_get,e.JavaScript.variables_set_dynamic=e.JavaScript.variables_set,e.JavaScript}.apply(H,p))&&(P.exports=t)},32998:function(P,H,h){var p,t;p=[h(3731)],void 0!==(t=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.IOS_CANCEL="Cancel",e.Msg.IOS_ERROR="Error",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",e.Msg.IOS_PROCEDURES_INPUTS="INPUTS",e.Msg.IOS_VARIABLES_ADD_BUTTON="Add",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",e.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",e.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg}.apply(H,p))&&(P.exports=t)},26692:P=>{!function(){"use strict";P.exports=function(h){return(h instanceof Buffer?h:Buffer.from(h.toString(),"binary")).toString("base64")}}()},4640:(P,H,h)=>{"use strict";var v=h(4320),p=h(23330),t=p(v("String.prototype.indexOf"));P.exports=function(n,o){var u=v(n,!!o);return"function"==typeof u&&t(n,".prototype.")>-1?p(u):u}},23330:(P,H,h)=>{"use strict";var v=h(21113),p=h(4320),t=p("%Function.prototype.apply%"),e=p("%Function.prototype.call%"),n=p("%Reflect.apply%",!0)||v.call(e,t),o=p("%Object.getOwnPropertyDescriptor%",!0),u=p("%Object.defineProperty%",!0),b=p("%Math.max%");if(u)try{u({},"a",{value:1})}catch(R){u=null}P.exports=function(N){var W=n(v,e,arguments);if(o&&u){var Z=o(W,"length");Z.configurable&&u(W,"length",{value:1+b(0,N.length-(arguments.length-1))})}return W};var w=function(){return n(v,t,arguments)};u?u(P.exports,"apply",{value:w}):P.exports.apply=w},76216:(P,H)=>{"use strict";H.parse=function(u,b){if("string"!=typeof u)throw new TypeError("argument str must be a string");for(var w={},R=b||{},N=u.split(p),W=R.decode||h,Z=0;Z<N.length;Z++){var K=N[Z],ae=K.indexOf("=");if(!(ae<0)){var xe=K.substr(0,ae).trim(),fe=K.substr(++ae,K.length).trim();'"'==fe[0]&&(fe=fe.slice(1,-1)),null==w[xe]&&(w[xe]=o(fe,W))}}return w},H.serialize=function(u,b,w){var R=w||{},N=R.encode||v;if("function"!=typeof N)throw new TypeError("option encode is invalid");if(!t.test(u))throw new TypeError("argument name is invalid");var W=N(b);if(W&&!t.test(W))throw new TypeError("argument val is invalid");var Z=u+"="+W;if(null!=R.maxAge){var K=R.maxAge-0;if(isNaN(K)||!isFinite(K))throw new TypeError("option maxAge is invalid");Z+="; Max-Age="+Math.floor(K)}if(R.domain){if(!t.test(R.domain))throw new TypeError("option domain is invalid");Z+="; Domain="+R.domain}if(R.path){if(!t.test(R.path))throw new TypeError("option path is invalid");Z+="; Path="+R.path}if(R.expires){if("function"!=typeof R.expires.toUTCString)throw new TypeError("option expires is invalid");Z+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(Z+="; HttpOnly"),R.secure&&(Z+="; Secure"),R.sameSite)switch("string"==typeof R.sameSite?R.sameSite.toLowerCase():R.sameSite){case!0:Z+="; SameSite=Strict";break;case"lax":Z+="; SameSite=Lax";break;case"strict":Z+="; SameSite=Strict";break;case"none":Z+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return Z};var h=decodeURIComponent,v=encodeURIComponent,p=/; */,t=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(u,b){try{return b(u)}catch(w){return u}}},82344:(P,H,h)=>{h(21514),h(72190);var v=h(52457);P.exports=v.Array.from},12557:(P,H,h)=>{h(99025);var v=h(52457);P.exports=v.Array.isArray},87119:(P,H,h)=>{h(30933);var v=h(6747);P.exports=v("Array").concat},87183:(P,H,h)=>{h(23483),h(79445);var v=h(6747);P.exports=v("Array").entries},94154:(P,H,h)=>{h(24572);var v=h(6747);P.exports=v("Array").filter},5599:(P,H,h)=>{h(40655);var v=h(6747);P.exports=v("Array").find},65009:(P,H,h)=>{h(91762);var v=h(6747);P.exports=v("Array").forEach},40844:(P,H,h)=>{h(38582);var v=h(6747);P.exports=v("Array").includes},86470:(P,H,h)=>{h(13950);var v=h(6747);P.exports=v("Array").indexOf},57818:(P,H,h)=>{h(78713);var v=h(6747);P.exports=v("Array").map},96918:(P,H,h)=>{h(94775);var v=h(6747);P.exports=v("Array").slice},74727:(P,H,h)=>{h(8195);var v=h(6747);P.exports=v("Array").splice},98088:(P,H,h)=>{h(23483),h(21514);var v=h(50806);P.exports=v},48023:(P,H,h)=>{var v=h(61517),p=h(87119),t=Array.prototype;P.exports=function(e){var n=e.concat;return e===t||v(t,e)&&n===t.concat?p:n}},8425:(P,H,h)=>{var v=h(61517),p=h(94154),t=Array.prototype;P.exports=function(e){var n=e.filter;return e===t||v(t,e)&&n===t.filter?p:n}},61008:(P,H,h)=>{var v=h(61517),p=h(5599),t=Array.prototype;P.exports=function(e){var n=e.find;return e===t||v(t,e)&&n===t.find?p:n}},18583:(P,H,h)=>{var v=h(61517),p=h(40844),t=h(96040),e=Array.prototype,n=String.prototype;P.exports=function(o){var u=o.includes;return o===e||v(e,o)&&u===e.includes?p:"string"==typeof o||o===n||v(n,o)&&u===n.includes?t:u}},84676:(P,H,h)=>{var v=h(61517),p=h(86470),t=Array.prototype;P.exports=function(e){var n=e.indexOf;return e===t||v(t,e)&&n===t.indexOf?p:n}},59032:(P,H,h)=>{var v=h(61517),p=h(57818),t=Array.prototype;P.exports=function(e){var n=e.map;return e===t||v(t,e)&&n===t.map?p:n}},70660:(P,H,h)=>{var v=h(61517),p=h(96918),t=Array.prototype;P.exports=function(e){var n=e.slice;return e===t||v(t,e)&&n===t.slice?p:n}},12256:(P,H,h)=>{var v=h(61517),p=h(74727),t=Array.prototype;P.exports=function(e){var n=e.splice;return e===t||v(t,e)&&n===t.splice?p:n}},14475:(P,H,h)=>{var v=h(61517),p=h(91293),t=String.prototype;P.exports=function(e){var n=e.startsWith;return"string"==typeof e||e===t||v(t,e)&&n===t.startsWith?p:n}},98711:(P,H,h)=>{h(35249);var v=h(52457),p=h(66864);v.JSON||(v.JSON={stringify:JSON.stringify}),P.exports=function(e,n,o){return p(v.JSON.stringify,null,arguments)}},98169:(P,H,h)=>{h(41423);var v=h(52457);P.exports=v.Object.assign},31916:(P,H,h)=>{h(81892);var p=h(52457).Object,t=P.exports=function(n,o){return p.defineProperties(n,o)};p.defineProperties.sham&&(t.sham=!0)},47429:(P,H,h)=>{h(80247);var p=h(52457).Object,t=P.exports=function(n,o,u){return p.defineProperty(n,o,u)};p.defineProperty.sham&&(t.sham=!0)},2487:(P,H,h)=>{h(22700);var v=h(52457);P.exports=v.Object.entries},77626:(P,H,h)=>{h(36342);var p=h(52457).Object,t=P.exports=function(n,o){return p.getOwnPropertyDescriptor(n,o)};p.getOwnPropertyDescriptor.sham&&(t.sham=!0)},81043:(P,H,h)=>{h(4878);var v=h(52457);P.exports=v.Object.getOwnPropertyDescriptors},98838:(P,H,h)=>{h(57479);var v=h(52457);P.exports=v.Object.getOwnPropertySymbols},63977:(P,H,h)=>{h(21165);var v=h(52457);P.exports=v.Object.keys},14099:(P,H,h)=>{h(10153),h(23483),h(79445),h(56143),h(35503),h(54677),h(13013),h(21514);var v=h(52457);P.exports=v.Promise},96040:(P,H,h)=>{h(53030);var v=h(6747);P.exports=v("String").includes},91293:(P,H,h)=>{h(35828);var v=h(6747);P.exports=v("String").startsWith},1816:(P,H,h)=>{h(30933),h(79445),h(57479),h(39334),h(27014),h(57071),h(58666),h(15816),h(14740),h(20950),h(76499),h(94696),h(72105),h(5247),h(53825),h(22529),h(90591),h(2757),h(58956),h(32257);var v=h(52457);P.exports=v.Symbol},64776:(P,H,h)=>{h(23483),h(79445),h(21514),h(15816);var v=h(79182);P.exports=v.f("iterator")},65988:(P,H,h)=>{h(23483),h(79445),h(26054);var v=h(52457);P.exports=v.WeakMap},13770:(P,H,h)=>{var v=h(82422);P.exports=v},66715:(P,H,h)=>{var v=h(30260);P.exports=v},46481:(P,H,h)=>{var v=h(31216);P.exports=v},81788:(P,H,h)=>{var v=h(30376);P.exports=v},38637:(P,H,h)=>{var v=h(88334);P.exports=v},48414:(P,H,h)=>{var v=h(68379);P.exports=v},30595:(P,H,h)=>{var v=h(42905);P.exports=v},83930:(P,H,h)=>{var v=h(31545);P.exports=v},41076:(P,H,h)=>{var v=h(39565);P.exports=v},27109:(P,H,h)=>{var v=h(63122);P.exports=v},35841:(P,H,h)=>{var v=h(76650);P.exports=v},5643:(P,H,h)=>{var v=h(51266);P.exports=v},50606:(P,H,h)=>{var v=h(69265);P.exports=v},98222:(P,H,h)=>{var v=h(64781);h(22977),h(17724),h(79178),h(50162),P.exports=v},16487:(P,H,h)=>{var v=h(56219);h(83066),h(40338),h(23560),h(61546),h(70214),h(96506),h(82356),P.exports=v},9735:(P,H,h)=>{var v=h(78921);P.exports=v},6567:(P,H,h)=>{var v=h(74258),p=h(14563),t=h(98217),e=v.TypeError;P.exports=function(n){if(p(n))return n;throw e(t(n)+" is not a function")}},6767:(P,H,h)=>{var v=h(74258),p=h(2817),t=h(98217),e=v.TypeError;P.exports=function(n){if(p(n))return n;throw e(t(n)+" is not a constructor")}},67553:(P,H,h)=>{var v=h(74258),p=h(14563),t=v.String,e=v.TypeError;P.exports=function(n){if("object"==typeof n||p(n))return n;throw e("Can't set "+t(n)+" as a prototype")}},74159:P=>{P.exports=function(){}},7561:(P,H,h)=>{var v=h(74258),p=h(61517),t=v.TypeError;P.exports=function(e,n){if(p(n,e))return e;throw t("Incorrect invocation")}},49403:(P,H,h)=>{var v=h(74258),p=h(9616),t=v.String,e=v.TypeError;P.exports=function(n){if(p(n))return n;throw e(t(n)+" is not an object")}},39749:(P,H,h)=>{var v=h(77054);P.exports=v(function(){if("function"==typeof ArrayBuffer){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})},45900:(P,H,h)=>{"use strict";var v=h(93949).forEach,t=h(95750)("forEach");P.exports=t?[].forEach:function(n){return v(this,n,arguments.length>1?arguments[1]:void 0)}},75058:(P,H,h)=>{"use strict";var v=h(74258),p=h(94640),t=h(45439),e=h(34972),n=h(99985),o=h(44821),u=h(2817),b=h(25979),w=h(13493),R=h(72442),N=h(50806),W=v.Array;P.exports=function(K){var ae=e(K),xe=u(this),fe=arguments.length,_e=fe>1?arguments[1]:void 0,Oe=void 0!==_e;Oe&&(_e=p(_e,fe>2?arguments[2]:void 0));var ce,q,se,ne,Pe,oe,Be=N(ae),Ee=0;if(!Be||this==W&&o(Be))for(ce=b(ae),q=xe?new this(ce):W(ce);ce>Ee;Ee++)oe=Oe?_e(ae[Ee],Ee):ae[Ee],w(q,Ee,oe);else for(Pe=(ne=R(ae,Be)).next,q=xe?new this:[];!(se=t(Pe,ne)).done;Ee++)oe=Oe?n(ne,_e,[se.value,Ee],!0):se.value,w(q,Ee,oe);return q.length=Ee,q}},8440:(P,H,h)=>{var v=h(73684),p=h(69723),t=h(25979),e=function(n){return function(o,u,b){var W,w=v(o),R=t(w),N=p(b,R);if(n&&u!=u){for(;R>N;)if((W=w[N++])!=W)return!0}else for(;R>N;N++)if((n||N in w)&&w[N]===u)return n||N||0;return!n&&-1}};P.exports={includes:e(!0),indexOf:e(!1)}},93949:(P,H,h)=>{var v=h(94640),p=h(94800),t=h(8317),e=h(34972),n=h(25979),o=h(47137),u=p([].push),b=function(w){var R=1==w,N=2==w,W=3==w,Z=4==w,K=6==w,ae=7==w,xe=5==w||K;return function(fe,_e,Oe,Be){for(var de,te,Ee=e(fe),ce=t(Ee),q=v(_e,Oe),se=n(ce),ne=0,Pe=Be||o,oe=R?Pe(fe,se):N||ae?Pe(fe,0):void 0;se>ne;ne++)if((xe||ne in ce)&&(te=q(de=ce[ne],ne,Ee),w))if(R)oe[ne]=te;else if(te)switch(w){case 3:return!0;case 5:return de;case 6:return ne;case 2:u(oe,de)}else switch(w){case 4:return!1;case 7:u(oe,de)}return K?-1:W||Z?Z:oe}};P.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)}},54647:(P,H,h)=>{var v=h(77054),p=h(35009),t=h(97502),e=p("species");P.exports=function(n){return t>=51||!v(function(){var o=[];return(o.constructor={})[e]=function(){return{foo:1}},1!==o[n](Boolean).foo})}},95750:(P,H,h)=>{"use strict";var v=h(77054);P.exports=function(p,t){var e=[][p];return!!e&&v(function(){e.call(null,t||function(){throw 1},1)})}},58467:(P,H,h)=>{var v=h(74258),p=h(69723),t=h(25979),e=h(13493),n=v.Array,o=Math.max;P.exports=function(u,b,w){for(var R=t(u),N=p(b,R),W=p(void 0===w?R:w,R),Z=n(o(W-N,0)),K=0;N<W;N++,K++)e(Z,K,u[N]);return Z.length=K,Z}},64716:(P,H,h)=>{var v=h(94800);P.exports=v([].slice)},53904:(P,H,h)=>{var v=h(58467),p=Math.floor,t=function(o,u){var b=o.length,w=p(b/2);return b<8?e(o,u):n(o,t(v(o,0,w),u),t(v(o,w),u),u)},e=function(o,u){for(var R,N,b=o.length,w=1;w<b;){for(N=w,R=o[w];N&&u(o[N-1],R)>0;)o[N]=o[--N];N!==w++&&(o[N]=R)}return o},n=function(o,u,b,w){for(var R=u.length,N=b.length,W=0,Z=0;W<R||Z<N;)o[W+Z]=W<R&&Z<N?w(u[W],b[Z])<=0?u[W++]:b[Z++]:W<R?u[W++]:b[Z++];return o};P.exports=t},83758:(P,H,h)=>{var v=h(74258),p=h(62845),t=h(2817),e=h(9616),o=h(35009)("species"),u=v.Array;P.exports=function(b){var w;return p(b)&&(t(w=b.constructor)&&(w===u||p(w.prototype))||e(w)&&null===(w=w[o]))&&(w=void 0),void 0===w?u:w}},47137:(P,H,h)=>{var v=h(83758);P.exports=function(p,t){return new(v(p))(0===t?0:t)}},99985:(P,H,h)=>{var v=h(49403),p=h(26151);P.exports=function(t,e,n,o){try{return o?e(v(n)[0],n[1]):e(n)}catch(u){p(t,"throw",u)}}},85306:(P,H,h)=>{var p=h(35009)("iterator"),t=!1;try{var e=0,n={next:function(){return{done:!!e++}},return:function(){t=!0}};n[p]=function(){return this},Array.from(n,function(){throw 2})}catch(o){}P.exports=function(o,u){if(!u&&!t)return!1;var b=!1;try{var w={};w[p]=function(){return{next:function(){return{done:b=!0}}}},o(w)}catch(R){}return b}},14592:(P,H,h)=>{var v=h(94800),p=v({}.toString),t=v("".slice);P.exports=function(e){return t(p(e),8,-1)}},27870:(P,H,h)=>{var v=h(74258),p=h(68118),t=h(14563),e=h(14592),o=h(35009)("toStringTag"),u=v.Object,b="Arguments"==e(function(){return arguments}());P.exports=p?e:function(R){var N,W,Z;return void 0===R?"Undefined":null===R?"Null":"string"==typeof(W=function(R,N){try{return R[N]}catch(W){}}(N=u(R),o))?W:b?e(N):"Object"==(Z=e(N))&&t(N.callee)?"Arguments":Z}},56510:(P,H,h)=>{var v=h(94800),p=h(58467),t=v("".replace),e=v("".split),n=v([].join),o=String(Error("zxcasd").stack),u=/\n\s*at [^:]*:[^\n]*/,b=u.test(o),w=/@[^\n]*\n/.test(o)&&!/zxcasd/.test(o);P.exports=function(R,N){if("string"!=typeof R)return R;if(b)for(;N--;)R=t(R,u,"");else if(w)return n(p(e(R,"\n"),N),"\n");return R}},82639:(P,H,h)=>{"use strict";var v=h(94800),p=h(32914),t=h(10344).getWeakData,e=h(49403),n=h(9616),o=h(7561),u=h(74266),b=h(93949),w=h(68739),R=h(46053),N=R.set,W=R.getterFor,Z=b.find,K=b.findIndex,ae=v([].splice),xe=0,fe=function(Be){return Be.frozen||(Be.frozen=new _e)},_e=function(){this.entries=[]},Oe=function(Be,Ee){return Z(Be.entries,function(ce){return ce[0]===Ee})};_e.prototype={get:function(Be){var Ee=Oe(this,Be);if(Ee)return Ee[1]},has:function(Be){return!!Oe(this,Be)},set:function(Be,Ee){var ce=Oe(this,Be);ce?ce[1]=Ee:this.entries.push([Be,Ee])},delete:function(Be){var Ee=K(this.entries,function(ce){return ce[0]===Be});return~Ee&&ae(this.entries,Ee,1),!!~Ee}},P.exports={getConstructor:function(Be,Ee,ce,q){var se=Be(function(de,te){o(de,ne),N(de,{type:Ee,id:xe++,frozen:void 0}),null!=te&&u(te,de[q],{that:de,AS_ENTRIES:ce})}),ne=se.prototype,Pe=W(Ee),oe=function(de,te,ie){var Ge=Pe(de),ve=t(e(te),!0);return!0===ve?fe(Ge).set(te,ie):ve[Ge.id]=ie,de};return p(ne,{delete:function(de){var te=Pe(this);if(!n(de))return!1;var ie=t(de);return!0===ie?fe(te).delete(de):ie&&w(ie,te.id)&&delete ie[te.id]},has:function(te){var ie=Pe(this);if(!n(te))return!1;var Ge=t(te);return!0===Ge?fe(ie).has(te):Ge&&w(Ge,ie.id)}}),p(ne,ce?{get:function(te){var ie=Pe(this);if(n(te)){var Ge=t(te);return!0===Ge?fe(ie).get(te):Ge?Ge[ie.id]:void 0}},set:function(te,ie){return oe(this,te,ie)}}:{add:function(te){return oe(this,te,!0)}}),se}}},53303:(P,H,h)=>{"use strict";var v=h(5327),p=h(74258),t=h(10344),e=h(77054),n=h(94119),o=h(74266),u=h(7561),b=h(14563),w=h(9616),R=h(8144),N=h(35270).f,W=h(93949).forEach,Z=h(46876),K=h(46053),ae=K.set,xe=K.getterFor;P.exports=function(fe,_e,Oe){var Pe,Be=-1!==fe.indexOf("Map"),Ee=-1!==fe.indexOf("Weak"),ce=Be?"set":"add",q=p[fe],se=q&&q.prototype,ne={};if(Z&&b(q)&&(Ee||se.forEach&&!e(function(){(new q).entries().next()}))){var oe=(Pe=_e(function(te,ie){ae(u(te,oe),{type:fe,collection:new q}),null!=ie&&o(ie,te[ce],{that:te,AS_ENTRIES:Be})})).prototype,de=xe(fe);W(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(te){var ie="add"==te||"set"==te;te in se&&(!Ee||"clear"!=te)&&n(oe,te,function(Ge,ve){var He=de(this).collection;if(!ie&&Ee&&!w(Ge))return"get"==te&&void 0;var ct=He[te](0===Ge?0:Ge,ve);return ie?this:ct})}),Ee||N(oe,"size",{configurable:!0,get:function(){return de(this).collection.size}})}else Pe=Oe.getConstructor(_e,fe,Be,ce),t.enable();return R(Pe,fe,!1,!0),ne[fe]=Pe,v({global:!0,forced:!0},ne),Ee||Oe.setStrong(Pe,fe,Be),Pe}},53663:(P,H,h)=>{var v=h(68739),p=h(51566),t=h(11841),e=h(35270);P.exports=function(n,o){for(var u=p(o),b=e.f,w=t.f,R=0;R<u.length;R++){var N=u[R];v(n,N)||b(n,N,w(o,N))}}},56850:(P,H,h)=>{var p=h(35009)("match");P.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[p]=!1,"/./"[t](e)}catch(o){}}return!1}},63413:(P,H,h)=>{var v=h(77054);P.exports=!v(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},94577:(P,H,h)=>{"use strict";var v=h(93489).IteratorPrototype,p=h(66112),t=h(25677),e=h(8144),n=h(76539),o=function(){return this};P.exports=function(u,b,w,R){var N=b+" Iterator";return u.prototype=p(v,{next:t(+!R,w)}),e(u,N,!1,!0),n[N]=o,u}},94119:(P,H,h)=>{var v=h(46876),p=h(35270),t=h(25677);P.exports=v?function(e,n,o){return p.f(e,n,t(1,o))}:function(e,n,o){return e[n]=o,e}},25677:P=>{P.exports=function(H,h){return{enumerable:!(1&H),configurable:!(2&H),writable:!(4&H),value:h}}},13493:(P,H,h)=>{"use strict";var v=h(84061),p=h(35270),t=h(25677);P.exports=function(e,n,o){var u=v(n);u in e?p.f(e,u,t(0,o)):e[u]=o}},63957:(P,H,h)=>{"use strict";var v=h(5327),p=h(45439),t=h(31818),e=h(42515),n=h(14563),o=h(94577),u=h(58826),b=h(3358),w=h(8144),R=h(94119),N=h(73294),W=h(35009),Z=h(76539),K=h(93489),ae=e.PROPER,xe=e.CONFIGURABLE,fe=K.IteratorPrototype,_e=K.BUGGY_SAFARI_ITERATORS,Oe=W("iterator"),Ee="values",ce="entries",q=function(){return this};P.exports=function(se,ne,Pe,oe,de,te,ie){o(Pe,ne,oe);var Ht,Kt,vi,Ge=function(qt){if(qt===de&&ht)return ht;if(!_e&&qt in ct)return ct[qt];switch(qt){case"keys":case Ee:case ce:return function(){return new Pe(this,qt)}}return function(){return new Pe(this)}},ve=ne+" Iterator",He=!1,ct=se.prototype,Yt=ct[Oe]||ct["@@iterator"]||de&&ct[de],ht=!_e&&Yt||Ge(de),Bt="Array"==ne&&ct.entries||Yt;if(Bt&&(Ht=u(Bt.call(new se)))!==Object.prototype&&Ht.next&&(!t&&u(Ht)!==fe&&(b?b(Ht,fe):n(Ht[Oe])||N(Ht,Oe,q)),w(Ht,ve,!0,!0),t&&(Z[ve]=q)),ae&&de==Ee&&Yt&&Yt.name!==Ee&&(!t&&xe?R(ct,"name",Ee):(He=!0,ht=function(){return p(Yt,this)})),de)if(Kt={values:Ge(Ee),keys:te?ht:Ge("keys"),entries:Ge(ce)},ie)for(vi in Kt)(_e||He||!(vi in ct))&&N(ct,vi,Kt[vi]);else v({target:ne,proto:!0,forced:_e||He},Kt);return(!t||ie)&&ct[Oe]!==ht&&N(ct,Oe,ht,{name:de}),Z[ne]=ht,Kt}},90898:(P,H,h)=>{var v=h(52457),p=h(68739),t=h(79182),e=h(35270).f;P.exports=function(n){var o=v.Symbol||(v.Symbol={});p(o,n)||e(o,n,{value:t.f(n)})}},46876:(P,H,h)=>{var v=h(77054);P.exports=!v(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},2152:(P,H,h)=>{var v=h(74258),p=h(9616),t=v.document,e=p(t)&&p(t.createElement);P.exports=function(n){return e?t.createElement(n):{}}},6379:P=>{P.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},15418:P=>{P.exports="object"==typeof window},4489:(P,H,h)=>{var v=h(80537),p=h(74258);P.exports=/ipad|iphone|ipod/i.test(v)&&void 0!==p.Pebble},78561:(P,H,h)=>{var v=h(80537);P.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(v)},1593:(P,H,h)=>{var v=h(14592),p=h(74258);P.exports="process"==v(p.process)},43522:(P,H,h)=>{var v=h(80537);P.exports=/web0s(?!.*chrome)/i.test(v)},80537:(P,H,h)=>{var v=h(26444);P.exports=v("navigator","userAgent")||""},97502:(P,H,h)=>{var u,b,v=h(74258),p=h(80537),t=v.process,e=v.Deno,n=t&&t.versions||e&&e.version,o=n&&n.v8;o&&(b=(u=o.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!b&&p&&(!(u=p.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=p.match(/Chrome\/(\d+)/))&&(b=+u[1]),P.exports=b},6747:(P,H,h)=>{var v=h(52457);P.exports=function(p){return v[p+"Prototype"]}},59595:P=>{P.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},39581:(P,H,h)=>{var v=h(77054),p=h(25677);P.exports=!v(function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",p(1,7)),7!==t.stack)})},5327:(P,H,h)=>{"use strict";var v=h(74258),p=h(66864),t=h(94800),e=h(14563),n=h(11841).f,o=h(74088),u=h(52457),b=h(94640),w=h(94119),R=h(68739),N=function(W){var Z=function(K,ae,xe){if(this instanceof Z){switch(arguments.length){case 0:return new W;case 1:return new W(K);case 2:return new W(K,ae)}return new W(K,ae,xe)}return p(W,this,arguments)};return Z.prototype=W.prototype,Z};P.exports=function(W,Z){var ce,q,se,ne,Pe,oe,de,te,K=W.target,ae=W.global,xe=W.stat,fe=W.proto,_e=ae?v:xe?v[K]:(v[K]||{}).prototype,Oe=ae?u:u[K]||w(u,K,{})[K],Be=Oe.prototype;for(se in Z)ce=!o(ae?se:K+(xe?".":"#")+se,W.forced)&&_e&&R(_e,se),Pe=Oe[se],ce&&(oe=W.noTargetGet?(te=n(_e,se))&&te.value:_e[se]),ne=ce&&oe?oe:Z[se],(!ce||typeof Pe!=typeof ne)&&(de=W.bind&&ce?b(ne,v):W.wrap&&ce?N(ne):fe&&e(ne)?t(ne):ne,(W.sham||ne&&ne.sham||Pe&&Pe.sham)&&w(de,"sham",!0),w(Oe,se,de),fe&&(R(u,q=K+"Prototype")||w(u,q,{}),w(u[q],se,ne),W.real&&Be&&!Be[se]&&w(Be,se,ne)))}},77054:P=>{P.exports=function(H){try{return!!H()}catch(h){return!0}}},7545:(P,H,h)=>{var v=h(77054);P.exports=!v(function(){return Object.isExtensible(Object.preventExtensions({}))})},66864:P=>{var H=Function.prototype,h=H.apply,p=H.call;P.exports="object"==typeof Reflect&&Reflect.apply||(H.bind?p.bind(h):function(){return p.apply(h,arguments)})},94640:(P,H,h)=>{var v=h(94800),p=h(6567),t=v(v.bind);P.exports=function(e,n){return p(e),void 0===n?e:t?t(e,n):function(){return e.apply(n,arguments)}}},45439:P=>{var H=Function.prototype.call;P.exports=H.bind?H.bind(H):function(){return H.apply(H,arguments)}},42515:(P,H,h)=>{var v=h(46876),p=h(68739),t=Function.prototype,e=v&&Object.getOwnPropertyDescriptor,n=p(t,"name"),o=n&&"something"===function(){}.name,u=n&&(!v||v&&e(t,"name").configurable);P.exports={EXISTS:n,PROPER:o,CONFIGURABLE:u}},94800:P=>{var H=Function.prototype,h=H.bind,v=H.call,p=h&&h.bind(v);P.exports=h?function(t){return t&&p(v,t)}:function(t){return t&&function(){return v.apply(t,arguments)}}},26444:(P,H,h)=>{var v=h(52457),p=h(74258),t=h(14563),e=function(n){return t(n)?n:void 0};P.exports=function(n,o){return arguments.length<2?e(v[n])||e(p[n]):v[n]&&v[n][o]||p[n]&&p[n][o]}},50806:(P,H,h)=>{var v=h(27870),p=h(78504),t=h(76539),n=h(35009)("iterator");P.exports=function(o){if(null!=o)return p(o,n)||p(o,"@@iterator")||t[v(o)]}},72442:(P,H,h)=>{var v=h(74258),p=h(45439),t=h(6567),e=h(49403),n=h(98217),o=h(50806),u=v.TypeError;P.exports=function(b,w){var R=arguments.length<2?o(b):w;if(t(R))return e(p(R,b));throw u(n(b)+" is not iterable")}},78504:(P,H,h)=>{var v=h(6567);P.exports=function(p,t){var e=p[t];return null==e?void 0:v(e)}},74258:P=>{var H=function(h){return h&&h.Math==Math&&h};P.exports=H("object"==typeof globalThis&&globalThis)||H("object"==typeof window&&window)||H("object"==typeof self&&self)||H("object"==typeof global&&global)||function(){return this}()||Function("return this")()},68739:(P,H,h)=>{var v=h(94800),p=h(34972),t=v({}.hasOwnProperty);P.exports=Object.hasOwn||function(n,o){return t(p(n),o)}},41933:P=>{P.exports={}},47157:(P,H,h)=>{var v=h(74258);P.exports=function(p,t){var e=v.console;e&&e.error&&(1==arguments.length?e.error(p):e.error(p,t))}},70364:(P,H,h)=>{var v=h(26444);P.exports=v("document","documentElement")},58310:(P,H,h)=>{var v=h(46876),p=h(77054),t=h(2152);P.exports=!v&&!p(function(){return 7!=Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a})},8317:(P,H,h)=>{var v=h(74258),p=h(94800),t=h(77054),e=h(14592),n=v.Object,o=p("".split);P.exports=t(function(){return!n("z").propertyIsEnumerable(0)})?function(u){return"String"==e(u)?o(u,""):n(u)}:n},19656:(P,H,h)=>{var v=h(94800),p=h(14563),t=h(6671),e=v(Function.toString);p(t.inspectSource)||(t.inspectSource=function(n){return e(n)}),P.exports=t.inspectSource},44187:(P,H,h)=>{var v=h(9616),p=h(94119);P.exports=function(t,e){v(e)&&"cause"in e&&p(t,"cause",e.cause)}},10344:(P,H,h)=>{var v=h(5327),p=h(94800),t=h(41933),e=h(9616),n=h(68739),o=h(35270).f,u=h(36336),b=h(25278),w=h(15774),R=h(48110),N=h(7545),W=!1,Z=R("meta"),K=0,ae=function(Ee){o(Ee,Z,{value:{objectID:"O"+K++,weakData:{}}})},Be=P.exports={enable:function(){Be.enable=function(){},W=!0;var Ee=u.f,ce=p([].splice),q={};q[Z]=1,Ee(q).length&&(u.f=function(se){for(var ne=Ee(se),Pe=0,oe=ne.length;Pe<oe;Pe++)if(ne[Pe]===Z){ce(ne,Pe,1);break}return ne},v({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:b.f}))},fastKey:function(Ee,ce){if(!e(Ee))return"symbol"==typeof Ee?Ee:("string"==typeof Ee?"S":"P")+Ee;if(!n(Ee,Z)){if(!w(Ee))return"F";if(!ce)return"E";ae(Ee)}return Ee[Z].objectID},getWeakData:function(Ee,ce){if(!n(Ee,Z)){if(!w(Ee))return!0;if(!ce)return!1;ae(Ee)}return Ee[Z].weakData},onFreeze:function(Ee){return N&&W&&w(Ee)&&!n(Ee,Z)&&ae(Ee),Ee}};t[Z]=!0},46053:(P,H,h)=>{var Z,K,ae,v=h(66654),p=h(74258),t=h(94800),e=h(9616),n=h(94119),o=h(68739),u=h(6671),b=h(82062),w=h(41933),R="Object already initialized",N=p.TypeError;if(v||u.state){var _e=u.state||(u.state=new(0,p.WeakMap)),Oe=t(_e.get),Be=t(_e.has),Ee=t(_e.set);Z=function(q,se){if(Be(_e,q))throw new N(R);return se.facade=q,Ee(_e,q,se),se},K=function(q){return Oe(_e,q)||{}},ae=function(q){return Be(_e,q)}}else{var ce=b("state");w[ce]=!0,Z=function(q,se){if(o(q,ce))throw new N(R);return se.facade=q,n(q,ce,se),se},K=function(q){return o(q,ce)?q[ce]:{}},ae=function(q){return o(q,ce)}}P.exports={set:Z,get:K,has:ae,enforce:function(q){return ae(q)?K(q):Z(q,{})},getterFor:function(q){return function(se){var ne;if(!e(se)||(ne=K(se)).type!==q)throw N("Incompatible receiver, "+q+" required");return ne}}}},44821:(P,H,h)=>{var v=h(35009),p=h(76539),t=v("iterator"),e=Array.prototype;P.exports=function(n){return void 0!==n&&(p.Array===n||e[t]===n)}},62845:(P,H,h)=>{var v=h(14592);P.exports=Array.isArray||function(t){return"Array"==v(t)}},14563:P=>{P.exports=function(H){return"function"==typeof H}},2817:(P,H,h)=>{var v=h(94800),p=h(77054),t=h(14563),e=h(27870),n=h(26444),o=h(19656),u=function(){},b=[],w=n("Reflect","construct"),R=/^\s*(?:class|function)\b/,N=v(R.exec),W=!R.exec(u),Z=function(ae){if(!t(ae))return!1;try{return w(u,b,ae),!0}catch(xe){return!1}};P.exports=!w||p(function(){var ae;return Z(Z.call)||!Z(Object)||!Z(function(){ae=!0})||ae})?function(ae){if(!t(ae))return!1;switch(e(ae)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return W||!!N(R,o(ae))}:Z},74088:(P,H,h)=>{var v=h(77054),p=h(14563),t=/#|\.prototype\./,e=function(w,R){var N=o[n(w)];return N==b||N!=u&&(p(R)?v(R):!!R)},n=e.normalize=function(w){return String(w).replace(t,".").toLowerCase()},o=e.data={},u=e.NATIVE="N",b=e.POLYFILL="P";P.exports=e},9616:(P,H,h)=>{var v=h(14563);P.exports=function(p){return"object"==typeof p?null!==p:v(p)}},31818:P=>{P.exports=!0},7191:(P,H,h)=>{var v=h(9616),p=h(14592),e=h(35009)("match");P.exports=function(n){var o;return v(n)&&(void 0!==(o=n[e])?!!o:"RegExp"==p(n))}},7683:(P,H,h)=>{var v=h(74258),p=h(26444),t=h(14563),e=h(61517),n=h(8696),o=v.Object;P.exports=n?function(u){return"symbol"==typeof u}:function(u){var b=p("Symbol");return t(b)&&e(b.prototype,o(u))}},74266:(P,H,h)=>{var v=h(74258),p=h(94640),t=h(45439),e=h(49403),n=h(98217),o=h(44821),u=h(25979),b=h(61517),w=h(72442),R=h(50806),N=h(26151),W=v.TypeError,Z=function(ae,xe){this.stopped=ae,this.result=xe},K=Z.prototype;P.exports=function(ae,xe,fe){var q,se,ne,Pe,oe,de,te,Oe=!(!fe||!fe.AS_ENTRIES),Be=!(!fe||!fe.IS_ITERATOR),Ee=!(!fe||!fe.INTERRUPTED),ce=p(xe,fe&&fe.that),ie=function(ve){return q&&N(q,"normal",ve),new Z(!0,ve)},Ge=function(ve){return Oe?(e(ve),Ee?ce(ve[0],ve[1],ie):ce(ve[0],ve[1])):Ee?ce(ve,ie):ce(ve)};if(Be)q=ae;else{if(!(se=R(ae)))throw W(n(ae)+" is not iterable");if(o(se)){for(ne=0,Pe=u(ae);Pe>ne;ne++)if((oe=Ge(ae[ne]))&&b(K,oe))return oe;return new Z(!1)}q=w(ae,se)}for(de=q.next;!(te=t(de,q)).done;){try{oe=Ge(te.value)}catch(ve){N(q,"throw",ve)}if("object"==typeof oe&&oe&&b(K,oe))return oe}return new Z(!1)}},26151:(P,H,h)=>{var v=h(45439),p=h(49403),t=h(78504);P.exports=function(e,n,o){var u,b;p(e);try{if(!(u=t(e,"return"))){if("throw"===n)throw o;return o}u=v(u,e)}catch(w){b=!0,u=w}if("throw"===n)throw o;if(b)throw u;return p(u),o}},93489:(P,H,h)=>{"use strict";var R,N,W,v=h(77054),p=h(14563),t=h(66112),e=h(58826),n=h(73294),o=h(35009),u=h(31818),b=o("iterator"),w=!1;[].keys&&("next"in(W=[].keys())?(N=e(e(W)))!==Object.prototype&&(R=N):w=!0),null==R||v(function(){var K={};return R[b].call(K)!==K})?R={}:u&&(R=t(R)),p(R[b])||n(R,b,function(){return this}),P.exports={IteratorPrototype:R,BUGGY_SAFARI_ITERATORS:w}},76539:P=>{P.exports={}},25979:(P,H,h)=>{var v=h(26965);P.exports=function(p){return v(p.length)}},17547:(P,H,h)=>{var ae,xe,fe,_e,Oe,Be,Ee,ce,v=h(74258),p=h(94640),t=h(11841).f,e=h(88530).set,n=h(78561),o=h(4489),u=h(43522),b=h(1593),w=v.MutationObserver||v.WebKitMutationObserver,R=v.document,N=v.process,W=v.Promise,Z=t(v,"queueMicrotask"),K=Z&&Z.value;K||(ae=function(){var q,se;for(b&&(q=N.domain)&&q.exit();xe;){se=xe.fn,xe=xe.next;try{se()}catch(ne){throw xe?_e():fe=void 0,ne}}fe=void 0,q&&q.enter()},n||b||u||!w||!R?!o&&W&&W.resolve?((Ee=W.resolve(void 0)).constructor=W,ce=p(Ee.then,Ee),_e=function(){ce(ae)}):b?_e=function(){N.nextTick(ae)}:(e=p(e,v),_e=function(){e(ae)}):(Oe=!0,Be=R.createTextNode(""),new w(ae).observe(Be,{characterData:!0}),_e=function(){Be.data=Oe=!Oe})),P.exports=K||function(q){var se={fn:q,next:void 0};fe&&(fe.next=se),xe||(xe=se,_e()),fe=se}},64505:(P,H,h)=>{var v=h(74258);P.exports=v.Promise},98615:(P,H,h)=>{var v=h(97502),p=h(77054);P.exports=!!Object.getOwnPropertySymbols&&!p(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&v&&v<41})},30251:(P,H,h)=>{var v=h(77054),p=h(35009),t=h(31818),e=p("iterator");P.exports=!v(function(){var n=new URL("b?a=1&b=2&c=3","http://a"),o=n.searchParams,u="";return n.pathname="c%20d",o.forEach(function(b,w){o.delete("b"),u+=w+b}),t&&!n.toJSON||!o.sort||"http://a/c%20d?a=1&c=3"!==n.href||"3"!==o.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!o[e]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==u||"x"!==new URL("http://x",void 0).host})},66654:(P,H,h)=>{var v=h(74258),p=h(14563),t=h(19656),e=v.WeakMap;P.exports=p(e)&&/native code/.test(t(e))},51189:(P,H,h)=>{"use strict";var v=h(6567),p=function(t){var e,n;this.promise=new t(function(o,u){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=o,n=u}),this.resolve=v(e),this.reject=v(n)};P.exports.f=function(t){return new p(t)}},83330:(P,H,h)=>{var v=h(16096);P.exports=function(p,t){return void 0===p?arguments.length<2?"":t:v(p)}},38743:(P,H,h)=>{var v=h(74258),p=h(7191),t=v.TypeError;P.exports=function(e){if(p(e))throw t("The method doesn't accept regular expressions");return e}},67271:(P,H,h)=>{"use strict";var v=h(46876),p=h(94800),t=h(45439),e=h(77054),n=h(39698),o=h(72584),u=h(32018),b=h(34972),w=h(8317),R=Object.assign,N=Object.defineProperty,W=p([].concat);P.exports=!R||e(function(){if(v&&1!==R({b:1},R(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var Z={},K={},ae=Symbol(),xe="abcdefghijklmnopqrst";return Z[ae]=7,xe.split("").forEach(function(fe){K[fe]=fe}),7!=R({},Z)[ae]||n(R({},K)).join("")!=xe})?function(K,ae){for(var xe=b(K),fe=arguments.length,_e=1,Oe=o.f,Be=u.f;fe>_e;)for(var ne,Ee=w(arguments[_e++]),ce=Oe?W(n(Ee),Oe(Ee)):n(Ee),q=ce.length,se=0;q>se;)ne=ce[se++],(!v||t(Be,Ee,ne))&&(xe[ne]=Ee[ne]);return xe}:R},66112:(P,H,h)=>{var fe,v=h(49403),p=h(47398),t=h(59595),e=h(41933),n=h(70364),o=h(2152),u=h(82062),R="prototype",N="script",W=u("IE_PROTO"),Z=function(){},K=function(Oe){return"<"+N+">"+Oe+"</"+N+">"},ae=function(Oe){Oe.write(K("")),Oe.close();var Be=Oe.parentWindow.Object;return Oe=null,Be},_e=function(){try{fe=new ActiveXObject("htmlfile")}catch(Be){}_e="undefined"!=typeof document?document.domain&&fe?ae(fe):function(){var Ee,Oe=o("iframe");return Oe.style.display="none",n.appendChild(Oe),Oe.src=String("javascript:"),(Ee=Oe.contentWindow.document).open(),Ee.write(K("document.F=Object")),Ee.close(),Ee.F}():ae(fe);for(var Oe=t.length;Oe--;)delete _e[R][t[Oe]];return _e()};e[W]=!0,P.exports=Object.create||function(Be,Ee){var ce;return null!==Be?(Z[R]=v(Be),ce=new Z,Z[R]=null,ce[W]=Be):ce=_e(),void 0===Ee?ce:p(ce,Ee)}},47398:(P,H,h)=>{var v=h(46876),p=h(35270),t=h(49403),e=h(73684),n=h(39698);P.exports=v?Object.defineProperties:function(u,b){t(u);for(var Z,w=e(b),R=n(b),N=R.length,W=0;N>W;)p.f(u,Z=R[W++],w[Z]);return u}},35270:(P,H,h)=>{var v=h(74258),p=h(46876),t=h(58310),e=h(49403),n=h(84061),o=v.TypeError,u=Object.defineProperty;H.f=p?u:function(w,R,N){if(e(w),R=n(R),e(N),t)try{return u(w,R,N)}catch(W){}if("get"in N||"set"in N)throw o("Accessors not supported");return"value"in N&&(w[R]=N.value),w}},11841:(P,H,h)=>{var v=h(46876),p=h(45439),t=h(32018),e=h(25677),n=h(73684),o=h(84061),u=h(68739),b=h(58310),w=Object.getOwnPropertyDescriptor;H.f=v?w:function(N,W){if(N=n(N),W=o(W),b)try{return w(N,W)}catch(Z){}if(u(N,W))return e(!p(t.f,N,W),N[W])}},25278:(P,H,h)=>{var v=h(14592),p=h(73684),t=h(36336).f,e=h(58467),n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];P.exports.f=function(b){return n&&"Window"==v(b)?function(u){try{return t(u)}catch(b){return e(n)}}(b):t(p(b))}},36336:(P,H,h)=>{var v=h(27603),t=h(59595).concat("length","prototype");H.f=Object.getOwnPropertyNames||function(n){return v(n,t)}},72584:(P,H)=>{H.f=Object.getOwnPropertySymbols},58826:(P,H,h)=>{var v=h(74258),p=h(68739),t=h(14563),e=h(34972),n=h(82062),o=h(63413),u=n("IE_PROTO"),b=v.Object,w=b.prototype;P.exports=o?b.getPrototypeOf:function(R){var N=e(R);if(p(N,u))return N[u];var W=N.constructor;return t(W)&&N instanceof W?W.prototype:N instanceof b?w:null}},15774:(P,H,h)=>{var v=h(77054),p=h(9616),t=h(14592),e=h(39749),n=Object.isExtensible,o=v(function(){n(1)});P.exports=o||e?function(b){return!(!p(b)||e&&"ArrayBuffer"==t(b))&&(!n||n(b))}:n},61517:(P,H,h)=>{var v=h(94800);P.exports=v({}.isPrototypeOf)},27603:(P,H,h)=>{var v=h(94800),p=h(68739),t=h(73684),e=h(8440).indexOf,n=h(41933),o=v([].push);P.exports=function(u,b){var W,w=t(u),R=0,N=[];for(W in w)!p(n,W)&&p(w,W)&&o(N,W);for(;b.length>R;)p(w,W=b[R++])&&(~e(N,W)||o(N,W));return N}},39698:(P,H,h)=>{var v=h(27603),p=h(59595);P.exports=Object.keys||function(e){return v(e,p)}},32018:(P,H)=>{"use strict";var h={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,p=v&&!h.call({1:2},1);H.f=p?function(e){var n=v(this,e);return!!n&&n.enumerable}:h},3358:(P,H,h)=>{var v=h(94800),p=h(49403),t=h(67553);P.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,e=!1,n={};try{(o=v(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(u){}return function(b,w){return p(b),t(w),e?o(b,w):b.__proto__=w,b}}():void 0)},22014:(P,H,h)=>{var v=h(46876),p=h(94800),t=h(39698),e=h(73684),o=p(h(32018).f),u=p([].push),b=function(w){return function(R){for(var xe,N=e(R),W=t(N),Z=W.length,K=0,ae=[];Z>K;)xe=W[K++],(!v||o(N,xe))&&u(ae,w?[xe,N[xe]]:N[xe]);return ae}};P.exports={entries:b(!0),values:b(!1)}},42691:(P,H,h)=>{"use strict";var v=h(68118),p=h(27870);P.exports=v?{}.toString:function(){return"[object "+p(this)+"]"}},27704:(P,H,h)=>{var v=h(74258),p=h(45439),t=h(14563),e=h(9616),n=v.TypeError;P.exports=function(o,u){var b,w;if("string"===u&&t(b=o.toString)&&!e(w=p(b,o))||t(b=o.valueOf)&&!e(w=p(b,o))||"string"!==u&&t(b=o.toString)&&!e(w=p(b,o)))return w;throw n("Can't convert object to primitive value")}},51566:(P,H,h)=>{var v=h(26444),p=h(94800),t=h(36336),e=h(72584),n=h(49403),o=p([].concat);P.exports=v("Reflect","ownKeys")||function(b){var w=t.f(n(b)),R=e.f;return R?o(w,R(b)):w}},52457:P=>{P.exports={}},7286:P=>{P.exports=function(H){try{return{error:!1,value:H()}}catch(h){return{error:!0,value:h}}}},47249:(P,H,h)=>{var v=h(49403),p=h(9616),t=h(51189);P.exports=function(e,n){if(v(e),p(n)&&n.constructor===e)return n;var o=t.f(e);return(0,o.resolve)(n),o.promise}},32914:(P,H,h)=>{var v=h(73294);P.exports=function(p,t,e){for(var n in t)e&&e.unsafe&&p[n]?p[n]=t[n]:v(p,n,t[n],e);return p}},73294:(P,H,h)=>{var v=h(94119);P.exports=function(p,t,e,n){n&&n.enumerable?p[t]=e:v(p,t,e)}},45696:(P,H,h)=>{var p=h(74258).TypeError;P.exports=function(t){if(null==t)throw p("Can't call method on "+t);return t}},84360:(P,H,h)=>{var v=h(74258),p=Object.defineProperty;P.exports=function(t,e){try{p(v,t,{value:e,configurable:!0,writable:!0})}catch(n){v[t]=e}return e}},73012:(P,H,h)=>{"use strict";var v=h(26444),p=h(35270),t=h(35009),e=h(46876),n=t("species");P.exports=function(o){var u=v(o);e&&u&&!u[n]&&(0,p.f)(u,n,{configurable:!0,get:function(){return this}})}},8144:(P,H,h)=>{var v=h(68118),p=h(35270).f,t=h(94119),e=h(68739),n=h(42691),u=h(35009)("toStringTag");P.exports=function(b,w,R,N){if(b){var W=R?b:b.prototype;e(W,u)||p(W,u,{configurable:!0,value:w}),N&&!v&&t(W,"toString",n)}}},82062:(P,H,h)=>{var v=h(39302),p=h(48110),t=v("keys");P.exports=function(e){return t[e]||(t[e]=p(e))}},6671:(P,H,h)=>{var v=h(74258),p=h(84360),t="__core-js_shared__",e=v[t]||p(t,{});P.exports=e},39302:(P,H,h)=>{var v=h(31818),p=h(6671);(P.exports=function(t,e){return p[t]||(p[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:v?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},7806:(P,H,h)=>{var v=h(49403),p=h(6767),e=h(35009)("species");P.exports=function(n,o){var b,u=v(n).constructor;return void 0===u||null==(b=v(u)[e])?o:p(b)}},4343:(P,H,h)=>{var v=h(94800),p=h(32938),t=h(16096),e=h(45696),n=v("".charAt),o=v("".charCodeAt),u=v("".slice),b=function(w){return function(R,N){var ae,xe,W=t(e(R)),Z=p(N),K=W.length;return Z<0||Z>=K?w?"":void 0:(ae=o(W,Z))<55296||ae>56319||Z+1===K||(xe=o(W,Z+1))<56320||xe>57343?w?n(W,Z):ae:w?u(W,Z,Z+2):xe-56320+(ae-55296<<10)+65536}};P.exports={codeAt:b(!1),charAt:b(!0)}},88530:(P,H,h)=>{var ce,q,se,ne,v=h(74258),p=h(66864),t=h(94640),e=h(14563),n=h(68739),o=h(77054),u=h(70364),b=h(64716),w=h(2152),R=h(78561),N=h(1593),W=v.setImmediate,Z=v.clearImmediate,K=v.process,ae=v.Dispatch,xe=v.Function,fe=v.MessageChannel,_e=v.String,Oe=0,Be={},Ee="onreadystatechange";try{ce=v.location}catch(ie){}var Pe=function(ie){if(n(Be,ie)){var Ge=Be[ie];delete Be[ie],Ge()}},oe=function(ie){return function(){Pe(ie)}},de=function(ie){Pe(ie.data)},te=function(ie){v.postMessage(_e(ie),ce.protocol+"//"+ce.host)};(!W||!Z)&&(W=function(Ge){var ve=b(arguments,1);return Be[++Oe]=function(){p(e(Ge)?Ge:xe(Ge),void 0,ve)},q(Oe),Oe},Z=function(Ge){delete Be[Ge]},N?q=function(ie){K.nextTick(oe(ie))}:ae&&ae.now?q=function(ie){ae.now(oe(ie))}:fe&&!R?(ne=(se=new fe).port2,se.port1.onmessage=de,q=t(ne.postMessage,ne)):v.addEventListener&&e(v.postMessage)&&!v.importScripts&&ce&&"file:"!==ce.protocol&&!o(te)?(q=te,v.addEventListener("message",de,!1)):q=Ee in w("script")?function(ie){u.appendChild(w("script"))[Ee]=function(){u.removeChild(this),Pe(ie)}}:function(ie){setTimeout(oe(ie),0)}),P.exports={set:W,clear:Z}},69723:(P,H,h)=>{var v=h(32938),p=Math.max,t=Math.min;P.exports=function(e,n){var o=v(e);return o<0?p(o+n,0):t(o,n)}},73684:(P,H,h)=>{var v=h(8317),p=h(45696);P.exports=function(t){return v(p(t))}},32938:P=>{var H=Math.ceil,h=Math.floor;P.exports=function(v){var p=+v;return p!=p||0===p?0:(p>0?h:H)(p)}},26965:(P,H,h)=>{var v=h(32938),p=Math.min;P.exports=function(t){return t>0?p(v(t),9007199254740991):0}},34972:(P,H,h)=>{var v=h(74258),p=h(45696),t=v.Object;P.exports=function(e){return t(p(e))}},57350:(P,H,h)=>{var v=h(74258),p=h(45439),t=h(9616),e=h(7683),n=h(78504),o=h(27704),u=h(35009),b=v.TypeError,w=u("toPrimitive");P.exports=function(R,N){if(!t(R)||e(R))return R;var Z,W=n(R,w);if(W){if(void 0===N&&(N="default"),Z=p(W,R,N),!t(Z)||e(Z))return Z;throw b("Can't convert object to primitive value")}return void 0===N&&(N="number"),o(R,N)}},84061:(P,H,h)=>{var v=h(57350),p=h(7683);P.exports=function(t){var e=v(t,"string");return p(e)?e:e+""}},68118:(P,H,h)=>{var t={};t[h(35009)("toStringTag")]="z",P.exports="[object z]"===String(t)},16096:(P,H,h)=>{var v=h(74258),p=h(27870),t=v.String;P.exports=function(e){if("Symbol"===p(e))throw TypeError("Cannot convert a Symbol value to a string");return t(e)}},98217:(P,H,h)=>{var p=h(74258).String;P.exports=function(t){try{return p(t)}catch(e){return"Object"}}},48110:(P,H,h)=>{var v=h(94800),p=0,t=Math.random(),e=v(1..toString);P.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+e(++p+t,36)}},8696:(P,H,h)=>{var v=h(98615);P.exports=v&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},79182:(P,H,h)=>{var v=h(35009);H.f=v},35009:(P,H,h)=>{var v=h(74258),p=h(39302),t=h(68739),e=h(48110),n=h(98615),o=h(8696),u=p("wks"),b=v.Symbol,w=b&&b.for,R=o?b:b&&b.withoutSetter||e;P.exports=function(N){if(!t(u,N)||!n&&"string"!=typeof u[N]){var W="Symbol."+N;u[N]=n&&t(b,N)?b[N]:o&&w?w(W):R(W)}return u[N]}},10153:(P,H,h)=>{"use strict";var v=h(5327),p=h(74258),t=h(61517),e=h(58826),n=h(3358),o=h(53663),u=h(66112),b=h(94119),w=h(25677),R=h(56510),N=h(44187),W=h(74266),Z=h(83330),K=h(35009),ae=h(39581),xe=K("toStringTag"),fe=p.Error,_e=[].push,Oe=function(ce,q){var Pe,se=arguments.length>2?arguments[2]:void 0,ne=t(Be,this);n?Pe=n(new fe(void 0),ne?e(this):Be):(Pe=ne?this:u(Be),b(Pe,xe,"Error")),b(Pe,"message",Z(q,"")),ae&&b(Pe,"stack",R(Pe.stack,1)),N(Pe,se);var oe=[];return W(ce,_e,{that:oe}),b(Pe,"errors",oe),Pe};n?n(Oe,fe):o(Oe,fe);var Be=Oe.prototype=u(fe.prototype,{constructor:w(1,Oe),message:w(1,""),name:w(1,"AggregateError")});v({global:!0},{AggregateError:Oe})},30933:(P,H,h)=>{"use strict";var v=h(5327),p=h(74258),t=h(77054),e=h(62845),n=h(9616),o=h(34972),u=h(25979),b=h(13493),w=h(47137),R=h(54647),N=h(35009),W=h(97502),Z=N("isConcatSpreadable"),K=9007199254740991,ae="Maximum allowed index exceeded",xe=p.TypeError,fe=W>=51||!t(function(){var Ee=[];return Ee[Z]=!1,Ee.concat()[0]!==Ee}),_e=R("concat"),Oe=function(Ee){if(!n(Ee))return!1;var ce=Ee[Z];return void 0!==ce?!!ce:e(Ee)};v({target:"Array",proto:!0,forced:!fe||!_e},{concat:function(ce){var Pe,oe,de,te,ie,q=o(this),se=w(q,0),ne=0;for(Pe=-1,de=arguments.length;Pe<de;Pe++)if(Oe(ie=-1===Pe?q:arguments[Pe])){if(ne+(te=u(ie))>K)throw xe(ae);for(oe=0;oe<te;oe++,ne++)oe in ie&&b(se,ne,ie[oe])}else{if(ne>=K)throw xe(ae);b(se,ne++,ie)}return se.length=ne,se}})},24572:(P,H,h)=>{"use strict";var v=h(5327),p=h(93949).filter;v({target:"Array",proto:!0,forced:!h(54647)("filter")},{filter:function(o){return p(this,o,arguments.length>1?arguments[1]:void 0)}})},40655:(P,H,h)=>{"use strict";var v=h(5327),p=h(93949).find,t=h(74159),e="find",n=!0;e in[]&&Array(1)[e](function(){n=!1}),v({target:"Array",proto:!0,forced:n},{find:function(u){return p(this,u,arguments.length>1?arguments[1]:void 0)}}),t(e)},91762:(P,H,h)=>{"use strict";var v=h(5327),p=h(45900);v({target:"Array",proto:!0,forced:[].forEach!=p},{forEach:p})},72190:(P,H,h)=>{var v=h(5327),p=h(75058);v({target:"Array",stat:!0,forced:!h(85306)(function(n){Array.from(n)})},{from:p})},38582:(P,H,h)=>{"use strict";var v=h(5327),p=h(8440).includes,t=h(74159);v({target:"Array",proto:!0},{includes:function(n){return p(this,n,arguments.length>1?arguments[1]:void 0)}}),t("includes")},13950:(P,H,h)=>{"use strict";var v=h(5327),p=h(94800),t=h(8440).indexOf,e=h(95750),n=p([].indexOf),o=!!n&&1/n([1],1,-0)<0,u=e("indexOf");v({target:"Array",proto:!0,forced:o||!u},{indexOf:function(w){var R=arguments.length>1?arguments[1]:void 0;return o?n(this,w,R)||0:t(this,w,R)}})},99025:(P,H,h)=>{h(5327)({target:"Array",stat:!0},{isArray:h(62845)})},23483:(P,H,h)=>{"use strict";var v=h(73684),p=h(74159),t=h(76539),e=h(46053),n=h(63957),o="Array Iterator",u=e.set,b=e.getterFor(o);P.exports=n(Array,"Array",function(w,R){u(this,{type:o,target:v(w),index:0,kind:R})},function(){var w=b(this),R=w.target,N=w.kind,W=w.index++;return!R||W>=R.length?(w.target=void 0,{value:void 0,done:!0}):"keys"==N?{value:W,done:!1}:"values"==N?{value:R[W],done:!1}:{value:[W,R[W]],done:!1}},"values"),t.Arguments=t.Array,p("keys"),p("values"),p("entries")},78713:(P,H,h)=>{"use strict";var v=h(5327),p=h(93949).map;v({target:"Array",proto:!0,forced:!h(54647)("map")},{map:function(o){return p(this,o,arguments.length>1?arguments[1]:void 0)}})},94775:(P,H,h)=>{"use strict";var v=h(5327),p=h(74258),t=h(62845),e=h(2817),n=h(9616),o=h(69723),u=h(25979),b=h(73684),w=h(13493),R=h(35009),N=h(54647),W=h(64716),Z=N("slice"),K=R("species"),ae=p.Array,xe=Math.max;v({target:"Array",proto:!0,forced:!Z},{slice:function(_e,Oe){var se,ne,Pe,Be=b(this),Ee=u(Be),ce=o(_e,Ee),q=o(void 0===Oe?Ee:Oe,Ee);if(t(Be)&&((e(se=Be.constructor)&&(se===ae||t(se.prototype))||n(se)&&null===(se=se[K]))&&(se=void 0),se===ae||void 0===se))return W(Be,ce,q);for(ne=new(void 0===se?ae:se)(xe(q-ce,0)),Pe=0;ce<q;ce++,Pe++)ce in Be&&w(ne,Pe,Be[ce]);return ne.length=Pe,ne}})},8195:(P,H,h)=>{"use strict";var v=h(5327),p=h(74258),t=h(69723),e=h(32938),n=h(25979),o=h(34972),u=h(47137),b=h(13493),R=h(54647)("splice"),N=p.TypeError,W=Math.max,Z=Math.min,K=9007199254740991,ae="Maximum allowed length exceeded";v({target:"Array",proto:!0,forced:!R},{splice:function(fe,_e){var q,se,ne,Pe,oe,de,Oe=o(this),Be=n(Oe),Ee=t(fe,Be),ce=arguments.length;if(0===ce?q=se=0:1===ce?(q=0,se=Be-Ee):(q=ce-2,se=Z(W(e(_e),0),Be-Ee)),Be+q-se>K)throw N(ae);for(ne=u(Oe,se),Pe=0;Pe<se;Pe++)(oe=Ee+Pe)in Oe&&b(ne,Pe,Oe[oe]);if(ne.length=se,q<se){for(Pe=Ee;Pe<Be-se;Pe++)de=Pe+q,(oe=Pe+se)in Oe?Oe[de]=Oe[oe]:delete Oe[de];for(Pe=Be;Pe>Be-se+q;Pe--)delete Oe[Pe-1]}else if(q>se)for(Pe=Be-se;Pe>Ee;Pe--)de=Pe+q-1,(oe=Pe+se-1)in Oe?Oe[de]=Oe[oe]:delete Oe[de];for(Pe=0;Pe<q;Pe++)Oe[Pe+Ee]=arguments[Pe+2];return Oe.length=Be-se+q,ne}})},35249:(P,H,h)=>{var v=h(5327),p=h(74258),t=h(26444),e=h(66864),n=h(94800),o=h(77054),u=p.Array,b=t("JSON","stringify"),w=n(/./.exec),R=n("".charAt),N=n("".charCodeAt),W=n("".replace),Z=n(1..toString),K=/[\uD800-\uDFFF]/g,ae=/^[\uD800-\uDBFF]$/,xe=/^[\uDC00-\uDFFF]$/,fe=function(Oe,Be,Ee){var ce=R(Ee,Be-1),q=R(Ee,Be+1);return w(ae,Oe)&&!w(xe,q)||w(xe,Oe)&&!w(ae,ce)?"\\u"+Z(N(Oe,0),16):Oe},_e=o(function(){return'"\\udf06\\ud834"'!==b("\udf06\ud834")||'"\\udead"'!==b("\udead")});b&&v({target:"JSON",stat:!0,forced:_e},{stringify:function(Be,Ee,ce){for(var q=0,se=arguments.length,ne=u(se);q<se;q++)ne[q]=arguments[q];var Pe=e(b,null,ne);return"string"==typeof Pe?W(Pe,K,fe):Pe}})},2757:(P,H,h)=>{var v=h(74258);h(8144)(v.JSON,"JSON",!0)},58956:()=>{},41423:(P,H,h)=>{var v=h(5327),p=h(67271);v({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},81892:(P,H,h)=>{var v=h(5327),p=h(46876);v({target:"Object",stat:!0,forced:!p,sham:!p},{defineProperties:h(47398)})},80247:(P,H,h)=>{var v=h(5327),p=h(46876);v({target:"Object",stat:!0,forced:!p,sham:!p},{defineProperty:h(35270).f})},22700:(P,H,h)=>{var v=h(5327),p=h(22014).entries;v({target:"Object",stat:!0},{entries:function(e){return p(e)}})},36342:(P,H,h)=>{var v=h(5327),p=h(77054),t=h(73684),e=h(11841).f,n=h(46876),o=p(function(){e(1)});v({target:"Object",stat:!0,forced:!n||o,sham:!n},{getOwnPropertyDescriptor:function(w,R){return e(t(w),R)}})},4878:(P,H,h)=>{var v=h(5327),p=h(46876),t=h(51566),e=h(73684),n=h(11841),o=h(13493);v({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(b){for(var K,ae,w=e(b),R=n.f,N=t(w),W={},Z=0;N.length>Z;)void 0!==(ae=R(w,K=N[Z++]))&&o(W,K,ae);return W}})},21165:(P,H,h)=>{var v=h(5327),p=h(34972),t=h(39698);v({target:"Object",stat:!0,forced:h(77054)(function(){t(1)})},{keys:function(u){return t(p(u))}})},79445:()=>{},35503:(P,H,h)=>{"use strict";var v=h(5327),p=h(45439),t=h(6567),e=h(51189),n=h(7286),o=h(74266);v({target:"Promise",stat:!0},{allSettled:function(b){var w=this,R=e.f(w),N=R.resolve,W=R.reject,Z=n(function(){var K=t(w.resolve),ae=[],xe=0,fe=1;o(b,function(_e){var Oe=xe++,Be=!1;fe++,p(K,w,_e).then(function(Ee){Be||(Be=!0,ae[Oe]={status:"fulfilled",value:Ee},--fe||N(ae))},function(Ee){Be||(Be=!0,ae[Oe]={status:"rejected",reason:Ee},--fe||N(ae))})}),--fe||N(ae)});return Z.error&&W(Z.value),R.promise}})},54677:(P,H,h)=>{"use strict";var v=h(5327),p=h(6567),t=h(26444),e=h(45439),n=h(51189),o=h(7286),u=h(74266),b="No one promise resolved";v({target:"Promise",stat:!0},{any:function(R){var N=this,W=t("AggregateError"),Z=n.f(N),K=Z.resolve,ae=Z.reject,xe=o(function(){var fe=p(N.resolve),_e=[],Oe=0,Be=1,Ee=!1;u(R,function(ce){var q=Oe++,se=!1;Be++,e(fe,N,ce).then(function(ne){se||Ee||(Ee=!0,K(ne))},function(ne){se||Ee||(se=!0,_e[q]=ne,--Be||ae(new W(_e,b)))})}),--Be||ae(new W(_e,b))});return xe.error&&ae(xe.value),Z.promise}})},13013:(P,H,h)=>{"use strict";var v=h(5327),p=h(31818),t=h(64505),e=h(77054),n=h(26444),o=h(14563),u=h(7806),b=h(47249),w=h(73294);if(v({target:"Promise",proto:!0,real:!0,forced:!!t&&e(function(){t.prototype.finally.call({then:function(){}},function(){})})},{finally:function(W){var Z=u(this,n("Promise")),K=o(W);return this.then(K?function(ae){return b(Z,W()).then(function(){return ae})}:W,K?function(ae){return b(Z,W()).then(function(){throw ae})}:W)}}),!p&&o(t)){var N=n("Promise").prototype.finally;t.prototype.finally!==N&&w(t.prototype,"finally",N,{unsafe:!0})}},56143:(P,H,h)=>{"use strict";var gt,Ze,rt,ot,v=h(5327),p=h(31818),t=h(74258),e=h(26444),n=h(45439),o=h(64505),u=h(73294),b=h(32914),w=h(3358),R=h(8144),N=h(73012),W=h(6567),Z=h(14563),K=h(9616),ae=h(7561),xe=h(19656),fe=h(74266),_e=h(85306),Oe=h(7806),Be=h(88530).set,Ee=h(17547),ce=h(47249),q=h(47157),se=h(51189),ne=h(7286),Pe=h(46053),oe=h(74088),de=h(35009),te=h(15418),ie=h(1593),Ge=h(97502),ve=de("species"),He="Promise",ct=Pe.getterFor(He),Yt=Pe.set,ht=Pe.getterFor(He),Bt=o&&o.prototype,Ht=o,Kt=Bt,vi=t.TypeError,qt=t.document,Lt=t.process,ri=se.f,Ne=ri,_t=!!(qt&&qt.createEvent&&t.dispatchEvent),Ke=Z(t.PromiseRejectionEvent),Je="unhandledrejection",Ye=!1,be=oe(He,function(){var jt=xe(Ht),oi=jt!==String(Ht);if(!oi&&66===Ge||p&&!Kt.finally)return!0;if(Ge>=51&&/native code/.test(jt))return!1;var ut=new Ht(function(Di){Di(1)}),Wt=function(Di){Di(function(){},function(){})};return(ut.constructor={})[ve]=Wt,!(Ye=ut.then(function(){})instanceof Wt)||!oi&&te&&!Ke}),Ae=be||!_e(function(jt){Ht.all(jt).catch(function(){})}),St=function(jt){var oi;return!(!K(jt)||!Z(oi=jt.then))&&oi},It=function(jt,oi){if(!jt.notified){jt.notified=!0;var ut=jt.reactions;Ee(function(){for(var Wt=jt.value,ei=1==jt.state,Di=0;ut.length>Di;){var et,vt,Ci,Nt=ut[Di++],it=ei?Nt.ok:Nt.fail,Me=Nt.resolve,re=Nt.reject,De=Nt.domain;try{it?(ei||(2===jt.rejection&&Fi(jt),jt.rejection=1),!0===it?et=Wt:(De&&De.enter(),et=it(Wt),De&&(De.exit(),Ci=!0)),et===Nt.promise?re(vi("Promise-chain cycle")):(vt=St(et))?n(vt,et,Me,re):Me(et)):re(Wt)}catch(ki){De&&!Ci&&De.exit(),re(ki)}}jt.reactions=[],jt.notified=!1,oi&&!jt.rejection&&Zt(jt)})}},ci=function(jt,oi,ut){var Wt,ei;_t?((Wt=qt.createEvent("Event")).promise=oi,Wt.reason=ut,Wt.initEvent(jt,!1,!0),t.dispatchEvent(Wt)):Wt={promise:oi,reason:ut},!Ke&&(ei=t["on"+jt])?ei(Wt):jt===Je&&q("Unhandled promise rejection",ut)},Zt=function(jt){n(Be,t,function(){var ei,oi=jt.facade,ut=jt.value;if(li(jt)&&(ei=ne(function(){ie?Lt.emit("unhandledRejection",ut,oi):ci(Je,oi,ut)}),jt.rejection=ie||li(jt)?2:1,ei.error))throw ei.value})},li=function(jt){return 1!==jt.rejection&&!jt.parent},Fi=function(jt){n(Be,t,function(){var oi=jt.facade;ie?Lt.emit("rejectionHandled",oi):ci("rejectionhandled",oi,jt.value)})},ui=function(jt,oi,ut){return function(Wt){jt(oi,Wt,ut)}},Ei=function(jt,oi,ut){jt.done||(jt.done=!0,ut&&(jt=ut),jt.value=oi,jt.state=2,It(jt,!0))},gi=function(jt,oi,ut){if(!jt.done){jt.done=!0,ut&&(jt=ut);try{if(jt.facade===oi)throw vi("Promise can't be resolved itself");var Wt=St(oi);Wt?Ee(function(){var ei={done:!1};try{n(Wt,oi,ui(gi,ei,jt),ui(Ei,ei,jt))}catch(Di){Ei(ei,Di,jt)}}):(jt.value=oi,jt.state=1,It(jt,!1))}catch(ei){Ei({done:!1},ei,jt)}}};if(be&&(Ht=function(oi){ae(this,Kt),W(oi),n(gt,this);var ut=ct(this);try{oi(ui(gi,ut),ui(Ei,ut))}catch(Wt){Ei(ut,Wt)}},(gt=function(oi){Yt(this,{type:He,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(Kt=Ht.prototype,{then:function(oi,ut){var Wt=ht(this),ei=Wt.reactions,Di=ri(Oe(this,Ht));return Di.ok=!Z(oi)||oi,Di.fail=Z(ut)&&ut,Di.domain=ie?Lt.domain:void 0,Wt.parent=!0,ei[ei.length]=Di,0!=Wt.state&&It(Wt,!1),Di.promise},catch:function(jt){return this.then(void 0,jt)}}),Ze=function(){var jt=new gt,oi=ct(jt);this.promise=jt,this.resolve=ui(gi,oi),this.reject=ui(Ei,oi)},se.f=ri=function(jt){return jt===Ht||jt===rt?new Ze(jt):Ne(jt)},!p&&Z(o)&&Bt!==Object.prototype)){ot=Bt.then,Ye||(u(Bt,"then",function(oi,ut){var Wt=this;return new Ht(function(ei,Di){n(ot,Wt,ei,Di)}).then(oi,ut)},{unsafe:!0}),u(Bt,"catch",Kt.catch,{unsafe:!0}));try{delete Bt.constructor}catch(jt){}w&&w(Bt,Kt)}v({global:!0,wrap:!0,forced:be},{Promise:Ht}),R(Ht,He,!1,!0),N(He),rt=e(He),v({target:He,stat:!0,forced:be},{reject:function(oi){var ut=ri(this);return n(ut.reject,void 0,oi),ut.promise}}),v({target:He,stat:!0,forced:p||be},{resolve:function(oi){return ce(p&&this===rt?Ht:this,oi)}}),v({target:He,stat:!0,forced:Ae},{all:function(oi){var ut=this,Wt=ri(ut),ei=Wt.resolve,Di=Wt.reject,Nt=ne(function(){var it=W(ut.resolve),Me=[],re=0,De=1;fe(oi,function(et){var vt=re++,Ci=!1;De++,n(it,ut,et).then(function(ki){Ci||(Ci=!0,Me[vt]=ki,--De||ei(Me))},Di)}),--De||ei(Me)});return Nt.error&&Di(Nt.value),Wt.promise},race:function(oi){var ut=this,Wt=ri(ut),ei=Wt.reject,Di=ne(function(){var Nt=W(ut.resolve);fe(oi,function(it){n(Nt,ut,it).then(Wt.resolve,ei)})});return Di.error&&ei(Di.value),Wt.promise}})},32257:()=>{},53030:(P,H,h)=>{"use strict";var v=h(5327),p=h(94800),t=h(38743),e=h(45696),n=h(16096),o=h(56850),u=p("".indexOf);v({target:"String",proto:!0,forced:!o("includes")},{includes:function(w){return!!~u(n(e(this)),n(t(w)),arguments.length>1?arguments[1]:void 0)}})},21514:(P,H,h)=>{"use strict";var v=h(4343).charAt,p=h(16096),t=h(46053),e=h(63957),n="String Iterator",o=t.set,u=t.getterFor(n);e(String,"String",function(b){o(this,{type:n,string:p(b),index:0})},function(){var W,w=u(this),R=w.string,N=w.index;return N>=R.length?{value:void 0,done:!0}:(W=v(R,N),w.index+=W.length,{value:W,done:!1})})},35828:(P,H,h)=>{"use strict";var ae,v=h(5327),p=h(94800),t=h(11841).f,e=h(26965),n=h(16096),o=h(38743),u=h(45696),b=h(56850),w=h(31818),R=p("".startsWith),N=p("".slice),W=Math.min,Z=b("startsWith");v({target:"String",proto:!0,forced:!(!w&&!Z&&(ae=t(String.prototype,"startsWith"),ae&&!ae.writable)||Z)},{startsWith:function(xe){var fe=n(u(this));o(xe);var _e=e(W(arguments.length>1?arguments[1]:void 0,fe.length)),Oe=n(xe);return R?R(fe,Oe,_e):N(fe,_e,_e+Oe.length)===Oe}})},39334:(P,H,h)=>{h(90898)("asyncIterator")},27014:()=>{},57071:(P,H,h)=>{h(90898)("hasInstance")},58666:(P,H,h)=>{h(90898)("isConcatSpreadable")},15816:(P,H,h)=>{h(90898)("iterator")},57479:(P,H,h)=>{"use strict";var v=h(5327),p=h(74258),t=h(26444),e=h(66864),n=h(45439),o=h(94800),u=h(31818),b=h(46876),w=h(98615),R=h(77054),N=h(68739),W=h(62845),Z=h(14563),K=h(9616),ae=h(61517),xe=h(7683),fe=h(49403),_e=h(34972),Oe=h(73684),Be=h(84061),Ee=h(16096),ce=h(25677),q=h(66112),se=h(39698),ne=h(36336),Pe=h(25278),oe=h(72584),de=h(11841),te=h(35270),ie=h(32018),Ge=h(64716),ve=h(73294),He=h(39302),ct=h(82062),Yt=h(41933),ht=h(48110),Bt=h(35009),Ht=h(79182),Kt=h(90898),vi=h(8144),qt=h(46053),Lt=h(93949).forEach,ri=ct("hidden"),Ne="Symbol",_t="prototype",Ke=Bt("toPrimitive"),Je=qt.set,we=qt.getterFor(Ne),Le=Object[_t],dt=p.Symbol,zt=dt&&dt[_t],lt=p.TypeError,ze=p.QObject,Ye=t("JSON","stringify"),gt=de.f,Ze=te.f,rt=Pe.f,ot=ie.f,be=o([].push),Ae=He("symbols"),St=He("op-symbols"),It=He("string-to-symbol-registry"),ci=He("symbol-to-string-registry"),Zt=He("wks"),li=!ze||!ze[_t]||!ze[_t].findChild,Fi=b&&R(function(){return 7!=q(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a})?function(it,Me,re){var De=gt(Le,Me);De&&delete Le[Me],Ze(it,Me,re),De&&it!==Le&&Ze(Le,Me,De)}:Ze,ui=function(it,Me){var re=Ae[it]=q(zt);return Je(re,{type:Ne,tag:it,description:Me}),b||(re.description=Me),re},Ei=function(Me,re,De){Me===Le&&Ei(St,re,De),fe(Me);var et=Be(re);return fe(De),N(Ae,et)?(De.enumerable?(N(Me,ri)&&Me[ri][et]&&(Me[ri][et]=!1),De=q(De,{enumerable:ce(0,!1)})):(N(Me,ri)||Ze(Me,ri,ce(1,{})),Me[ri][et]=!0),Fi(Me,et,De)):Ze(Me,et,De)},gi=function(Me,re){fe(Me);var De=Oe(re),et=se(De).concat(ei(De));return Lt(et,function(vt){(!b||n(oi,De,vt))&&Ei(Me,vt,De[vt])}),Me},oi=function(Me){var re=Be(Me),De=n(ot,this,re);return!(this===Le&&N(Ae,re)&&!N(St,re))&&(!(De||!N(this,re)||!N(Ae,re)||N(this,ri)&&this[ri][re])||De)},ut=function(Me,re){var De=Oe(Me),et=Be(re);if(De!==Le||!N(Ae,et)||N(St,et)){var vt=gt(De,et);return vt&&N(Ae,et)&&!(N(De,ri)&&De[ri][et])&&(vt.enumerable=!0),vt}},Wt=function(Me){var re=rt(Oe(Me)),De=[];return Lt(re,function(et){!N(Ae,et)&&!N(Yt,et)&&be(De,et)}),De},ei=function(Me){var re=Me===Le,De=rt(re?St:Oe(Me)),et=[];return Lt(De,function(vt){N(Ae,vt)&&(!re||N(Le,vt))&&be(et,Ae[vt])}),et};if(w||(ve(zt=(dt=function(){if(ae(zt,this))throw lt("Symbol is not a constructor");var Me=arguments.length&&void 0!==arguments[0]?Ee(arguments[0]):void 0,re=ht(Me),De=function(et){this===Le&&n(De,St,et),N(this,ri)&&N(this[ri],re)&&(this[ri][re]=!1),Fi(this,re,ce(1,et))};return b&&li&&Fi(Le,re,{configurable:!0,set:De}),ui(re,Me)})[_t],"toString",function(){return we(this).tag}),ve(dt,"withoutSetter",function(it){return ui(ht(it),it)}),ie.f=oi,te.f=Ei,de.f=ut,ne.f=Pe.f=Wt,oe.f=ei,Ht.f=function(it){return ui(Bt(it),it)},b&&(Ze(zt,"description",{configurable:!0,get:function(){return we(this).description}}),u||ve(Le,"propertyIsEnumerable",oi,{unsafe:!0}))),v({global:!0,wrap:!0,forced:!w,sham:!w},{Symbol:dt}),Lt(se(Zt),function(it){Kt(it)}),v({target:Ne,stat:!0,forced:!w},{for:function(it){var Me=Ee(it);if(N(It,Me))return It[Me];var re=dt(Me);return It[Me]=re,ci[re]=Me,re},keyFor:function(Me){if(!xe(Me))throw lt(Me+" is not a symbol");if(N(ci,Me))return ci[Me]},useSetter:function(){li=!0},useSimple:function(){li=!1}}),v({target:"Object",stat:!0,forced:!w,sham:!b},{create:function(Me,re){return void 0===re?q(Me):gi(q(Me),re)},defineProperty:Ei,defineProperties:gi,getOwnPropertyDescriptor:ut}),v({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:Wt,getOwnPropertySymbols:ei}),v({target:"Object",stat:!0,forced:R(function(){oe.f(1)})},{getOwnPropertySymbols:function(Me){return oe.f(_e(Me))}}),Ye&&v({target:"JSON",stat:!0,forced:!w||R(function(){var it=dt();return"[null]"!=Ye([it])||"{}"!=Ye({a:it})||"{}"!=Ye(Object(it))})},{stringify:function(Me,re,De){var et=Ge(arguments),vt=re;if((K(re)||void 0!==Me)&&!xe(Me))return W(re)||(re=function(Ci,ki){if(Z(vt)&&(ki=n(vt,this,Ci,ki)),!xe(ki))return ki}),et[1]=re,e(Ye,null,et)}}),!zt[Ke]){var Nt=zt.valueOf;ve(zt,Ke,function(it){return n(Nt,this)})}vi(dt,Ne),Yt[ri]=!0},20950:(P,H,h)=>{h(90898)("matchAll")},14740:(P,H,h)=>{h(90898)("match")},76499:(P,H,h)=>{h(90898)("replace")},94696:(P,H,h)=>{h(90898)("search")},72105:(P,H,h)=>{h(90898)("species")},5247:(P,H,h)=>{h(90898)("split")},53825:(P,H,h)=>{h(90898)("toPrimitive")},22529:(P,H,h)=>{h(90898)("toStringTag")},90591:(P,H,h)=>{h(90898)("unscopables")},26054:(P,H,h)=>{"use strict";var W,v=h(74258),p=h(94800),t=h(32914),e=h(10344),n=h(53303),o=h(82639),u=h(9616),b=h(15774),w=h(46053).enforce,R=h(66654),N=!v.ActiveXObject&&"ActiveXObject"in v,Z=function(Be){return function(){return Be(this,arguments.length?arguments[0]:void 0)}},K=n("WeakMap",Z,o);if(R&&N){W=o.getConstructor(Z,"WeakMap",!0),e.enable();var ae=K.prototype,xe=p(ae.delete),fe=p(ae.has),_e=p(ae.get),Oe=p(ae.set);t(ae,{delete:function(Be){if(u(Be)&&!b(Be)){var Ee=w(this);return Ee.frozen||(Ee.frozen=new W),xe(this,Be)||Ee.frozen.delete(Be)}return xe(this,Be)},has:function(Ee){if(u(Ee)&&!b(Ee)){var ce=w(this);return ce.frozen||(ce.frozen=new W),fe(this,Ee)||ce.frozen.has(Ee)}return fe(this,Ee)},get:function(Ee){if(u(Ee)&&!b(Ee)){var ce=w(this);return ce.frozen||(ce.frozen=new W),fe(this,Ee)?_e(this,Ee):ce.frozen.get(Ee)}return _e(this,Ee)},set:function(Ee,ce){if(u(Ee)&&!b(Ee)){var q=w(this);q.frozen||(q.frozen=new W),fe(this,Ee)?Oe(this,Ee,ce):q.frozen.set(Ee,ce)}else Oe(this,Ee,ce);return this}})}},22977:(P,H,h)=>{h(10153)},17724:(P,H,h)=>{h(35503)},50162:(P,H,h)=>{h(54677)},79178:(P,H,h)=>{"use strict";var v=h(5327),p=h(51189),t=h(7286);v({target:"Promise",stat:!0},{try:function(e){var n=p.f(this),o=t(e);return(o.error?n.reject:n.resolve)(o.value),n.promise}})},83066:(P,H,h)=>{h(90898)("asyncDispose")},40338:(P,H,h)=>{h(90898)("dispose")},23560:(P,H,h)=>{h(90898)("matcher")},61546:(P,H,h)=>{h(90898)("metadata")},70214:(P,H,h)=>{h(90898)("observable")},96506:(P,H,h)=>{h(90898)("patternMatch")},82356:(P,H,h)=>{h(90898)("replaceAll")},81006:(P,H,h)=>{h(23483);var v=h(6379),p=h(74258),t=h(27870),e=h(94119),n=h(76539),u=h(35009)("toStringTag");for(var b in v){var w=p[b],R=w&&w.prototype;R&&t(R)!==u&&e(R,u,b),n[b]=n.Array}},28478:(P,H,h)=>{"use strict";h(23483);var v=h(5327),p=h(74258),t=h(26444),e=h(45439),n=h(94800),o=h(30251),u=h(73294),b=h(32914),w=h(8144),R=h(94577),N=h(46053),W=h(7561),Z=h(14563),K=h(68739),ae=h(94640),xe=h(27870),fe=h(49403),_e=h(9616),Oe=h(16096),Be=h(66112),Ee=h(25677),ce=h(72442),q=h(50806),se=h(35009),ne=h(53904),Pe=se("iterator"),oe="URLSearchParams",de=oe+"Iterator",te=N.set,ie=N.getterFor(oe),Ge=N.getterFor(de),ve=t("fetch"),He=t("Request"),ct=t("Headers"),Yt=He&&He.prototype,ht=ct&&ct.prototype,Bt=p.RegExp,Ht=p.TypeError,Kt=p.decodeURIComponent,vi=p.encodeURIComponent,qt=n("".charAt),Lt=n([].join),ri=n([].push),Ne=n("".replace),_t=n([].shift),Ke=n([].splice),Je=n("".split),we=n("".slice),Le=/\+/g,dt=Array(4),zt=function(ui){return dt[ui-1]||(dt[ui-1]=Bt("((?:%[\\da-f]{2}){"+ui+"})","gi"))},lt=function(ui){try{return Kt(ui)}catch(Ei){return ui}},ze=function(ui){var Ei=Ne(ui,Le," "),gi=4;try{return Kt(Ei)}catch(jt){for(;gi;)Ei=Ne(Ei,zt(gi--),lt);return Ei}},Ye=/[!'()~]|%20/g,gt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ze=function(ui){return gt[ui]},rt=function(ui){return Ne(vi(ui),Ye,Ze)},ot=function(ui,Ei){if(ui<Ei)throw Ht("Not enough arguments")},be=R(function(Ei,gi){te(this,{type:de,iterator:ce(ie(Ei).entries),kind:gi})},"Iterator",function(){var Ei=Ge(this),gi=Ei.kind,jt=Ei.iterator.next(),oi=jt.value;return jt.done||(jt.value="keys"===gi?oi.key:"values"===gi?oi.value:[oi.key,oi.value]),jt},!0),Ae=function(ui){this.entries=[],this.url=null,void 0!==ui&&(_e(ui)?this.parseObject(ui):this.parseQuery("string"==typeof ui?"?"===qt(ui,0)?we(ui,1):ui:Oe(ui)))};Ae.prototype={type:oe,bindURL:function(ui){this.url=ui,this.update()},parseObject:function(ui){var gi,jt,oi,ut,Wt,ei,Di,Ei=q(ui);if(Ei)for(jt=(gi=ce(ui,Ei)).next;!(oi=e(jt,gi)).done;){if(ut=ce(fe(oi.value)),(ei=e(Wt=ut.next,ut)).done||(Di=e(Wt,ut)).done||!e(Wt,ut).done)throw Ht("Expected sequence with length 2");ri(this.entries,{key:Oe(ei.value),value:Oe(Di.value)})}else for(var Nt in ui)K(ui,Nt)&&ri(this.entries,{key:Nt,value:Oe(ui[Nt])})},parseQuery:function(ui){if(ui)for(var jt,oi,Ei=Je(ui,"&"),gi=0;gi<Ei.length;)(jt=Ei[gi++]).length&&(oi=Je(jt,"="),ri(this.entries,{key:ze(_t(oi)),value:ze(Lt(oi,"="))}))},serialize:function(){for(var jt,ui=this.entries,Ei=[],gi=0;gi<ui.length;)jt=ui[gi++],ri(Ei,rt(jt.key)+"="+rt(jt.value));return Lt(Ei,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var St=function(){W(this,It);var Ei=arguments.length>0?arguments[0]:void 0;te(this,new Ae(Ei))},It=St.prototype;if(b(It,{append:function(Ei,gi){ot(arguments.length,2);var jt=ie(this);ri(jt.entries,{key:Oe(Ei),value:Oe(gi)}),jt.updateURL()},delete:function(ui){ot(arguments.length,1);for(var Ei=ie(this),gi=Ei.entries,jt=Oe(ui),oi=0;oi<gi.length;)gi[oi].key===jt?Ke(gi,oi,1):oi++;Ei.updateURL()},get:function(Ei){ot(arguments.length,1);for(var gi=ie(this).entries,jt=Oe(Ei),oi=0;oi<gi.length;oi++)if(gi[oi].key===jt)return gi[oi].value;return null},getAll:function(Ei){ot(arguments.length,1);for(var gi=ie(this).entries,jt=Oe(Ei),oi=[],ut=0;ut<gi.length;ut++)gi[ut].key===jt&&ri(oi,gi[ut].value);return oi},has:function(Ei){ot(arguments.length,1);for(var gi=ie(this).entries,jt=Oe(Ei),oi=0;oi<gi.length;)if(gi[oi++].key===jt)return!0;return!1},set:function(Ei,gi){ot(arguments.length,1);for(var Nt,jt=ie(this),oi=jt.entries,ut=!1,Wt=Oe(Ei),ei=Oe(gi),Di=0;Di<oi.length;Di++)(Nt=oi[Di]).key===Wt&&(ut?Ke(oi,Di--,1):(ut=!0,Nt.value=ei));ut||ri(oi,{key:Wt,value:ei}),jt.updateURL()},sort:function(){var Ei=ie(this);ne(Ei.entries,function(gi,jt){return gi.key>jt.key?1:-1}),Ei.updateURL()},forEach:function(Ei){for(var ut,gi=ie(this).entries,jt=ae(Ei,arguments.length>1?arguments[1]:void 0),oi=0;oi<gi.length;)jt((ut=gi[oi++]).value,ut.key,this)},keys:function(){return new be(this,"keys")},values:function(){return new be(this,"values")},entries:function(){return new be(this,"entries")}},{enumerable:!0}),u(It,Pe,It.entries,{name:"entries"}),u(It,"toString",function(){return ie(this).serialize()},{enumerable:!0}),w(St,oe),v({global:!0,forced:!o},{URLSearchParams:St}),!o&&Z(ct)){var ci=n(ht.has),Zt=n(ht.set),li=function(ui){if(_e(ui)){var gi,Ei=ui.body;if(xe(Ei)===oe)return gi=ui.headers?new ct(ui.headers):new ct,ci(gi,"content-type")||Zt(gi,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Be(ui,{body:Ee(0,Oe(Ei)),headers:Ee(0,gi)})}return ui};if(Z(ve)&&v({global:!0,enumerable:!0,forced:!0},{fetch:function(Ei){return ve(Ei,arguments.length>1?li(arguments[1]):{})}}),Z(He)){var Fi=function(Ei){return W(this,Yt),new He(Ei,arguments.length>1?li(arguments[1]):{})};Yt.constructor=Fi,Fi.prototype=Yt,v({global:!0,forced:!0},{Request:Fi})}}P.exports={URLSearchParams:St,getState:ie}},82422:(P,H,h)=>{var v=h(82344);P.exports=v},30260:(P,H,h)=>{var v=h(12557);P.exports=v},36575:(P,H,h)=>{var v=h(87183);P.exports=v},41215:(P,H,h)=>{var v=h(65009);P.exports=v},31216:(P,H,h)=>{var v=h(98088);h(81006),P.exports=v},8535:(P,H,h)=>{var v=h(48023);P.exports=v},29114:(P,H,h)=>{h(81006);var v=h(27870),p=h(68739),t=h(61517),e=h(36575),n=Array.prototype,o={DOMTokenList:!0,NodeList:!0};P.exports=function(u){var b=u.entries;return u===n||t(n,u)&&b===n.entries||p(o,v(u))?e:b}},30376:(P,H,h)=>{var v=h(8425);P.exports=v},9102:(P,H,h)=>{var v=h(61008);P.exports=v},88334:(P,H,h)=>{h(81006);var v=h(27870),p=h(68739),t=h(61517),e=h(41215),n=Array.prototype,o={DOMTokenList:!0,NodeList:!0};P.exports=function(u){var b=u.forEach;return u===n||t(n,u)&&b===n.forEach||p(o,v(u))?e:b}},40809:(P,H,h)=>{var v=h(18583);P.exports=v},68379:(P,H,h)=>{var v=h(84676);P.exports=v},40051:(P,H,h)=>{var v=h(59032);P.exports=v},42905:(P,H,h)=>{var v=h(70660);P.exports=v},77120:(P,H,h)=>{var v=h(12256);P.exports=v},47940:(P,H,h)=>{var v=h(14475);P.exports=v},15783:(P,H,h)=>{var v=h(98711);P.exports=v},68397:(P,H,h)=>{var v=h(98169);P.exports=v},31545:(P,H,h)=>{var v=h(31916);P.exports=v},39565:(P,H,h)=>{var v=h(47429);P.exports=v},64043:(P,H,h)=>{var v=h(2487);P.exports=v},63122:(P,H,h)=>{var v=h(77626);P.exports=v},76650:(P,H,h)=>{var v=h(81043);P.exports=v},51266:(P,H,h)=>{var v=h(98838);P.exports=v},69265:(P,H,h)=>{var v=h(63977);P.exports=v},64781:(P,H,h)=>{var v=h(14099);h(81006),P.exports=v},56219:(P,H,h)=>{var v=h(1816);h(81006),P.exports=v},78921:(P,H,h)=>{var v=h(64776);h(81006),P.exports=v},99671:(P,H,h)=>{var v=h(64667);h(81006),P.exports=v},80297:(P,H,h)=>{var v=h(65988);h(81006),P.exports=v},64667:(P,H,h)=>{h(28478);var v=h(52457);P.exports=v.URLSearchParams},11966:function(){var P;P="undefined"!=typeof self?self:this,function(h){var v_searchParams="URLSearchParams"in P,v_iterable="Symbol"in P&&"iterator"in Symbol,v_blob="FileReader"in P&&"Blob"in P&&function(){try{return new Blob,!0}catch(se){return!1}}(),v_formData="FormData"in P,v_arrayBuffer="ArrayBuffer"in P;if(v_arrayBuffer)var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],e=ArrayBuffer.isView||function(se){return se&&t.indexOf(Object.prototype.toString.call(se))>-1};function n(se){if("string"!=typeof se&&(se=String(se)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(se))throw new TypeError("Invalid character in header field name");return se.toLowerCase()}function o(se){return"string"!=typeof se&&(se=String(se)),se}function u(se){var ne={next:function(){var Pe=se.shift();return{done:void 0===Pe,value:Pe}}};return v_iterable&&(ne[Symbol.iterator]=function(){return ne}),ne}function b(se){this.map={},se instanceof b?se.forEach(function(ne,Pe){this.append(Pe,ne)},this):Array.isArray(se)?se.forEach(function(ne){this.append(ne[0],ne[1])},this):se&&Object.getOwnPropertyNames(se).forEach(function(ne){this.append(ne,se[ne])},this)}function w(se){if(se.bodyUsed)return Promise.reject(new TypeError("Already read"));se.bodyUsed=!0}function R(se){return new Promise(function(ne,Pe){se.onload=function(){ne(se.result)},se.onerror=function(){Pe(se.error)}})}function N(se){var ne=new FileReader,Pe=R(ne);return ne.readAsArrayBuffer(se),Pe}function K(se){if(se.slice)return se.slice(0);var ne=new Uint8Array(se.byteLength);return ne.set(new Uint8Array(se)),ne.buffer}function ae(){return this.bodyUsed=!1,this._initBody=function(se){this._bodyInit=se,se?"string"==typeof se?this._bodyText=se:v_blob&&Blob.prototype.isPrototypeOf(se)?this._bodyBlob=se:v_formData&&FormData.prototype.isPrototypeOf(se)?this._bodyFormData=se:v_searchParams&&URLSearchParams.prototype.isPrototypeOf(se)?this._bodyText=se.toString():v_arrayBuffer&&v_blob&&function(se){return se&&DataView.prototype.isPrototypeOf(se)}(se)?(this._bodyArrayBuffer=K(se.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):v_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(se)||e(se))?this._bodyArrayBuffer=K(se):this._bodyText=se=Object.prototype.toString.call(se):this._bodyText="",this.headers.get("content-type")||("string"==typeof se?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v_searchParams&&URLSearchParams.prototype.isPrototypeOf(se)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v_blob&&(this.blob=function(){var se=w(this);if(se)return se;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var se=w(this);if(se)return se;if(this._bodyBlob)return function(se){var ne=new FileReader,Pe=R(ne);return ne.readAsText(se),Pe}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(se){for(var ne=new Uint8Array(se),Pe=new Array(ne.length),oe=0;oe<ne.length;oe++)Pe[oe]=String.fromCharCode(ne[oe]);return Pe.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v_formData&&(this.formData=function(){return this.text().then(Oe)}),this.json=function(){return this.text().then(JSON.parse)},this}b.prototype.append=function(se,ne){se=n(se),ne=o(ne);var Pe=this.map[se];this.map[se]=Pe?Pe+", "+ne:ne},b.prototype.delete=function(se){delete this.map[n(se)]},b.prototype.get=function(se){return se=n(se),this.has(se)?this.map[se]:null},b.prototype.has=function(se){return this.map.hasOwnProperty(n(se))},b.prototype.set=function(se,ne){this.map[n(se)]=o(ne)},b.prototype.forEach=function(se,ne){for(var Pe in this.map)this.map.hasOwnProperty(Pe)&&se.call(ne,this.map[Pe],Pe,this)},b.prototype.keys=function(){var se=[];return this.forEach(function(ne,Pe){se.push(Pe)}),u(se)},b.prototype.values=function(){var se=[];return this.forEach(function(ne){se.push(ne)}),u(se)},b.prototype.entries=function(){var se=[];return this.forEach(function(ne,Pe){se.push([Pe,ne])}),u(se)},v_iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);var xe=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _e(se,ne){var Pe=(ne=ne||{}).body;if(se instanceof _e){if(se.bodyUsed)throw new TypeError("Already read");this.url=se.url,this.credentials=se.credentials,ne.headers||(this.headers=new b(se.headers)),this.method=se.method,this.mode=se.mode,this.signal=se.signal,!Pe&&null!=se._bodyInit&&(Pe=se._bodyInit,se.bodyUsed=!0)}else this.url=String(se);if(this.credentials=ne.credentials||this.credentials||"same-origin",(ne.headers||!this.headers)&&(this.headers=new b(ne.headers)),this.method=function(se){var ne=se.toUpperCase();return xe.indexOf(ne)>-1?ne:se}(ne.method||this.method||"GET"),this.mode=ne.mode||this.mode||null,this.signal=ne.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Pe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Pe)}function Oe(se){var ne=new FormData;return se.trim().split("&").forEach(function(Pe){if(Pe){var oe=Pe.split("="),de=oe.shift().replace(/\+/g," "),te=oe.join("=").replace(/\+/g," ");ne.append(decodeURIComponent(de),decodeURIComponent(te))}}),ne}function Be(se){var ne=new b;return se.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(oe){var de=oe.split(":"),te=de.shift().trim();if(te){var ie=de.join(":").trim();ne.append(te,ie)}}),ne}function Ee(se,ne){ne||(ne={}),this.type="default",this.status=void 0===ne.status?200:ne.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ne?ne.statusText:"OK",this.headers=new b(ne.headers),this.url=ne.url||"",this._initBody(se)}_e.prototype.clone=function(){return new _e(this,{body:this._bodyInit})},ae.call(_e.prototype),ae.call(Ee.prototype),Ee.prototype.clone=function(){return new Ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},Ee.error=function(){var se=new Ee(null,{status:0,statusText:""});return se.type="error",se};var ce=[301,302,303,307,308];Ee.redirect=function(se,ne){if(-1===ce.indexOf(ne))throw new RangeError("Invalid status code");return new Ee(null,{status:ne,headers:{location:se}})},h.DOMException=P.DOMException;try{new h.DOMException}catch(se){h.DOMException=function(ne,Pe){this.message=ne,this.name=Pe;var oe=Error(ne);this.stack=oe.stack},h.DOMException.prototype=Object.create(Error.prototype),h.DOMException.prototype.constructor=h.DOMException}function q(se,ne){return new Promise(function(Pe,oe){var de=new _e(se,ne);if(de.signal&&de.signal.aborted)return oe(new h.DOMException("Aborted","AbortError"));var te=new XMLHttpRequest;function ie(){te.abort()}te.onload=function(){var Ge={status:te.status,statusText:te.statusText,headers:Be(te.getAllResponseHeaders()||"")};Ge.url="responseURL"in te?te.responseURL:Ge.headers.get("X-Request-URL"),Pe(new Ee("response"in te?te.response:te.responseText,Ge))},te.onerror=function(){oe(new TypeError("Network request failed"))},te.ontimeout=function(){oe(new TypeError("Network request failed"))},te.onabort=function(){oe(new h.DOMException("Aborted","AbortError"))},te.open(de.method,de.url,!0),"include"===de.credentials?te.withCredentials=!0:"omit"===de.credentials&&(te.withCredentials=!1),"responseType"in te&&v_blob&&(te.responseType="blob"),de.headers.forEach(function(Ge,ve){te.setRequestHeader(ve,Ge)}),de.signal&&(de.signal.addEventListener("abort",ie),te.onreadystatechange=function(){4===te.readyState&&de.signal.removeEventListener("abort",ie)}),te.send(void 0===de._bodyInit?null:de._bodyInit)})}q.polyfill=!0,P.fetch||(P.fetch=q,P.Headers=b,P.Request=_e,P.Response=Ee),h.Headers=b,h.Request=_e,h.Response=Ee,h.fetch=q,Object.defineProperty(h,"__esModule",{value:!0})}({})},25320:P=>{"use strict";function H(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp}function h(e){if(e instanceof Buffer){var n=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);return e.copy(n),n}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}function v(e){var n=[];return e.forEach(function(o,u){n[u]="object"==typeof o&&null!==o?Array.isArray(o)?v(o):H(o)?h(o):t({},o):o}),n}function p(e,n){return"__proto__"===n?void 0:e[n]}var t=P.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var o,u,e=arguments[0],n=Array.prototype.slice.call(arguments,1);return n.forEach(function(w){"object"!=typeof w||null===w||Array.isArray(w)||Object.keys(w).forEach(function(R){if(u=p(e,R),(o=p(w,R))!==e)return"object"!=typeof o||null===o?void(e[R]=o):Array.isArray(o)?void(e[R]=v(o)):H(o)?void(e[R]=h(o)):"object"!=typeof u||null===u||Array.isArray(u)?void(e[R]=t({},o)):void(e[R]=t(u,o))})}),e}},18642:function(P,H){var p;void 0!==(p=function(){"use strict";function e(R,N,W){var Z=new XMLHttpRequest;Z.open("GET",R),Z.responseType="blob",Z.onload=function(){w(Z.response,N,W)},Z.onerror=function(){console.error("could not download file")},Z.send()}function n(R){var N=new XMLHttpRequest;N.open("HEAD",R,!1);try{N.send()}catch(W){}return 200<=N.status&&299>=N.status}function o(R){try{R.dispatchEvent(new MouseEvent("click"))}catch(W){var N=document.createEvent("MouseEvents");N.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),R.dispatchEvent(N)}}var u="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,b=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),w=u.saveAs||("object"!=typeof window||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!b?function(R,N,W){var Z=u.URL||u.webkitURL,K=document.createElement("a");K.download=N=N||R.name||"download",K.rel="noopener","string"==typeof R?(K.href=R,K.origin===location.origin?o(K):n(K.href)?e(R,N,W):o(K,K.target="_blank")):(K.href=Z.createObjectURL(R),setTimeout(function(){Z.revokeObjectURL(K.href)},4e4),setTimeout(function(){o(K)},0))}:"msSaveOrOpenBlob"in navigator?function(R,N,W){if(N=N||R.name||"download","string"!=typeof R)navigator.msSaveOrOpenBlob(function(R,N){return void 0===N?N={autoBom:!1}:"object"!=typeof N&&(console.warn("Deprecated: Expected third argument to be a object"),N={autoBom:!N}),N.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(R.type)?new Blob(["\ufeff",R],{type:R.type}):R}(R,W),N);else if(n(R))e(R,N,W);else{var Z=document.createElement("a");Z.href=R,Z.target="_blank",setTimeout(function(){o(Z)})}}:function(R,N,W,Z){if((Z=Z||open("","_blank"))&&(Z.document.title=Z.document.body.innerText="downloading..."),"string"==typeof R)return e(R,N,W);var K="application/octet-stream"===R.type,ae=/constructor/i.test(u.HTMLElement)||u.safari,xe=/CriOS\/[\d]+/.test(navigator.userAgent);if((xe||K&&ae||b)&&"undefined"!=typeof FileReader){var fe=new FileReader;fe.onloadend=function(){var Be=fe.result;Be=xe?Be:Be.replace(/^data:[^;]*;/,"data:attachment/file;"),Z?Z.location.href=Be:location=Be,Z=null},fe.readAsDataURL(R)}else{var _e=u.URL||u.webkitURL,Oe=_e.createObjectURL(R);Z?Z.location=Oe:location.href=Oe,Z=null,setTimeout(function(){_e.revokeObjectURL(Oe)},4e4)}});u.saveAs=w.saveAs=w,P.exports=w}.apply(H,[]))&&(P.exports=p)},5051:P=>{"use strict";var H="Function.prototype.bind called on incompatible ",h=Array.prototype.slice,v=Object.prototype.toString,p="[object Function]";P.exports=function(e){var n=this;if("function"!=typeof n||v.call(n)!==p)throw new TypeError(H+n);for(var u,o=h.call(arguments,1),b=function(){if(this instanceof u){var Z=n.apply(this,o.concat(h.call(arguments)));return Object(Z)===Z?Z:this}return n.apply(e,o.concat(h.call(arguments)))},w=Math.max(0,n.length-o.length),R=[],N=0;N<w;N++)R.push("$"+N);if(u=Function("binder","return function ("+R.join(",")+"){ return binder.apply(this,arguments); }")(b),n.prototype){var W=function(){};W.prototype=n.prototype,u.prototype=new W,W.prototype=null}return u}},21113:(P,H,h)=>{"use strict";var v=h(5051);P.exports=Function.prototype.bind||v},4320:(P,H,h)=>{"use strict";var v,p=SyntaxError,t=Function,e=TypeError,n=function(Pe){try{return t('"use strict"; return ('+Pe+").constructor;")()}catch(oe){}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(Pe){o=null}var u=function(){throw new e},b=o?function(){try{return u}catch(Pe){try{return o(arguments,"callee").get}catch(oe){return u}}}():u,w=h(62832)(),R=Object.getPrototypeOf||function(Pe){return Pe.__proto__},N={},W="undefined"==typeof Uint8Array?v:R(Uint8Array),Z={"%AggregateError%":"undefined"==typeof AggregateError?v:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?v:ArrayBuffer,"%ArrayIteratorPrototype%":w?R([][Symbol.iterator]()):v,"%AsyncFromSyncIteratorPrototype%":v,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":"undefined"==typeof Atomics?v:Atomics,"%BigInt%":"undefined"==typeof BigInt?v:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?v:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?v:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?v:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?v:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":N,"%Int8Array%":"undefined"==typeof Int8Array?v:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?v:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?v:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w?R(R([][Symbol.iterator]())):v,"%JSON%":"object"==typeof JSON?JSON:v,"%Map%":"undefined"==typeof Map?v:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&w?R((new Map)[Symbol.iterator]()):v,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?v:Promise,"%Proxy%":"undefined"==typeof Proxy?v:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?v:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?v:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&w?R((new Set)[Symbol.iterator]()):v,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?v:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w?R(""[Symbol.iterator]()):v,"%Symbol%":w?Symbol:v,"%SyntaxError%":p,"%ThrowTypeError%":b,"%TypedArray%":W,"%TypeError%":e,"%Uint8Array%":"undefined"==typeof Uint8Array?v:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?v:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?v:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?v:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?v:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?v:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?v:WeakSet},K=function Pe(oe){var de;if("%AsyncFunction%"===oe)de=n("async function () {}");else if("%GeneratorFunction%"===oe)de=n("function* () {}");else if("%AsyncGeneratorFunction%"===oe)de=n("async function* () {}");else if("%AsyncGenerator%"===oe){var te=Pe("%AsyncGeneratorFunction%");te&&(de=te.prototype)}else if("%AsyncIteratorPrototype%"===oe){var ie=Pe("%AsyncGenerator%");ie&&(de=R(ie.prototype))}return Z[oe]=de,de},ae={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=h(21113),fe=h(60508),_e=xe.call(Function.call,Array.prototype.concat),Oe=xe.call(Function.apply,Array.prototype.splice),Be=xe.call(Function.call,String.prototype.replace),Ee=xe.call(Function.call,String.prototype.slice),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,se=function(oe){var de=Ee(oe,0,1),te=Ee(oe,-1);if("%"===de&&"%"!==te)throw new p("invalid intrinsic syntax, expected closing `%`");if("%"===te&&"%"!==de)throw new p("invalid intrinsic syntax, expected opening `%`");var ie=[];return Be(oe,ce,function(Ge,ve,He,ct){ie[ie.length]=He?Be(ct,q,"$1"):ve||Ge}),ie},ne=function(oe,de){var ie,te=oe;if(fe(ae,te)&&(te="%"+(ie=ae[te])[0]+"%"),fe(Z,te)){var Ge=Z[te];if(Ge===N&&(Ge=K(te)),void 0===Ge&&!de)throw new e("intrinsic "+oe+" exists, but is not available. Please file an issue!");return{alias:ie,name:te,value:Ge}}throw new p("intrinsic "+oe+" does not exist!")};P.exports=function(oe,de){if("string"!=typeof oe||0===oe.length)throw new e("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof de)throw new e('"allowMissing" argument must be a boolean');var te=se(oe),ie=te.length>0?te[0]:"",Ge=ne("%"+ie+"%",de),ve=Ge.name,He=Ge.value,ct=!1,Yt=Ge.alias;Yt&&(ie=Yt[0],Oe(te,_e([0,1],Yt)));for(var ht=1,Bt=!0;ht<te.length;ht+=1){var Ht=te[ht],Kt=Ee(Ht,0,1),vi=Ee(Ht,-1);if(('"'===Kt||"'"===Kt||"`"===Kt||'"'===vi||"'"===vi||"`"===vi)&&Kt!==vi)throw new p("property names with quotes must have matching quotes");if(("constructor"===Ht||!Bt)&&(ct=!0),fe(Z,ve="%"+(ie+="."+Ht)+"%"))He=Z[ve];else if(null!=He){if(!(Ht in He)){if(!de)throw new e("base intrinsic for "+oe+" exists, but the property is not available.");return}if(o&&ht+1>=te.length){var qt=o(He,Ht);He=(Bt=!!qt)&&"get"in qt&&!("originalValue"in qt.get)?qt.get:He[Ht]}else Bt=fe(He,Ht),He=He[Ht];Bt&&!ct&&(Z[ve]=He)}}return He}},62832:(P,H,h)=>{"use strict";var v="undefined"!=typeof Symbol&&Symbol,p=h(22718);P.exports=function(){return"function"==typeof v&&"function"==typeof Symbol&&"symbol"==typeof v("foo")&&"symbol"==typeof Symbol("bar")&&p()}},22718:P=>{"use strict";P.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var h={},v=Symbol("test"),p=Object(v);if("string"==typeof v||"[object Symbol]"!==Object.prototype.toString.call(v)||"[object Symbol]"!==Object.prototype.toString.call(p))return!1;for(v in h[v]=42,h)return!1;if("function"==typeof Object.keys&&0!==Object.keys(h).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(h).length)return!1;var e=Object.getOwnPropertySymbols(h);if(1!==e.length||e[0]!==v||!Object.prototype.propertyIsEnumerable.call(h,v))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(h,v);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},60508:(P,H,h)=>{"use strict";var v=h(21113);P.exports=v.call(Function.call,Object.prototype.hasOwnProperty)},37901:P=>{var ut,h="__lodash_hash_undefined__",v=1/0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/,u=/^\./,b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,N=/^\[object .+?Constructor\]$/,W="object"==typeof global&&global&&global.Object===Object&&global,Z="object"==typeof self&&self&&self.Object===Object&&self,K=W||Z||Function("return this")(),fe=Array.prototype,_e=Function.prototype,Oe=Object.prototype,Be=K["__core-js_shared__"],Ee=(ut=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",ce=_e.toString,q=Oe.hasOwnProperty,se=Oe.toString,ne=RegExp("^"+ce.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=K.Symbol,oe=fe.splice,de=Ze(K,"Map"),te=Ze(Object,"create"),ie=Pe?Pe.prototype:void 0,Ge=ie?ie.toString:void 0;function ve(ut){var Wt=-1,ei=ut?ut.length:0;for(this.clear();++Wt<ei;){var Di=ut[Wt];this.set(Di[0],Di[1])}}function Ht(ut){var Wt=-1,ei=ut?ut.length:0;for(this.clear();++Wt<ei;){var Di=ut[Wt];this.set(Di[0],Di[1])}}function Ne(ut){var Wt=-1,ei=ut?ut.length:0;for(this.clear();++Wt<ei;){var Di=ut[Wt];this.set(Di[0],Di[1])}}function dt(ut,Wt){for(var ei=ut.length;ei--;)if(Zt(ut[ei][0],Wt))return ei;return-1}function gt(ut,Wt){var ei=ut.__data__;return function(ut){var Wt=typeof ut;return"string"==Wt||"number"==Wt||"symbol"==Wt||"boolean"==Wt?"__proto__"!==ut:null===ut}(Wt)?ei["string"==typeof Wt?"string":"hash"]:ei.map}function Ze(ut,Wt){var ei=function(ut,Wt){return null==ut?void 0:ut[Wt]}(ut,Wt);return function(ut){if(!ui(ut)||function(ut){return!!Ee&&Ee in ut}(ut))return!1;var Wt=function(ut){var Wt=ui(ut)?se.call(ut):"";return"[object Function]"==Wt||"[object GeneratorFunction]"==Wt}(ut)||function(ut){var Wt=!1;if(null!=ut&&"function"!=typeof ut.toString)try{Wt=!!(ut+"")}catch(ei){}return Wt}(ut)?ne:N;return Wt.test(function(ut){if(null!=ut){try{return ce.call(ut)}catch(Wt){}try{return ut+""}catch(Wt){}}return""}(ut))}(ei)?ei:void 0}ve.prototype.clear=function(){this.__data__=te?te(null):{}},ve.prototype.delete=function(ut){return this.has(ut)&&delete this.__data__[ut]},ve.prototype.get=function(ut){var Wt=this.__data__;if(te){var ei=Wt[ut];return ei===h?void 0:ei}return q.call(Wt,ut)?Wt[ut]:void 0},ve.prototype.has=function(ut){var Wt=this.__data__;return te?void 0!==Wt[ut]:q.call(Wt,ut)},ve.prototype.set=function(ut,Wt){return this.__data__[ut]=te&&void 0===Wt?h:Wt,this},Ht.prototype.clear=function(){this.__data__=[]},Ht.prototype.delete=function(ut){var Wt=this.__data__,ei=dt(Wt,ut);return!(ei<0||(ei==Wt.length-1?Wt.pop():oe.call(Wt,ei,1),0))},Ht.prototype.get=function(ut){var Wt=this.__data__,ei=dt(Wt,ut);return ei<0?void 0:Wt[ei][1]},Ht.prototype.has=function(ut){return dt(this.__data__,ut)>-1},Ht.prototype.set=function(ut,Wt){var ei=this.__data__,Di=dt(ei,ut);return Di<0?ei.push([ut,Wt]):ei[Di][1]=Wt,this},Ne.prototype.clear=function(){this.__data__={hash:new ve,map:new(de||Ht),string:new ve}},Ne.prototype.delete=function(ut){return gt(this,ut).delete(ut)},Ne.prototype.get=function(ut){return gt(this,ut).get(ut)},Ne.prototype.has=function(ut){return gt(this,ut).has(ut)},Ne.prototype.set=function(ut,Wt){return gt(this,ut).set(ut,Wt),this};var Ae=ci(function(ut){ut=function(ut){return null==ut?"":function(ut){if("string"==typeof ut)return ut;if(gi(ut))return Ge?Ge.call(ut):"";var Wt=ut+"";return"0"==Wt&&1/ut==-v?"-0":Wt}(ut)}(ut);var Wt=[];return u.test(ut)&&Wt.push(""),ut.replace(b,function(ei,Di,Nt,it){Wt.push(Nt?it.replace(R,"$1"):Di||ei)}),Wt});function St(ut){if("string"==typeof ut||gi(ut))return ut;var Wt=ut+"";return"0"==Wt&&1/ut==-v?"-0":Wt}function ci(ut,Wt){if("function"!=typeof ut||Wt&&"function"!=typeof Wt)throw new TypeError("Expected a function");var ei=function(){var Di=arguments,Nt=Wt?Wt.apply(this,Di):Di[0],it=ei.cache;if(it.has(Nt))return it.get(Nt);var Me=ut.apply(this,Di);return ei.cache=it.set(Nt,Me),Me};return ei.cache=new(ci.Cache||Ne),ei}function Zt(ut,Wt){return ut===Wt||ut!=ut&&Wt!=Wt}ci.Cache=Ne;var li=Array.isArray;function ui(ut){var Wt=typeof ut;return!!ut&&("object"==Wt||"function"==Wt)}function gi(ut){return"symbol"==typeof ut||function(ut){return!!ut&&"object"==typeof ut}(ut)&&"[object Symbol]"==se.call(ut)}P.exports=function(ut,Wt,ei){var Di=null==ut?void 0:function(ut,Wt){Wt=function(ut,Wt){if(li(ut))return!1;var ei=typeof ut;return!("number"!=ei&&"symbol"!=ei&&"boolean"!=ei&&null!=ut&&!gi(ut))||o.test(ut)||!n.test(ut)||null!=Wt&&ut in Object(Wt)}(Wt,ut)?[Wt]:function(ut){return li(ut)?ut:Ae(ut)}(Wt);for(var ei=0,Di=Wt.length;null!=ut&&ei<Di;)ut=ut[St(Wt[ei++])];return ei&&ei==Di?ut:void 0}(ut,Wt);return void 0===Di?ei:Di}},20696:(P,H,h)=>{var t=h(18324)(h(56807),"DataView");P.exports=t},54141:(P,H,h)=>{var v=h(39338),p=h(81439),t=h(15136),e=h(48899),n=h(49077);function o(u){var b=-1,w=null==u?0:u.length;for(this.clear();++b<w;){var R=u[b];this.set(R[0],R[1])}}o.prototype.clear=v,o.prototype.delete=p,o.prototype.get=t,o.prototype.has=e,o.prototype.set=n,P.exports=o},943:(P,H,h)=>{var v=h(20900),p=h(84044),t=h(66981),e=h(84629),n=h(62720);function o(u){var b=-1,w=null==u?0:u.length;for(this.clear();++b<w;){var R=u[b];this.set(R[0],R[1])}}o.prototype.clear=v,o.prototype.delete=p,o.prototype.get=t,o.prototype.has=e,o.prototype.set=n,P.exports=o},43664:(P,H,h)=>{var t=h(18324)(h(56807),"Map");P.exports=t},17324:(P,H,h)=>{var v=h(99166),p=h(61222),t=h(22470),e=h(1048),n=h(34186);function o(u){var b=-1,w=null==u?0:u.length;for(this.clear();++b<w;){var R=u[b];this.set(R[0],R[1])}}o.prototype.clear=v,o.prototype.delete=p,o.prototype.get=t,o.prototype.has=e,o.prototype.set=n,P.exports=o},87209:(P,H,h)=>{var t=h(18324)(h(56807),"Promise");P.exports=t},39434:(P,H,h)=>{var t=h(18324)(h(56807),"Set");P.exports=t},71096:(P,H,h)=>{var v=h(943),p=h(47432),t=h(46639),e=h(11372),n=h(38313),o=h(23137);function u(b){var w=this.__data__=new v(b);this.size=w.size}u.prototype.clear=p,u.prototype.delete=t,u.prototype.get=e,u.prototype.has=n,u.prototype.set=o,P.exports=u},5144:(P,H,h)=>{var v=h(56807);P.exports=v.Symbol},68047:(P,H,h)=>{var v=h(56807);P.exports=v.Uint8Array},69847:(P,H,h)=>{var t=h(18324)(h(56807),"WeakMap");P.exports=t},29030:P=>{P.exports=function(h,v){for(var p=-1,t=null==h?0:h.length;++p<t&&!1!==v(h[p],p,h););return h}},94382:P=>{P.exports=function(h,v){for(var p=-1,t=null==h?0:h.length,e=0,n=[];++p<t;){var o=h[p];v(o,p,h)&&(n[e++]=o)}return n}},264:(P,H,h)=>{var v=h(74265),p=h(92526),t=h(87572),e=h(77790),n=h(5021),o=h(18353),b=Object.prototype.hasOwnProperty;P.exports=function(R,N){var W=t(R),Z=!W&&p(R),K=!W&&!Z&&e(R),ae=!W&&!Z&&!K&&o(R),xe=W||Z||K||ae,fe=xe?v(R.length,String):[],_e=fe.length;for(var Oe in R)(N||b.call(R,Oe))&&(!xe||!("length"==Oe||K&&("offset"==Oe||"parent"==Oe)||ae&&("buffer"==Oe||"byteLength"==Oe||"byteOffset"==Oe)||n(Oe,_e)))&&fe.push(Oe);return fe}},9829:P=>{P.exports=function(h,v){for(var p=-1,t=null==h?0:h.length,e=Array(t);++p<t;)e[p]=v(h[p],p,h);return e}},57437:P=>{P.exports=function(h,v){for(var p=-1,t=v.length,e=h.length;++p<t;)h[e+p]=v[p];return h}},49782:(P,H,h)=>{var v=h(75372),p=h(47660),e=Object.prototype.hasOwnProperty;P.exports=function(o,u,b){var w=o[u];(!e.call(o,u)||!p(w,b)||void 0===b&&!(u in o))&&v(o,u,b)}},42128:(P,H,h)=>{var v=h(47660);P.exports=function(t,e){for(var n=t.length;n--;)if(v(t[n][0],e))return n;return-1}},56470:(P,H,h)=>{var v=h(56394),p=h(254);P.exports=function(e,n){return e&&v(n,p(n),e)}},88253:(P,H,h)=>{var v=h(56394),p=h(22174);P.exports=function(e,n){return e&&v(n,p(n),e)}},75372:(P,H,h)=>{var v=h(59891);P.exports=function(t,e,n){"__proto__"==e&&v?v(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},55594:(P,H,h)=>{var v=h(71096),p=h(29030),t=h(49782),e=h(56470),n=h(88253),o=h(61709),u=h(93895),b=h(56306),w=h(81294),R=h(72972),N=h(77449),W=h(24524),Z=h(72181),K=h(70334),ae=h(80323),xe=h(87572),fe=h(77790),_e=h(68586),Oe=h(75388),Be=h(5981),Ee=h(254),ce=h(22174),Pe="[object Arguments]",Ge="[object Function]",Yt="[object Object]",lt={};lt[Pe]=lt["[object Array]"]=lt["[object ArrayBuffer]"]=lt["[object DataView]"]=lt["[object Boolean]"]=lt["[object Date]"]=lt["[object Float32Array]"]=lt["[object Float64Array]"]=lt["[object Int8Array]"]=lt["[object Int16Array]"]=lt["[object Int32Array]"]=lt["[object Map]"]=lt["[object Number]"]=lt[Yt]=lt["[object RegExp]"]=lt["[object Set]"]=lt["[object String]"]=lt["[object Symbol]"]=lt["[object Uint8Array]"]=lt["[object Uint8ClampedArray]"]=lt["[object Uint16Array]"]=lt["[object Uint32Array]"]=!0,lt["[object Error]"]=lt[Ge]=lt["[object WeakMap]"]=!1,P.exports=function ze(Ye,gt,Ze,rt,ot,be){var Ae,St=1&gt,It=2&gt,ci=4&gt;if(Ze&&(Ae=ot?Ze(Ye,rt,ot,be):Ze(Ye)),void 0!==Ae)return Ae;if(!Oe(Ye))return Ye;var Zt=xe(Ye);if(Zt){if(Ae=Z(Ye),!St)return u(Ye,Ae)}else{var li=W(Ye),Fi=li==Ge||"[object GeneratorFunction]"==li;if(fe(Ye))return o(Ye,St);if(li==Yt||li==Pe||Fi&&!ot){if(Ae=It||Fi?{}:ae(Ye),!St)return It?w(Ye,n(Ae,Ye)):b(Ye,e(Ae,Ye))}else{if(!lt[li])return ot?Ye:{};Ae=K(Ye,li,St)}}be||(be=new v);var ui=be.get(Ye);if(ui)return ui;be.set(Ye,Ae),Be(Ye)?Ye.forEach(function(jt){Ae.add(ze(jt,gt,Ze,jt,Ye,be))}):_e(Ye)&&Ye.forEach(function(jt,oi){Ae.set(oi,ze(jt,gt,Ze,oi,Ye,be))});var gi=Zt?void 0:(ci?It?N:R:It?ce:Ee)(Ye);return p(gi||Ye,function(jt,oi){gi&&(jt=Ye[oi=jt]),t(Ae,oi,ze(jt,gt,Ze,oi,Ye,be))}),Ae}},51328:(P,H,h)=>{var v=h(75388),p=Object.create,t=function(){function e(){}return function(n){if(!v(n))return{};if(p)return p(n);e.prototype=n;var o=new e;return e.prototype=void 0,o}}();P.exports=t},885:(P,H,h)=>{var v=h(12294),p=h(55844);P.exports=function(e,n){for(var o=0,u=(n=v(n,e)).length;null!=e&&o<u;)e=e[p(n[o++])];return o&&o==u?e:void 0}},99262:(P,H,h)=>{var v=h(57437),p=h(87572);P.exports=function(e,n,o){var u=n(e);return p(e)?u:v(u,o(e))}},92663:(P,H,h)=>{var v=h(5144),p=h(36476),t=h(65899),o=v?v.toStringTag:void 0;P.exports=function(b){return null==b?void 0===b?"[object Undefined]":"[object Null]":o&&o in Object(b)?p(b):t(b)}},45446:(P,H,h)=>{var v=h(92663),p=h(3937);P.exports=function(n){return p(n)&&"[object Arguments]"==v(n)}},68306:(P,H,h)=>{var v=h(24524),p=h(3937);P.exports=function(n){return p(n)&&"[object Map]"==v(n)}},42523:(P,H,h)=>{var v=h(83032),p=h(24425),t=h(75388),e=h(18085),o=/^\[object .+?Constructor\]$/,N=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");P.exports=function(Z){return!(!t(Z)||p(Z))&&(v(Z)?N:o).test(e(Z))}},73256:(P,H,h)=>{var v=h(24524),p=h(3937);P.exports=function(n){return p(n)&&"[object Set]"==v(n)}},66165:(P,H,h)=>{var v=h(92663),p=h(10862),t=h(3937),de={};de["[object Float32Array]"]=de["[object Float64Array]"]=de["[object Int8Array]"]=de["[object Int16Array]"]=de["[object Int32Array]"]=de["[object Uint8Array]"]=de["[object Uint8ClampedArray]"]=de["[object Uint16Array]"]=de["[object Uint32Array]"]=!0,de["[object Arguments]"]=de["[object Array]"]=de["[object ArrayBuffer]"]=de["[object Boolean]"]=de["[object DataView]"]=de["[object Date]"]=de["[object Error]"]=de["[object Function]"]=de["[object Map]"]=de["[object Number]"]=de["[object Object]"]=de["[object RegExp]"]=de["[object Set]"]=de["[object String]"]=de["[object WeakMap]"]=!1,P.exports=function(ie){return t(ie)&&p(ie.length)&&!!de[v(ie)]}},69894:(P,H,h)=>{var v=h(21907),p=h(37504),e=Object.prototype.hasOwnProperty;P.exports=function(o){if(!v(o))return p(o);var u=[];for(var b in Object(o))e.call(o,b)&&"constructor"!=b&&u.push(b);return u}},76119:(P,H,h)=>{var v=h(75388),p=h(21907),t=h(20495),n=Object.prototype.hasOwnProperty;P.exports=function(u){if(!v(u))return t(u);var b=p(u),w=[];for(var R in u)"constructor"==R&&(b||!n.call(u,R))||w.push(R);return w}},74265:P=>{P.exports=function(h,v){for(var p=-1,t=Array(h);++p<h;)t[p]=v(p);return t}},78873:(P,H,h)=>{var v=h(5144),p=h(9829),t=h(87572),e=h(2957),o=v?v.prototype:void 0,u=o?o.toString:void 0;P.exports=function b(w){if("string"==typeof w)return w;if(t(w))return p(w,b)+"";if(e(w))return u?u.call(w):"";var R=w+"";return"0"==R&&1/w==-1/0?"-0":R}},76041:P=>{P.exports=function(h){return function(v){return h(v)}}},12294:(P,H,h)=>{var v=h(87572),p=h(36474),t=h(52908),e=h(63881);P.exports=function(o,u){return v(o)?o:p(o,u)?[o]:t(e(o))}},49569:(P,H,h)=>{var v=h(68047);P.exports=function(t){var e=new t.constructor(t.byteLength);return new v(e).set(new v(t)),e}},61709:(P,H,h)=>{P=h.nmd(P);var v=h(56807),p=H&&!H.nodeType&&H,t=p&&P&&!P.nodeType&&P,n=t&&t.exports===p?v.Buffer:void 0,o=n?n.allocUnsafe:void 0;P.exports=function(b,w){if(w)return b.slice();var R=b.length,N=o?o(R):new b.constructor(R);return b.copy(N),N}},96961:(P,H,h)=>{var v=h(49569);P.exports=function(t,e){var n=e?v(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},66766:P=>{var H=/\w*$/;P.exports=function(v){var p=new v.constructor(v.source,H.exec(v));return p.lastIndex=v.lastIndex,p}},74610:(P,H,h)=>{var v=h(5144),p=v?v.prototype:void 0,t=p?p.valueOf:void 0;P.exports=function(n){return t?Object(t.call(n)):{}}},40625:(P,H,h)=>{var v=h(49569);P.exports=function(t,e){var n=e?v(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},93895:P=>{P.exports=function(h,v){var p=-1,t=h.length;for(v||(v=Array(t));++p<t;)v[p]=h[p];return v}},56394:(P,H,h)=>{var v=h(49782),p=h(75372);P.exports=function(e,n,o,u){var b=!o;o||(o={});for(var w=-1,R=n.length;++w<R;){var N=n[w],W=u?u(o[N],e[N],N,o,e):void 0;void 0===W&&(W=e[N]),b?p(o,N,W):v(o,N,W)}return o}},56306:(P,H,h)=>{var v=h(56394),p=h(77664);P.exports=function(e,n){return v(e,p(e),n)}},81294:(P,H,h)=>{var v=h(56394),p=h(19722);P.exports=function(e,n){return v(e,p(e),n)}},17592:(P,H,h)=>{var v=h(56807);P.exports=v["__core-js_shared__"]},59891:(P,H,h)=>{var v=h(18324),p=function(){try{var t=v(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();P.exports=p},89948:P=>{var H="object"==typeof global&&global&&global.Object===Object&&global;P.exports=H},72972:(P,H,h)=>{var v=h(99262),p=h(77664),t=h(254);P.exports=function(n){return v(n,t,p)}},77449:(P,H,h)=>{var v=h(99262),p=h(19722),t=h(22174);P.exports=function(n){return v(n,t,p)}},1520:(P,H,h)=>{var v=h(90149);P.exports=function(t,e){var n=t.__data__;return v(e)?n["string"==typeof e?"string":"hash"]:n.map}},18324:(P,H,h)=>{var v=h(42523),p=h(45278);P.exports=function(e,n){var o=p(e,n);return v(o)?o:void 0}},32341:(P,H,h)=>{var p=h(49219)(Object.getPrototypeOf,Object);P.exports=p},36476:(P,H,h)=>{var v=h(5144),p=Object.prototype,t=p.hasOwnProperty,e=p.toString,n=v?v.toStringTag:void 0;P.exports=function(u){var b=t.call(u,n),w=u[n];try{u[n]=void 0;var R=!0}catch(W){}var N=e.call(u);return R&&(b?u[n]=w:delete u[n]),N}},77664:(P,H,h)=>{var v=h(94382),p=h(75289),e=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;P.exports=n?function(u){return null==u?[]:(u=Object(u),v(n(u),function(b){return e.call(u,b)}))}:p},19722:(P,H,h)=>{var v=h(57437),p=h(32341),t=h(77664),e=h(75289);P.exports=Object.getOwnPropertySymbols?function(u){for(var b=[];u;)v(b,t(u)),u=p(u);return b}:e},24524:(P,H,h)=>{var v=h(20696),p=h(43664),t=h(87209),e=h(39434),n=h(69847),o=h(92663),u=h(18085),b="[object Map]",R="[object Promise]",N="[object Set]",W="[object WeakMap]",Z="[object DataView]",K=u(v),ae=u(p),xe=u(t),fe=u(e),_e=u(n),Oe=o;(v&&Oe(new v(new ArrayBuffer(1)))!=Z||p&&Oe(new p)!=b||t&&Oe(t.resolve())!=R||e&&Oe(new e)!=N||n&&Oe(new n)!=W)&&(Oe=function(Be){var Ee=o(Be),ce="[object Object]"==Ee?Be.constructor:void 0,q=ce?u(ce):"";if(q)switch(q){case K:return Z;case ae:return b;case xe:return R;case fe:return N;case _e:return W}return Ee}),P.exports=Oe},45278:P=>{P.exports=function(h,v){return null==h?void 0:h[v]}},39338:(P,H,h)=>{var v=h(24039);P.exports=function(){this.__data__=v?v(null):{},this.size=0}},81439:P=>{P.exports=function(h){var v=this.has(h)&&delete this.__data__[h];return this.size-=v?1:0,v}},15136:(P,H,h)=>{var v=h(24039),e=Object.prototype.hasOwnProperty;P.exports=function(o){var u=this.__data__;if(v){var b=u[o];return"__lodash_hash_undefined__"===b?void 0:b}return e.call(u,o)?u[o]:void 0}},48899:(P,H,h)=>{var v=h(24039),t=Object.prototype.hasOwnProperty;P.exports=function(n){var o=this.__data__;return v?void 0!==o[n]:t.call(o,n)}},49077:(P,H,h)=>{var v=h(24039);P.exports=function(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=v&&void 0===n?"__lodash_hash_undefined__":n,this}},72181:P=>{var h=Object.prototype.hasOwnProperty;P.exports=function(p){var t=p.length,e=new p.constructor(t);return t&&"string"==typeof p[0]&&h.call(p,"index")&&(e.index=p.index,e.input=p.input),e}},70334:(P,H,h)=>{var v=h(49569),p=h(96961),t=h(66766),e=h(74610),n=h(40625);P.exports=function(Pe,oe,de){var te=Pe.constructor;switch(oe){case"[object ArrayBuffer]":return v(Pe);case"[object Boolean]":case"[object Date]":return new te(+Pe);case"[object DataView]":return p(Pe,de);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return n(Pe,de);case"[object Map]":case"[object Set]":return new te;case"[object Number]":case"[object String]":return new te(Pe);case"[object RegExp]":return t(Pe);case"[object Symbol]":return e(Pe)}}},80323:(P,H,h)=>{var v=h(51328),p=h(32341),t=h(21907);P.exports=function(n){return"function"!=typeof n.constructor||t(n)?{}:v(p(n))}},5021:P=>{var h=/^(?:0|[1-9]\d*)$/;P.exports=function(p,t){var e=typeof p;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&h.test(p))&&p>-1&&p%1==0&&p<t}},36474:(P,H,h)=>{var v=h(87572),p=h(2957),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;P.exports=function(o,u){if(v(o))return!1;var b=typeof o;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=o&&!p(o))||e.test(o)||!t.test(o)||null!=u&&o in Object(u)}},90149:P=>{P.exports=function(h){var v=typeof h;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==h:null===h}},24425:(P,H,h)=>{var e,v=h(17592),p=(e=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";P.exports=function(e){return!!p&&p in e}},21907:P=>{var H=Object.prototype;P.exports=function(v){var p=v&&v.constructor;return v===("function"==typeof p&&p.prototype||H)}},20900:P=>{P.exports=function(){this.__data__=[],this.size=0}},84044:(P,H,h)=>{var v=h(42128),t=Array.prototype.splice;P.exports=function(n){var o=this.__data__,u=v(o,n);return!(u<0||(u==o.length-1?o.pop():t.call(o,u,1),--this.size,0))}},66981:(P,H,h)=>{var v=h(42128);P.exports=function(t){var e=this.__data__,n=v(e,t);return n<0?void 0:e[n][1]}},84629:(P,H,h)=>{var v=h(42128);P.exports=function(t){return v(this.__data__,t)>-1}},62720:(P,H,h)=>{var v=h(42128);P.exports=function(t,e){var n=this.__data__,o=v(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},99166:(P,H,h)=>{var v=h(54141),p=h(943),t=h(43664);P.exports=function(){this.size=0,this.__data__={hash:new v,map:new(t||p),string:new v}}},61222:(P,H,h)=>{var v=h(1520);P.exports=function(t){var e=v(this,t).delete(t);return this.size-=e?1:0,e}},22470:(P,H,h)=>{var v=h(1520);P.exports=function(t){return v(this,t).get(t)}},1048:(P,H,h)=>{var v=h(1520);P.exports=function(t){return v(this,t).has(t)}},34186:(P,H,h)=>{var v=h(1520);P.exports=function(t,e){var n=v(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},23213:(P,H,h)=>{var v=h(26504);P.exports=function(e){var n=v(e,function(u){return 500===o.size&&o.clear(),u}),o=n.cache;return n}},24039:(P,H,h)=>{var p=h(18324)(Object,"create");P.exports=p},37504:(P,H,h)=>{var p=h(49219)(Object.keys,Object);P.exports=p},20495:P=>{P.exports=function(h){var v=[];if(null!=h)for(var p in Object(h))v.push(p);return v}},57662:(P,H,h)=>{P=h.nmd(P);var v=h(89948),p=H&&!H.nodeType&&H,t=p&&P&&!P.nodeType&&P,n=t&&t.exports===p&&v.process,o=function(){try{return t&&t.require&&t.require("util").types||n&&n.binding&&n.binding("util")}catch(b){}}();P.exports=o},65899:P=>{var h=Object.prototype.toString;P.exports=function(p){return h.call(p)}},49219:P=>{P.exports=function(h,v){return function(p){return h(v(p))}}},56807:(P,H,h)=>{var v=h(89948),p="object"==typeof self&&self&&self.Object===Object&&self,t=v||p||Function("return this")();P.exports=t},47432:(P,H,h)=>{var v=h(943);P.exports=function(){this.__data__=new v,this.size=0}},46639:P=>{P.exports=function(h){var v=this.__data__,p=v.delete(h);return this.size=v.size,p}},11372:P=>{P.exports=function(h){return this.__data__.get(h)}},38313:P=>{P.exports=function(h){return this.__data__.has(h)}},23137:(P,H,h)=>{var v=h(943),p=h(43664),t=h(17324);P.exports=function(o,u){var b=this.__data__;if(b instanceof v){var w=b.__data__;if(!p||w.length<199)return w.push([o,u]),this.size=++b.size,this;b=this.__data__=new t(w)}return b.set(o,u),this.size=b.size,this}},52908:(P,H,h)=>{var v=h(23213),p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,e=v(function(n){var o=[];return 46===n.charCodeAt(0)&&o.push(""),n.replace(p,function(u,b,w,R){o.push(w?R.replace(t,"$1"):b||u)}),o});P.exports=e},55844:(P,H,h)=>{var v=h(2957);P.exports=function(e){if("string"==typeof e||v(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},18085:P=>{var h=Function.prototype.toString;P.exports=function(p){if(null!=p){try{return h.call(p)}catch(t){}try{return p+""}catch(t){}}return""}},77282:(P,H,h)=>{var v=h(55594);P.exports=function(n){return v(n,5)}},47660:P=>{P.exports=function(h,v){return h===v||h!=h&&v!=v}},60778:(P,H,h)=>{var v=h(885);P.exports=function(t,e,n){var o=null==t?void 0:v(t,e);return void 0===o?n:o}},92526:(P,H,h)=>{var v=h(45446),p=h(3937),t=Object.prototype,e=t.hasOwnProperty,n=t.propertyIsEnumerable,o=v(function(){return arguments}())?v:function(u){return p(u)&&e.call(u,"callee")&&!n.call(u,"callee")};P.exports=o},87572:P=>{P.exports=Array.isArray},32292:(P,H,h)=>{var v=h(83032),p=h(10862);P.exports=function(e){return null!=e&&p(e.length)&&!v(e)}},77790:(P,H,h)=>{P=h.nmd(P);var v=h(56807),p=h(88603),t=H&&!H.nodeType&&H,e=t&&P&&!P.nodeType&&P,o=e&&e.exports===t?v.Buffer:void 0;P.exports=(o?o.isBuffer:void 0)||p},18421:(P,H,h)=>{var v=h(69894),p=h(24524),t=h(92526),e=h(87572),n=h(32292),o=h(77790),u=h(21907),b=h(18353),W=Object.prototype.hasOwnProperty;P.exports=function(K){if(null==K)return!0;if(n(K)&&(e(K)||"string"==typeof K||"function"==typeof K.splice||o(K)||b(K)||t(K)))return!K.length;var ae=p(K);if("[object Map]"==ae||"[object Set]"==ae)return!K.size;if(u(K))return!v(K).length;for(var xe in K)if(W.call(K,xe))return!1;return!0}},83032:(P,H,h)=>{var v=h(92663),p=h(75388);P.exports=function(b){if(!p(b))return!1;var w=v(b);return"[object Function]"==w||"[object GeneratorFunction]"==w||"[object AsyncFunction]"==w||"[object Proxy]"==w}},10862:P=>{P.exports=function(v){return"number"==typeof v&&v>-1&&v%1==0&&v<=9007199254740991}},68586:(P,H,h)=>{var v=h(68306),p=h(76041),t=h(57662),e=t&&t.isMap,n=e?p(e):v;P.exports=n},75388:P=>{P.exports=function(h){var v=typeof h;return null!=h&&("object"==v||"function"==v)}},3937:P=>{P.exports=function(h){return null!=h&&"object"==typeof h}},12507:(P,H,h)=>{var v=h(92663),p=h(32341),t=h(3937),u=Function.prototype.toString,b=Object.prototype.hasOwnProperty,w=u.call(Object);P.exports=function(N){if(!t(N)||"[object Object]"!=v(N))return!1;var W=p(N);if(null===W)return!0;var Z=b.call(W,"constructor")&&W.constructor;return"function"==typeof Z&&Z instanceof Z&&u.call(Z)==w}},5981:(P,H,h)=>{var v=h(73256),p=h(76041),t=h(57662),e=t&&t.isSet,n=e?p(e):v;P.exports=n},2957:(P,H,h)=>{var v=h(92663),p=h(3937);P.exports=function(n){return"symbol"==typeof n||p(n)&&"[object Symbol]"==v(n)}},18353:(P,H,h)=>{var v=h(66165),p=h(76041),t=h(57662),e=t&&t.isTypedArray,n=e?p(e):v;P.exports=n},254:(P,H,h)=>{var v=h(264),p=h(69894),t=h(32292);P.exports=function(n){return t(n)?v(n):p(n)}},22174:(P,H,h)=>{var v=h(264),p=h(76119),t=h(32292);P.exports=function(n){return t(n)?v(n,!0):p(n)}},26504:(P,H,h)=>{var v=h(17324);function t(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var o=function(){var u=arguments,b=n?n.apply(this,u):u[0],w=o.cache;if(w.has(b))return w.get(b);var R=e.apply(this,u);return o.cache=w.set(b,R)||w,R};return o.cache=new(t.Cache||v),o}t.Cache=v,P.exports=t},75289:P=>{P.exports=function(){return[]}},88603:P=>{P.exports=function(){return!1}},63881:(P,H,h)=>{var v=h(78873);P.exports=function(t){return null==t?"":v(t)}},59009:(P,H,h)=>{var v="function"==typeof Map&&Map.prototype,p=Object.getOwnPropertyDescriptor&&v?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=v&&p&&"function"==typeof p.get?p.get:null,e=v&&Map.prototype.forEach,n="function"==typeof Set&&Set.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=n&&o&&"function"==typeof o.get?o.get:null,b=n&&Set.prototype.forEach,R="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,W="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,K="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ae=Boolean.prototype.valueOf,xe=Object.prototype.toString,fe=Function.prototype.toString,_e=String.prototype.match,Oe="function"==typeof BigInt?BigInt.prototype.valueOf:null,Be=Object.getOwnPropertySymbols,Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ce="function"==typeof Symbol&&"object"==typeof Symbol.iterator,q="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,se=Object.prototype.propertyIsEnumerable,ne=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(be){return be.__proto__}:null),Pe=h(96553).custom,oe=Pe&&Bt(Pe)?Pe:null;function de(be,Ae,St){var It="double"===(St.quoteStyle||Ae)?'"':"'";return It+be+It}function te(be){return String(be).replace(/"/g,"&quot;")}function ie(be){return!("[object Array]"!==qt(be)||q&&"object"==typeof be&&q in be)}function Bt(be){if(ce)return be&&"object"==typeof be&&be instanceof Symbol;if("symbol"==typeof be)return!0;if(!be||"object"!=typeof be||!Ee)return!1;try{return Ee.call(be),!0}catch(Ae){}return!1}P.exports=function be(Ae,St,It,ci){var Zt=St||{};if(vi(Zt,"quoteStyle")&&"single"!==Zt.quoteStyle&&"double"!==Zt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(vi(Zt,"maxStringLength")&&("number"==typeof Zt.maxStringLength?Zt.maxStringLength<0&&Zt.maxStringLength!==1/0:null!==Zt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var li=!vi(Zt,"customInspect")||Zt.customInspect;if("boolean"!=typeof li&&"symbol"!==li)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(vi(Zt,"indent")&&null!==Zt.indent&&"\t"!==Zt.indent&&!(parseInt(Zt.indent,10)===Zt.indent&&Zt.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===Ae)return"undefined";if(null===Ae)return"null";if("boolean"==typeof Ae)return Ae?"true":"false";if("string"==typeof Ae)return dt(Ae,Zt);if("number"==typeof Ae)return 0===Ae?1/0/Ae>0?"0":"-0":String(Ae);if("bigint"==typeof Ae)return String(Ae)+"n";var Fi=void 0===Zt.depth?5:Zt.depth;if(void 0===It&&(It=0),It>=Fi&&Fi>0&&"object"==typeof Ae)return ie(Ae)?"[Array]":"[Object]";var ui=function(be,Ae){var St;if("\t"===be.indent)St="\t";else{if(!("number"==typeof be.indent&&be.indent>0))return null;St=Array(be.indent+1).join(" ")}return{base:St,prev:Array(Ae+1).join(St)}}(Zt,It);if(void 0===ci)ci=[];else if(ri(ci,Ae)>=0)return"[Circular]";function Ei(Zi,wn,Jt){if(wn&&(ci=ci.slice()).push(wn),Jt){var Rt={depth:Zt.depth};return vi(Zt,"quoteStyle")&&(Rt.quoteStyle=Zt.quoteStyle),be(Zi,Rt,It+1,ci)}return be(Zi,Zt,It+1,ci)}if("function"==typeof Ae){var gi=function(be){if(be.name)return be.name;var Ae=_e.call(fe.call(be),/^function\s*([\w$]+)/);return Ae?Ae[1]:null}(Ae),jt=ot(Ae,Ei);return"[Function"+(gi?": "+gi:" (anonymous)")+"]"+(jt.length>0?" { "+jt.join(", ")+" }":"")}if(Bt(Ae)){var oi=ce?String(Ae).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Ee.call(Ae);return"object"!=typeof Ae||ce?oi:lt(oi)}if(function(be){return!(!be||"object"!=typeof be)&&("undefined"!=typeof HTMLElement&&be instanceof HTMLElement||"string"==typeof be.nodeName&&"function"==typeof be.getAttribute)}(Ae)){for(var ut="<"+String(Ae.nodeName).toLowerCase(),Wt=Ae.attributes||[],ei=0;ei<Wt.length;ei++)ut+=" "+Wt[ei].name+"="+de(te(Wt[ei].value),"double",Zt);return ut+=">",Ae.childNodes&&Ae.childNodes.length&&(ut+="..."),ut+"</"+String(Ae.nodeName).toLowerCase()+">"}if(ie(Ae)){if(0===Ae.length)return"[]";var Di=ot(Ae,Ei);return ui&&!function(be){for(var Ae=0;Ae<be.length;Ae++)if(ri(be[Ae],"\n")>=0)return!1;return!0}(Di)?"["+rt(Di,ui)+"]":"[ "+Di.join(", ")+" ]"}if(function(be){return!("[object Error]"!==qt(be)||q&&"object"==typeof be&&q in be)}(Ae)){var Nt=ot(Ae,Ei);return 0===Nt.length?"["+String(Ae)+"]":"{ ["+String(Ae)+"] "+Nt.join(", ")+" }"}if("object"==typeof Ae&&li){if(oe&&"function"==typeof Ae[oe])return Ae[oe]();if("symbol"!==li&&"function"==typeof Ae.inspect)return Ae.inspect()}if(function(be){if(!t||!be||"object"!=typeof be)return!1;try{t.call(be);try{u.call(be)}catch(Ae){return!0}return be instanceof Map}catch(Ae){}return!1}(Ae)){var it=[];return e.call(Ae,function(Zi,wn){it.push(Ei(wn,Ae,!0)+" => "+Ei(Zi,Ae))}),Ye("Map",t.call(Ae),it,ui)}if(function(be){if(!u||!be||"object"!=typeof be)return!1;try{u.call(be);try{t.call(be)}catch(Ae){return!0}return be instanceof Set}catch(Ae){}return!1}(Ae)){var Me=[];return b.call(Ae,function(Zi){Me.push(Ei(Zi,Ae))}),Ye("Set",u.call(Ae),Me,ui)}if(function(be){if(!R||!be||"object"!=typeof be)return!1;try{R.call(be,R);try{W.call(be,W)}catch(Ae){return!0}return be instanceof WeakMap}catch(Ae){}return!1}(Ae))return ze("WeakMap");if(function(be){if(!W||!be||"object"!=typeof be)return!1;try{W.call(be,W);try{R.call(be,R)}catch(Ae){return!0}return be instanceof WeakSet}catch(Ae){}return!1}(Ae))return ze("WeakSet");if(function(be){if(!K||!be||"object"!=typeof be)return!1;try{return K.call(be),!0}catch(Ae){}return!1}(Ae))return ze("WeakRef");if(function(be){return!("[object Number]"!==qt(be)||q&&"object"==typeof be&&q in be)}(Ae))return lt(Ei(Number(Ae)));if(function(be){if(!be||"object"!=typeof be||!Oe)return!1;try{return Oe.call(be),!0}catch(Ae){}return!1}(Ae))return lt(Ei(Oe.call(Ae)));if(function(be){return!("[object Boolean]"!==qt(be)||q&&"object"==typeof be&&q in be)}(Ae))return lt(ae.call(Ae));if(function(be){return!("[object String]"!==qt(be)||q&&"object"==typeof be&&q in be)}(Ae))return lt(Ei(String(Ae)));if(!function(be){return!("[object Date]"!==qt(be)||q&&"object"==typeof be&&q in be)}(Ae)&&!function(be){return!("[object RegExp]"!==qt(be)||q&&"object"==typeof be&&q in be)}(Ae)){var re=ot(Ae,Ei),De=ne?ne(Ae)===Object.prototype:Ae instanceof Object||Ae.constructor===Object,et=Ae instanceof Object?"":"null prototype",vt=!De&&q&&Object(Ae)===Ae&&q in Ae?qt(Ae).slice(8,-1):et?"Object":"",ki=(De||"function"!=typeof Ae.constructor?"":Ae.constructor.name?Ae.constructor.name+" ":"")+(vt||et?"["+[].concat(vt||[],et||[]).join(": ")+"] ":"");return 0===re.length?ki+"{}":ui?ki+"{"+rt(re,ui)+"}":ki+"{ "+re.join(", ")+" }"}return String(Ae)};var Kt=Object.prototype.hasOwnProperty||function(be){return be in this};function vi(be,Ae){return Kt.call(be,Ae)}function qt(be){return xe.call(be)}function ri(be,Ae){if(be.indexOf)return be.indexOf(Ae);for(var St=0,It=be.length;St<It;St++)if(be[St]===Ae)return St;return-1}function dt(be,Ae){if(be.length>Ae.maxStringLength){var St=be.length-Ae.maxStringLength,It="... "+St+" more character"+(St>1?"s":"");return dt(be.slice(0,Ae.maxStringLength),Ae)+It}return de(be.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,zt),"single",Ae)}function zt(be){var Ae=be.charCodeAt(0),St={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ae];return St?"\\"+St:"\\x"+(Ae<16?"0":"")+Ae.toString(16).toUpperCase()}function lt(be){return"Object("+be+")"}function ze(be){return be+" { ? }"}function Ye(be,Ae,St,It){return be+" ("+Ae+") {"+(It?rt(St,It):St.join(", "))+"}"}function rt(be,Ae){if(0===be.length)return"";var St="\n"+Ae.prev+Ae.base;return St+be.join(","+St)+"\n"+Ae.prev}function ot(be,Ae){var St=ie(be),It=[];if(St){It.length=be.length;for(var ci=0;ci<be.length;ci++)It[ci]=vi(be,ci)?Ae(be[ci],be):""}var li,Zt="function"==typeof Be?Be(be):[];if(ce){li={};for(var Fi=0;Fi<Zt.length;Fi++)li["$"+Zt[Fi]]=Zt[Fi]}for(var ui in be)!vi(be,ui)||St&&String(Number(ui))===ui&&ui<be.length||ce&&li["$"+ui]instanceof Symbol||(/[^\w$]/.test(ui)?It.push(Ae(ui,be)+": "+Ae(be[ui],be)):It.push(ui+": "+Ae(be[ui],be)));if("function"==typeof Be)for(var Ei=0;Ei<Zt.length;Ei++)se.call(be,Zt[Ei])&&It.push("["+Ae(Zt[Ei])+"]: "+Ae(be[Zt[Ei]],be));return It}},70721:P=>{"use strict";function H(h,v){return Object.prototype.hasOwnProperty.call(h,v)}P.exports=function(h,v,p,t){p=p||"=";var e={};if("string"!=typeof h||0===h.length)return e;var n=/\+/g;h=h.split(v=v||"&");var o=1e3;t&&"number"==typeof t.maxKeys&&(o=t.maxKeys);var u=h.length;o>0&&u>o&&(u=o);for(var b=0;b<u;++b){var N,W,Z,K,w=h[b].replace(n,"%20"),R=w.indexOf(p);R>=0?(N=w.substr(0,R),W=w.substr(R+1)):(N=w,W=""),Z=decodeURIComponent(N),K=decodeURIComponent(W),H(e,Z)?Array.isArray(e[Z])?e[Z].push(K):e[Z]=[e[Z],K]:e[Z]=K}return e}},75892:P=>{"use strict";var H=function(h){switch(typeof h){case"string":return h;case"boolean":return h?"true":"false";case"number":return isFinite(h)?h:"";default:return""}};P.exports=function(h,v,p,t){return v=v||"&",p=p||"=",null===h&&(h=void 0),"object"==typeof h?Object.keys(h).map(function(e){var n=encodeURIComponent(H(e))+p;return Array.isArray(h[e])?h[e].map(function(o){return n+encodeURIComponent(H(o))}).join(v):n+encodeURIComponent(H(h[e]))}).join(v):t?encodeURIComponent(H(t))+p+encodeURIComponent(H(h)):""}},36e3:(P,H,h)=>{"use strict";H.decode=H.parse=h(70721),H.encode=H.stringify=h(75892)},26029:P=>{var H=function(h){"use strict";var t,v=Object.prototype,p=v.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",u=e.toStringTag||"@@toStringTag";function b(ve,He,ct){return Object.defineProperty(ve,He,{value:ct,enumerable:!0,configurable:!0,writable:!0}),ve[He]}try{b({},"")}catch(ve){b=function(He,ct,Yt){return He[ct]=Yt}}function w(ve,He,ct,Yt){var Bt=Object.create((He&&He.prototype instanceof xe?He:xe).prototype),Ht=new te(Yt||[]);return Bt._invoke=function(ve,He,ct){var Yt=N;return function(Bt,Ht){if(Yt===Z)throw new Error("Generator is already running");if(Yt===K){if("throw"===Bt)throw Ht;return Ge()}for(ct.method=Bt,ct.arg=Ht;;){var Kt=ct.delegate;if(Kt){var vi=Pe(Kt,ct);if(vi){if(vi===ae)continue;return vi}}if("next"===ct.method)ct.sent=ct._sent=ct.arg;else if("throw"===ct.method){if(Yt===N)throw Yt=K,ct.arg;ct.dispatchException(ct.arg)}else"return"===ct.method&&ct.abrupt("return",ct.arg);Yt=Z;var qt=R(ve,He,ct);if("normal"===qt.type){if(Yt=ct.done?K:W,qt.arg===ae)continue;return{value:qt.arg,done:ct.done}}"throw"===qt.type&&(Yt=K,ct.method="throw",ct.arg=qt.arg)}}}(ve,ct,Ht),Bt}function R(ve,He,ct){try{return{type:"normal",arg:ve.call(He,ct)}}catch(Yt){return{type:"throw",arg:Yt}}}h.wrap=w;var N="suspendedStart",W="suspendedYield",Z="executing",K="completed",ae={};function xe(){}function fe(){}function _e(){}var Oe={};b(Oe,n,function(){return this});var Be=Object.getPrototypeOf,Ee=Be&&Be(Be(ie([])));Ee&&Ee!==v&&p.call(Ee,n)&&(Oe=Ee);var ce=_e.prototype=xe.prototype=Object.create(Oe);function q(ve){["next","throw","return"].forEach(function(He){b(ve,He,function(ct){return this._invoke(He,ct)})})}function se(ve,He){function ct(Bt,Ht,Kt,vi){var qt=R(ve[Bt],ve,Ht);if("throw"!==qt.type){var Lt=qt.arg,ri=Lt.value;return ri&&"object"==typeof ri&&p.call(ri,"__await")?He.resolve(ri.__await).then(function(Ne){ct("next",Ne,Kt,vi)},function(Ne){ct("throw",Ne,Kt,vi)}):He.resolve(ri).then(function(Ne){Lt.value=Ne,Kt(Lt)},function(Ne){return ct("throw",Ne,Kt,vi)})}vi(qt.arg)}var Yt;this._invoke=function(Bt,Ht){function Kt(){return new He(function(vi,qt){ct(Bt,Ht,vi,qt)})}return Yt=Yt?Yt.then(Kt,Kt):Kt()}}function Pe(ve,He){var ct=ve.iterator[He.method];if(ct===t){if(He.delegate=null,"throw"===He.method){if(ve.iterator.return&&(He.method="return",He.arg=t,Pe(ve,He),"throw"===He.method))return ae;He.method="throw",He.arg=new TypeError("The iterator does not provide a 'throw' method")}return ae}var Yt=R(ct,ve.iterator,He.arg);if("throw"===Yt.type)return He.method="throw",He.arg=Yt.arg,He.delegate=null,ae;var ht=Yt.arg;return ht?ht.done?(He[ve.resultName]=ht.value,He.next=ve.nextLoc,"return"!==He.method&&(He.method="next",He.arg=t),He.delegate=null,ae):ht:(He.method="throw",He.arg=new TypeError("iterator result is not an object"),He.delegate=null,ae)}function oe(ve){var He={tryLoc:ve[0]};1 in ve&&(He.catchLoc=ve[1]),2 in ve&&(He.finallyLoc=ve[2],He.afterLoc=ve[3]),this.tryEntries.push(He)}function de(ve){var He=ve.completion||{};He.type="normal",delete He.arg,ve.completion=He}function te(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(oe,this),this.reset(!0)}function ie(ve){if(ve){var He=ve[n];if(He)return He.call(ve);if("function"==typeof ve.next)return ve;if(!isNaN(ve.length)){var ct=-1,Yt=function ht(){for(;++ct<ve.length;)if(p.call(ve,ct))return ht.value=ve[ct],ht.done=!1,ht;return ht.value=t,ht.done=!0,ht};return Yt.next=Yt}}return{next:Ge}}function Ge(){return{value:t,done:!0}}return fe.prototype=_e,b(ce,"constructor",_e),b(_e,"constructor",fe),fe.displayName=b(_e,u,"GeneratorFunction"),h.isGeneratorFunction=function(ve){var He="function"==typeof ve&&ve.constructor;return!!He&&(He===fe||"GeneratorFunction"===(He.displayName||He.name))},h.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,_e):(ve.__proto__=_e,b(ve,u,"GeneratorFunction")),ve.prototype=Object.create(ce),ve},h.awrap=function(ve){return{__await:ve}},q(se.prototype),b(se.prototype,o,function(){return this}),h.AsyncIterator=se,h.async=function(ve,He,ct,Yt,ht){void 0===ht&&(ht=Promise);var Bt=new se(w(ve,He,ct,Yt),ht);return h.isGeneratorFunction(He)?Bt:Bt.next().then(function(Ht){return Ht.done?Ht.value:Bt.next()})},q(ce),b(ce,u,"Generator"),b(ce,n,function(){return this}),b(ce,"toString",function(){return"[object Generator]"}),h.keys=function(ve){var He=[];for(var ct in ve)He.push(ct);return He.reverse(),function Yt(){for(;He.length;){var ht=He.pop();if(ht in ve)return Yt.value=ht,Yt.done=!1,Yt}return Yt.done=!0,Yt}},h.values=ie,te.prototype={constructor:te,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(de),!ve)for(var He in this)"t"===He.charAt(0)&&p.call(this,He)&&!isNaN(+He.slice(1))&&(this[He]=t)},stop:function(){this.done=!0;var He=this.tryEntries[0].completion;if("throw"===He.type)throw He.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var He=this;function ct(vi,qt){return Bt.type="throw",Bt.arg=ve,He.next=vi,qt&&(He.method="next",He.arg=t),!!qt}for(var Yt=this.tryEntries.length-1;Yt>=0;--Yt){var ht=this.tryEntries[Yt],Bt=ht.completion;if("root"===ht.tryLoc)return ct("end");if(ht.tryLoc<=this.prev){var Ht=p.call(ht,"catchLoc"),Kt=p.call(ht,"finallyLoc");if(Ht&&Kt){if(this.prev<ht.catchLoc)return ct(ht.catchLoc,!0);if(this.prev<ht.finallyLoc)return ct(ht.finallyLoc)}else if(Ht){if(this.prev<ht.catchLoc)return ct(ht.catchLoc,!0)}else{if(!Kt)throw new Error("try statement without catch or finally");if(this.prev<ht.finallyLoc)return ct(ht.finallyLoc)}}}},abrupt:function(ve,He){for(var ct=this.tryEntries.length-1;ct>=0;--ct){var Yt=this.tryEntries[ct];if(Yt.tryLoc<=this.prev&&p.call(Yt,"finallyLoc")&&this.prev<Yt.finallyLoc){var ht=Yt;break}}ht&&("break"===ve||"continue"===ve)&&ht.tryLoc<=He&&He<=ht.finallyLoc&&(ht=null);var Bt=ht?ht.completion:{};return Bt.type=ve,Bt.arg=He,ht?(this.method="next",this.next=ht.finallyLoc,ae):this.complete(Bt)},complete:function(ve,He){if("throw"===ve.type)throw ve.arg;return"break"===ve.type||"continue"===ve.type?this.next=ve.arg:"return"===ve.type?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):"normal"===ve.type&&He&&(this.next=He),ae},finish:function(ve){for(var He=this.tryEntries.length-1;He>=0;--He){var ct=this.tryEntries[He];if(ct.finallyLoc===ve)return this.complete(ct.completion,ct.afterLoc),de(ct),ae}},catch:function(ve){for(var He=this.tryEntries.length-1;He>=0;--He){var ct=this.tryEntries[He];if(ct.tryLoc===ve){var Yt=ct.completion;if("throw"===Yt.type){var ht=Yt.arg;de(ct)}return ht}}throw new Error("illegal catch attempt")},delegateYield:function(ve,He,ct){return this.delegate={iterator:ie(ve),resultName:He,nextLoc:ct},"next"===this.method&&(this.arg=t),ae}},h}(P.exports);try{regeneratorRuntime=H}catch(h){"object"==typeof globalThis?globalThis.regeneratorRuntime=H:Function("r","regeneratorRuntime = r")(H)}},93544:(P,H,h)=>{"use strict";var v=h(4320),p=h(4640),t=h(59009),e=v("%TypeError%"),n=v("%WeakMap%",!0),o=v("%Map%",!0),u=p("WeakMap.prototype.get",!0),b=p("WeakMap.prototype.set",!0),w=p("WeakMap.prototype.has",!0),R=p("Map.prototype.get",!0),N=p("Map.prototype.set",!0),W=p("Map.prototype.has",!0),Z=function(fe,_e){for(var Be,Oe=fe;null!==(Be=Oe.next);Oe=Be)if(Be.key===_e)return Oe.next=Be.next,Be.next=fe.next,fe.next=Be,Be};P.exports=function(){var _e,Oe,Be,Ee={assert:function(ce){if(!Ee.has(ce))throw new e("Side channel does not contain "+t(ce))},get:function(ce){if(n&&ce&&("object"==typeof ce||"function"==typeof ce)){if(_e)return u(_e,ce)}else if(o){if(Oe)return R(Oe,ce)}else if(Be)return function(fe,_e){var Oe=Z(fe,_e);return Oe&&Oe.value}(Be,ce)},has:function(ce){if(n&&ce&&("object"==typeof ce||"function"==typeof ce)){if(_e)return w(_e,ce)}else if(o){if(Oe)return W(Oe,ce)}else if(Be)return function(fe,_e){return!!Z(fe,_e)}(Be,ce);return!1},set:function(ce,q){n&&ce&&("object"==typeof ce||"function"==typeof ce)?(_e||(_e=new n),b(_e,ce,q)):o?(Oe||(Oe=new o),N(Oe,ce,q)):(Be||(Be={key:{},next:null}),function(fe,_e,Oe){var Be=Z(fe,_e);Be?Be.value=Oe:fe.next={key:_e,next:fe.next,value:Oe}}(Be,ce,q))}};return Ee}},47511:(P,H,h)=>{"use strict";h.r(H),h.d(H,{default:()=>pu,helpers:()=>_d});var v={};h.r(v),h.d(v,{JsonPatchError:()=>Ur,_areEquals:()=>Bl,applyOperation:()=>vs,applyPatch:()=>Bs,applyReducer:()=>Ec,deepClone:()=>wu,getValueByPointer:()=>Nl,validate:()=>so,validator:()=>Fl});var p={};h.r(p),h.d(p,{compare:()=>Cc,generate:()=>tl,observe:()=>Ys,unobserve:()=>Hl});var t={};h.r(t),h.d(t,{cookie:()=>cu,header:()=>Pc,path:()=>lu,query:()=>Uu});var e=h(49719),n=h(42475),o=h(25551),u=h(73507),b=h(41586),w=h(86657),R=h(40107),N=h(31082);function W(E,O,U){return O in E?N(E,O,{value:U,enumerable:!0,configurable:!0,writable:!0}):E[O]=U,E}function Z(E,O){var U=e(E);if(n){var J=n(E);O&&(J=o(J).call(J,function(pe){return u(E,pe).enumerable})),U.push.apply(U,J)}return U}function K(E){for(var O=1;O<arguments.length;O++){var J,U=null!=arguments[O]?arguments[O]:{};if(O%2)b(J=Z(Object(U),!0)).call(J,function(Ve){W(E,Ve,U[Ve])});else if(w)R(E,w(U));else{var pe;b(pe=Z(Object(U))).call(pe,function(Ve){N(E,Ve,u(U,Ve))})}}return E}var ae=h(41246),xe=h.n(ae),fe=h(15157),_e=h.n(fe),Oe=h(5128),Be=h(84215),Ee=h(17830),ce=h(6275),q=h(28355),se=h(16051);function ne(E,O){(null==O||O>E.length)&&(O=E.length);for(var U=0,J=new Array(O);U<O;U++)J[U]=E[U];return J}function Pe(E,O){var U;if(E){if("string"==typeof E)return ne(E,O);var J=q(U=Object.prototype.toString.call(E)).call(U,8,-1);if("Object"===J&&E.constructor&&(J=E.constructor.name),"Map"===J||"Set"===J)return se(E);if("Arguments"===J||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return ne(E,O)}}function oe(E,O){var U=void 0!==Be&&Ee(E)||E["@@iterator"];if(!U){if(ce(E)||(U=Pe(E))||O&&E&&"number"==typeof E.length){U&&(E=U);var J=0,pe=function(){};return{s:pe,n:function(){return J>=E.length?{done:!0}:{done:!1,value:E[J++]}},e:function(mt){throw mt},f:pe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var tt,Ve=!0,Ue=!1;return{s:function(){U=U.call(E)},n:function(){var mt=U.next();return Ve=mt.done,mt},e:function(mt){Ue=!0,tt=mt},f:function(){try{!Ve&&null!=U.return&&U.return()}finally{if(Ue)throw tt}}}}var de=h(36496);function te(E){return(te="function"==typeof Be&&"symbol"==typeof de?function(U){return typeof U}:function(U){return U&&"function"==typeof Be&&U.constructor===Be&&U!==Be.prototype?"symbol":typeof U})(E)}function He(E,O){return function(E){if(ce(E))return E}(E)||function(E,O){var U=null==E?null:void 0!==Be&&Ee(E)||E["@@iterator"];if(null!=U){var Ue,tt,J=[],pe=!0,Ve=!1;try{for(U=U.call(E);!(pe=(Ue=U.next()).done)&&(J.push(Ue.value),!O||J.length!==O);pe=!0);}catch(pt){Ve=!0,tt=pt}finally{try{!pe&&null!=U.return&&U.return()}finally{if(Ve)throw tt}}return J}}(E,O)||Pe(E,O)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ct=h(75534);function Yt(E,O,U,J,pe,Ve,Ue){try{var tt=E[Ve](Ue),pt=tt.value}catch(mt){return void U(mt)}tt.done?O(pt):ct.resolve(pt).then(J,pe)}function ht(E){return function(){var O=this,U=arguments;return new ct(function(J,pe){var Ve=E.apply(O,U);function Ue(pt){Yt(Ve,J,pe,Ue,tt,"next",pt)}function tt(pt){Yt(Ve,J,pe,Ue,tt,"throw",pt)}Ue(void 0)})}}var Bt=h(22043),Ht=h.n(Bt),Kt=h(17423),vi=h.n(Kt),qt=h(58201),Lt=h.n(qt),ri=h(6089),Ne=h.n(ri),_t=h(99182),Ke=h.n(_t),Je=h(32633),we=h.n(Je),Le=h(17878),dt=h.n(Le),zt=h(44559),lt=h.n(zt),ze=h(2165),Ye=h.n(ze),gt=h(37647),Ze=h.n(gt),ot=(h(11966),h(84268)),be=h.n(ot);function Ae(E){return null==E}var ut={isNothing:Ae,isObject:function(E){return"object"==typeof E&&null!==E},toArray:function(E){return Array.isArray(E)?E:Ae(E)?[]:[E]},repeat:function(E,O){var J,U="";for(J=0;J<O;J+=1)U+=E;return U},isNegativeZero:function(E){return 0===E&&Number.NEGATIVE_INFINITY===1/E},extend:function(E,O){var U,J,pe,Ve;if(O)for(U=0,J=(Ve=Object.keys(O)).length;U<J;U+=1)E[pe=Ve[U]]=O[pe];return E}};function Wt(E,O){var U="",J=E.reason||"(unknown reason)";return E.mark?(E.mark.name&&(U+='in "'+E.mark.name+'" '),U+="("+(E.mark.line+1)+":"+(E.mark.column+1)+")",!O&&E.mark.snippet&&(U+="\n\n"+E.mark.snippet),J+" "+U):J}function ei(E,O){Error.call(this),this.name="YAMLException",this.reason=E,this.mark=O,this.message=Wt(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(ei.prototype=Object.create(Error.prototype)).constructor=ei,ei.prototype.toString=function(O){return this.name+": "+Wt(this,O)};var Di=ei;function Nt(E,O,U,J,pe){var Ve="",Ue="",tt=Math.floor(pe/2)-1;return J-O>tt&&(O=J-tt+(Ve=" ... ").length),U-J>tt&&(U=J+tt-(Ue=" ...").length),{str:Ve+E.slice(O,U).replace(/\t/g,"\u2192")+Ue,pos:J-O+Ve.length}}function it(E,O){return ut.repeat(" ",O-E.length)+E}var De=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],et=["scalar","sequence","mapping"],ki=function(E,O){if(O=O||{},Object.keys(O).forEach(function(U){if(-1===De.indexOf(U))throw new Di('Unknown option "'+U+'" is met in definition of "'+E+'" YAML type.')}),this.options=O,this.tag=E,this.kind=O.kind||null,this.resolve=O.resolve||function(){return!0},this.construct=O.construct||function(U){return U},this.instanceOf=O.instanceOf||null,this.predicate=O.predicate||null,this.represent=O.represent||null,this.representName=O.representName||null,this.defaultStyle=O.defaultStyle||null,this.multi=O.multi||!1,this.styleAliases=function(E){var O={};return null!==E&&Object.keys(E).forEach(function(U){E[U].forEach(function(J){O[String(J)]=U})}),O}(O.styleAliases||null),-1===et.indexOf(this.kind))throw new Di('Unknown kind "'+this.kind+'" is specified for "'+E+'" YAML type.')};function Zi(E,O){var U=[];return E[O].forEach(function(J){var pe=U.length;U.forEach(function(Ve,Ue){Ve.tag===J.tag&&Ve.kind===J.kind&&Ve.multi===J.multi&&(pe=Ue)}),U[pe]=J}),U}function Jt(E){return this.extend(E)}Jt.prototype.extend=function(O){var U=[],J=[];if(O instanceof ki)J.push(O);else if(Array.isArray(O))J=J.concat(O);else{if(!O||!Array.isArray(O.implicit)&&!Array.isArray(O.explicit))throw new Di("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");O.implicit&&(U=U.concat(O.implicit)),O.explicit&&(J=J.concat(O.explicit))}U.forEach(function(Ve){if(!(Ve instanceof ki))throw new Di("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(Ve.loadKind&&"scalar"!==Ve.loadKind)throw new Di("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(Ve.multi)throw new Di("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),J.forEach(function(Ve){if(!(Ve instanceof ki))throw new Di("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var pe=Object.create(Jt.prototype);return pe.implicit=(this.implicit||[]).concat(U),pe.explicit=(this.explicit||[]).concat(J),pe.compiledImplicit=Zi(pe,"implicit"),pe.compiledExplicit=Zi(pe,"explicit"),pe.compiledTypeMap=function(){var O,U,E={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function J(pe){pe.multi?(E.multi[pe.kind].push(pe),E.multi.fallback.push(pe)):E[pe.kind][pe.tag]=E.fallback[pe.tag]=pe}for(O=0,U=arguments.length;O<U;O+=1)arguments[O].forEach(J);return E}(pe.compiledImplicit,pe.compiledExplicit),pe};var Rt=Jt,Ct=new ki("tag:yaml.org,2002:str",{kind:"scalar",construct:function(E){return null!==E?E:""}}),Xt=new ki("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(E){return null!==E?E:[]}}),pi=new ki("tag:yaml.org,2002:map",{kind:"mapping",construct:function(E){return null!==E?E:{}}}),Ki=new Rt({explicit:[Ct,Xt,pi]}),uo=new ki("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(E){if(null===E)return!0;var O=E.length;return 1===O&&"~"===E||4===O&&("null"===E||"Null"===E||"NULL"===E)},construct:function(){return null},predicate:function(E){return null===E},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),$n=new ki("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(E){if(null===E)return!1;var O=E.length;return 4===O&&("true"===E||"True"===E||"TRUE"===E)||5===O&&("false"===E||"False"===E||"FALSE"===E)},construct:function(E){return"true"===E||"True"===E||"TRUE"===E},predicate:function(E){return"[object Boolean]"===Object.prototype.toString.call(E)},represent:{lowercase:function(E){return E?"true":"false"},uppercase:function(E){return E?"TRUE":"FALSE"},camelcase:function(E){return E?"True":"False"}},defaultStyle:"lowercase"});function Is(E){return 48<=E&&E<=57||65<=E&&E<=70||97<=E&&E<=102}function or(E){return 48<=E&&E<=55}function Hi(E){return 48<=E&&E<=57}var Xo=new ki("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(E){if(null===E)return!1;var pe,O=E.length,U=0,J=!1;if(!O)return!1;if(("-"===(pe=E[U])||"+"===pe)&&(pe=E[++U]),"0"===pe){if(U+1===O)return!0;if("b"===(pe=E[++U])){for(U++;U<O;U++)if("_"!==(pe=E[U])){if("0"!==pe&&"1"!==pe)return!1;J=!0}return J&&"_"!==pe}if("x"===pe){for(U++;U<O;U++)if("_"!==(pe=E[U])){if(!Is(E.charCodeAt(U)))return!1;J=!0}return J&&"_"!==pe}if("o"===pe){for(U++;U<O;U++)if("_"!==(pe=E[U])){if(!or(E.charCodeAt(U)))return!1;J=!0}return J&&"_"!==pe}}if("_"===pe)return!1;for(;U<O;U++)if("_"!==(pe=E[U])){if(!Hi(E.charCodeAt(U)))return!1;J=!0}return!(!J||"_"===pe)},construct:function(E){var J,O=E,U=1;if(-1!==O.indexOf("_")&&(O=O.replace(/_/g,"")),("-"===(J=O[0])||"+"===J)&&("-"===J&&(U=-1),J=(O=O.slice(1))[0]),"0"===O)return 0;if("0"===J){if("b"===O[1])return U*parseInt(O.slice(2),2);if("x"===O[1])return U*parseInt(O.slice(2),16);if("o"===O[1])return U*parseInt(O.slice(2),8)}return U*parseInt(O,10)},predicate:function(E){return"[object Number]"===Object.prototype.toString.call(E)&&E%1==0&&!ut.isNegativeZero(E)},represent:{binary:function(E){return E>=0?"0b"+E.toString(2):"-0b"+E.toString(2).slice(1)},octal:function(E){return E>=0?"0o"+E.toString(8):"-0o"+E.toString(8).slice(1)},decimal:function(E){return E.toString(10)},hexadecimal:function(E){return E>=0?"0x"+E.toString(16).toUpperCase():"-0x"+E.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),dr=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),Pr=/^[-+]?[0-9]+e/,jr=new ki("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(E){return!(null===E||!dr.test(E)||"_"===E[E.length-1])},construct:function(E){var O,U;return U="-"===(O=E.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(O[0])>=0&&(O=O.slice(1)),".inf"===O?1===U?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===O?NaN:U*parseFloat(O,10)},predicate:function(E){return"[object Number]"===Object.prototype.toString.call(E)&&(E%1!=0||ut.isNegativeZero(E))},represent:function(E,O){var U;if(isNaN(E))switch(O){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===E)switch(O){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===E)switch(O){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ut.isNegativeZero(E))return"-0.0";return U=E.toString(10),Pr.test(U)?U.replace("e",".e"):U},defaultStyle:"lowercase"}),ro=Ki.extend({implicit:[uo,$n,Xo,jr]}),vo=ro,ho=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Sr=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),vn=new ki("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(E){return null!==E&&(null!==ho.exec(E)||null!==Sr.exec(E))},construct:function(E){var O,U,J,pe,Ve,Ue,tt,Qt,pt=0,mt=null;if(null===(O=ho.exec(E))&&(O=Sr.exec(E)),null===O)throw new Error("Date resolve error");if(U=+O[1],J=+O[2]-1,pe=+O[3],!O[4])return new Date(Date.UTC(U,J,pe));if(Ve=+O[4],Ue=+O[5],tt=+O[6],O[7]){for(pt=O[7].slice(0,3);pt.length<3;)pt+="0";pt=+pt}return O[9]&&(mt=6e4*(60*+O[10]+ +(O[11]||0)),"-"===O[9]&&(mt=-mt)),Qt=new Date(Date.UTC(U,J,pe,Ve,Ue,tt,pt)),mt&&Qt.setTime(Qt.getTime()-mt),Qt},instanceOf:Date,represent:function(E){return E.toISOString()}}),Ar=new ki("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(E){return"<<"===E||null===E}}),yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",qn=new ki("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(E){if(null===E)return!1;var O,U,J=0,pe=E.length,Ve=yr;for(U=0;U<pe;U++)if(!((O=Ve.indexOf(E.charAt(U)))>64)){if(O<0)return!1;J+=6}return J%8==0},construct:function(E){var O,U,J=E.replace(/[\r\n=]/g,""),pe=J.length,Ve=yr,Ue=0,tt=[];for(O=0;O<pe;O++)O%4==0&&O&&(tt.push(Ue>>16&255),tt.push(Ue>>8&255),tt.push(255&Ue)),Ue=Ue<<6|Ve.indexOf(J.charAt(O));return 0==(U=pe%4*6)?(tt.push(Ue>>16&255),tt.push(Ue>>8&255),tt.push(255&Ue)):18===U?(tt.push(Ue>>10&255),tt.push(Ue>>2&255)):12===U&&tt.push(Ue>>4&255),new Uint8Array(tt)},predicate:function(E){return"[object Uint8Array]"===Object.prototype.toString.call(E)},represent:function(E){var J,pe,O="",U=0,Ve=E.length,Ue=yr;for(J=0;J<Ve;J++)J%3==0&&J&&(O+=Ue[U>>18&63],O+=Ue[U>>12&63],O+=Ue[U>>6&63],O+=Ue[63&U]),U=(U<<8)+E[J];return 0==(pe=Ve%3)?(O+=Ue[U>>18&63],O+=Ue[U>>12&63],O+=Ue[U>>6&63],O+=Ue[63&U]):2===pe?(O+=Ue[U>>10&63],O+=Ue[U>>4&63],O+=Ue[U<<2&63],O+=Ue[64]):1===pe&&(O+=Ue[U>>2&63],O+=Ue[U<<4&63],O+=Ue[64],O+=Ue[64]),O}}),wo=Object.prototype.hasOwnProperty,as=Object.prototype.toString,So=new ki("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(E){if(null===E)return!0;var U,J,pe,Ve,Ue,O=[],tt=E;for(U=0,J=tt.length;U<J;U+=1){if(Ue=!1,"[object Object]"!==as.call(pe=tt[U]))return!1;for(Ve in pe)if(wo.call(pe,Ve)){if(Ue)return!1;Ue=!0}if(!Ue)return!1;if(-1!==O.indexOf(Ve))return!1;O.push(Ve)}return!0},construct:function(E){return null!==E?E:[]}}),hr=Object.prototype.toString,aa=new ki("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(E){if(null===E)return!0;var O,U,J,pe,Ve,Ue=E;for(Ve=new Array(Ue.length),O=0,U=Ue.length;O<U;O+=1){if("[object Object]"!==hr.call(J=Ue[O])||1!==(pe=Object.keys(J)).length)return!1;Ve[O]=[pe[0],J[pe[0]]]}return!0},construct:function(E){if(null===E)return[];var O,U,J,pe,Ve,Ue=E;for(Ve=new Array(Ue.length),O=0,U=Ue.length;O<U;O+=1)J=Ue[O],pe=Object.keys(J),Ve[O]=[pe[0],J[pe[0]]];return Ve}}),Do=Object.prototype.hasOwnProperty,Mo=new ki("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(E){if(null===E)return!0;var O,U=E;for(O in U)if(Do.call(U,O)&&null!==U[O])return!1;return!0},construct:function(E){return null!==E?E:{}}}),la=vo.extend({implicit:[vn,Ar],explicit:[qn,So,aa,Mo]}),Ts=Object.prototype.hasOwnProperty,Mr=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,cs=/[\x85\u2028\u2029]/,xo=/[,\[\]\{\}]/,Ro=/^(?:!|!!|![a-z\-]+!)$/i,Qr=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function us(E){return Object.prototype.toString.call(E)}function Fr(E){return 10===E||13===E}function po(E){return 9===E||32===E}function Er(E){return 9===E||32===E||10===E||13===E}function Bo(E){return 44===E||91===E||93===E||123===E||125===E}function sr(E){var O;return 48<=E&&E<=57?E-48:97<=(O=32|E)&&O<=102?O-97+10:-1}function ds(E){return 120===E?2:117===E?4:85===E?8:0}function fr(E){return 48<=E&&E<=57?E-48:-1}function js(E){return 48===E?"\0":97===E?"\x07":98===E?"\b":116===E||9===E?"\t":110===E?"\n":118===E?"\v":102===E?"\f":114===E?"\r":101===E?"\x1b":32===E?" ":34===E?'"':47===E?"/":92===E?"\\":78===E?"\x85":95===E?"\xa0":76===E?"\u2028":80===E?"\u2029":""}function Ta(E){return E<=65535?String.fromCharCode(E):String.fromCharCode(55296+(E-65536>>10),56320+(E-65536&1023))}for(var Ho=new Array(256),Br=new Array(256),yo=0;yo<256;yo++)Ho[yo]=js(yo)?1:0,Br[yo]=js(yo);function ca(E,O){this.input=E,this.filename=O.filename||null,this.schema=O.schema||la,this.onWarning=O.onWarning||null,this.legacy=O.legacy||!1,this.json=O.json||!1,this.listener=O.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=E.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Gn(E,O){var U={name:E.filename,buffer:E.input.slice(0,-1),position:E.position,line:E.line,column:E.position-E.lineStart};return U.snippet=function(E,O){if(O=Object.create(O||null),!E.buffer)return null;O.maxLength||(O.maxLength=79),"number"!=typeof O.indent&&(O.indent=1),"number"!=typeof O.linesBefore&&(O.linesBefore=3),"number"!=typeof O.linesAfter&&(O.linesAfter=2);for(var Ve,U=/\r?\n|\r|\0/g,J=[0],pe=[],Ue=-1;Ve=U.exec(E.buffer);)pe.push(Ve.index),J.push(Ve.index+Ve[0].length),E.position<=Ve.index&&Ue<0&&(Ue=J.length-2);Ue<0&&(Ue=J.length-1);var pt,mt,tt="",Ut=Math.min(E.line+O.linesAfter,pe.length).toString().length,Gt=O.maxLength-(O.indent+Ut+3);for(pt=1;pt<=O.linesBefore&&!(Ue-pt<0);pt++)mt=Nt(E.buffer,J[Ue-pt],pe[Ue-pt],E.position-(J[Ue]-J[Ue-pt]),Gt),tt=ut.repeat(" ",O.indent)+it((E.line-pt+1).toString(),Ut)+" | "+mt.str+"\n"+tt;for(mt=Nt(E.buffer,J[Ue],pe[Ue],E.position,Gt),tt+=ut.repeat(" ",O.indent)+it((E.line+1).toString(),Ut)+" | "+mt.str+"\n",tt+=ut.repeat("-",O.indent+Ut+3+mt.pos)+"^\n",pt=1;pt<=O.linesAfter&&!(Ue+pt>=pe.length);pt++)mt=Nt(E.buffer,J[Ue+pt],pe[Ue+pt],E.position-(J[Ue]-J[Ue+pt]),Gt),tt+=ut.repeat(" ",O.indent)+it((E.line+pt+1).toString(),Ut)+" | "+mt.str+"\n";return tt.replace(/\n$/,"")}(U),new Di(O,U)}function tn(E,O){throw Gn(E,O)}function ws(E,O){E.onWarning&&E.onWarning.call(null,Gn(E,O))}var Se={YAML:function(O,U,J){var pe,Ve,Ue;null!==O.version&&tn(O,"duplication of %YAML directive"),1!==J.length&&tn(O,"YAML directive accepts exactly one argument"),null===(pe=/^([0-9]+)\.([0-9]+)$/.exec(J[0]))&&tn(O,"ill-formed argument of the YAML directive"),Ve=parseInt(pe[1],10),Ue=parseInt(pe[2],10),1!==Ve&&tn(O,"unacceptable YAML version of the document"),O.version=J[0],O.checkLineBreaks=Ue<2,1!==Ue&&2!==Ue&&ws(O,"unsupported YAML version of the document")},TAG:function(O,U,J){var pe,Ve;2!==J.length&&tn(O,"TAG directive accepts exactly two arguments"),Ve=J[1],Ro.test(pe=J[0])||tn(O,"ill-formed tag handle (first argument) of the TAG directive"),Ts.call(O.tagMap,pe)&&tn(O,'there is a previously declared suffix for "'+pe+'" tag handle'),Qr.test(Ve)||tn(O,"ill-formed tag prefix (second argument) of the TAG directive");try{Ve=decodeURIComponent(Ve)}catch(Ue){tn(O,"tag prefix is malformed: "+Ve)}O.tagMap[pe]=Ve}};function z(E,O,U,J){var pe,Ve,Ue,tt;if(O<U){if(tt=E.input.slice(O,U),J)for(pe=0,Ve=tt.length;pe<Ve;pe+=1)9===(Ue=tt.charCodeAt(pe))||32<=Ue&&Ue<=1114111||tn(E,"expected valid JSON character");else Mr.test(tt)&&tn(E,"the stream contains non-printable characters");E.result+=tt}}function L(E,O,U,J){var pe,Ve,Ue,tt;for(ut.isObject(U)||tn(E,"cannot merge mappings; the provided source object is unacceptable"),Ue=0,tt=(pe=Object.keys(U)).length;Ue<tt;Ue+=1)Ts.call(O,Ve=pe[Ue])||(O[Ve]=U[Ve],J[Ve]=!0)}function B(E,O,U,J,pe,Ve,Ue,tt,pt){var mt,Ut;if(Array.isArray(pe))for(mt=0,Ut=(pe=Array.prototype.slice.call(pe)).length;mt<Ut;mt+=1)Array.isArray(pe[mt])&&tn(E,"nested arrays are not supported inside keys"),"object"==typeof pe&&"[object Object]"===us(pe[mt])&&(pe[mt]="[object Object]");if("object"==typeof pe&&"[object Object]"===us(pe)&&(pe="[object Object]"),pe=String(pe),null===O&&(O={}),"tag:yaml.org,2002:merge"===J)if(Array.isArray(Ve))for(mt=0,Ut=Ve.length;mt<Ut;mt+=1)L(E,O,Ve[mt],U);else L(E,O,Ve,U);else!E.json&&!Ts.call(U,pe)&&Ts.call(O,pe)&&(E.line=Ue||E.line,E.lineStart=tt||E.lineStart,E.position=pt||E.position,tn(E,"duplicated mapping key")),"__proto__"===pe?Object.defineProperty(O,pe,{configurable:!0,enumerable:!0,writable:!0,value:Ve}):O[pe]=Ve,delete U[pe];return O}function Ce(E){var O;10===(O=E.input.charCodeAt(E.position))?E.position++:13===O?(E.position++,10===E.input.charCodeAt(E.position)&&E.position++):tn(E,"a line break is expected"),E.line+=1,E.lineStart=E.position,E.firstTabInLine=-1}function Et(E,O,U){for(var J=0,pe=E.input.charCodeAt(E.position);0!==pe;){for(;po(pe);)9===pe&&-1===E.firstTabInLine&&(E.firstTabInLine=E.position),pe=E.input.charCodeAt(++E.position);if(O&&35===pe)do{pe=E.input.charCodeAt(++E.position)}while(10!==pe&&13!==pe&&0!==pe);if(!Fr(pe))break;for(Ce(E),pe=E.input.charCodeAt(E.position),J++,E.lineIndent=0;32===pe;)E.lineIndent++,pe=E.input.charCodeAt(++E.position)}return-1!==U&&0!==J&&E.lineIndent<U&&ws(E,"deficient indentation"),J}function ti(E){var U,O=E.position;return!(45!==(U=E.input.charCodeAt(O))&&46!==U||U!==E.input.charCodeAt(O+1)||U!==E.input.charCodeAt(O+2)||(O+=3,U=E.input.charCodeAt(O),0!==U&&!Er(U)))}function Li(E,O){1===O?E.result+=" ":O>1&&(E.result+=ut.repeat("\n",O-1))}function er(E,O){var U,pt,J=E.tag,pe=E.anchor,Ve=[],tt=!1;if(-1!==E.firstTabInLine)return!1;for(null!==E.anchor&&(E.anchorMap[E.anchor]=Ve),pt=E.input.charCodeAt(E.position);0!==pt&&(-1!==E.firstTabInLine&&(E.position=E.firstTabInLine,tn(E,"tab characters must not be used in indentation")),45===pt&&Er(E.input.charCodeAt(E.position+1)));)if(tt=!0,E.position++,Et(E,!0,-1)&&E.lineIndent<=O)Ve.push(null),pt=E.input.charCodeAt(E.position);else if(U=E.line,qr(E,O,3,!1,!0),Ve.push(E.result),Et(E,!0,-1),pt=E.input.charCodeAt(E.position),(E.line===U||E.lineIndent>O)&&0!==pt)tn(E,"bad indentation of a sequence entry");else if(E.lineIndent<O)break;return!!tt&&(E.tag=J,E.anchor=pe,E.kind="sequence",E.result=Ve,!0)}function on(E){var O,pe,Ve,Ue,U=!1,J=!1;if(33!==(Ue=E.input.charCodeAt(E.position)))return!1;if(null!==E.tag&&tn(E,"duplication of a tag property"),60===(Ue=E.input.charCodeAt(++E.position))?(U=!0,Ue=E.input.charCodeAt(++E.position)):33===Ue?(J=!0,pe="!!",Ue=E.input.charCodeAt(++E.position)):pe="!",O=E.position,U){do{Ue=E.input.charCodeAt(++E.position)}while(0!==Ue&&62!==Ue);E.position<E.length?(Ve=E.input.slice(O,E.position),Ue=E.input.charCodeAt(++E.position)):tn(E,"unexpected end of the stream within a verbatim tag")}else{for(;0!==Ue&&!Er(Ue);)33===Ue&&(J?tn(E,"tag suffix cannot contain exclamation marks"):(pe=E.input.slice(O-1,E.position+1),Ro.test(pe)||tn(E,"named tag handle cannot contain such characters"),J=!0,O=E.position+1)),Ue=E.input.charCodeAt(++E.position);Ve=E.input.slice(O,E.position),xo.test(Ve)&&tn(E,"tag suffix cannot contain flow indicator characters")}Ve&&!Qr.test(Ve)&&tn(E,"tag name cannot contain such characters: "+Ve);try{Ve=decodeURIComponent(Ve)}catch(tt){tn(E,"tag name is malformed: "+Ve)}return U?E.tag=Ve:Ts.call(E.tagMap,pe)?E.tag=E.tagMap[pe]+Ve:"!"===pe?E.tag="!"+Ve:"!!"===pe?E.tag="tag:yaml.org,2002:"+Ve:tn(E,'undeclared tag handle "'+pe+'"'),!0}function Zo(E){var O,U;if(38!==(U=E.input.charCodeAt(E.position)))return!1;for(null!==E.anchor&&tn(E,"duplication of an anchor property"),U=E.input.charCodeAt(++E.position),O=E.position;0!==U&&!Er(U)&&!Bo(U);)U=E.input.charCodeAt(++E.position);return E.position===O&&tn(E,"name of an anchor node must contain at least one character"),E.anchor=E.input.slice(O,E.position),!0}function qr(E,O,U,J,pe){var Ve,Ue,tt,Gt,Qt,si,Ti,Ii,Oi,pt=1,mt=!1,Ut=!1;if(null!==E.listener&&E.listener("open",E),E.tag=null,E.anchor=null,E.kind=null,E.result=null,Ve=Ue=tt=4===U||3===U,J&&Et(E,!0,-1)&&(mt=!0,E.lineIndent>O?pt=1:E.lineIndent===O?pt=0:E.lineIndent<O&&(pt=-1)),1===pt)for(;on(E)||Zo(E);)Et(E,!0,-1)?(mt=!0,tt=Ve,E.lineIndent>O?pt=1:E.lineIndent===O?pt=0:E.lineIndent<O&&(pt=-1)):tt=!1;if(tt&&(tt=mt||pe),(1===pt||4===U)&&(Ii=1===U||2===U?O:O+1,Oi=E.position-E.lineStart,1===pt?tt&&(er(E,Oi)||function(E,O,U){var J,pe,Ve,Ue,tt,pt,xi,mt=E.tag,Ut=E.anchor,Gt={},Qt=Object.create(null),si=null,Ti=null,Ii=null,Oi=!1,$i=!1;if(-1!==E.firstTabInLine)return!1;for(null!==E.anchor&&(E.anchorMap[E.anchor]=Gt),xi=E.input.charCodeAt(E.position);0!==xi;){if(!Oi&&-1!==E.firstTabInLine&&(E.position=E.firstTabInLine,tn(E,"tab characters must not be used in indentation")),J=E.input.charCodeAt(E.position+1),Ve=E.line,63!==xi&&58!==xi||!Er(J)){if(Ue=E.line,tt=E.lineStart,pt=E.position,!qr(E,U,2,!1,!0))break;if(E.line===Ve){for(xi=E.input.charCodeAt(E.position);po(xi);)xi=E.input.charCodeAt(++E.position);if(58===xi)Er(xi=E.input.charCodeAt(++E.position))||tn(E,"a whitespace character is expected after the key-value separator within a block mapping"),Oi&&(B(E,Gt,Qt,si,Ti,null,Ue,tt,pt),si=Ti=Ii=null),$i=!0,Oi=!1,pe=!1,si=E.tag,Ti=E.result;else{if(!$i)return E.tag=mt,E.anchor=Ut,!0;tn(E,"can not read an implicit mapping pair; a colon is missed")}}else{if(!$i)return E.tag=mt,E.anchor=Ut,!0;tn(E,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===xi?(Oi&&(B(E,Gt,Qt,si,Ti,null,Ue,tt,pt),si=Ti=Ii=null),$i=!0,Oi=!0,pe=!0):Oi?(Oi=!1,pe=!0):tn(E,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),E.position+=1,xi=J;if((E.line===Ve||E.lineIndent>O)&&(Oi&&(Ue=E.line,tt=E.lineStart,pt=E.position),qr(E,O,4,!0,pe)&&(Oi?Ti=E.result:Ii=E.result),Oi||(B(E,Gt,Qt,si,Ti,Ii,Ue,tt,pt),si=Ti=Ii=null),Et(E,!0,-1),xi=E.input.charCodeAt(E.position)),(E.line===Ve||E.lineIndent>O)&&0!==xi)tn(E,"bad indentation of a mapping entry");else if(E.lineIndent<O)break}return Oi&&B(E,Gt,Qt,si,Ti,null,Ue,tt,pt),$i&&(E.tag=mt,E.anchor=Ut,E.kind="mapping",E.result=Gt),$i}(E,Oi,Ii))||function(E,O){var J,pe,Ve,tt,Ut,Gt,Qt,si,Ii,Oi,$i,xi,U=!0,Ue=E.tag,pt=E.anchor,Ti=Object.create(null);if(91===(xi=E.input.charCodeAt(E.position)))Ut=93,si=!1,tt=[];else{if(123!==xi)return!1;Ut=125,si=!0,tt={}}for(null!==E.anchor&&(E.anchorMap[E.anchor]=tt),xi=E.input.charCodeAt(++E.position);0!==xi;){if(Et(E,!0,O),(xi=E.input.charCodeAt(E.position))===Ut)return E.position++,E.tag=Ue,E.anchor=pt,E.kind=si?"mapping":"sequence",E.result=tt,!0;U?44===xi&&tn(E,"expected the node content, but found ','"):tn(E,"missed comma between flow collection entries"),$i=null,Gt=Qt=!1,63===xi&&Er(E.input.charCodeAt(E.position+1))&&(Gt=Qt=!0,E.position++,Et(E,!0,O)),J=E.line,pe=E.lineStart,Ve=E.position,qr(E,O,1,!1,!0),Oi=E.tag,Ii=E.result,Et(E,!0,O),xi=E.input.charCodeAt(E.position),(Qt||E.line===J)&&58===xi&&(Gt=!0,xi=E.input.charCodeAt(++E.position),Et(E,!0,O),qr(E,O,1,!1,!0),$i=E.result),si?B(E,tt,Ti,Oi,Ii,$i,J,pe,Ve):tt.push(Gt?B(E,null,Ti,Oi,Ii,$i,J,pe,Ve):Ii),Et(E,!0,O),44===(xi=E.input.charCodeAt(E.position))?(U=!0,xi=E.input.charCodeAt(++E.position)):U=!1}tn(E,"unexpected end of the stream within a flow collection")}(E,Ii)?Ut=!0:(Ue&&function(E,O){var U,J,Ut,Gt,pe=1,Ve=!1,Ue=!1,tt=O,pt=0,mt=!1;if(124===(Gt=E.input.charCodeAt(E.position)))J=!1;else{if(62!==Gt)return!1;J=!0}for(E.kind="scalar",E.result="";0!==Gt;)if(43===(Gt=E.input.charCodeAt(++E.position))||45===Gt)1===pe?pe=43===Gt?3:2:tn(E,"repeat of a chomping mode identifier");else{if(!((Ut=fr(Gt))>=0))break;0===Ut?tn(E,"bad explicit indentation width of a block scalar; it cannot be less than one"):Ue?tn(E,"repeat of an indentation width identifier"):(tt=O+Ut-1,Ue=!0)}if(po(Gt)){do{Gt=E.input.charCodeAt(++E.position)}while(po(Gt));if(35===Gt)do{Gt=E.input.charCodeAt(++E.position)}while(!Fr(Gt)&&0!==Gt)}for(;0!==Gt;){for(Ce(E),E.lineIndent=0,Gt=E.input.charCodeAt(E.position);(!Ue||E.lineIndent<tt)&&32===Gt;)E.lineIndent++,Gt=E.input.charCodeAt(++E.position);if(!Ue&&E.lineIndent>tt&&(tt=E.lineIndent),Fr(Gt))pt++;else{if(E.lineIndent<tt){3===pe?E.result+=ut.repeat("\n",Ve?1+pt:pt):1===pe&&Ve&&(E.result+="\n");break}for(J?po(Gt)?(mt=!0,E.result+=ut.repeat("\n",Ve?1+pt:pt)):mt?(mt=!1,E.result+=ut.repeat("\n",pt+1)):0===pt?Ve&&(E.result+=" "):E.result+=ut.repeat("\n",pt):E.result+=ut.repeat("\n",Ve?1+pt:pt),Ve=!0,Ue=!0,pt=0,U=E.position;!Fr(Gt)&&0!==Gt;)Gt=E.input.charCodeAt(++E.position);z(E,U,E.position,!1)}}return!0}(E,Ii)||function(E,O){var U,J,pe;if(39!==(U=E.input.charCodeAt(E.position)))return!1;for(E.kind="scalar",E.result="",E.position++,J=pe=E.position;0!==(U=E.input.charCodeAt(E.position));)if(39===U){if(z(E,J,E.position,!0),39!==(U=E.input.charCodeAt(++E.position)))return!0;J=E.position,E.position++,pe=E.position}else Fr(U)?(z(E,J,pe,!0),Li(E,Et(E,!1,O)),J=pe=E.position):E.position===E.lineStart&&ti(E)?tn(E,"unexpected end of the document within a single quoted scalar"):(E.position++,pe=E.position);tn(E,"unexpected end of the stream within a single quoted scalar")}(E,Ii)||function(E,O){var U,J,pe,Ve,Ue,tt;if(34!==(tt=E.input.charCodeAt(E.position)))return!1;for(E.kind="scalar",E.result="",E.position++,U=J=E.position;0!==(tt=E.input.charCodeAt(E.position));){if(34===tt)return z(E,U,E.position,!0),E.position++,!0;if(92===tt){if(z(E,U,E.position,!0),Fr(tt=E.input.charCodeAt(++E.position)))Et(E,!1,O);else if(tt<256&&Ho[tt])E.result+=Br[tt],E.position++;else if((Ue=ds(tt))>0){for(pe=Ue,Ve=0;pe>0;pe--)(Ue=sr(tt=E.input.charCodeAt(++E.position)))>=0?Ve=(Ve<<4)+Ue:tn(E,"expected hexadecimal character");E.result+=Ta(Ve),E.position++}else tn(E,"unknown escape sequence");U=J=E.position}else Fr(tt)?(z(E,U,J,!0),Li(E,Et(E,!1,O)),U=J=E.position):E.position===E.lineStart&&ti(E)?tn(E,"unexpected end of the document within a double quoted scalar"):(E.position++,J=E.position)}tn(E,"unexpected end of the stream within a double quoted scalar")}(E,Ii)?Ut=!0:function(E){var O,U,J;if(42!==(J=E.input.charCodeAt(E.position)))return!1;for(J=E.input.charCodeAt(++E.position),O=E.position;0!==J&&!Er(J)&&!Bo(J);)J=E.input.charCodeAt(++E.position);return E.position===O&&tn(E,"name of an alias node must contain at least one character"),U=E.input.slice(O,E.position),Ts.call(E.anchorMap,U)||tn(E,'unidentified alias "'+U+'"'),E.result=E.anchorMap[U],Et(E,!0,-1),!0}(E)?(Ut=!0,(null!==E.tag||null!==E.anchor)&&tn(E,"alias node should not have any properties")):function(E,O,U){var pe,Ve,Ue,tt,pt,mt,Ut,si,Gt=E.kind,Qt=E.result;if(Er(si=E.input.charCodeAt(E.position))||Bo(si)||35===si||38===si||42===si||33===si||124===si||62===si||39===si||34===si||37===si||64===si||96===si||(63===si||45===si)&&(Er(pe=E.input.charCodeAt(E.position+1))||U&&Bo(pe)))return!1;for(E.kind="scalar",E.result="",Ve=Ue=E.position,tt=!1;0!==si;){if(58===si){if(Er(pe=E.input.charCodeAt(E.position+1))||U&&Bo(pe))break}else if(35===si){if(Er(E.input.charCodeAt(E.position-1)))break}else{if(E.position===E.lineStart&&ti(E)||U&&Bo(si))break;if(Fr(si)){if(pt=E.line,mt=E.lineStart,Ut=E.lineIndent,Et(E,!1,-1),E.lineIndent>=O){tt=!0,si=E.input.charCodeAt(E.position);continue}E.position=Ue,E.line=pt,E.lineStart=mt,E.lineIndent=Ut;break}}tt&&(z(E,Ve,Ue,!1),Li(E,E.line-pt),Ve=Ue=E.position,tt=!1),po(si)||(Ue=E.position+1),si=E.input.charCodeAt(++E.position)}return z(E,Ve,Ue,!1),!!E.result||(E.kind=Gt,E.result=Qt,!1)}(E,Ii,1===U)&&(Ut=!0,null===E.tag&&(E.tag="?")),null!==E.anchor&&(E.anchorMap[E.anchor]=E.result)):0===pt&&(Ut=tt&&er(E,Oi))),null===E.tag)null!==E.anchor&&(E.anchorMap[E.anchor]=E.result);else if("?"===E.tag){for(null!==E.result&&"scalar"!==E.kind&&tn(E,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+E.kind+'"'),Gt=0,Qt=E.implicitTypes.length;Gt<Qt;Gt+=1)if((Ti=E.implicitTypes[Gt]).resolve(E.result)){E.result=Ti.construct(E.result),E.tag=Ti.tag,null!==E.anchor&&(E.anchorMap[E.anchor]=E.result);break}}else if("!"!==E.tag){if(Ts.call(E.typeMap[E.kind||"fallback"],E.tag))Ti=E.typeMap[E.kind||"fallback"][E.tag];else for(Ti=null,Gt=0,Qt=(si=E.typeMap.multi[E.kind||"fallback"]).length;Gt<Qt;Gt+=1)if(E.tag.slice(0,si[Gt].tag.length)===si[Gt].tag){Ti=si[Gt];break}Ti||tn(E,"unknown tag !<"+E.tag+">"),null!==E.result&&Ti.kind!==E.kind&&tn(E,"unacceptable node kind for !<"+E.tag+'> tag; it should be "'+Ti.kind+'", not "'+E.kind+'"'),Ti.resolve(E.result,E.tag)?(E.result=Ti.construct(E.result,E.tag),null!==E.anchor&&(E.anchorMap[E.anchor]=E.result)):tn(E,"cannot resolve a node with !<"+E.tag+"> explicit tag")}return null!==E.listener&&E.listener("close",E),null!==E.tag||null!==E.anchor||Ut}function Ws(E){var U,J,pe,Ue,O=E.position,Ve=!1;for(E.version=null,E.checkLineBreaks=E.legacy,E.tagMap=Object.create(null),E.anchorMap=Object.create(null);0!==(Ue=E.input.charCodeAt(E.position))&&(Et(E,!0,-1),Ue=E.input.charCodeAt(E.position),!(E.lineIndent>0||37!==Ue));){for(Ve=!0,Ue=E.input.charCodeAt(++E.position),U=E.position;0!==Ue&&!Er(Ue);)Ue=E.input.charCodeAt(++E.position);for(pe=[],(J=E.input.slice(U,E.position)).length<1&&tn(E,"directive name must not be less than one character in length");0!==Ue;){for(;po(Ue);)Ue=E.input.charCodeAt(++E.position);if(35===Ue){do{Ue=E.input.charCodeAt(++E.position)}while(0!==Ue&&!Fr(Ue));break}if(Fr(Ue))break;for(U=E.position;0!==Ue&&!Er(Ue);)Ue=E.input.charCodeAt(++E.position);pe.push(E.input.slice(U,E.position))}0!==Ue&&Ce(E),Ts.call(Se,J)?Se[J](E,J,pe):ws(E,'unknown document directive "'+J+'"')}Et(E,!0,-1),0===E.lineIndent&&45===E.input.charCodeAt(E.position)&&45===E.input.charCodeAt(E.position+1)&&45===E.input.charCodeAt(E.position+2)?(E.position+=3,Et(E,!0,-1)):Ve&&tn(E,"directives end mark is expected"),qr(E,E.lineIndent-1,4,!1,!0),Et(E,!0,-1),E.checkLineBreaks&&cs.test(E.input.slice(O,E.position))&&ws(E,"non-ASCII line breaks are interpreted as content"),E.documents.push(E.result),E.position===E.lineStart&&ti(E)?46===E.input.charCodeAt(E.position)&&(E.position+=3,Et(E,!0,-1)):E.position<E.length-1&&tn(E,"end of the stream or a document separator is expected")}function Vo(E,O){O=O||{},0!==(E=String(E)).length&&(10!==E.charCodeAt(E.length-1)&&13!==E.charCodeAt(E.length-1)&&(E+="\n"),65279===E.charCodeAt(0)&&(E=E.slice(1)));var U=new ca(E,O),J=E.indexOf("\0");for(-1!==J&&(U.position=J,tn(U,"null byte is not allowed in input")),U.input+="\0";32===U.input.charCodeAt(U.position);)U.lineIndent+=1,U.position+=1;for(;U.position<U.length-1;)Ws(U);return U.documents}var Qe={loadAll:function(E,O,U){null!==O&&"object"==typeof O&&void 0===U&&(U=O,O=null);var J=Vo(E,U);if("function"!=typeof O)return J;for(var pe=0,Ve=J.length;pe<Ve;pe+=1)O(J[pe])},load:function(E,O){var U=Vo(E,O);if(0!==U.length){if(1===U.length)return U[0];throw new Di("expected a single document in the stream, but found more")}}},F=Object.prototype.toString,j=Object.prototype.hasOwnProperty,Cr={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},es=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Sa=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Qi(E){var O,U,J;if(O=E.toString(16).toUpperCase(),E<=255)U="x",J=2;else if(E<=65535)U="u",J=4;else{if(!(E<=4294967295))throw new Di("code point within a string may not be greater than 0xFFFFFFFF");U="U",J=8}return"\\"+U+ut.repeat("0",J-O.length)+O}function In(E){this.schema=E.schema||la,this.indent=Math.max(1,E.indent||2),this.noArrayIndent=E.noArrayIndent||!1,this.skipInvalid=E.skipInvalid||!1,this.flowLevel=ut.isNothing(E.flowLevel)?-1:E.flowLevel,this.styleMap=function(E,O){var U,J,pe,Ve,Ue,tt,pt;if(null===O)return{};for(U={},pe=0,Ve=(J=Object.keys(O)).length;pe<Ve;pe+=1)Ue=J[pe],tt=String(O[Ue]),"!!"===Ue.slice(0,2)&&(Ue="tag:yaml.org,2002:"+Ue.slice(2)),(pt=E.compiledTypeMap.fallback[Ue])&&j.call(pt.styleAliases,tt)&&(tt=pt.styleAliases[tt]),U[Ue]=tt;return U}(this.schema,E.styles||null),this.sortKeys=E.sortKeys||!1,this.lineWidth=E.lineWidth||80,this.noRefs=E.noRefs||!1,this.noCompatMode=E.noCompatMode||!1,this.condenseFlow=E.condenseFlow||!1,this.quotingType='"'===E.quotingType?2:1,this.forceQuotes=E.forceQuotes||!1,this.replacer="function"==typeof E.replacer?E.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function An(E,O){for(var Ue,U=ut.repeat(" ",O),J=0,pe=-1,Ve="",tt=E.length;J<tt;)-1===(pe=E.indexOf("\n",J))?(Ue=E.slice(J),J=tt):(Ue=E.slice(J,pe+1),J=pe+1),Ue.length&&"\n"!==Ue&&(Ve+=U),Ve+=Ue;return Ve}function Eo(E,O){return"\n"+ut.repeat(" ",E.indent*O)}function ts(E){return 32===E||9===E}function Qn(E){return 32<=E&&E<=126||161<=E&&E<=55295&&8232!==E&&8233!==E||57344<=E&&E<=65533&&65279!==E||65536<=E&&E<=1114111}function Co(E){return Qn(E)&&65279!==E&&13!==E&&10!==E}function ps(E,O,U){var J=Co(E),pe=J&&!ts(E);return(U?J:J&&44!==E&&91!==E&&93!==E&&123!==E&&125!==E)&&35!==E&&!(58===O&&!pe)||Co(O)&&!ts(O)&&35===E||58===O&&pe}function fo(E,O){var J,U=E.charCodeAt(O);return U>=55296&&U<=56319&&O+1<E.length&&(J=E.charCodeAt(O+1))>=56320&&J<=57343?1024*(U-55296)+J-56320+65536:U}function jo(E){return/^\n* /.test(E)}function ks(E,O,U,J,pe){E.dump=function(){if(0===O.length)return 2===E.quotingType?'""':"''";if(!E.noCompatMode&&(-1!==es.indexOf(O)||Sa.test(O)))return 2===E.quotingType?'"'+O+'"':"'"+O+"'";var Ve=E.indent*Math.max(1,U),Ue=-1===E.lineWidth?-1:Math.max(Math.min(E.lineWidth,40),E.lineWidth-Ve);switch(function(E,O,U,J,pe,Ve,Ue,tt){var pt,mt=0,Ut=null,Gt=!1,Qt=!1,si=-1!==J,Ti=-1,Ii=function(E){return Qn(E)&&65279!==E&&!ts(E)&&45!==E&&63!==E&&58!==E&&44!==E&&91!==E&&93!==E&&123!==E&&125!==E&&35!==E&&38!==E&&42!==E&&33!==E&&124!==E&&61!==E&&62!==E&&39!==E&&34!==E&&37!==E&&64!==E&&96!==E}(fo(E,0))&&function(E){return!ts(E)&&58!==E}(fo(E,E.length-1));if(O||Ue)for(pt=0;pt<E.length;mt>=65536?pt+=2:pt++){if(!Qn(mt=fo(E,pt)))return 5;Ii=Ii&&ps(mt,Ut,tt),Ut=mt}else{for(pt=0;pt<E.length;mt>=65536?pt+=2:pt++){if(10===(mt=fo(E,pt)))Gt=!0,si&&(Qt=Qt||pt-Ti-1>J&&" "!==E[Ti+1],Ti=pt);else if(!Qn(mt))return 5;Ii=Ii&&ps(mt,Ut,tt),Ut=mt}Qt=Qt||si&&pt-Ti-1>J&&" "!==E[Ti+1]}return Gt||Qt?U>9&&jo(E)?5:Ue?2===Ve?5:2:Qt?4:3:!Ii||Ue||pe(E)?2===Ve?5:2:1}(O,J||E.flowLevel>-1&&U>=E.flowLevel,E.indent,Ue,function(mt){return function(E,O){var U,J;for(U=0,J=E.implicitTypes.length;U<J;U+=1)if(E.implicitTypes[U].resolve(O))return!0;return!1}(E,mt)},E.quotingType,E.forceQuotes&&!J,pe)){case 1:return O;case 2:return"'"+O.replace(/'/g,"''")+"'";case 3:return"|"+Xa(O,E.indent)+Qs(An(O,Ve));case 4:return">"+Xa(O,E.indent)+Qs(An(function(E,O){for(var Ve,Ue,U=/(\n+)([^\n]*)/g,J=(mt=void 0,mt=E.indexOf("\n"),U.lastIndex=mt=-1!==mt?mt:E.length,Ka(E.slice(0,mt),O)),pe="\n"===E[0]||" "===E[0];Ue=U.exec(E);){var pt=Ue[2];Ve=" "===pt[0],J+=Ue[1]+(pe||Ve||""===pt?"":"\n")+Ka(pt,O),pe=Ve}var mt;return J}(O,Ue),Ve));case 5:return'"'+function(E){for(var J,O="",U=0,pe=0;pe<E.length;U>=65536?pe+=2:pe++)U=fo(E,pe),!(J=Cr[U])&&Qn(U)?(O+=E[pe],U>=65536&&(O+=E[pe+1])):O+=J||Qi(U);return O}(O)+'"';default:throw new Di("impossible error: invalid scalar style")}}()}function Xa(E,O){var U=jo(E)?String(O):"",J="\n"===E[E.length-1];return U+(!J||"\n"!==E[E.length-2]&&"\n"!==E?J?"":"-":"+")+"\n"}function Qs(E){return"\n"===E[E.length-1]?E.slice(0,-1):E}function Ka(E,O){if(""===E||" "===E[0])return E;for(var J,Ve,U=/ [^ ]/g,pe=0,Ue=0,tt=0,pt="";J=U.exec(E);)(tt=J.index)-pe>O&&(pt+="\n"+E.slice(pe,Ve=Ue>pe?Ue:tt),pe=Ve+1),Ue=tt;return pt+="\n",(pt+=E.length-pe>O&&Ue>pe?E.slice(pe,Ue)+"\n"+E.slice(Ue+1):E.slice(pe)).slice(1)}function da(E,O,U){var J,pe,Ve,Ue,tt,pt;for(Ve=0,Ue=(pe=U?E.explicitTypes:E.implicitTypes).length;Ve<Ue;Ve+=1)if(((tt=pe[Ve]).instanceOf||tt.predicate)&&(!tt.instanceOf||"object"==typeof O&&O instanceof tt.instanceOf)&&(!tt.predicate||tt.predicate(O))){if(E.tag=U?tt.multi&&tt.representName?tt.representName(O):tt.tag:"?",tt.represent){if(pt=E.styleMap[tt.tag]||tt.defaultStyle,"[object Function]"===F.call(tt.represent))J=tt.represent(O,pt);else{if(!j.call(tt.represent,pt))throw new Di("!<"+tt.tag+'> tag resolver accepts not "'+pt+'" style');J=tt.represent[pt](O,pt)}E.dump=J}return!0}return!1}function gs(E,O,U,J,pe,Ve,Ue){E.tag=null,E.dump=U,da(E,U,!1)||da(E,U,!0);var mt,tt=F.call(E.dump),pt=J;J&&(J=E.flowLevel<0||E.flowLevel>O);var Gt,Qt,Ut="[object Object]"===tt||"[object Array]"===tt;if(Ut&&(Qt=-1!==(Gt=E.duplicates.indexOf(U))),(null!==E.tag&&"?"!==E.tag||Qt||2!==E.indent&&O>0)&&(pe=!1),Qt&&E.usedDuplicates[Gt])E.dump="*ref_"+Gt;else{if(Ut&&Qt&&!E.usedDuplicates[Gt]&&(E.usedDuplicates[Gt]=!0),"[object Object]"===tt)J&&0!==Object.keys(E.dump).length?(function(E,O,U,J){var tt,pt,mt,Ut,Gt,Qt,pe="",Ve=E.tag,Ue=Object.keys(U);if(!0===E.sortKeys)Ue.sort();else if("function"==typeof E.sortKeys)Ue.sort(E.sortKeys);else if(E.sortKeys)throw new Di("sortKeys must be a boolean or a function");for(tt=0,pt=Ue.length;tt<pt;tt+=1)Qt="",(!J||""!==pe)&&(Qt+=Eo(E,O)),Ut=U[mt=Ue[tt]],E.replacer&&(Ut=E.replacer.call(U,mt,Ut)),gs(E,O+1,mt,!0,!0,!0)&&((Gt=null!==E.tag&&"?"!==E.tag||E.dump&&E.dump.length>1024)&&(E.dump&&10===E.dump.charCodeAt(0)?Qt+="?":Qt+="? "),Qt+=E.dump,Gt&&(Qt+=Eo(E,O)),gs(E,O+1,Ut,!0,Gt)&&(E.dump&&10===E.dump.charCodeAt(0)?Qt+=":":Qt+=": ",pe+=Qt+=E.dump));E.tag=Ve,E.dump=pe||"{}"}(E,O,E.dump,pe),Qt&&(E.dump="&ref_"+Gt+E.dump)):(function(E,O,U){var Ue,tt,pt,mt,Ut,J="",pe=E.tag,Ve=Object.keys(U);for(Ue=0,tt=Ve.length;Ue<tt;Ue+=1)Ut="",""!==J&&(Ut+=", "),E.condenseFlow&&(Ut+='"'),mt=U[pt=Ve[Ue]],E.replacer&&(mt=E.replacer.call(U,pt,mt)),gs(E,O,pt,!1,!1)&&(E.dump.length>1024&&(Ut+="? "),Ut+=E.dump+(E.condenseFlow?'"':"")+":"+(E.condenseFlow?"":" "),gs(E,O,mt,!1,!1)&&(J+=Ut+=E.dump));E.tag=pe,E.dump="{"+J+"}"}(E,O,E.dump),Qt&&(E.dump="&ref_"+Gt+" "+E.dump));else if("[object Array]"===tt)J&&0!==E.dump.length?(function(E,O,U,J){var Ue,tt,pt,pe="",Ve=E.tag;for(Ue=0,tt=U.length;Ue<tt;Ue+=1)pt=U[Ue],E.replacer&&(pt=E.replacer.call(U,String(Ue),pt)),(gs(E,O+1,pt,!0,!0,!1,!0)||void 0===pt&&gs(E,O+1,null,!0,!0,!1,!0))&&((!J||""!==pe)&&(pe+=Eo(E,O)),E.dump&&10===E.dump.charCodeAt(0)?pe+="-":pe+="- ",pe+=E.dump);E.tag=Ve,E.dump=pe||"[]"}(E,E.noArrayIndent&&!Ue&&O>0?O-1:O,E.dump,pe),Qt&&(E.dump="&ref_"+Gt+E.dump)):(function(E,O,U){var Ve,Ue,tt,J="",pe=E.tag;for(Ve=0,Ue=U.length;Ve<Ue;Ve+=1)tt=U[Ve],E.replacer&&(tt=E.replacer.call(U,String(Ve),tt)),(gs(E,O,tt,!1,!1)||void 0===tt&&gs(E,O,null,!1,!1))&&(""!==J&&(J+=","+(E.condenseFlow?"":" ")),J+=E.dump);E.tag=pe,E.dump="["+J+"]"}(E,O,E.dump),Qt&&(E.dump="&ref_"+Gt+" "+E.dump));else{if("[object String]"!==tt){if("[object Undefined]"===tt)return!1;if(E.skipInvalid)return!1;throw new Di("unacceptable kind of an object to dump "+tt)}"?"!==E.tag&&ks(E,E.dump,O,Ve,pt)}null!==E.tag&&"?"!==E.tag&&(mt=encodeURI("!"===E.tag[0]?E.tag.slice(1):E.tag).replace(/!/g,"%21"),mt="!"===E.tag[0]?"!"+mt:"tag:yaml.org,2002:"===mt.slice(0,18)?"!!"+mt.slice(18):"!<"+mt+">",E.dump=mt+" "+E.dump)}return!0}function $a(E,O){var pe,Ve,U=[],J=[];for(Ls(E,U,J),pe=0,Ve=J.length;pe<Ve;pe+=1)O.duplicates.push(U[J[pe]]);O.usedDuplicates=new Array(Ve)}function Ls(E,O,U){var J,pe,Ve;if(null!==E&&"object"==typeof E)if(-1!==(pe=O.indexOf(E)))-1===U.indexOf(pe)&&U.push(pe);else if(O.push(E),Array.isArray(E))for(pe=0,Ve=E.length;pe<Ve;pe+=1)Ls(E[pe],O,U);else for(pe=0,Ve=(J=Object.keys(E)).length;pe<Ve;pe+=1)Ls(E[J[pe]],O,U)}function Ja(E,O){return function(){throw new Error("Function yaml."+E+" is removed in js-yaml 4. Use yaml."+O+" instead, which is now safe by default.")}}const mr={Type:ki,Schema:Rt,FAILSAFE_SCHEMA:Ki,JSON_SCHEMA:ro,CORE_SCHEMA:vo,DEFAULT_SCHEMA:la,load:Qe.load,loadAll:Qe.loadAll,dump:function(E,O){var U=new In(O=O||{});U.noRefs||$a(E,U);var J=E;return U.replacer&&(J=U.replacer.call({"":J},"",J)),gs(U,0,J,!0,!0)?U.dump+"\n":""},YAMLException:Di,types:{binary:qn,float:jr,map:pi,null:uo,pairs:aa,set:Mo,timestamp:vn,bool:$n,int:Xo,merge:Ar,omap:So,seq:Xt,str:Ct},safeLoad:Ja("safeLoad","load"),safeLoadAll:Ja("safeLoadAll","loadAll"),safeDump:Ja("safeDump","dump")},Da="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window,{FormData:is,Blob:ms,File:Ao}=Da;function ta(E){return function(E){if(ce(E))return ne(E)}(E)||function(E){if(void 0!==Be&&null!=Ee(E)||null!=E["@@iterator"])return se(E)}(E)||Pe(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fl=h(36028),ns=h.n(fl),gl=function(O){return":/?#[]@!$&'()*+,;=".indexOf(O)>-1},Za=function(O){return/^[a-z0-9\-._~]+$/i.test(O)};function ha(E){var O,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},J=U.escape,pe=arguments.length>2?arguments[2]:void 0;return"number"==typeof E&&(E=E.toString()),"string"==typeof E&&E.length&&J?pe?JSON.parse(E):we()(O=ta(E)).call(O,function(Ve){var Ue,tt;if(Za(Ve)||gl(Ve)&&"unsafe"===J)return Ve;var pt=new TextEncoder;return we()(Ue=we()(tt=Ne()(pt.encode(Ve))).call(tt,function(Ut){var Gt;return ns()(Gt="0".concat(Ut.toString(16).toUpperCase())).call(Gt,-2)})).call(Ue,function(Ut){return"%".concat(Ut)}).join("")}).join(""):E}function Ss(E){var O=E.value;return Array.isArray(O)?function(E){var O=E.key,U=E.value,J=E.style,pe=E.explode,Ve=E.escape,Ue=function(Gt){return ha(Gt,{escape:Ve})};if("simple"===J)return we()(U).call(U,function(Ut){return Ue(Ut)}).join(",");if("label"===J)return".".concat(we()(U).call(U,function(Ut){return Ue(Ut)}).join("."));if("matrix"===J)return we()(U).call(U,function(Ut){return Ue(Ut)}).reduce(function(Ut,Gt){var Qt,si,Ti;return!Ut||pe?lt()(si=lt()(Ti="".concat(Ut||"",";")).call(Ti,O,"=")).call(si,Gt):lt()(Qt="".concat(Ut,",")).call(Qt,Gt)},"");if("form"===J){var tt=pe?"&".concat(O,"="):",";return we()(U).call(U,function(Ut){return Ue(Ut)}).join(tt)}if("spaceDelimited"===J){var pt=pe?"".concat(O,"="):"";return we()(U).call(U,function(Ut){return Ue(Ut)}).join(" ".concat(pt))}if("pipeDelimited"===J){var mt=pe?"".concat(O,"="):"";return we()(U).call(U,function(Ut){return Ue(Ut)}).join("|".concat(mt))}}(E):"object"===te(O)?function(E){var O=E.key,U=E.value,J=E.style,pe=E.explode,Ve=E.escape,Ue=function(mt){return ha(mt,{escape:Ve})},tt=dt()(U);return"simple"===J?tt.reduce(function(pt,mt){var Ut,Gt,Qt,si=Ue(U[mt]),Ti=pe?"=":",",Ii=pt?"".concat(pt,","):"";return lt()(Ut=lt()(Gt=lt()(Qt="".concat(Ii)).call(Qt,mt)).call(Gt,Ti)).call(Ut,si)},""):"label"===J?tt.reduce(function(pt,mt){var Ut,Gt,Qt,si=Ue(U[mt]),Ti=pe?"=":".",Ii=pt?"".concat(pt,"."):".";return lt()(Ut=lt()(Gt=lt()(Qt="".concat(Ii)).call(Qt,mt)).call(Gt,Ti)).call(Ut,si)},""):"matrix"===J&&pe?tt.reduce(function(pt,mt){var Ut,Gt,Qt=Ue(U[mt]),si=pt?"".concat(pt,";"):";";return lt()(Ut=lt()(Gt="".concat(si)).call(Gt,mt,"=")).call(Ut,Qt)},""):"matrix"===J?tt.reduce(function(pt,mt){var Ut,Gt,Qt=Ue(U[mt]),si=pt?"".concat(pt,","):";".concat(O,"=");return lt()(Ut=lt()(Gt="".concat(si)).call(Gt,mt,",")).call(Ut,Qt)},""):"form"===J?tt.reduce(function(pt,mt){var Ut,Gt,Qt,si,Ti=Ue(U[mt]),Ii=pt?lt()(Ut="".concat(pt)).call(Ut,pe?"&":","):"",Oi=pe?"=":",";return lt()(Gt=lt()(Qt=lt()(si="".concat(Ii)).call(si,mt)).call(Qt,Oi)).call(Gt,Ti)},""):void 0}(E):function(E){var Ue,O=E.key,U=E.value,J=E.style,pe=E.escape,Ve=function(pt){return ha(pt,{escape:pe})};return"simple"===J?Ve(U):"label"===J?".".concat(Ve(U)):"matrix"===J?lt()(Ue=";".concat(O,"=")).call(Ue,Ve(U)):"form"===J||"deepObject"===J?Ve(U):void 0}(E)}const nc=function(O,U){U.body=O};var Eu={serializeRes:Xc,mergeInQueryOrForm:na};function Yc(E){return _c.apply(this,arguments)}function _c(){return _c=ht(Ht().mark(function E(O){var U,pe,Ve,Ue,tt=arguments;return Ht().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:if(U=tt.length>1&&void 0!==tt[1]?tt[1]:{},"object"===te(O)&&(O=(U=O).url),U.headers=U.headers||{},Eu.mergeInQueryOrForm(U),U.headers&&dt()(U.headers).forEach(function(Ut){var Gt=U.headers[Ut];"string"==typeof Gt&&(U.headers[Ut]=Gt.replace(/\n+/g," "))}),!U.requestInterceptor){mt.next=12;break}return mt.next=8,U.requestInterceptor(U);case 8:if(mt.t0=mt.sent,mt.t0){mt.next=11;break}mt.t0=U;case 11:U=mt.t0;case 12:return/multipart\/form-data/i.test(U.headers["content-type"]||U.headers["Content-Type"])&&U.body instanceof is&&(delete U.headers["content-type"],delete U.headers["Content-Type"]),mt.prev=14,mt.next=17,(U.userFetch||fetch)(U.url,U);case 17:return pe=mt.sent,mt.next=20,Eu.serializeRes(pe,O,U);case 20:if(pe=mt.sent,!U.responseInterceptor){mt.next=28;break}return mt.next=24,U.responseInterceptor(pe);case 24:if(mt.t1=mt.sent,mt.t1){mt.next=27;break}mt.t1=pe;case 27:pe=mt.t1;case 28:mt.next=39;break;case 30:if(mt.prev=30,mt.t2=mt.catch(14),pe){mt.next=34;break}throw mt.t2;case 34:throw(Ve=new Error(pe.statusText||"response status is ".concat(pe.status))).status=pe.status,Ve.statusCode=pe.status,Ve.responseError=mt.t2,Ve;case 39:if(pe.ok){mt.next=45;break}throw(Ue=new Error(pe.statusText||"response status is ".concat(pe.status))).status=pe.status,Ue.statusCode=pe.status,Ue.response=pe,Ue;case 45:return mt.abrupt("return",pe);case 46:case"end":return mt.stop()}},E,null,[[14,30]])})),_c.apply(this,arguments)}var Ju=function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(json|xml|yaml|text)\b/.test(O)};function Cu(E,O){return O&&(0===O.indexOf("application/json")||O.indexOf("+json")>0)?JSON.parse(E):mr.load(E)}function Xc(E,O){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},J=U.loadSpec,pe=void 0!==J&&J,Ve={ok:E.ok,url:E.url||O,status:E.status,statusText:E.statusText,headers:Zu(E.headers)},Ue=Ve.headers["content-type"],tt=pe||Ju(Ue),pt=tt?E.text:E.blob||E.buffer;return pt.call(E).then(function(mt){if(Ve.text=mt,Ve.data=mt,tt)try{var Ut=Cu(mt,Ue);Ve.body=Ut,Ve.obj=Ut}catch(Gt){Ve.parseError=Gt}return Ve})}function rc(E){return vi()(E).call(E,", ")?E.split(", "):E}function Zu(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"function"!=typeof Lt()(E)?{}:Ne()(Lt()(E).call(E)).reduce(function(O,U){var J=He(U,2);return O[J[0]]=rc(J[1]),O},{})}function go(E,O){return!O&&"undefined"!=typeof navigator&&(O=navigator),O&&"ReactNative"===O.product?!(!E||"object"!==te(E)||"string"!=typeof E.uri):!!(void 0!==Ao&&E instanceof Ao||void 0!==ms&&E instanceof ms||ArrayBuffer.isView(E))||null!==E&&"object"===te(E)&&"function"==typeof E.pipe}function Na(E,O){return Array.isArray(E)&&E.some(function(U){return go(U,O)})}var ia={form:",",spaceDelimited:"%20",pipeDelimited:"|"},Tu={csv:",",ssv:"%20",tsv:"%09",pipes:"|"};function zo(E,O){var U=arguments.length>2&&void 0!==arguments[2]&&arguments[2],J=O.collectionFormat,pe=O.allowEmptyValue,Ve=O.serializationOption,Ue=O.encoding,tt="object"!==te(O)||Array.isArray(O)?O:O.value,pt=U?function(Ti){return Ti.toString()}:function(Ti){return encodeURIComponent(Ti)},mt=pt(E);if(void 0===tt&&pe)return[[mt,""]];if(go(tt)||Na(tt))return[[mt,tt]];if(Ve)return _s(E,tt,U,Ve);if(Ue){if([te(Ue.style),te(Ue.explode),te(Ue.allowReserved)].some(function(Ti){return"undefined"!==Ti})){var Ut=Ue.style,Gt=Ue.explode,Qt=Ue.allowReserved;return _s(E,tt,U,{style:Ut,explode:Gt,allowReserved:Qt})}if(Ue.contentType){if("application/json"===Ue.contentType){var si="string"==typeof tt?tt:Ke()(tt);return[[mt,pt(si)]]}return[[mt,pt(tt.toString())]]}return"object"!==te(tt)?[[mt,pt(tt)]]:Array.isArray(tt)&&tt.every(function(Ti){return"object"!==te(Ti)})?[[mt,we()(tt).call(tt,pt).join(",")]]:[[mt,pt(Ke()(tt))]]}return"object"!==te(tt)?[[mt,pt(tt)]]:Array.isArray(tt)?"multi"===J?[[mt,we()(tt).call(tt,pt)]]:[[mt,we()(tt).call(tt,pt).join(Tu[J||"csv"])]]:[[mt,""]]}function _s(E,O,U,J){var pe,Ut,Gt,Ve=J.style||"form",Ue=void 0===J.explode?"form"===Ve:J.explode,tt=!U&&(J&&J.allowReserved?"unsafe":"reserved"),pt=function(si){return ha(si,{escape:tt})},mt=U?function(Qt){return Qt}:function(Qt){return ha(Qt,{escape:tt})};return"object"!==te(O)?[[mt(E),pt(O)]]:Array.isArray(O)?Ue?[[mt(E),we()(O).call(O,pt)]]:[[mt(E),we()(O).call(O,pt).join(ia[Ve])]]:"deepObject"===Ve?we()(Ut=dt()(O)).call(Ut,function(Qt){var si;return[mt(lt()(si="".concat(E,"[")).call(si,Qt,"]")),pt(O[Qt])]}):Ue?we()(Gt=dt()(O)).call(Gt,function(Qt){return[mt(Qt),pt(O[Qt])]}):[[mt(E),we()(pe=dt()(O)).call(pe,function(Qt){var si;return[lt()(si="".concat(mt(Qt),",")).call(si,pt(O[Qt]))]}).join(",")]]}function pa(E){return Ye()(E).reduce(function(O,U){var tt,J=He(U,2),Ue=oe(zo(J[0],J[1],!0));try{for(Ue.s();!(tt=Ue.n()).done;){var pt=He(tt.value,2),mt=pt[0],Ut=pt[1];if(Array.isArray(Ut)){var Qt,Gt=oe(Ut);try{for(Gt.s();!(Qt=Gt.n()).done;){var si=Qt.value;if(ArrayBuffer.isView(si)){var Ti=new ms([si]);O.append(mt,Ti)}else O.append(mt,si)}}catch(Oi){Gt.e(Oi)}finally{Gt.f()}}else if(ArrayBuffer.isView(Ut)){var Ii=new ms([Ut]);O.append(mt,Ii)}else O.append(mt,Ut)}}catch(Oi){Ue.e(Oi)}finally{Ue.f()}return O},new is)}function Fa(E){var O=dt()(E).reduce(function(U,J){var Ve,pe=oe(zo(J,E[J]));try{for(pe.s();!(Ve=pe.n()).done;){var Ue=He(Ve.value,2);U[Ue[0]]=Ue[1]}}catch(mt){pe.e(mt)}finally{pe.f()}return U},{});return be().stringify(O,{encode:!1,indices:!1})||""}function na(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=E.url,U=void 0===O?"":O,J=E.query,pe=E.form,Ve=function(){for(var xi=arguments.length,Xn=new Array(xi),En=0;En<xi;En++)Xn[En]=arguments[En];var Rr=Ze()(Xn).call(Xn,function(ir){return ir}).join("&");return Rr?"?".concat(Rr):""};if(pe){var Ue=dt()(pe).some(function($i){var xi=pe[$i].value;return go(xi)||Na(xi)}),tt=E.headers["content-type"]||E.headers["Content-Type"];if(Ue||/multipart\/form-data/i.test(tt)){var pt=pa(E.form);nc(pt,E)}else E.body=Fa(pe);delete E.form}if(J){var mt=U.split("?"),Ut=He(mt,2),Gt=Ut[0],Qt=Ut[1],si="";if(Qt){var Ti=be().parse(Qt),Ii=dt()(J);Ii.forEach(function($i){return delete Ti[$i]}),si=be().stringify(Ti,{encode:!0})}var Oi=Ve(si,Fa(J));E.url=Gt+Oi,delete E.query}return E}function Kc(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function $c(E,O){for(var U=0;U<O.length;U++){var J=O[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),N(E,J.key,J)}}function oc(E,O,U){return O&&$c(E.prototype,O),U&&$c(E,U),E}var E,Jc=h(20265),Rd=h.n(Jc),sc=h(2204),Oo=h.n(sc),Zc=h(35644),Ma=h.n(Zc),Qu=(E=function(O,U){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,pe){J.__proto__=pe}||function(J,pe){for(var Ve in pe)pe.hasOwnProperty(Ve)&&(J[Ve]=pe[Ve])})(O,U)},function(O,U){function J(){this.constructor=O}E(O,U),O.prototype=null===U?Object.create(U):(J.prototype=U.prototype,new J)}),Ba=Object.prototype.hasOwnProperty;function ac(E,O){return Ba.call(E,O)}function vc(E){if(Array.isArray(E)){for(var U=new Array(E.length),O=0;O<U.length;O++)U[O]=""+O;return U}if(Object.keys)return Object.keys(E);for(var J in U=[],E)ac(E,J)&&U.push(J);return U}function rs(E){switch(typeof E){case"object":return JSON.parse(JSON.stringify(E));case"undefined":return null;default:return E}}function Pl(E){for(var J,O=0,U=E.length;O<U;){if(!((J=E.charCodeAt(O))>=48&&J<=57))return!1;O++}return!0}function Un(E){return-1===E.indexOf("/")&&-1===E.indexOf("~")?E:E.replace(/~/g,"~0").replace(/\//g,"~1")}function bc(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}function yc(E){if(void 0===E)return!0;if(E)if(Array.isArray(E)){for(var O=0,U=E.length;O<U;O++)if(yc(E[O]))return!0}else if("object"==typeof E){var J=vc(E),pe=J.length;for(O=0;O<pe;O++)if(yc(E[J[O]]))return!0}return!1}function Ll(E,O){var U=[E];for(var J in O){var pe="object"==typeof O[J]?JSON.stringify(O[J],null,2):O[J];void 0!==pe&&U.push(J+": "+pe)}return U.join("\n")}var ml=function(E){function O(U,J,pe,Ve,Ue){var tt=this.constructor,pt=E.call(this,Ll(U,{name:J,index:pe,operation:Ve,tree:Ue}))||this;return pt.name=J,pt.index=pe,pt.operation=Ve,pt.tree=Ue,Object.setPrototypeOf(pt,tt.prototype),pt.message=Ll(U,{name:J,index:pe,operation:Ve,tree:Ue}),pt}return Qu(O,E),O}(Error),Ur=ml,wu=rs,_l={add:function(E,O,U){return E[O]=this.value,{newDocument:U}},remove:function(E,O,U){var J=E[O];return delete E[O],{newDocument:U,removed:J}},replace:function(E,O,U){var J=E[O];return E[O]=this.value,{newDocument:U,removed:J}},move:function(E,O,U){var J=Nl(U,this.path);J&&(J=rs(J));var pe=vs(U,{op:"remove",path:this.from}).removed;return vs(U,{op:"add",path:this.path,value:pe}),{newDocument:U,removed:J}},copy:function(E,O,U){var J=Nl(U,this.from);return vs(U,{op:"add",path:this.path,value:rs(J)}),{newDocument:U}},test:function(E,O,U){return{newDocument:U,test:Bl(E[O],this.value)}},_get:function(E,O,U){return this.value=E[O],{newDocument:U}}},qu={add:function(E,O,U){return Pl(O)?E.splice(O,0,this.value):E[O]=this.value,{newDocument:U,index:O}},remove:function(E,O,U){return{newDocument:U,removed:E.splice(O,1)[0]}},replace:function(E,O,U){var J=E[O];return E[O]=this.value,{newDocument:U,removed:J}},move:_l.move,copy:_l.copy,test:_l.test,_get:_l._get};function Nl(E,O){if(""==O)return E;var U={op:"_get",path:O};return vs(E,U),U.value}function vs(E,O,U,J,pe,Ve){if(void 0===U&&(U=!1),void 0===J&&(J=!0),void 0===pe&&(pe=!0),void 0===Ve&&(Ve=0),U&&("function"==typeof U?U(O,0,E,O.path):Fl(O,0)),""===O.path){var Ue={newDocument:E};if("add"===O.op)return Ue.newDocument=O.value,Ue;if("replace"===O.op)return Ue.newDocument=O.value,Ue.removed=E,Ue;if("move"===O.op||"copy"===O.op)return Ue.newDocument=Nl(E,O.from),"move"===O.op&&(Ue.removed=E),Ue;if("test"===O.op){if(Ue.test=Bl(E,O.value),!1===Ue.test)throw new Ur("Test operation failed","TEST_OPERATION_FAILED",Ve,O,E);return Ue.newDocument=E,Ue}if("remove"===O.op)return Ue.removed=E,Ue.newDocument=null,Ue;if("_get"===O.op)return O.value=E,Ue;if(U)throw new Ur("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ve,O,E);return Ue}J||(E=rs(E));var pt=(O.path||"").split("/"),mt=E,Ut=1,Gt=pt.length,Qt=void 0,si=void 0,Ti=void 0;for(Ti="function"==typeof U?U:Fl;;){if((si=pt[Ut])&&-1!=si.indexOf("~")&&(si=bc(si)),pe&&"__proto__"==si)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(U&&void 0===Qt&&(void 0===mt[si]?Qt=pt.slice(0,Ut).join("/"):Ut==Gt-1&&(Qt=O.path),void 0!==Qt&&Ti(O,0,E,Qt)),Ut++,Array.isArray(mt)){if("-"===si)si=mt.length;else{if(U&&!Pl(si))throw new Ur("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Ve,O,E);Pl(si)&&(si=~~si)}if(Ut>=Gt){if(U&&"add"===O.op&&si>mt.length)throw new Ur("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Ve,O,E);if(!1===(Ue=qu[O.op].call(O,mt,si,E)).test)throw new Ur("Test operation failed","TEST_OPERATION_FAILED",Ve,O,E);return Ue}}else if(Ut>=Gt){if(!1===(Ue=_l[O.op].call(O,mt,si,E)).test)throw new Ur("Test operation failed","TEST_OPERATION_FAILED",Ve,O,E);return Ue}if(mt=mt[si],U&&Ut<Gt&&(!mt||"object"!=typeof mt))throw new Ur("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Ve,O,E)}}function Bs(E,O,U,J,pe){if(void 0===J&&(J=!0),void 0===pe&&(pe=!0),U&&!Array.isArray(O))throw new Ur("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");J||(E=rs(E));for(var Ve=new Array(O.length),Ue=0,tt=O.length;Ue<tt;Ue++)Ve[Ue]=vs(E,O[Ue],U,!0,pe,Ue),E=Ve[Ue].newDocument;return Ve.newDocument=E,Ve}function Ec(E,O,U){var J=vs(E,O);if(!1===J.test)throw new Ur("Test operation failed","TEST_OPERATION_FAILED",U,O,E);return J.newDocument}function Fl(E,O,U,J){if("object"!=typeof E||null===E||Array.isArray(E))throw new Ur("Operation is not an object","OPERATION_NOT_AN_OBJECT",O,E,U);if(!_l[E.op])throw new Ur("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",O,E,U);if("string"!=typeof E.path)throw new Ur("Operation `path` property is not a string","OPERATION_PATH_INVALID",O,E,U);if(0!==E.path.indexOf("/")&&E.path.length>0)throw new Ur('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",O,E,U);if(("move"===E.op||"copy"===E.op)&&"string"!=typeof E.from)throw new Ur("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",O,E,U);if(("add"===E.op||"replace"===E.op||"test"===E.op)&&void 0===E.value)throw new Ur("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",O,E,U);if(("add"===E.op||"replace"===E.op||"test"===E.op)&&yc(E.value))throw new Ur("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",O,E,U);if(U)if("add"==E.op){var pe=E.path.split("/").length,Ve=J.split("/").length;if(pe!==Ve+1&&pe!==Ve)throw new Ur("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",O,E,U)}else if("replace"===E.op||"remove"===E.op||"_get"===E.op){if(E.path!==J)throw new Ur("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",O,E,U)}else if("move"===E.op||"copy"===E.op){var tt=so([{op:"_get",path:E.from,value:void 0}],U);if(tt&&"OPERATION_PATH_UNRESOLVABLE"===tt.name)throw new Ur("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",O,E,U)}}function so(E,O,U){try{if(!Array.isArray(E))throw new Ur("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(O)Bs(rs(O),rs(E),U||!0);else{U=U||Fl;for(var J=0;J<E.length;J++)U(E[J],J,O,void 0)}}catch(pe){if(pe instanceof Ur)return pe;throw pe}}function Bl(E,O){if(E===O)return!0;if(E&&O&&"object"==typeof E&&"object"==typeof O){var pe,Ve,Ue,U=Array.isArray(E),J=Array.isArray(O);if(U&&J){if((Ve=E.length)!=O.length)return!1;for(pe=Ve;0!=pe--;)if(!Bl(E[pe],O[pe]))return!1;return!0}if(U!=J)return!1;var tt=Object.keys(E);if((Ve=tt.length)!==Object.keys(O).length)return!1;for(pe=Ve;0!=pe--;)if(!O.hasOwnProperty(tt[pe]))return!1;for(pe=Ve;0!=pe--;)if(!Bl(E[Ue=tt[pe]],O[Ue]))return!1;return!0}return E!=E&&O!=O}var el=new WeakMap,xa=function(O){this.observers=new Map,this.obj=O},vl=function(O,U){this.callback=O,this.observer=U};function Hl(E,O){O.unobserve()}function Ys(E,O){var J,pe=function(E){return el.get(E)}(E);if(pe){var Ve=function(E,O){return E.observers.get(O)}(pe,O);J=Ve&&Ve.observer}else pe=new xa(E),el.set(E,pe);if(J)return J;if(J={},pe.value=rs(E),O){J.callback=O,J.next=null;var Ue=function(){tl(J)},tt=function(){clearTimeout(J.next),J.next=setTimeout(Ue)};"undefined"!=typeof window&&(window.addEventListener("mouseup",tt),window.addEventListener("keyup",tt),window.addEventListener("mousedown",tt),window.addEventListener("keydown",tt),window.addEventListener("change",tt))}return J.patches=[],J.object=E,J.unobserve=function(){tl(J),clearTimeout(J.next),function(E,O){E.observers.delete(O.callback)}(pe,J),"undefined"!=typeof window&&(window.removeEventListener("mouseup",tt),window.removeEventListener("keyup",tt),window.removeEventListener("mousedown",tt),window.removeEventListener("keydown",tt),window.removeEventListener("change",tt))},pe.observers.set(O,new vl(O,J)),J}function tl(E,O){void 0===O&&(O=!1);var U=el.get(E.object);Ha(U.value,E.object,E.patches,"",O),E.patches.length&&Bs(U.value,E.patches);var J=E.patches;return J.length>0&&(E.patches=[],E.callback&&E.callback(J)),J}function Ha(E,O,U,J,pe){if(O!==E){"function"==typeof O.toJSON&&(O=O.toJSON());for(var Ve=vc(O),Ue=vc(E),pt=!1,mt=Ue.length-1;mt>=0;mt--){var Gt=E[Ut=Ue[mt]];if(!ac(O,Ut)||void 0===O[Ut]&&void 0!==Gt&&!1===Array.isArray(O))Array.isArray(E)===Array.isArray(O)?(pe&&U.push({op:"test",path:J+"/"+Un(Ut),value:rs(Gt)}),U.push({op:"remove",path:J+"/"+Un(Ut)}),pt=!0):(pe&&U.push({op:"test",path:J,value:E}),U.push({op:"replace",path:J,value:O}));else{var Qt=O[Ut];"object"==typeof Gt&&null!=Gt&&"object"==typeof Qt&&null!=Qt&&Array.isArray(Gt)===Array.isArray(Qt)?Ha(Gt,Qt,U,J+"/"+Un(Ut),pe):Gt!==Qt&&(pe&&U.push({op:"test",path:J+"/"+Un(Ut),value:rs(Gt)}),U.push({op:"replace",path:J+"/"+Un(Ut),value:rs(Qt)}))}}if(pt||Ve.length!=Ue.length)for(mt=0;mt<Ve.length;mt++){var Ut;!ac(E,Ut=Ve[mt])&&void 0!==O[Ut]&&U.push({op:"add",path:J+"/"+Un(Ut),value:rs(O[Ut])})}}}function Cc(E,O,U){void 0===U&&(U=!1);var J=[];return Ha(E,O,J,"",U),J}Object.assign({},v,p,{JsonPatchError:ml,deepClone:rs,escapePathComponent:Un,unescapePathComponent:bc});var Vl=h(25320),Xs=h.n(Vl),wc=h(77282),id=h.n(wc);const _r={add:function(E,O){return{op:"add",path:E,value:O}},replace:qc,remove:function(E){return{op:"remove",path:E}},merge:function(E,O){return{type:"mutation",op:"merge",path:E,value:O}},mergeDeep:function(E,O){return{type:"mutation",op:"mergeDeep",path:E,value:O}},context:function(E,O){return{type:"context",path:E,value:O}},getIn:function(E,O){return O.reduce(function(U,J){return void 0!==J&&U?U[J]:U},E)},applyPatch:function(E,O,U){if(U=U||{},"merge"===(O=K(K({},O),{},{path:O.path&&bl(O.path)})).op){var J=Tt(E,O.path);xe()(J,O.value),Bs(E,[qc(O.path,J)])}else if("mergeDeep"===O.op){var pe=Tt(E,O.path);for(var Ve in O.value){var Ue=O.value[Ve],tt=Array.isArray(Ue);if(tt){var pt=pe[Ve]||[];pe[Ve]=lt()(pt).call(pt,Ue)}else if(bs(Ue)&&!tt){var mt=K({},pe[Ve]);for(var Ut in Ue){if(Object.prototype.hasOwnProperty.call(mt,Ut)){mt=Xs()(id()(mt),Ue);break}xe()(mt,W({},Ut,Ue[Ut]))}pe[Ve]=mt}else pe[Ve]=Ue}}else if("add"===O.op&&""===O.path&&bs(O.value)){Bs(E,dt()(O.value).reduce(function(Oi,$i){return Oi.push({op:"add",path:"/".concat(bl($i)),value:O.value[$i]}),Oi},[]))}else if("replace"===O.op&&""===O.path){var si=O.value;U.allowMetaPatches&&O.meta&&ye(O)&&(Array.isArray(O.value)||bs(O.value))&&(si=K(K({},si),O.meta)),E=si}else if(Bs(E,[O]),U.allowMetaPatches&&O.meta&&ye(O)&&(Array.isArray(O.value)||bs(O.value))){var Ii=K(K({},Tt(E,O.path)),O.meta);Bs(E,[qc(O.path,Ii)])}return E},parentPathMatch:function(E,O){if(!Array.isArray(O))return!1;for(var U=0,J=O.length;U<J;U+=1)if(O[U]!==E[U])return!1;return!0},flatten:nl,fullyNormalizeArray:function(E){return Ia(nl(yl(E)))},normalizeArray:yl,isPromise:function(E){return bs(E)&&Va(E.then)},forEachNew:function(E,O){try{return cc(E,fa,O)}catch(U){return U}},forEachNewPrimitive:function(E,O){try{return cc(E,il,O)}catch(U){return U}},isJsonPatch:El,isContextPatch:function(E){return ft(E)&&"context"===E.type},isPatch:ft,isMutation:he,isAdditiveMutation:ye,isGenerator:function(E){return"[object GeneratorFunction]"===Object.prototype.toString.call(E)},isFunction:Va,isObject:bs,isError:function(E){return E instanceof Error}};function bl(E){return Array.isArray(E)?E.length<1?"":"/".concat(we()(E).call(E,function(O){return(O+"").replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")):E}function qc(E,O,U){return{op:"replace",path:E,value:O,meta:U}}function cc(E,O,U){var J;return Ia(nl(we()(J=Ze()(E).call(E,ye)).call(J,function(tt){return O(tt.value,U,tt.path)})||[]))}function il(E,O,U){return U=U||[],Array.isArray(E)?we()(E).call(E,function(pe,Ve){return il(pe,O,lt()(U).call(U,Ve))}):bs(E)?we()(J=dt()(E)).call(J,function(pe){return il(E[pe],O,lt()(U).call(U,pe))}):O(E,U[U.length-1],U);var J}function fa(E,O,U){var J=[];if((U=U||[]).length>0){var pe=O(E,U[U.length-1],U);pe&&(J=lt()(J).call(J,pe))}if(Array.isArray(E)){var Ve=we()(E).call(E,function(pt,mt){return fa(pt,O,lt()(U).call(U,mt))});Ve&&(J=lt()(J).call(J,Ve))}else if(bs(E)){var Ue,tt=we()(Ue=dt()(E)).call(Ue,function(pt){return fa(E[pt],O,lt()(U).call(U,pt))});tt&&(J=lt()(J).call(J,tt))}return nl(J)}function yl(E){return Array.isArray(E)?E:[E]}function nl(E){var O;return lt()(O=[]).apply(O,ta(we()(E).call(E,function(U){return Array.isArray(U)?nl(U):U})))}function Ia(E){return Ze()(E).call(E,function(O){return void 0!==O})}function bs(E){return E&&"object"===te(E)}function Va(E){return E&&"function"==typeof E}function El(E){if(ft(E)){var O=E.op;return"add"===O||"remove"===O||"replace"===O}return!1}function he(E){return El(E)||ft(E)&&"mutation"===E.type}function ye(E){return he(E)&&("add"===E.op||"replace"===E.op||"merge"===E.op||"mergeDeep"===E.op)}function ft(E){return E&&"object"===te(E)}function Tt(E,O){try{return Nl(E,O)}catch(U){return console.error(U),{}}}var $t=h(3933),Mt=h.n($t),Vt=h(26360),di=h.n(Vt);function _i(E,O){function U(){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack;for(var J=arguments.length,pe=new Array(J),Ve=0;Ve<J;Ve++)pe[Ve]=arguments[Ve];this.message=pe[0],O&&O.apply(this,pe)}return(U.prototype=new Error).name=E,U.prototype.constructor=U,U}var bi=h(57051),bn=h.n(bi),ln=["properties"],kn=["properties"],ao=["definitions","parameters","responses","securityDefinitions","components/schemas","components/responses","components/parameters","components/securitySchemes"],lr=["schema/example","items/example"];function tr(E){var O=E[E.length-1],U=E[E.length-2],J=E.join("/");return ln.indexOf(O)>-1&&-1===kn.indexOf(U)||ao.indexOf(J)>-1||lr.some(function(pe){return J.indexOf(pe)>-1})}function Yr(E,O){var U,pe=He(E.split("#"),2),Ue=pe[1],tt=Oe.resolve(pe[0]||"",O||"");return Ue?lt()(U="".concat(tt,"#")).call(U,Ue):tt}var cr="application/json, application/yaml",ys=new RegExp("^([a-z]+://|//)","i"),os=_i("JSONRefError",function(O,U,J){this.originalError=J,xe()(this,U||{})}),ko={},Ua=new(Mt()),Iu=[function(E){return"paths"===E[0]&&"responses"===E[3]&&"examples"===E[5]},function(E){return"paths"===E[0]&&"responses"===E[3]&&"content"===E[5]&&"example"===E[7]},function(E){return"paths"===E[0]&&"responses"===E[3]&&"content"===E[5]&&"examples"===E[7]&&"value"===E[9]},function(E){return"paths"===E[0]&&"requestBody"===E[3]&&"content"===E[4]&&"example"===E[6]},function(E){return"paths"===E[0]&&"requestBody"===E[3]&&"content"===E[4]&&"examples"===E[6]&&"value"===E[8]},function(E){return"paths"===E[0]&&"parameters"===E[2]&&"example"===E[4]},function(E){return"paths"===E[0]&&"parameters"===E[3]&&"example"===E[5]},function(E){return"paths"===E[0]&&"parameters"===E[2]&&"examples"===E[4]&&"value"===E[6]},function(E){return"paths"===E[0]&&"parameters"===E[3]&&"examples"===E[5]&&"value"===E[7]},function(E){return"paths"===E[0]&&"parameters"===E[2]&&"content"===E[4]&&"example"===E[6]},function(E){return"paths"===E[0]&&"parameters"===E[2]&&"content"===E[4]&&"examples"===E[6]&&"value"===E[8]},function(E){return"paths"===E[0]&&"parameters"===E[3]&&"content"===E[4]&&"example"===E[7]},function(E){return"paths"===E[0]&&"parameters"===E[3]&&"content"===E[5]&&"examples"===E[7]&&"value"===E[9]}],hh={key:"$ref",plugin:function(O,U,J,pe){var Ve=pe.getInstance(),Ue=ns()(J).call(J,0,-1);if(!tr(Ue)&&!function(O){return Iu.some(function(U){return U(O)})}(Ue)){var pt=pe.getContext(J).baseDoc;if("string"!=typeof O)return new os("$ref: must be a string (JSON-Ref)",{$ref:O,baseDoc:pt,fullPath:J});var Qt,si,Ti,mt=rd(O),Ut=mt[0],Gt=mt[1]||"";try{Qt=pt||Ut?Mc(Ut,pt):null}catch(xi){return ra(xi,{pointer:Gt,$ref:O,basePath:Qt,fullPath:J})}if(function(E,O,U,J){var pe,Ve,Ue=Ua.get(J);Ue||Ua.set(J,Ue={});var tt=function(E){return 0===E.length?"":"/".concat(we()(E).call(E,rl).join("/"))}(U),pt=lt()(pe="".concat(O||"<specmap-base>","#")).call(pe,E),mt=tt.replace(/allOf\/\d+\/?/g,"");if(O===J.contextTree.get([]).baseDoc&&lo(mt,E))return!0;var Gt="",Qt=U.some(function(si){var Ti;return Gt=lt()(Ti="".concat(Gt,"/")).call(Ti,rl(si)),Ue[Gt]&&Ue[Gt].some(function(Ii){return lo(Ii,pt)||lo(pt,Ii)})});if(Qt)return!0;Ue[mt]=lt()(Ve=Ue[mt]||[]).call(Ve,pt)}(Gt,Qt,Ue,pe)&&!Ve.useCircularStructures){var Ii=Yr(O,Qt);return O===Ii?null:_r.replace(J,Ii)}if(null==Qt?(Ti=iu(Gt),void 0===(si=pe.get(Ti))&&(si=new os("Could not resolve reference: ".concat(O),{pointer:Gt,$ref:O,baseDoc:pt,fullPath:J}))):si=null!=(si=Ga(Qt,Gt)).__value?si.__value:si.catch(function(xi){throw ra(xi,{pointer:Gt,$ref:O,baseDoc:pt,fullPath:J})}),si instanceof Error)return[_r.remove(J),si];var Oi=Yr(O,Qt),$i=_r.replace(Ue,si,{$$ref:Oi});if(Qt&&Qt!==pt)return[$i,_r.context(Ue,{baseDoc:Qt})];try{if(!function(E,O){var U=[E];return O.path.reduce(function(pe,Ve){return U.push(pe[Ve]),pe[Ve]},E),function J(pe){return _r.isObject(pe)&&(U.indexOf(pe)>=0||dt()(pe).some(function(Ve){return J(pe[Ve])}))}(O.value)}(pe.state,$i)||Ve.useCircularStructures)return $i}catch(xi){return null}}}},tu=xe()(hh,{docCache:ko,absoluteify:Mc,clearCache:function(E){void 0!==E?delete ko[E]:dt()(ko).forEach(function(O){delete ko[O]})},JSONRefError:os,wrapError:ra,getDoc:od,split:rd,extractFromDoc:Ga,fetchJSON:function(E){return fetch(E,{headers:{Accept:cr},loadSpec:!0}).then(function(O){return O.text()}).then(function(O){return mr.load(O)})},extract:xc,jsonPointerToArray:iu,unescapeJsonPointerToken:Rc});const dc=tu;function Mc(E,O){if(!ys.test(E)){var U;if(!O)throw new os(lt()(U="Tried to resolve a relative URL, without having a basePath. path: '".concat(E,"' basePath: '")).call(U,O,"'"));return Oe.resolve(O,E)}return E}function ra(E,O){var U,J;return U=E&&E.response&&E.response.body?lt()(J="".concat(E.response.body.code," ")).call(J,E.response.body.message):E.message,new os("Could not resolve reference: ".concat(U),O,E)}function rd(E){return(E+"").split("#")}function Ga(E,O){var U=ko[E];if(U&&!_r.isPromise(U))try{var J=xc(O,U);return xe()(Oo().resolve(J),{__value:J})}catch(pe){return Oo().reject(pe)}return od(E).then(function(pe){return xc(O,pe)})}function od(E){var O=ko[E];return O?_r.isPromise(O)?O:Oo().resolve(O):(ko[E]=tu.fetchJSON(E).then(function(U){return ko[E]=U,U}),ko[E])}function xc(E,O){var U=iu(E);if(U.length<1)return O;var J=_r.getIn(O,U);if(void 0===J)throw new os("Could not resolve pointer: ".concat(E," does not exist in document"),{pointer:E});return J}function iu(E){var O;if("string"!=typeof E)throw new TypeError("Expected a string, got a ".concat(te(E)));return"/"===E[0]&&(E=E.substr(1)),""===E?[]:we()(O=E.split("/")).call(O,Rc)}function Rc(E){return"string"!=typeof E?E:new(di())("=".concat(E.replace(/~1/g,"/").replace(/~0/g,"~"))).get("")}function rl(E){var O,U=new(di())([["",E.replace(/~/g,"~0").replace(/\//g,"~1")]]);return ns()(O=U.toString()).call(O,1)}function lo(E,O){if(function(O){return!O||"/"===O||"#"===O}(O))return!0;var U=E.charAt(O.length),J=ns()(O).call(O,-1);return 0===E.indexOf(O)&&(!U||"/"===U||"#"===U)&&"#"!==J}var nu=h(18421),ld=h.n(nu);const Od={key:"allOf",plugin:function(O,U,J,pe,Ve){if(!Ve.meta||!Ve.meta.$$ref){var Ue=ns()(J).call(J,0,-1);if(!tr(Ue)){if(!Array.isArray(O)){var tt=new TypeError("allOf must be an array");return tt.fullPath=J,tt}var pt=!1,mt=Ve.value;if(Ue.forEach(function(Qt){!mt||(mt=mt[Qt])}),mt=K({},mt),!ld()(mt)){delete mt.allOf;var Gt,Ut=[];return Ut.push(pe.replace(Ue,{})),O.forEach(function(Qt,si){if(!pe.isObject(Qt)){if(pt)return null;pt=!0;var Ti=new TypeError("Elements in allOf must be objects");return Ti.fullPath=J,Ut.push(Ti)}Ut.push(pe.mergeDeep(Ue,Qt));var Oi=function(E,O){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},J=U.specmap,pe=U.getBaseUrlForNodePath,Ve=void 0===pe?function(mt){var Ut;return J.getContext(lt()(Ut=[]).call(Ut,ta(O),ta(mt))).baseDoc}:pe,Ue=U.targetKeys,tt=void 0===Ue?["$ref","$$ref"]:Ue,pt=[];return bn()(E).forEach(function(){if(vi()(tt).call(tt,this.key)&&"string"==typeof this.node){var Ut=this.path,Gt=lt()(O).call(O,this.path),Qt=Yr(this.node,Ve(Ut));pt.push(J.replace(Gt,Qt))}}),pt}(Qt,ns()(J).call(J,0,-1),{getBaseUrlForNodePath:function(xi){var Xn;return pe.getContext(lt()(Xn=[]).call(Xn,ta(J),[si],ta(xi))).baseDoc},specmap:pe});Ut.push.apply(Ut,ta(Oi))}),Ut.push(pe.mergeDeep(Ue,mt)),mt.$$ref||Ut.push(pe.remove(lt()(Gt=[]).call(Gt,Ue,"$$ref"))),Ut}}}}},kd={key:"parameters",plugin:function(O,U,J,pe){if(Array.isArray(O)&&O.length){var Ve=xe()([],O),Ue=ns()(J).call(J,0,-1),tt=K({},_r.getIn(pe.spec,Ue));return O.forEach(function(pt,mt){try{Ve[mt].default=pe.parameterMacro(tt,pt)}catch(Gt){var Ut=new Error(Gt);return Ut.fullPath=J,Ut}}),_r.replace(J,Ve)}return _r.replace(J,O)}},Pd={key:"properties",plugin:function(O,U,J,pe){var Ve=K({},O);for(var Ue in O)try{Ve[Ue].default=pe.modelPropertyMacro(Ve[Ue])}catch(mt){var tt=new Error(mt);return tt.fullPath=J,tt}return _r.replace(J,Ve)}};var Ld=function(){function E(O){Kc(this,E),this.root=Ou(O||{})}return oc(E,[{key:"set",value:function(U,J){var pe=this.getParent(U,!0);if(pe){var Ve=U[U.length-1],Ue=pe.children;Ue[Ve]?ru(Ue[Ve],J,pe):Ue[Ve]=Ou(J,pe)}else ru(this.root,J,null)}},{key:"get",value:function(U){if((U=U||[]).length<1)return this.root.value;for(var pe,Ve,J=this.root,Ue=0;Ue<U.length&&(pe=J.children)[Ve=U[Ue]];Ue+=1)J=pe[Ve];return J&&J.protoValue}},{key:"getParent",value:function(U,J){return!U||U.length<1?null:U.length<2?this.root:ns()(U).call(U,0,-1).reduce(function(pe,Ve){if(!pe)return pe;var Ue=pe.children;return!Ue[Ve]&&J&&(Ue[Ve]=Ou(null,pe)),Ue[Ve]},this.root)}}]),E}();function Ou(E,O){return ru({children:{}},E,O)}function ru(E,O,U){return E.value=O||{},E.protoValue=U?K(K({},U.protoValue),E.value):E.value,dt()(E.children).forEach(function(J){var pe=E.children[J];E.children[J]=ru(pe,pe.value,E)}),E}var hc=function(){},Ms=function(){function E(O){var J,pe,U=this;Kc(this,E),xe()(this,{spec:"",debugLevel:"info",plugins:[],pluginHistory:{},errors:[],mutations:[],promisedPatches:[],state:{},patches:[],context:{},contextTree:new Ld,showDebug:!1,allPatches:[],pluginProp:"specMap",libMethods:xe()(Object.create(this),_r,{getInstance:function(){return U}}),allowMetaPatches:!1},O),this.get=this._get.bind(this),this.getContext=this._getContext.bind(this),this.hasRun=this._hasRun.bind(this),this.wrappedPlugins=Ze()(J=we()(pe=this.plugins).call(pe,this.wrapPlugin.bind(this))).call(J,_r.isFunction),this.patches.push(_r.add([],this.spec)),this.patches.push(_r.context([],this.context)),this.updatePatches(this.patches)}return oc(E,[{key:"debug",value:function(U){if(this.debugLevel===U){for(var J,pe=arguments.length,Ve=new Array(pe>1?pe-1:0),Ue=1;Ue<pe;Ue++)Ve[Ue-1]=arguments[Ue];(J=console).log.apply(J,Ve)}}},{key:"verbose",value:function(U){if("verbose"===this.debugLevel){for(var J,pe,Ve=arguments.length,Ue=new Array(Ve>1?Ve-1:0),tt=1;tt<Ve;tt++)Ue[tt-1]=arguments[tt];(J=console).log.apply(J,lt()(pe=["[".concat(U,"]   ")]).call(pe,Ue))}}},{key:"wrapPlugin",value:function(U,J){var Ue,pt,mt,pe=this.pathDiscriminator,Ve=null;return U[this.pluginProp]?(Ve=U,Ue=U[this.pluginProp]):_r.isFunction(U)?Ue=U:_r.isObject(U)&&(pt=U,mt=function(Gt,Qt){return!Array.isArray(Gt)||Gt.every(function(si,Ti){return si===Qt[Ti]})},Ue=Ht().mark(function Ut(Gt,Qt){var si,Ti,Ii,Oi,$i,xi;return Ht().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:xi=function(ir,Tr,Xe){var xs,mo,To,Wn,Po,Yo,ba,ya,Zl,Wu,vd,oa,Yd;return Ht().wrap(function(Hs){for(;;)switch(Hs.prev=Hs.next){case 0:if(_r.isObject(ir)){Hs.next=6;break}if(pt.key!==Tr[Tr.length-1]){Hs.next=4;break}return Hs.next=4,pt.plugin(ir,pt.key,Tr,Qt);case 4:Hs.next=30;break;case 6:mo=Tr[xs=Tr.length-1],To=Tr.indexOf("properties"),Wn="properties"===mo&&xs===To,Po=Qt.allowMetaPatches&&Ti[ir.$$ref],Yo=0,ba=dt()(ir);case 12:if(!(Yo<ba.length)){Hs.next=30;break}if(Zl=ir[ya=ba[Yo]],Wu=lt()(Tr).call(Tr,ya),vd=_r.isObject(Zl),oa=ir.$$ref,Po){Hs.next=22;break}if(!vd){Hs.next=22;break}return Qt.allowMetaPatches&&oa&&(Ti[oa]=!0),Hs.delegateYield(xi(Zl,Wu,Xe),"t0",22);case 22:if(Wn||ya!==pt.key){Hs.next=27;break}if(Yd=mt(pe,Tr),pe&&!Yd){Hs.next=27;break}return Hs.next=27,pt.plugin(Zl,ya,Wu,Qt,Xe);case 27:Yo++,Hs.next=12;break;case 30:case"end":return Hs.stop()}},si)},si=Ht().mark(xi),Ti={},Ii=oe(Ze()(Gt).call(Gt,_r.isAdditiveMutation)),En.prev=4,Ii.s();case 6:if((Oi=Ii.n()).done){En.next=11;break}return En.delegateYield(xi(($i=Oi.value).value,$i.path,$i),"t0",9);case 9:En.next=6;break;case 11:En.next=16;break;case 13:En.prev=13,En.t1=En.catch(4),Ii.e(En.t1);case 16:return En.prev=16,Ii.f(),En.finish(16);case 19:case"end":return En.stop()}},Ut,null,[[4,13,16,19]])})),xe()(Ue.bind(Ve),{pluginName:U.name||J,isGenerator:_r.isGenerator(Ue)})}},{key:"nextPlugin",value:function(){var U,J=this;return Rd()(U=this.wrappedPlugins).call(U,function(pe){return J.getMutationsForPlugin(pe).length>0})}},{key:"nextPromisedPatch",value:function(){var U;if(this.promisedPatches.length>0)return Oo().race(we()(U=this.promisedPatches).call(U,function(J){return J.value}))}},{key:"getPluginHistory",value:function(U){var J=this.constructor.getPluginName(U);return this.pluginHistory[J]||[]}},{key:"getPluginRunCount",value:function(U){return this.getPluginHistory(U).length}},{key:"getPluginHistoryTip",value:function(U){var J=this.getPluginHistory(U);return J&&J[J.length-1]||{}}},{key:"getPluginMutationIndex",value:function(U){var J=this.getPluginHistoryTip(U).mutationIndex;return"number"!=typeof J?-1:J}},{key:"updatePluginHistory",value:function(U,J){var pe=this.constructor.getPluginName(U);this.pluginHistory[pe]=this.pluginHistory[pe]||[],this.pluginHistory[pe].push(J)}},{key:"updatePatches",value:function(U){var J=this;_r.normalizeArray(U).forEach(function(pe){if(pe instanceof Error)J.errors.push(pe);else try{if(!_r.isObject(pe))return void J.debug("updatePatches","Got a non-object patch",pe);if(J.showDebug&&J.allPatches.push(pe),_r.isPromise(pe.value))return J.promisedPatches.push(pe),void J.promisedPatchThen(pe);if(_r.isContextPatch(pe))return void J.setContext(pe.path,pe.value);if(_r.isMutation(pe))return void J.updateMutations(pe)}catch(Ve){console.error(Ve),J.errors.push(Ve)}})}},{key:"updateMutations",value:function(U){"object"===te(U.value)&&!Array.isArray(U.value)&&this.allowMetaPatches&&(U.value=K({},U.value));var J=_r.applyPatch(this.state,U,{allowMetaPatches:this.allowMetaPatches});J&&(this.mutations.push(U),this.state=J)}},{key:"removePromisedPatch",value:function(U){var J,pe=this.promisedPatches.indexOf(U);pe<0?this.debug("Tried to remove a promisedPatch that isn't there!"):Ma()(J=this.promisedPatches).call(J,pe,1)}},{key:"promisedPatchThen",value:function(U){var J=this;return U.value=U.value.then(function(pe){var Ve=K(K({},U),{},{value:pe});J.removePromisedPatch(U),J.updatePatches(Ve)}).catch(function(pe){J.removePromisedPatch(U),J.updatePatches(pe)}),U.value}},{key:"getMutations",value:function(U,J){var pe;return U=U||0,"number"!=typeof J&&(J=this.mutations.length),ns()(pe=this.mutations).call(pe,U,J)}},{key:"getCurrentMutations",value:function(){return this.getMutationsForPlugin(this.getCurrentPlugin())}},{key:"getMutationsForPlugin",value:function(U){var J=this.getPluginMutationIndex(U);return this.getMutations(J+1)}},{key:"getCurrentPlugin",value:function(){return this.currentPlugin}},{key:"getLib",value:function(){return this.libMethods}},{key:"_get",value:function(U){return _r.getIn(this.state,U)}},{key:"_getContext",value:function(U){return this.contextTree.get(U)}},{key:"setContext",value:function(U,J){return this.contextTree.set(U,J)}},{key:"_hasRun",value:function(U){return this.getPluginRunCount(this.getCurrentPlugin())>(U||0)}},{key:"dispatch",value:function(){var tt,U=this,J=this,pe=this.nextPlugin();if(!pe){var Ve=this.nextPromisedPatch();if(Ve)return Ve.then(function(){return U.dispatch()}).catch(function(){return U.dispatch()});var Ue={spec:this.state,errors:this.errors};return this.showDebug&&(Ue.patches=this.allPatches),Oo().resolve(Ue)}if(J.pluginCount=J.pluginCount||{},J.pluginCount[pe]=(J.pluginCount[pe]||0)+1,J.pluginCount[pe]>100)return Oo().resolve({spec:J.state,errors:lt()(tt=J.errors).call(tt,new Error("We've reached a hard limit of ".concat(100," plugin runs")))});if(pe!==this.currentPlugin&&this.promisedPatches.length){var pt,mt=we()(pt=this.promisedPatches).call(pt,function(Qt){return Qt.value});return Oo().all(we()(mt).call(mt,function(Qt){return Qt.then(hc,hc)})).then(function(){return U.dispatch()})}return function(){J.currentPlugin=pe;var Qt=J.getCurrentMutations(),si=J.mutations.length-1;try{if(pe.isGenerator){var Ii,Ti=oe(pe(Qt,J.getLib()));try{for(Ti.s();!(Ii=Ti.n()).done;)Gt(Ii.value)}catch(xi){Ti.e(xi)}finally{Ti.f()}}else Gt(pe(Qt,J.getLib()))}catch(xi){console.error(xi),Gt([xe()(Object.create(xi),{plugin:pe})])}finally{J.updatePluginHistory(pe,{mutationIndex:si})}return J.dispatch()}();function Gt(Qt){Qt&&(Qt=_r.fullyNormalizeArray(Qt),J.updatePatches(Qt,pe))}}}],[{key:"getPluginName",value:function(U){return U.pluginName}},{key:"getPatchesOfType",value:function(U,J){return Ze()(U).call(U,J)}}]),E}(),ol={refs:dc,allOf:Od,parameters:kd,properties:Pd},cd=h(75388),Es=h.n(cd),Ic=function(O){return String.prototype.toLowerCase.call(O)},Pu=function(O){return O.replace(/[^\w]/gi,"_")};function ud(E){var O=E.openapi;return!!O&&_e()(O).call(O,"3")}function Ac(E,O){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},pe=J.v2OperationIdCompatibilityMode;if(!E||"object"!==te(E))return null;var Ve=(E.operationId||"").replace(/\s/g,"");return Ve.length?Pu(E.operationId):dd(O,U,{v2OperationIdCompatibilityMode:pe})}function dd(E,O){var U,J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},pe=J.v2OperationIdCompatibilityMode;if(pe){var Ve,Ue,tt=lt()(Ve="".concat(O.toLowerCase(),"_")).call(Ve,E).replace(/[\s!@#$%^&*()_+=[{\]};:<>|./?,\\'""-]/g,"_");return(tt=tt||lt()(Ue="".concat(E.substring(1),"_")).call(Ue,O)).replace(/((_){2,})/g,"_").replace(/^(_)*/g,"").replace(/([_])*$/g,"")}return lt()(U="".concat(Ic(O))).call(U,Pu(E))}function Lu(E,O){var U;return lt()(U="".concat(Ic(O),"-")).call(U,E)}function Oc(E,O,U){if(!E||"object"!==te(E)||!E.paths||"object"!==te(E.paths))return null;var J=E.paths;for(var pe in J)for(var Ve in J[pe])if("PARAMETERS"!==Ve.toUpperCase()){var Ue=J[pe][Ve];if(Ue&&"object"===te(Ue)){var tt={spec:E,pathName:pe,method:Ve.toUpperCase(),operation:Ue},pt=O(tt);if(U&&pt)return tt}}}function Nu(E){var O=E.spec,U=O.paths,J={};if(!U||O.$$normalized)return E;for(var pe in U){var Ve=U[pe];if(Es()(Ve)){var Ue=Ve.parameters,tt=function(Gt){var Qt=Ve[Gt];if(!Es()(Qt))return"continue";var si=Ac(Qt,pe,Gt);if(si){J[si]?J[si].push(Qt):J[si]=[Qt];var Ti=J[si];if(Ti.length>1)Ti.forEach(function(mo,To){var Wn;mo.__originalOperationId=mo.__originalOperationId||mo.operationId,mo.operationId=lt()(Wn="".concat(si)).call(Wn,To+1)});else if(void 0!==Qt.operationId){var Ii=Ti[0];Ii.__originalOperationId=Ii.__originalOperationId||Qt.operationId,Ii.operationId=si}}if("parameters"!==Gt){var Oi=[],$i={};for(var xi in O)("produces"===xi||"consumes"===xi||"security"===xi)&&($i[xi]=O[xi],Oi.push($i));if(Ue&&($i.parameters=Ue,Oi.push($i)),Oi.length){var En,Xn=oe(Oi);try{for(Xn.s();!(En=Xn.n()).done;){var Rr=En.value;for(var ir in Rr)if(Qt[ir]){if("parameters"===ir){var Xe,Tr=oe(Rr[ir]);try{var xs=function(){var To=Xe.value;Qt[ir].some(function(Po){return Po.name&&Po.name===To.name||Po.$ref&&Po.$ref===To.$ref||Po.$$ref&&Po.$$ref===To.$$ref||Po===To})||Qt[ir].push(To)};for(Tr.s();!(Xe=Tr.n()).done;)xs()}catch(mo){Tr.e(mo)}finally{Tr.f()}}}else Qt[ir]=Rr[ir]}}catch(mo){Xn.e(mo)}finally{Xn.f()}}}};for(var pt in Ve)tt(pt)}}return O.$$normalized=!0,E}function hd(E){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=O.requestInterceptor,J=O.responseInterceptor,pe=E.withCredentials?"include":"same-origin";return function(Ve){return E({url:Ve,loadSpec:!0,requestInterceptor:U,responseInterceptor:J,headers:{Accept:cr},credentials:pe}).then(function(Ue){return Ue.body})}}function Bd(E){var U=E.spec,pe=E.mode,Ve=E.allowMetaPatches,Ue=void 0===Ve||Ve,tt=E.pathDiscriminator,pt=E.modelPropertyMacro,mt=E.parameterMacro,Ut=E.requestInterceptor,Gt=E.responseInterceptor,Qt=E.skipNormalization,si=E.useCircularStructures,Ti=E.http,Ii=E.baseDoc;return Ii=Ii||E.url,Ti=E.fetch||Ti||Yc,U?Oi(U):hd(Ti,{requestInterceptor:Ut,responseInterceptor:Gt})(Ii).then(Oi);function Oi($i){Ii&&(ol.refs.docCache[Ii]=$i),ol.refs.fetchJSON=hd(Ti,{requestInterceptor:Ut,responseInterceptor:Gt});var xi=[ol.refs];return"function"==typeof mt&&xi.push(ol.parameters),"function"==typeof pt&&xi.push(ol.properties),"strict"!==pe&&xi.push(ol.allOf),function(E){return new Ms(E).dispatch()}({spec:$i,context:{baseDoc:Ii},plugins:xi,allowMetaPatches:Ue,pathDiscriminator:tt,parameterMacro:mt,modelPropertyMacro:pt,useCircularStructures:si}).then(Qt?function(){var Xn=ht(Ht().mark(function En(Rr){return Ht().wrap(function(Tr){for(;;)switch(Tr.prev=Tr.next){case 0:return Tr.abrupt("return",Rr);case 1:case"end":return Tr.stop()}},En)}));return function(En){return Xn.apply(this,arguments)}}():Nu)}}var Hd=h(60778),Fu=h.n(Hd);function pd(){return pd=ht(Ht().mark(function E(O,U){var J,pe,Gt,Qt,si,Ti,Ii=arguments;return Ht().wrap(function($i){for(;;)switch($i.prev=$i.next){case 0:return pe=(J=Ii.length>2&&void 0!==Ii[2]?Ii[2]:{}).returnEntireTree,Gt={pathDiscriminator:U,baseDoc:J.baseDoc,requestInterceptor:J.requestInterceptor,responseInterceptor:J.responseInterceptor,parameterMacro:J.parameterMacro,modelPropertyMacro:J.modelPropertyMacro,useCircularStructures:J.useCircularStructures},Qt=Nu({spec:O}),si=Qt.spec,$i.next=6,Bd(K(K({},Gt),{},{spec:si,allowMetaPatches:!0,skipNormalization:!0}));case 6:return Ti=$i.sent,!pe&&Array.isArray(U)&&U.length&&(Ti.spec=Fu()(Ti.spec,U)||null),$i.abrupt("return",Ti);case 9:case"end":return $i.stop()}},E)})),pd.apply(this,arguments)}var Vd=function(){return null},kc_mapTagOperations=function(E){var O=E.spec,U=E.cb,J=void 0===U?Vd:U,pe=E.defaultTag,Ve=void 0===pe?"default":pe,Ue=E.v2OperationIdCompatibilityMode,tt={},pt={};return Oc(O,function(mt){var Ut=mt.pathName,Gt=mt.method,Qt=mt.operation,si=Qt.tags?function(O){return Array.isArray(O)?O:[O]}(Qt.tags):[Ve];si.forEach(function(Ti){if("string"==typeof Ti){pt[Ti]=pt[Ti]||{};var xi,Ii=pt[Ti],Oi=Ac(Qt,Ut,Gt,{v2OperationIdCompatibilityMode:Ue}),$i=J({spec:O,pathName:Ut,method:Gt,operation:Qt,operationId:Oi});if(tt[Oi])tt[Oi]+=1,Ii[lt()(xi="".concat(Oi)).call(xi,tt[Oi])]=$i;else if(void 0!==Ii[Oi]){var Xn,En,Rr=tt[Oi]||1;tt[Oi]=Rr+1,Ii[lt()(Xn="".concat(Oi)).call(Xn,tt[Oi])]=$i;var ir=Ii[Oi];delete Ii[Oi],Ii[lt()(En="".concat(Oi)).call(En,Rr)]=ir}else Ii[Oi]=$i}})}),pt},kc_makeExecute=function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(O){var U=O.pathName,J=O.method,pe=O.operationId;return function(Ve){var Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt=E.requestInterceptor,pt=E.responseInterceptor,mt=E.userFetch;return E.execute(K({spec:E.spec,requestInterceptor:tt,responseInterceptor:pt,userFetch:mt,pathName:U,method:J,parameters:Ve,operationId:pe},Ue))}}},ga=h(83091);var fd=h(12507),au=h.n(fd),Xl=h(76216);const jd={body:function(E){E.req.body=E.value},header:function(E){var O=E.req,U=E.parameter,J=E.value;O.headers=O.headers||{},void 0!==J&&(O.headers[U.name]=J)},query:function(E){var O=E.req,U=E.value,J=E.parameter;if(O.query=O.query||{},!1===U&&"boolean"===J.type&&(U="false"),0===U&&["number","integer"].indexOf(J.type)>-1&&(U="0"),U)O.query[J.name]={collectionFormat:J.collectionFormat,value:U};else if(J.allowEmptyValue&&void 0!==U){var pe=J.name;O.query[pe]=O.query[pe]||{},O.query[pe].allowEmptyValue=!0}},path:function(E){var O=E.req,U=E.value;O.url=O.url.split("{".concat(E.parameter.name,"}")).join(encodeURIComponent(U))},formData:function(E){var O=E.req,U=E.value,J=E.parameter;(U||J.allowEmptyValue)&&(O.form=O.form||{},O.form[J.name]={value:U,allowEmptyValue:J.allowEmptyValue,collectionFormat:J.collectionFormat})}};function ma(E,O){return vi()(O).call(O,"application/json")?"string"==typeof E?E:Ke()(E):E.toString()}function lu(E){var O=E.req,U=E.value,J=E.parameter,pe=J.name,Ve=J.style,Ue=J.explode,tt=J.content;if(tt){var pt=dt()(tt)[0];O.url=O.url.split("{".concat(pe,"}")).join(ha(ma(U,pt),{escape:!0}))}else{var mt=Ss({key:J.name,value:U,style:Ve||"simple",explode:Ue||!1,escape:!0});O.url=O.url.split("{".concat(pe,"}")).join(mt)}}function Uu(E){var O=E.req,U=E.value,J=E.parameter;if(O.query=O.query||{},J.content){var pe=dt()(J.content)[0];O.query[J.name]=ma(U,pe)}else if(!1===U&&(U="false"),0===U&&(U="0"),U)O.query[J.name]={value:U,serializationOption:{style:J.style,explode:J.explode,allowReserved:J.allowReserved}};else if(J.allowEmptyValue&&void 0!==U){var pt=J.name;O.query[pt]=O.query[pt]||{},O.query[pt].allowEmptyValue=!0}}var _a=["accept","authorization","content-type"];function Pc(E){var O=E.req,U=E.parameter,J=E.value;if(O.headers=O.headers||{},!(_a.indexOf(U.name.toLowerCase())>-1)){if(U.content){var pe=dt()(U.content)[0];return void(O.headers[U.name]=ma(J,pe))}void 0!==J&&(O.headers[U.name]=Ss({key:U.name,value:J,style:U.style||"simple",explode:void 0!==U.explode&&U.explode,escape:!1}))}}function cu(E){var O=E.req,U=E.parameter,J=E.value;O.headers=O.headers||{};var pe=te(J);if(U.content){var Ve,Ue=dt()(U.content)[0];O.headers.Cookie=lt()(Ve="".concat(U.name,"=")).call(Ve,ma(J,Ue))}else if("undefined"!==pe){var tt="object"===pe&&!Array.isArray(J)&&U.explode?"":"".concat(U.name,"=");O.headers.Cookie=tt+Ss({key:U.name,value:J,escape:!1,style:U.style||"form",explode:void 0!==U.explode&&U.explode})}}var Gu=h(26692),uu=h.n(Gu);var ja=["http","fetch","spec","operationId","pathName","method","parameters","securities"],Lc=function(O){return Array.isArray(O)?O:[]},Wd=_i("OperationNotFoundError",function(O,U,J){this.originalError=J,xe()(this,U||{})}),va={buildRequest:Jl};function Jl(E){var O,U,J=E.spec,pe=E.operationId,Ve=E.responseContentType,Ue=E.scheme,tt=E.requestInterceptor,pt=E.responseInterceptor,mt=E.contextUrl,Ut=E.userFetch,Gt=E.server,Qt=E.serverVariables,si=E.http,Ti=E.parameters,Ii=E.parameterBuilders,Oi=ud(J);Ii||(Ii=Oi?t:jd);var xi={url:"",credentials:si&&si.withCredentials?"include":"same-origin",headers:{},cookies:{}};tt&&(xi.requestInterceptor=tt),pt&&(xi.responseInterceptor=pt),Ut&&(xi.userFetch=Ut);var Xn=function(E,O){return E&&E.paths?function(E,O){return Oc(E,O,!0)||null}(E,function(U){var J=U.pathName,pe=U.method,Ve=U.operation;if(!Ve||"object"!==te(Ve))return!1;var Ue=Ve.operationId;return[Ac(Ve,J,pe),Lu(J,pe),Ue].some(function(mt){return mt&&mt===O})}):null}(J,pe);if(!Xn)throw new Wd("Operation ".concat(pe," not found"));var En=Xn.operation,Rr=void 0===En?{}:En,ir=Xn.method,Tr=Xn.pathName;if(xi.url+=Fc({spec:J,scheme:Ue,contextUrl:mt,server:Gt,serverVariables:Qt,pathName:Tr,method:ir}),!pe)return delete xi.cookies,xi;xi.url+=Tr,xi.method="".concat(ir).toUpperCase(),Ti=Ti||{};var Xe=J.paths[Tr]||{};Ve&&(xi.headers.accept=Ve);var xs=function(O){var U={};O.forEach(function(pe){U[pe.in]||(U[pe.in]={}),U[pe.in][pe.name]=pe});var J=[];return dt()(U).forEach(function(pe){dt()(U[pe]).forEach(function(Ve){J.push(U[pe][Ve])})}),J}(lt()(O=lt()(U=[]).call(U,Lc(Rr.parameters))).call(O,Lc(Xe.parameters)));xs.forEach(function(Wn){var Yo,ba,Po=Ii[Wn.in];if("body"===Wn.in&&Wn.schema&&Wn.schema.properties&&(Yo=Ti),void 0===(Yo=Wn&&Wn.name&&Ti[Wn.name]))Yo=Wn&&Wn.name&&Ti[lt()(ba="".concat(Wn.in,".")).call(ba,Wn.name)];else if(function(O,U){return Ze()(U).call(U,function(J){return J.name===O})}(Wn.name,xs).length>1){var ya;console.warn(lt()(ya="Parameter '".concat(Wn.name,"' is ambiguous because the defined spec has more than one parameter with the name: '")).call(ya,Wn.name,"' and the passed-in parameter values did not define an 'in' value."))}if(null!==Yo){if(void 0!==Wn.default&&void 0===Yo&&(Yo=Wn.default),void 0===Yo&&Wn.required&&!Wn.allowEmptyValue)throw new Error("Required parameter ".concat(Wn.name," is not provided"));if(Oi&&Wn.schema&&"object"===Wn.schema.type&&"string"==typeof Yo)try{Yo=JSON.parse(Yo)}catch(Zl){throw new Error("Could not parse object parameter value string as JSON")}Po&&Po({req:xi,parameter:Wn,value:Yo,operation:Rr,spec:J})}});var mo=K(K({},E),{},{operation:Rr});if((xi=Oi?function(E,O){var U=E.operation,J=E.requestBody,Ue=E.attachContentTypeForEmptyPayload,tt=E.requestContentType;O=function(E){var O=E.request,U=E.securities,J=void 0===U?{}:U,pe=E.operation,Ve=void 0===pe?{}:pe,Ue=E.spec,tt=K({},O),pt=J.authorized,mt=void 0===pt?{}:pt,Ut=Ve.security||Ue.security||[],Gt=mt&&!!dt()(mt).length,Qt=Fu()(Ue,["components","securitySchemes"])||{};return tt.headers=tt.headers||{},tt.query=tt.query||{},dt()(J).length&&Gt&&Ut&&(!Array.isArray(Ve.security)||Ve.security.length)?(Ut.forEach(function(si){dt()(si).forEach(function(Ti){var Ii=mt[Ti],Oi=Qt[Ti];if(Ii){var $i=Ii.value||Ii,xi=Oi.type;if(Ii)if("apiKey"===xi)"query"===Oi.in&&(tt.query[Oi.name]=$i),"header"===Oi.in&&(tt.headers[Oi.name]=$i),"cookie"===Oi.in&&(tt.cookies[Oi.name]=$i);else if("http"===xi){if(/^basic$/i.test(Oi.scheme)){var Xn,En=$i.username||"",Rr=$i.password||"",ir=uu()(lt()(Xn="".concat(En,":")).call(Xn,Rr));tt.headers.Authorization="Basic ".concat(ir)}/^bearer$/i.test(Oi.scheme)&&(tt.headers.Authorization="Bearer ".concat($i))}else if("oauth2"===xi||"openIdConnect"===xi){var Tr,Xe=Ii.token||{},mo=Xe[Oi["x-tokenName"]||"access_token"],To=Xe.token_type;(!To||"bearer"===To.toLowerCase())&&(To="Bearer"),tt.headers.Authorization=lt()(Tr="".concat(To," ")).call(Tr,mo)}}})}),tt):O}({request:O,securities:E.securities,operation:U,spec:E.spec});var pt=U.requestBody||{},mt=dt()(pt.content||{}),Ut=tt&&mt.indexOf(tt)>-1;if(J||Ue){if(tt&&Ut)O.headers["Content-Type"]=tt;else if(!tt){var Gt=mt[0];Gt&&(O.headers["Content-Type"]=Gt,tt=Gt)}}else tt&&Ut&&(O.headers["Content-Type"]=tt);if(!E.responseContentType&&U.responses){var Qt,si=Ze()(Qt=Ye()(U.responses)).call(Qt,function(Ii){var Oi=He(Ii,2),xi=Oi[1],Xn=parseInt(Oi[0],10);return Xn>=200&&Xn<300&&au()(xi.content)}).reduce(function(Ii,Oi){var xi=He(Oi,2)[1];return lt()(Ii).call(Ii,dt()(xi.content))},[]);si.length>0&&(O.headers.accept=si.join(", "))}if(J)if(tt){if(mt.indexOf(tt)>-1)if("application/x-www-form-urlencoded"===tt||"multipart/form-data"===tt)if("object"===te(J)){var Ti=(pt.content[tt]||{}).encoding||{};O.form={},dt()(J).forEach(function(Ii){O.form[Ii]={value:J[Ii],encoding:Ti[Ii]||{}}})}else O.form=J;else O.body=J}else O.body=J;return O}(mo,xi):function(E,O){var pt,mt,U=E.spec,J=E.operation,Ve=E.requestContentType,Ue=E.responseContentType,tt=E.attachContentTypeForEmptyPayload;if(O=function(E){var O=E.request,U=E.securities,J=void 0===U?{}:U,pe=E.operation,Ve=void 0===pe?{}:pe,Ue=E.spec,tt=K({},O),pt=J.authorized,mt=void 0===pt?{}:pt,Ut=J.specSecurity,Qt=Ve.security||(void 0===Ut?[]:Ut),si=mt&&!!dt()(mt).length,Ti=Ue.securityDefinitions;return tt.headers=tt.headers||{},tt.query=tt.query||{},dt()(J).length&&si&&Qt&&(!Array.isArray(Ve.security)||Ve.security.length)?(Qt.forEach(function(Ii){dt()(Ii).forEach(function(Oi){var $i=mt[Oi];if($i){var xi=$i.token,Xn=$i.value||$i,En=Ti[Oi],Rr=En.type,Tr=xi&&xi[En["x-tokenName"]||"access_token"],Xe=xi&&xi.token_type;if($i)if("apiKey"===Rr){var xs="query"===En.in?"query":"headers";tt[xs]=tt[xs]||{},tt[xs][En.name]=Xn}else if("basic"===Rr)if(Xn.header)tt.headers.authorization=Xn.header;else{var mo,To=Xn.username||"",Wn=Xn.password||"";Xn.base64=uu()(lt()(mo="".concat(To,":")).call(mo,Wn)),tt.headers.authorization="Basic ".concat(Xn.base64)}else if("oauth2"===Rr&&Tr){var Po;Xe=Xe&&"bearer"!==Xe.toLowerCase()?Xe:"Bearer",tt.headers.authorization=lt()(Po="".concat(Xe," ")).call(Po,Tr)}}})}),tt):O}({request:O,securities:E.securities,operation:J,spec:U}),O.body||O.form||tt)if(Ve)O.headers["Content-Type"]=Ve;else if(Array.isArray(J.consumes)){var Ut=He(J.consumes,1);O.headers["Content-Type"]=Ut[0]}else if(Array.isArray(U.consumes)){var Gt=He(U.consumes,1);O.headers["Content-Type"]=Gt[0]}else J.parameters&&Ze()(pt=J.parameters).call(pt,function(Oi){return"file"===Oi.type}).length?O.headers["Content-Type"]="multipart/form-data":J.parameters&&Ze()(mt=J.parameters).call(mt,function(Oi){return"formData"===Oi.in}).length&&(O.headers["Content-Type"]="application/x-www-form-urlencoded");else if(Ve){var Qt,si,Ti=J.parameters&&Ze()(Qt=J.parameters).call(Qt,function(Oi){return"body"===Oi.in}).length>0,Ii=J.parameters&&Ze()(si=J.parameters).call(si,function(Oi){return"formData"===Oi.in}).length>0;(Ti||Ii)&&(O.headers["Content-Type"]=Ve)}return!Ue&&Array.isArray(J.produces)&&J.produces.length>0&&(O.headers.accept=J.produces.join(", ")),O}(mo,xi)).cookies&&dt()(xi.cookies).length){var To=dt()(xi.cookies).reduce(function(Wn,Po){return Wn+(Wn?"&":"")+Xl.serialize(Po,xi.cookies[Po])},"");xi.headers.Cookie=To}return xi.cookies&&delete xi.cookies,na(xi),xi}var Nc=function(O){return O?O.replace(/\W/g,""):null};function Fc(E){return ud(E.spec)?function(E){var O=E.spec,U=E.pathName,J=E.method,pe=E.server,Ve=E.contextUrl,Ue=E.serverVariables,tt=void 0===Ue?{}:Ue,pt=Fu()(O,["paths",U,(J||"").toLowerCase(),"servers"])||Fu()(O,["paths",U,"servers"])||Fu()(O,["servers"]),mt="",Ut=null;if(pe&&pt&&pt.length){var Gt=we()(pt).call(pt,function(Ti){return Ti.url});Gt.indexOf(pe)>-1&&(mt=pe,Ut=pt[Gt.indexOf(pe)])}if(!mt&&pt&&pt.length){mt=pt[0].url;var Qt=He(pt,1);Ut=Qt[0]}if(mt.indexOf("{")>-1){var si=function(E){for(var J,O=[],U=/{([^}]+)}/g;J=U.exec(E);)O.push(J[1]);return O}(mt);si.forEach(function(Ti){if(Ut.variables&&Ut.variables[Ti]){var Oi=tt[Ti]||Ut.variables[Ti].default,$i=new RegExp("{".concat(Ti,"}"),"g");mt=mt.replace($i,Oi)}})}return function(){var tt,pt,E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",U=Oe.parse(E&&O?Oe.resolve(O,E):E),J=Oe.parse(O),pe=Nc(U.protocol)||Nc(J.protocol)||"",Ve=U.host||J.host,Ue=U.pathname||"";return"/"===(tt=pe&&Ve?lt()(pt="".concat(pe,"://")).call(pt,Ve+Ue):Ue)[tt.length-1]?ns()(tt).call(tt,0,-1):tt}(mt,Ve)}(E):function(E){var Ut,Gt,O=E.spec,U=E.scheme,J=E.contextUrl,Ve=Oe.parse(void 0===J?"":J),Ue=Array.isArray(O.schemes)?O.schemes[0]:null,tt=U||Ue||Nc(Ve.protocol)||"http",pt=O.host||Ve.host||"",mt=O.basePath||"";return"/"===(Ut=tt&&pt?lt()(Gt="".concat(tt,"://")).call(Gt,pt+mt):mt)[Ut.length-1]?ns()(Ut).call(Ut,0,-1):Ut}(E)}function co(E){var O=this,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof E?U.url=E:U=E,!(this instanceof co))return new co(U);xe()(this,U);var J=this.resolve().then(function(){return O.disableInterfaces||xe()(O,co.makeApisTagOperation(O)),O});return J.client=this,J}co.makeHttp=function(E,O,U){return U=U||function(J){return J},O=O||function(J){return J},function(J){return"string"==typeof J&&(J={url:J}),Eu.mergeInQueryOrForm(J),J=O(J),U(E(J))}}.bind(null,co.http=Yc),co.resolve=Bd,co.resolveSubtree=function(E,O){return pd.apply(this,arguments)},co.execute=function(E){var O=E.http,U=E.fetch,J=E.spec,pe=E.operationId,Ve=E.pathName,Ue=E.method,tt=E.parameters,pt=E.securities,mt=function(E,O){if(null==E)return{};var J,pe,U=function(E,O){if(null==E)return{};var pe,Ve,U={},J=e(E);for(Ve=0;Ve<J.length;Ve++)pe=J[Ve],!(ga(O).call(O,pe)>=0)&&(U[pe]=E[pe]);return U}(E,O);if(n){var Ve=n(E);for(pe=0;pe<Ve.length;pe++)J=Ve[pe],!(ga(O).call(O,J)>=0)&&(!Object.prototype.propertyIsEnumerable.call(E,J)||(U[J]=E[J]))}return U}(E,ja),Ut=O||U||Yc;Ve&&Ue&&!pe&&(pe=Lu(Ve,Ue));var Gt=va.buildRequest(K({spec:J,operationId:pe,parameters:tt,securities:pt,http:Ut},mt));return Gt.body&&(au()(Gt.body)||Array.isArray(Gt.body))&&(Gt.body=Ke()(Gt.body)),Ut(Gt)},co.serializeRes=Xc,co.serializeHeaders=Zu,co.clearCache=function(){ol.refs.clearCache()},co.makeApisTagOperation=function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=kc_makeExecute(E);return{apis:kc_mapTagOperations({v2OperationIdCompatibilityMode:E.v2OperationIdCompatibilityMode,spec:E.spec,cb:O})}},co.buildRequest=Jl,co.helpers={opId:Ac},co.getBaseUrl=Fc,(co.prototype={http:Yc,execute:function(O){return this.applyDefaults(),co.execute(K({spec:this.spec,http:this.http,securities:{authorized:this.authorizations},contextUrl:"string"==typeof this.url?this.url:void 0,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null},O))},resolve:function(){var O=this,U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return co.resolve(K({spec:this.spec,url:this.url,http:this.http||this.fetch,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null,skipNormalization:this.skipNormalization||!1},U)).then(function(J){return O.originalSpec=O.spec,O.spec=J.spec,O.errors=J.errors,O})}}).applyDefaults=function(){var O=this.spec,U=this.url;if(U&&_e()(U).call(U,"http")){var J=Oe.parse(U);O.host||(O.host=J.host),O.schemes||(O.schemes=[J.protocol.replace(":","")]),O.basePath||(O.basePath="/")}};var _d=co.helpers;const pu=co},84329:P=>{"use strict";var H=String.prototype.replace,h=/%20/g;P.exports={default:"RFC3986",formatters:{RFC1738:function(p){return H.call(p,h,"+")},RFC3986:function(p){return String(p)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},84268:(P,H,h)=>{"use strict";var v=h(3736),p=h(12259),t=h(84329);P.exports={formats:t,parse:p,stringify:v}},12259:(P,H,h)=>{"use strict";var v=h(5924),p=Object.prototype.hasOwnProperty,t=Array.isArray,e={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:v.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(Z,K){return Z&&"string"==typeof Z&&K.comma&&Z.indexOf(",")>-1?Z.split(","):Z},N=function(K,ae,xe,fe){if(K){var _e=xe.allowDots?K.replace(/\.([^.[]+)/g,"[$1]"):K,Be=/(\[[^[\]]*])/g,Ee=xe.depth>0&&/(\[[^[\]]*])/.exec(_e),ce=Ee?_e.slice(0,Ee.index):_e,q=[];if(ce){if(!xe.plainObjects&&p.call(Object.prototype,ce)&&!xe.allowPrototypes)return;q.push(ce)}for(var se=0;xe.depth>0&&null!==(Ee=Be.exec(_e))&&se<xe.depth;){if(se+=1,!xe.plainObjects&&p.call(Object.prototype,Ee[1].slice(1,-1))&&!xe.allowPrototypes)return;q.push(Ee[1])}return Ee&&q.push("["+_e.slice(Ee.index)+"]"),function(Z,K,ae,xe){for(var fe=xe?K:o(K,ae),_e=Z.length-1;_e>=0;--_e){var Oe,Be=Z[_e];if("[]"===Be&&ae.parseArrays)Oe=[].concat(fe);else{Oe=ae.plainObjects?Object.create(null):{};var Ee="["===Be.charAt(0)&&"]"===Be.charAt(Be.length-1)?Be.slice(1,-1):Be,ce=parseInt(Ee,10);ae.parseArrays||""!==Ee?!isNaN(ce)&&Be!==Ee&&String(ce)===Ee&&ce>=0&&ae.parseArrays&&ce<=ae.arrayLimit?(Oe=[])[ce]=fe:Oe[Ee]=fe:Oe={0:fe}}fe=Oe}return fe}(q,ae,xe,fe)}};P.exports=function(Z,K){var ae=function(K){if(!K)return e;if(null!=K.decoder&&"function"!=typeof K.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==K.charset&&"utf-8"!==K.charset&&"iso-8859-1"!==K.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===K.allowDots?e.allowDots:!!K.allowDots,allowPrototypes:"boolean"==typeof K.allowPrototypes?K.allowPrototypes:e.allowPrototypes,allowSparse:"boolean"==typeof K.allowSparse?K.allowSparse:e.allowSparse,arrayLimit:"number"==typeof K.arrayLimit?K.arrayLimit:e.arrayLimit,charset:void 0===K.charset?e.charset:K.charset,charsetSentinel:"boolean"==typeof K.charsetSentinel?K.charsetSentinel:e.charsetSentinel,comma:"boolean"==typeof K.comma?K.comma:e.comma,decoder:"function"==typeof K.decoder?K.decoder:e.decoder,delimiter:"string"==typeof K.delimiter||v.isRegExp(K.delimiter)?K.delimiter:e.delimiter,depth:"number"==typeof K.depth||!1===K.depth?+K.depth:e.depth,ignoreQueryPrefix:!0===K.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof K.interpretNumericEntities?K.interpretNumericEntities:e.interpretNumericEntities,parameterLimit:"number"==typeof K.parameterLimit?K.parameterLimit:e.parameterLimit,parseArrays:!1!==K.parseArrays,plainObjects:"boolean"==typeof K.plainObjects?K.plainObjects:e.plainObjects,strictNullHandling:"boolean"==typeof K.strictNullHandling?K.strictNullHandling:e.strictNullHandling}}(K);if(""===Z||null==Z)return ae.plainObjects?Object.create(null):{};for(var xe="string"==typeof Z?function(K,ae){var Ee,xe={},Oe=(ae.ignoreQueryPrefix?K.replace(/^\?/,""):K).split(ae.delimiter,ae.parameterLimit===1/0?void 0:ae.parameterLimit),Be=-1,ce=ae.charset;if(ae.charsetSentinel)for(Ee=0;Ee<Oe.length;++Ee)0===Oe[Ee].indexOf("utf8=")&&("utf8=%E2%9C%93"===Oe[Ee]?ce="utf-8":"utf8=%26%2310003%3B"===Oe[Ee]&&(ce="iso-8859-1"),Be=Ee,Ee=Oe.length);for(Ee=0;Ee<Oe.length;++Ee)if(Ee!==Be){var Pe,oe,q=Oe[Ee],se=q.indexOf("]="),ne=-1===se?q.indexOf("="):se+1;-1===ne?(Pe=ae.decoder(q,e.decoder,ce,"key"),oe=ae.strictNullHandling?null:""):(Pe=ae.decoder(q.slice(0,ne),e.decoder,ce,"key"),oe=v.maybeMap(o(q.slice(ne+1),ae),function(de){return ae.decoder(de,e.decoder,ce,"value")})),oe&&ae.interpretNumericEntities&&"iso-8859-1"===ce&&(oe=oe.replace(/&#(\d+);/g,function(K,ae){return String.fromCharCode(parseInt(ae,10))})),q.indexOf("[]=")>-1&&(oe=t(oe)?[oe]:oe),xe[Pe]=p.call(xe,Pe)?v.combine(xe[Pe],oe):oe}return xe}(Z,ae):Z,fe=ae.plainObjects?Object.create(null):{},_e=Object.keys(xe),Oe=0;Oe<_e.length;++Oe){var Be=_e[Oe],Ee=N(Be,xe[Be],ae,"string"==typeof Z);fe=v.merge(fe,Ee,ae)}return!0===ae.allowSparse?fe:v.compact(fe)}},3736:(P,H,h)=>{"use strict";var v=h(93544),p=h(5924),t=h(84329),e=Object.prototype.hasOwnProperty,n={brackets:function(_e){return _e+"[]"},comma:"comma",indices:function(_e,Oe){return _e+"["+Oe+"]"},repeat:function(_e){return _e}},o=Array.isArray,u=String.prototype.split,b=Array.prototype.push,w=function(fe,_e){b.apply(fe,o(_e)?_e:[_e])},R=Date.prototype.toISOString,N=t.default,W={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:p.encode,encodeValuesOnly:!1,format:N,formatter:t.formatters[N],indices:!1,serializeDate:function(_e){return R.call(_e)},skipNulls:!1,strictNullHandling:!1},K={},ae=function fe(_e,Oe,Be,Ee,ce,q,se,ne,Pe,oe,de,te,ie,Ge,ve){for(var He=_e,ct=ve,Yt=0,ht=!1;void 0!==(ct=ct.get(K))&&!ht;){var Bt=ct.get(_e);if(Yt+=1,void 0!==Bt){if(Bt===Yt)throw new RangeError("Cyclic object value");ht=!0}void 0===ct.get(K)&&(Yt=0)}if("function"==typeof se?He=se(Oe,He):He instanceof Date?He=oe(He):"comma"===Be&&o(He)&&(He=p.maybeMap(He,function(dt){return dt instanceof Date?oe(dt):dt})),null===He){if(Ee)return q&&!ie?q(Oe,W.encoder,Ge,"key",de):Oe;He=""}if(function(_e){return"string"==typeof _e||"number"==typeof _e||"boolean"==typeof _e||"symbol"==typeof _e||"bigint"==typeof _e}(He)||p.isBuffer(He)){if(q){var Ht=ie?Oe:q(Oe,W.encoder,Ge,"key",de);if("comma"===Be&&ie){for(var Kt=u.call(String(He),","),vi="",qt=0;qt<Kt.length;++qt)vi+=(0===qt?"":",")+te(q(Kt[qt],W.encoder,Ge,"value",de));return[te(Ht)+"="+vi]}return[te(Ht)+"="+te(q(He,W.encoder,Ge,"value",de))]}return[te(Oe)+"="+te(String(He))]}var ri,Lt=[];if(void 0===He)return Lt;if("comma"===Be&&o(He))ri=[{value:He.length>0?He.join(",")||null:void 0}];else if(o(se))ri=se;else{var Ne=Object.keys(He);ri=ne?Ne.sort(ne):Ne}for(var _t=0;_t<ri.length;++_t){var Ke=ri[_t],Je="object"==typeof Ke&&void 0!==Ke.value?Ke.value:He[Ke];if(!ce||null!==Je){var we=o(He)?"function"==typeof Be?Be(Oe,Ke):Oe:Oe+(Pe?"."+Ke:"["+Ke+"]");ve.set(_e,Yt);var Le=v();Le.set(K,ve),w(Lt,fe(Je,we,Be,Ee,ce,q,se,ne,Pe,oe,de,te,ie,Ge,Le))}}return Lt};P.exports=function(fe,_e){var Ee,Oe=fe,Be=function(_e){if(!_e)return W;if(null!=_e.encoder&&"function"!=typeof _e.encoder)throw new TypeError("Encoder has to be a function.");var Oe=_e.charset||W.charset;if(void 0!==_e.charset&&"utf-8"!==_e.charset&&"iso-8859-1"!==_e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Be=t.default;if(void 0!==_e.format){if(!e.call(t.formatters,_e.format))throw new TypeError("Unknown format option provided.");Be=_e.format}var Ee=t.formatters[Be],ce=W.filter;return("function"==typeof _e.filter||o(_e.filter))&&(ce=_e.filter),{addQueryPrefix:"boolean"==typeof _e.addQueryPrefix?_e.addQueryPrefix:W.addQueryPrefix,allowDots:void 0===_e.allowDots?W.allowDots:!!_e.allowDots,charset:Oe,charsetSentinel:"boolean"==typeof _e.charsetSentinel?_e.charsetSentinel:W.charsetSentinel,delimiter:void 0===_e.delimiter?W.delimiter:_e.delimiter,encode:"boolean"==typeof _e.encode?_e.encode:W.encode,encoder:"function"==typeof _e.encoder?_e.encoder:W.encoder,encodeValuesOnly:"boolean"==typeof _e.encodeValuesOnly?_e.encodeValuesOnly:W.encodeValuesOnly,filter:ce,format:Be,formatter:Ee,serializeDate:"function"==typeof _e.serializeDate?_e.serializeDate:W.serializeDate,skipNulls:"boolean"==typeof _e.skipNulls?_e.skipNulls:W.skipNulls,sort:"function"==typeof _e.sort?_e.sort:null,strictNullHandling:"boolean"==typeof _e.strictNullHandling?_e.strictNullHandling:W.strictNullHandling}}(_e);"function"==typeof Be.filter?Oe=(0,Be.filter)("",Oe):o(Be.filter)&&(Ee=Be.filter);var q=[];if("object"!=typeof Oe||null===Oe)return"";var ne=n[_e&&_e.arrayFormat in n?_e.arrayFormat:_e&&"indices"in _e?_e.indices?"indices":"repeat":"indices"];Ee||(Ee=Object.keys(Oe)),Be.sort&&Ee.sort(Be.sort);for(var Pe=v(),oe=0;oe<Ee.length;++oe){var de=Ee[oe];Be.skipNulls&&null===Oe[de]||w(q,ae(Oe[de],de,ne,Be.strictNullHandling,Be.skipNulls,Be.encode?Be.encoder:null,Be.filter,Be.sort,Be.allowDots,Be.serializeDate,Be.format,Be.formatter,Be.encodeValuesOnly,Be.charset,Pe))}var te=q.join(Be.delimiter),ie=!0===Be.addQueryPrefix?"?":"";return Be.charsetSentinel&&(ie+="iso-8859-1"===Be.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),te.length>0?ie+te:""}},5924:(P,H,h)=>{"use strict";var v=h(84329),p=Object.prototype.hasOwnProperty,t=Array.isArray,e=function(){for(var xe=[],fe=0;fe<256;++fe)xe.push("%"+((fe<16?"0":"")+fe.toString(16)).toUpperCase());return xe}(),o=function(fe,_e){for(var Oe=_e&&_e.plainObjects?Object.create(null):{},Be=0;Be<fe.length;++Be)void 0!==fe[Be]&&(Oe[Be]=fe[Be]);return Oe};P.exports={arrayToObject:o,assign:function(fe,_e){return Object.keys(_e).reduce(function(Oe,Be){return Oe[Be]=_e[Be],Oe},fe)},combine:function(fe,_e){return[].concat(fe,_e)},compact:function(fe){for(var _e=[{obj:{o:fe},prop:"o"}],Oe=[],Be=0;Be<_e.length;++Be)for(var Ee=_e[Be],ce=Ee.obj[Ee.prop],q=Object.keys(ce),se=0;se<q.length;++se){var ne=q[se],Pe=ce[ne];"object"==typeof Pe&&null!==Pe&&-1===Oe.indexOf(Pe)&&(_e.push({obj:ce,prop:ne}),Oe.push(Pe))}return function(fe){for(;fe.length>1;){var _e=fe.pop(),Oe=_e.obj[_e.prop];if(t(Oe)){for(var Be=[],Ee=0;Ee<Oe.length;++Ee)void 0!==Oe[Ee]&&Be.push(Oe[Ee]);_e.obj[_e.prop]=Be}}}(_e),fe},decode:function(xe,fe,_e){var Oe=xe.replace(/\+/g," ");if("iso-8859-1"===_e)return Oe.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Oe)}catch(Be){return Oe}},encode:function(fe,_e,Oe,Be,Ee){if(0===fe.length)return fe;var ce=fe;if("symbol"==typeof fe?ce=Symbol.prototype.toString.call(fe):"string"!=typeof fe&&(ce=String(fe)),"iso-8859-1"===Oe)return escape(ce).replace(/%u[0-9a-f]{4}/gi,function(Pe){return"%26%23"+parseInt(Pe.slice(2),16)+"%3B"});for(var q="",se=0;se<ce.length;++se){var ne=ce.charCodeAt(se);45===ne||46===ne||95===ne||126===ne||ne>=48&&ne<=57||ne>=65&&ne<=90||ne>=97&&ne<=122||Ee===v.RFC1738&&(40===ne||41===ne)?q+=ce.charAt(se):ne<128?q+=e[ne]:ne<2048?q+=e[192|ne>>6]+e[128|63&ne]:ne<55296||ne>=57344?q+=e[224|ne>>12]+e[128|ne>>6&63]+e[128|63&ne]:(ne=65536+((1023&ne)<<10|1023&ce.charCodeAt(se+=1)),q+=e[240|ne>>18]+e[128|ne>>12&63]+e[128|ne>>6&63]+e[128|63&ne])}return q},isBuffer:function(fe){return!(!fe||"object"!=typeof fe||!(fe.constructor&&fe.constructor.isBuffer&&fe.constructor.isBuffer(fe)))},isRegExp:function(fe){return"[object RegExp]"===Object.prototype.toString.call(fe)},maybeMap:function(fe,_e){if(t(fe)){for(var Oe=[],Be=0;Be<fe.length;Be+=1)Oe.push(_e(fe[Be]));return Oe}return _e(fe)},merge:function xe(fe,_e,Oe){if(!_e)return fe;if("object"!=typeof _e){if(t(fe))fe.push(_e);else{if(!fe||"object"!=typeof fe)return[fe,_e];(Oe&&(Oe.plainObjects||Oe.allowPrototypes)||!p.call(Object.prototype,_e))&&(fe[_e]=!0)}return fe}if(!fe||"object"!=typeof fe)return[fe].concat(_e);var Be=fe;return t(fe)&&!t(_e)&&(Be=o(fe,Oe)),t(fe)&&t(_e)?(_e.forEach(function(Ee,ce){if(p.call(fe,ce)){var q=fe[ce];q&&"object"==typeof q&&Ee&&"object"==typeof Ee?fe[ce]=xe(q,Ee,Oe):fe.push(Ee)}else fe[ce]=Ee}),fe):Object.keys(_e).reduce(function(Ee,ce){var q=_e[ce];return Ee[ce]=p.call(Ee,ce)?xe(Ee[ce],q,Oe):q,Ee},Be)}}},57051:P=>{var H=P.exports=function(K){return new h(K)};function h(K){this.value=K}function v(K,ae,xe){var fe=[],_e=[],Oe=!0;return function Be(Ee){var ce=xe?p(Ee):Ee,q={},se=!0,ne={node:ce,node_:Ee,path:[].concat(fe),parent:_e[_e.length-1],parents:_e,key:fe.slice(-1)[0],isRoot:0===fe.length,level:fe.length,circular:null,update:function(de,te){ne.isRoot||(ne.parent.node[ne.key]=de),ne.node=de,te&&(se=!1)},delete:function(de){delete ne.parent.node[ne.key],de&&(se=!1)},remove:function(de){N(ne.parent.node)?ne.parent.node.splice(ne.key,1):delete ne.parent.node[ne.key],de&&(se=!1)},keys:null,before:function(de){q.before=de},after:function(de){q.after=de},pre:function(de){q.pre=de},post:function(de){q.post=de},stop:function(){Oe=!1},block:function(){se=!1}};if(!Oe)return ne;function Pe(){if("object"==typeof ne.node&&null!==ne.node){(!ne.keys||ne.node_!==ne.node)&&(ne.keys=t(ne.node)),ne.isLeaf=0==ne.keys.length;for(var de=0;de<_e.length;de++)if(_e[de].node_===Ee){ne.circular=_e[de];break}}else ne.isLeaf=!0,ne.keys=null;ne.notLeaf=!ne.isLeaf,ne.notRoot=!ne.isRoot}Pe();var oe=ae.call(ne,ne.node);return void 0!==oe&&ne.update&&ne.update(oe),q.before&&q.before.call(ne,ne.node),se&&("object"==typeof ne.node&&null!==ne.node&&!ne.circular&&(_e.push(ne),Pe(),W(ne.keys,function(de,te){fe.push(de),q.pre&&q.pre.call(ne,ne.node[de],de);var ie=Be(ne.node[de]);xe&&Z.call(ne.node,de)&&(ne.node[de]=ie.node),ie.isLast=te==ne.keys.length-1,ie.isFirst=0==te,q.post&&q.post.call(ne,ie),fe.pop()}),_e.pop()),q.after&&q.after.call(ne,ne.node)),ne}(K).node}function p(K){if("object"==typeof K&&null!==K){var ae;if(N(K))ae=[];else if(function(K){return"[object Date]"===e(K)}(K))ae=new Date(K.getTime?K.getTime():K);else if(function(K){return"[object RegExp]"===e(K)}(K))ae=new RegExp(K);else if(function(K){return"[object Error]"===e(K)}(K))ae={message:K.message};else if(function(K){return"[object Boolean]"===e(K)}(K))ae=new Boolean(K);else if(function(K){return"[object Number]"===e(K)}(K))ae=new Number(K);else if(function(K){return"[object String]"===e(K)}(K))ae=new String(K);else if(Object.create&&Object.getPrototypeOf)ae=Object.create(Object.getPrototypeOf(K));else if(K.constructor===Object)ae={};else{var fe=function(){};fe.prototype=K.constructor&&K.constructor.prototype||K.__proto__||{},ae=new fe}return W(t(K),function(_e){ae[_e]=K[_e]}),ae}return K}h.prototype.get=function(K){for(var ae=this.value,xe=0;xe<K.length;xe++){var fe=K[xe];if(!ae||!Z.call(ae,fe)){ae=void 0;break}ae=ae[fe]}return ae},h.prototype.has=function(K){for(var ae=this.value,xe=0;xe<K.length;xe++){var fe=K[xe];if(!ae||!Z.call(ae,fe))return!1;ae=ae[fe]}return!0},h.prototype.set=function(K,ae){for(var xe=this.value,fe=0;fe<K.length-1;fe++){var _e=K[fe];Z.call(xe,_e)||(xe[_e]={}),xe=xe[_e]}return xe[K[fe]]=ae,ae},h.prototype.map=function(K){return v(this.value,K,!0)},h.prototype.forEach=function(K){return this.value=v(this.value,K,!1),this.value},h.prototype.reduce=function(K,ae){var xe=1===arguments.length,fe=xe?this.value:ae;return this.forEach(function(_e){(!this.isRoot||!xe)&&(fe=K.call(this,fe,_e))}),fe},h.prototype.paths=function(){var K=[];return this.forEach(function(ae){K.push(this.path)}),K},h.prototype.nodes=function(){var K=[];return this.forEach(function(ae){K.push(this.node)}),K},h.prototype.clone=function(){var K=[],ae=[];return function xe(fe){for(var _e=0;_e<K.length;_e++)if(K[_e]===fe)return ae[_e];if("object"==typeof fe&&null!==fe){var Oe=p(fe);return K.push(fe),ae.push(Oe),W(t(fe),function(Be){Oe[Be]=xe(fe[Be])}),K.pop(),ae.pop(),Oe}return fe}(this.value)};var t=Object.keys||function(ae){var xe=[];for(var fe in ae)xe.push(fe);return xe};function e(K){return Object.prototype.toString.call(K)}var N=Array.isArray||function(ae){return"[object Array]"===Object.prototype.toString.call(ae)},W=function(K,ae){if(K.forEach)return K.forEach(ae);for(var xe=0;xe<K.length;xe++)ae(K[xe],xe,K)};W(t(h.prototype),function(K){H[K]=function(ae){var xe=[].slice.call(arguments,1),fe=new h(ae);return fe[K].apply(fe,xe)}});var Z=Object.hasOwnProperty||function(K,ae){return ae in K}},46486:function(P,H,h){var v;P=h.nmd(P),function(p){"object"==typeof global&&global;var o,u=2147483647,b=36,xe=/^xn--/,fe=/[^\x20-\x7E]/,_e=/[\x2E\u3002\uFF0E\uFF61]/g,Oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ee=Math.floor,ce=String.fromCharCode;function se(ht){throw RangeError(Oe[ht])}function ne(ht,Bt){for(var Ht=ht.length,Kt=[];Ht--;)Kt[Ht]=Bt(ht[Ht]);return Kt}function Pe(ht,Bt){var Ht=ht.split("@"),Kt="";return Ht.length>1&&(Kt=Ht[0]+"@",ht=Ht[1]),Kt+ne((ht=ht.replace(_e,".")).split("."),Bt).join(".")}function oe(ht){for(var vi,qt,Bt=[],Ht=0,Kt=ht.length;Ht<Kt;)(vi=ht.charCodeAt(Ht++))>=55296&&vi<=56319&&Ht<Kt?56320==(64512&(qt=ht.charCodeAt(Ht++)))?Bt.push(((1023&vi)<<10)+(1023&qt)+65536):(Bt.push(vi),Ht--):Bt.push(vi);return Bt}function de(ht){return ne(ht,function(Bt){var Ht="";return Bt>65535&&(Ht+=ce((Bt-=65536)>>>10&1023|55296),Bt=56320|1023&Bt),Ht+ce(Bt)}).join("")}function te(ht){return ht-48<10?ht-22:ht-65<26?ht-65:ht-97<26?ht-97:b}function ie(ht,Bt){return ht+22+75*(ht<26)-((0!=Bt)<<5)}function Ge(ht,Bt,Ht){var Kt=0;for(ht=Ht?Ee(ht/700):ht>>1,ht+=Ee(ht/Bt);ht>455;Kt+=b)ht=Ee(ht/35);return Ee(Kt+36*ht/(ht+38))}function ve(ht){var Kt,ri,Ne,_t,Ke,Je,we,Le,dt,zt,Bt=[],Ht=ht.length,vi=0,qt=128,Lt=72;for((ri=ht.lastIndexOf("-"))<0&&(ri=0),Ne=0;Ne<ri;++Ne)ht.charCodeAt(Ne)>=128&&se("not-basic"),Bt.push(ht.charCodeAt(Ne));for(_t=ri>0?ri+1:0;_t<Ht;){for(Ke=vi,Je=1,we=b;_t>=Ht&&se("invalid-input"),((Le=te(ht.charCodeAt(_t++)))>=b||Le>Ee((u-vi)/Je))&&se("overflow"),vi+=Le*Je,!(Le<(dt=we<=Lt?1:we>=Lt+26?26:we-Lt));we+=b)Je>Ee(u/(zt=b-dt))&&se("overflow"),Je*=zt;Lt=Ge(vi-Ke,Kt=Bt.length+1,0==Ke),Ee(vi/Kt)>u-qt&&se("overflow"),qt+=Ee(vi/Kt),vi%=Kt,Bt.splice(vi++,0,qt)}return de(Bt)}function He(ht){var Bt,Ht,Kt,vi,qt,Lt,ri,Ne,_t,Ke,Je,Le,dt,zt,lt,we=[];for(Le=(ht=oe(ht)).length,Bt=128,Ht=0,qt=72,Lt=0;Lt<Le;++Lt)(Je=ht[Lt])<128&&we.push(ce(Je));for(Kt=vi=we.length,vi&&we.push("-");Kt<Le;){for(ri=u,Lt=0;Lt<Le;++Lt)(Je=ht[Lt])>=Bt&&Je<ri&&(ri=Je);for(ri-Bt>Ee((u-Ht)/(dt=Kt+1))&&se("overflow"),Ht+=(ri-Bt)*dt,Bt=ri,Lt=0;Lt<Le;++Lt)if((Je=ht[Lt])<Bt&&++Ht>u&&se("overflow"),Je==Bt){for(Ne=Ht,_t=b;!(Ne<(Ke=_t<=qt?1:_t>=qt+26?26:_t-qt));_t+=b)we.push(ce(ie(Ke+(lt=Ne-Ke)%(zt=b-Ke),0))),Ne=Ee(lt/zt);we.push(ce(ie(Ne,0))),qt=Ge(Ht,dt,Kt==vi),Ht=0,++Kt}++Ht,++Bt}return we.join("")}o={version:"1.3.2",ucs2:{decode:oe,encode:de},decode:ve,encode:He,toASCII:function(ht){return Pe(ht,function(Bt){return fe.test(Bt)?"xn--"+He(Bt):Bt})},toUnicode:function(ht){return Pe(ht,function(Bt){return xe.test(Bt)?ve(Bt.slice(4).toLowerCase()):Bt})}},void 0!==(v=function(){return o}.call(H,h,H,P))&&(P.exports=v)}()},5128:(P,H,h)=>{"use strict";var v=h(46486),p=h(77107);function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}H.parse=Oe,H.resolve=function(q,se){return Oe(q,!1,!0).resolve(se)},H.resolveObject=function(q,se){return q?Oe(q,!1,!0).resolveObject(se):se},H.format=function(q){return p.isString(q)&&(q=Oe(q)),q instanceof t?q.format():t.prototype.format.call(q)},H.Url=t;var e=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,b=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),w=["'"].concat(b),R=["%","/","?",";","#"].concat(w),N=["/","?","#"],Z=/^[+a-z0-9A-Z_-]{0,63}$/,K=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ae={javascript:!0,"javascript:":!0},xe={javascript:!0,"javascript:":!0},fe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_e=h(36e3);function Oe(q,se,ne){if(q&&p.isObject(q)&&q instanceof t)return q;var Pe=new t;return Pe.parse(q,se,ne),Pe}t.prototype.parse=function(q,se,ne){if(!p.isString(q))throw new TypeError("Parameter 'url' must be a string, not "+typeof q);var Pe=q.indexOf("?"),oe=-1!==Pe&&Pe<q.indexOf("#")?"?":"#",de=q.split(oe);de[0]=de[0].replace(/\\/g,"/");var ie=q=de.join(oe);if(ie=ie.trim(),!ne&&1===q.split("#").length){var Ge=o.exec(ie);if(Ge)return this.path=ie,this.href=ie,this.pathname=Ge[1],Ge[2]?(this.search=Ge[2],this.query=se?_e.parse(this.search.substr(1)):this.search.substr(1)):se&&(this.search="",this.query={}),this}var ve=e.exec(ie);if(ve){var He=(ve=ve[0]).toLowerCase();this.protocol=He,ie=ie.substr(ve.length)}if(ne||ve||ie.match(/^\/\/[^@\/]+@[^@\/]+/)){var ct="//"===ie.substr(0,2);ct&&(!ve||!xe[ve])&&(ie=ie.substr(2),this.slashes=!0)}if(!xe[ve]&&(ct||ve&&!fe[ve])){for(var Yt=-1,ht=0;ht<N.length;ht++)-1!==(Bt=ie.indexOf(N[ht]))&&(-1===Yt||Bt<Yt)&&(Yt=Bt);var Ht,Kt;for(-1!==(Kt=-1===Yt?ie.lastIndexOf("@"):ie.lastIndexOf("@",Yt))&&(Ht=ie.slice(0,Kt),ie=ie.slice(Kt+1),this.auth=decodeURIComponent(Ht)),Yt=-1,ht=0;ht<R.length;ht++){var Bt;-1!==(Bt=ie.indexOf(R[ht]))&&(-1===Yt||Bt<Yt)&&(Yt=Bt)}-1===Yt&&(Yt=ie.length),this.host=ie.slice(0,Yt),ie=ie.slice(Yt),this.parseHost(),this.hostname=this.hostname||"";var vi="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!vi)for(var qt=this.hostname.split(/\./),Lt=(ht=0,qt.length);ht<Lt;ht++){var ri=qt[ht];if(ri&&!ri.match(Z)){for(var Ne="",_t=0,Ke=ri.length;_t<Ke;_t++)ri.charCodeAt(_t)>127?Ne+="x":Ne+=ri[_t];if(!Ne.match(Z)){var Je=qt.slice(0,ht),we=qt.slice(ht+1),Le=ri.match(K);Le&&(Je.push(Le[1]),we.unshift(Le[2])),we.length&&(ie="/"+we.join(".")+ie),this.hostname=Je.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),vi||(this.hostname=v.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,vi&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ie[0]&&(ie="/"+ie))}if(!ae[He])for(ht=0,Lt=w.length;ht<Lt;ht++){var lt=w[ht];if(-1!==ie.indexOf(lt)){var ze=encodeURIComponent(lt);ze===lt&&(ze=escape(lt)),ie=ie.split(lt).join(ze)}}var Ye=ie.indexOf("#");-1!==Ye&&(this.hash=ie.substr(Ye),ie=ie.slice(0,Ye));var gt=ie.indexOf("?");return-1!==gt?(this.search=ie.substr(gt),this.query=ie.substr(gt+1),se&&(this.query=_e.parse(this.query)),ie=ie.slice(0,gt)):se&&(this.search="",this.query={}),ie&&(this.pathname=ie),fe[He]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},t.prototype.format=function(){var q=this.auth||"";q&&(q=(q=encodeURIComponent(q)).replace(/%3A/i,":"),q+="@");var se=this.protocol||"",ne=this.pathname||"",Pe=this.hash||"",oe=!1,de="";this.host?oe=q+this.host:this.hostname&&(oe=q+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(oe+=":"+this.port)),this.query&&p.isObject(this.query)&&Object.keys(this.query).length&&(de=_e.stringify(this.query));var te=this.search||de&&"?"+de||"";return se&&":"!==se.substr(-1)&&(se+=":"),this.slashes||(!se||fe[se])&&!1!==oe?(oe="//"+(oe||""),ne&&"/"!==ne.charAt(0)&&(ne="/"+ne)):oe||(oe=""),Pe&&"#"!==Pe.charAt(0)&&(Pe="#"+Pe),te&&"?"!==te.charAt(0)&&(te="?"+te),se+oe+(ne=ne.replace(/[?#]/g,function(ie){return encodeURIComponent(ie)}))+(te=te.replace("#","%23"))+Pe},t.prototype.resolve=function(q){return this.resolveObject(Oe(q,!1,!0)).format()},t.prototype.resolveObject=function(q){if(p.isString(q)){var se=new t;se.parse(q,!1,!0),q=se}for(var ne=new t,Pe=Object.keys(this),oe=0;oe<Pe.length;oe++){var de=Pe[oe];ne[de]=this[de]}if(ne.hash=q.hash,""===q.href)return ne.href=ne.format(),ne;if(q.slashes&&!q.protocol){for(var te=Object.keys(q),ie=0;ie<te.length;ie++){var Ge=te[ie];"protocol"!==Ge&&(ne[Ge]=q[Ge])}return fe[ne.protocol]&&ne.hostname&&!ne.pathname&&(ne.path=ne.pathname="/"),ne.href=ne.format(),ne}if(q.protocol&&q.protocol!==ne.protocol){if(!fe[q.protocol]){for(var ve=Object.keys(q),He=0;He<ve.length;He++){var ct=ve[He];ne[ct]=q[ct]}return ne.href=ne.format(),ne}if(ne.protocol=q.protocol,q.host||xe[q.protocol])ne.pathname=q.pathname;else{for(var Lt=(q.pathname||"").split("/");Lt.length&&!(q.host=Lt.shift()););q.host||(q.host=""),q.hostname||(q.hostname=""),""!==Lt[0]&&Lt.unshift(""),Lt.length<2&&Lt.unshift(""),ne.pathname=Lt.join("/")}return ne.search=q.search,ne.query=q.query,ne.host=q.host||"",ne.auth=q.auth,ne.hostname=q.hostname||q.host,ne.port=q.port,(ne.pathname||ne.search)&&(ne.path=(ne.pathname||"")+(ne.search||"")),ne.slashes=ne.slashes||q.slashes,ne.href=ne.format(),ne}var Bt=ne.pathname&&"/"===ne.pathname.charAt(0),Ht=q.host||q.pathname&&"/"===q.pathname.charAt(0),Kt=Ht||Bt||ne.host&&q.pathname,vi=Kt,qt=ne.pathname&&ne.pathname.split("/")||[],ri=(Lt=q.pathname&&q.pathname.split("/")||[],ne.protocol&&!fe[ne.protocol]);if(ri&&(ne.hostname="",ne.port=null,ne.host&&(""===qt[0]?qt[0]=ne.host:qt.unshift(ne.host)),ne.host="",q.protocol&&(q.hostname=null,q.port=null,q.host&&(""===Lt[0]?Lt[0]=q.host:Lt.unshift(q.host)),q.host=null),Kt=Kt&&(""===Lt[0]||""===qt[0])),Ht)ne.host=q.host||""===q.host?q.host:ne.host,ne.hostname=q.hostname||""===q.hostname?q.hostname:ne.hostname,ne.search=q.search,ne.query=q.query,qt=Lt;else if(Lt.length)qt||(qt=[]),qt.pop(),qt=qt.concat(Lt),ne.search=q.search,ne.query=q.query;else if(!p.isNullOrUndefined(q.search))return ri&&(ne.hostname=ne.host=qt.shift(),(Ne=!!(ne.host&&ne.host.indexOf("@")>0)&&ne.host.split("@"))&&(ne.auth=Ne.shift(),ne.host=ne.hostname=Ne.shift())),ne.search=q.search,ne.query=q.query,(!p.isNull(ne.pathname)||!p.isNull(ne.search))&&(ne.path=(ne.pathname?ne.pathname:"")+(ne.search?ne.search:"")),ne.href=ne.format(),ne;if(!qt.length)return ne.pathname=null,ne.path=ne.search?"/"+ne.search:null,ne.href=ne.format(),ne;for(var _t=qt.slice(-1)[0],Ke=(ne.host||q.host||qt.length>1)&&("."===_t||".."===_t)||""===_t,Je=0,we=qt.length;we>=0;we--)"."===(_t=qt[we])?qt.splice(we,1):".."===_t?(qt.splice(we,1),Je++):Je&&(qt.splice(we,1),Je--);if(!Kt&&!vi)for(;Je--;Je)qt.unshift("..");Kt&&""!==qt[0]&&(!qt[0]||"/"!==qt[0].charAt(0))&&qt.unshift(""),Ke&&"/"!==qt.join("/").substr(-1)&&qt.push("");var Ne,Le=""===qt[0]||qt[0]&&"/"===qt[0].charAt(0);return ri&&(ne.hostname=ne.host=Le?"":qt.length?qt.shift():"",(Ne=!!(ne.host&&ne.host.indexOf("@")>0)&&ne.host.split("@"))&&(ne.auth=Ne.shift(),ne.host=ne.hostname=Ne.shift())),(Kt=Kt||ne.host&&qt.length)&&!Le&&qt.unshift(""),qt.length?ne.pathname=qt.join("/"):(ne.pathname=null,ne.path=null),(!p.isNull(ne.pathname)||!p.isNull(ne.search))&&(ne.path=(ne.pathname?ne.pathname:"")+(ne.search?ne.search:"")),ne.auth=q.auth||ne.auth,ne.slashes=ne.slashes||q.slashes,ne.href=ne.format(),ne},t.prototype.parseHost=function(){var q=this.host,se=n.exec(q);se&&(":"!==(se=se[0])&&(this.port=se.substr(1)),q=q.substr(0,q.length-se.length)),q&&(this.hostname=q)}},77107:P=>{"use strict";P.exports={isString:function(H){return"string"==typeof H},isObject:function(H){return"object"==typeof H&&null!==H},isNull:function(H){return null===H},isNullOrUndefined:function(H){return null==H}}},48926:P=>{function H(v,p,t,e,n,o,u){try{var b=v[o](u),w=b.value}catch(R){return void t(R)}b.done?p(w):Promise.resolve(w).then(e,n)}P.exports=function(v){return function(){var p=this,t=arguments;return new Promise(function(e,n){var o=v.apply(p,t);function u(w){H(o,e,n,u,b,"next",w)}function b(w){H(o,e,n,u,b,"throw",w)}u(void 0)})}},P.exports.default=P.exports,P.exports.__esModule=!0},35987:(P,H,h)=>{"use strict";function b(oe,de,te,ie){return new(te||(te=Promise))(function(ve,He){function ct(Bt){try{ht(ie.next(Bt))}catch(Ht){He(Ht)}}function Yt(Bt){try{ht(ie.throw(Bt))}catch(Ht){He(Ht)}}function ht(Bt){Bt.done?ve(Bt.value):function(ve){return ve instanceof te?ve:new te(function(He){He(ve)})}(Bt.value).then(ct,Yt)}ht((ie=ie.apply(oe,de||[])).next())})}function fe(oe){return this instanceof fe?(this.v=oe,this):new fe(oe)}function _e(oe,de,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ie=te.apply(oe,de||[]),ve=[];return Ge={},He("next"),He("throw"),He("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function He(Kt){ie[Kt]&&(Ge[Kt]=function(vi){return new Promise(function(qt,Lt){ve.push([Kt,vi,qt,Lt])>1||ct(Kt,vi)})})}function ct(Kt,vi){try{!function(Kt){Kt.value instanceof fe?Promise.resolve(Kt.value.v).then(ht,Bt):Ht(ve[0][2],Kt)}(ie[Kt](vi))}catch(qt){Ht(ve[0][3],qt)}}function ht(Kt){ct("next",Kt)}function Bt(Kt){ct("throw",Kt)}function Ht(Kt,vi){Kt(vi),ve.shift(),ve.length&&ct(ve[0][0],ve[0][1])}}function Be(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,de=oe[Symbol.asyncIterator];return de?de.call(oe):(oe=function(oe){var de="function"==typeof Symbol&&Symbol.iterator,te=de&&oe[de],ie=0;if(te)return te.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&ie>=oe.length&&(oe=void 0),{value:oe&&oe[ie++],done:!oe}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),te={},ie("next"),ie("throw"),ie("return"),te[Symbol.asyncIterator]=function(){return this},te);function ie(ve){te[ve]=oe[ve]&&function(He){return new Promise(function(ct,Yt){!function(ve,He,ct,Yt){Promise.resolve(Yt).then(function(ht){ve({value:ht,done:ct})},He)}(ct,Yt,(He=oe[ve](He)).done,He.value)})}}}h.d(H,{mG:()=>b,qq:()=>fe,FC:()=>_e,KL:()=>Be})},6089:(P,H,h)=>{P.exports=h(82422)},44559:(P,H,h)=>{P.exports=h(8535)},58201:(P,H,h)=>{P.exports=h(29114)},37647:(P,H,h)=>{P.exports=h(30376)},20265:(P,H,h)=>{P.exports=h(9102)},17423:(P,H,h)=>{P.exports=h(40809)},32633:(P,H,h)=>{P.exports=h(40051)},36028:(P,H,h)=>{P.exports=h(42905)},35644:(P,H,h)=>{P.exports=h(77120)},15157:(P,H,h)=>{P.exports=h(47940)},99182:(P,H,h)=>{P.exports=h(15783)},41246:(P,H,h)=>{P.exports=h(68397)},2165:(P,H,h)=>{P.exports=h(64043)},17878:(P,H,h)=>{P.exports=h(69265)},2204:(P,H,h)=>{P.exports=h(64781)},26360:(P,H,h)=>{P.exports=h(99671)},3933:(P,H,h)=>{P.exports=h(80297)},16051:(P,H,h)=>{P.exports=h(13770)},6275:(P,H,h)=>{P.exports=h(66715)},17830:(P,H,h)=>{P.exports=h(46481)},25551:(P,H,h)=>{P.exports=h(81788)},41586:(P,H,h)=>{P.exports=h(38637)},83091:(P,H,h)=>{P.exports=h(48414)},28355:(P,H,h)=>{P.exports=h(30595)},40107:(P,H,h)=>{P.exports=h(83930)},31082:(P,H,h)=>{P.exports=h(41076)},73507:(P,H,h)=>{P.exports=h(27109)},86657:(P,H,h)=>{P.exports=h(35841)},42475:(P,H,h)=>{P.exports=h(5643)},49719:(P,H,h)=>{P.exports=h(50606)},75534:(P,H,h)=>{P.exports=h(98222)},84215:(P,H,h)=>{P.exports=h(16487)},36496:(P,H,h)=>{P.exports=h(9735)},22043:(P,H,h)=>{P.exports=h(26029)},59312:(P,H,h)=>{"use strict";h.r(H),h.d(H,{__extends:()=>p,__assign:()=>t,__rest:()=>e,__decorate:()=>n,__param:()=>o,__metadata:()=>u,__awaiter:()=>b,__generator:()=>w,__createBinding:()=>R,__exportStar:()=>N,__values:()=>W,__read:()=>Z,__spread:()=>K,__spreadArrays:()=>ae,__spreadArray:()=>xe,__await:()=>fe,__asyncGenerator:()=>_e,__asyncDelegator:()=>Oe,__asyncValues:()=>Be,__makeTemplateObject:()=>Ee,__importStar:()=>q,__importDefault:()=>se,__classPrivateFieldGet:()=>ne,__classPrivateFieldSet:()=>Pe});var v=function(oe,de){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,ie){te.__proto__=ie}||function(te,ie){for(var Ge in ie)Object.prototype.hasOwnProperty.call(ie,Ge)&&(te[Ge]=ie[Ge])})(oe,de)};function p(oe,de){if("function"!=typeof de&&null!==de)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");function te(){this.constructor=oe}v(oe,de),oe.prototype=null===de?Object.create(de):(te.prototype=de.prototype,new te)}var t=function(){return t=Object.assign||function(de){for(var te,ie=1,Ge=arguments.length;ie<Ge;ie++)for(var ve in te=arguments[ie])Object.prototype.hasOwnProperty.call(te,ve)&&(de[ve]=te[ve]);return de},t.apply(this,arguments)};function e(oe,de){var te={};for(var ie in oe)Object.prototype.hasOwnProperty.call(oe,ie)&&de.indexOf(ie)<0&&(te[ie]=oe[ie]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(ie=Object.getOwnPropertySymbols(oe);Ge<ie.length;Ge++)de.indexOf(ie[Ge])<0&&Object.prototype.propertyIsEnumerable.call(oe,ie[Ge])&&(te[ie[Ge]]=oe[ie[Ge]])}return te}function n(oe,de,te,ie){var He,Ge=arguments.length,ve=Ge<3?de:null===ie?ie=Object.getOwnPropertyDescriptor(de,te):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ve=Reflect.decorate(oe,de,te,ie);else for(var ct=oe.length-1;ct>=0;ct--)(He=oe[ct])&&(ve=(Ge<3?He(ve):Ge>3?He(de,te,ve):He(de,te))||ve);return Ge>3&&ve&&Object.defineProperty(de,te,ve),ve}function o(oe,de){return function(te,ie){de(te,ie,oe)}}function u(oe,de){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(oe,de)}function b(oe,de,te,ie){return new(te||(te=Promise))(function(ve,He){function ct(Bt){try{ht(ie.next(Bt))}catch(Ht){He(Ht)}}function Yt(Bt){try{ht(ie.throw(Bt))}catch(Ht){He(Ht)}}function ht(Bt){Bt.done?ve(Bt.value):function(ve){return ve instanceof te?ve:new te(function(He){He(ve)})}(Bt.value).then(ct,Yt)}ht((ie=ie.apply(oe,de||[])).next())})}function w(oe,de){var ie,Ge,ve,He,te={label:0,sent:function(){if(1&ve[0])throw ve[1];return ve[1]},trys:[],ops:[]};return He={next:ct(0),throw:ct(1),return:ct(2)},"function"==typeof Symbol&&(He[Symbol.iterator]=function(){return this}),He;function ct(ht){return function(Bt){return function(ht){if(ie)throw new TypeError("Generator is already executing.");for(;te;)try{if(ie=1,Ge&&(ve=2&ht[0]?Ge.return:ht[0]?Ge.throw||((ve=Ge.return)&&ve.call(Ge),0):Ge.next)&&!(ve=ve.call(Ge,ht[1])).done)return ve;switch(Ge=0,ve&&(ht=[2&ht[0],ve.value]),ht[0]){case 0:case 1:ve=ht;break;case 4:return te.label++,{value:ht[1],done:!1};case 5:te.label++,Ge=ht[1],ht=[0];continue;case 7:ht=te.ops.pop(),te.trys.pop();continue;default:if(!(ve=(ve=te.trys).length>0&&ve[ve.length-1])&&(6===ht[0]||2===ht[0])){te=0;continue}if(3===ht[0]&&(!ve||ht[1]>ve[0]&&ht[1]<ve[3])){te.label=ht[1];break}if(6===ht[0]&&te.label<ve[1]){te.label=ve[1],ve=ht;break}if(ve&&te.label<ve[2]){te.label=ve[2],te.ops.push(ht);break}ve[2]&&te.ops.pop(),te.trys.pop();continue}ht=de.call(oe,te)}catch(Bt){ht=[6,Bt],Ge=0}finally{ie=ve=0}if(5&ht[0])throw ht[1];return{value:ht[0]?ht[1]:void 0,done:!0}}([ht,Bt])}}}var R=Object.create?function(oe,de,te,ie){void 0===ie&&(ie=te),Object.defineProperty(oe,ie,{enumerable:!0,get:function(){return de[te]}})}:function(oe,de,te,ie){void 0===ie&&(ie=te),oe[ie]=de[te]};function N(oe,de){for(var te in oe)"default"!==te&&!Object.prototype.hasOwnProperty.call(de,te)&&R(de,oe,te)}function W(oe){var de="function"==typeof Symbol&&Symbol.iterator,te=de&&oe[de],ie=0;if(te)return te.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&ie>=oe.length&&(oe=void 0),{value:oe&&oe[ie++],done:!oe}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(oe,de){var te="function"==typeof Symbol&&oe[Symbol.iterator];if(!te)return oe;var Ge,He,ie=te.call(oe),ve=[];try{for(;(void 0===de||de-- >0)&&!(Ge=ie.next()).done;)ve.push(Ge.value)}catch(ct){He={error:ct}}finally{try{Ge&&!Ge.done&&(te=ie.return)&&te.call(ie)}finally{if(He)throw He.error}}return ve}function K(){for(var oe=[],de=0;de<arguments.length;de++)oe=oe.concat(Z(arguments[de]));return oe}function ae(){for(var oe=0,de=0,te=arguments.length;de<te;de++)oe+=arguments[de].length;var ie=Array(oe),Ge=0;for(de=0;de<te;de++)for(var ve=arguments[de],He=0,ct=ve.length;He<ct;He++,Ge++)ie[Ge]=ve[He];return ie}function xe(oe,de,te){if(te||2===arguments.length)for(var ve,ie=0,Ge=de.length;ie<Ge;ie++)(ve||!(ie in de))&&(ve||(ve=Array.prototype.slice.call(de,0,ie)),ve[ie]=de[ie]);return oe.concat(ve||de)}function fe(oe){return this instanceof fe?(this.v=oe,this):new fe(oe)}function _e(oe,de,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ie=te.apply(oe,de||[]),ve=[];return Ge={},He("next"),He("throw"),He("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function He(Kt){ie[Kt]&&(Ge[Kt]=function(vi){return new Promise(function(qt,Lt){ve.push([Kt,vi,qt,Lt])>1||ct(Kt,vi)})})}function ct(Kt,vi){try{!function(Kt){Kt.value instanceof fe?Promise.resolve(Kt.value.v).then(ht,Bt):Ht(ve[0][2],Kt)}(ie[Kt](vi))}catch(qt){Ht(ve[0][3],qt)}}function ht(Kt){ct("next",Kt)}function Bt(Kt){ct("throw",Kt)}function Ht(Kt,vi){Kt(vi),ve.shift(),ve.length&&ct(ve[0][0],ve[0][1])}}function Oe(oe){var de,te;return de={},ie("next"),ie("throw",function(Ge){throw Ge}),ie("return"),de[Symbol.iterator]=function(){return this},de;function ie(Ge,ve){de[Ge]=oe[Ge]?function(He){return(te=!te)?{value:fe(oe[Ge](He)),done:"return"===Ge}:ve?ve(He):He}:ve}}function Be(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,de=oe[Symbol.asyncIterator];return de?de.call(oe):(oe=W(oe),te={},ie("next"),ie("throw"),ie("return"),te[Symbol.asyncIterator]=function(){return this},te);function ie(ve){te[ve]=oe[ve]&&function(He){return new Promise(function(ct,Yt){!function(ve,He,ct,Yt){Promise.resolve(Yt).then(function(ht){ve({value:ht,done:ct})},He)}(ct,Yt,(He=oe[ve](He)).done,He.value)})}}}function Ee(oe,de){return Object.defineProperty?Object.defineProperty(oe,"raw",{value:de}):oe.raw=de,oe}var ce=Object.create?function(oe,de){Object.defineProperty(oe,"default",{enumerable:!0,value:de})}:function(oe,de){oe.default=de};function q(oe){if(oe&&oe.__esModule)return oe;var de={};if(null!=oe)for(var te in oe)"default"!==te&&Object.prototype.hasOwnProperty.call(oe,te)&&R(de,oe,te);return ce(de,oe),de}function se(oe){return oe&&oe.__esModule?oe:{default:oe}}function ne(oe,de,te,ie){if("a"===te&&!ie)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof de?oe!==de||!ie:!de.has(oe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===te?ie:"a"===te?ie.call(oe):ie?ie.value:de.get(oe)}function Pe(oe,de,te,ie,Ge){if("m"===ie)throw new TypeError("Private method is not writable");if("a"===ie&&!Ge)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof de?oe!==de||!Ge:!de.has(oe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ie?Ge.call(oe,te):Ge?Ge.value=te:de.set(oe,te),te}},96553:()=>{},41777:(P,H,h)=>{"use strict";h.d(H,{l3:()=>t,_j:()=>v,LC:()=>p,ZN:()=>_e,jt:()=>n,pV:()=>Z,F4:()=>R,IO:()=>ae,vP:()=>u,SB:()=>w,oB:()=>b,eR:()=>N,X$:()=>e,ZE:()=>Oe,k1:()=>Be});class v{}class p{}const t="*";function e(Ee,ce){return{type:7,name:Ee,definitions:ce,options:{}}}function n(Ee,ce=null){return{type:4,styles:ce,timings:Ee}}function u(Ee,ce=null){return{type:2,steps:Ee,options:ce}}function b(Ee){return{type:6,styles:Ee,offset:null}}function w(Ee,ce,q){return{type:0,name:Ee,styles:ce,options:q}}function R(Ee){return{type:5,steps:Ee}}function N(Ee,ce,q=null){return{type:1,expr:Ee,animation:ce,options:q}}function Z(Ee=null){return{type:9,options:Ee}}function ae(Ee,ce,q=null){return{type:11,selector:Ee,animation:ce,options:q}}function fe(Ee){Promise.resolve(null).then(Ee)}class _e{constructor(ce=0,q=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ce+q}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}onStart(ce){this._onStartFns.push(ce)}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ce=>ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ce){this._position=this.totalTime?ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ce){const q="start"==ce?this._onStartFns:this._onDoneFns;q.forEach(se=>se()),q.length=0}}class Oe{constructor(ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ce;let q=0,se=0,ne=0;const Pe=this.players.length;0==Pe?fe(()=>this._onFinish()):this.players.forEach(oe=>{oe.onDone(()=>{++q==Pe&&this._onFinish()}),oe.onDestroy(()=>{++se==Pe&&this._onDestroy()}),oe.onStart(()=>{++ne==Pe&&this._onStart()})}),this.totalTime=this.players.reduce((oe,de)=>Math.max(oe,de.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}init(){this.players.forEach(ce=>ce.init())}onStart(ce){this._onStartFns.push(ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ce=>ce()),this._onStartFns=[])}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ce=>ce.play())}pause(){this.players.forEach(ce=>ce.pause())}restart(){this.players.forEach(ce=>ce.restart())}finish(){this._onFinish(),this.players.forEach(ce=>ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ce=>ce.destroy()),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this.players.forEach(ce=>ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ce){const q=ce*this.totalTime;this.players.forEach(se=>{const ne=se.totalTime?Math.min(1,q/se.totalTime):1;se.setPosition(ne)})}getPosition(){const ce=this.players.reduce((q,se)=>null===q||se.totalTime>q.totalTime?se:q,null);return null!=ce?ce.getPosition():0}beforeDestroy(){this.players.forEach(ce=>{ce.beforeDestroy&&ce.beforeDestroy()})}triggerCallback(ce){const q="start"==ce?this._onStartFns:this._onDoneFns;q.forEach(se=>se()),q.length=0}}const Be="!"},15664:(P,H,h)=>{"use strict";h.d(H,{rt:()=>it,s1:()=>He,kH:()=>ut,Em:()=>ct,tE:()=>oi,qV:()=>dt,qm:()=>Nt,ic:()=>ht,Kd:()=>ui,X6:()=>rt,yG:()=>ot});var v=h(69808),p=h(5e3),t=h(77579),e=h(50727),n=h(61135),o=h(39646),u=h(91159),b=h(18505),w=h(78372),R=h(39300),N=h(54004),W=h(95698),Z=h(35684),K=h(71884),ae=h(82722),xe=h(63191),fe=h(70925),_e=h(17144);class ve{constructor(re){this._items=re,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new t.x,this._typeaheadSubscription=e.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=De=>De.disabled,this._pressedLetters=[],this.tabOut=new t.x,this.change=new t.x,re instanceof p.n_E&&re.changes.subscribe(De=>{if(this._activeItem){const vt=De.toArray().indexOf(this._activeItem);vt>-1&&vt!==this._activeItemIndex&&(this._activeItemIndex=vt)}})}skipPredicate(re){return this._skipPredicateFn=re,this}withWrap(re=!0){return this._wrap=re,this}withVerticalOrientation(re=!0){return this._vertical=re,this}withHorizontalOrientation(re){return this._horizontal=re,this}withAllowedModifierKeys(re){return this._allowedModifierKeys=re,this}withTypeAhead(re=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,b.b)(De=>this._pressedLetters.push(De)),(0,w.b)(re),(0,R.h)(()=>this._pressedLetters.length>0),(0,N.U)(()=>this._pressedLetters.join(""))).subscribe(De=>{const et=this._getItemsArray();for(let vt=1;vt<et.length+1;vt++){const Ci=(this._activeItemIndex+vt)%et.length,ki=et[Ci];if(!this._skipPredicateFn(ki)&&0===ki.getLabel().toUpperCase().trim().indexOf(De)){this.setActiveItem(Ci);break}}this._pressedLetters=[]}),this}withHomeAndEnd(re=!0){return this._homeAndEnd=re,this}setActiveItem(re){const De=this._activeItem;this.updateActiveItem(re),this._activeItem!==De&&this.change.next(this._activeItemIndex)}onKeydown(re){const De=re.keyCode,vt=["altKey","ctrlKey","metaKey","shiftKey"].every(Ci=>!re[Ci]||this._allowedModifierKeys.indexOf(Ci)>-1);switch(De){case u.Mf:return void this.tabOut.next();case u.JH:if(this._vertical&&vt){this.setNextItemActive();break}return;case u.LH:if(this._vertical&&vt){this.setPreviousItemActive();break}return;case u.SV:if(this._horizontal&&vt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case u.oh:if(this._horizontal&&vt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case u.Sd:if(this._homeAndEnd&&vt){this.setFirstItemActive();break}return;case u.uR:if(this._homeAndEnd&&vt){this.setLastItemActive();break}return;default:return void((vt||(0,u.Vb)(re,"shiftKey"))&&(re.key&&1===re.key.length?this._letterKeyStream.next(re.key.toLocaleUpperCase()):(De>=u.A&&De<=u.Z||De>=u.xE&&De<=u.aO)&&this._letterKeyStream.next(String.fromCharCode(De))))}this._pressedLetters=[],re.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(re){const De=this._getItemsArray(),et="number"==typeof re?re:De.indexOf(re),vt=De[et];this._activeItem=null==vt?null:vt,this._activeItemIndex=et}_setActiveItemByDelta(re){this._wrap?this._setActiveInWrapMode(re):this._setActiveInDefaultMode(re)}_setActiveInWrapMode(re){const De=this._getItemsArray();for(let et=1;et<=De.length;et++){const vt=(this._activeItemIndex+re*et+De.length)%De.length;if(!this._skipPredicateFn(De[vt]))return void this.setActiveItem(vt)}}_setActiveInDefaultMode(re){this._setActiveItemByIndex(this._activeItemIndex+re,re)}_setActiveItemByIndex(re,De){const et=this._getItemsArray();if(et[re]){for(;this._skipPredicateFn(et[re]);)if(!et[re+=De])return;this.setActiveItem(re)}}_getItemsArray(){return this._items instanceof p.n_E?this._items.toArray():this._items}}class He extends ve{setActiveItem(re){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(re),this.activeItem&&this.activeItem.setActiveStyles()}}class ct extends ve{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(re){return this._origin=re,this}setActiveItem(re){super.setActiveItem(re),this.activeItem&&this.activeItem.focus(this._origin)}}let ht=(()=>{class Me{constructor(De){this._platform=De}isDisabled(De){return De.hasAttribute("disabled")}isVisible(De){return function(Me){return!!(Me.offsetWidth||Me.offsetHeight||"function"==typeof Me.getClientRects&&Me.getClientRects().length)}(De)&&"visible"===getComputedStyle(De).visibility}isTabbable(De){if(!this._platform.isBrowser)return!1;const et=function(Me){try{return Me.frameElement}catch(re){return null}}(function(Me){return Me.ownerDocument&&Me.ownerDocument.defaultView||window}(De));if(et&&(-1===_t(et)||!this.isVisible(et)))return!1;let vt=De.nodeName.toLowerCase(),Ci=_t(De);return De.hasAttribute("contenteditable")?-1!==Ci:!("iframe"===vt||"object"===vt||this._platform.WEBKIT&&this._platform.IOS&&!function(Me){let re=Me.nodeName.toLowerCase(),De="input"===re&&Me.type;return"text"===De||"password"===De||"select"===re||"textarea"===re}(De))&&("audio"===vt?!!De.hasAttribute("controls")&&-1!==Ci:"video"===vt?-1!==Ci&&(null!==Ci||this._platform.FIREFOX||De.hasAttribute("controls")):De.tabIndex>=0)}isFocusable(De,et){return function(Me){return!function(Me){return function(Me){return"input"==Me.nodeName.toLowerCase()}(Me)&&"hidden"==Me.type}(Me)&&(function(Me){let re=Me.nodeName.toLowerCase();return"input"===re||"select"===re||"button"===re||"textarea"===re}(Me)||function(Me){return function(Me){return"a"==Me.nodeName.toLowerCase()}(Me)&&Me.hasAttribute("href")}(Me)||Me.hasAttribute("contenteditable")||Ne(Me))}(De)&&!this.isDisabled(De)&&((null==et?void 0:et.ignoreVisibility)||this.isVisible(De))}}return Me.\u0275fac=function(De){return new(De||Me)(p.LFG(fe.t4))},Me.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();function Ne(Me){if(!Me.hasAttribute("tabindex")||void 0===Me.tabIndex)return!1;let re=Me.getAttribute("tabindex");return!(!re||isNaN(parseInt(re,10)))}function _t(Me){if(!Ne(Me))return null;const re=parseInt(Me.getAttribute("tabindex")||"",10);return isNaN(re)?-1:re}class Le{constructor(re,De,et,vt,Ci=!1){this._element=re,this._checker=De,this._ngZone=et,this._document=vt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ci||this.attachAnchors()}get enabled(){return this._enabled}set enabled(re){this._enabled=re,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(re,this._startAnchor),this._toggleAnchorTabIndex(re,this._endAnchor))}destroy(){const re=this._startAnchor,De=this._endAnchor;re&&(re.removeEventListener("focus",this.startAnchorListener),re.remove()),De&&(De.removeEventListener("focus",this.endAnchorListener),De.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(re){return new Promise(De=>{this._executeOnStable(()=>De(this.focusInitialElement(re)))})}focusFirstTabbableElementWhenReady(re){return new Promise(De=>{this._executeOnStable(()=>De(this.focusFirstTabbableElement(re)))})}focusLastTabbableElementWhenReady(re){return new Promise(De=>{this._executeOnStable(()=>De(this.focusLastTabbableElement(re)))})}_getRegionBoundary(re){const De=this._element.querySelectorAll(`[cdk-focus-region-${re}], [cdkFocusRegion${re}], [cdk-focus-${re}]`);return"start"==re?De.length?De[0]:this._getFirstTabbableElement(this._element):De.length?De[De.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(re){const De=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(De){if(!this._checker.isFocusable(De)){const et=this._getFirstTabbableElement(De);return null==et||et.focus(re),!!et}return De.focus(re),!0}return this.focusFirstTabbableElement(re)}focusFirstTabbableElement(re){const De=this._getRegionBoundary("start");return De&&De.focus(re),!!De}focusLastTabbableElement(re){const De=this._getRegionBoundary("end");return De&&De.focus(re),!!De}hasAttached(){return this._hasAttached}_getFirstTabbableElement(re){if(this._checker.isFocusable(re)&&this._checker.isTabbable(re))return re;const De=re.children;for(let et=0;et<De.length;et++){const vt=De[et].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(De[et]):null;if(vt)return vt}return null}_getLastTabbableElement(re){if(this._checker.isFocusable(re)&&this._checker.isTabbable(re))return re;const De=re.children;for(let et=De.length-1;et>=0;et--){const vt=De[et].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(De[et]):null;if(vt)return vt}return null}_createAnchor(){const re=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,re),re.classList.add("cdk-visually-hidden"),re.classList.add("cdk-focus-trap-anchor"),re.setAttribute("aria-hidden","true"),re}_toggleAnchorTabIndex(re,De){re?De.setAttribute("tabindex","0"):De.removeAttribute("tabindex")}toggleAnchors(re){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(re,this._startAnchor),this._toggleAnchorTabIndex(re,this._endAnchor))}_executeOnStable(re){this._ngZone.isStable?re():this._ngZone.onStable.pipe((0,W.q)(1)).subscribe(re)}}let dt=(()=>{class Me{constructor(De,et,vt){this._checker=De,this._ngZone=et,this._document=vt}create(De,et=!1){return new Le(De,this._checker,this._ngZone,this._document,et)}}return Me.\u0275fac=function(De){return new(De||Me)(p.LFG(ht),p.LFG(p.R0b),p.LFG(v.K0))},Me.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();function rt(Me){return 0===Me.offsetX&&0===Me.offsetY}function ot(Me){const re=Me.touches&&Me.touches[0]||Me.changedTouches&&Me.changedTouches[0];return!(!re||-1!==re.identifier||null!=re.radiusX&&1!==re.radiusX||null!=re.radiusY&&1!==re.radiusY)}const be=new p.OlP("cdk-input-modality-detector-options"),Ae={ignoreKeys:[u.zL,u.jx,u.b2,u.MW,u.JU]},It=(0,fe.i$)({passive:!0,capture:!0});let ci=(()=>{class Me{constructor(De,et,vt,Ci){this._platform=De,this._mostRecentTarget=null,this._modality=new n.X(null),this._lastTouchMs=0,this._onKeydown=ki=>{var Zi,wn;(null===(wn=null===(Zi=this._options)||void 0===Zi?void 0:Zi.ignoreKeys)||void 0===wn?void 0:wn.some(Jt=>Jt===ki.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,fe.sA)(ki))},this._onMousedown=ki=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rt(ki)?"keyboard":"mouse"),this._mostRecentTarget=(0,fe.sA)(ki))},this._onTouchstart=ki=>{ot(ki)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,fe.sA)(ki))},this._options=Object.assign(Object.assign({},Ae),Ci),this.modalityDetected=this._modality.pipe((0,Z.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,K.x)()),De.isBrowser&&et.runOutsideAngular(()=>{vt.addEventListener("keydown",this._onKeydown,It),vt.addEventListener("mousedown",this._onMousedown,It),vt.addEventListener("touchstart",this._onTouchstart,It)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,It),document.removeEventListener("mousedown",this._onMousedown,It),document.removeEventListener("touchstart",this._onTouchstart,It))}}return Me.\u0275fac=function(De){return new(De||Me)(p.LFG(fe.t4),p.LFG(p.R0b),p.LFG(v.K0),p.LFG(be,8))},Me.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();const Zt=new p.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Fi=new p.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ui=(()=>{class Me{constructor(De,et,vt,Ci){this._ngZone=et,this._defaultOptions=Ci,this._document=vt,this._liveElement=De||this._createLiveElement()}announce(De,...et){const vt=this._defaultOptions;let Ci,ki;return 1===et.length&&"number"==typeof et[0]?ki=et[0]:[Ci,ki]=et,this.clear(),clearTimeout(this._previousTimeout),Ci||(Ci=vt&&vt.politeness?vt.politeness:"polite"),null==ki&&vt&&(ki=vt.duration),this._liveElement.setAttribute("aria-live",Ci),this._ngZone.runOutsideAngular(()=>new Promise(Zi=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=De,Zi(),"number"==typeof ki&&(this._previousTimeout=setTimeout(()=>this.clear(),ki))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var De;clearTimeout(this._previousTimeout),null===(De=this._liveElement)||void 0===De||De.remove(),this._liveElement=null}_createLiveElement(){const De="cdk-live-announcer-element",et=this._document.getElementsByClassName(De),vt=this._document.createElement("div");for(let Ci=0;Ci<et.length;Ci++)et[Ci].remove();return vt.classList.add(De),vt.classList.add("cdk-visually-hidden"),vt.setAttribute("aria-atomic","true"),vt.setAttribute("aria-live","polite"),this._document.body.appendChild(vt),vt}}return Me.\u0275fac=function(De){return new(De||Me)(p.LFG(Zt,8),p.LFG(p.R0b),p.LFG(v.K0),p.LFG(Fi,8))},Me.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();const gi=new p.OlP("cdk-focus-monitor-default-options"),jt=(0,fe.i$)({passive:!0,capture:!0});let oi=(()=>{class Me{constructor(De,et,vt,Ci,ki){this._ngZone=De,this._platform=et,this._inputModalityDetector=vt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new t.x,this._rootNodeFocusAndBlurListener=Zi=>{const wn=(0,fe.sA)(Zi),Jt="focus"===Zi.type?this._onFocus:this._onBlur;for(let Rt=wn;Rt;Rt=Rt.parentElement)Jt.call(this,Zi,Rt)},this._document=Ci,this._detectionMode=(null==ki?void 0:ki.detectionMode)||0}monitor(De,et=!1){const vt=(0,xe.fI)(De);if(!this._platform.isBrowser||1!==vt.nodeType)return(0,o.of)(null);const Ci=(0,fe.kV)(vt)||this._getDocument(),ki=this._elementInfo.get(vt);if(ki)return et&&(ki.checkChildren=!0),ki.subject;const Zi={checkChildren:et,subject:new t.x,rootNode:Ci};return this._elementInfo.set(vt,Zi),this._registerGlobalListeners(Zi),Zi.subject}stopMonitoring(De){const et=(0,xe.fI)(De),vt=this._elementInfo.get(et);vt&&(vt.subject.complete(),this._setClasses(et),this._elementInfo.delete(et),this._removeGlobalListeners(vt))}focusVia(De,et,vt){const Ci=(0,xe.fI)(De);Ci===this._getDocument().activeElement?this._getClosestElementsInfo(Ci).forEach(([Zi,wn])=>this._originChanged(Zi,et,wn)):(this._setOrigin(et),"function"==typeof Ci.focus&&Ci.focus(vt))}ngOnDestroy(){this._elementInfo.forEach((De,et)=>this.stopMonitoring(et))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(De){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(De)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(De){return 1===this._detectionMode||!!(null==De?void 0:De.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(De,et){De.classList.toggle("cdk-focused",!!et),De.classList.toggle("cdk-touch-focused","touch"===et),De.classList.toggle("cdk-keyboard-focused","keyboard"===et),De.classList.toggle("cdk-mouse-focused","mouse"===et),De.classList.toggle("cdk-program-focused","program"===et)}_setOrigin(De,et=!1){this._ngZone.runOutsideAngular(()=>{this._origin=De,this._originFromTouchInteraction="touch"===De&&et,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(De,et){const vt=this._elementInfo.get(et),Ci=(0,fe.sA)(De);!vt||!vt.checkChildren&&et!==Ci||this._originChanged(et,this._getFocusOrigin(Ci),vt)}_onBlur(De,et){const vt=this._elementInfo.get(et);!vt||vt.checkChildren&&De.relatedTarget instanceof Node&&et.contains(De.relatedTarget)||(this._setClasses(et),this._emitOrigin(vt.subject,null))}_emitOrigin(De,et){this._ngZone.run(()=>De.next(et))}_registerGlobalListeners(De){if(!this._platform.isBrowser)return;const et=De.rootNode,vt=this._rootNodeFocusListenerCount.get(et)||0;vt||this._ngZone.runOutsideAngular(()=>{et.addEventListener("focus",this._rootNodeFocusAndBlurListener,jt),et.addEventListener("blur",this._rootNodeFocusAndBlurListener,jt)}),this._rootNodeFocusListenerCount.set(et,vt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ae.R)(this._stopInputModalityDetector)).subscribe(Ci=>{this._setOrigin(Ci,!0)}))}_removeGlobalListeners(De){const et=De.rootNode;if(this._rootNodeFocusListenerCount.has(et)){const vt=this._rootNodeFocusListenerCount.get(et);vt>1?this._rootNodeFocusListenerCount.set(et,vt-1):(et.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jt),et.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jt),this._rootNodeFocusListenerCount.delete(et))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(De,et,vt){this._setClasses(De,et),this._emitOrigin(vt.subject,et),this._lastFocusOrigin=et}_getClosestElementsInfo(De){const et=[];return this._elementInfo.forEach((vt,Ci)=>{(Ci===De||vt.checkChildren&&Ci.contains(De))&&et.push([Ci,vt])}),et}}return Me.\u0275fac=function(De){return new(De||Me)(p.LFG(p.R0b),p.LFG(fe.t4),p.LFG(ci),p.LFG(v.K0,8),p.LFG(gi,8))},Me.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})(),ut=(()=>{class Me{constructor(De,et){this._elementRef=De,this._focusMonitor=et,this.cdkFocusChange=new p.vpe}ngAfterViewInit(){const De=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(De,1===De.nodeType&&De.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(et=>this.cdkFocusChange.emit(et))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Me.\u0275fac=function(De){return new(De||Me)(p.Y36(p.SBq),p.Y36(oi))},Me.\u0275dir=p.lG2({type:Me,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),Me})();const Wt="cdk-high-contrast-black-on-white",ei="cdk-high-contrast-white-on-black",Di="cdk-high-contrast-active";let Nt=(()=>{class Me{constructor(De,et){this._platform=De,this._document=et}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const De=this._document.createElement("div");De.style.backgroundColor="rgb(1,2,3)",De.style.position="absolute",this._document.body.appendChild(De);const et=this._document.defaultView||window,vt=et&&et.getComputedStyle?et.getComputedStyle(De):null,Ci=(vt&&vt.backgroundColor||"").replace(/ /g,"");switch(De.remove(),Ci){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const De=this._document.body.classList;De.remove(Di),De.remove(Wt),De.remove(ei),this._hasCheckedHighContrastMode=!0;const et=this.getHighContrastMode();1===et?(De.add(Di),De.add(Wt)):2===et&&(De.add(Di),De.add(ei))}}}return Me.\u0275fac=function(De){return new(De||Me)(p.LFG(fe.t4),p.LFG(v.K0))},Me.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})(),it=(()=>{class Me{constructor(De){De._applyBodyHighContrastModeCssClasses()}}return Me.\u0275fac=function(De){return new(De||Me)(p.LFG(Nt))},Me.\u0275mod=p.oAB({type:Me}),Me.\u0275inj=p.cJS({imports:[[fe.ud,_e.Q8]]}),Me})()},50226:(P,H,h)=>{"use strict";h.d(H,{vT:()=>w,Is:()=>u});var v=h(5e3),p=h(69808);const t=new v.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,v.f3M)(p.K0)}}),n=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let u=(()=>{class R{constructor(W){if(this.value="ltr",this.change=new v.vpe,W){const K=W.documentElement?W.documentElement.dir:null;this.value=function(R){const N=(null==R?void 0:R.toLowerCase())||"";return"auto"===N&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?n.test(navigator.language)?"rtl":"ltr":"rtl"===N?"rtl":"ltr"}((W.body?W.body.dir:null)||K||"ltr")}}ngOnDestroy(){this.change.complete()}}return R.\u0275fac=function(W){return new(W||R)(v.LFG(t,8))},R.\u0275prov=v.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),w=(()=>{class R{}return R.\u0275fac=function(W){return new(W||R)},R.\u0275mod=v.oAB({type:R}),R.\u0275inj=v.cJS({}),R})()},63191:(P,H,h)=>{"use strict";h.d(H,{Eq:()=>n,Ig:()=>p,HM:()=>o,fI:()=>u,su:()=>t,du:()=>b});var v=h(5e3);function p(w){return null!=w&&"false"!=`${w}`}function t(w,R=0){return function(w){return!isNaN(parseFloat(w))&&!isNaN(Number(w))}(w)?Number(w):R}function n(w){return Array.isArray(w)?w:[w]}function o(w){return null==w?"":"string"==typeof w?w:`${w}px`}function u(w){return w instanceof v.SBq?w.nativeElement:w}function b(w,R=/\s+/){const N=[];if(null!=w){const W=Array.isArray(w)?w:`${w}`.split(R);for(const Z of W){const K=`${Z}`.trim();K&&N.push(K)}}return N}},20449:(P,H,h)=>{"use strict";h.d(H,{Ov:()=>b,A8:()=>R,yy:()=>o,eX:()=>u,k:()=>N,Z9:()=>e});var v=h(77579),p=h(5e3);function e(W){return W&&"function"==typeof W.connect}class o{applyChanges(Z,K,ae,xe,fe){Z.forEachOperation((_e,Oe,Be)=>{let Ee,ce;if(null==_e.previousIndex){const q=ae(_e,Oe,Be);Ee=K.createEmbeddedView(q.templateRef,q.context,q.index),ce=1}else null==Be?(K.remove(Oe),ce=3):(Ee=K.get(Oe),K.move(Ee,Be),ce=2);fe&&fe({context:null==Ee?void 0:Ee.context,operation:ce,record:_e})})}detach(){}}class u{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Z,K,ae,xe,fe){Z.forEachOperation((_e,Oe,Be)=>{let Ee,ce;null==_e.previousIndex?(Ee=this._insertView(()=>ae(_e,Oe,Be),Be,K,xe(_e)),ce=Ee?1:0):null==Be?(this._detachAndCacheView(Oe,K),ce=3):(Ee=this._moveView(Oe,Be,K,xe(_e)),ce=2),fe&&fe({context:null==Ee?void 0:Ee.context,operation:ce,record:_e})})}detach(){for(const Z of this._viewCache)Z.destroy();this._viewCache=[]}_insertView(Z,K,ae,xe){const fe=this._insertViewFromCache(K,ae);if(fe)return void(fe.context.$implicit=xe);const _e=Z();return ae.createEmbeddedView(_e.templateRef,_e.context,_e.index)}_detachAndCacheView(Z,K){const ae=K.detach(Z);this._maybeCacheView(ae,K)}_moveView(Z,K,ae,xe){const fe=ae.get(Z);return ae.move(fe,K),fe.context.$implicit=xe,fe}_maybeCacheView(Z,K){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Z);else{const ae=K.indexOf(Z);-1===ae?Z.destroy():K.remove(ae)}}_insertViewFromCache(Z,K){const ae=this._viewCache.pop();return ae&&K.insert(ae,Z),ae||null}}class b{constructor(Z=!1,K,ae=!0){this._multiple=Z,this._emitChanges=ae,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new v.x,K&&K.length&&(Z?K.forEach(xe=>this._markSelected(xe)):this._markSelected(K[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Z){this._verifyValueAssignment(Z),Z.forEach(K=>this._markSelected(K)),this._emitChangeEvent()}deselect(...Z){this._verifyValueAssignment(Z),Z.forEach(K=>this._unmarkSelected(K)),this._emitChangeEvent()}toggle(Z){this.isSelected(Z)?this.deselect(Z):this.select(Z)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(Z){return this._selection.has(Z)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Z){this._multiple&&this.selected&&this._selected.sort(Z)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Z){this.isSelected(Z)||(this._multiple||this._unmarkAll(),this._selection.add(Z),this._emitChanges&&this._selectedToEmit.push(Z))}_unmarkSelected(Z){this.isSelected(Z)&&(this._selection.delete(Z),this._emitChanges&&this._deselectedToEmit.push(Z))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Z=>this._unmarkSelected(Z))}_verifyValueAssignment(Z){}}let R=(()=>{class W{constructor(){this._listeners=[]}notify(K,ae){for(let xe of this._listeners)xe(K,ae)}listen(K){return this._listeners.push(K),()=>{this._listeners=this._listeners.filter(ae=>K!==ae)}}ngOnDestroy(){this._listeners=[]}}return W.\u0275fac=function(K){return new(K||W)},W.\u0275prov=p.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const N=new p.OlP("_ViewRepeater")},91159:(P,H,h)=>{"use strict";h.d(H,{A:()=>Kt,zL:()=>b,ZH:()=>p,jx:()=>u,yY:()=>se,JH:()=>Be,uR:()=>ae,K5:()=>n,hY:()=>N,Sd:()=>xe,oh:()=>fe,b2:()=>Ko,MW:()=>li,aO:()=>ct,VM:()=>K,Ku:()=>Z,SV:()=>Oe,JU:()=>o,L_:()=>W,Mf:()=>t,LH:()=>_e,Z:()=>Zt,xE:()=>ne,Vb:()=>Jr});const p=8,t=9,n=13,o=16,u=17,b=18,N=27,W=32,Z=33,K=34,ae=35,xe=36,fe=37,_e=38,Oe=39,Be=40,se=46,ne=48,ct=57,Kt=65,Zt=90,li=91,Ko=224;function Jr(Hn,...vn){return vn.length?vn.some(Zr=>Hn[Zr]):Hn.altKey||Hn.shiftKey||Hn.ctrlKey||Hn.metaKey}},95113:(P,H,h)=>{"use strict";h.d(H,{Yg:()=>Be,u3:()=>ce});var v=h(5e3),p=h(63191),t=h(77579),e=h(39841),n=h(97272),o=h(79307),u=h(95698),b=h(35684),w=h(78372),R=h(54004),N=h(68675),W=h(82722),Z=h(70925);const ae=new Set;let xe,fe=(()=>{class q{constructor(ne){this._platform=ne,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Oe}matchMedia(ne){return(this._platform.WEBKIT||this._platform.BLINK)&&function(q){if(!ae.has(q))try{xe||(xe=document.createElement("style"),xe.setAttribute("type","text/css"),document.head.appendChild(xe)),xe.sheet&&(xe.sheet.insertRule(`@media ${q} {body{ }}`,0),ae.add(q))}catch(se){console.error(se)}}(ne),this._matchMedia(ne)}}return q.\u0275fac=function(ne){return new(ne||q)(v.LFG(Z.t4))},q.\u0275prov=v.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();function Oe(q){return{matches:"all"===q||""===q,media:q,addListener:()=>{},removeListener:()=>{}}}let Be=(()=>{class q{constructor(ne,Pe){this._mediaMatcher=ne,this._zone=Pe,this._queries=new Map,this._destroySubject=new t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ne){return Ee((0,p.Eq)(ne)).some(oe=>this._registerQuery(oe).mql.matches)}observe(ne){const oe=Ee((0,p.Eq)(ne)).map(te=>this._registerQuery(te).observable);let de=(0,e.a)(oe);return de=(0,n.z)(de.pipe((0,u.q)(1)),de.pipe((0,b.T)(1),(0,w.b)(0))),de.pipe((0,R.U)(te=>{const ie={matches:!1,breakpoints:{}};return te.forEach(({matches:Ge,query:ve})=>{ie.matches=ie.matches||Ge,ie.breakpoints[ve]=Ge}),ie}))}_registerQuery(ne){if(this._queries.has(ne))return this._queries.get(ne);const Pe=this._mediaMatcher.matchMedia(ne),de={observable:new o.y(te=>{const ie=Ge=>this._zone.run(()=>te.next(Ge));return Pe.addListener(ie),()=>{Pe.removeListener(ie)}}).pipe((0,N.O)(Pe),(0,R.U)(({matches:te})=>({query:ne,matches:te})),(0,W.R)(this._destroySubject)),mql:Pe};return this._queries.set(ne,de),de}}return q.\u0275fac=function(ne){return new(ne||q)(v.LFG(fe),v.LFG(v.R0b))},q.\u0275prov=v.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();function Ee(q){return q.map(se=>se.split(",")).reduce((se,ne)=>se.concat(ne)).map(se=>se.trim())}const ce={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},17144:(P,H,h)=>{"use strict";h.d(H,{wD:()=>b,Q8:()=>w});var v=h(63191),p=h(5e3),t=h(79307),e=h(77579),n=h(78372);let o=(()=>{class R{create(W){return"undefined"==typeof MutationObserver?null:new MutationObserver(W)}}return R.\u0275fac=function(W){return new(W||R)},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),u=(()=>{class R{constructor(W){this._mutationObserverFactory=W,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((W,Z)=>this._cleanupObserver(Z))}observe(W){const Z=(0,v.fI)(W);return new t.y(K=>{const xe=this._observeElement(Z).subscribe(K);return()=>{xe.unsubscribe(),this._unobserveElement(Z)}})}_observeElement(W){if(this._observedElements.has(W))this._observedElements.get(W).count++;else{const Z=new e.x,K=this._mutationObserverFactory.create(ae=>Z.next(ae));K&&K.observe(W,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(W,{observer:K,stream:Z,count:1})}return this._observedElements.get(W).stream}_unobserveElement(W){this._observedElements.has(W)&&(this._observedElements.get(W).count--,this._observedElements.get(W).count||this._cleanupObserver(W))}_cleanupObserver(W){if(this._observedElements.has(W)){const{observer:Z,stream:K}=this._observedElements.get(W);Z&&Z.disconnect(),K.complete(),this._observedElements.delete(W)}}}return R.\u0275fac=function(W){return new(W||R)(p.LFG(o))},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),b=(()=>{class R{constructor(W,Z,K){this._contentObserver=W,this._elementRef=Z,this._ngZone=K,this.event=new p.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(W){this._disabled=(0,v.Ig)(W),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(W){this._debounce=(0,v.su)(W),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const W=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?W.pipe((0,n.b)(this.debounce)):W).subscribe(this.event)})}_unsubscribe(){var W;null===(W=this._currentSubscription)||void 0===W||W.unsubscribe()}}return R.\u0275fac=function(W){return new(W||R)(p.Y36(u),p.Y36(p.SBq),p.Y36(p.R0b))},R.\u0275dir=p.lG2({type:R,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),R})(),w=(()=>{class R{}return R.\u0275fac=function(W){return new(W||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({providers:[o]}),R})()},91314:(P,H,h)=>{"use strict";h.d(H,{aV:()=>ri,X_:()=>ce,Xj:()=>te,U8:()=>dt});var v=h(30495),p=h(69808),t=h(5e3),e=h(63191),n=h(70925),o=h(50226),u=h(99129),b=h(77579),w=h(50727),R=h(56451),N=h(95698),W=h(82722);const Z=(0,n.Mq)();class K{constructor(ze,Ye){this._viewportRuler=ze,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ye}attach(){}enable(){if(this._canBeEnabled()){const ze=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ze.style.left||"",this._previousHTMLStyles.top=ze.style.top||"",ze.style.left=(0,e.HM)(-this._previousScrollPosition.left),ze.style.top=(0,e.HM)(-this._previousScrollPosition.top),ze.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ze=this._document.documentElement,gt=ze.style,Ze=this._document.body.style,rt=gt.scrollBehavior||"",ot=Ze.scrollBehavior||"";this._isEnabled=!1,gt.left=this._previousHTMLStyles.left,gt.top=this._previousHTMLStyles.top,ze.classList.remove("cdk-global-scrollblock"),Z&&(gt.scrollBehavior=Ze.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Z&&(gt.scrollBehavior=rt,Ze.scrollBehavior=ot)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ye=this._document.body,gt=this._viewportRuler.getViewportSize();return Ye.scrollHeight>gt.height||Ye.scrollWidth>gt.width}}class xe{constructor(ze,Ye,gt,Ze){this._scrollDispatcher=ze,this._ngZone=Ye,this._viewportRuler=gt,this._config=Ze,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ze){this._overlayRef=ze}enable(){if(this._scrollSubscription)return;const ze=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ze.subscribe(()=>{const Ye=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ye-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ze.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fe{enable(){}disable(){}attach(){}}function _e(lt,ze){return ze.some(Ye=>lt.bottom<Ye.top||lt.top>Ye.bottom||lt.right<Ye.left||lt.left>Ye.right)}function Oe(lt,ze){return ze.some(Ye=>lt.top<Ye.top||lt.bottom>Ye.bottom||lt.left<Ye.left||lt.right>Ye.right)}class Be{constructor(ze,Ye,gt,Ze){this._scrollDispatcher=ze,this._viewportRuler=Ye,this._ngZone=gt,this._config=Ze,this._scrollSubscription=null}attach(ze){this._overlayRef=ze}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ye=this._overlayRef.overlayElement.getBoundingClientRect(),{width:gt,height:Ze}=this._viewportRuler.getViewportSize();_e(Ye,[{width:gt,height:Ze,bottom:Ze,right:gt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ee=(()=>{class lt{constructor(Ye,gt,Ze,rt){this._scrollDispatcher=Ye,this._viewportRuler=gt,this._ngZone=Ze,this.noop=()=>new fe,this.close=ot=>new xe(this._scrollDispatcher,this._ngZone,this._viewportRuler,ot),this.block=()=>new K(this._viewportRuler,this._document),this.reposition=ot=>new Be(this._scrollDispatcher,this._viewportRuler,this._ngZone,ot),this._document=rt}}return lt.\u0275fac=function(Ye){return new(Ye||lt)(t.LFG(v.mF),t.LFG(v.rL),t.LFG(t.R0b),t.LFG(p.K0))},lt.\u0275prov=t.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();class ce{constructor(ze){if(this.scrollStrategy=new fe,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ze){const Ye=Object.keys(ze);for(const gt of Ye)void 0!==ze[gt]&&(this[gt]=ze[gt])}}}class ne{constructor(ze,Ye){this.connectionPair=ze,this.scrollableViewProperties=Ye}}class de{constructor(ze,Ye,gt,Ze,rt,ot,be,Ae,St){this._portalOutlet=ze,this._host=Ye,this._pane=gt,this._config=Ze,this._ngZone=rt,this._keyboardDispatcher=ot,this._document=be,this._location=Ae,this._outsideClickDispatcher=St,this._backdropElement=null,this._backdropClick=new b.x,this._attachments=new b.x,this._detachments=new b.x,this._locationChanges=w.w0.EMPTY,this._backdropClickHandler=It=>this._backdropClick.next(It),this._keydownEvents=new b.x,this._outsidePointerEvents=new b.x,Ze.scrollStrategy&&(this._scrollStrategy=Ze.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ze.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ze){let Ye=this._portalOutlet.attach(ze);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,N.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),Ye}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ze=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ze}dispose(){var ze;const Ye=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(ze=this._host)||void 0===ze||ze.remove(),this._previousHostParent=this._pane=this._host=null,Ye&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ze){ze!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ze,this.hasAttached()&&(ze.attach(this),this.updatePosition()))}updateSize(ze){this._config=Object.assign(Object.assign({},this._config),ze),this._updateElementSize()}setDirection(ze){this._config=Object.assign(Object.assign({},this._config),{direction:ze}),this._updateElementDirection()}addPanelClass(ze){this._pane&&this._toggleClasses(this._pane,ze,!0)}removePanelClass(ze){this._pane&&this._toggleClasses(this._pane,ze,!1)}getDirection(){const ze=this._config.direction;return ze?"string"==typeof ze?ze:ze.value:"ltr"}updateScrollStrategy(ze){ze!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ze,this.hasAttached()&&(ze.attach(this),ze.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ze=this._pane.style;ze.width=(0,e.HM)(this._config.width),ze.height=(0,e.HM)(this._config.height),ze.minWidth=(0,e.HM)(this._config.minWidth),ze.minHeight=(0,e.HM)(this._config.minHeight),ze.maxWidth=(0,e.HM)(this._config.maxWidth),ze.maxHeight=(0,e.HM)(this._config.maxHeight)}_togglePointerEvents(ze){this._pane.style.pointerEvents=ze?"":"none"}_attachBackdrop(){const ze="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ze)})}):this._backdropElement.classList.add(ze)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ze=this._backdropElement;if(!ze)return;let Ye;const gt=()=>{ze&&(ze.removeEventListener("click",this._backdropClickHandler),ze.removeEventListener("transitionend",gt),this._disposeBackdrop(ze)),this._config.backdropClass&&this._toggleClasses(ze,this._config.backdropClass,!1),clearTimeout(Ye)};ze.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ze.addEventListener("transitionend",gt)}),ze.style.pointerEvents="none",Ye=this._ngZone.runOutsideAngular(()=>setTimeout(gt,500))}_toggleClasses(ze,Ye,gt){const Ze=(0,e.Eq)(Ye||[]).filter(rt=>!!rt);Ze.length&&(gt?ze.classList.add(...Ze):ze.classList.remove(...Ze))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ze=this._ngZone.onStable.pipe((0,W.R)((0,R.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ze.unsubscribe())})})}_disposeScrollStrategy(){const ze=this._scrollStrategy;ze&&(ze.disable(),ze.detach&&ze.detach())}_disposeBackdrop(ze){ze&&(ze.remove(),this._backdropElement===ze&&(this._backdropElement=null))}}let te=(()=>{class lt{constructor(Ye,gt){this._platform=gt,this._document=Ye}ngOnDestroy(){var Ye;null===(Ye=this._containerElement)||void 0===Ye||Ye.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ye="cdk-overlay-container";if(this._platform.isBrowser||(0,n.Oy)()){const Ze=this._document.querySelectorAll(`.${Ye}[platform="server"], .${Ye}[platform="test"]`);for(let rt=0;rt<Ze.length;rt++)Ze[rt].remove()}const gt=this._document.createElement("div");gt.classList.add(Ye),(0,n.Oy)()?gt.setAttribute("platform","test"):this._platform.isBrowser||gt.setAttribute("platform","server"),this._document.body.appendChild(gt),this._containerElement=gt}}return lt.\u0275fac=function(Ye){return new(Ye||lt)(t.LFG(p.K0),t.LFG(n.t4))},lt.\u0275prov=t.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();const ie="cdk-overlay-connected-position-bounding-box",Ge=/([A-Za-z%]+)$/;class ve{constructor(ze,Ye,gt,Ze,rt){this._viewportRuler=Ye,this._document=gt,this._platform=Ze,this._overlayContainer=rt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new b.x,this._resizeSubscription=w.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ze)}get positions(){return this._preferredPositions}attach(ze){this._validatePositions(),ze.hostElement.classList.add(ie),this._overlayRef=ze,this._boundingBox=ze.hostElement,this._pane=ze.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const ze=this._originRect,Ye=this._overlayRect,gt=this._viewportRect,Ze=[];let rt;for(let ot of this._preferredPositions){let be=this._getOriginPoint(ze,ot),Ae=this._getOverlayPoint(be,Ye,ot),St=this._getOverlayFit(Ae,Ye,gt,ot);if(St.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ot,be);this._canFitWithFlexibleDimensions(St,Ae,gt)?Ze.push({position:ot,origin:be,overlayRect:Ye,boundingBoxRect:this._calculateBoundingBoxRect(be,ot)}):(!rt||rt.overlayFit.visibleArea<St.visibleArea)&&(rt={overlayFit:St,overlayPoint:Ae,originPoint:be,position:ot,overlayRect:Ye})}if(Ze.length){let ot=null,be=-1;for(const Ae of Ze){const St=Ae.boundingBoxRect.width*Ae.boundingBoxRect.height*(Ae.position.weight||1);St>be&&(be=St,ot=Ae)}return this._isPushed=!1,void this._applyPosition(ot.position,ot.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(rt.position,rt.originPoint);this._applyPosition(rt.position,rt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&He(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ie),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const ze=this._lastPosition||this._preferredPositions[0],Ye=this._getOriginPoint(this._originRect,ze);this._applyPosition(ze,Ye)}}withScrollableContainers(ze){return this._scrollables=ze,this}withPositions(ze){return this._preferredPositions=ze,-1===ze.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ze){return this._viewportMargin=ze,this}withFlexibleDimensions(ze=!0){return this._hasFlexibleDimensions=ze,this}withGrowAfterOpen(ze=!0){return this._growAfterOpen=ze,this}withPush(ze=!0){return this._canPush=ze,this}withLockedPosition(ze=!0){return this._positionLocked=ze,this}setOrigin(ze){return this._origin=ze,this}withDefaultOffsetX(ze){return this._offsetX=ze,this}withDefaultOffsetY(ze){return this._offsetY=ze,this}withTransformOriginOn(ze){return this._transformOriginSelector=ze,this}_getOriginPoint(ze,Ye){let gt,Ze;if("center"==Ye.originX)gt=ze.left+ze.width/2;else{const rt=this._isRtl()?ze.right:ze.left,ot=this._isRtl()?ze.left:ze.right;gt="start"==Ye.originX?rt:ot}return Ze="center"==Ye.originY?ze.top+ze.height/2:"top"==Ye.originY?ze.top:ze.bottom,{x:gt,y:Ze}}_getOverlayPoint(ze,Ye,gt){let Ze,rt;return Ze="center"==gt.overlayX?-Ye.width/2:"start"===gt.overlayX?this._isRtl()?-Ye.width:0:this._isRtl()?0:-Ye.width,rt="center"==gt.overlayY?-Ye.height/2:"top"==gt.overlayY?0:-Ye.height,{x:ze.x+Ze,y:ze.y+rt}}_getOverlayFit(ze,Ye,gt,Ze){const rt=Yt(Ye);let{x:ot,y:be}=ze,Ae=this._getOffset(Ze,"x"),St=this._getOffset(Ze,"y");Ae&&(ot+=Ae),St&&(be+=St);let Zt=0-be,li=be+rt.height-gt.height,Fi=this._subtractOverflows(rt.width,0-ot,ot+rt.width-gt.width),ui=this._subtractOverflows(rt.height,Zt,li),Ei=Fi*ui;return{visibleArea:Ei,isCompletelyWithinViewport:rt.width*rt.height===Ei,fitsInViewportVertically:ui===rt.height,fitsInViewportHorizontally:Fi==rt.width}}_canFitWithFlexibleDimensions(ze,Ye,gt){if(this._hasFlexibleDimensions){const Ze=gt.bottom-Ye.y,rt=gt.right-Ye.x,ot=ct(this._overlayRef.getConfig().minHeight),be=ct(this._overlayRef.getConfig().minWidth),St=ze.fitsInViewportHorizontally||null!=be&&be<=rt;return(ze.fitsInViewportVertically||null!=ot&&ot<=Ze)&&St}return!1}_pushOverlayOnScreen(ze,Ye,gt){if(this._previousPushAmount&&this._positionLocked)return{x:ze.x+this._previousPushAmount.x,y:ze.y+this._previousPushAmount.y};const Ze=Yt(Ye),rt=this._viewportRect,ot=Math.max(ze.x+Ze.width-rt.width,0),be=Math.max(ze.y+Ze.height-rt.height,0),Ae=Math.max(rt.top-gt.top-ze.y,0),St=Math.max(rt.left-gt.left-ze.x,0);let It=0,ci=0;return It=Ze.width<=rt.width?St||-ot:ze.x<this._viewportMargin?rt.left-gt.left-ze.x:0,ci=Ze.height<=rt.height?Ae||-be:ze.y<this._viewportMargin?rt.top-gt.top-ze.y:0,this._previousPushAmount={x:It,y:ci},{x:ze.x+It,y:ze.y+ci}}_applyPosition(ze,Ye){if(this._setTransformOrigin(ze),this._setOverlayElementStyles(Ye,ze),this._setBoundingBoxStyles(Ye,ze),ze.panelClass&&this._addPanelClasses(ze.panelClass),this._lastPosition=ze,this._positionChanges.observers.length){const gt=this._getScrollVisibility(),Ze=new ne(ze,gt);this._positionChanges.next(Ze)}this._isInitialRender=!1}_setTransformOrigin(ze){if(!this._transformOriginSelector)return;const Ye=this._boundingBox.querySelectorAll(this._transformOriginSelector);let gt,Ze=ze.overlayY;gt="center"===ze.overlayX?"center":this._isRtl()?"start"===ze.overlayX?"right":"left":"start"===ze.overlayX?"left":"right";for(let rt=0;rt<Ye.length;rt++)Ye[rt].style.transformOrigin=`${gt} ${Ze}`}_calculateBoundingBoxRect(ze,Ye){const gt=this._viewportRect,Ze=this._isRtl();let rt,ot,be,It,ci,Zt;if("top"===Ye.overlayY)ot=ze.y,rt=gt.height-ot+this._viewportMargin;else if("bottom"===Ye.overlayY)be=gt.height-ze.y+2*this._viewportMargin,rt=gt.height-be+this._viewportMargin;else{const li=Math.min(gt.bottom-ze.y+gt.top,ze.y),Fi=this._lastBoundingBoxSize.height;rt=2*li,ot=ze.y-li,rt>Fi&&!this._isInitialRender&&!this._growAfterOpen&&(ot=ze.y-Fi/2)}if("end"===Ye.overlayX&&!Ze||"start"===Ye.overlayX&&Ze)Zt=gt.width-ze.x+this._viewportMargin,It=ze.x-this._viewportMargin;else if("start"===Ye.overlayX&&!Ze||"end"===Ye.overlayX&&Ze)ci=ze.x,It=gt.right-ze.x;else{const li=Math.min(gt.right-ze.x+gt.left,ze.x),Fi=this._lastBoundingBoxSize.width;It=2*li,ci=ze.x-li,It>Fi&&!this._isInitialRender&&!this._growAfterOpen&&(ci=ze.x-Fi/2)}return{top:ot,left:ci,bottom:be,right:Zt,width:It,height:rt}}_setBoundingBoxStyles(ze,Ye){const gt=this._calculateBoundingBoxRect(ze,Ye);!this._isInitialRender&&!this._growAfterOpen&&(gt.height=Math.min(gt.height,this._lastBoundingBoxSize.height),gt.width=Math.min(gt.width,this._lastBoundingBoxSize.width));const Ze={};if(this._hasExactPosition())Ze.top=Ze.left="0",Ze.bottom=Ze.right=Ze.maxHeight=Ze.maxWidth="",Ze.width=Ze.height="100%";else{const rt=this._overlayRef.getConfig().maxHeight,ot=this._overlayRef.getConfig().maxWidth;Ze.height=(0,e.HM)(gt.height),Ze.top=(0,e.HM)(gt.top),Ze.bottom=(0,e.HM)(gt.bottom),Ze.width=(0,e.HM)(gt.width),Ze.left=(0,e.HM)(gt.left),Ze.right=(0,e.HM)(gt.right),Ze.alignItems="center"===Ye.overlayX?"center":"end"===Ye.overlayX?"flex-end":"flex-start",Ze.justifyContent="center"===Ye.overlayY?"center":"bottom"===Ye.overlayY?"flex-end":"flex-start",rt&&(Ze.maxHeight=(0,e.HM)(rt)),ot&&(Ze.maxWidth=(0,e.HM)(ot))}this._lastBoundingBoxSize=gt,He(this._boundingBox.style,Ze)}_resetBoundingBoxStyles(){He(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){He(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ze,Ye){const gt={},Ze=this._hasExactPosition(),rt=this._hasFlexibleDimensions,ot=this._overlayRef.getConfig();if(Ze){const It=this._viewportRuler.getViewportScrollPosition();He(gt,this._getExactOverlayY(Ye,ze,It)),He(gt,this._getExactOverlayX(Ye,ze,It))}else gt.position="static";let be="",Ae=this._getOffset(Ye,"x"),St=this._getOffset(Ye,"y");Ae&&(be+=`translateX(${Ae}px) `),St&&(be+=`translateY(${St}px)`),gt.transform=be.trim(),ot.maxHeight&&(Ze?gt.maxHeight=(0,e.HM)(ot.maxHeight):rt&&(gt.maxHeight="")),ot.maxWidth&&(Ze?gt.maxWidth=(0,e.HM)(ot.maxWidth):rt&&(gt.maxWidth="")),He(this._pane.style,gt)}_getExactOverlayY(ze,Ye,gt){let Ze={top:"",bottom:""},rt=this._getOverlayPoint(Ye,this._overlayRect,ze);this._isPushed&&(rt=this._pushOverlayOnScreen(rt,this._overlayRect,gt));let ot=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return rt.y-=ot,"bottom"===ze.overlayY?Ze.bottom=this._document.documentElement.clientHeight-(rt.y+this._overlayRect.height)+"px":Ze.top=(0,e.HM)(rt.y),Ze}_getExactOverlayX(ze,Ye,gt){let ot,Ze={left:"",right:""},rt=this._getOverlayPoint(Ye,this._overlayRect,ze);return this._isPushed&&(rt=this._pushOverlayOnScreen(rt,this._overlayRect,gt)),ot=this._isRtl()?"end"===ze.overlayX?"left":"right":"end"===ze.overlayX?"right":"left","right"===ot?Ze.right=this._document.documentElement.clientWidth-(rt.x+this._overlayRect.width)+"px":Ze.left=(0,e.HM)(rt.x),Ze}_getScrollVisibility(){const ze=this._getOriginRect(),Ye=this._pane.getBoundingClientRect(),gt=this._scrollables.map(Ze=>Ze.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Oe(ze,gt),isOriginOutsideView:_e(ze,gt),isOverlayClipped:Oe(Ye,gt),isOverlayOutsideView:_e(Ye,gt)}}_subtractOverflows(ze,...Ye){return Ye.reduce((gt,Ze)=>gt-Math.max(Ze,0),ze)}_getNarrowedViewportRect(){const ze=this._document.documentElement.clientWidth,Ye=this._document.documentElement.clientHeight,gt=this._viewportRuler.getViewportScrollPosition();return{top:gt.top+this._viewportMargin,left:gt.left+this._viewportMargin,right:gt.left+ze-this._viewportMargin,bottom:gt.top+Ye-this._viewportMargin,width:ze-2*this._viewportMargin,height:Ye-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ze,Ye){return"x"===Ye?null==ze.offsetX?this._offsetX:ze.offsetX:null==ze.offsetY?this._offsetY:ze.offsetY}_validatePositions(){}_addPanelClasses(ze){this._pane&&(0,e.Eq)(ze).forEach(Ye=>{""!==Ye&&-1===this._appliedPanelClasses.indexOf(Ye)&&(this._appliedPanelClasses.push(Ye),this._pane.classList.add(Ye))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ze=>{this._pane.classList.remove(ze)}),this._appliedPanelClasses=[])}_getOriginRect(){const ze=this._origin;if(ze instanceof t.SBq)return ze.nativeElement.getBoundingClientRect();if(ze instanceof Element)return ze.getBoundingClientRect();const Ye=ze.width||0,gt=ze.height||0;return{top:ze.y,bottom:ze.y+gt,left:ze.x,right:ze.x+Ye,height:gt,width:Ye}}}function He(lt,ze){for(let Ye in ze)ze.hasOwnProperty(Ye)&&(lt[Ye]=ze[Ye]);return lt}function ct(lt){if("number"!=typeof lt&&null!=lt){const[ze,Ye]=lt.split(Ge);return Ye&&"px"!==Ye?null:parseFloat(ze)}return lt||null}function Yt(lt){return{top:Math.floor(lt.top),right:Math.floor(lt.right),bottom:Math.floor(lt.bottom),left:Math.floor(lt.left),width:Math.floor(lt.width),height:Math.floor(lt.height)}}const ht="cdk-global-overlay-wrapper";class Bt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(ze){const Ye=ze.getConfig();this._overlayRef=ze,this._width&&!Ye.width&&ze.updateSize({width:this._width}),this._height&&!Ye.height&&ze.updateSize({height:this._height}),ze.hostElement.classList.add(ht),this._isDisposed=!1}top(ze=""){return this._bottomOffset="",this._topOffset=ze,this._alignItems="flex-start",this}left(ze=""){return this._rightOffset="",this._leftOffset=ze,this._justifyContent="flex-start",this}bottom(ze=""){return this._topOffset="",this._bottomOffset=ze,this._alignItems="flex-end",this}right(ze=""){return this._leftOffset="",this._rightOffset=ze,this._justifyContent="flex-end",this}width(ze=""){return this._overlayRef?this._overlayRef.updateSize({width:ze}):this._width=ze,this}height(ze=""){return this._overlayRef?this._overlayRef.updateSize({height:ze}):this._height=ze,this}centerHorizontally(ze=""){return this.left(ze),this._justifyContent="center",this}centerVertically(ze=""){return this.top(ze),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ze=this._overlayRef.overlayElement.style,Ye=this._overlayRef.hostElement.style,gt=this._overlayRef.getConfig(),{width:Ze,height:rt,maxWidth:ot,maxHeight:be}=gt,Ae=!("100%"!==Ze&&"100vw"!==Ze||ot&&"100%"!==ot&&"100vw"!==ot),St=!("100%"!==rt&&"100vh"!==rt||be&&"100%"!==be&&"100vh"!==be);ze.position=this._cssPosition,ze.marginLeft=Ae?"0":this._leftOffset,ze.marginTop=St?"0":this._topOffset,ze.marginBottom=this._bottomOffset,ze.marginRight=this._rightOffset,Ae?Ye.justifyContent="flex-start":"center"===this._justifyContent?Ye.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?Ye.justifyContent="flex-end":"flex-end"===this._justifyContent&&(Ye.justifyContent="flex-start"):Ye.justifyContent=this._justifyContent,Ye.alignItems=St?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ze=this._overlayRef.overlayElement.style,Ye=this._overlayRef.hostElement,gt=Ye.style;Ye.classList.remove(ht),gt.justifyContent=gt.alignItems=ze.marginTop=ze.marginBottom=ze.marginLeft=ze.marginRight=ze.position="",this._overlayRef=null,this._isDisposed=!0}}let Ht=(()=>{class lt{constructor(Ye,gt,Ze,rt){this._viewportRuler=Ye,this._document=gt,this._platform=Ze,this._overlayContainer=rt}global(){return new Bt}flexibleConnectedTo(Ye){return new ve(Ye,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return lt.\u0275fac=function(Ye){return new(Ye||lt)(t.LFG(v.rL),t.LFG(p.K0),t.LFG(n.t4),t.LFG(te))},lt.\u0275prov=t.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),Kt=(()=>{class lt{constructor(Ye){this._attachedOverlays=[],this._document=Ye}ngOnDestroy(){this.detach()}add(Ye){this.remove(Ye),this._attachedOverlays.push(Ye)}remove(Ye){const gt=this._attachedOverlays.indexOf(Ye);gt>-1&&this._attachedOverlays.splice(gt,1),0===this._attachedOverlays.length&&this.detach()}}return lt.\u0275fac=function(Ye){return new(Ye||lt)(t.LFG(p.K0))},lt.\u0275prov=t.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),vi=(()=>{class lt extends Kt{constructor(Ye){super(Ye),this._keydownListener=gt=>{const Ze=this._attachedOverlays;for(let rt=Ze.length-1;rt>-1;rt--)if(Ze[rt]._keydownEvents.observers.length>0){Ze[rt]._keydownEvents.next(gt);break}}}add(Ye){super.add(Ye),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return lt.\u0275fac=function(Ye){return new(Ye||lt)(t.LFG(p.K0))},lt.\u0275prov=t.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),qt=(()=>{class lt extends Kt{constructor(Ye,gt){super(Ye),this._platform=gt,this._cursorStyleIsSet=!1,this._pointerDownListener=Ze=>{this._pointerDownEventTarget=(0,n.sA)(Ze)},this._clickListener=Ze=>{const rt=(0,n.sA)(Ze),ot="click"===Ze.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:rt;this._pointerDownEventTarget=null;const be=this._attachedOverlays.slice();for(let Ae=be.length-1;Ae>-1;Ae--){const St=be[Ae];if(!(St._outsidePointerEvents.observers.length<1)&&St.hasAttached()){if(St.overlayElement.contains(rt)||St.overlayElement.contains(ot))break;St._outsidePointerEvents.next(Ze)}}}}add(Ye){if(super.add(Ye),!this._isAttached){const gt=this._document.body;gt.addEventListener("pointerdown",this._pointerDownListener,!0),gt.addEventListener("click",this._clickListener,!0),gt.addEventListener("auxclick",this._clickListener,!0),gt.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=gt.style.cursor,gt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ye=this._document.body;Ye.removeEventListener("pointerdown",this._pointerDownListener,!0),Ye.removeEventListener("click",this._clickListener,!0),Ye.removeEventListener("auxclick",this._clickListener,!0),Ye.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ye.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return lt.\u0275fac=function(Ye){return new(Ye||lt)(t.LFG(p.K0),t.LFG(n.t4))},lt.\u0275prov=t.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),Lt=0,ri=(()=>{class lt{constructor(Ye,gt,Ze,rt,ot,be,Ae,St,It,ci,Zt){this.scrollStrategies=Ye,this._overlayContainer=gt,this._componentFactoryResolver=Ze,this._positionBuilder=rt,this._keyboardDispatcher=ot,this._injector=be,this._ngZone=Ae,this._document=St,this._directionality=It,this._location=ci,this._outsideClickDispatcher=Zt}create(Ye){const gt=this._createHostElement(),Ze=this._createPaneElement(gt),rt=this._createPortalOutlet(Ze),ot=new ce(Ye);return ot.direction=ot.direction||this._directionality.value,new de(rt,gt,Ze,ot,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(Ye){const gt=this._document.createElement("div");return gt.id="cdk-overlay-"+Lt++,gt.classList.add("cdk-overlay-pane"),Ye.appendChild(gt),gt}_createHostElement(){const Ye=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ye),Ye}_createPortalOutlet(Ye){return this._appRef||(this._appRef=this._injector.get(t.z2F)),new u.u0(Ye,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return lt.\u0275fac=function(Ye){return new(Ye||lt)(t.LFG(Ee),t.LFG(te),t.LFG(t._Vd),t.LFG(Ht),t.LFG(vi),t.LFG(t.zs3),t.LFG(t.R0b),t.LFG(p.K0),t.LFG(o.Is),t.LFG(p.Ye),t.LFG(qt))},lt.\u0275prov=t.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const Le={provide:new t.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ri],useFactory:function(lt){return()=>lt.scrollStrategies.reposition()}};let dt=(()=>{class lt{}return lt.\u0275fac=function(Ye){return new(Ye||lt)},lt.\u0275mod=t.oAB({type:lt}),lt.\u0275inj=t.cJS({providers:[ri,Le],imports:[[o.vT,u.eL,v.Cl],v.Cl]}),lt})()},70925:(P,H,h)=>{"use strict";h.d(H,{t4:()=>e,ud:()=>n,sA:()=>Be,ht:()=>Oe,kV:()=>_e,Oy:()=>Ee,_i:()=>ae,qK:()=>b,i$:()=>N,Mq:()=>K});var v=h(5e3),p=h(69808);let t;try{t="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ce){t=!1}let o,e=(()=>{class ce{constructor(se){this._platformId=se,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!t)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ce.\u0275fac=function(se){return new(se||ce)(v.LFG(v.Lbi))},ce.\u0275prov=v.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),n=(()=>{class ce{}return ce.\u0275fac=function(se){return new(se||ce)},ce.\u0275mod=v.oAB({type:ce}),ce.\u0275inj=v.cJS({}),ce})();const u=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function b(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(u),o;let ce=document.createElement("input");return o=new Set(u.filter(q=>(ce.setAttribute("type",q),ce.type===q))),o}let w,W,Z,xe;function N(ce){return function(){if(null==w&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>w=!0}))}finally{w=w||!1}return w}()?ce:!!ce.capture}function K(){if(null==Z){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Z=!1,Z;if("scrollBehavior"in document.documentElement.style)Z=!0;else{const ce=Element.prototype.scrollTo;Z=!!ce&&!/\{\s*\[native code\]\s*\}/.test(ce.toString())}}return Z}function ae(){if("object"!=typeof document||!document)return 0;if(null==W){const ce=document.createElement("div"),q=ce.style;ce.dir="rtl",q.width="1px",q.overflow="auto",q.visibility="hidden",q.pointerEvents="none",q.position="absolute";const se=document.createElement("div"),ne=se.style;ne.width="2px",ne.height="1px",ce.appendChild(se),document.body.appendChild(ce),W=0,0===ce.scrollLeft&&(ce.scrollLeft=1,W=0===ce.scrollLeft?1:2),ce.remove()}return W}function _e(ce){if(function(){if(null==xe){const ce="undefined"!=typeof document?document.head:null;xe=!(!ce||!ce.createShadowRoot&&!ce.attachShadow)}return xe}()){const q=ce.getRootNode?ce.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&q instanceof ShadowRoot)return q}return null}function Oe(){let ce="undefined"!=typeof document&&document?document.activeElement:null;for(;ce&&ce.shadowRoot;){const q=ce.shadowRoot.activeElement;if(q===ce)break;ce=q}return ce}function Be(ce){return ce.composedPath?ce.composedPath()[0]:ce.target}function Ee(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},99129:(P,H,h)=>{"use strict";h.d(H,{en:()=>Z,ig:()=>fe,Pl:()=>Oe,C5:()=>R,u0:()=>ae,eL:()=>Ee,UE:()=>N});var v=h(5e3),p=h(69808);class w{attach(se){return this._attachedHost=se,se.attach(this)}detach(){let se=this._attachedHost;null!=se&&(this._attachedHost=null,se.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(se){this._attachedHost=se}}class R extends w{constructor(se,ne,Pe,oe){super(),this.component=se,this.viewContainerRef=ne,this.injector=Pe,this.componentFactoryResolver=oe}}class N extends w{constructor(se,ne,Pe){super(),this.templateRef=se,this.viewContainerRef=ne,this.context=Pe}get origin(){return this.templateRef.elementRef}attach(se,ne=this.context){return this.context=ne,super.attach(se)}detach(){return this.context=void 0,super.detach()}}class W extends w{constructor(se){super(),this.element=se instanceof v.SBq?se.nativeElement:se}}class Z{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(se){return se instanceof R?(this._attachedPortal=se,this.attachComponentPortal(se)):se instanceof N?(this._attachedPortal=se,this.attachTemplatePortal(se)):this.attachDomPortal&&se instanceof W?(this._attachedPortal=se,this.attachDomPortal(se)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(se){this._disposeFn=se}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ae extends Z{constructor(se,ne,Pe,oe,de){super(),this.outletElement=se,this._componentFactoryResolver=ne,this._appRef=Pe,this._defaultInjector=oe,this.attachDomPortal=te=>{const ie=te.element,Ge=this._document.createComment("dom-portal");ie.parentNode.insertBefore(Ge,ie),this.outletElement.appendChild(ie),this._attachedPortal=te,super.setDisposeFn(()=>{Ge.parentNode&&Ge.parentNode.replaceChild(ie,Ge)})},this._document=de}attachComponentPortal(se){const Pe=(se.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(se.component);let oe;return se.viewContainerRef?(oe=se.viewContainerRef.createComponent(Pe,se.viewContainerRef.length,se.injector||se.viewContainerRef.injector),this.setDisposeFn(()=>oe.destroy())):(oe=Pe.create(se.injector||this._defaultInjector),this._appRef.attachView(oe.hostView),this.setDisposeFn(()=>{this._appRef.detachView(oe.hostView),oe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(oe)),this._attachedPortal=se,oe}attachTemplatePortal(se){let ne=se.viewContainerRef,Pe=ne.createEmbeddedView(se.templateRef,se.context);return Pe.rootNodes.forEach(oe=>this.outletElement.appendChild(oe)),Pe.detectChanges(),this.setDisposeFn(()=>{let oe=ne.indexOf(Pe);-1!==oe&&ne.remove(oe)}),this._attachedPortal=se,Pe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(se){return se.hostView.rootNodes[0]}}let fe=(()=>{class q extends N{constructor(ne,Pe){super(ne,Pe)}}return q.\u0275fac=function(ne){return new(ne||q)(v.Y36(v.Rgc),v.Y36(v.s_b))},q.\u0275dir=v.lG2({type:q,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[v.qOj]}),q})(),Oe=(()=>{class q extends Z{constructor(ne,Pe,oe){super(),this._componentFactoryResolver=ne,this._viewContainerRef=Pe,this._isInitialized=!1,this.attached=new v.vpe,this.attachDomPortal=de=>{const te=de.element,ie=this._document.createComment("dom-portal");de.setAttachedHost(this),te.parentNode.insertBefore(ie,te),this._getRootNode().appendChild(te),this._attachedPortal=de,super.setDisposeFn(()=>{ie.parentNode&&ie.parentNode.replaceChild(te,ie)})},this._document=oe}get portal(){return this._attachedPortal}set portal(ne){this.hasAttached()&&!ne&&!this._isInitialized||(this.hasAttached()&&super.detach(),ne&&super.attach(ne),this._attachedPortal=ne)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ne){ne.setAttachedHost(this);const Pe=null!=ne.viewContainerRef?ne.viewContainerRef:this._viewContainerRef,de=(ne.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ne.component),te=Pe.createComponent(de,Pe.length,ne.injector||Pe.injector);return Pe!==this._viewContainerRef&&this._getRootNode().appendChild(te.hostView.rootNodes[0]),super.setDisposeFn(()=>te.destroy()),this._attachedPortal=ne,this._attachedRef=te,this.attached.emit(te),te}attachTemplatePortal(ne){ne.setAttachedHost(this);const Pe=this._viewContainerRef.createEmbeddedView(ne.templateRef,ne.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ne,this._attachedRef=Pe,this.attached.emit(Pe),Pe}_getRootNode(){const ne=this._viewContainerRef.element.nativeElement;return ne.nodeType===ne.ELEMENT_NODE?ne:ne.parentNode}}return q.\u0275fac=function(ne){return new(ne||q)(v.Y36(v._Vd),v.Y36(v.s_b),v.Y36(p.K0))},q.\u0275dir=v.lG2({type:q,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[v.qOj]}),q})(),Ee=(()=>{class q{}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275mod=v.oAB({type:q}),q.\u0275inj=v.cJS({}),q})()},30495:(P,H,h)=>{"use strict";h.d(H,{PQ:()=>ht,ZD:()=>Ne,mF:()=>Yt,Cl:()=>_t,rL:()=>Ht});var v=h(63191),p=h(5e3),t=h(84408),e=h(50727);const n={schedule(Ke){let Je=requestAnimationFrame,we=cancelAnimationFrame;const{delegate:Le}=n;Le&&(Je=Le.requestAnimationFrame,we=Le.cancelAnimationFrame);const dt=Je(zt=>{we=void 0,Ke(zt)});return new e.w0(()=>null==we?void 0:we(dt))},requestAnimationFrame(...Ke){const{delegate:Je}=n;return((null==Je?void 0:Je.requestAnimationFrame)||requestAnimationFrame)(...Ke)},cancelAnimationFrame(...Ke){const{delegate:Je}=n;return((null==Je?void 0:Je.cancelAnimationFrame)||cancelAnimationFrame)(...Ke)},delegate:void 0};var u=h(97565);new class extends u.v{flush(Je){this._active=!0,this._scheduled=void 0;const{actions:we}=this;let Le,dt=-1;Je=Je||we.shift();const zt=we.length;do{if(Le=Je.execute(Je.state,Je.delay))break}while(++dt<zt&&(Je=we.shift()));if(this._active=!1,Le){for(;++dt<zt&&(Je=we.shift());)Je.unsubscribe();throw Le}}}(class extends t.o{constructor(Je,we){super(Je,we),this.scheduler=Je,this.work=we}requestAsyncId(Je,we,Le=0){return null!==Le&&Le>0?super.requestAsyncId(Je,we,Le):(Je.actions.push(this),Je._scheduled||(Je._scheduled=n.requestAnimationFrame(()=>Je.flush(void 0))))}recycleAsyncId(Je,we,Le=0){if(null!=Le&&Le>0||null==Le&&this.delay>0)return super.recycleAsyncId(Je,we,Le);0===Je.actions.length&&(n.cancelAnimationFrame(we),Je._scheduled=void 0)}});var N=h(77579),W=h(39646),Z=h(79307),K=h(54968),xe=(h(53101),h(34986)),fe=h(54482),_e=h(38421),Oe=h(25403),Ee=h(5963);function ce(Ke,Je=xe.P){return function(Ke){return(0,fe.e)((Je,we)=>{let Le=!1,dt=null,zt=null,lt=!1;const ze=()=>{if(null==zt||zt.unsubscribe(),zt=null,Le){Le=!1;const gt=dt;dt=null,we.next(gt)}lt&&we.complete()},Ye=()=>{zt=null,lt&&we.complete()};Je.subscribe(new Oe.Q(we,gt=>{Le=!0,dt=gt,zt||(0,_e.Xf)(Ke()).subscribe(zt=new Oe.Q(we,ze,Ye))},()=>{lt=!0,(!Le||!zt||zt.closed)&&we.complete()}))})}(()=>(0,Ee.H)(Ke,Je))}var q=h(39300),se=h(82722),ne=h(69808),Pe=h(70925),oe=h(50226);let Yt=(()=>{class Ke{constructor(we,Le,dt){this._ngZone=we,this._platform=Le,this._scrolled=new N.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=dt}register(we){this.scrollContainers.has(we)||this.scrollContainers.set(we,we.elementScrolled().subscribe(()=>this._scrolled.next(we)))}deregister(we){const Le=this.scrollContainers.get(we);Le&&(Le.unsubscribe(),this.scrollContainers.delete(we))}scrolled(we=20){return this._platform.isBrowser?new Z.y(Le=>{this._globalSubscription||this._addGlobalListener();const dt=we>0?this._scrolled.pipe(ce(we)).subscribe(Le):this._scrolled.subscribe(Le);return this._scrolledCount++,()=>{dt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,W.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((we,Le)=>this.deregister(Le)),this._scrolled.complete()}ancestorScrolled(we,Le){const dt=this.getAncestorScrollContainers(we);return this.scrolled(Le).pipe((0,q.h)(zt=>!zt||dt.indexOf(zt)>-1))}getAncestorScrollContainers(we){const Le=[];return this.scrollContainers.forEach((dt,zt)=>{this._scrollableContainsElement(zt,we)&&Le.push(zt)}),Le}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(we,Le){let dt=(0,v.fI)(Le),zt=we.getElementRef().nativeElement;do{if(dt==zt)return!0}while(dt=dt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const we=this._getWindow();return(0,K.R)(we.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ke.\u0275fac=function(we){return new(we||Ke)(p.LFG(p.R0b),p.LFG(Pe.t4),p.LFG(ne.K0,8))},Ke.\u0275prov=p.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})(),ht=(()=>{class Ke{constructor(we,Le,dt,zt){this.elementRef=we,this.scrollDispatcher=Le,this.ngZone=dt,this.dir=zt,this._destroyed=new N.x,this._elementScrolled=new Z.y(lt=>this.ngZone.runOutsideAngular(()=>(0,K.R)(this.elementRef.nativeElement,"scroll").pipe((0,se.R)(this._destroyed)).subscribe(lt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(we){const Le=this.elementRef.nativeElement,dt=this.dir&&"rtl"==this.dir.value;null==we.left&&(we.left=dt?we.end:we.start),null==we.right&&(we.right=dt?we.start:we.end),null!=we.bottom&&(we.top=Le.scrollHeight-Le.clientHeight-we.bottom),dt&&0!=(0,Pe._i)()?(null!=we.left&&(we.right=Le.scrollWidth-Le.clientWidth-we.left),2==(0,Pe._i)()?we.left=we.right:1==(0,Pe._i)()&&(we.left=we.right?-we.right:we.right)):null!=we.right&&(we.left=Le.scrollWidth-Le.clientWidth-we.right),this._applyScrollToOptions(we)}_applyScrollToOptions(we){const Le=this.elementRef.nativeElement;(0,Pe.Mq)()?Le.scrollTo(we):(null!=we.top&&(Le.scrollTop=we.top),null!=we.left&&(Le.scrollLeft=we.left))}measureScrollOffset(we){const Le="left",zt=this.elementRef.nativeElement;if("top"==we)return zt.scrollTop;if("bottom"==we)return zt.scrollHeight-zt.clientHeight-zt.scrollTop;const lt=this.dir&&"rtl"==this.dir.value;return"start"==we?we=lt?"right":Le:"end"==we&&(we=lt?Le:"right"),lt&&2==(0,Pe._i)()?we==Le?zt.scrollWidth-zt.clientWidth-zt.scrollLeft:zt.scrollLeft:lt&&1==(0,Pe._i)()?we==Le?zt.scrollLeft+zt.scrollWidth-zt.clientWidth:-zt.scrollLeft:we==Le?zt.scrollLeft:zt.scrollWidth-zt.clientWidth-zt.scrollLeft}}return Ke.\u0275fac=function(we){return new(we||Ke)(p.Y36(p.SBq),p.Y36(Yt),p.Y36(p.R0b),p.Y36(oe.Is,8))},Ke.\u0275dir=p.lG2({type:Ke,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Ke})(),Ht=(()=>{class Ke{constructor(we,Le,dt){this._platform=we,this._change=new N.x,this._changeListener=zt=>{this._change.next(zt)},this._document=dt,Le.runOutsideAngular(()=>{if(we.isBrowser){const zt=this._getWindow();zt.addEventListener("resize",this._changeListener),zt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const we=this._getWindow();we.removeEventListener("resize",this._changeListener),we.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const we={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),we}getViewportRect(){const we=this.getViewportScrollPosition(),{width:Le,height:dt}=this.getViewportSize();return{top:we.top,left:we.left,bottom:we.top+dt,right:we.left+Le,height:dt,width:Le}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const we=this._document,Le=this._getWindow(),dt=we.documentElement,zt=dt.getBoundingClientRect();return{top:-zt.top||we.body.scrollTop||Le.scrollY||dt.scrollTop||0,left:-zt.left||we.body.scrollLeft||Le.scrollX||dt.scrollLeft||0}}change(we=20){return we>0?this._change.pipe(ce(we)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const we=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:we.innerWidth,height:we.innerHeight}:{width:0,height:0}}}return Ke.\u0275fac=function(we){return new(we||Ke)(p.LFG(Pe.t4),p.LFG(p.R0b),p.LFG(ne.K0,8))},Ke.\u0275prov=p.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})(),Ne=(()=>{class Ke{}return Ke.\u0275fac=function(we){return new(we||Ke)},Ke.\u0275mod=p.oAB({type:Ke}),Ke.\u0275inj=p.cJS({}),Ke})(),_t=(()=>{class Ke{}return Ke.\u0275fac=function(we){return new(we||Ke)},Ke.\u0275mod=p.oAB({type:Ke}),Ke.\u0275inj=p.cJS({imports:[[oe.vT,Pe.ud,Ne],oe.vT,Ne]}),Ke})()},69808:(P,H,h)=>{"use strict";h.d(H,{mr:()=>Oe,Ov:()=>$s,ez:()=>Fr,K0:()=>u,Do:()=>Ee,V_:()=>R,Ye:()=>ce,S$:()=>fe,mk:()=>jr,sg:()=>ho,O5:()=>Jr,PC:()=>qn,RF:()=>Ar,n9:()=>yr,b0:()=>Be,lw:()=>b,EM:()=>Br,JF:()=>ws,NF:()=>ds,w_:()=>o,bD:()=>po,q:()=>t,Mx:()=>pn,HT:()=>n});var v=h(5e3);let p=null;function t(){return p}function n(Se){p||(p=Se)}class o{}const u=new v.OlP("DocumentToken");let b=(()=>{class Se{historyGo(L){throw new Error("Not implemented")}}return Se.\u0275fac=function(L){return new(L||Se)},Se.\u0275prov=v.Yz7({token:Se,factory:function(){return(0,v.LFG)(N)},providedIn:"platform"}),Se})();const R=new v.OlP("Location Initialized");let N=(()=>{class Se extends b{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return t().getBaseHref(this._doc)}onPopState(L){const B=t().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",L,!1),()=>B.removeEventListener("popstate",L)}onHashChange(L){const B=t().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",L,!1),()=>B.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,B,Ce){W()?this._history.pushState(L,B,Ce):this.location.hash=Ce}replaceState(L,B,Ce){W()?this._history.replaceState(L,B,Ce):this.location.hash=Ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return Se.\u0275fac=function(L){return new(L||Se)(v.LFG(u))},Se.\u0275prov=v.Yz7({token:Se,factory:function(){return new N((0,v.LFG)(u))},providedIn:"platform"}),Se})();function W(){return!!window.history.pushState}function K(Se,z){if(0==Se.length)return z;if(0==z.length)return Se;let L=0;return Se.endsWith("/")&&L++,z.startsWith("/")&&L++,2==L?Se+z.substring(1):1==L?Se+z:Se+"/"+z}function ae(Se){const z=Se.match(/#|\?|$/),L=z&&z.index||Se.length;return Se.slice(0,L-("/"===Se[L-1]?1:0))+Se.slice(L)}function xe(Se){return Se&&"?"!==Se[0]?"?"+Se:Se}let fe=(()=>{class Se{historyGo(L){throw new Error("Not implemented")}}return Se.\u0275fac=function(L){return new(L||Se)},Se.\u0275prov=v.Yz7({token:Se,factory:function(){return function(Se){const z=(0,v.LFG)(u).location;return new Be((0,v.LFG)(b),z&&z.origin||"")}()},providedIn:"root"}),Se})();const Oe=new v.OlP("appBaseHref");let Be=(()=>{class Se extends fe{constructor(L,B){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==B&&(B=this._platformLocation.getBaseHrefFromDOM()),null==B)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=B}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return K(this._baseHref,L)}path(L=!1){const B=this._platformLocation.pathname+xe(this._platformLocation.search),Ce=this._platformLocation.hash;return Ce&&L?`${B}${Ce}`:B}pushState(L,B,Ce,Et){const ti=this.prepareExternalUrl(Ce+xe(Et));this._platformLocation.pushState(L,B,ti)}replaceState(L,B,Ce,Et){const ti=this.prepareExternalUrl(Ce+xe(Et));this._platformLocation.replaceState(L,B,ti)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var B,Ce;null===(Ce=(B=this._platformLocation).historyGo)||void 0===Ce||Ce.call(B,L)}}return Se.\u0275fac=function(L){return new(L||Se)(v.LFG(b),v.LFG(Oe,8))},Se.\u0275prov=v.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),Ee=(()=>{class Se extends fe{constructor(L,B){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(L){const B=K(this._baseHref,L);return B.length>0?"#"+B:B}pushState(L,B,Ce,Et){let ti=this.prepareExternalUrl(Ce+xe(Et));0==ti.length&&(ti=this._platformLocation.pathname),this._platformLocation.pushState(L,B,ti)}replaceState(L,B,Ce,Et){let ti=this.prepareExternalUrl(Ce+xe(Et));0==ti.length&&(ti=this._platformLocation.pathname),this._platformLocation.replaceState(L,B,ti)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var B,Ce;null===(Ce=(B=this._platformLocation).historyGo)||void 0===Ce||Ce.call(B,L)}}return Se.\u0275fac=function(L){return new(L||Se)(v.LFG(b),v.LFG(Oe,8))},Se.\u0275prov=v.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),ce=(()=>{class Se{constructor(L,B){this._subject=new v.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const Ce=this._platformStrategy.getBaseHref();this._platformLocation=B,this._baseHref=ae(ne(Ce)),this._platformStrategy.onPopState(Et=>{this._subject.emit({url:this.path(!0),pop:!0,state:Et.state,type:Et.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,B=""){return this.path()==this.normalize(L+xe(B))}normalize(L){return Se.stripTrailingSlash(function(Se,z){return Se&&z.startsWith(Se)?z.substring(Se.length):z}(this._baseHref,ne(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,B="",Ce=null){this._platformStrategy.pushState(Ce,"",L,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+xe(B)),Ce)}replaceState(L,B="",Ce=null){this._platformStrategy.replaceState(Ce,"",L,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+xe(B)),Ce)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var B,Ce;null===(Ce=(B=this._platformStrategy).historyGo)||void 0===Ce||Ce.call(B,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)}))}_notifyUrlChangeListeners(L="",B){this._urlChangeListeners.forEach(Ce=>Ce(L,B))}subscribe(L,B,Ce){return this._subject.subscribe({next:L,error:B,complete:Ce})}}return Se.normalizeQueryParams=xe,Se.joinWithSlash=K,Se.stripTrailingSlash=ae,Se.\u0275fac=function(L){return new(L||Se)(v.LFG(fe),v.LFG(b))},Se.\u0275prov=v.Yz7({token:Se,factory:function(){return new ce((0,v.LFG)(fe),(0,v.LFG)(b))},providedIn:"root"}),Se})();function ne(Se){return Se.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Zero=0]="Zero",de[de.One=1]="One",de[de.Two=2]="Two",de[de.Few=3]="Few",de[de.Many=4]="Many",de[de.Other=5]="Other",de))();const dt=v.kL8;class wr{}let Pr=(()=>{class Se extends wr{constructor(L){super(),this.locale=L}getPluralCategory(L,B){switch(dt(B||this.locale)(L)){case de.Zero:return"zero";case de.One:return"one";case de.Two:return"two";case de.Few:return"few";case de.Many:return"many";default:return"other"}}}return Se.\u0275fac=function(L){return new(L||Se)(v.LFG(v.soG))},Se.\u0275prov=v.Yz7({token:Se,factory:Se.\u0275fac}),Se})();function pn(Se,z){z=encodeURIComponent(z);for(const L of Se.split(";")){const B=L.indexOf("="),[Ce,Et]=-1==B?[L,""]:[L.slice(0,B),L.slice(B+1)];if(Ce.trim()===z)return decodeURIComponent(Et)}return null}let jr=(()=>{class Se{constructor(L,B,Ce,Et){this._iterableDiffers=L,this._keyValueDiffers=B,this._ngEl=Ce,this._renderer=Et,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,v.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(B=>this._toggleClass(B.key,B.currentValue)),L.forEachChangedItem(B=>this._toggleClass(B.key,B.currentValue)),L.forEachRemovedItem(B=>{B.previousValue&&this._toggleClass(B.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(B=>{if("string"!=typeof B.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,v.AaK)(B.item)}`);this._toggleClass(B.item,!0)}),L.forEachRemovedItem(B=>this._toggleClass(B.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(B=>this._toggleClass(B,!0)):Object.keys(L).forEach(B=>this._toggleClass(B,!!L[B])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(B=>this._toggleClass(B,!1)):Object.keys(L).forEach(B=>this._toggleClass(B,!1)))}_toggleClass(L,B){(L=L.trim())&&L.split(/\s+/g).forEach(Ce=>{B?this._renderer.addClass(this._ngEl.nativeElement,Ce):this._renderer.removeClass(this._ngEl.nativeElement,Ce)})}}return Se.\u0275fac=function(L){return new(L||Se)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))},Se.\u0275dir=v.lG2({type:Se,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Se})();class vo{constructor(z,L,B,Ce){this.$implicit=z,this.ngForOf=L,this.index=B,this.count=Ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ho=(()=>{class Se{constructor(L,B,Ce){this._viewContainer=L,this._template=B,this._differs=Ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const B=this._viewContainer;L.forEachOperation((Ce,Et,ti)=>{if(null==Ce.previousIndex)B.createEmbeddedView(this._template,new vo(Ce.item,this._ngForOf,-1,-1),null===ti?void 0:ti);else if(null==ti)B.remove(null===Et?void 0:Et);else if(null!==Et){const Li=B.get(Et);B.move(Li,ti),Sr(Li,Ce)}});for(let Ce=0,Et=B.length;Ce<Et;Ce++){const Li=B.get(Ce).context;Li.index=Ce,Li.count=Et,Li.ngForOf=this._ngForOf}L.forEachIdentityChange(Ce=>{Sr(B.get(Ce.currentIndex),Ce)})}static ngTemplateContextGuard(L,B){return!0}}return Se.\u0275fac=function(L){return new(L||Se)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},Se.\u0275dir=v.lG2({type:Se,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Se})();function Sr(Se,z){Se.context.$implicit=z.item}let Jr=(()=>{class Se{constructor(L,B){this._viewContainer=L,this._context=new Hn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){vn("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){vn("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,B){return!0}}return Se.\u0275fac=function(L){return new(L||Se)(v.Y36(v.s_b),v.Y36(v.Rgc))},Se.\u0275dir=v.lG2({type:Se,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Se})();class Hn{constructor(){this.$implicit=null,this.ngIf=null}}function vn(Se,z){if(z&&!z.createEmbeddedView)throw new Error(`${Se} must be a TemplateRef, but received '${(0,v.AaK)(z)}'.`)}class Zr{constructor(z,L){this._viewContainerRef=z,this._templateRef=L,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(z){z&&!this._created?this.create():!z&&this._created&&this.destroy()}}let Ar=(()=>{class Se{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(L){this._ngSwitch=L,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(L){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(L)}_matchCase(L){const B=L==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||B,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),B}_updateDefaultCases(L){if(this._defaultViews&&L!==this._defaultUsed){this._defaultUsed=L;for(let B=0;B<this._defaultViews.length;B++)this._defaultViews[B].enforceState(L)}}}return Se.\u0275fac=function(L){return new(L||Se)},Se.\u0275dir=v.lG2({type:Se,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Se})(),yr=(()=>{class Se{constructor(L,B,Ce){this.ngSwitch=Ce,Ce._addCase(),this._view=new Zr(L,B)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Se.\u0275fac=function(L){return new(L||Se)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(Ar,9))},Se.\u0275dir=v.lG2({type:Se,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Se})(),qn=(()=>{class Se{constructor(L,B,Ce){this._ngEl=L,this._differs=B,this._renderer=Ce,this._ngStyle=null,this._differ=null}set ngStyle(L){this._ngStyle=L,!this._differ&&L&&(this._differ=this._differs.find(L).create())}ngDoCheck(){if(this._differ){const L=this._differ.diff(this._ngStyle);L&&this._applyChanges(L)}}_setStyle(L,B){const[Ce,Et]=L.split(".");null!=(B=null!=B&&Et?`${B}${Et}`:B)?this._renderer.setStyle(this._ngEl.nativeElement,Ce,B):this._renderer.removeStyle(this._ngEl.nativeElement,Ce)}_applyChanges(L){L.forEachRemovedItem(B=>this._setStyle(B.key,null)),L.forEachAddedItem(B=>this._setStyle(B.key,B.currentValue)),L.forEachChangedItem(B=>this._setStyle(B.key,B.currentValue))}}return Se.\u0275fac=function(L){return new(L||Se)(v.Y36(v.SBq),v.Y36(v.aQg),v.Y36(v.Qsj))},Se.\u0275dir=v.lG2({type:Se,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Se})();class $o{createSubscription(z,L){return z.subscribe({next:L,error:B=>{throw B}})}dispose(z){z.unsubscribe()}onDestroy(z){z.unsubscribe()}}class So{createSubscription(z,L){return z.then(L,B=>{throw B})}dispose(z){}onDestroy(z){}}const hr=new So,Jo=new $o;let $s=(()=>{class Se{constructor(L){this._ref=L,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(L){return this._obj?L!==this._obj?(this._dispose(),this.transform(L)):this._latestValue:(L&&this._subscribe(L),this._latestValue)}_subscribe(L){this._obj=L,this._strategy=this._selectStrategy(L),this._subscription=this._strategy.createSubscription(L,B=>this._updateLatestValue(L,B))}_selectStrategy(L){if((0,v.QGY)(L))return hr;if((0,v.F4k)(L))return Jo;throw function(Se,z){return Error(`InvalidPipeArgument: '${z}' for pipe '${(0,v.AaK)(Se)}'`)}(Se,L)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(L,B){L===this._obj&&(this._latestValue=B,this._ref.markForCheck())}}return Se.\u0275fac=function(L){return new(L||Se)(v.Y36(v.sBO,16))},Se.\u0275pipe=v.Yjl({name:"async",type:Se,pure:!1}),Se})(),Fr=(()=>{class Se{}return Se.\u0275fac=function(L){return new(L||Se)},Se.\u0275mod=v.oAB({type:Se}),Se.\u0275inj=v.cJS({providers:[{provide:wr,useClass:Pr}]}),Se})();const po="browser";function ds(Se){return Se===po}let Br=(()=>{class Se{}return Se.\u0275prov=(0,v.Yz7)({token:Se,providedIn:"root",factory:()=>new yo((0,v.LFG)(u),window)}),Se})();class yo{constructor(z,L){this.document=z,this.window=L,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const L=function(Se,z){const L=Se.getElementById(z)||Se.getElementsByName(z)[0];if(L)return L;if("function"==typeof Se.createTreeWalker&&Se.body&&(Se.body.createShadowRoot||Se.body.attachShadow)){const B=Se.createTreeWalker(Se.body,NodeFilter.SHOW_ELEMENT);let Ce=B.currentNode;for(;Ce;){const Et=Ce.shadowRoot;if(Et){const ti=Et.getElementById(z)||Et.querySelector(`[name="${z}"]`);if(ti)return ti}Ce=B.nextNode()}}return null}(this.document,z);L&&(this.scrollToElement(L),this.attemptFocus(L))}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=z)}}scrollToElement(z){const L=z.getBoundingClientRect(),B=L.left+this.window.pageXOffset,Ce=L.top+this.window.pageYOffset,Et=this.offset();this.window.scrollTo(B-Et[0],Ce-Et[1])}attemptFocus(z){return z.focus(),this.document.activeElement===z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=ca(this.window.history)||ca(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch(z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(z){return!1}}}function ca(Se){return Object.getOwnPropertyDescriptor(Se,"scrollRestoration")}class ws{}},40520:(P,H,h)=>{"use strict";h.d(H,{eN:()=>ve,JF:()=>gt});var v=h(69808),p=h(5e3),t=h(39646),e=h(79307),n=h(24351),o=h(39300),u=h(54004);class b{}class w{}class R{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?this.lazyInit="string"==typeof be?()=>{this.headers=new Map,be.split("\n").forEach(Ae=>{const St=Ae.indexOf(":");if(St>0){const It=Ae.slice(0,St),ci=It.toLowerCase(),Zt=Ae.slice(St+1).trim();this.maybeSetNormalizedName(It,ci),this.headers.has(ci)?this.headers.get(ci).push(Zt):this.headers.set(ci,[Zt])}})}:()=>{this.headers=new Map,Object.keys(be).forEach(Ae=>{let St=be[Ae];const It=Ae.toLowerCase();"string"==typeof St&&(St=[St]),St.length>0&&(this.headers.set(It,St),this.maybeSetNormalizedName(Ae,It))})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const Ae=this.headers.get(be.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,Ae){return this.clone({name:be,value:Ae,op:"a"})}set(be,Ae){return this.clone({name:be,value:Ae,op:"s"})}delete(be,Ae){return this.clone({name:be,value:Ae,op:"d"})}maybeSetNormalizedName(be,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,be)}init(){this.lazyInit&&(this.lazyInit instanceof R?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(Ae=>{this.headers.set(Ae,be.headers.get(Ae)),this.normalizedNames.set(Ae,be.normalizedNames.get(Ae))})}clone(be){const Ae=new R;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof R?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([be]),Ae}applyUpdate(be){const Ae=be.name.toLowerCase();switch(be.op){case"a":case"s":let St=be.value;if("string"==typeof St&&(St=[St]),0===St.length)return;this.maybeSetNormalizedName(be.name,Ae);const It=("a"===be.op?this.headers.get(Ae):void 0)||[];It.push(...St),this.headers.set(Ae,It);break;case"d":const ci=be.value;if(ci){let Zt=this.headers.get(Ae);if(!Zt)return;Zt=Zt.filter(li=>-1===ci.indexOf(li)),0===Zt.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,Zt)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>be(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class N{encodeKey(be){return ae(be)}encodeValue(be){return ae(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const Z=/%(\d[a-f0-9])/gi,K={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ae(ot){return encodeURIComponent(ot).replace(Z,(be,Ae)=>{var St;return null!==(St=K[Ae])&&void 0!==St?St:be})}function xe(ot){return`${ot}`}class fe{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new N,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(ot,be){const Ae=new Map;return ot.length>0&&ot.replace(/^\?/,"").split("&").forEach(It=>{const ci=It.indexOf("="),[Zt,li]=-1==ci?[be.decodeKey(It),""]:[be.decodeKey(It.slice(0,ci)),be.decodeValue(It.slice(ci+1))],Fi=Ae.get(Zt)||[];Fi.push(li),Ae.set(Zt,Fi)}),Ae}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(Ae=>{const St=be.fromObject[Ae];this.map.set(Ae,Array.isArray(St)?St:[St])})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const Ae=this.map.get(be);return Ae?Ae[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,Ae){return this.clone({param:be,value:Ae,op:"a"})}appendAll(be){const Ae=[];return Object.keys(be).forEach(St=>{const It=be[St];Array.isArray(It)?It.forEach(ci=>{Ae.push({param:St,value:ci,op:"a"})}):Ae.push({param:St,value:It,op:"a"})}),this.clone(Ae)}set(be,Ae){return this.clone({param:be,value:Ae,op:"s"})}delete(be,Ae){return this.clone({param:be,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const Ae=this.encoder.encodeKey(be);return this.map.get(be).map(St=>Ae+"="+this.encoder.encodeValue(St)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const Ae=new fe({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(be),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const Ae=("a"===be.op?this.map.get(be.param):void 0)||[];Ae.push(xe(be.value)),this.map.set(be.param,Ae);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let St=this.map.get(be.param)||[];const It=St.indexOf(xe(be.value));-1!==It&&St.splice(It,1),St.length>0?this.map.set(be.param,St):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class Oe{constructor(){this.map=new Map}set(be,Ae){return this.map.set(be,Ae),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function Ee(ot){return"undefined"!=typeof ArrayBuffer&&ot instanceof ArrayBuffer}function ce(ot){return"undefined"!=typeof Blob&&ot instanceof Blob}function q(ot){return"undefined"!=typeof FormData&&ot instanceof FormData}class ne{constructor(be,Ae,St,It){let ci;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function(ot){switch(ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||It?(this.body=void 0!==St?St:null,ci=It):ci=St,ci&&(this.reportProgress=!!ci.reportProgress,this.withCredentials=!!ci.withCredentials,ci.responseType&&(this.responseType=ci.responseType),ci.headers&&(this.headers=ci.headers),ci.context&&(this.context=ci.context),ci.params&&(this.params=ci.params)),this.headers||(this.headers=new R),this.context||(this.context=new Oe),this.params){const Zt=this.params.toString();if(0===Zt.length)this.urlWithParams=Ae;else{const li=Ae.indexOf("?");this.urlWithParams=Ae+(-1===li?"?":li<Ae.length-1?"&":"")+Zt}}else this.params=new fe,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:Ee(this.body)||ce(this.body)||q(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||q(this.body)?null:ce(this.body)?this.body.type||null:Ee(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){var Ae;const St=be.method||this.method,It=be.url||this.url,ci=be.responseType||this.responseType,Zt=void 0!==be.body?be.body:this.body,li=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,Fi=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let ui=be.headers||this.headers,Ei=be.params||this.params;const gi=null!==(Ae=be.context)&&void 0!==Ae?Ae:this.context;return void 0!==be.setHeaders&&(ui=Object.keys(be.setHeaders).reduce((jt,oi)=>jt.set(oi,be.setHeaders[oi]),ui)),be.setParams&&(Ei=Object.keys(be.setParams).reduce((jt,oi)=>jt.set(oi,be.setParams[oi]),Ei)),new ne(St,It,Zt,{params:Ei,headers:ui,context:gi,reportProgress:Fi,responseType:ci,withCredentials:li})}}var Pe=(()=>((Pe=Pe||{})[Pe.Sent=0]="Sent",Pe[Pe.UploadProgress=1]="UploadProgress",Pe[Pe.ResponseHeader=2]="ResponseHeader",Pe[Pe.DownloadProgress=3]="DownloadProgress",Pe[Pe.Response=4]="Response",Pe[Pe.User=5]="User",Pe))();class oe{constructor(be,Ae=200,St="OK"){this.headers=be.headers||new R,this.status=void 0!==be.status?be.status:Ae,this.statusText=be.statusText||St,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class de extends oe{constructor(be={}){super(be),this.type=Pe.ResponseHeader}clone(be={}){return new de({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class te extends oe{constructor(be={}){super(be),this.type=Pe.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new te({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class ie extends oe{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function Ge(ot,be){return{body:be,headers:ot.headers,context:ot.context,observe:ot.observe,params:ot.params,reportProgress:ot.reportProgress,responseType:ot.responseType,withCredentials:ot.withCredentials}}let ve=(()=>{class ot{constructor(Ae){this.handler=Ae}request(Ae,St,It={}){let ci;if(Ae instanceof ne)ci=Ae;else{let Fi,ui;Fi=It.headers instanceof R?It.headers:new R(It.headers),It.params&&(ui=It.params instanceof fe?It.params:new fe({fromObject:It.params})),ci=new ne(Ae,St,void 0!==It.body?It.body:null,{headers:Fi,context:It.context,params:ui,reportProgress:It.reportProgress,responseType:It.responseType||"json",withCredentials:It.withCredentials})}const Zt=(0,t.of)(ci).pipe((0,n.b)(Fi=>this.handler.handle(Fi)));if(Ae instanceof ne||"events"===It.observe)return Zt;const li=Zt.pipe((0,o.h)(Fi=>Fi instanceof te));switch(It.observe||"body"){case"body":switch(ci.responseType){case"arraybuffer":return li.pipe((0,u.U)(Fi=>{if(null!==Fi.body&&!(Fi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Fi.body}));case"blob":return li.pipe((0,u.U)(Fi=>{if(null!==Fi.body&&!(Fi.body instanceof Blob))throw new Error("Response is not a Blob.");return Fi.body}));case"text":return li.pipe((0,u.U)(Fi=>{if(null!==Fi.body&&"string"!=typeof Fi.body)throw new Error("Response is not a string.");return Fi.body}));default:return li.pipe((0,u.U)(Fi=>Fi.body))}case"response":return li;default:throw new Error(`Unreachable: unhandled observe type ${It.observe}}`)}}delete(Ae,St={}){return this.request("DELETE",Ae,St)}get(Ae,St={}){return this.request("GET",Ae,St)}head(Ae,St={}){return this.request("HEAD",Ae,St)}jsonp(Ae,St){return this.request("JSONP",Ae,{params:(new fe).append(St,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,St={}){return this.request("OPTIONS",Ae,St)}patch(Ae,St,It={}){return this.request("PATCH",Ae,Ge(It,St))}post(Ae,St,It={}){return this.request("POST",Ae,Ge(It,St))}put(Ae,St,It={}){return this.request("PUT",Ae,Ge(It,St))}}return ot.\u0275fac=function(Ae){return new(Ae||ot)(p.LFG(b))},ot.\u0275prov=p.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class He{constructor(be,Ae){this.next=be,this.interceptor=Ae}handle(be){return this.interceptor.intercept(be,this.next)}}const ct=new p.OlP("HTTP_INTERCEPTORS");let Yt=(()=>{class ot{intercept(Ae,St){return St.handle(Ae)}}return ot.\u0275fac=function(Ae){return new(Ae||ot)},ot.\u0275prov=p.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const ri=/^\)\]\}',?\n/;let _t=(()=>{class ot{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new e.y(St=>{const It=this.xhrFactory.build();if(It.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(It.withCredentials=!0),Ae.headers.forEach((oi,ut)=>It.setRequestHeader(oi,ut.join(","))),Ae.headers.has("Accept")||It.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const oi=Ae.detectContentTypeHeader();null!==oi&&It.setRequestHeader("Content-Type",oi)}if(Ae.responseType){const oi=Ae.responseType.toLowerCase();It.responseType="json"!==oi?oi:"text"}const ci=Ae.serializeBody();let Zt=null;const li=()=>{if(null!==Zt)return Zt;const oi=1223===It.status?204:It.status,ut=It.statusText||"OK",Wt=new R(It.getAllResponseHeaders()),ei=function(ot){return"responseURL"in ot&&ot.responseURL?ot.responseURL:/^X-Request-URL:/m.test(ot.getAllResponseHeaders())?ot.getResponseHeader("X-Request-URL"):null}(It)||Ae.url;return Zt=new de({headers:Wt,status:oi,statusText:ut,url:ei}),Zt},Fi=()=>{let{headers:oi,status:ut,statusText:Wt,url:ei}=li(),Di=null;204!==ut&&(Di=void 0===It.response?It.responseText:It.response),0===ut&&(ut=Di?200:0);let Nt=ut>=200&&ut<300;if("json"===Ae.responseType&&"string"==typeof Di){const it=Di;Di=Di.replace(ri,"");try{Di=""!==Di?JSON.parse(Di):null}catch(Me){Di=it,Nt&&(Nt=!1,Di={error:Me,text:Di})}}Nt?(St.next(new te({body:Di,headers:oi,status:ut,statusText:Wt,url:ei||void 0})),St.complete()):St.error(new ie({error:Di,headers:oi,status:ut,statusText:Wt,url:ei||void 0}))},ui=oi=>{const{url:ut}=li(),Wt=new ie({error:oi,status:It.status||0,statusText:It.statusText||"Unknown Error",url:ut||void 0});St.error(Wt)};let Ei=!1;const gi=oi=>{Ei||(St.next(li()),Ei=!0);let ut={type:Pe.DownloadProgress,loaded:oi.loaded};oi.lengthComputable&&(ut.total=oi.total),"text"===Ae.responseType&&!!It.responseText&&(ut.partialText=It.responseText),St.next(ut)},jt=oi=>{let ut={type:Pe.UploadProgress,loaded:oi.loaded};oi.lengthComputable&&(ut.total=oi.total),St.next(ut)};return It.addEventListener("load",Fi),It.addEventListener("error",ui),It.addEventListener("timeout",ui),It.addEventListener("abort",ui),Ae.reportProgress&&(It.addEventListener("progress",gi),null!==ci&&It.upload&&It.upload.addEventListener("progress",jt)),It.send(ci),St.next({type:Pe.Sent}),()=>{It.removeEventListener("error",ui),It.removeEventListener("abort",ui),It.removeEventListener("load",Fi),It.removeEventListener("timeout",ui),Ae.reportProgress&&(It.removeEventListener("progress",gi),null!==ci&&It.upload&&It.upload.removeEventListener("progress",jt)),It.readyState!==It.DONE&&It.abort()}})}}return ot.\u0275fac=function(Ae){return new(Ae||ot)(p.LFG(v.JF))},ot.\u0275prov=p.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const Ke=new p.OlP("XSRF_COOKIE_NAME"),Je=new p.OlP("XSRF_HEADER_NAME");class we{}let Le=(()=>{class ot{constructor(Ae,St,It){this.doc=Ae,this.platform=St,this.cookieName=It,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}}return ot.\u0275fac=function(Ae){return new(Ae||ot)(p.LFG(v.K0),p.LFG(p.Lbi),p.LFG(Ke))},ot.\u0275prov=p.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),dt=(()=>{class ot{constructor(Ae,St){this.tokenService=Ae,this.headerName=St}intercept(Ae,St){const It=Ae.url.toLowerCase();if("GET"===Ae.method||"HEAD"===Ae.method||It.startsWith("http://")||It.startsWith("https://"))return St.handle(Ae);const ci=this.tokenService.getToken();return null!==ci&&!Ae.headers.has(this.headerName)&&(Ae=Ae.clone({headers:Ae.headers.set(this.headerName,ci)})),St.handle(Ae)}}return ot.\u0275fac=function(Ae){return new(Ae||ot)(p.LFG(we),p.LFG(Je))},ot.\u0275prov=p.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),zt=(()=>{class ot{constructor(Ae,St){this.backend=Ae,this.injector=St,this.chain=null}handle(Ae){if(null===this.chain){const St=this.injector.get(ct,[]);this.chain=St.reduceRight((It,ci)=>new He(It,ci),this.backend)}return this.chain.handle(Ae)}}return ot.\u0275fac=function(Ae){return new(Ae||ot)(p.LFG(w),p.LFG(p.zs3))},ot.\u0275prov=p.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Ye=(()=>{class ot{static disable(){return{ngModule:ot,providers:[{provide:dt,useClass:Yt}]}}static withOptions(Ae={}){return{ngModule:ot,providers:[Ae.cookieName?{provide:Ke,useValue:Ae.cookieName}:[],Ae.headerName?{provide:Je,useValue:Ae.headerName}:[]]}}}return ot.\u0275fac=function(Ae){return new(Ae||ot)},ot.\u0275mod=p.oAB({type:ot}),ot.\u0275inj=p.cJS({providers:[dt,{provide:ct,useExisting:dt,multi:!0},{provide:we,useClass:Le},{provide:Ke,useValue:"XSRF-TOKEN"},{provide:Je,useValue:"X-XSRF-TOKEN"}]}),ot})(),gt=(()=>{class ot{}return ot.\u0275fac=function(Ae){return new(Ae||ot)},ot.\u0275mod=p.oAB({type:ot}),ot.\u0275inj=p.cJS({providers:[ve,{provide:b,useClass:zt},_t,{provide:w,useExisting:_t}],imports:[[Ye.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ot})()},5e3:(P,H,h)=>{"use strict";h.d(H,{deG:()=>nc,tb:()=>Eb,AFp:()=>vb,ip1:()=>tm,CZH:()=>Yh,hGG:()=>n0,z2F:()=>Rp,sBO:()=>AT,Sil:()=>nm,_Vd:()=>Cp,EJc:()=>Tb,SBq:()=>Tp,qLn:()=>zl,vpe:()=>yu,tBr:()=>Hl,XFs:()=>Ye,OlP:()=>eo,zs3:()=>Lo,ZZ4:()=>Sf,aQg:()=>Df,soG:()=>Tf,YKP:()=>Rv,h0i:()=>jh,PXZ:()=>wT,R0b:()=>ec,FiY:()=>Ys,Lbi:()=>yb,g9A:()=>bb,n_E:()=>_f,Qsj:()=>aC,FYo:()=>Sv,JOm:()=>_a,q3G:()=>lo,tp0:()=>Ha,Rgc:()=>Mp,dDg:()=>Db,GfV:()=>Dv,s_b:()=>bf,ifc:()=>Zt,eFA:()=>Rb,G48:()=>IT,Gpc:()=>N,f3M:()=>el,_c5:()=>$T,VLi:()=>yT,c2e:()=>Cb,zSh:()=>hp,wAp:()=>Mn,vHH:()=>ae,EiD:()=>rl,mCW:()=>vr,qzn:()=>ft,JVY:()=>$t,pB0:()=>_i,eBb:()=>Vt,L6k:()=>Mt,LAX:()=>di,cg1:()=>kg,kL8:()=>$_,yhl:()=>Tt,dqk:()=>gi,sIi:()=>Ml,CqO:()=>s_,QGY:()=>bg,F4k:()=>o_,RDi:()=>Br,AaK:()=>b,z3N:()=>$e,qOj:()=>Or,TTD:()=>Ro,_Bn:()=>Cv,xp6:()=>Yu,uIk:()=>lg,ekj:()=>Dg,Suo:()=>Jv,Xpm:()=>et,lG2:()=>Ct,Yz7:()=>Lt,cJS:()=>Ne,oAB:()=>wn,Yjl:()=>Xt,Y36:()=>mp,_UZ:()=>i_,GkF:()=>n_,BQk:()=>vg,ynx:()=>_g,qZA:()=>mg,TgZ:()=>gg,EpF:()=>r_,n5z:()=>Ns,Ikx:()=>Ag,LFG:()=>so,$8M:()=>fl,$Z:()=>t_,NdJ:()=>yg,CRH:()=>Zv,kcU:()=>ts,O4$:()=>Eo,oxw:()=>c_,ALo:()=>Uv,lcZ:()=>Gv,Hsn:()=>d_,F$t:()=>u_,Q6J:()=>pg,s9C:()=>Tg,DdM:()=>kv,VKq:()=>Pv,WLB:()=>Lv,iGM:()=>Kv,MAs:()=>Wm,CHM:()=>Qe,LSH:()=>nu,Udp:()=>Sg,WFA:()=>Eg,d8E:()=>Og,YNc:()=>jm,W1O:()=>tb,_uU:()=>k_,Oqu:()=>xg,hij:()=>uf,AsE:()=>Rg,lnq:()=>Ig,Gf:()=>$v});var v=h(77579),p=h(50727),t=h(79307),e=h(56451),n=h(13099);function o(c){for(let d in c)if(c[d]===o)return d;throw Error("Could not find renamed property on target object.")}function u(c,d){for(const m in d)d.hasOwnProperty(m)&&!c.hasOwnProperty(m)&&(c[m]=d[m])}function b(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(b).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const d=c.toString();if(null==d)return""+d;const m=d.indexOf("\n");return-1===m?d:d.substring(0,m)}function w(c,d){return null==c||""===c?null===d?"":d:null==d||""===d?c:c+" "+d}const R=o({__forward_ref__:o});function N(c){return c.__forward_ref__=N,c.toString=function(){return b(this())},c}function W(c){return Z(c)?c():c}function Z(c){return"function"==typeof c&&c.hasOwnProperty(R)&&c.__forward_ref__===N}class ae extends Error{constructor(d,m){super(function(c,d){return`${c?`NG0${c}: `:""}${d}`}(d,m)),this.code=d}}function _e(c){return"string"==typeof c?c:null==c?"":String(c)}function Oe(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():_e(c)}function q(c,d){const m=d?` in ${d}`:"";throw new ae("201",`No provider for ${Oe(c)} found${m}`)}function Bt(c,d){null==c&&function(c,d,m,C){throw new Error(`ASSERTION ERROR: ${c}`+(null==C?"":` [Expected=> ${m} ${C} ${d} <=Actual]`))}(d,c,null,"!=")}function Lt(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function Ne(c){return{providers:c.providers||[],imports:c.imports||[]}}function _t(c){return Ke(c,dt)||Ke(c,lt)}function Ke(c,d){return c.hasOwnProperty(d)?c[d]:null}function Le(c){return c&&(c.hasOwnProperty(zt)||c.hasOwnProperty(ze))?c[zt]:null}const dt=o({\u0275prov:o}),zt=o({\u0275inj:o}),lt=o({ngInjectableDef:o}),ze=o({ngInjectorDef:o});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let gt;function rt(c){const d=gt;return gt=c,d}function ot(c,d,m){const C=_t(c);return C&&"root"==C.providedIn?void 0===C.value?C.value=C.factory():C.value:m&Ye.Optional?null:void 0!==d?d:void q(b(c),"Injector")}function Ae(c){return{toString:c}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),Zt=(()=>{return(c=Zt||(Zt={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",Zt;var c})();const li="undefined"!=typeof globalThis&&globalThis,Fi="undefined"!=typeof window&&window,ui="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gi=li||"undefined"!=typeof global&&global||Fi||ui,ut={},Wt=[],ei=o({\u0275cmp:o}),Di=o({\u0275dir:o}),Nt=o({\u0275pipe:o}),it=o({\u0275mod:o}),Me=o({\u0275fac:o}),re=o({__NG_ELEMENT_ID__:o});let De=0;function et(c){return Ae(()=>{const m={},C={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:m,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||Wt,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||Zt.Emulated,id:"c",styles:c.styles||Wt,_:null,setInput:null,schemas:c.schemas||null,tView:null},S=c.directives,I=c.features,G=c.pipes;return C.id+=De++,C.inputs=Rt(c.inputs,m),C.outputs=Rt(c.outputs),I&&I.forEach(ee=>ee(C)),C.directiveDefs=S?()=>("function"==typeof S?S():S).map(Ci):null,C.pipeDefs=G?()=>("function"==typeof G?G():G).map(ki):null,C})}function Ci(c){return pi(c)||function(c){return c[Di]||null}(c)}function ki(c){return function(c){return c[Nt]||null}(c)}const Zi={};function wn(c){return Ae(()=>{const d={type:c.type,bootstrap:c.bootstrap||Wt,declarations:c.declarations||Wt,imports:c.imports||Wt,exports:c.exports||Wt,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(Zi[c.id]=c.type),d})}function Rt(c,d){if(null==c)return ut;const m={};for(const C in c)if(c.hasOwnProperty(C)){let S=c[C],I=S;Array.isArray(S)&&(I=S[1],S=S[0]),m[S]=C,d&&(d[S]=I)}return m}const Ct=et;function Xt(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,onDestroy:c.type.prototype.ngOnDestroy||null}}function pi(c){return c[ei]||null}function On(c,d){const m=c[it]||null;if(!m&&!0===d)throw new Error(`Type ${b(c)} does not have '\u0275mod' property.`);return m}function yr(c){return Array.isArray(c)&&"object"==typeof c[1]}function Lr(c){return Array.isArray(c)&&!0===c[1]}function Cs(c){return 0!=(8&c.flags)}function yn(c){return 2==(2&c.flags)}function Fo(c){return 1==(1&c.flags)}function qn(c){return null!==c.template}function wo(c){return 0!=(512&c[2])}function cs(c,d){return c.hasOwnProperty(Me)?c[Me]:null}class xo{constructor(d,m,C){this.previousValue=d,this.currentValue=m,this.firstChange=C}isFirstChange(){return this.firstChange}}function Ro(){return Qr}function Qr(c){return c.type.prototype.ngOnChanges&&(c.setInput=Fr),us}function us(){const c=Er(this),d=null==c?void 0:c.current;if(d){const m=c.previous;if(m===ut)c.previous=d;else for(let C in d)m[C]=d[C];c.current=null,this.ngOnChanges(d)}}function Fr(c,d,m,C){const S=Er(c)||function(c,d){return c[po]=d}(c,{previous:ut,current:null}),I=S.current||(S.current={}),G=S.previous,ee=this.declaredInputs[m],me=G[ee];I[ee]=new xo(me&&me.currentValue,d,G===ut),c[C]=d}Ro.ngInherit=!0;const po="__ngSimpleChanges__";function Er(c){return c[po]||null}const js="http://www.w3.org/2000/svg";let Ho;function Br(c){Ho=c}function Gn(c){return!!c.listen}const tn={createRenderer:(c,d)=>void 0!==Ho?Ho:"undefined"!=typeof document?document:void 0};function Se(c){for(;Array.isArray(c);)c=c[0];return c}function B(c,d){return Se(d[c])}function Ce(c,d){return Se(d[c.index])}function ti(c,d){return c.data[d]}function Li(c,d){return c[d]}function mn(c,d){const m=d[c];return yr(m)?m:m[0]}function Dn(c){return 4==(4&c[2])}function Vn(c){return 128==(128&c[2])}function gr(c,d){return null==d?null:c[d]}function er(c){c[18]=0}function zr(c,d){c[5]+=d;let m=c,C=c[3];for(;null!==C&&(1===d&&1===m[5]||-1===d&&0===m[5]);)C[5]+=d,m=C,C=C[3]}const on={lFrame:Cr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vo(){return on.bindingsEnabled}function Mi(){return on.lFrame.lView}function xn(){return on.lFrame.tView}function Qe(c){return on.lFrame.contextLView=c,c[8]}function F(){let c=j();for(;null!==c&&64===c.type;)c=c.parent;return c}function j(){return on.lFrame.currentTNode}function je(c,d){const m=on.lFrame;m.currentTNode=c,m.isParent=d}function st(){return on.lFrame.isParent}function xt(){on.lFrame.isParent=!1}function mi(){return on.isInCheckNoChangesMode}function Bi(c){on.isInCheckNoChangesMode=c}function Gi(){const c=on.lFrame;let d=c.bindingRootIndex;return-1===d&&(d=c.bindingRootIndex=c.tView.bindingStartIndex),d}function un(){return on.lFrame.bindingIndex}function en(){return on.lFrame.bindingIndex++}function _n(c){const d=on.lFrame,m=d.bindingIndex;return d.bindingIndex=d.bindingIndex+c,m}function xr(c,d){const m=on.lFrame;m.bindingIndex=m.bindingRootIndex=c,Hr(d)}function Hr(c){on.lFrame.currentDirectiveIndex=c}function Go(c){const d=on.lFrame.currentDirectiveIndex;return-1===d?null:c[d]}function Qo(){return on.lFrame.currentQueryIndex}function Vr(c){on.lFrame.currentQueryIndex=c}function As(c){const d=c[1];return 2===d.type?d.declTNode:1===d.type?c[6]:null}function qo(c,d,m){if(m&Ye.SkipSelf){let S=d,I=c;for(;!(S=S.parent,null!==S||m&Ye.Host||(S=As(I),null===S||(I=I[15],10&S.type))););if(null===S)return!1;d=S,c=I}const C=on.lFrame=wa();return C.currentTNode=d,C.lView=c,!0}function hs(c){const d=wa(),m=c[1];on.lFrame=d,d.currentTNode=m.firstChild,d.lView=c,d.tView=m,d.contextLView=c,d.bindingIndex=m.bindingStartIndex,d.inI18n=!1}function wa(){const c=on.lFrame,d=null===c?null:c.child;return null===d?Cr(c):d}function Cr(c){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=d),d}function es(){const c=on.lFrame;return on.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Sa=es;function ua(){const c=es();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function rn(){return on.lFrame.selectedIndex}function In(c){on.lFrame.selectedIndex=c}function An(){const c=on.lFrame;return ti(c.tView,c.selectedIndex)}function Eo(){on.lFrame.currentNamespace=js}function ts(){on.lFrame.currentNamespace=null}function fs(c,d){for(let m=d.directiveStart,C=d.directiveEnd;m<C;m++){const I=c.data[m].type.prototype,{ngAfterContentInit:G,ngAfterContentChecked:ee,ngAfterViewInit:me,ngAfterViewChecked:Fe,ngOnDestroy:qe}=I;G&&(c.contentHooks||(c.contentHooks=[])).push(-m,G),ee&&((c.contentHooks||(c.contentHooks=[])).push(m,ee),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(m,ee)),me&&(c.viewHooks||(c.viewHooks=[])).push(-m,me),Fe&&((c.viewHooks||(c.viewHooks=[])).push(m,Fe),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(m,Fe)),null!=qe&&(c.destroyHooks||(c.destroyHooks=[])).push(m,qe)}}function zs(c,d,m){dl(c,d,3,m)}function fo(c,d,m,C){(3&c[2])===m&&dl(c,d,m,C)}function jo(c,d){let m=c[2];(3&m)===d&&(m&=2047,m+=1,c[2]=m)}function dl(c,d,m,C){const I=null!=C?C:-1,G=d.length-1;let ee=0;for(let me=void 0!==C?65535&c[18]:0;me<G;me++)if("number"==typeof d[me+1]){if(ee=d[me],null!=C&&ee>=C)break}else d[me]<0&&(c[18]+=65536),(ee<I||-1==I)&&(ic(c,m,d,me),c[18]=(4294901760&c[18])+me+2),me++}function ic(c,d,m,C){const S=m[C]<0,I=m[C+1],ee=c[S?-m[C]:m[C]];if(S){if(c[2]>>11<c[18]>>16&&(3&c[2])===d){c[2]+=2048;try{I.call(ee)}finally{}}}else try{I.call(ee)}finally{}}class ka{constructor(d,m,C){this.factory=d,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=C}}function La(c,d,m){const C=Gn(c);let S=0;for(;S<m.length;){const I=m[S];if("number"==typeof I){if(0!==I)break;S++;const G=m[S++],ee=m[S++],me=m[S++];C?c.setAttribute(d,ee,me,G):d.setAttributeNS(G,ee,me)}else{const G=I,ee=m[++S];Il(G)?C&&c.setProperty(d,G,ee):C?c.setAttribute(d,G,ee):d.setAttribute(G,ee),S++}}return S}function Rl(c){return 3===c||4===c||6===c}function Il(c){return 64===c.charCodeAt(0)}function Ps(c,d){if(null!==d&&0!==d.length)if(null===c||0===c.length)c=d.slice();else{let m=-1;for(let C=0;C<d.length;C++){const S=d[C];"number"==typeof S?m=S:0===m||da(c,m,S,null,-1===m||2===m?d[++C]:null)}}return c}function da(c,d,m,C,S){let I=0,G=c.length;if(-1===d)G=-1;else for(;I<c.length;){const ee=c[I++];if("number"==typeof ee){if(ee===d){G=-1;break}if(ee>d){G=I-1;break}}}for(;I<c.length;){const ee=c[I];if("number"==typeof ee)break;if(ee===m){if(null===C)return void(null!==S&&(c[I+1]=S));if(C===c[I+1])return void(c[I+2]=S)}I++,null!==C&&I++,null!==S&&I++}-1!==G&&(c.splice(G,0,d),I=G+1),c.splice(I++,0,m),null!==C&&c.splice(I++,0,C),null!==S&&c.splice(I++,0,S)}function gs(c){return-1!==c}function $a(c){return 32767&c}function ea(c,d){let m=function(c){return c>>16}(c),C=d;for(;m>0;)C=C[15],m--;return C}let Al=!0;function hl(c){const d=Al;return Al=c,d}let le=0;function X(c,d){const m=ke(c,d);if(-1!==m)return m;const C=d[1];C.firstCreatePass&&(c.injectorIndex=d.length,Te(C.data,c),Te(d,null),Te(C.blueprint,null));const S=nt(c,d),I=c.injectorIndex;if(gs(S)){const G=$a(S),ee=ea(S,d),me=ee[1].data;for(let Fe=0;Fe<8;Fe++)d[I+Fe]=ee[G+Fe]|me[G+Fe]}return d[I+8]=S,I}function Te(c,d){c.push(0,0,0,0,0,0,0,0,d)}function ke(c,d){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===d[c.injectorIndex+8]?-1:c.injectorIndex}function nt(c,d){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let m=0,C=null,S=d;for(;null!==S;){const I=S[1],G=I.type;if(C=2===G?I.declTNode:1===G?S[6]:null,null===C)return-1;if(m++,S=S[15],-1!==C.injectorIndex)return C.injectorIndex|m<<16}return-1}function wt(c,d,m){!function(c,d,m){let C;"string"==typeof m?C=m.charCodeAt(0)||0:m.hasOwnProperty(re)&&(C=m[re]),null==C&&(C=m[re]=le++);const S=255&C;d.data[c+(S>>5)]|=1<<S}(c,d,m)}function fi(c,d,m){if(m&Ye.Optional)return c;q(d,"NodeInjector")}function Wi(c,d,m,C){if(m&Ye.Optional&&void 0===C&&(C=null),0==(m&(Ye.Self|Ye.Host))){const S=c[9],I=rt(void 0);try{return S?S.get(d,C,m&Ye.Optional):ot(d,C,m&Ye.Optional)}finally{rt(I)}}return fi(C,d,m)}function Fn(c,d,m,C=Ye.Default,S){if(null!==c){const I=function(c){if("string"==typeof c)return c.charCodeAt(0)||0;const d=c.hasOwnProperty(re)?c[re]:void 0;return"number"==typeof d?d>=0?255&d:ar:d}(m);if("function"==typeof I){if(!qo(d,c,C))return C&Ye.Host?fi(S,m,C):Wi(d,m,C,S);try{const G=I(C);if(null!=G||C&Ye.Optional)return G;q(m)}finally{Sa()}}else if("number"==typeof I){let G=null,ee=ke(c,d),me=-1,Fe=C&Ye.Host?d[16][6]:null;for((-1===ee||C&Ye.SkipSelf)&&(me=-1===ee?nt(c,d):d[ee+8],-1!==me&&pl(C,!1)?(G=d[1],ee=$a(me),d=ea(me,d)):ee=-1);-1!==ee;){const qe=d[1];if(Ao(I,ee,qe.data)){const bt=mr(ee,d,m,G,C,Fe);if(bt!==dn)return bt}me=d[ee+8],-1!==me&&pl(C,d[1].data[ee+8]===Fe)&&Ao(I,ee,d)?(G=qe,ee=$a(me),d=ea(me,d)):ee=-1}}}return Wi(d,m,C,S)}const dn={};function ar(){return new Wo(F(),Mi())}function mr(c,d,m,C,S,I){const G=d[1],ee=G.data[c+8],qe=Da(ee,G,m,null==C?yn(ee)&&Al:C!=G&&0!=(3&ee.type),S&Ye.Host&&I===ee);return null!==qe?is(d,G,qe,ee):dn}function Da(c,d,m,C,S){const I=c.providerIndexes,G=d.data,ee=1048575&I,me=c.directiveStart,qe=I>>20,Ft=S?ee+qe:c.directiveEnd;for(let ni=C?ee:ee+qe;ni<Ft;ni++){const wi=G[ni];if(ni<me&&m===wi||ni>=me&&wi.type===m)return ni}if(S){const ni=G[me];if(ni&&qn(ni)&&ni.type===m)return me}return null}function is(c,d,m,C){let S=c[m];const I=d.data;if(function(c){return c instanceof ka}(S)){const G=S;G.resolving&&function(c,d){throw new ae("200",`Circular dependency in DI detected for ${c}`)}(Oe(I[m]));const ee=hl(G.canSeeViewProviders);G.resolving=!0;const me=G.injectImpl?rt(G.injectImpl):null;qo(c,C,Ye.Default);try{S=c[m]=G.factory(void 0,I,c,C),d.firstCreatePass&&m>=C.directiveStart&&function(c,d,m){const{ngOnChanges:C,ngOnInit:S,ngDoCheck:I}=d.type.prototype;if(C){const G=Qr(d);(m.preOrderHooks||(m.preOrderHooks=[])).push(c,G),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(c,G)}S&&(m.preOrderHooks||(m.preOrderHooks=[])).push(0-c,S),I&&((m.preOrderHooks||(m.preOrderHooks=[])).push(c,I),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(c,I))}(m,I[m],d)}finally{null!==me&&rt(me),hl(ee),G.resolving=!1,Sa()}}return S}function Ao(c,d,m){return!!(m[d+(c>>5)]&1<<c)}function pl(c,d){return!(c&Ye.Self||c&Ye.Host&&d)}class Wo{constructor(d,m){this._tNode=d,this._lView=m}get(d,m,C){return Fn(this._tNode,this._lView,d,C,m)}}function Ns(c){return Ae(()=>{const d=c.prototype.constructor,m=d[Me]||ta(d),C=Object.prototype;let S=Object.getPrototypeOf(c.prototype).constructor;for(;S&&S!==C;){const I=S[Me]||ta(S);if(I&&I!==m)return I;S=Object.getPrototypeOf(S)}return I=>new I})}function ta(c){return Z(c)?()=>{const d=ta(W(c));return d&&d()}:cs(c)}function fl(c){return function(c,d){if("class"===d)return c.classes;if("style"===d)return c.styles;const m=c.attrs;if(m){const C=m.length;let S=0;for(;S<C;){const I=m[S];if(Rl(I))break;if(0===I)S+=2;else if("number"==typeof I)for(S++;S<C&&"string"==typeof m[S];)S++;else{if(I===d)return m[S+1];S+=2}}}return null}(F(),c)}const gl="__parameters__";function Ds(c,d,m){return Ae(()=>{const C=function(c){return function(...m){if(c){const C=c(...m);for(const S in C)this[S]=C[S]}}}(d);function S(...I){if(this instanceof S)return C.apply(this,I),this;const G=new S(...I);return ee.annotation=G,ee;function ee(me,Fe,qe){const bt=me.hasOwnProperty(gl)?me[gl]:Object.defineProperty(me,gl,{value:[]})[gl];for(;bt.length<=qe;)bt.push(null);return(bt[qe]=bt[qe]||[]).push(G),me}}return m&&(S.prototype=Object.create(m.prototype)),S.prototype.ngMetadataName=c,S.annotationCls=S,S})}class eo{constructor(d,m){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=Lt({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nc=new eo("AnalyzeForEntryComponents");function _s(c,d){void 0===d&&(d=c);for(let m=0;m<c.length;m++){let C=c[m];Array.isArray(C)?(d===c&&(d=c.slice(0,m)),_s(C,d)):d!==c&&d.push(C)}return d}function pa(c,d){c.forEach(m=>Array.isArray(m)?pa(m,d):d(m))}function Fa(c,d,m){d>=c.length?c.push(m):c.splice(d,0,m)}function na(c,d){return d>=c.length-1?c.pop():c.splice(d,1)[0]}function kl(c,d){const m=[];for(let C=0;C<c;C++)m.push(d);return m}function Oo(c,d,m){let C=Ma(c,d);return C>=0?c[1|C]=m:(C=~C,function(c,d,m,C){let S=c.length;if(S==d)c.push(m,C);else if(1===S)c.push(C,c[0]),c[0]=m;else{for(S--,c.push(c[S-1],c[S]);S>d;)c[S]=c[S-2],S--;c[d]=m,c[d+1]=C}}(c,C,d,m)),C}function Zc(c,d){const m=Ma(c,d);if(m>=0)return c[1|m]}function Ma(c,d){return function(c,d,m){let C=0,S=c.length>>m;for(;S!==C;){const I=C+(S-C>>1),G=c[I<<m];if(d===G)return I<<m;G>d?S=I:C=I+1}return~(S<<m)}(c,d,1)}const Ll={},ml="__NG_DI_FLAG__",Ur="ngTempTokenPath",_l=/\n/gm,Nl="__source",vs=o({provide:String,useValue:o});let Bs;function Ec(c){const d=Bs;return Bs=c,d}function Fl(c,d=Ye.Default){if(void 0===Bs)throw new Error("inject() must be called from an injection context");return null===Bs?ot(c,void 0,d):Bs.get(c,d&Ye.Optional?null:void 0,d)}function so(c,d=Ye.Default){return(gt||Fl)(W(c),d)}const el=so;function xa(c){const d=[];for(let m=0;m<c.length;m++){const C=W(c[m]);if(Array.isArray(C)){if(0===C.length)throw new Error("Arguments array must have arguments.");let S,I=Ye.Default;for(let G=0;G<C.length;G++){const ee=C[G],me=ed(ee);"number"==typeof me?-1===me?S=ee.token:I|=me:S=ee}d.push(so(S,I))}else d.push(so(C))}return d}function vl(c,d){return c[ml]=d,c.prototype[ml]=d,c}function ed(c){return c[ml]}const Hl=vl(Ds("Inject",c=>({token:c})),-1),Ys=vl(Ds("Optional"),8),Ha=vl(Ds("SkipSelf"),4);let cc;function fa(c){var d;return(null===(d=function(){if(void 0===cc&&(cc=null,gi.trustedTypes))try{cc=gi.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return cc}())||void 0===d?void 0:d.createHTML(c))||c}class Va{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ru extends Va{getTypeName(){return"HTML"}}class El extends Va{getTypeName(){return"Style"}}class Dc extends Va{getTypeName(){return"Script"}}class he extends Va{getTypeName(){return"URL"}}class ye extends Va{getTypeName(){return"ResourceURL"}}function $e(c){return c instanceof Va?c.changingThisBreaksApplicationSecurity:c}function ft(c,d){const m=Tt(c);if(null!=m&&m!==d){if("ResourceURL"===m&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${m} (see https://g.co/ng/security#xss)`)}return m===d}function Tt(c){return c instanceof Va&&c.getTypeName()||null}function $t(c){return new Ru(c)}function Mt(c){return new El(c)}function Vt(c){return new Dc(c)}function di(c){return new he(c)}function _i(c){return new ye(c)}class bn{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const m=(new window.DOMParser).parseFromString(fa(d),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(d):(m.removeChild(m.firstChild),m)}catch(m){return null}}}class ln{constructor(d){if(this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const m=this.inertDocument.createElement("html");this.inertDocument.appendChild(m);const C=this.inertDocument.createElement("body");m.appendChild(C)}}getInertBodyElement(d){const m=this.inertDocument.createElement("template");if("content"in m)return m.innerHTML=fa(d),m;const C=this.inertDocument.createElement("body");return C.innerHTML=fa(d),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(C),C}stripCustomNsAttrs(d){const m=d.attributes;for(let S=m.length-1;0<S;S--){const G=m.item(S).name;("xmlns:ns1"===G||0===G.indexOf("ns1:"))&&d.removeAttribute(G)}let C=d.firstChild;for(;C;)C.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(C),C=C.nextSibling}}const ao=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vr(c){return(c=String(c)).match(ao)||c.match(tr)?c:"unsafe:"+c}function cr(c){const d={};for(const m of c.split(","))d[m]=!0;return d}function ys(...c){const d={};for(const m of c)for(const C in m)m.hasOwnProperty(C)&&(d[C]=!0);return d}const os=cr("area,br,col,hr,img,wbr"),ko=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ua=cr("rp,rt"),tu=ys(os,ys(ko,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ys(Ua,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ys(Ua,ko)),dc=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mc=cr("srcset"),Ga=ys(dc,Mc,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Id=cr("script,style,template");class od{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let m=d.firstChild,C=!0;for(;m;)if(m.nodeType===Node.ELEMENT_NODE?C=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,C&&m.firstChild)m=m.firstChild;else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let S=this.checkClobberedElement(m,m.nextSibling);if(S){m=S;break}m=this.checkClobberedElement(m,m.parentNode)}return this.buf.join("")}startElement(d){const m=d.nodeName.toLowerCase();if(!tu.hasOwnProperty(m))return this.sanitizedSomething=!0,!Id.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const C=d.attributes;for(let S=0;S<C.length;S++){const I=C.item(S),G=I.name,ee=G.toLowerCase();if(!Ga.hasOwnProperty(ee)){this.sanitizedSomething=!0;continue}let me=I.value;dc[ee]&&(me=vr(me)),Mc[ee]&&(c=me,me=(c=String(c)).split(",").map(d=>vr(d.trim())).join(", ")),this.buf.push(" ",G,'="',iu(me),'"')}var c;return this.buf.push(">"),!0}endElement(d){const m=d.nodeName.toLowerCase();tu.hasOwnProperty(m)&&!os.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(d){this.buf.push(iu(d))}checkClobberedElement(d,m){if(m&&(d.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return m}}const Ad=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xc=/([^\#-~ |!])/g;function iu(c){return c.replace(/&/g,"&amp;").replace(Ad,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(xc,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rc;function rl(c,d){let m=null;try{Rc=Rc||function(c){const d=new ln(c);return function(){try{return!!(new window.DOMParser).parseFromString(fa(""),"text/html")}catch(c){return!1}}()?new bn(d):d}(c);let C=d?String(d):"";m=Rc.getInertBodyElement(C);let S=5,I=C;do{if(0===S)throw new Error("Failed to sanitize html because the input is unstable");S--,C=I,I=m.innerHTML,m=Rc.getInertBodyElement(C)}while(C!==I);return fa((new od).sanitizeChildren(jl(m)||m))}finally{if(m){const C=jl(m)||m;for(;C.firstChild;)C.removeChild(C.firstChild)}}}function jl(c){return"content"in c&&function(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var lo=(()=>((lo=lo||{})[lo.NONE=0]="NONE",lo[lo.HTML=1]="HTML",lo[lo.STYLE=2]="STYLE",lo[lo.SCRIPT=3]="SCRIPT",lo[lo.URL=4]="URL",lo[lo.RESOURCE_URL=5]="RESOURCE_URL",lo))();function nu(c){const d=function(){const c=Mi();return c&&c[12]}();return d?d.sanitize(lo.URL,c)||"":ft(c,"URL")?$e(c):vr(_e(c))}const cd="__ngContext__";function Es(c,d){c[cd]=d}function Pu(c){const d=function(c){return c[cd]||null}(c);return d?Array.isArray(d)?d:d.lView:null}function Bu(c){return c.ngOriginalError}function Vd(c,...d){c.error(...d)}class zl{constructor(){this._console=console}handleError(d){const m=this._findOriginalError(d),C=(c=d)&&c.ngErrorLogger||Vd;var c;C(this._console,"ERROR",d),m&&C(this._console,"ORIGINAL ERROR",m)}_findOriginalError(d){let m=d&&Bu(d);for(;m&&Bu(m);)m=Bu(m);return m||null}}const Xl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gi))();function Aa(c){return c instanceof Function?c():c}var _a=(()=>((_a=_a||{})[_a.Important=1]="Important",_a[_a.DashCase=2]="DashCase",_a))();function cu(c,d){return undefined(c,d)}function du(c){const d=c[3];return Lr(d)?d[3]:d}function hu(c){return Lc(c[13])}function ja(c){return Lc(c[4])}function Lc(c){for(;null!==c&&!Lr(c);)c=c[4];return c}function Wa(c,d,m,C,S){if(null!=C){let I,G=!1;Lr(C)?I=C:yr(C)&&(G=!0,C=C[0]);const ee=Se(C);0===c&&null!==m?null==S?Ue(d,m,ee):Ve(d,m,ee,S||null,!0):1===c&&null!==m?Ve(d,m,ee,S||null,!0):2===c?function(c,d,m){const C=mt(c,d);C&&function(c,d,m,C){Gn(c)?c.removeChild(d,m,C):d.removeChild(m)}(c,C,d,m)}(d,ee,G):3===c&&d.destroyNode(ee),null!=I&&function(c,d,m,C,S){const I=m[7];I!==Se(m)&&Wa(d,c,C,I,S);for(let ee=10;ee<m.length;ee++){const me=m[ee];ir(me[1],me,c,d,C,I)}}(d,c,I,m,S)}}function Jl(c,d,m){return Gn(c)?c.createElement(d,m):null===m?c.createElement(d):c.createElementNS(m,d)}function co(c,d){const m=c[9],C=m.indexOf(d),S=d[3];1024&d[2]&&(d[2]&=-1025,zr(S,-1)),m.splice(C,1)}function _d(c,d){if(c.length<=10)return;const m=10+d,C=c[m];if(C){const S=C[17];null!==S&&S!==c&&co(S,C),d>0&&(c[m-1][4]=C[4]);const I=na(c,10+d);!function(c,d){ir(c,d,d[11],2,null,null),d[0]=null,d[6]=null}(C[1],C);const G=I[19];null!==G&&G.detachView(I[1]),C[3]=null,C[4]=null,C[2]&=-129}return C}function pu(c,d){if(!(256&d[2])){const m=d[11];Gn(m)&&m.destroyNode&&ir(c,d,m,3,null,null),function(c){let d=c[13];if(!d)return E(c[1],c);for(;d;){let m=null;if(yr(d))m=d[13];else{const C=d[10];C&&(m=C)}if(!m){for(;d&&!d[4]&&d!==c;)yr(d)&&E(d[1],d),d=d[3];null===d&&(d=c),yr(d)&&E(d[1],d),m=d&&d[4]}d=m}}(d)}}function E(c,d){if(!(256&d[2])){d[2]&=-129,d[2]|=256,function(c,d){let m;if(null!=c&&null!=(m=c.destroyHooks))for(let C=0;C<m.length;C+=2){const S=d[m[C]];if(!(S instanceof ka)){const I=m[C+1];if(Array.isArray(I))for(let G=0;G<I.length;G+=2){const ee=S[I[G]],me=I[G+1];try{me.call(ee)}finally{}}else try{I.call(S)}finally{}}}}(c,d),function(c,d){const m=c.cleanup,C=d[7];let S=-1;if(null!==m)for(let I=0;I<m.length-1;I+=2)if("string"==typeof m[I]){const G=m[I+1],ee="function"==typeof G?G(d):Se(d[G]),me=C[S=m[I+2]],Fe=m[I+3];"boolean"==typeof Fe?ee.removeEventListener(m[I],me,Fe):Fe>=0?C[S=Fe]():C[S=-Fe].unsubscribe(),I+=2}else{const G=C[S=m[I+1]];m[I].call(G)}if(null!==C){for(let I=S+1;I<C.length;I++)C[I]();d[7]=null}}(c,d),1===d[1].type&&Gn(d[11])&&d[11].destroy();const m=d[17];if(null!==m&&Lr(d[3])){m!==d[3]&&co(m,d);const C=d[19];null!==C&&C.detachView(c)}}}function J(c,d,m){return function(c,d,m){let C=d;for(;null!==C&&40&C.type;)C=(d=C).parent;if(null===C)return m[0];if(2&C.flags){const S=c.data[C.directiveStart].encapsulation;if(S===Zt.None||S===Zt.Emulated)return null}return Ce(C,m)}(c,d.parent,m)}function Ve(c,d,m,C,S){Gn(c)?c.insertBefore(d,m,C,S):d.insertBefore(m,C,S)}function Ue(c,d,m){Gn(c)?c.appendChild(d,m):d.appendChild(m)}function tt(c,d,m,C,S){null!==C?Ve(c,d,m,C,S):Ue(c,d,m)}function mt(c,d){return Gn(c)?c.parentNode(d):d.parentNode}function Gt(c,d,m){return si(c,d,m)}let si=function(c,d,m){return 40&c.type?Ce(c,m):null};function Oi(c,d,m,C){const S=J(c,C,d),I=d[11],ee=Gt(C.parent||d[6],C,d);if(null!=S)if(Array.isArray(m))for(let me=0;me<m.length;me++)tt(I,S,m[me],ee,!1);else tt(I,S,m,ee,!1)}function $i(c,d){if(null!==d){const m=d.type;if(3&m)return Ce(d,c);if(4&m)return Xn(-1,c[d.index]);if(8&m){const C=d.child;if(null!==C)return $i(c,C);{const S=c[d.index];return Lr(S)?Xn(-1,S):Se(S)}}if(32&m)return cu(d,c)()||Se(c[d.index]);{const C=xi(c,d);return null!==C?Array.isArray(C)?C[0]:$i(du(c[16]),C):$i(c,d.next)}}return null}function xi(c,d){return null!==d?c[16][6].projection[d.projection]:null}function Xn(c,d){const m=10+c+1;if(m<d.length){const C=d[m],S=C[1].firstChild;if(null!==S)return $i(C,S)}return d[7]}function Rr(c,d,m,C,S,I,G){for(;null!=m;){const ee=C[m.index],me=m.type;if(G&&0===d&&(ee&&Es(Se(ee),C),m.flags|=4),64!=(64&m.flags))if(8&me)Rr(c,d,m.child,C,S,I,!1),Wa(d,c,S,ee,I);else if(32&me){const Fe=cu(m,C);let qe;for(;qe=Fe();)Wa(d,c,S,qe,I);Wa(d,c,S,ee,I)}else 16&me?Xe(c,d,C,m,S,I):Wa(d,c,S,ee,I);m=G?m.projectionNext:m.next}}function ir(c,d,m,C,S,I){Rr(m,C,c.firstChild,d,S,I,!1)}function Xe(c,d,m,C,S,I){const G=m[16],me=G[6].projection[C.projection];if(Array.isArray(me))for(let Fe=0;Fe<me.length;Fe++)Wa(d,c,S,me[Fe],I);else Rr(c,d,me,G[3],S,I,!0)}function To(c,d,m){Gn(c)?c.setAttribute(d,"style",m):d.style.cssText=m}function Wn(c,d,m){Gn(c)?""===m?c.removeAttribute(d,"class"):c.setAttribute(d,"class",m):d.className=m}function Po(c,d,m){let C=c.length;for(;;){const S=c.indexOf(d,m);if(-1===S)return S;if(0===S||c.charCodeAt(S-1)<=32){const I=d.length;if(S+I===C||c.charCodeAt(S+I)<=32)return S}m=S+1}}const ba="ng-template";function ya(c,d,m){let C=0;for(;C<c.length;){let S=c[C++];if(m&&"class"===S){if(S=c[C],-1!==Po(S.toLowerCase(),d,0))return!0}else if(1===S){for(;C<c.length&&"string"==typeof(S=c[C++]);)if(S.toLowerCase()===d)return!0;return!1}}return!1}function Zl(c){return 4===c.type&&c.value!==ba}function Wu(c,d,m){return d===(4!==c.type||m?c.value:ba)}function vd(c,d,m){let C=4;const S=c.attrs||[],I=function(c){for(let d=0;d<c.length;d++)if(Rl(c[d]))return d;return c.length}(S);let G=!1;for(let ee=0;ee<d.length;ee++){const me=d[ee];if("number"!=typeof me){if(!G)if(4&C){if(C=2|1&C,""!==me&&!Wu(c,me,m)||""===me&&1===d.length){if(oa(C))return!1;G=!0}}else{const Fe=8&C?me:d[++ee];if(8&C&&null!==c.attrs){if(!ya(c.attrs,Fe,m)){if(oa(C))return!1;G=!0}continue}const bt=Yd(8&C?"class":me,S,Zl(c),m);if(-1===bt){if(oa(C))return!1;G=!0;continue}if(""!==Fe){let Ft;Ft=bt>I?"":S[bt+1].toLowerCase();const ni=8&C?Ft:null;if(ni&&-1!==Po(ni,Fe,0)||2&C&&Fe!==Ft){if(oa(C))return!1;G=!0}}}}else{if(!G&&!oa(C)&&!oa(me))return!1;if(G&&oa(me))continue;G=!1,C=me|1&C}}return oa(C)||G}function oa(c){return 0==(1&c)}function Yd(c,d,m,C){if(null===d)return-1;let S=0;if(C||!m){let I=!1;for(;S<d.length;){const G=d[S];if(G===c)return S;if(3===G||6===G)I=!0;else{if(1===G||2===G){let ee=d[++S];for(;"string"==typeof ee;)ee=d[++S];continue}if(4===G)break;if(0===G){S+=4;continue}}S+=I?1:2}return-1}return function(c,d){let m=c.indexOf(4);if(m>-1)for(m++;m<c.length;){const C=c[m];if("number"==typeof C)return-1;if(C===d)return m;m++}return-1}(d,c)}function Xd(c,d,m=!1){for(let C=0;C<d.length;C++)if(vd(c,d[C],m))return!0;return!1}function ur(c,d){e:for(let m=0;m<d.length;m++){const C=d[m];if(c.length===C.length){for(let S=0;S<c.length;S++)if(c[S]!==C[S])continue e;return!0}}return!1}function _o(c,d){return c?":not("+d.trim()+")":d}function Ap(c){let d=c[0],m=1,C=2,S="",I=!1;for(;m<c.length;){let G=c[m];if("string"==typeof G)if(2&C){const ee=c[++m];S+="["+G+(ee.length>0?'="'+ee+'"':"")+"]"}else 8&C?S+="."+G:4&C&&(S+=" "+G);else""!==S&&!oa(G)&&(d+=_o(I,S),S=""),C=G,I=I||!oa(C);m++}return""!==S&&(d+=_o(I,S)),d}const Pn={};function Yu(c){Xh(xn(),Mi(),rn()+c,mi())}function Xh(c,d,m,C){if(!C)if(3==(3&d[2])){const I=c.preOrderCheckHooks;null!==I&&zs(d,I,m)}else{const I=c.preOrderHooks;null!==I&&fo(d,I,0,m)}In(m)}function Xu(c,d){return c<<17|d<<2}function wl(c){return c>>17&32767}function za(c){return 2|c}function Sl(c){return(131068&c)>>2}function Kd(c,d){return-131069&c|d<<2}function fu(c){return 1|c}function Lp(c,d){const m=c.contentQueries;if(null!==m)for(let C=0;C<m.length;C+=2){const S=m[C],I=m[C+1];if(-1!==I){const G=c.data[I];Vr(S),G.contentQueries(2,d[I],I)}}}function nh(c,d,m,C,S,I,G,ee,me,Fe){const qe=d.blueprint.slice();return qe[0]=S,qe[2]=140|C,er(qe),qe[3]=qe[15]=c,qe[8]=m,qe[10]=G||c&&c[10],qe[11]=ee||c&&c[11],qe[12]=me||c&&c[12]||null,qe[9]=Fe||c&&c[9]||null,qe[6]=I,qe[16]=2==d.type?c[16]:qe,qe}function Cd(c,d,m,C,S){let I=c.data[d];if(null===I)I=function(c,d,m,C,S){const I=j(),G=st(),me=c.data[d]=function(c,d,m,C,S,I){return{type:m,index:C,insertBeforeIndex:null,injectorIndex:d?d.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:S,attrs:I,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,G?I:I&&I.parent,m,d,C,S);return null===c.firstChild&&(c.firstChild=me),null!==I&&(G?null==I.child&&null!==me.parent&&(I.child=me):null===I.next&&(I.next=me)),me}(c,d,m,C,S),on.lFrame.inI18n&&(I.flags|=64);else if(64&I.type){I.type=m,I.value=C,I.attrs=S;const G=function(){const c=on.lFrame,d=c.currentTNode;return c.isParent?d:d.parent}();I.injectorIndex=null===G?-1:G.injectorIndex}return je(I,!0),I}function Td(c,d,m,C){if(0===m)return-1;const S=d.length;for(let I=0;I<m;I++)d.push(C),c.blueprint.push(C),c.data.push(null);return S}function rh(c,d,m){hs(d);try{const C=c.viewQuery;null!==C&&up(1,C,m);const S=c.template;null!==S&&Fp(c,d,S,1,m),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&Lp(c,d),c.staticViewQueries&&up(2,c.viewQuery,m);const I=c.components;null!==I&&function(c,d){for(let m=0;m<d.length;m++)$f(c,d[m])}(d,I)}catch(C){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),C}finally{d[2]&=-5,ua()}}function wd(c,d,m,C){const S=d[2];if(256==(256&S))return;hs(d);const I=mi();try{er(d),function(c){on.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==m&&Fp(c,d,m,2,C);const G=3==(3&S);if(!I)if(G){const Fe=c.preOrderCheckHooks;null!==Fe&&zs(d,Fe,null)}else{const Fe=c.preOrderHooks;null!==Fe&&fo(d,Fe,0,null),jo(d,0)}if(function(c){for(let d=hu(c);null!==d;d=ja(d)){if(!d[2])continue;const m=d[9];for(let C=0;C<m.length;C++){const S=m[C],I=S[3];0==(1024&S[2])&&zr(I,1),S[2]|=1024}}}(d),function(c){for(let d=hu(c);null!==d;d=ja(d))for(let m=10;m<d.length;m++){const C=d[m],S=C[1];Vn(C)&&wd(S,C,S.template,C[8])}}(d),null!==c.contentQueries&&Lp(c,d),!I)if(G){const Fe=c.contentCheckHooks;null!==Fe&&zs(d,Fe)}else{const Fe=c.contentHooks;null!==Fe&&fo(d,Fe,1),jo(d,1)}!function(c,d){const m=c.hostBindingOpCodes;if(null!==m)try{for(let C=0;C<m.length;C++){const S=m[C];if(S<0)In(~S);else{const I=S,G=m[++C],ee=m[++C];xr(G,I),ee(2,d[I])}}}finally{In(-1)}}(c,d);const ee=c.components;null!==ee&&function(c,d){for(let m=0;m<d.length;m++)$p(c,d[m])}(d,ee);const me=c.viewQuery;if(null!==me&&up(2,me,C),!I)if(G){const Fe=c.viewCheckHooks;null!==Fe&&zs(d,Fe)}else{const Fe=c.viewHooks;null!==Fe&&fo(d,Fe,2),jo(d,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),I||(d[2]&=-73),1024&d[2]&&(d[2]&=-1025,zr(d[3],-1))}finally{ua()}}function Np(c,d,m,C){const S=d[10],I=!mi(),G=Dn(d);try{I&&!G&&S.begin&&S.begin(),G&&rh(c,d,C),wd(c,d,m,C)}finally{I&&!G&&S.end&&S.end()}}function Fp(c,d,m,C,S){const I=rn(),G=2&C;try{In(-1),G&&d.length>20&&Xh(c,d,20,mi()),m(C,S)}finally{In(I)}}function Bp(c,d,m){if(Cs(d)){const S=d.directiveEnd;for(let I=d.directiveStart;I<S;I++){const G=c.data[I];G.contentQueries&&G.contentQueries(1,m[I],I)}}}function ip(c,d,m){!Vo()||(function(c,d,m,C){const S=m.directiveStart,I=m.directiveEnd;c.firstCreatePass||X(m,d),Es(C,d);const G=m.initialInputs;for(let ee=S;ee<I;ee++){const me=c.data[ee],Fe=qn(me);Fe&&jf(d,m,me);const qe=is(d,c,ee,m);Es(qe,d),null!==G&&Wf(0,ee-S,qe,me,0,G),Fe&&(mn(m.index,d)[8]=qe)}}(c,d,m,Ce(m,d)),128==(128&m.flags)&&function(c,d,m){const C=m.directiveStart,S=m.directiveEnd,G=m.index,ee=on.lFrame.currentDirectiveIndex;try{In(G);for(let me=C;me<S;me++){const Fe=c.data[me],qe=d[me];Hr(me),(null!==Fe.hostBindings||0!==Fe.hostVars||null!==Fe.hostAttrs)&&rp(Fe,qe)}}finally{In(-1),Hr(ee)}}(c,d,m))}function mu(c,d,m=Ce){const C=d.localNames;if(null!==C){let S=d.index+1;for(let I=0;I<C.length;I+=2){const G=C[I+1],ee=-1===G?m(d,c):c[G];c[S++]=ee}}}function Hp(c){const d=c.tView;return null===d||d.incompleteFirstPass?c.tView=yh(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):d}function yh(c,d,m,C,S,I,G,ee,me,Fe){const qe=20+C,bt=qe+S,Ft=function(c,d){const m=[];for(let C=0;C<d;C++)m.push(C<c?null:Pn);return m}(qe,bt),ni="function"==typeof Fe?Fe():Fe;return Ft[1]={type:c,blueprint:Ft,template:m,queries:null,viewQuery:ee,declTNode:d,data:Ft.slice().fill(null,qe),bindingStartIndex:qe,expandoStartIndex:bt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof G?G():G,firstChild:null,schemas:me,consts:ni,incompleteFirstPass:!1}}function Gp(c,d,m,C){const S=Zp(d);null===m?S.push(C):(S.push(m),c.firstCreatePass&&dp(c).push(C,S.length-1))}function jp(c,d,m){for(let C in c)if(c.hasOwnProperty(C)){const S=c[C];(m=null===m?{}:m).hasOwnProperty(C)?m[C].push(d,S):m[C]=[d,S]}return m}function Ea(c,d,m,C,S,I,G,ee){const me=Ce(d,m);let qe,Fe=d.inputs;!ee&&null!=Fe&&(qe=Fe[C])?(ef(c,m,qe,C,S),yn(d)&&function(c,d){const m=mn(d,c);16&m[2]||(m[2]|=64)}(m,d.index)):3&d.type&&(C=function(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(C),S=null!=G?G(S,d.value||"",C):S,Gn(I)?I.setProperty(me,C,S):Il(C)||(me.setProperty?me.setProperty(C,S):me[C]=S))}function np(c,d,m,C){let S=!1;if(Vo()){const I=function(c,d,m){const C=c.directiveRegistry;let S=null;if(C)for(let I=0;I<C.length;I++){const G=C[I];Xd(m,G.selectors,!1)&&(S||(S=[]),wt(X(m,d),c,G.type),qn(G)?(Yp(c,m),S.unshift(G)):S.push(G))}return S}(c,d,m),G=null===C?null:{"":-1};if(null!==I){S=!0,Xp(m,c.data.length,I.length);for(let qe=0;qe<I.length;qe++){const bt=I[qe];bt.providersResolver&&bt.providersResolver(bt)}let ee=!1,me=!1,Fe=Td(c,d,I.length,null);for(let qe=0;qe<I.length;qe++){const bt=I[qe];m.mergedAttrs=Ps(m.mergedAttrs,bt.hostAttrs),Kp(c,m,d,Fe,bt),Gf(Fe,bt,G),null!==bt.contentQueries&&(m.flags|=8),(null!==bt.hostBindings||null!==bt.hostAttrs||0!==bt.hostVars)&&(m.flags|=128);const Ft=bt.type.prototype;!ee&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(m.index),ee=!0),!me&&(Ft.ngOnChanges||Ft.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(m.index),me=!0),Fe++}!function(c,d){const C=d.directiveEnd,S=c.data,I=d.attrs,G=[];let ee=null,me=null;for(let Fe=d.directiveStart;Fe<C;Fe++){const qe=S[Fe],bt=qe.inputs,Ft=null===I||Zl(d)?null:zf(bt,I);G.push(Ft),ee=jp(bt,Fe,ee),me=jp(qe.outputs,Fe,me)}null!==ee&&(ee.hasOwnProperty("class")&&(d.flags|=16),ee.hasOwnProperty("style")&&(d.flags|=32)),d.initialInputs=G,d.inputs=ee,d.outputs=me}(c,m)}G&&function(c,d,m){if(d){const C=c.localNames=[];for(let S=0;S<d.length;S+=2){const I=m[d[S+1]];if(null==I)throw new ae("301",`Export of name '${d[S+1]}' not found!`);C.push(d[S],I)}}}(m,C,G)}return m.mergedAttrs=Ps(m.mergedAttrs,m.attrs),S}function zp(c,d,m,C,S,I){const G=I.hostBindings;if(G){let ee=c.hostBindingOpCodes;null===ee&&(ee=c.hostBindingOpCodes=[]);const me=~d.index;(function(c){let d=c.length;for(;d>0;){const m=c[--d];if("number"==typeof m&&m<0)return m}return 0})(ee)!=me&&ee.push(me),ee.push(C,S,G)}}function rp(c,d){null!==c.hostBindings&&c.hostBindings(1,d)}function Yp(c,d){d.flags|=2,(c.components||(c.components=[])).push(d.index)}function Gf(c,d,m){if(m){if(d.exportAs)for(let C=0;C<d.exportAs.length;C++)m[d.exportAs[C]]=c;qn(d)&&(m[""]=c)}}function Xp(c,d,m){c.flags|=1,c.directiveStart=d,c.directiveEnd=d+m,c.providerIndexes=d}function Kp(c,d,m,C,S){c.data[C]=S;const I=S.factory||(S.factory=cs(S.type)),G=new ka(I,qn(S),null);c.blueprint[C]=G,m[C]=G,zp(c,d,0,C,Td(c,m,S.hostVars,Pn),S)}function jf(c,d,m){const C=Ce(d,c),S=Hp(m),I=c[10],G=Eh(c,nh(c,S,null,m.onPush?64:16,C,d,I,I.createRenderer(C,m),null,null));c[d.index]=G}function fc(c,d,m,C,S,I){const G=Ce(c,d);!function(c,d,m,C,S,I,G){if(null==I)Gn(c)?c.removeAttribute(d,S,m):d.removeAttribute(S);else{const ee=null==G?_e(I):G(I,C||"",S);Gn(c)?c.setAttribute(d,S,ee,m):m?d.setAttributeNS(m,S,ee):d.setAttribute(S,ee)}}(d[11],G,I,c.value,m,C,S)}function Wf(c,d,m,C,S,I){const G=I[d];if(null!==G){const ee=C.setInput;for(let me=0;me<G.length;){const Fe=G[me++],qe=G[me++],bt=G[me++];null!==ee?C.setInput(m,bt,Fe,qe):m[qe]=bt}}}function zf(c,d){let m=null,C=0;for(;C<d.length;){const S=d[C];if(0!==S)if(5!==S){if("number"==typeof S)break;c.hasOwnProperty(S)&&(null===m&&(m=[]),m.push(S,c[S],d[C+1])),C+=2}else C+=2;else C+=4}return m}function Yf(c,d,m,C){return new Array(c,!0,!1,d,null,0,C,m,null,null)}function $p(c,d){const m=mn(d,c);if(Vn(m)){const C=m[1];80&m[2]?wd(C,m,C.template,m[8]):m[5]>0&&Sd(m)}}function Sd(c){for(let C=hu(c);null!==C;C=ja(C))for(let S=10;S<C.length;S++){const I=C[S];if(1024&I[2]){const G=I[1];wd(G,I,G.template,I[8])}else I[5]>0&&Sd(I)}const m=c[1].components;if(null!==m)for(let C=0;C<m.length;C++){const S=mn(m[C],c);Vn(S)&&S[5]>0&&Sd(S)}}function $f(c,d){const m=mn(d,c),C=m[1];(function(c,d){for(let m=d.length;m<c.blueprint.length;m++)d.push(c.blueprint[m])})(C,m),rh(C,m,m[8])}function Eh(c,d){return c[13]?c[14][4]=d:c[13]=d,c[14]=d,d}function ap(c){for(;c;){c[2]|=64;const d=du(c);if(wo(c)&&!d)return c;c=d}return null}function cp(c,d,m){const C=d[10];C.begin&&C.begin();try{wd(c,d,c.template,m)}catch(S){throw qp(d,S),S}finally{C.end&&C.end()}}function Jp(c){!function(c){for(let d=0;d<c.components.length;d++){const m=c.components[d],C=Pu(m),S=C[1];Np(S,C,S.template,m)}}(c[8])}function up(c,d,m){Vr(0),d(c,m)}const Ch=(()=>Promise.resolve(null))();function Zp(c){return c[7]||(c[7]=[])}function dp(c){return c.cleanup||(c.cleanup=[])}function Qp(c,d,m){return(null===c||qn(c))&&(m=function(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(m[d.index])),m[11]}function qp(c,d){const m=c[9],C=m?m.get(zl,null):null;C&&C.handleError(d)}function ef(c,d,m,C,S){for(let I=0;I<m.length;){const G=m[I++],ee=m[I++],me=d[G],Fe=c.data[G];null!==Fe.setInput?Fe.setInput(me,S,C,ee):me[ee]=S}}function Vc(c,d,m){const C=B(d,c);!function(c,d,m){Gn(c)?c.setValue(d,m):d.textContent=m}(c[11],C,m)}function Th(c,d,m){let C=m?c.styles:null,S=m?c.classes:null,I=0;if(null!==d)for(let G=0;G<d.length;G++){const ee=d[G];"number"==typeof ee?I=ee:1==I?S=w(S,ee):2==I&&(C=w(C,ee+": "+d[++G]+";"))}m?c.styles=C:c.stylesWithoutHost=C,m?c.classes=S:c.classesWithoutHost=S}const wh=new eo("INJECTOR",-1);class _u{get(d,m=Ll){if(m===Ll){const C=new Error(`NullInjectorError: No provider for ${b(d)}!`);throw C.name="NullInjectorError",C}return m}}const hp=new eo("Set Injector scope."),Sh={},eg={};let pp;function fp(){return void 0===pp&&(pp=new _u),pp}function tf(c,d=null,m=null,C){const S=nf(c,d,m,C);return S._resolveInjectorDefTypes(),S}function nf(c,d=null,m=null,C){return new Dh(c,m,d||fp(),C)}class Dh{constructor(d,m,C,S=null){this.parent=C,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const I=[];m&&pa(m,ee=>this.processProvider(ee,d,m)),pa([d],ee=>this.processInjectorType(ee,[],I)),this.records.set(wh,Dd(void 0,this));const G=this.records.get(hp);this.scope=null!=G?G.value:null,this.source=S||("object"==typeof d?null:b(d))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(d=>d.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(d,m=Ll,C=Ye.Default){this.assertNotDestroyed();const S=Ec(this),I=rt(void 0);try{if(!(C&Ye.SkipSelf)){let ee=this.records.get(d);if(void 0===ee){const me=("function"==typeof(c=d)||"object"==typeof c&&c instanceof eo)&&_t(d);ee=me&&this.injectableDefInScope(me)?Dd(Mh(d),Sh):null,this.records.set(d,ee)}if(null!=ee)return this.hydrate(d,ee)}return(C&Ye.Self?fp():this.parent).get(d,m=C&Ye.Optional&&m===Ll?null:m)}catch(G){if("NullInjectorError"===G.name){if((G[Ur]=G[Ur]||[]).unshift(b(d)),S)throw G;return function(c,d,m,C){const S=c[Ur];throw d[Nl]&&S.unshift(d[Nl]),c.message=function(c,d,m,C=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let S=b(d);if(Array.isArray(d))S=d.map(b).join(" -> ");else if("object"==typeof d){let I=[];for(let G in d)if(d.hasOwnProperty(G)){let ee=d[G];I.push(G+":"+("string"==typeof ee?JSON.stringify(ee):b(ee)))}S=`{${I.join(", ")}}`}return`${m}${C?"("+C+")":""}[${S}]: ${c.replace(_l,"\n  ")}`}("\n"+c.message,S,m,C),c.ngTokenPath=S,c[Ur]=null,c}(G,d,"R3InjectorError",this.source)}throw G}finally{rt(I),Ec(S)}var c}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(d=>this.get(d))}toString(){const d=[];return this.records.forEach((C,S)=>d.push(b(S))),`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(d,m,C){if(!(d=W(d)))return!1;let S=Le(d);const I=null==S&&d.ngModule||void 0,G=void 0===I?d:I,ee=-1!==C.indexOf(G);if(void 0!==I&&(S=Le(I)),null==S)return!1;if(null!=S.imports&&!ee){let qe;C.push(G);try{pa(S.imports,bt=>{this.processInjectorType(bt,m,C)&&(void 0===qe&&(qe=[]),qe.push(bt))})}finally{}if(void 0!==qe)for(let bt=0;bt<qe.length;bt++){const{ngModule:Ft,providers:ni}=qe[bt];pa(ni,wi=>this.processProvider(wi,Ft,ni||Wt))}}this.injectorDefTypes.add(G);const me=cs(G)||(()=>new G);this.records.set(G,Dd(me,Sh));const Fe=S.providers;if(null!=Fe&&!ee){const qe=d;pa(Fe,bt=>this.processProvider(bt,qe,Fe))}return void 0!==I&&void 0!==d.providers}processProvider(d,m,C){let S=Md(d=W(d))?d:W(d&&d.provide);const I=(c=d,sf(c)?Dd(void 0,c.useValue):Dd(rf(c),Sh));var c;if(Md(d)||!0!==d.multi)this.records.get(S);else{let G=this.records.get(S);G||(G=Dd(void 0,Sh,!0),G.factory=()=>xa(G.multi),this.records.set(S,G)),S=d,G.multi.push(d)}this.records.set(S,I)}hydrate(d,m){return m.value===Sh&&(m.value=eg,m.value=m.factory()),"object"==typeof m.value&&m.value&&null!==(c=m.value)&&"object"==typeof c&&"function"==typeof c.ngOnDestroy&&this.onDestroy.add(m.value),m.value;var c}injectableDefInScope(d){if(!d.providedIn)return!1;const m=W(d.providedIn);return"string"==typeof m?"any"===m||m===this.scope:this.injectorDefTypes.has(m)}}function Mh(c){const d=_t(c),m=null!==d?d.factory:cs(c);if(null!==m)return m;if(c instanceof eo)throw new Error(`Token ${b(c)} is missing a \u0275prov definition.`);if(c instanceof Function)return function(c){const d=c.length;if(d>0){const C=kl(d,"?");throw new Error(`Can't resolve all parameters for ${b(c)}: (${C.join(", ")}).`)}const m=function(c){const d=c&&(c[dt]||c[lt]);if(d){const m=function(c){if(c.hasOwnProperty("name"))return c.name;const d=(""+c).match(/^function\s*([^\s(]+)/);return null===d?"":d[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${m}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${m}" class.`),d}return null}(c);return null!==m?()=>m.factory(c):()=>new c}(c);throw new Error("unreachable")}function rf(c,d,m){let C;if(Md(c)){const S=W(c);return cs(S)||Mh(S)}if(sf(c))C=()=>W(c.useValue);else if(function(c){return!(!c||!c.useFactory)}(c))C=()=>c.useFactory(...xa(c.deps||[]));else if(function(c){return!(!c||!c.useExisting)}(c))C=()=>so(W(c.useExisting));else{const S=W(c&&(c.useClass||c.provide));if(!function(c){return!!c.deps}(c))return cs(S)||Mh(S);C=()=>new S(...xa(c.deps))}return C}function Dd(c,d,m=!1){return{factory:c,value:d,multi:m?[]:void 0}}function sf(c){return null!==c&&"object"==typeof c&&vs in c}function Md(c){return"function"==typeof c}let Lo=(()=>{class c{static create(m,C){var S;if(Array.isArray(m))return tf({name:""},C,m,"");{const I=null!==(S=m.name)&&void 0!==S?S:"";return tf({name:I},m.parent,m.providers,I)}}}return c.THROW_IF_NOT_FOUND=Ll,c.NULL=new _u,c.\u0275prov=Lt({token:c,providedIn:"any",factory:()=>so(wh)}),c.__NG_ELEMENT_ID__=-1,c})();function zn(c,d){fs(Pu(c)[1],F())}function Or(c){let d=function(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),m=!0;const C=[c];for(;d;){let S;if(qn(c))S=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Error("Directives cannot inherit Components");S=d.\u0275dir}if(S){if(m){C.push(S);const G=c;G.inputs=Yi(c.inputs),G.declaredInputs=Yi(c.declaredInputs),G.outputs=Yi(c.outputs);const ee=S.hostBindings;ee&&nr(c,ee);const me=S.viewQuery,Fe=S.contentQueries;if(me&&Sn(c,me),Fe&&Xr(c,Fe),u(c.inputs,S.inputs),u(c.declaredInputs,S.declaredInputs),u(c.outputs,S.outputs),qn(S)&&S.data.animation){const qe=c.data;qe.animation=(qe.animation||[]).concat(S.data.animation)}}const I=S.features;if(I)for(let G=0;G<I.length;G++){const ee=I[G];ee&&ee.ngInherit&&ee(c),ee===Or&&(m=!1)}}d=Object.getPrototypeOf(d)}!function(c){let d=0,m=null;for(let C=c.length-1;C>=0;C--){const S=c[C];S.hostVars=d+=S.hostVars,S.hostAttrs=Ps(S.hostAttrs,m=Ps(m,S.hostAttrs))}}(C)}function Yi(c){return c===ut?{}:c===Wt?[]:c}function Sn(c,d){const m=c.viewQuery;c.viewQuery=m?(C,S)=>{d(C,S),m(C,S)}:d}function Xr(c,d){const m=c.contentQueries;c.contentQueries=m?(C,S,I)=>{d(C,S,I),m(C,S,I)}:d}function nr(c,d){const m=c.hostBindings;c.hostBindings=m?(C,S)=>{d(C,S),m(C,S)}:d}let fn=null;function Ir(){if(!fn){const c=gi.Symbol;if(c&&c.iterator)fn=c.iterator;else{const d=Object.getOwnPropertyNames(Map.prototype);for(let m=0;m<d.length;++m){const C=d[m];"entries"!==C&&"size"!==C&&Map.prototype[C]===Map.prototype.entries&&(fn=C)}}}return fn}function Ml(c){return!!to(c)&&(Array.isArray(c)||!(c instanceof Map)&&Ir()in c)}function to(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function ss(c,d,m){return c[d]=m}function Ya(c,d,m){return!Object.is(c[d],m)&&(c[d]=m,!0)}function ah(c,d,m,C){const S=Ya(c,d,m);return Ya(c,d+1,C)||S}function lg(c,d,m,C){const S=Mi();return Ya(S,en(),d)&&(xn(),fc(An(),S,c,d,m,C)),lg}function Ih(c,d,m,C){return Ya(c,en(),m)?d+_e(m)+C:Pn}function Oh(c,d,m,C,S,I,G,ee){const Fe=function(c,d,m,C,S){const I=ah(c,d,m,C);return Ya(c,d+2,S)||I}(c,un(),m,S,G);return _n(3),Fe?d+_e(m)+C+_e(S)+I+_e(G)+ee:Pn}function jm(c,d,m,C,S,I,G,ee){const me=Mi(),Fe=xn(),qe=c+20,bt=Fe.firstCreatePass?function(c,d,m,C,S,I,G,ee,me){const Fe=d.consts,qe=Cd(d,c,4,G||null,gr(Fe,ee));np(d,m,qe,gr(Fe,me)),fs(d,qe);const bt=qe.tViews=yh(2,qe,C,S,I,d.directiveRegistry,d.pipeRegistry,null,d.schemas,Fe);return null!==d.queries&&(d.queries.template(d,qe),bt.queries=d.queries.embeddedTView(qe)),qe}(qe,Fe,me,d,m,C,S,I,G):Fe.data[qe];je(bt,!1);const Ft=me[11].createComment("");Oi(Fe,me,Ft,bt),Es(Ft,me),Eh(me,me[qe]=Yf(Ft,me,Ft,bt)),Fo(bt)&&ip(Fe,me,bt),null!=G&&mu(me,bt,ee)}function Wm(c){return Li(on.lFrame.contextLView,20+c)}function mp(c,d=Ye.Default){const m=Mi();return null===m?so(c,d):Fn(F(),m,W(c),d)}function t_(){throw new Error("invalid")}function pg(c,d,m){const C=Mi();return Ya(C,en(),d)&&Ea(xn(),An(),C,c,d,C[11],m,!1),pg}function fg(c,d,m,C,S){const G=S?"class":"style";ef(c,m,d.inputs[G],G,C)}function gg(c,d,m,C){const S=Mi(),I=xn(),G=20+c,ee=S[11],me=S[G]=Jl(ee,d,on.lFrame.currentNamespace),Fe=I.firstCreatePass?function(c,d,m,C,S,I,G){const ee=d.consts,Fe=Cd(d,c,2,S,gr(ee,I));return np(d,m,Fe,gr(ee,G)),null!==Fe.attrs&&Th(Fe,Fe.attrs,!1),null!==Fe.mergedAttrs&&Th(Fe,Fe.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,Fe),Fe}(G,I,S,0,d,m,C):I.data[G];je(Fe,!0);const qe=Fe.mergedAttrs;null!==qe&&La(ee,me,qe);const bt=Fe.classes;null!==bt&&Wn(ee,me,bt);const Ft=Fe.styles;null!==Ft&&To(ee,me,Ft),64!=(64&Fe.flags)&&Oi(I,S,me,Fe),0===on.lFrame.elementDepthCount&&Es(me,S),on.lFrame.elementDepthCount++,Fo(Fe)&&(ip(I,S,Fe),Bp(I,Fe,S)),null!==C&&mu(S,Fe)}function mg(){let c=F();st()?xt():(c=c.parent,je(c,!1));const d=c;on.lFrame.elementDepthCount--;const m=xn();m.firstCreatePass&&(fs(m,c),Cs(c)&&m.queries.elementEnd(c)),null!=d.classesWithoutHost&&function(c){return 0!=(16&c.flags)}(d)&&fg(m,d,Mi(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function(c){return 0!=(32&c.flags)}(d)&&fg(m,d,Mi(),d.stylesWithoutHost,!1)}function i_(c,d,m,C){gg(c,d,m,C),mg()}function _g(c,d,m){const C=Mi(),S=xn(),I=c+20,G=S.firstCreatePass?function(c,d,m,C,S){const I=d.consts,G=gr(I,C),ee=Cd(d,c,8,"ng-container",G);return null!==G&&Th(ee,G,!0),np(d,m,ee,gr(I,S)),null!==d.queries&&d.queries.elementStart(d,ee),ee}(I,S,C,d,m):S.data[I];je(G,!0);const ee=C[I]=C[11].createComment("");Oi(S,C,ee,G),Es(ee,C),Fo(G)&&(ip(S,C,G),Bp(S,G,C)),null!=m&&mu(C,G)}function vg(){let c=F();const d=xn();st()?xt():(c=c.parent,je(c,!1)),d.firstCreatePass&&(fs(d,c),Cs(c)&&d.queries.elementEnd(c))}function n_(c,d,m){_g(c,d,m),vg()}function r_(){return Mi()}function bg(c){return!!c&&"function"==typeof c.then}function o_(c){return!!c&&"function"==typeof c.subscribe}const s_=o_;function yg(c,d,m,C){const S=Mi(),I=xn(),G=F();return a_(I,S,S[11],G,c,d,!!m,C),yg}function Eg(c,d){const m=F(),C=Mi(),S=xn();return a_(S,C,Qp(Go(S.data),m,C),m,c,d,!1),Eg}function a_(c,d,m,C,S,I,G,ee){const me=Fo(C),qe=c.firstCreatePass&&dp(c),bt=d[8],Ft=Zp(d);let ni=!0;if(3&C.type||ee){const Ji=Ce(C,d),gn=ee?ee(Ji):Ji,Ri=Ft.length,Cn=ee?br=>ee(Se(br[C.index])):C.index;if(Gn(m)){let br=null;if(!ee&&me&&(br=function(c,d,m,C){const S=c.cleanup;if(null!=S)for(let I=0;I<S.length-1;I+=2){const G=S[I];if(G===m&&S[I+1]===C){const ee=d[7],me=S[I+2];return ee.length>me?ee[me]:null}"string"==typeof G&&(I+=2)}return null}(c,d,S,C.index)),null!==br)(br.__ngLastListenerFn__||br).__ngNextListenerFn__=I,br.__ngLastListenerFn__=I,ni=!1;else{I=Cg(C,d,bt,I,!1);const io=m.listen(gn,S,I);Ft.push(I,io),qe&&qe.push(S,Cn,Ri,Ri+1)}}else I=Cg(C,d,bt,I,!0),gn.addEventListener(S,I,G),Ft.push(I),qe&&qe.push(S,Cn,Ri,G)}else I=Cg(C,d,bt,I,!1);const wi=C.outputs;let Vi;if(ni&&null!==wi&&(Vi=wi[S])){const Ji=Vi.length;if(Ji)for(let gn=0;gn<Ji;gn+=2){const tc=d[Vi[gn]][Vi[gn+1]].subscribe(I),uh=Ft.length;Ft.push(I,tc),qe&&qe.push(S,C.index,uh,-(uh+1))}}}function l_(c,d,m,C){try{return!1!==m(C)}catch(S){return qp(c,S),!1}}function Cg(c,d,m,C,S){return function I(G){if(G===Function)return C;const ee=2&c.flags?mn(c.index,d):d;0==(32&d[2])&&ap(ee);let me=l_(d,0,C,G),Fe=I.__ngNextListenerFn__;for(;Fe;)me=l_(d,0,Fe,G)&&me,Fe=Fe.__ngNextListenerFn__;return S&&!1===me&&(G.preventDefault(),G.returnValue=!1),me}}function c_(c=1){return function(c){return(on.lFrame.contextLView=function(c,d){for(;c>0;)d=d[15],c--;return d}(c,on.lFrame.contextLView))[8]}(c)}function vy(c,d){let m=null;const C=function(c){const d=c.attrs;if(null!=d){const m=d.indexOf(5);if(0==(1&m))return d[m+1]}return null}(c);for(let S=0;S<d.length;S++){const I=d[S];if("*"!==I){if(null===C?Xd(c,I,!0):ur(C,I))return S}else m=S}return m}function u_(c){const d=Mi()[16][6];if(!d.projection){const C=d.projection=kl(c?c.length:1,null),S=C.slice();let I=d.child;for(;null!==I;){const G=c?vy(I,c):0;null!==G&&(S[G]?S[G].projectionNext=I:C[G]=I,S[G]=I),I=I.next}}}function d_(c,d=0,m){const C=Mi(),S=xn(),I=Cd(S,20+c,16,null,m||null);null===I.projection&&(I.projection=d),xt(),64!=(64&I.flags)&&function(c,d,m){Xe(d[11],0,d,m,J(c,m,d),Gt(m.parent||d[6],m,d))}(S,C,I)}function Tg(c,d,m){return wg(c,"",d,"",m),Tg}function wg(c,d,m,C,S){const I=Mi(),G=Ih(I,d,m,C);return G!==Pn&&Ea(xn(),An(),I,c,G,I[11],S,!1),wg}function y_(c,d,m,C,S){const I=c[m+1],G=null===d;let ee=C?wl(I):Sl(I),me=!1;for(;0!==ee&&(!1===me||G);){const qe=c[ee+1];Ey(c[ee],d)&&(me=!0,c[ee+1]=C?fu(qe):za(qe)),ee=C?wl(qe):Sl(qe)}me&&(c[m+1]=C?za(I):fu(I))}function Ey(c,d){return null===c||null==d||(Array.isArray(c)?c[1]:c)===d||!(!Array.isArray(c)||"string"!=typeof d)&&Ma(c,d)>=0}function Sg(c,d,m){return Uc(c,d,m,!1),Sg}function Dg(c,d){return Uc(c,d,null,!0),Dg}function Uc(c,d,m,C){const S=Mi(),I=xn(),G=_n(2);I.firstUpdatePass&&function(c,d,m,C){const S=c.data;if(null===S[m+1]){const I=S[rn()],G=function(c,d){return d>=c.expandoStartIndex}(c,m);(function(c,d){return 0!=(c.flags&(d?16:32))})(I,C)&&null===d&&!G&&(d=!1),d=function(c,d,m,C){const S=Go(c);let I=C?d.residualClasses:d.residualStyles;if(null===S)0===(C?d.classBindings:d.styleBindings)&&(m=_p(m=Mg(null,c,d,m,C),d.attrs,C),I=null);else{const G=d.directiveStylingLast;if(-1===G||c[G]!==S)if(m=Mg(S,c,d,m,C),null===I){let me=function(c,d,m){const C=m?d.classBindings:d.styleBindings;if(0!==Sl(C))return c[wl(C)]}(c,d,C);void 0!==me&&Array.isArray(me)&&(me=Mg(null,c,d,me[1],C),me=_p(me,d.attrs,C),function(c,d,m,C){c[wl(m?d.classBindings:d.styleBindings)]=C}(c,d,C,me))}else I=function(c,d,m){let C;const S=d.directiveEnd;for(let I=1+d.directiveStylingLast;I<S;I++)C=_p(C,c[I].hostAttrs,m);return _p(C,d.attrs,m)}(c,d,C)}return void 0!==I&&(C?d.residualClasses=I:d.residualStyles=I),m}(S,I,d,C),function(c,d,m,C,S,I){let G=I?d.classBindings:d.styleBindings,ee=wl(G),me=Sl(G);c[C]=m;let qe,Fe=!1;if(Array.isArray(m)){const bt=m;qe=bt[1],(null===qe||Ma(bt,qe)>0)&&(Fe=!0)}else qe=m;if(S)if(0!==me){const Ft=wl(c[ee+1]);c[C+1]=Xu(Ft,ee),0!==Ft&&(c[Ft+1]=Kd(c[Ft+1],C)),c[ee+1]=function(c,d){return 131071&c|d<<17}(c[ee+1],C)}else c[C+1]=Xu(ee,0),0!==ee&&(c[ee+1]=Kd(c[ee+1],C)),ee=C;else c[C+1]=Xu(me,0),0===ee?ee=C:c[me+1]=Kd(c[me+1],C),me=C;Fe&&(c[C+1]=za(c[C+1])),y_(c,qe,C,!0),y_(c,qe,C,!1),function(c,d,m,C,S){const I=S?c.residualClasses:c.residualStyles;null!=I&&"string"==typeof d&&Ma(I,d)>=0&&(m[C+1]=fu(m[C+1]))}(d,qe,c,C,I),G=Xu(ee,me),I?d.classBindings=G:d.styleBindings=G}(S,I,d,m,G,C)}}(I,c,G,C),d!==Pn&&Ya(S,G,d)&&function(c,d,m,C,S,I,G,ee){if(!(3&d.type))return;const me=c.data,Fe=me[ee+1];cf(function(c){return 1==(1&c)}(Fe)?A_(me,d,m,S,Sl(Fe),G):void 0)||(cf(I)||function(c){return 2==(2&c)}(Fe)&&(I=A_(me,null,m,S,ee,G)),function(c,d,m,C,S){const I=Gn(c);if(d)S?I?c.addClass(m,C):m.classList.add(C):I?c.removeClass(m,C):m.classList.remove(C);else{let G=-1===C.indexOf("-")?void 0:_a.DashCase;if(null==S)I?c.removeStyle(m,C,G):m.style.removeProperty(C);else{const ee="string"==typeof S&&S.endsWith("!important");ee&&(S=S.slice(0,-10),G|=_a.Important),I?c.setStyle(m,C,S,G):m.style.setProperty(C,S,ee?"important":"")}}}(C,G,B(rn(),m),S,I))}(I,I.data[rn()],S,S[11],c,S[G+1]=function(c,d){return null==c||("string"==typeof d?c+=d:"object"==typeof c&&(c=b($e(c)))),c}(d,m),C,G)}function Mg(c,d,m,C,S){let I=null;const G=m.directiveEnd;let ee=m.directiveStylingLast;for(-1===ee?ee=m.directiveStart:ee++;ee<G&&(I=d[ee],C=_p(C,I.hostAttrs,S),I!==c);)ee++;return null!==c&&(m.directiveStylingLast=ee),C}function _p(c,d,m){const C=m?1:2;let S=-1;if(null!==d)for(let I=0;I<d.length;I++){const G=d[I];"number"==typeof G?S=G:S===C&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Oo(c,G,!!m||d[++I]))}return void 0===c?null:c}function A_(c,d,m,C,S,I){const G=null===d;let ee;for(;S>0;){const me=c[S],Fe=Array.isArray(me),qe=Fe?me[1]:me,bt=null===qe;let Ft=m[S+1];Ft===Pn&&(Ft=bt?Wt:void 0);let ni=bt?Zc(Ft,C):qe===C?Ft:void 0;if(Fe&&!cf(ni)&&(ni=Zc(me,C)),cf(ni)&&(ee=ni,G))return ee;const wi=c[S+1];S=G?wl(wi):Sl(wi)}if(null!==d){let me=I?d.residualClasses:d.residualStyles;null!=me&&(ee=Zc(me,C))}return ee}function cf(c){return void 0!==c}function k_(c,d=""){const m=Mi(),C=xn(),S=c+20,I=C.firstCreatePass?Cd(C,S,1,d,null):C.data[S],G=m[S]=function(c,d){return Gn(c)?c.createText(d):c.createTextNode(d)}(m[11],d);Oi(C,m,G,I),je(I,!1)}function xg(c){return uf("",c,""),xg}function uf(c,d,m){const C=Mi(),S=Ih(C,c,d,m);return S!==Pn&&Vc(C,rn(),S),uf}function Rg(c,d,m,C,S){const I=Mi(),G=function(c,d,m,C,S,I){const ee=ah(c,un(),m,S);return _n(2),ee?d+_e(m)+C+_e(S)+I:Pn}(I,c,d,m,C,S);return G!==Pn&&Vc(I,rn(),G),Rg}function Ig(c,d,m,C,S,I,G){const ee=Mi(),me=Oh(ee,c,d,m,C,S,I,G);return me!==Pn&&Vc(ee,rn(),me),Ig}function Ag(c,d,m){const C=Mi();return Ya(C,en(),d)&&Ea(xn(),An(),C,c,d,C[11],m,!0),Ag}function Og(c,d,m){const C=Mi();if(Ya(C,en(),d)){const I=xn(),G=An();Ea(I,G,C,c,d,Qp(Go(I.data),G,C),m,!0)}return Og}const lh=void 0;var iE=["en",[["a","p"],["AM","PM"],lh],[["AM","PM"],lh,lh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lh,"{1} 'at' {0}",lh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(c){const m=Math.floor(Math.abs(c)),C=c.toString().replace(/^[^.]*\.?/,"").length;return 1===m&&0===C?1:5}];let Vh={};function kg(c){const d=function(c){return c.toLowerCase().replace(/_/g,"-")}(c);let m=J_(d);if(m)return m;const C=d.split("-")[0];if(m=J_(C),m)return m;if("en"===C)return iE;throw new Error(`Missing locale data for the locale "${c}".`)}function $_(c){return kg(c)[Mn.PluralCase]}function J_(c){return c in Vh||(Vh[c]=gi.ng&&gi.ng.common&&gi.ng.common.locales&&gi.ng.common.locales[c]),Vh[c]}var Mn=(()=>((Mn=Mn||{})[Mn.LocaleId=0]="LocaleId",Mn[Mn.DayPeriodsFormat=1]="DayPeriodsFormat",Mn[Mn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mn[Mn.DaysFormat=3]="DaysFormat",Mn[Mn.DaysStandalone=4]="DaysStandalone",Mn[Mn.MonthsFormat=5]="MonthsFormat",Mn[Mn.MonthsStandalone=6]="MonthsStandalone",Mn[Mn.Eras=7]="Eras",Mn[Mn.FirstDayOfWeek=8]="FirstDayOfWeek",Mn[Mn.WeekendRange=9]="WeekendRange",Mn[Mn.DateFormat=10]="DateFormat",Mn[Mn.TimeFormat=11]="TimeFormat",Mn[Mn.DateTimeFormat=12]="DateTimeFormat",Mn[Mn.NumberSymbols=13]="NumberSymbols",Mn[Mn.NumberFormats=14]="NumberFormats",Mn[Mn.CurrencyCode=15]="CurrencyCode",Mn[Mn.CurrencySymbol=16]="CurrencySymbol",Mn[Mn.CurrencyName=17]="CurrencyName",Mn[Mn.Currencies=18]="Currencies",Mn[Mn.Directionality=19]="Directionality",Mn[Mn.PluralCase=20]="PluralCase",Mn[Mn.ExtraData=21]="ExtraData",Mn))();const df="en-US";let Z_=df;function Ng(c,d,m,C,S){if(c=W(c),Array.isArray(c))for(let I=0;I<c.length;I++)Ng(c[I],d,m,C,S);else{const I=xn(),G=Mi();let ee=Md(c)?c:W(c.provide),me=rf(c);const Fe=F(),qe=1048575&Fe.providerIndexes,bt=Fe.directiveStart,Ft=Fe.providerIndexes>>20;if(Md(c)||!c.multi){const ni=new ka(me,S,mp),wi=Bg(ee,d,S?qe:qe+Ft,bt);-1===wi?(wt(X(Fe,G),I,ee),Fg(I,c,d.length),d.push(ee),Fe.directiveStart++,Fe.directiveEnd++,S&&(Fe.providerIndexes+=1048576),m.push(ni),G.push(ni)):(m[wi]=ni,G[wi]=ni)}else{const ni=Bg(ee,d,qe+Ft,bt),wi=Bg(ee,d,qe,qe+Ft),Vi=ni>=0&&m[ni],Ji=wi>=0&&m[wi];if(S&&!Ji||!S&&!Vi){wt(X(Fe,G),I,ee);const gn=function(c,d,m,C,S){const I=new ka(c,m,mp);return I.multi=[],I.index=d,I.componentProviders=0,Ev(I,S,C&&!m),I}(S?eC:qE,m.length,S,C,me);!S&&Ji&&(m[wi].providerFactory=gn),Fg(I,c,d.length,0),d.push(ee),Fe.directiveStart++,Fe.directiveEnd++,S&&(Fe.providerIndexes+=1048576),m.push(gn),G.push(gn)}else Fg(I,c,ni>-1?ni:wi,Ev(m[S?wi:ni],me,!S&&C));!S&&C&&Ji&&m[wi].componentProviders++}}}function Fg(c,d,m,C){const S=Md(d),I=function(c){return!!c.useClass}(d);if(S||I){const me=(I?W(d.useClass):d).prototype.ngOnDestroy;if(me){const Fe=c.destroyHooks||(c.destroyHooks=[]);if(!S&&d.multi){const qe=Fe.indexOf(m);-1===qe?Fe.push(m,[C,me]):Fe[qe+1].push(C,me)}else Fe.push(m,me)}}}function Ev(c,d,m){return m&&c.componentProviders++,c.multi.push(d)-1}function Bg(c,d,m,C){for(let S=m;S<C;S++)if(d[S]===c)return S;return-1}function qE(c,d,m,C){return Hg(this.multi,[])}function eC(c,d,m,C){const S=this.multi;let I;if(this.providerFactory){const G=this.providerFactory.componentProviders,ee=is(m,m[1],this.providerFactory.index,C);I=ee.slice(0,G),Hg(S,I);for(let me=G;me<ee.length;me++)I.push(ee[me])}else I=[],Hg(S,I);return I}function Hg(c,d){for(let m=0;m<c.length;m++)d.push((0,c[m])());return d}function Cv(c,d=[]){return m=>{m.providersResolver=(C,S)=>function(c,d,m){const C=xn();if(C.firstCreatePass){const S=qn(c);Ng(m,C.data,C.blueprint,S,!0),Ng(d,C.data,C.blueprint,S,!1)}}(C,S?S(c):c,d)}}class Tv{}class rC{resolveComponentFactory(d){throw function(c){const d=Error(`No component factory found for ${b(c)}. Did you add it to @NgModule.entryComponents?`);return d.ngComponent=c,d}(d)}}let Cp=(()=>{class c{}return c.NULL=new rC,c})();function oC(){return Gh(F(),Mi())}function Gh(c,d){return new Tp(Ce(c,d))}let Tp=(()=>{class c{constructor(m){this.nativeElement=m}}return c.__NG_ELEMENT_ID__=oC,c})();function sC(c){return c instanceof Tp?c.nativeElement:c}class Sv{}let aC=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function(){const c=Mi(),m=mn(F().index,c);return function(c){return c[11]}(yr(m)?m:c)}(),c})(),uC=(()=>{class c{}return c.\u0275prov=Lt({token:c,providedIn:"root",factory:()=>null}),c})();class Dv{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const dC=new Dv("13.1.0"),Vg={};function mf(c,d,m,C,S=!1){for(;null!==m;){const I=d[m.index];if(null!==I&&C.push(Se(I)),Lr(I))for(let ee=10;ee<I.length;ee++){const me=I[ee],Fe=me[1].firstChild;null!==Fe&&mf(me[1],me,Fe,C)}const G=m.type;if(8&G)mf(c,d,m.child,C);else if(32&G){const ee=cu(m,d);let me;for(;me=ee();)C.push(me)}else if(16&G){const ee=xi(d,m);if(Array.isArray(ee))C.push(...ee);else{const me=du(d[16]);mf(me[1],me,ee,C,!0)}}m=S?m.projectionNext:m.next}return C}class wp{constructor(d,m){this._lView=d,this._cdRefInjectingView=m,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const d=this._lView,m=d[1];return mf(m,d,m.firstChild,[])}get context(){return this._lView[8]}set context(d){this._lView[8]=d}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[3];if(Lr(d)){const m=d[8],C=m?m.indexOf(this):-1;C>-1&&(_d(d,C),na(m,C))}this._attachedToViewContainer=!1}pu(this._lView[1],this._lView)}onDestroy(d){Gp(this._lView[1],this._lView,null,d)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(c,d,m){Bi(!0);try{cp(c,d,m)}finally{Bi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var d;this._appRef=null,ir(this._lView[1],d=this._lView,d[11],2,null,null)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=d}}class hC extends wp{constructor(d){super(d),this._view=d}detectChanges(){Jp(this._view)}checkNoChanges(){!function(c){Bi(!0);try{Jp(c)}finally{Bi(!1)}}(this._view)}get context(){return null}}class Mv extends Cp{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const m=pi(d);return new Ug(m,this.ngModule)}}function xv(c){const d=[];for(let m in c)c.hasOwnProperty(m)&&d.push({propName:c[m],templateName:m});return d}const fC=new eo("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xl});class Ug extends Tv{constructor(d,m){super(),this.componentDef=d,this.ngModule=m,this.componentType=d.type,this.selector=d.selectors.map(Ap).join(","),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!m}get inputs(){return xv(this.componentDef.inputs)}get outputs(){return xv(this.componentDef.outputs)}create(d,m,C,S){const I=(S=S||this.ngModule)?function(c,d){return{get:(m,C,S)=>{const I=c.get(m,Vg,S);return I!==Vg||C===Vg?I:d.get(m,C,S)}}}(d,S.injector):d,G=I.get(Sv,tn),ee=I.get(uC,null),me=G.createRenderer(null,this.componentDef),Fe=this.componentDef.selectors[0][0]||"div",qe=C?function(c,d,m){if(Gn(c))return c.selectRootElement(d,m===Zt.ShadowDom);let C="string"==typeof d?c.querySelector(d):d;return C.textContent="",C}(me,C,this.componentDef.encapsulation):Jl(G.createRenderer(null,this.componentDef),Fe,function(c){const d=c.toLowerCase();return"svg"===d?js:"math"===d?"http://www.w3.org/1998/MathML/":null}(Fe)),bt=this.componentDef.onPush?576:528,Ft=function(c,d){return{components:[],scheduler:c||Xl,clean:Ch,playerHandler:d||null,flags:0}}(),ni=yh(0,null,null,1,0,null,null,null,null,null),wi=nh(null,ni,Ft,bt,null,null,G,me,ee,I);let Vi,Ji;hs(wi);try{const gn=function(c,d,m,C,S,I){const G=m[1];m[20]=c;const me=Cd(G,20,2,"#host",null),Fe=me.mergedAttrs=d.hostAttrs;null!==Fe&&(Th(me,Fe,!0),null!==c&&(La(S,c,Fe),null!==me.classes&&Wn(S,c,me.classes),null!==me.styles&&To(S,c,me.styles)));const qe=C.createRenderer(c,d),bt=nh(m,Hp(d),null,d.onPush?64:16,m[20],me,C,qe,I||null,null);return G.firstCreatePass&&(wt(X(me,m),G,d.type),Yp(G,me),Xp(me,m.length,1)),Eh(m,bt),m[20]=bt}(qe,this.componentDef,wi,G,me);if(qe)if(C)La(me,qe,["ng-version",dC.full]);else{const{attrs:Ri,classes:Cn}=function(c){const d=[],m=[];let C=1,S=2;for(;C<c.length;){let I=c[C];if("string"==typeof I)2===S?""!==I&&d.push(I,c[++C]):8===S&&m.push(I);else{if(!oa(S))break;S=I}C++}return{attrs:d,classes:m}}(this.componentDef.selectors[0]);Ri&&La(me,qe,Ri),Cn&&Cn.length>0&&Wn(me,qe,Cn.join(" "))}if(Ji=ti(ni,20),void 0!==m){const Ri=Ji.projection=[];for(let Cn=0;Cn<this.ngContentSelectors.length;Cn++){const br=m[Cn];Ri.push(null!=br?Array.from(br):null)}}Vi=function(c,d,m,C,S){const I=m[1],G=function(c,d,m){const C=F();c.firstCreatePass&&(m.providersResolver&&m.providersResolver(m),Kp(c,C,d,Td(c,d,1,null),m));const S=is(d,c,C.directiveStart,C);Es(S,d);const I=Ce(C,d);return I&&Es(I,d),S}(I,m,d);if(C.components.push(G),c[8]=G,S&&S.forEach(me=>me(G,d)),d.contentQueries){const me=F();d.contentQueries(1,G,me.directiveStart)}const ee=F();return!I.firstCreatePass||null===d.hostBindings&&null===d.hostAttrs||(In(ee.index),zp(m[1],ee,0,ee.directiveStart,ee.directiveEnd,d),rp(d,G)),G}(gn,this.componentDef,wi,Ft,[zn]),rh(ni,wi,null)}finally{ua()}return new _C(this.componentType,Vi,Gh(Ji,wi),wi,Ji)}}class _C extends class{}{constructor(d,m,C,S,I){super(),this.location=C,this._rootLView=S,this._tNode=I,this.instance=m,this.hostView=this.changeDetectorRef=new hC(S),this.componentType=d}get injector(){return new Wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}class jh{}class Rv{}const Wh=new Map;class Ov extends jh{constructor(d,m){super(),this._parent=m,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mv(this);const C=On(d);this._bootstrapComponents=Aa(C.bootstrap),this._r3Injector=nf(d,m,[{provide:jh,useValue:this},{provide:Cp,useValue:this.componentFactoryResolver}],b(d)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(d)}get(d,m=Lo.THROW_IF_NOT_FOUND,C=Ye.Default){return d===Lo||d===jh||d===wh?this:this._r3Injector.get(d,m,C)}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class Gg extends Rv{constructor(d){super(),this.moduleType=d,null!==On(d)&&function(c){const d=new Set;!function m(C){const S=On(C,!0),I=S.id;null!==I&&(function(c,d,m){if(d&&d!==m)throw new Error(`Duplicate module registered for ${c} - ${b(d)} vs ${b(d.name)}`)}(I,Wh.get(I),C),Wh.set(I,C));const G=Aa(S.imports);for(const ee of G)d.has(ee)||(d.add(ee),m(ee))}(c)}(d)}create(d){return new Ov(this.moduleType,d)}}function kv(c,d,m){const C=Gi()+c,S=Mi();return S[C]===Pn?ss(S,C,m?d.call(m):d()):function(c,d){return c[d]}(S,C)}function Pv(c,d,m,C){return Nv(Mi(),Gi(),c,d,m,C)}function Lv(c,d,m,C,S){return function(c,d,m,C,S,I,G){const ee=d+m;return ah(c,ee,S,I)?ss(c,ee+2,G?C.call(G,S,I):C(S,I)):Sp(c,ee+2)}(Mi(),Gi(),c,d,m,C,S)}function Sp(c,d){const m=c[d];return m===Pn?void 0:m}function Nv(c,d,m,C,S,I){const G=d+m;return Ya(c,G,S)?ss(c,G+1,I?C.call(I,S):C(S)):Sp(c,G+1)}function Uv(c,d){const m=xn();let C;const S=c+20;m.firstCreatePass?(C=function(c,d){if(d)for(let m=d.length-1;m>=0;m--){const C=d[m];if(c===C.name)return C}}(d,m.pipeRegistry),m.data[S]=C,C.onDestroy&&(m.destroyHooks||(m.destroyHooks=[])).push(S,C.onDestroy)):C=m.data[S];const I=C.factory||(C.factory=cs(C.type)),G=rt(mp);try{const ee=hl(!1),me=I();return hl(ee),function(c,d,m,C){m>=c.data.length&&(c.data[m]=null,c.blueprint[m]=null),d[m]=C}(m,Mi(),S,me),me}finally{rt(G)}}function Gv(c,d,m){const C=c+20,S=Mi(),I=Li(S,C);return function(c,d){return c[1].data[d].pure}(S,C)?Nv(S,Gi(),d,I.transform,m,I):I.transform(m)}function jg(c){return d=>{setTimeout(c,void 0,d)}}const yu=class extends v.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,m,C){var S,I,G;let ee=d,me=m||(()=>null),Fe=C;if(d&&"object"==typeof d){const bt=d;ee=null===(S=bt.next)||void 0===S?void 0:S.bind(bt),me=null===(I=bt.error)||void 0===I?void 0:I.bind(bt),Fe=null===(G=bt.complete)||void 0===G?void 0:G.bind(bt)}this.__isAsync&&(me=jg(me),ee&&(ee=jg(ee)),Fe&&(Fe=jg(Fe)));const qe=super.subscribe({next:ee,error:me,complete:Fe});return d instanceof p.w0&&d.add(qe),qe}};function kC(){return this._results[Ir()]()}class _f{constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const m=Ir(),C=_f.prototype;C[m]||(C[m]=kC)}get changes(){return this._changes||(this._changes=new yu)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,m){return this._results.reduce(d,m)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,m){const C=this;C.dirty=!1;const S=_s(d);(this._changesDetected=!function(c,d,m){if(c.length!==d.length)return!1;for(let C=0;C<c.length;C++){let S=c[C],I=d[C];if(m&&(S=m(S),I=m(I)),I!==S)return!1}return!0}(C._results,S,m))&&(C._results=S,C.length=S.length,C.last=S[this.length-1],C.first=S[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Mp=(()=>{class c{}return c.__NG_ELEMENT_ID__=NC,c})();const PC=Mp,LC=class extends PC{constructor(d,m,C){super(),this._declarationLView=d,this._declarationTContainer=m,this.elementRef=C}createEmbeddedView(d){const m=this._declarationTContainer.tViews,C=nh(this._declarationLView,m,d,16,null,m.declTNode,null,null,null,null);C[17]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[19];return null!==I&&(C[19]=I.createEmbeddedView(m)),rh(m,C,d),new wp(C)}};function NC(){return vf(F(),Mi())}function vf(c,d){return 4&c.type?new LC(d,c,Gh(c,d)):null}let bf=(()=>{class c{}return c.__NG_ELEMENT_ID__=FC,c})();function FC(){return zv(F(),Mi())}const BC=bf,jv=class extends BC{constructor(d,m,C){super(),this._lContainer=d,this._hostTNode=m,this._hostLView=C}get element(){return Gh(this._hostTNode,this._hostLView)}get injector(){return new Wo(this._hostTNode,this._hostLView)}get parentInjector(){const d=nt(this._hostTNode,this._hostLView);if(gs(d)){const m=ea(d,this._hostLView),C=$a(d);return new Wo(m[1].data[C+8],m)}return new Wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const m=Wv(this._lContainer);return null!==m&&m[d]||null}get length(){return this._lContainer.length-10}createEmbeddedView(d,m,C){const S=d.createEmbeddedView(m||{});return this.insert(S,C),S}createComponent(d,m,C,S,I){const G=d&&!("function"==typeof d);let ee;if(G)ee=m;else{const bt=m||{};ee=bt.index,C=bt.injector,S=bt.projectableNodes,I=bt.ngModuleRef}const me=G?d:new Ug(pi(d)),Fe=C||this.parentInjector;if(!I&&null==me.ngModule&&Fe){const bt=Fe.get(jh,null);bt&&(I=bt)}const qe=me.create(Fe,S,void 0,I);return this.insert(qe.hostView,ee),qe}insert(d,m){const C=d._lView,S=C[1];if(Lr(C[3])){const qe=this.indexOf(d);if(-1!==qe)this.detach(qe);else{const bt=C[3],Ft=new jv(bt,bt[6],bt[3]);Ft.detach(Ft.indexOf(d))}}const I=this._adjustIndex(m),G=this._lContainer;!function(c,d,m,C){const S=10+C,I=m.length;C>0&&(m[S-1][4]=d),C<I-10?(d[4]=m[S],Fa(m,10+C,d)):(m.push(d),d[4]=null),d[3]=m;const G=d[17];null!==G&&m!==G&&function(c,d){const m=c[9];d[16]!==d[3][3][16]&&(c[2]=!0),null===m?c[9]=[d]:m.push(d)}(G,d);const ee=d[19];null!==ee&&ee.insertView(c),d[2]|=128}(S,C,G,I);const ee=Xn(I,G),me=C[11],Fe=mt(me,G[7]);return null!==Fe&&function(c,d,m,C,S,I){C[0]=S,C[6]=d,ir(c,C,m,1,S,I)}(S,G[6],me,C,Fe,ee),d.attachToViewContainerRef(),Fa(Wg(G),I,d),d}move(d,m){return this.insert(d,m)}indexOf(d){const m=Wv(this._lContainer);return null!==m?m.indexOf(d):-1}remove(d){const m=this._adjustIndex(d,-1),C=_d(this._lContainer,m);C&&(na(Wg(this._lContainer),m),pu(C[1],C))}detach(d){const m=this._adjustIndex(d,-1),C=_d(this._lContainer,m);return C&&null!=na(Wg(this._lContainer),m)?new wp(C):null}_adjustIndex(d,m=0){return null==d?this.length+m:d}};function Wv(c){return c[8]}function Wg(c){return c[8]||(c[8]=[])}function zv(c,d){let m;const C=d[c.index];if(Lr(C))m=C;else{let S;if(8&c.type)S=Se(C);else{const I=d[11];S=I.createComment("");const G=Ce(c,d);Ve(I,mt(I,G),S,function(c,d){return Gn(c)?c.nextSibling(d):d.nextSibling}(I,G),!1)}d[c.index]=m=Yf(C,d,S,c),Eh(d,m)}return new jv(m,c,d)}class zg{constructor(d){this.queryList=d,this.matches=null}clone(){return new zg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yg{constructor(d=[]){this.queries=d}createEmbeddedView(d){const m=d.queries;if(null!==m){const C=null!==d.contentQueries?d.contentQueries[0]:m.length,S=[];for(let I=0;I<C;I++){const G=m.getByIndex(I);S.push(this.queries[G.indexInDeclarationView].clone())}return new Yg(S)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let m=0;m<this.queries.length;m++)null!==eb(d,m).matches&&this.queries[m].setDirty()}}class Yv{constructor(d,m,C=null){this.predicate=d,this.flags=m,this.read=C}}class Xg{constructor(d=[]){this.queries=d}elementStart(d,m){for(let C=0;C<this.queries.length;C++)this.queries[C].elementStart(d,m)}elementEnd(d){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(d)}embeddedTView(d){let m=null;for(let C=0;C<this.length;C++){const S=null!==m?m.length:0,I=this.getByIndex(C).embeddedTView(d,S);I&&(I.indexInDeclarationView=C,null!==m?m.push(I):m=[I])}return null!==m?new Xg(m):null}template(d,m){for(let C=0;C<this.queries.length;C++)this.queries[C].template(d,m)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class Kg{constructor(d,m=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(d,m){this.isApplyingToNode(m)&&this.matchTNode(d,m)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,m){this.elementStart(d,m)}embeddedTView(d,m){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,m),new Kg(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const m=this._declarationNodeIndex;let C=d.parent;for(;null!==C&&8&C.type&&C.index!==m;)C=C.parent;return m===(null!==C?C.index:-1)}return this._appliesToNextNode}matchTNode(d,m){const C=this.metadata.predicate;if(Array.isArray(C))for(let S=0;S<C.length;S++){const I=C[S];this.matchTNodeWithReadOption(d,m,UC(m,I)),this.matchTNodeWithReadOption(d,m,Da(m,d,I,!1,!1))}else C===Mp?4&m.type&&this.matchTNodeWithReadOption(d,m,-1):this.matchTNodeWithReadOption(d,m,Da(m,d,C,!1,!1))}matchTNodeWithReadOption(d,m,C){if(null!==C){const S=this.metadata.read;if(null!==S)if(S===Tp||S===bf||S===Mp&&4&m.type)this.addMatch(m.index,-2);else{const I=Da(m,d,S,!1,!1);null!==I&&this.addMatch(m.index,I)}else this.addMatch(m.index,C)}}addMatch(d,m){null===this.matches?this.matches=[d,m]:this.matches.push(d,m)}}function UC(c,d){const m=c.localNames;if(null!==m)for(let C=0;C<m.length;C+=2)if(m[C]===d)return m[C+1];return null}function jC(c,d,m,C){return-1===m?function(c,d){return 11&c.type?Gh(c,d):4&c.type?vf(c,d):null}(d,c):-2===m?function(c,d,m){return m===Tp?Gh(d,c):m===Mp?vf(d,c):m===bf?zv(d,c):void 0}(c,d,C):is(c,c[1],m,d)}function Xv(c,d,m,C){const S=d[19].queries[C];if(null===S.matches){const I=c.data,G=m.matches,ee=[];for(let me=0;me<G.length;me+=2){const Fe=G[me];ee.push(Fe<0?null:jC(d,I[Fe],G[me+1],m.metadata.read))}S.matches=ee}return S.matches}function $g(c,d,m,C){const S=c.queries.getByIndex(m),I=S.matches;if(null!==I){const G=Xv(c,d,S,m);for(let ee=0;ee<I.length;ee+=2){const me=I[ee];if(me>0)C.push(G[ee/2]);else{const Fe=I[ee+1],qe=d[-me];for(let bt=10;bt<qe.length;bt++){const Ft=qe[bt];Ft[17]===Ft[3]&&$g(Ft[1],Ft,Fe,C)}if(null!==qe[9]){const bt=qe[9];for(let Ft=0;Ft<bt.length;Ft++){const ni=bt[Ft];$g(ni[1],ni,Fe,C)}}}}}return C}function Kv(c){const d=Mi(),m=xn(),C=Qo();Vr(C+1);const S=eb(m,C);if(c.dirty&&Dn(d)===(2==(2&S.metadata.flags))){if(null===S.matches)c.reset([]);else{const I=S.crossesNgTemplate?$g(m,d,C,[]):Xv(m,d,S,C);c.reset(I,sC),c.notifyOnChanges()}return!0}return!1}function $v(c,d,m){const C=xn();C.firstCreatePass&&(qv(C,new Yv(c,d,m),-1),2==(2&d)&&(C.staticViewQueries=!0)),Qv(C,Mi(),d)}function Jv(c,d,m,C){const S=xn();if(S.firstCreatePass){const I=F();qv(S,new Yv(d,m,C),I.index),function(c,d){const m=c.contentQueries||(c.contentQueries=[]);d!==(m.length?m[m.length-1]:-1)&&m.push(c.queries.length-1,d)}(S,c),2==(2&m)&&(S.staticContentQueries=!0)}Qv(S,Mi(),m)}function Zv(){return c=Mi(),d=Qo(),c[19].queries[d].queryList;var c,d}function Qv(c,d,m){const C=new _f(4==(4&m));Gp(c,d,C,C.destroy),null===d[19]&&(d[19]=new Yg),d[19].queries.push(new zg(C))}function qv(c,d,m){null===c.queries&&(c.queries=new Xg),c.queries.track(new Kg(d,m))}function eb(c,d){return c.queries.getByIndex(d)}function tb(c,d){return vf(c,d)}function Cf(...c){}const tm=new eo("Application Initializer");let Yh=(()=>{class c{constructor(m){this.appInits=m,this.resolve=Cf,this.reject=Cf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((C,S)=>{this.resolve=C,this.reject=S})}runInitializers(){if(this.initialized)return;const m=[],C=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let S=0;S<this.appInits.length;S++){const I=this.appInits[S]();if(bg(I))m.push(I);else if(s_(I)){const G=new Promise((ee,me)=>{I.subscribe({complete:ee,error:me})});m.push(G)}}Promise.all(m).then(()=>{C()}).catch(S=>{this.reject(S)}),0===m.length&&C(),this.initialized=!0}}return c.\u0275fac=function(m){return new(m||c)(so(tm,8))},c.\u0275prov=Lt({token:c,factory:c.\u0275fac}),c})();const vb=new eo("AppId"),uT={provide:vb,useFactory:function(){return`${im()}${im()}${im()}`},deps:[]};function im(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bb=new eo("Platform Initializer"),yb=new eo("Platform ID"),Eb=new eo("appBootstrapListener");let Cb=(()=>{class c{log(m){console.log(m)}warn(m){console.warn(m)}}return c.\u0275fac=function(m){return new(m||c)},c.\u0275prov=Lt({token:c,factory:c.\u0275fac}),c})();const Tf=new eo("LocaleId"),Tb=new eo("DefaultCurrencyCode");class dT{constructor(d,m){this.ngModuleFactory=d,this.componentFactories=m}}let nm=(()=>{class c{compileModuleSync(m){return new Gg(m)}compileModuleAsync(m){return Promise.resolve(this.compileModuleSync(m))}compileModuleAndAllComponentsSync(m){const C=this.compileModuleSync(m),I=Aa(On(m).declarations).reduce((G,ee)=>{const me=pi(ee);return me&&G.push(new Ug(me)),G},[]);return new dT(C,I)}compileModuleAndAllComponentsAsync(m){return Promise.resolve(this.compileModuleAndAllComponentsSync(m))}clearCache(){}clearCacheFor(m){}getModuleId(m){}}return c.\u0275fac=function(m){return new(m||c)},c.\u0275prov=Lt({token:c,factory:c.\u0275fac}),c})();const pT=(()=>Promise.resolve(0))();function rm(c){"undefined"==typeof Zone?pT.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class ec{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:C=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const S=this;S._nesting=0,S._outer=S._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!C&&m,S.shouldCoalesceRunChangeDetection=C,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function(){let c=gi.requestAnimationFrame,d=gi.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&d){const m=c[Zone.__symbol__("OriginalDelegate")];m&&(c=m);const C=d[Zone.__symbol__("OriginalDelegate")];C&&(d=C)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function(c){const d=()=>{!function(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(gi,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,sm(c),c.isCheckStableRunning=!0,om(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),sm(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,C,S,I,G,ee)=>{try{return wb(c),m.invokeTask(S,I,G,ee)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||c.shouldCoalesceRunChangeDetection)&&d(),Sb(c)}},onInvoke:(m,C,S,I,G,ee,me)=>{try{return wb(c),m.invoke(S,I,G,ee,me)}finally{c.shouldCoalesceRunChangeDetection&&d(),Sb(c)}},onHasTask:(m,C,S,I)=>{m.hasTask(S,I),C===S&&("microTask"==I.change?(c._hasPendingMicrotasks=I.microTask,sm(c),om(c)):"macroTask"==I.change&&(c.hasPendingMacrotasks=I.macroTask))},onHandleError:(m,C,S,I)=>(m.handleError(S,I),c.runOutsideAngular(()=>c.onError.emit(I)),!1)})}(S)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ec.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ec.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(d,m,C){return this._inner.run(d,m,C)}runTask(d,m,C,S){const I=this._inner,G=I.scheduleEventTask("NgZoneEvent: "+S,d,gT,Cf,Cf);try{return I.runTask(G,m,C)}finally{I.cancelTask(G)}}runGuarded(d,m,C){return this._inner.runGuarded(d,m,C)}runOutsideAngular(d){return this._outer.run(d)}}const gT={};function om(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function sm(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function wb(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function Sb(c){c._nesting--,om(c)}class vT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(d,m,C){return d.apply(m,C)}runGuarded(d,m,C){return d.apply(m,C)}runOutsideAngular(d){return d()}runTask(d,m,C,S){return d.apply(m,C)}}let Db=(()=>{class c{constructor(m){this._ngZone=m,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ec.assertNotInAngularZone(),rm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rm(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb(this._didWork)}this._didWork=!1});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(C=>!C.updateCb||!C.updateCb(m)||(clearTimeout(C.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,C,S){let I=-1;C&&C>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(G=>G.timeoutId!==I),m(this._didWork,this.getPendingTasks())},C)),this._callbacks.push({doneCb:m,timeoutId:I,updateCb:S})}whenStable(m,C,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,C,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(m,C,S){return[]}}return c.\u0275fac=function(m){return new(m||c)(so(ec))},c.\u0275prov=Lt({token:c,factory:c.\u0275fac}),c})(),Mb=(()=>{class c{constructor(){this._applications=new Map,am.addToWindow(this)}registerApplication(m,C){this._applications.set(m,C)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,C=!0){return am.findTestabilityInTree(this,m,C)}}return c.\u0275fac=function(m){return new(m||c)},c.\u0275prov=Lt({token:c,factory:c.\u0275fac}),c})();class bT{addToWindow(d){}findTestabilityInTree(d,m,C){return null}}function yT(c){am=c}let jc,am=new bT;const xb=new eo("AllowMultipleToken");class wT{constructor(d,m){this.name=d,this.token=m}}function Rb(c,d,m=[]){const C=`Platform: ${d}`,S=new eo(C);return(I=[])=>{let G=Ib();if(!G||G.injector.get(xb,!1))if(c)c(m.concat(I).concat({provide:S,useValue:!0}));else{const ee=m.concat(I).concat({provide:S,useValue:!0},{provide:hp,useValue:"platform"});!function(c){if(jc&&!jc.destroyed&&!jc.injector.get(xb,!1))throw new ae("400","");jc=c.get(Ab);const d=c.get(bb,null);d&&d.forEach(m=>m())}(Lo.create({providers:ee,name:C}))}return function(c){const d=Ib();if(!d)throw new ae("401","");return d}()}}function Ib(){return jc&&!jc.destroyed?jc:null}let Ab=(()=>{class c{constructor(m){this._injector=m,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(m,C){const ee=function(c,d){let m;return m="noop"===c?new vT:("zone.js"===c?void 0:c)||new ec({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==d?void 0:d.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==d?void 0:d.ngZoneRunCoalescing)}),m}(C?C.ngZone:void 0,{ngZoneEventCoalescing:C&&C.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:C&&C.ngZoneRunCoalescing||!1}),me=[{provide:ec,useValue:ee}];return ee.run(()=>{const Fe=Lo.create({providers:me,parent:this.injector,name:m.moduleType.name}),qe=m.create(Fe),bt=qe.injector.get(zl,null);if(!bt)throw new ae("402","");return ee.runOutsideAngular(()=>{const Ft=ee.onError.subscribe({next:ni=>{bt.handleError(ni)}});qe.onDestroy(()=>{lm(this._modules,qe),Ft.unsubscribe()})}),function(c,d,m){try{const C=m();return bg(C)?C.catch(S=>{throw d.runOutsideAngular(()=>c.handleError(S)),S}):C}catch(C){throw d.runOutsideAngular(()=>c.handleError(C)),C}}(bt,ee,()=>{const Ft=qe.injector.get(Yh);return Ft.runInitializers(),Ft.donePromise.then(()=>(function(c){Bt(c,"Expected localeId to be defined"),"string"==typeof c&&(Z_=c.toLowerCase().replace(/_/g,"-"))}(qe.injector.get(Tf,df)||df),this._moduleDoBootstrap(qe),qe))})})}bootstrapModule(m,C=[]){const S=Ob({},C);return function(c,d,m){const C=new Gg(m);return Promise.resolve(C)}(0,0,m).then(I=>this.bootstrapModuleFactory(I,S))}_moduleDoBootstrap(m){const C=m.injector.get(Rp);if(m._bootstrapComponents.length>0)m._bootstrapComponents.forEach(S=>C.bootstrap(S));else{if(!m.instance.ngDoBootstrap)throw new ae("403","");m.instance.ngDoBootstrap(C)}this._modules.push(m)}onDestroy(m){this._destroyListeners.push(m)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae("404","");this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(m){return new(m||c)(so(Lo))},c.\u0275prov=Lt({token:c,factory:c.\u0275fac}),c})();function Ob(c,d){return Array.isArray(d)?d.reduce(Ob,c):Object.assign(Object.assign({},c),d)}let Rp=(()=>{class c{constructor(m,C,S,I,G){this._zone=m,this._injector=C,this._exceptionHandler=S,this._componentFactoryResolver=I,this._initStatus=G,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ee=new t.y(Fe=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Fe.next(this._stable),Fe.complete()})}),me=new t.y(Fe=>{let qe;this._zone.runOutsideAngular(()=>{qe=this._zone.onStable.subscribe(()=>{ec.assertNotInAngularZone(),rm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Fe.next(!0))})})});const bt=this._zone.onUnstable.subscribe(()=>{ec.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Fe.next(!1)}))});return()=>{qe.unsubscribe(),bt.unsubscribe()}});this.isStable=(0,e.T)(ee,me.pipe((0,n.B)()))}bootstrap(m,C){if(!this._initStatus.done)throw new ae("405","");let S;S=m instanceof Tv?m:this._componentFactoryResolver.resolveComponentFactory(m),this.componentTypes.push(S.componentType);const I=function(c){return c.isBoundToModule}(S)?void 0:this._injector.get(jh),ee=S.create(Lo.NULL,[],C||S.selector,I),me=ee.location.nativeElement,Fe=ee.injector.get(Db,null),qe=Fe&&ee.injector.get(Mb);return Fe&&qe&&qe.registerApplication(me,Fe),ee.onDestroy(()=>{this.detachView(ee.hostView),lm(this.components,ee),qe&&qe.unregisterApplication(me)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new ae("101","");try{this._runningTick=!0;for(let m of this._views)m.detectChanges()}catch(m){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(m))}finally{this._runningTick=!1}}attachView(m){const C=m;this._views.push(C),C.attachToAppRef(this)}detachView(m){const C=m;lm(this._views,C),C.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m),this._injector.get(Eb,[]).concat(this._bootstrapListeners).forEach(S=>S(m))}ngOnDestroy(){this._views.slice().forEach(m=>m.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(m){return new(m||c)(so(ec),so(Lo),so(zl),so(Cp),so(Yh))},c.\u0275prov=Lt({token:c,factory:c.\u0275fac}),c})();function lm(c,d){const m=c.indexOf(d);m>-1&&c.splice(m,1)}let Pb=!0;function IT(){Pb=!1}let AT=(()=>{class c{}return c.__NG_ELEMENT_ID__=OT,c})();function OT(c){return function(c,d,m){if(yn(c)&&!m){const C=mn(c.index,d);return new wp(C,C)}return 47&c.type?new wp(d[16],d):null}(F(),Mi(),16==(16&c))}class Ub{constructor(){}supports(d){return Ml(d)}create(d){return new HT(d)}}const BT=(c,d)=>d;class HT{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||BT}forEachItem(d){let m;for(m=this._itHead;null!==m;m=m._next)d(m)}forEachOperation(d){let m=this._itHead,C=this._removalsHead,S=0,I=null;for(;m||C;){const G=!C||m&&m.currentIndex<jb(C,S,I)?m:C,ee=jb(G,S,I),me=G.currentIndex;if(G===C)S--,C=C._nextRemoved;else if(m=m._next,null==G.previousIndex)S++;else{I||(I=[]);const Fe=ee-S,qe=me-S;if(Fe!=qe){for(let Ft=0;Ft<Fe;Ft++){const ni=Ft<I.length?I[Ft]:I[Ft]=0,wi=ni+Ft;qe<=wi&&wi<Fe&&(I[Ft]=ni+1)}I[G.previousIndex]=qe-Fe}}ee!==me&&d(G,ee,me)}}forEachPreviousItem(d){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)d(m)}forEachAddedItem(d){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)d(m)}forEachMovedItem(d){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)d(m)}forEachRemovedItem(d){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)d(m)}forEachIdentityChange(d){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)d(m)}diff(d){if(null==d&&(d=[]),!Ml(d))throw new Error(`Error trying to diff '${b(d)}'. Only arrays and iterables are allowed`);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let S,I,G,m=this._itHead,C=!1;if(Array.isArray(d)){this.length=d.length;for(let ee=0;ee<this.length;ee++)I=d[ee],G=this._trackByFn(ee,I),null!==m&&Object.is(m.trackById,G)?(C&&(m=this._verifyReinsertion(m,I,G,ee)),Object.is(m.item,I)||this._addIdentityChange(m,I)):(m=this._mismatch(m,I,G,ee),C=!0),m=m._next}else S=0,function(c,d){if(Array.isArray(c))for(let m=0;m<c.length;m++)d(c[m]);else{const m=c[Ir()]();let C;for(;!(C=m.next()).done;)d(C.value)}}(d,ee=>{G=this._trackByFn(S,ee),null!==m&&Object.is(m.trackById,G)?(C&&(m=this._verifyReinsertion(m,ee,G,S)),Object.is(m.item,ee)||this._addIdentityChange(m,ee)):(m=this._mismatch(m,ee,G,S),C=!0),m=m._next,S++}),this.length=S;return this._truncate(m),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,m,C,S){let I;return null===d?I=this._itTail:(I=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(C,null))?(Object.is(d.item,m)||this._addIdentityChange(d,m),this._reinsertAfter(d,I,S)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(C,S))?(Object.is(d.item,m)||this._addIdentityChange(d,m),this._moveAfter(d,I,S)):d=this._addAfter(new VT(m,C),I,S),d}_verifyReinsertion(d,m,C,S){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(C,null);return null!==I?d=this._reinsertAfter(I,d._prev,S):d.currentIndex!=S&&(d.currentIndex=S,this._addToMoves(d,S)),d}_truncate(d){for(;null!==d;){const m=d._next;this._addToRemovals(this._unlink(d)),d=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,m,C){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const S=d._prevRemoved,I=d._nextRemoved;return null===S?this._removalsHead=I:S._nextRemoved=I,null===I?this._removalsTail=S:I._prevRemoved=S,this._insertAfter(d,m,C),this._addToMoves(d,C),d}_moveAfter(d,m,C){return this._unlink(d),this._insertAfter(d,m,C),this._addToMoves(d,C),d}_addAfter(d,m,C){return this._insertAfter(d,m,C),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,m,C){const S=null===m?this._itHead:m._next;return d._next=S,d._prev=m,null===S?this._itTail=d:S._prev=d,null===m?this._itHead=d:m._next=d,null===this._linkedRecords&&(this._linkedRecords=new Gb),this._linkedRecords.put(d),d.currentIndex=C,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const m=d._prev,C=d._next;return null===m?this._itHead=C:m._next=C,null===C?this._itTail=m:C._prev=m,d}_addToMoves(d,m){return d.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gb),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,m){return d.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class VT{constructor(d,m){this.item=d,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UT{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,m){let C;for(C=this._head;null!==C;C=C._nextDup)if((null===m||m<=C.currentIndex)&&Object.is(C.trackById,d))return C;return null}remove(d){const m=d._prevDup,C=d._nextDup;return null===m?this._head=C:m._nextDup=C,null===C?this._tail=m:C._prevDup=m,null===this._head}}class Gb{constructor(){this.map=new Map}put(d){const m=d.trackById;let C=this.map.get(m);C||(C=new UT,this.map.set(m,C)),C.add(d)}get(d,m){const S=this.map.get(d);return S?S.get(d,m):null}remove(d){const m=d.trackById;return this.map.get(m).remove(d)&&this.map.delete(m),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jb(c,d,m){const C=c.previousIndex;if(null===C)return C;let S=0;return m&&C<m.length&&(S=m[C]),C+d+S}class Wb{constructor(){}supports(d){return d instanceof Map||to(d)}create(){return new GT}}class GT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let m;for(m=this._mapHead;null!==m;m=m._next)d(m)}forEachPreviousItem(d){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)d(m)}forEachChangedItem(d){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)d(m)}forEachAddedItem(d){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)d(m)}forEachRemovedItem(d){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)d(m)}diff(d){if(d){if(!(d instanceof Map||to(d)))throw new Error(`Error trying to diff '${b(d)}'. Only maps and objects are allowed`)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(d,(C,S)=>{if(m&&m.key===S)this._maybeAddToChanges(m,C),this._appendAfter=m,m=m._next;else{const I=this._getOrCreateRecordForKey(S,C);m=this._insertBeforeOrAppend(m,I)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let C=m;null!==C;C=C._nextRemoved)C===this._mapHead&&(this._mapHead=null),this._records.delete(C.key),C._nextRemoved=C._next,C.previousValue=C.currentValue,C.currentValue=null,C._prev=null,C._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,m){if(d){const C=d._prev;return m._next=d,m._prev=C,d._prev=m,C&&(C._next=m),d===this._mapHead&&(this._mapHead=m),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(d,m){if(this._records.has(d)){const S=this._records.get(d);this._maybeAddToChanges(S,m);const I=S._prev,G=S._next;return I&&(I._next=G),G&&(G._prev=I),S._next=null,S._prev=null,S}const C=new jT(d);return this._records.set(d,C),C.currentValue=m,this._addToAdditions(C),C}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,m){Object.is(m,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=m,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,m){d instanceof Map?d.forEach(m):Object.keys(d).forEach(C=>m(d[C],C))}}class jT{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zb(){return new Sf([new Ub])}let Sf=(()=>{class c{constructor(m){this.factories=m}static create(m,C){if(null!=C){const S=C.factories.slice();m=m.concat(S)}return new c(m)}static extend(m){return{provide:c,useFactory:C=>c.create(m,C||zb()),deps:[[c,new Ha,new Ys]]}}find(m){const C=this.factories.find(S=>S.supports(m));if(null!=C)return C;throw new Error(`Cannot find a differ supporting object '${m}' of type '${function(c){return c.name||typeof c}(m)}'`)}}return c.\u0275prov=Lt({token:c,providedIn:"root",factory:zb}),c})();function Yb(){return new Df([new Wb])}let Df=(()=>{class c{constructor(m){this.factories=m}static create(m,C){if(C){const S=C.factories.slice();m=m.concat(S)}return new c(m)}static extend(m){return{provide:c,useFactory:C=>c.create(m,C||Yb()),deps:[[c,new Ha,new Ys]]}}find(m){const C=this.factories.find(S=>S.supports(m));if(C)return C;throw new Error(`Cannot find a differ supporting object '${m}'`)}}return c.\u0275prov=Lt({token:c,providedIn:"root",factory:Yb}),c})();const zT=[new Wb],XT=new Sf([new Ub]),KT=new Df(zT),$T=Rb(null,"core",[{provide:yb,useValue:"unknown"},{provide:Ab,deps:[Lo]},{provide:Mb,deps:[]},{provide:Cb,deps:[]}]),e0=[{provide:Rp,useClass:Rp,deps:[ec,Lo,zl,Cp,Yh]},{provide:fC,deps:[ec],useFactory:function(c){let d=[];return c.onStable.subscribe(()=>{for(;d.length;)d.pop()()}),function(m){d.push(m)}}},{provide:Yh,useClass:Yh,deps:[[new Ys,tm]]},{provide:nm,useClass:nm,deps:[]},uT,{provide:Sf,useFactory:function(){return XT},deps:[]},{provide:Df,useFactory:function(){return KT},deps:[]},{provide:Tf,useFactory:function(c){return c||"undefined"!=typeof $localize&&$localize.locale||df},deps:[[new Hl(Tf),new Ys,new Ha]]},{provide:Tb,useValue:"USD"}];let n0=(()=>{class c{constructor(m){}}return c.\u0275fac=function(m){return new(m||c)(so(Rp))},c.\u0275mod=wn({type:c}),c.\u0275inj=Ne({providers:e0}),c})()},93075:(P,H,h)=>{"use strict";h.d(H,{Zs:()=>us,Fj:()=>K,NI:()=>no,oH:()=>Cs,sg:()=>Fo,u5:()=>ca,Cf:()=>fe,JU:()=>b,a5:()=>we,JJ:()=>ze,JL:()=>Ye,F:()=>hn,On:()=>jr,UX:()=>Gn,kI:()=>Be,_Y:()=>ro});var v=h(5e3),p=h(69808),t=h(32076),e=h(4128),n=h(54004);let o=(()=>{class z{constructor(B,Ce){this._renderer=B,this._elementRef=Ce,this.onChange=Et=>{},this.onTouched=()=>{}}setProperty(B,Ce){this._renderer.setProperty(this._elementRef.nativeElement,B,Ce)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}}return z.\u0275fac=function(B){return new(B||z)(v.Y36(v.Qsj),v.Y36(v.SBq))},z.\u0275dir=v.lG2({type:z}),z})(),u=(()=>{class z extends o{}return z.\u0275fac=function(){let L;return function(Ce){return(L||(L=v.n5z(z)))(Ce||z)}}(),z.\u0275dir=v.lG2({type:z,features:[v.qOj]}),z})();const b=new v.OlP("NgValueAccessor"),N={provide:b,useExisting:(0,v.Gpc)(()=>K),multi:!0},Z=new v.OlP("CompositionEventMode");let K=(()=>{class z extends o{constructor(B,Ce,Et){super(B,Ce),this._compositionMode=Et,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const z=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(B){this.setProperty("value",null==B?"":B)}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}}return z.\u0275fac=function(B){return new(B||z)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Z,8))},z.\u0275dir=v.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,Ce){1&B&&v.NdJ("input",function(ti){return Ce._handleInput(ti.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(ti){return Ce._compositionEnd(ti.target.value)})},features:[v._Bn([N]),v.qOj]}),z})();function ae(z){return null==z||0===z.length}function xe(z){return null!=z&&"number"==typeof z.length}const fe=new v.OlP("NgValidators"),_e=new v.OlP("NgAsyncValidators"),Oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Be{static min(L){return z=L,L=>{if(ae(L.value)||ae(z))return null;const B=parseFloat(L.value);return!isNaN(B)&&B<z?{min:{min:z,actual:L.value}}:null};var z}static max(L){return z=L,L=>{if(ae(L.value)||ae(z))return null;const B=parseFloat(L.value);return!isNaN(B)&&B>z?{max:{max:z,actual:L.value}}:null};var z}static required(L){return q(L)}static requiredTrue(L){return se(L)}static email(L){return ae((z=L).value)||Oe.test(z.value)?null:{email:!0};var z}static minLength(L){return z=L,L=>ae(L.value)||!xe(L.value)?null:L.value.length<z?{minlength:{requiredLength:z,actualLength:L.value.length}}:null;var z}static maxLength(L){return z=L,L=>xe(L.value)&&L.value.length>z?{maxlength:{requiredLength:z,actualLength:L.value.length}}:null;var z}static pattern(L){return function(z){if(!z)return te;let L,B;return"string"==typeof z?(B="","^"!==z.charAt(0)&&(B+="^"),B+=z,"$"!==z.charAt(z.length-1)&&(B+="$"),L=new RegExp(B)):(B=z.toString(),L=z),Ce=>{if(ae(Ce.value))return null;const Et=Ce.value;return L.test(Et)?null:{pattern:{requiredPattern:B,actualValue:Et}}}}(L)}static nullValidator(L){return null}static compose(L){return ht(L)}static composeAsync(L){return Ht(L)}}function q(z){return ae(z.value)?{required:!0}:null}function se(z){return!0===z.value?null:{required:!0}}function te(z){return null}function ie(z){return null!=z}function Ge(z){const L=(0,v.QGY)(z)?(0,t.D)(z):z;return(0,v.CqO)(L),L}function ve(z){let L={};return z.forEach(B=>{L=null!=B?Object.assign(Object.assign({},L),B):L}),0===Object.keys(L).length?null:L}function He(z,L){return L.map(B=>B(z))}function Yt(z){return z.map(L=>function(z){return!z.validate}(L)?L:B=>L.validate(B))}function ht(z){if(!z)return null;const L=z.filter(ie);return 0==L.length?null:function(B){return ve(He(B,L))}}function Bt(z){return null!=z?ht(Yt(z)):null}function Ht(z){if(!z)return null;const L=z.filter(ie);return 0==L.length?null:function(B){const Ce=He(B,L).map(Ge);return(0,e.D)(Ce).pipe((0,n.U)(ve))}}function Kt(z){return null!=z?Ht(Yt(z)):null}function vi(z,L){return null===z?[L]:Array.isArray(z)?[...z,L]:[z,L]}function qt(z){return z._rawValidators}function Lt(z){return z._rawAsyncValidators}function ri(z){return z?Array.isArray(z)?z:[z]:[]}function Ne(z,L){return Array.isArray(z)?z.includes(L):z===L}function _t(z,L){const B=ri(L);return ri(z).forEach(Et=>{Ne(B,Et)||B.push(Et)}),B}function Ke(z,L){return ri(L).filter(B=>!Ne(z,B))}class Je{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=Kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,B){return!!this.control&&this.control.hasError(L,B)}getError(L,B){return this.control?this.control.getError(L,B):null}}class we extends Je{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Le extends Je{get formDirective(){return null}get path(){return null}}class dt{constructor(L){this._cd=L}is(L){var B,Ce,Et;return"submitted"===L?!!(null===(B=this._cd)||void 0===B?void 0:B.submitted):!!(null===(Et=null===(Ce=this._cd)||void 0===Ce?void 0:Ce.control)||void 0===Et?void 0:Et[L])}}let ze=(()=>{class z extends dt{constructor(B){super(B)}}return z.\u0275fac=function(B){return new(B||z)(v.Y36(we,2))},z.\u0275dir=v.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,Ce){2&B&&v.ekj("ng-untouched",Ce.is("untouched"))("ng-touched",Ce.is("touched"))("ng-pristine",Ce.is("pristine"))("ng-dirty",Ce.is("dirty"))("ng-valid",Ce.is("valid"))("ng-invalid",Ce.is("invalid"))("ng-pending",Ce.is("pending"))},features:[v.qOj]}),z})(),Ye=(()=>{class z extends dt{constructor(B){super(B)}}return z.\u0275fac=function(B){return new(B||z)(v.Y36(Le,10))},z.\u0275dir=v.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(B,Ce){2&B&&v.ekj("ng-untouched",Ce.is("untouched"))("ng-touched",Ce.is("touched"))("ng-pristine",Ce.is("pristine"))("ng-dirty",Ce.is("dirty"))("ng-valid",Ce.is("valid"))("ng-invalid",Ce.is("invalid"))("ng-pending",Ce.is("pending"))("ng-submitted",Ce.is("submitted"))},features:[v.qOj]}),z})();function Ei(z,L){ut(z,L),L.valueAccessor.writeValue(z.value),function(z,L){L.valueAccessor.registerOnChange(B=>{z._pendingValue=B,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Nt(z,L)})}(z,L),function(z,L){const B=(Ce,Et)=>{L.valueAccessor.writeValue(Ce),Et&&L.viewToModelUpdate(Ce)};z.registerOnChange(B),L._registerOnDestroy(()=>{z._unregisterOnChange(B)})}(z,L),function(z,L){L.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Nt(z,L),"submit"!==z.updateOn&&z.markAsTouched()})}(z,L),function(z,L){if(L.valueAccessor.setDisabledState){const B=Ce=>{L.valueAccessor.setDisabledState(Ce)};z.registerOnDisabledChange(B),L._registerOnDestroy(()=>{z._unregisterOnDisabledChange(B)})}}(z,L)}function gi(z,L,B=!0){const Ce=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(Ce),L.valueAccessor.registerOnTouched(Ce)),Wt(z,L),z&&(L._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function jt(z,L){z.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(L)})}function ut(z,L){const B=qt(z);null!==L.validator?z.setValidators(vi(B,L.validator)):"function"==typeof B&&z.setValidators([B]);const Ce=Lt(z);null!==L.asyncValidator?z.setAsyncValidators(vi(Ce,L.asyncValidator)):"function"==typeof Ce&&z.setAsyncValidators([Ce]);const Et=()=>z.updateValueAndValidity();jt(L._rawValidators,Et),jt(L._rawAsyncValidators,Et)}function Wt(z,L){let B=!1;if(null!==z){if(null!==L.validator){const Et=qt(z);if(Array.isArray(Et)&&Et.length>0){const ti=Et.filter(Li=>Li!==L.validator);ti.length!==Et.length&&(B=!0,z.setValidators(ti))}}if(null!==L.asyncValidator){const Et=Lt(z);if(Array.isArray(Et)&&Et.length>0){const ti=Et.filter(Li=>Li!==L.asyncValidator);ti.length!==Et.length&&(B=!0,z.setAsyncValidators(ti))}}}const Ce=()=>{};return jt(L._rawValidators,Ce),jt(L._rawAsyncValidators,Ce),B}function Nt(z,L){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Me(z,L){ut(z,L)}function vt(z,L){if(!z.hasOwnProperty("model"))return!1;const B=z.model;return!!B.isFirstChange()||!Object.is(L,B.currentValue)}function ki(z,L){z._syncPendingControls(),L.forEach(B=>{const Ce=B.control;"submit"===Ce.updateOn&&Ce._pendingChange&&(B.viewToModelUpdate(Ce._pendingValue),Ce._pendingChange=!1)})}function Zi(z,L){if(!L)return null;let B,Ce,Et;return Array.isArray(L),L.forEach(ti=>{ti.constructor===K?B=ti:function(z){return Object.getPrototypeOf(z.constructor)===u}(ti)?Ce=ti:Et=ti}),Et||Ce||B||null}function wn(z,L){const B=z.indexOf(L);B>-1&&z.splice(B,1)}const Rt="VALID",Ct="INVALID",Xt="PENDING",pi="DISABLED";function cn(z){return(Kr(z)?z.validators:z)||null}function On(z){return Array.isArray(z)?Bt(z):z||null}function rr(z,L){return(Kr(L)?L.asyncValidators:z)||null}function uo(z){return Array.isArray(z)?Kt(z):z||null}function Kr(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class No{constructor(L,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=B,this._composedValidatorFn=On(this._rawValidators),this._composedAsyncValidatorFn=uo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Rt}get invalid(){return this.status===Ct}get pending(){return this.status==Xt}get disabled(){return this.status===pi}get enabled(){return this.status!==pi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=On(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=uo(L)}addValidators(L){this.setValidators(_t(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(_t(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Ke(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Ke(L,this._rawAsyncValidators))}hasValidator(L){return Ne(this._rawValidators,L)}hasAsyncValidator(L){return Ne(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=Xt,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const B=this._parentMarkedDirty(L.onlySelf);this.status=pi,this.errors=null,this._forEachChild(Ce=>{Ce.disable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:B})),this._onDisabledChange.forEach(Ce=>Ce(!0))}enable(L={}){const B=this._parentMarkedDirty(L.onlySelf);this.status=Rt,this._forEachChild(Ce=>{Ce.enable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:B})),this._onDisabledChange.forEach(Ce=>Ce(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rt||this.status===Xt)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pi:Rt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=Xt,this._hasOwnPendingAsyncValidator=!0;const B=Ge(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(Ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ce,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,B={}){this.errors=L,this._updateControlsErrors(!1!==B.emitEvent)}get(L){return function(z,L,B){if(null==L||(Array.isArray(L)||(L=L.split(".")),Array.isArray(L)&&0===L.length))return null;let Ce=z;return L.forEach(Et=>{Ce=Ce instanceof $n?Ce.controls.hasOwnProperty(Et)?Ce.controls[Et]:null:Ce instanceof Is&&Ce.at(Et)||null}),Ce}(this,L)}getError(L,B){const Ce=B?this.get(B):this;return Ce&&Ce.errors?Ce.errors[L]:null}hasError(L,B){return!!this.getError(L,B)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?pi:this.errors?Ct:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xt)?Xt:this._anyControlsHaveStatus(Ct)?Ct:Rt}_anyControlsHaveStatus(L){return this._anyControls(B=>B.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_isBoxedValue(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Kr(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class no extends No{constructor(L=null,B,Ce){super(cn(B),rr(Ce,B)),this._onChange=[],this._applyFormState(L),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(L,B={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(Ce=>Ce(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(L,B={}){this.setValue(L,B)}reset(L=null,B={}){this._applyFormState(L),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){wn(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){wn(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){this._isBoxedValue(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}}class $n extends No{constructor(L,B,Ce){super(cn(B),rr(Ce,B)),this.controls=L,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,B){return this.controls[L]?this.controls[L]:(this.controls[L]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(L,B,Ce={}){this.registerControl(L,B),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}removeControl(L,B={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(L,B,Ce={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],B&&this.registerControl(L,B),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,B={}){this._checkAllValuesPresent(L),Object.keys(L).forEach(Ce=>{this._throwIfControlMissing(Ce),this.controls[Ce].setValue(L[Ce],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(L,B={}){null!=L&&(Object.keys(L).forEach(Ce=>{this.controls[Ce]&&this.controls[Ce].patchValue(L[Ce],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(L={},B={}){this._forEachChild((Ce,Et)=>{Ce.reset(L[Et],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(L,B,Ce)=>(L[Ce]=B instanceof no?B.value:B.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(B,Ce)=>!!Ce._syncPendingControls()||B);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_throwIfControlMissing(L){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[L])throw new Error(`Cannot find form control with name: ${L}.`)}_forEachChild(L){Object.keys(this.controls).forEach(B=>{const Ce=this.controls[B];Ce&&L(Ce,B)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const B of Object.keys(this.controls)){const Ce=this.controls[B];if(this.contains(B)&&L(Ce))return!0}return!1}_reduceValue(){return this._reduceChildren({},(L,B,Ce)=>((B.enabled||this.disabled)&&(L[Ce]=B.value),L))}_reduceChildren(L,B){let Ce=L;return this._forEachChild((Et,ti)=>{Ce=B(Ce,Et,ti)}),Ce}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(L){this._forEachChild((B,Ce)=>{if(void 0===L[Ce])throw new Error(`Must supply a value for form control with name: '${Ce}'.`)})}}class Is extends No{constructor(L,B,Ce){super(cn(B),rr(Ce,B)),this.controls=L,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[L]}push(L,B={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(L,B,Ce={}){this.controls.splice(L,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:Ce.emitEvent})}removeAt(L,B={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(L,B,Ce={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),B&&(this.controls.splice(L,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,B={}){this._checkAllValuesPresent(L),L.forEach((Ce,Et)=>{this._throwIfControlMissing(Et),this.at(Et).setValue(Ce,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(L,B={}){null!=L&&(L.forEach((Ce,Et)=>{this.at(Et)&&this.at(Et).patchValue(Ce,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(L=[],B={}){this._forEachChild((Ce,Et)=>{Ce.reset(L[Et],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(L=>L instanceof no?L.value:L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_syncPendingControls(){let L=this.controls.reduce((B,Ce)=>!!Ce._syncPendingControls()||B,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_throwIfControlMissing(L){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(L))throw new Error(`Cannot find form control at index ${L}`)}_forEachChild(L){this.controls.forEach((B,Ce)=>{L(B,Ce)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(B=>B.enabled&&L(B))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_checkAllValuesPresent(L){this._forEachChild((B,Ce)=>{if(void 0===L[Ce])throw new Error(`Must supply a value for form control at index: ${Ce}.`)})}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}}const or={provide:Le,useExisting:(0,v.Gpc)(()=>hn)},Hi=(()=>Promise.resolve(null))();let hn=(()=>{class z extends Le{constructor(B,Ce){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new v.vpe,this.form=new $n({},Bt(B),Kt(Ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(B){Hi.then(()=>{const Ce=this._findContainer(B.path);B.control=Ce.registerControl(B.name,B.control),Ei(B.control,B),B.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(B)})}getControl(B){return this.form.get(B.path)}removeControl(B){Hi.then(()=>{const Ce=this._findContainer(B.path);Ce&&Ce.removeControl(B.name),wn(this._directives,B)})}addFormGroup(B){Hi.then(()=>{const Ce=this._findContainer(B.path),Et=new $n({});Me(Et,B),Ce.registerControl(B.name,Et),Et.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(B){Hi.then(()=>{const Ce=this._findContainer(B.path);Ce&&Ce.removeControl(B.name)})}getFormGroup(B){return this.form.get(B.path)}updateModel(B,Ce){Hi.then(()=>{this.form.get(B.path).setValue(Ce)})}setValue(B){this.control.setValue(B)}onSubmit(B){return this.submitted=!0,ki(this.form,this._directives),this.ngSubmit.emit(B),!1}onReset(){this.resetForm()}resetForm(B){this.form.reset(B),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(B){return B.pop(),B.length?this.form.get(B):this.form}}return z.\u0275fac=function(B){return new(B||z)(v.Y36(fe,10),v.Y36(_e,10))},z.\u0275dir=v.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(B,Ce){1&B&&v.NdJ("submit",function(ti){return Ce.onSubmit(ti)})("reset",function(){return Ce.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([or]),v.qOj]}),z})();const $r={provide:we,useExisting:(0,v.Gpc)(()=>jr)},pn=(()=>Promise.resolve(null))();let jr=(()=>{class z extends we{constructor(B,Ce,Et,ti){super(),this.control=new no,this._registered=!1,this.update=new v.vpe,this._parent=B,this._setValidators(Ce),this._setAsyncValidators(Et),this.valueAccessor=Zi(0,ti)}ngOnChanges(B){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in B&&this._updateDisabled(B),vt(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(z,L){return[...L.path,z]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ei(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){pn.then(()=>{this.control.setValue(B,{emitViewToModelChange:!1})})}_updateDisabled(B){const Ce=B.isDisabled.currentValue,Et=""===Ce||Ce&&"false"!==Ce;pn.then(()=>{Et&&!this.control.disabled?this.control.disable():!Et&&this.control.disabled&&this.control.enable()})}}return z.\u0275fac=function(B){return new(B||z)(v.Y36(Le,9),v.Y36(fe,10),v.Y36(_e,10),v.Y36(b,10))},z.\u0275dir=v.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v._Bn([$r]),v.qOj,v.TTD]}),z})(),ro=(()=>{class z{}return z.\u0275fac=function(B){return new(B||z)},z.\u0275dir=v.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})(),Jr=(()=>{class z{}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=v.oAB({type:z}),z.\u0275inj=v.cJS({}),z})();const yr=new v.OlP("NgModelWithFormControlWarning"),Lr={provide:we,useExisting:(0,v.Gpc)(()=>Cs)};let Cs=(()=>{class z extends we{constructor(B,Ce,Et,ti){super(),this._ngModelWarningConfig=ti,this.update=new v.vpe,this._ngModelWarningSent=!1,this._setValidators(B),this._setAsyncValidators(Ce),this.valueAccessor=Zi(0,Et)}set isDisabled(B){}ngOnChanges(B){if(this._isControlChanged(B)){const Ce=B.form.previousValue;Ce&&gi(Ce,this,!1),Ei(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}vt(B,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&gi(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_isControlChanged(B){return B.hasOwnProperty("form")}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function(B){return new(B||z)(v.Y36(fe,10),v.Y36(_e,10),v.Y36(b,10),v.Y36(yr,8))},z.\u0275dir=v.lG2({type:z,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[v._Bn([Lr]),v.qOj,v.TTD]}),z})();const yn={provide:Le,useExisting:(0,v.Gpc)(()=>Fo)};let Fo=(()=>{class z extends Le{constructor(B,Ce){super(),this.validators=B,this.asyncValidators=Ce,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(B),this._setAsyncValidators(Ce)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const Ce=this.form.get(B.path);return Ei(Ce,B),Ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),Ce}getControl(B){return this.form.get(B.path)}removeControl(B){gi(B.control||null,B,!1),wn(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,Ce){this.form.get(B.path).setValue(Ce)}onSubmit(B){return this.submitted=!0,ki(this.form,this.directives),this.ngSubmit.emit(B),!1}onReset(){this.resetForm()}resetForm(B){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const Ce=B.control,Et=this.form.get(B.path);Ce!==Et&&(gi(Ce||null,B),Et instanceof no&&(Ei(Et,B),B.control=Et))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const Ce=this.form.get(B.path);Me(Ce,B),Ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const Ce=this.form.get(B.path);Ce&&function(z,L){return Wt(z,L)}(Ce,B)&&Ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ut(this.form,this),this._oldForm&&Wt(this._oldForm,this)}_checkFormPresent(){}}return z.\u0275fac=function(B){return new(B||z)(v.Y36(fe,10),v.Y36(_e,10))},z.\u0275dir=v.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(B,Ce){1&B&&v.NdJ("submit",function(ti){return Ce.onSubmit(ti)})("reset",function(){return Ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([yn]),v.qOj,v.TTD]}),z})();const xo={provide:fe,useExisting:(0,v.Gpc)(()=>Qr),multi:!0},Ro={provide:fe,useExisting:(0,v.Gpc)(()=>us),multi:!0};let Qr=(()=>{class z{constructor(){this._required=!1}get required(){return this._required}set required(B){this._required=null!=B&&!1!==B&&"false"!=`${B}`,this._onChange&&this._onChange()}validate(B){return this.required?q(B):null}registerOnValidatorChange(B){this._onChange=B}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275dir=v.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(B,Ce){2&B&&v.uIk("required",Ce.required?"":null)},inputs:{required:"required"},features:[v._Bn([xo])]}),z})(),us=(()=>{class z extends Qr{validate(B){return this.required?se(B):null}}return z.\u0275fac=function(){let L;return function(Ce){return(L||(L=v.n5z(z)))(Ce||z)}}(),z.\u0275dir=v.lG2({type:z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(B,Ce){2&B&&v.uIk("required",Ce.required?"":null)},features:[v._Bn([Ro]),v.qOj]}),z})(),yo=(()=>{class z{}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=v.oAB({type:z}),z.\u0275inj=v.cJS({imports:[[Jr]]}),z})(),ca=(()=>{class z{}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=v.oAB({type:z}),z.\u0275inj=v.cJS({imports:[yo]}),z})(),Gn=(()=>{class z{static withConfig(B){return{ngModule:z,providers:[{provide:yr,useValue:B.warnOnNgModelWithFormControl}]}}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=v.oAB({type:z}),z.\u0275inj=v.cJS({imports:[yo]}),z})()},91079:(P,H,h)=>{"use strict";h.d(H,{XC:()=>Yt,Bb:()=>_t,ZL:()=>Lt});var v=h(15664),p=h(63191),t=h(5e3),e=h(90508),n=h(50727),o=h(77579),u=h(49770),b=h(56451),w=h(39646),R=h(54968),N=h(70925),W=h(69808),Z=h(91314),K=h(30495),ae=h(91159),xe=h(99129),fe=h(93075),_e=h(67322),Oe=h(95698),Be=h(63900),Ee=h(39300),ce=h(54004),q=h(18505),se=h(91005),ne=h(50226);const Pe=["panel"];function oe(Ke,Je){if(1&Ke&&(t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA()),2&Ke){const we=Je.id,Le=t.oxw();t.Q6J("id",Le.id)("ngClass",Le._classList),t.uIk("aria-label",Le.ariaLabel||null)("aria-labelledby",Le._getPanelAriaLabelledby(we))}}const de=["*"];let te=0;class ie{constructor(Je,we){this.source=Je,this.option=we}}const Ge=(0,e.Kr)(class{}),ve=new t.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let ct=(()=>{class Ke extends Ge{constructor(we,Le,dt,zt){super(),this._changeDetectorRef=we,this._elementRef=Le,this._activeOptionChanges=n.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new t.vpe,this.opened=new t.vpe,this.closed=new t.vpe,this.optionActivated=new t.vpe,this._classList={},this.id="mat-autocomplete-"+te++,this.inertGroups=(null==zt?void 0:zt.SAFARI)||!1,this._autoActiveFirstOption=!!dt.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(we){this._autoActiveFirstOption=(0,p.Ig)(we)}set classList(we){this._classList=we&&we.length?(0,p.du)(we).reduce((Le,dt)=>(Le[dt]=!0,Le),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new v.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(we=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[we]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(we){this.panel&&(this.panel.nativeElement.scrollTop=we)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(we){const Le=new ie(this,we);this.optionSelected.emit(Le)}_getPanelAriaLabelledby(we){return this.ariaLabel?null:this.ariaLabelledby?(we?we+" ":"")+this.ariaLabelledby:we}_setVisibilityClasses(we){we[this._visibleClass]=this.showPanel,we[this._hiddenClass]=!this.showPanel}}return Ke.\u0275fac=function(we){return new(we||Ke)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(ve),t.Y36(N.t4))},Ke.\u0275dir=t.lG2({type:Ke,viewQuery:function(we,Le){if(1&we&&(t.Gf(t.Rgc,7),t.Gf(Pe,5)),2&we){let dt;t.iGM(dt=t.CRH())&&(Le.template=dt.first),t.iGM(dt=t.CRH())&&(Le.panel=dt.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[t.qOj]}),Ke})(),Yt=(()=>{class Ke extends ct{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return Ke.\u0275fac=function(){let Je;return function(Le){return(Je||(Je=t.n5z(Ke)))(Le||Ke)}}(),Ke.\u0275cmp=t.Xpm({type:Ke,selectors:[["mat-autocomplete"]],contentQueries:function(we,Le,dt){if(1&we&&(t.Suo(dt,e.K7,5),t.Suo(dt,e.ey,5)),2&we){let zt;t.iGM(zt=t.CRH())&&(Le.optionGroups=zt),t.iGM(zt=t.CRH())&&(Le.options=zt)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[t._Bn([{provide:e.HF,useExisting:Ke}]),t.qOj],ngContentSelectors:de,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(we,Le){1&we&&(t.F$t(),t.YNc(0,oe,3,4,"ng-template"))},directives:[W.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),Ke})();const ht=new t.OlP("mat-autocomplete-scroll-strategy"),Ht={provide:ht,deps:[Z.aV],useFactory:function(Ke){return()=>Ke.scrollStrategies.reposition()}},Kt={provide:fe.JU,useExisting:(0,t.Gpc)(()=>Lt),multi:!0};let qt=(()=>{class Ke{constructor(we,Le,dt,zt,lt,ze,Ye,gt,Ze,rt,ot){this._element=we,this._overlay=Le,this._viewContainerRef=dt,this._zone=zt,this._changeDetectorRef=lt,this._dir=Ye,this._formField=gt,this._document=Ze,this._viewportRuler=rt,this._defaults=ot,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=n.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new o.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,u.P)(()=>this.autocomplete&&this.autocomplete.options?(0,b.T)(...this.autocomplete.options.map(be=>be.onSelectionChange)):this._zone.onStable.pipe((0,Oe.q)(1),(0,Be.w)(()=>this.optionSelections))),this._scrollStrategy=ze}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(we){this._autocompleteDisabled=(0,p.Ig)(we)}ngAfterViewInit(){const we=this._getWindow();void 0!==we&&this._zone.runOutsideAngular(()=>we.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(we){we.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const we=this._getWindow();void 0!==we&&we.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,b.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,Ee.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,Ee.h)(()=>this._overlayAttached)):(0,w.of)()).pipe((0,ce.U)(we=>we instanceof e.rN?we:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,b.T)((0,R.R)(this._document,"click"),(0,R.R)(this._document,"auxclick"),(0,R.R)(this._document,"touchend")).pipe((0,Ee.h)(we=>{const Le=(0,N.sA)(we),dt=this._formField?this._formField._elementRef.nativeElement:null,zt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&Le!==this._element.nativeElement&&(!dt||!dt.contains(Le))&&(!zt||!zt.contains(Le))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(Le)}))}writeValue(we){Promise.resolve(null).then(()=>this._setTriggerValue(we))}registerOnChange(we){this._onChange=we}registerOnTouched(we){this._onTouched=we}setDisabledState(we){this._element.nativeElement.disabled=we}_handleKeydown(we){const Le=we.keyCode;if(Le===ae.hY&&!(0,ae.Vb)(we)&&we.preventDefault(),this.activeOption&&Le===ae.K5&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),we.preventDefault();else if(this.autocomplete){const dt=this.autocomplete._keyManager.activeItem,zt=Le===ae.LH||Le===ae.JH;this.panelOpen||Le===ae.Mf?this.autocomplete._keyManager.onKeydown(we):zt&&this._canOpen()&&this.openPanel(),(zt||this.autocomplete._keyManager.activeItem!==dt)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(we){let Le=we.target,dt=Le.value;"number"===Le.type&&(dt=""==dt?null:parseFloat(dt)),this._previousValue!==dt&&(this._previousValue=dt,this._onChange(dt),this._canOpen()&&this._document.activeElement===we.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(we=!1){this._formField&&"auto"===this._formField.floatLabel&&(we?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const we=this._zone.onStable.pipe((0,Oe.q)(1)),Le=this.autocomplete.options.changes.pipe((0,q.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,se.g)(0));return(0,b.T)(we,Le).pipe((0,Be.w)(()=>{const dt=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),dt!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),(0,Oe.q)(1)).subscribe(dt=>this._setValueAndClose(dt))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(we){const Le=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(we):we,dt=null!=Le?Le:"";this._formField?this._formField._control.value=dt:this._element.nativeElement.value=dt,this._previousValue=dt}_setValueAndClose(we){we&&we.source&&(this._clearPreviousSelectedOption(we.source),this._setTriggerValue(we.source.value),this._onChange(we.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(we.source)),this.closePanel()}_clearPreviousSelectedOption(we){this.autocomplete.options.forEach(Le=>{Le!==we&&Le.selected&&Le.deselect()})}_attachOverlay(){var we;let Le=this._overlayRef;Le?(this._positionStrategy.setOrigin(this._getConnectedElement()),Le.updateSize({width:this._getPanelWidth()})):(this._portal=new xe.UE(this.autocomplete.template,this._viewContainerRef,{id:null===(we=this._formField)||void 0===we?void 0:we.getLabelId()}),Le=this._overlay.create(this._getOverlayConfig()),this._overlayRef=Le,Le.keydownEvents().subscribe(zt=>{(zt.keyCode===ae.hY&&!(0,ae.Vb)(zt)||zt.keyCode===ae.LH&&(0,ae.Vb)(zt,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),zt.stopPropagation(),zt.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&Le&&Le.updateSize({width:this._getPanelWidth()})})),Le&&!Le.hasAttached()&&(Le.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const dt=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&dt!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var we;return new Z.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(we=this._defaults)||void 0===we?void 0:we.overlayPanelClass})}_getOverlayPosition(){const we=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(we),this._positionStrategy=we,we}_setStrategyPositions(we){const Le=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],dt=this._aboveClass,zt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:dt},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:dt}];let lt;lt="above"===this.position?zt:"below"===this.position?Le:[...Le,...zt],we.withPositions(lt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const we=this.autocomplete;we.autoActiveFirstOption?we._keyManager.setFirstItemActive():we._keyManager.setActiveItem(-1)}_canOpen(){const we=this._element.nativeElement;return!we.readOnly&&!we.disabled&&!this._autocompleteDisabled}_getWindow(){var we;return(null===(we=this._document)||void 0===we?void 0:we.defaultView)||window}_scrollToOption(we){const Le=this.autocomplete,dt=(0,e.CB)(we,Le.options,Le.optionGroups);if(0===we&&1===dt)Le._setScrollTop(0);else if(Le.panel){const zt=Le.options.toArray()[we];if(zt){const lt=zt._getHostElement(),ze=(0,e.jH)(lt.offsetTop,lt.offsetHeight,Le._getScrollTop(),Le.panel.nativeElement.offsetHeight);Le._setScrollTop(ze)}}}}return Ke.\u0275fac=function(we){return new(we||Ke)(t.Y36(t.SBq),t.Y36(Z.aV),t.Y36(t.s_b),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(ht),t.Y36(ne.Is,8),t.Y36(_e.G_,9),t.Y36(W.K0,8),t.Y36(K.rL),t.Y36(ve,8))},Ke.\u0275dir=t.lG2({type:Ke,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[t.TTD]}),Ke})(),Lt=(()=>{class Ke extends qt{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return Ke.\u0275fac=function(){let Je;return function(Le){return(Je||(Je=t.n5z(Ke)))(Le||Ke)}}(),Ke.\u0275dir=t.lG2({type:Ke,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(we,Le){1&we&&t.NdJ("focusin",function(){return Le._handleFocus()})("blur",function(){return Le._onTouched()})("input",function(zt){return Le._handleInput(zt)})("keydown",function(zt){return Le._handleKeydown(zt)}),2&we&&t.uIk("autocomplete",Le.autocompleteAttribute)("role",Le.autocompleteDisabled?null:"combobox")("aria-autocomplete",Le.autocompleteDisabled?null:"list")("aria-activedescendant",Le.panelOpen&&Le.activeOption?Le.activeOption.id:null)("aria-expanded",Le.autocompleteDisabled?null:Le.panelOpen.toString())("aria-owns",Le.autocompleteDisabled||!Le.panelOpen||null==Le.autocomplete?null:Le.autocomplete.id)("aria-haspopup",!Le.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[t._Bn([Kt]),t.qOj]}),Ke})(),_t=(()=>{class Ke{}return Ke.\u0275fac=function(we){return new(we||Ke)},Ke.\u0275mod=t.oAB({type:Ke}),Ke.\u0275inj=t.cJS({providers:[Ht],imports:[[Z.U8,e.Ng,e.BQ,W.ez],K.ZD,e.Ng,e.BQ]}),Ke})()},47423:(P,H,h)=>{"use strict";h.d(H,{zs:()=>W,lW:()=>N,ot:()=>Z});var v=h(5e3),p=h(90508),t=h(76360),e=h(15664);const n=["mat-button",""],o=["*"],w=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],R=(0,p.pj)((0,p.Id)((0,p.Kr)(class{constructor(K){this._elementRef=K}})));let N=(()=>{class K extends R{constructor(xe,fe,_e){super(xe),this._focusMonitor=fe,this._animationMode=_e,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Oe of w)this._hasHostAttributes(Oe)&&this._getHostElement().classList.add(Oe);xe.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(xe,fe){xe?this._focusMonitor.focusVia(this._getHostElement(),xe,fe):this._getHostElement().focus(fe)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...xe){return xe.some(fe=>this._getHostElement().hasAttribute(fe))}}return K.\u0275fac=function(xe){return new(xe||K)(v.Y36(v.SBq),v.Y36(e.tE),v.Y36(t.Qb,8))},K.\u0275cmp=v.Xpm({type:K,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(xe,fe){if(1&xe&&v.Gf(p.wG,5),2&xe){let _e;v.iGM(_e=v.CRH())&&(fe.ripple=_e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(xe,fe){2&xe&&(v.uIk("disabled",fe.disabled||null),v.ekj("_mat-animation-noopable","NoopAnimations"===fe._animationMode)("mat-button-disabled",fe.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[v.qOj],attrs:n,ngContentSelectors:o,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(xe,fe){1&xe&&(v.F$t(),v.TgZ(0,"span",0),v.Hsn(1),v.qZA(),v._UZ(2,"span",1),v._UZ(3,"span",2)),2&xe&&(v.xp6(2),v.ekj("mat-button-ripple-round",fe.isRoundButton||fe.isIconButton),v.Q6J("matRippleDisabled",fe._isRippleDisabled())("matRippleCentered",fe.isIconButton)("matRippleTrigger",fe._getHostElement()))},directives:[p.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),K})(),W=(()=>{class K extends N{constructor(xe,fe,_e){super(fe,xe,_e)}_haltDisabledEvents(xe){this.disabled&&(xe.preventDefault(),xe.stopImmediatePropagation())}}return K.\u0275fac=function(xe){return new(xe||K)(v.Y36(e.tE),v.Y36(v.SBq),v.Y36(t.Qb,8))},K.\u0275cmp=v.Xpm({type:K,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(xe,fe){1&xe&&v.NdJ("click",function(Oe){return fe._haltDisabledEvents(Oe)}),2&xe&&(v.uIk("tabindex",fe.disabled?-1:fe.tabIndex||0)("disabled",fe.disabled||null)("aria-disabled",fe.disabled.toString()),v.ekj("_mat-animation-noopable","NoopAnimations"===fe._animationMode)("mat-button-disabled",fe.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[v.qOj],attrs:n,ngContentSelectors:o,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(xe,fe){1&xe&&(v.F$t(),v.TgZ(0,"span",0),v.Hsn(1),v.qZA(),v._UZ(2,"span",1),v._UZ(3,"span",2)),2&xe&&(v.xp6(2),v.ekj("mat-button-ripple-round",fe.isRoundButton||fe.isIconButton),v.Q6J("matRippleDisabled",fe._isRippleDisabled())("matRippleCentered",fe.isIconButton)("matRippleTrigger",fe._getHostElement()))},directives:[p.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),K})(),Z=(()=>{class K{}return K.\u0275fac=function(xe){return new(xe||K)},K.\u0275mod=v.oAB({type:K}),K.\u0275inj=v.cJS({imports:[[p.si,p.BQ],p.BQ]}),K})()},90508:(P,H,h)=>{"use strict";h.d(H,{yN:()=>_e,mZ:()=>Oe,_A:()=>Yt,rD:()=>Ne,sG:()=>ht,K7:()=>ui,HF:()=>ci,Y2:()=>ot,BQ:()=>q,X2:()=>_t,uc:()=>we,XK:()=>Lt,ey:()=>ut,Ng:()=>Di,rN:()=>jt,nP:()=>St,us:()=>It,wG:()=>be,si:()=>Ae,IR:()=>gt,CB:()=>Wt,jH:()=>ei,pj:()=>de,Kr:()=>te,Id:()=>oe,FD:()=>Ge,sb:()=>ie,E0:()=>Ke});var v=h(5e3),p=h(50226),e=h(69808),n=h(70925),o=h(15664),u=h(63191),b=h(77579),w=h(68675),R=h(76360),N=h(91159);function K(Nt,it){if(1&Nt&&v._UZ(0,"mat-pseudo-checkbox",4),2&Nt){const Me=v.oxw();v.Q6J("state",Me.selected?"checked":"unchecked")("disabled",Me.disabled)}}function ae(Nt,it){if(1&Nt&&(v.TgZ(0,"span",5),v._uU(1),v.qZA()),2&Nt){const Me=v.oxw();v.xp6(1),v.hij("(",Me.group.label,")")}}const xe=["*"];let _e=(()=>{class Nt{}return Nt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Nt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Nt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Nt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Nt})(),Oe=(()=>{class Nt{}return Nt.COMPLEX="375ms",Nt.ENTERING="225ms",Nt.EXITING="195ms",Nt})();const ce=new v.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let q=(()=>{class Nt{constructor(Me,re,De){this._sanityChecks=re,this._document=De,this._hasDoneGlobalChecks=!1,Me._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Me){return!(0,n.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Me])}}return Nt.\u0275fac=function(Me){return new(Me||Nt)(v.LFG(o.qm),v.LFG(ce,8),v.LFG(e.K0))},Nt.\u0275mod=v.oAB({type:Nt}),Nt.\u0275inj=v.cJS({imports:[[p.vT],p.vT]}),Nt})();function oe(Nt){return class extends Nt{constructor(...it){super(...it),this._disabled=!1}get disabled(){return this._disabled}set disabled(it){this._disabled=(0,u.Ig)(it)}}}function de(Nt,it){return class extends Nt{constructor(...Me){super(...Me),this.defaultColor=it,this.color=it}get color(){return this._color}set color(Me){const re=Me||this.defaultColor;re!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),re&&this._elementRef.nativeElement.classList.add(`mat-${re}`),this._color=re)}}}function te(Nt){return class extends Nt{constructor(...it){super(...it),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(it){this._disableRipple=(0,u.Ig)(it)}}}function ie(Nt,it=0){return class extends Nt{constructor(...Me){super(...Me),this._tabIndex=it,this.defaultTabIndex=it}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Me){this._tabIndex=null!=Me?(0,u.su)(Me):this.defaultTabIndex}}}function Ge(Nt){return class extends Nt{constructor(...it){super(...it),this.stateChanges=new b.x,this.errorState=!1}updateErrorState(){const it=this.errorState,et=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);et!==it&&(this.errorState=et,this.stateChanges.next())}}}const He=new v.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,v.f3M)(v.soG)}});class Yt{constructor(){this._localeChanges=new b.x,this.localeChanges=this._localeChanges}getValidDateOrNull(it){return this.isDateInstance(it)&&this.isValid(it)?it:null}deserialize(it){return null==it||this.isDateInstance(it)&&this.isValid(it)?it:this.invalid()}setLocale(it){this.locale=it,this._localeChanges.next()}compareDate(it,Me){return this.getYear(it)-this.getYear(Me)||this.getMonth(it)-this.getMonth(Me)||this.getDate(it)-this.getDate(Me)}sameDate(it,Me){if(it&&Me){let re=this.isValid(it),De=this.isValid(Me);return re&&De?!this.compareDate(it,Me):re==De}return it==Me}clampDate(it,Me,re){return Me&&this.compareDate(it,Me)<0?Me:re&&this.compareDate(it,re)>0?re:it}}const ht=new v.OlP("mat-date-formats"),Bt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ht(Nt,it){const Me=Array(Nt);for(let re=0;re<Nt;re++)Me[re]=it(re);return Me}let Kt=(()=>{class Nt extends Yt{constructor(Me,re){super(),this.useUtcForDisplay=!1,super.setLocale(Me)}getYear(Me){return Me.getFullYear()}getMonth(Me){return Me.getMonth()}getDate(Me){return Me.getDate()}getDayOfWeek(Me){return Me.getDay()}getMonthNames(Me){const re=new Intl.DateTimeFormat(this.locale,{month:Me,timeZone:"utc"});return Ht(12,De=>this._format(re,new Date(2017,De,1)))}getDateNames(){const Me=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ht(31,re=>this._format(Me,new Date(2017,0,re+1)))}getDayOfWeekNames(Me){const re=new Intl.DateTimeFormat(this.locale,{weekday:Me,timeZone:"utc"});return Ht(7,De=>this._format(re,new Date(2017,0,De+1)))}getYearName(Me){const re=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(re,Me)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Me){return this.getDate(this._createDateWithOverflow(this.getYear(Me),this.getMonth(Me)+1,0))}clone(Me){return new Date(Me.getTime())}createDate(Me,re,De){let et=this._createDateWithOverflow(Me,re,De);return et.getMonth(),et}today(){return new Date}parse(Me){return"number"==typeof Me?new Date(Me):Me?new Date(Date.parse(Me)):null}format(Me,re){if(!this.isValid(Me))throw Error("NativeDateAdapter: Cannot format invalid date.");const De=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},re),{timeZone:"utc"}));return this._format(De,Me)}addCalendarYears(Me,re){return this.addCalendarMonths(Me,12*re)}addCalendarMonths(Me,re){let De=this._createDateWithOverflow(this.getYear(Me),this.getMonth(Me)+re,this.getDate(Me));return this.getMonth(De)!=((this.getMonth(Me)+re)%12+12)%12&&(De=this._createDateWithOverflow(this.getYear(De),this.getMonth(De),0)),De}addCalendarDays(Me,re){return this._createDateWithOverflow(this.getYear(Me),this.getMonth(Me),this.getDate(Me)+re)}toIso8601(Me){return[Me.getUTCFullYear(),this._2digit(Me.getUTCMonth()+1),this._2digit(Me.getUTCDate())].join("-")}deserialize(Me){if("string"==typeof Me){if(!Me)return null;if(Bt.test(Me)){let re=new Date(Me);if(this.isValid(re))return re}}return super.deserialize(Me)}isDateInstance(Me){return Me instanceof Date}isValid(Me){return!isNaN(Me.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Me,re,De){const et=new Date;return et.setFullYear(Me,re,De),et.setHours(0,0,0,0),et}_2digit(Me){return("00"+Me).slice(-2)}_format(Me,re){const De=new Date;return De.setUTCFullYear(re.getFullYear(),re.getMonth(),re.getDate()),De.setUTCHours(re.getHours(),re.getMinutes(),re.getSeconds(),re.getMilliseconds()),Me.format(De)}}return Nt.\u0275fac=function(Me){return new(Me||Nt)(v.LFG(He,8),v.LFG(n.t4))},Nt.\u0275prov=v.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();const vi={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let qt=(()=>{class Nt{}return Nt.\u0275fac=function(Me){return new(Me||Nt)},Nt.\u0275mod=v.oAB({type:Nt}),Nt.\u0275inj=v.cJS({providers:[{provide:Yt,useClass:Kt}],imports:[[n.ud]]}),Nt})(),Lt=(()=>{class Nt{}return Nt.\u0275fac=function(Me){return new(Me||Nt)},Nt.\u0275mod=v.oAB({type:Nt}),Nt.\u0275inj=v.cJS({providers:[{provide:ht,useValue:vi}],imports:[[qt]]}),Nt})(),Ne=(()=>{class Nt{isErrorState(Me,re){return!!(Me&&Me.invalid&&(Me.touched||re&&re.submitted))}}return Nt.\u0275fac=function(Me){return new(Me||Nt)},Nt.\u0275prov=v.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),Nt})(),_t=(()=>{class Nt{}return Nt.\u0275fac=function(Me){return new(Me||Nt)},Nt.\u0275dir=v.lG2({type:Nt,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Nt})();function Ke(Nt,it,Me="mat"){Nt.changes.pipe((0,w.O)(Nt)).subscribe(({length:re})=>{Je(it,`${Me}-2-line`,!1),Je(it,`${Me}-3-line`,!1),Je(it,`${Me}-multi-line`,!1),2===re||3===re?Je(it,`${Me}-${re}-line`,!0):re>3&&Je(it,`${Me}-multi-line`,!0)})}function Je(Nt,it,Me){Nt.nativeElement.classList.toggle(it,Me)}let we=(()=>{class Nt{}return Nt.\u0275fac=function(Me){return new(Me||Nt)},Nt.\u0275mod=v.oAB({type:Nt}),Nt.\u0275inj=v.cJS({imports:[[q],q]}),Nt})();class Le{constructor(it,Me,re){this._renderer=it,this.element=Me,this.config=re,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const dt={enterDuration:225,exitDuration:150},lt=(0,n.i$)({passive:!0}),ze=["mousedown","touchstart"],Ye=["mouseup","mouseleave","touchend","touchcancel"];class gt{constructor(it,Me,re,De){this._target=it,this._ngZone=Me,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,De.isBrowser&&(this._containerElement=(0,u.fI)(re))}fadeInRipple(it,Me,re={}){const De=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),et=Object.assign(Object.assign({},dt),re.animation);re.centered&&(it=De.left+De.width/2,Me=De.top+De.height/2);const vt=re.radius||function(Nt,it,Me){const re=Math.max(Math.abs(Nt-Me.left),Math.abs(Nt-Me.right)),De=Math.max(Math.abs(it-Me.top),Math.abs(it-Me.bottom));return Math.sqrt(re*re+De*De)}(it,Me,De),Ci=it-De.left,ki=Me-De.top,Zi=et.enterDuration,wn=document.createElement("div");wn.classList.add("mat-ripple-element"),wn.style.left=Ci-vt+"px",wn.style.top=ki-vt+"px",wn.style.height=2*vt+"px",wn.style.width=2*vt+"px",null!=re.color&&(wn.style.backgroundColor=re.color),wn.style.transitionDuration=`${Zi}ms`,this._containerElement.appendChild(wn),window.getComputedStyle(wn).getPropertyValue("opacity"),wn.style.transform="scale(1)";const Jt=new Le(this,wn,re);return Jt.state=0,this._activeRipples.add(Jt),re.persistent||(this._mostRecentTransientRipple=Jt),this._runTimeoutOutsideZone(()=>{const Rt=Jt===this._mostRecentTransientRipple;Jt.state=1,!re.persistent&&(!Rt||!this._isPointerDown)&&Jt.fadeOut()},Zi),Jt}fadeOutRipple(it){const Me=this._activeRipples.delete(it);if(it===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!Me)return;const re=it.element,De=Object.assign(Object.assign({},dt),it.config.animation);re.style.transitionDuration=`${De.exitDuration}ms`,re.style.opacity="0",it.state=2,this._runTimeoutOutsideZone(()=>{it.state=3,re.remove()},De.exitDuration)}fadeOutAll(){this._activeRipples.forEach(it=>it.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(it=>{it.config.persistent||it.fadeOut()})}setupTriggerEvents(it){const Me=(0,u.fI)(it);!Me||Me===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Me,this._registerEvents(ze))}handleEvent(it){"mousedown"===it.type?this._onMousedown(it):"touchstart"===it.type?this._onTouchStart(it):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ye),this._pointerUpEventsRegistered=!0)}_onMousedown(it){const Me=(0,o.X6)(it),re=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Me&&!re&&(this._isPointerDown=!0,this.fadeInRipple(it.clientX,it.clientY,this._target.rippleConfig))}_onTouchStart(it){if(!this._target.rippleDisabled&&!(0,o.yG)(it)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Me=it.changedTouches;for(let re=0;re<Me.length;re++)this.fadeInRipple(Me[re].clientX,Me[re].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(it=>{!it.config.persistent&&(1===it.state||it.config.terminateOnPointerUp&&0===it.state)&&it.fadeOut()}))}_runTimeoutOutsideZone(it,Me=0){this._ngZone.runOutsideAngular(()=>setTimeout(it,Me))}_registerEvents(it){this._ngZone.runOutsideAngular(()=>{it.forEach(Me=>{this._triggerElement.addEventListener(Me,this,lt)})})}_removeTriggerEvents(){this._triggerElement&&(ze.forEach(it=>{this._triggerElement.removeEventListener(it,this,lt)}),this._pointerUpEventsRegistered&&Ye.forEach(it=>{this._triggerElement.removeEventListener(it,this,lt)}))}}const ot=new v.OlP("mat-ripple-global-options");let be=(()=>{class Nt{constructor(Me,re,De,et,vt){this._elementRef=Me,this._animationMode=vt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=et||{},this._rippleRenderer=new gt(this,re,Me,De)}get disabled(){return this._disabled}set disabled(Me){Me&&this.fadeOutAllNonPersistent(),this._disabled=Me,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Me){this._trigger=Me,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Me,re=0,De){return"number"==typeof Me?this._rippleRenderer.fadeInRipple(Me,re,Object.assign(Object.assign({},this.rippleConfig),De)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),Me))}}return Nt.\u0275fac=function(Me){return new(Me||Nt)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(n.t4),v.Y36(ot,8),v.Y36(R.Qb,8))},Nt.\u0275dir=v.lG2({type:Nt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Me,re){2&Me&&v.ekj("mat-ripple-unbounded",re.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Nt})(),Ae=(()=>{class Nt{}return Nt.\u0275fac=function(Me){return new(Me||Nt)},Nt.\u0275mod=v.oAB({type:Nt}),Nt.\u0275inj=v.cJS({imports:[[q,n.ud],q]}),Nt})(),St=(()=>{class Nt{constructor(Me){this._animationMode=Me,this.state="unchecked",this.disabled=!1}}return Nt.\u0275fac=function(Me){return new(Me||Nt)(v.Y36(R.Qb,8))},Nt.\u0275cmp=v.Xpm({type:Nt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Me,re){2&Me&&v.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===re.state)("mat-pseudo-checkbox-checked","checked"===re.state)("mat-pseudo-checkbox-disabled",re.disabled)("_mat-animation-noopable","NoopAnimations"===re._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Me,re){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),Nt})(),It=(()=>{class Nt{}return Nt.\u0275fac=function(Me){return new(Me||Nt)},Nt.\u0275mod=v.oAB({type:Nt}),Nt.\u0275inj=v.cJS({imports:[[q]]}),Nt})();const ci=new v.OlP("MAT_OPTION_PARENT_COMPONENT"),ui=new v.OlP("MatOptgroup");let gi=0;class jt{constructor(it,Me=!1){this.source=it,this.isUserInput=Me}}let oi=(()=>{class Nt{constructor(Me,re,De,et){this._element=Me,this._changeDetectorRef=re,this._parent=De,this.group=et,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+gi++,this.onSelectionChange=new v.vpe,this._stateChanges=new b.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Me){this._disabled=(0,u.Ig)(Me)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(Me,re){const De=this._getHostElement();"function"==typeof De.focus&&De.focus(re)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Me){(Me.keyCode===N.K5||Me.keyCode===N.L_)&&!(0,N.Vb)(Me)&&(this._selectViaInteraction(),Me.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Me=this.viewValue;Me!==this._mostRecentViewValue&&(this._mostRecentViewValue=Me,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Me=!1){this.onSelectionChange.emit(new jt(this,Me))}}return Nt.\u0275fac=function(Me){v.$Z()},Nt.\u0275dir=v.lG2({type:Nt,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Nt})(),ut=(()=>{class Nt extends oi{constructor(Me,re,De,et){super(Me,re,De,et)}}return Nt.\u0275fac=function(Me){return new(Me||Nt)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(ci,8),v.Y36(ui,8))},Nt.\u0275cmp=v.Xpm({type:Nt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(Me,re){1&Me&&v.NdJ("click",function(){return re._selectViaInteraction()})("keydown",function(et){return re._handleKeydown(et)}),2&Me&&(v.Ikx("id",re.id),v.uIk("tabindex",re._getTabIndex())("aria-selected",re._getAriaSelected())("aria-disabled",re.disabled.toString()),v.ekj("mat-selected",re.selected)("mat-option-multiple",re.multiple)("mat-active",re.active)("mat-option-disabled",re.disabled))},exportAs:["matOption"],features:[v.qOj],ngContentSelectors:xe,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(Me,re){1&Me&&(v.F$t(),v.YNc(0,K,1,2,"mat-pseudo-checkbox",0),v.TgZ(1,"span",1),v.Hsn(2),v.qZA(),v.YNc(3,ae,2,1,"span",2),v._UZ(4,"div",3)),2&Me&&(v.Q6J("ngIf",re.multiple),v.xp6(3),v.Q6J("ngIf",re.group&&re.group._inert),v.xp6(1),v.Q6J("matRippleTrigger",re._getHostElement())("matRippleDisabled",re.disabled||re.disableRipple))},directives:[e.O5,be,St],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),Nt})();function Wt(Nt,it,Me){if(Me.length){let re=it.toArray(),De=Me.toArray(),et=0;for(let vt=0;vt<Nt+1;vt++)re[vt].group&&re[vt].group===De[et]&&et++;return et}return 0}function ei(Nt,it,Me,re){return Nt<Me?Nt:Nt+it>Me+re?Math.max(0,Nt-re+it):Me}let Di=(()=>{class Nt{}return Nt.\u0275fac=function(Me){return new(Me||Nt)},Nt.\u0275mod=v.oAB({type:Nt}),Nt.\u0275inj=v.cJS({imports:[[Ae,e.ez,q,It]]}),Nt})()},48966:(P,H,h)=>{"use strict";h.d(H,{uw:()=>Yt,Is:()=>ri,so:()=>Pe});var v=h(91314),p=h(99129),t=h(5e3),e=h(90508),n=h(50226),o=h(77579),u=h(49770),b=h(50727),w=h(39646),R=h(39300),N=h(95698),W=h(68675),Z=h(70925),K=h(69808),ae=h(41777),xe=h(15664),fe=h(91159),_e=h(76360);function Oe(Ne,_t){}class Be{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const Ee={dialogContainer:(0,ae.X$)("dialogContainer",[(0,ae.SB)("void, exit",(0,ae.oB)({opacity:0,transform:"scale(0.7)"})),(0,ae.SB)("enter",(0,ae.oB)({transform:"none"})),(0,ae.eR)("* => enter",(0,ae.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ae.oB)({transform:"none",opacity:1}))),(0,ae.eR)("* => void, * => exit",(0,ae.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ae.oB)({opacity:0})))])};let q=(()=>{class Ne extends p.en{constructor(Ke,Je,we,Le,dt,zt,lt,ze){super(),this._elementRef=Ke,this._focusTrapFactory=Je,this._changeDetectorRef=we,this._config=dt,this._interactivityChecker=zt,this._ngZone=lt,this._focusMonitor=ze,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Ye=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(Ye)),this._ariaLabelledBy=dt.ariaLabelledBy||null,this._document=Le}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(Ke){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(Ke)}attachTemplatePortal(Ke){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(Ke)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ke,Je){this._interactivityChecker.isFocusable(Ke)||(Ke.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{Ke.addEventListener("blur",()=>Ke.removeAttribute("tabindex")),Ke.addEventListener("mousedown",()=>Ke.removeAttribute("tabindex"))})),Ke.focus(Je)}_focusByCssSelector(Ke,Je){let we=this._elementRef.nativeElement.querySelector(Ke);we&&this._forceFocus(we,Je)}_trapFocus(){const Ke=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ke.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Je=>{Je||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Ke=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&Ke&&"function"==typeof Ke.focus){const Je=(0,Z.ht)(),we=this._elementRef.nativeElement;(!Je||Je===this._document.body||Je===we||we.contains(Je))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ke,this._closeInteractionType),this._closeInteractionType=null):Ke.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Z.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ke=this._elementRef.nativeElement,Je=(0,Z.ht)();return Ke===Je||Ke.contains(Je)}}return Ne.\u0275fac=function(Ke){return new(Ke||Ne)(t.Y36(t.SBq),t.Y36(xe.qV),t.Y36(t.sBO),t.Y36(K.K0,8),t.Y36(Be),t.Y36(xe.ic),t.Y36(t.R0b),t.Y36(xe.tE))},Ne.\u0275dir=t.lG2({type:Ne,viewQuery:function(Ke,Je){if(1&Ke&&t.Gf(p.Pl,7),2&Ke){let we;t.iGM(we=t.CRH())&&(Je._portalOutlet=we.first)}},features:[t.qOj]}),Ne})(),se=(()=>{class Ne extends q{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:Ke,totalTime:Je}){"enter"===Ke?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Je})):"exit"===Ke&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:Je}))}_onAnimationStart({toState:Ke,totalTime:Je}){"enter"===Ke?this._animationStateChanged.next({state:"opening",totalTime:Je}):("exit"===Ke||"void"===Ke)&&this._animationStateChanged.next({state:"closing",totalTime:Je})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return Ne.\u0275fac=function(){let _t;return function(Je){return(_t||(_t=t.n5z(Ne)))(Je||Ne)}}(),Ne.\u0275cmp=t.Xpm({type:Ne,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(Ke,Je){1&Ke&&t.WFA("@dialogContainer.start",function(Le){return Je._onAnimationStart(Le)})("@dialogContainer.done",function(Le){return Je._onAnimationDone(Le)}),2&Ke&&(t.Ikx("id",Je._id),t.uIk("role",Je._config.role)("aria-labelledby",Je._config.ariaLabel?null:Je._ariaLabelledBy)("aria-label",Je._config.ariaLabel)("aria-describedby",Je._config.ariaDescribedBy||null),t.d8E("@dialogContainer",Je._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ke,Je){1&Ke&&t.YNc(0,Oe,0,0,"ng-template",0)},directives:[p.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ee.dialogContainer]}}),Ne})(),ne=0;class Pe{constructor(_t,Ke,Je="mat-dialog-"+ne++){this._overlayRef=_t,this._containerInstance=Ke,this.id=Je,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new o.x,this._afterClosed=new o.x,this._beforeClosed=new o.x,this._state=0,Ke._id=Je,Ke._animationStateChanged.pipe((0,R.h)(we=>"opened"===we.state),(0,N.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ke._animationStateChanged.pipe((0,R.h)(we=>"closed"===we.state),(0,N.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),_t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),_t.keydownEvents().pipe((0,R.h)(we=>we.keyCode===fe.hY&&!this.disableClose&&!(0,fe.Vb)(we))).subscribe(we=>{we.preventDefault(),oe(this,"keyboard")}),_t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():oe(this,"mouse")})}close(_t){this._result=_t,this._containerInstance._animationStateChanged.pipe((0,R.h)(Ke=>"closing"===Ke.state),(0,N.q)(1)).subscribe(Ke=>{this._beforeClosed.next(_t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Ke.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(_t){let Ke=this._getPositionStrategy();return _t&&(_t.left||_t.right)?_t.left?Ke.left(_t.left):Ke.right(_t.right):Ke.centerHorizontally(),_t&&(_t.top||_t.bottom)?_t.top?Ke.top(_t.top):Ke.bottom(_t.bottom):Ke.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(_t="",Ke=""){return this._overlayRef.updateSize({width:_t,height:Ke}),this._overlayRef.updatePosition(),this}addPanelClass(_t){return this._overlayRef.addPanelClass(_t),this}removePanelClass(_t){return this._overlayRef.removePanelClass(_t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function oe(Ne,_t,Ke){return void 0!==Ne._containerInstance&&(Ne._containerInstance._closeInteractionType=_t),Ne.close(Ke)}const de=new t.OlP("MatDialogData"),te=new t.OlP("mat-dialog-default-options"),ie=new t.OlP("mat-dialog-scroll-strategy"),He={provide:ie,deps:[v.aV],useFactory:function(Ne){return()=>Ne.scrollStrategies.block()}};let ct=(()=>{class Ne{constructor(Ke,Je,we,Le,dt,zt,lt,ze,Ye,gt){this._overlay=Ke,this._injector=Je,this._defaultOptions=we,this._parentDialog=Le,this._overlayContainer=dt,this._dialogRefConstructor=lt,this._dialogContainerType=ze,this._dialogDataToken=Ye,this._animationMode=gt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new o.x,this._afterOpenedAtThisLevel=new o.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=(0,u.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,W.O)(void 0))),this._scrollStrategy=zt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Ke=this._parentDialog;return Ke?Ke._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Ke,Je){if(Je=function(Ne,_t){return Object.assign(Object.assign({},_t),Ne)}(Je,this._defaultOptions||new Be),Je.id&&this.getDialogById(Je.id),this._dialogAnimatingOpen)return this._lastDialogRef;const we=this._createOverlay(Je),Le=this._attachDialogContainer(we,Je);if("NoopAnimations"!==this._animationMode){const zt=Le._animationStateChanged.subscribe(lt=>{"opening"===lt.state&&(this._dialogAnimatingOpen=!0),"opened"===lt.state&&(this._dialogAnimatingOpen=!1,zt.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new b.w0),this._animationStateSubscriptions.add(zt)}const dt=this._attachDialogContent(Ke,Le,we,Je);return this._lastDialogRef=dt,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(dt),dt.afterClosed().subscribe(()=>this._removeOpenDialog(dt)),this.afterOpened.next(dt),Le._initializeWithAttachedContent(),dt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Ke){return this.openDialogs.find(Je=>Je.id===Ke)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(Ke){const Je=this._getOverlayConfig(Ke);return this._overlay.create(Je)}_getOverlayConfig(Ke){const Je=new v.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:Ke.scrollStrategy||this._scrollStrategy(),panelClass:Ke.panelClass,hasBackdrop:Ke.hasBackdrop,direction:Ke.direction,minWidth:Ke.minWidth,minHeight:Ke.minHeight,maxWidth:Ke.maxWidth,maxHeight:Ke.maxHeight,disposeOnNavigation:Ke.closeOnNavigation});return Ke.backdropClass&&(Je.backdropClass=Ke.backdropClass),Je}_attachDialogContainer(Ke,Je){const Le=t.zs3.create({parent:Je&&Je.viewContainerRef&&Je.viewContainerRef.injector||this._injector,providers:[{provide:Be,useValue:Je}]}),dt=new p.C5(this._dialogContainerType,Je.viewContainerRef,Le,Je.componentFactoryResolver);return Ke.attach(dt).instance}_attachDialogContent(Ke,Je,we,Le){const dt=new this._dialogRefConstructor(we,Je,Le.id);if(Ke instanceof t.Rgc)Je.attachTemplatePortal(new p.UE(Ke,null,{$implicit:Le.data,dialogRef:dt}));else{const zt=this._createInjector(Le,dt,Je),lt=Je.attachComponentPortal(new p.C5(Ke,Le.viewContainerRef,zt));dt.componentInstance=lt.instance}return dt.updateSize(Le.width,Le.height).updatePosition(Le.position),dt}_createInjector(Ke,Je,we){const Le=Ke&&Ke.viewContainerRef&&Ke.viewContainerRef.injector,dt=[{provide:this._dialogContainerType,useValue:we},{provide:this._dialogDataToken,useValue:Ke.data},{provide:this._dialogRefConstructor,useValue:Je}];return Ke.direction&&(!Le||!Le.get(n.Is,null,t.XFs.Optional))&&dt.push({provide:n.Is,useValue:{value:Ke.direction,change:(0,w.of)()}}),t.zs3.create({parent:Le||this._injector,providers:dt})}_removeOpenDialog(Ke){const Je=this.openDialogs.indexOf(Ke);Je>-1&&(this.openDialogs.splice(Je,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((we,Le)=>{we?Le.setAttribute("aria-hidden",we):Le.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ke=this._overlayContainer.getContainerElement();if(Ke.parentElement){const Je=Ke.parentElement.children;for(let we=Je.length-1;we>-1;we--){let Le=Je[we];Le!==Ke&&"SCRIPT"!==Le.nodeName&&"STYLE"!==Le.nodeName&&!Le.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Le,Le.getAttribute("aria-hidden")),Le.setAttribute("aria-hidden","true"))}}}_closeDialogs(Ke){let Je=Ke.length;for(;Je--;)Ke[Je].close()}}return Ne.\u0275fac=function(Ke){t.$Z()},Ne.\u0275dir=t.lG2({type:Ne}),Ne})(),Yt=(()=>{class Ne extends ct{constructor(Ke,Je,we,Le,dt,zt,lt,ze){super(Ke,Je,Le,zt,lt,dt,Pe,se,de,ze)}}return Ne.\u0275fac=function(Ke){return new(Ke||Ne)(t.LFG(v.aV),t.LFG(t.zs3),t.LFG(K.Ye,8),t.LFG(te,8),t.LFG(ie),t.LFG(Ne,12),t.LFG(v.Xj),t.LFG(_e.Qb,8))},Ne.\u0275prov=t.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),ri=(()=>{class Ne{}return Ne.\u0275fac=function(Ke){return new(Ke||Ne)},Ne.\u0275mod=t.oAB({type:Ne}),Ne.\u0275inj=t.cJS({providers:[Yt,He],imports:[[v.U8,p.eL,e.BQ],e.BQ]}),Ne})()},4834:(P,H,h)=>{"use strict";h.d(H,{d:()=>e,t:()=>n});var v=h(5e3),p=h(63191),t=h(90508);let e=(()=>{class o{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(b){this._vertical=(0,p.Ig)(b)}get inset(){return this._inset}set inset(b){this._inset=(0,p.Ig)(b)}}return o.\u0275fac=function(b){return new(b||o)},o.\u0275cmp=v.Xpm({type:o,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(b,w){2&b&&(v.uIk("aria-orientation",w.vertical?"vertical":"horizontal"),v.ekj("mat-divider-vertical",w.vertical)("mat-divider-horizontal",!w.vertical)("mat-divider-inset",w.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(b,w){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),o})(),n=(()=>{class o{}return o.\u0275fac=function(b){return new(b||o)},o.\u0275mod=v.oAB({type:o}),o.\u0275inj=v.cJS({imports:[[t.BQ],t.BQ]}),o})()},81125:(P,H,h)=>{"use strict";h.d(H,{pp:()=>_t,To:()=>Ke,ib:()=>Ht,u4:()=>ri,yz:()=>Lt,yK:()=>Ne});var v=h(5e3),p=h(63191),t=h(77579),e=h(50727),n=h(20449);let o=0;const u=new v.OlP("CdkAccordion");let b=(()=>{class Je{constructor(){this._stateChanges=new t.x,this._openCloseAllActions=new t.x,this.id="cdk-accordion-"+o++,this._multi=!1}get multi(){return this._multi}set multi(Le){this._multi=(0,p.Ig)(Le)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(Le){this._stateChanges.next(Le)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return Je.\u0275fac=function(Le){return new(Le||Je)},Je.\u0275dir=v.lG2({type:Je,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[v._Bn([{provide:u,useExisting:Je}]),v.TTD]}),Je})(),w=0,R=(()=>{class Je{constructor(Le,dt,zt){this.accordion=Le,this._changeDetectorRef=dt,this._expansionDispatcher=zt,this._openCloseAllSubscription=e.w0.EMPTY,this.closed=new v.vpe,this.opened=new v.vpe,this.destroyed=new v.vpe,this.expandedChange=new v.vpe,this.id="cdk-accordion-child-"+w++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=zt.listen((lt,ze)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===ze&&this.id!==lt&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(Le){Le=(0,p.Ig)(Le),this._expanded!==Le&&(this._expanded=Le,this.expandedChange.emit(Le),Le?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Le){this._disabled=(0,p.Ig)(Le)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(Le=>{this.disabled||(this.expanded=Le)})}}return Je.\u0275fac=function(Le){return new(Le||Je)(v.Y36(u,12),v.Y36(v.sBO),v.Y36(n.A8))},Je.\u0275dir=v.lG2({type:Je,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[v._Bn([{provide:u,useValue:void 0}])]}),Je})(),N=(()=>{class Je{}return Je.\u0275fac=function(Le){return new(Le||Je)},Je.\u0275mod=v.oAB({type:Je}),Je.\u0275inj=v.cJS({}),Je})();var W=h(99129),Z=h(69808),K=h(90508),ae=h(15664),xe=h(71884),fe=h(68675),_e=h(39300),Oe=h(95698),Be=h(91159),Ee=h(76360),ce=h(60515),q=h(56451),se=h(41777);const ne=["body"];function Pe(Je,we){}const oe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],de=["mat-expansion-panel-header","*","mat-action-row"];function te(Je,we){if(1&Je&&v._UZ(0,"span",2),2&Je){const Le=v.oxw();v.Q6J("@indicatorRotate",Le._getExpandedState())}}const ie=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Ge=["mat-panel-title","mat-panel-description","*"],ve=new v.OlP("MAT_ACCORDION"),He="225ms cubic-bezier(0.4,0.0,0.2,1)",ct={indicatorRotate:(0,se.X$)("indicatorRotate",[(0,se.SB)("collapsed, void",(0,se.oB)({transform:"rotate(0deg)"})),(0,se.SB)("expanded",(0,se.oB)({transform:"rotate(180deg)"})),(0,se.eR)("expanded <=> collapsed, void => collapsed",(0,se.jt)(He))]),bodyExpansion:(0,se.X$)("bodyExpansion",[(0,se.SB)("collapsed, void",(0,se.oB)({height:"0px",visibility:"hidden"})),(0,se.SB)("expanded",(0,se.oB)({height:"*",visibility:"visible"})),(0,se.eR)("expanded <=> collapsed, void => collapsed",(0,se.jt)(He))])};let Yt=(()=>{class Je{constructor(Le){this._template=Le}}return Je.\u0275fac=function(Le){return new(Le||Je)(v.Y36(v.Rgc))},Je.\u0275dir=v.lG2({type:Je,selectors:[["ng-template","matExpansionPanelContent",""]]}),Je})(),ht=0;const Bt=new v.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Ht=(()=>{class Je extends R{constructor(Le,dt,zt,lt,ze,Ye,gt){super(Le,dt,zt),this._viewContainerRef=lt,this._animationMode=Ye,this._hideToggle=!1,this.afterExpand=new v.vpe,this.afterCollapse=new v.vpe,this._inputChanges=new t.x,this._headerId="mat-expansion-panel-header-"+ht++,this._bodyAnimationDone=new t.x,this.accordion=Le,this._document=ze,this._bodyAnimationDone.pipe((0,xe.x)((Ze,rt)=>Ze.fromState===rt.fromState&&Ze.toState===rt.toState)).subscribe(Ze=>{"void"!==Ze.fromState&&("expanded"===Ze.toState?this.afterExpand.emit():"collapsed"===Ze.toState&&this.afterCollapse.emit())}),gt&&(this.hideToggle=gt.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(Le){this._hideToggle=(0,p.Ig)(Le)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(Le){this._togglePosition=Le}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,fe.O)(null),(0,_e.h)(()=>this.expanded&&!this._portal),(0,Oe.q)(1)).subscribe(()=>{this._portal=new W.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(Le){this._inputChanges.next(Le)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const Le=this._document.activeElement,dt=this._body.nativeElement;return Le===dt||dt.contains(Le)}return!1}}return Je.\u0275fac=function(Le){return new(Le||Je)(v.Y36(ve,12),v.Y36(v.sBO),v.Y36(n.A8),v.Y36(v.s_b),v.Y36(Z.K0),v.Y36(Ee.Qb,8),v.Y36(Bt,8))},Je.\u0275cmp=v.Xpm({type:Je,selectors:[["mat-expansion-panel"]],contentQueries:function(Le,dt,zt){if(1&Le&&v.Suo(zt,Yt,5),2&Le){let lt;v.iGM(lt=v.CRH())&&(dt._lazyContent=lt.first)}},viewQuery:function(Le,dt){if(1&Le&&v.Gf(ne,5),2&Le){let zt;v.iGM(zt=v.CRH())&&(dt._body=zt.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(Le,dt){2&Le&&v.ekj("mat-expanded",dt.expanded)("_mat-animation-noopable","NoopAnimations"===dt._animationMode)("mat-expansion-panel-spacing",dt._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[v._Bn([{provide:ve,useValue:void 0}]),v.qOj,v.TTD],ngContentSelectors:de,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(Le,dt){1&Le&&(v.F$t(oe),v.Hsn(0),v.TgZ(1,"div",0,1),v.NdJ("@bodyExpansion.done",function(lt){return dt._bodyAnimationDone.next(lt)}),v.TgZ(3,"div",2),v.Hsn(4,1),v.YNc(5,Pe,0,0,"ng-template",3),v.qZA(),v.Hsn(6,2),v.qZA()),2&Le&&(v.xp6(1),v.Q6J("@bodyExpansion",dt._getExpandedState())("id",dt.id),v.uIk("aria-labelledby",dt._headerId),v.xp6(4),v.Q6J("cdkPortalOutlet",dt._portal))},directives:[W.Pl],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ct.bodyExpansion]},changeDetection:0}),Je})();class vi{}const qt=(0,K.sb)(vi);let Lt=(()=>{class Je extends qt{constructor(Le,dt,zt,lt,ze,Ye,gt){super(),this.panel=Le,this._element=dt,this._focusMonitor=zt,this._changeDetectorRef=lt,this._animationMode=Ye,this._parentChangeSubscription=e.w0.EMPTY;const Ze=Le.accordion?Le.accordion._stateChanges.pipe((0,_e.h)(rt=>!(!rt.hideToggle&&!rt.togglePosition))):ce.E;this.tabIndex=parseInt(gt||"")||0,this._parentChangeSubscription=(0,q.T)(Le.opened,Le.closed,Ze,Le._inputChanges.pipe((0,_e.h)(rt=>!!(rt.hideToggle||rt.disabled||rt.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),Le.closed.pipe((0,_e.h)(()=>Le._containsFocus())).subscribe(()=>zt.focusVia(dt,"program")),ze&&(this.expandedHeight=ze.expandedHeight,this.collapsedHeight=ze.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const Le=this._isExpanded();return Le&&this.expandedHeight?this.expandedHeight:!Le&&this.collapsedHeight?this.collapsedHeight:null}_keydown(Le){switch(Le.keyCode){case Be.L_:case Be.K5:(0,Be.Vb)(Le)||(Le.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(Le))}}focus(Le,dt){Le?this._focusMonitor.focusVia(this._element,Le,dt):this._element.nativeElement.focus(dt)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(Le=>{Le&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return Je.\u0275fac=function(Le){return new(Le||Je)(v.Y36(Ht,1),v.Y36(v.SBq),v.Y36(ae.tE),v.Y36(v.sBO),v.Y36(Bt,8),v.Y36(Ee.Qb,8),v.$8M("tabindex"))},Je.\u0275cmp=v.Xpm({type:Je,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(Le,dt){1&Le&&v.NdJ("click",function(){return dt._toggle()})("keydown",function(lt){return dt._keydown(lt)}),2&Le&&(v.uIk("id",dt.panel._headerId)("tabindex",dt.tabIndex)("aria-controls",dt._getPanelId())("aria-expanded",dt._isExpanded())("aria-disabled",dt.panel.disabled),v.Udp("height",dt._getHeaderHeight()),v.ekj("mat-expanded",dt._isExpanded())("mat-expansion-toggle-indicator-after","after"===dt._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===dt._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===dt._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[v.qOj],ngContentSelectors:Ge,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(Le,dt){1&Le&&(v.F$t(ie),v.TgZ(0,"span",0),v.Hsn(1),v.Hsn(2,1),v.Hsn(3,2),v.qZA(),v.YNc(4,te,1,1,"span",1)),2&Le&&(v.xp6(4),v.Q6J("ngIf",dt._showToggle()))},directives:[Z.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[ct.indicatorRotate]},changeDetection:0}),Je})(),ri=(()=>{class Je{}return Je.\u0275fac=function(Le){return new(Le||Je)},Je.\u0275dir=v.lG2({type:Je,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),Je})(),Ne=(()=>{class Je{}return Je.\u0275fac=function(Le){return new(Le||Je)},Je.\u0275dir=v.lG2({type:Je,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),Je})(),_t=(()=>{class Je extends b{constructor(){super(...arguments),this._ownHeaders=new v.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(Le){this._hideToggle=(0,p.Ig)(Le)}ngAfterContentInit(){this._headers.changes.pipe((0,fe.O)(this._headers)).subscribe(Le=>{this._ownHeaders.reset(Le.filter(dt=>dt.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new ae.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(Le){this._keyManager.onKeydown(Le)}_handleHeaderFocus(Le){this._keyManager.updateActiveItem(Le)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return Je.\u0275fac=function(){let we;return function(dt){return(we||(we=v.n5z(Je)))(dt||Je)}}(),Je.\u0275dir=v.lG2({type:Je,selectors:[["mat-accordion"]],contentQueries:function(Le,dt,zt){if(1&Le&&v.Suo(zt,Lt,5),2&Le){let lt;v.iGM(lt=v.CRH())&&(dt._headers=lt)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(Le,dt){2&Le&&v.ekj("mat-accordion-multi",dt.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[v._Bn([{provide:ve,useExisting:Je}]),v.qOj]}),Je})(),Ke=(()=>{class Je{}return Je.\u0275fac=function(Le){return new(Le||Je)},Je.\u0275mod=v.oAB({type:Je}),Je.\u0275inj=v.cJS({imports:[[Z.ez,K.BQ,N,W.eL]]}),Je})()},67322:(P,H,h)=>{"use strict";h.d(H,{G_:()=>Ye,KE:()=>gt,Eo:()=>ht,lN:()=>Ze,hX:()=>ri});var v=h(17144),p=h(69808),t=h(5e3),e=h(90508),n=h(63191),o=h(77579),u=h(56451),b=h(54968),w=h(68675),R=h(82722),N=h(95698),W=h(41777),Z=h(76360),K=h(50226),ae=h(70925);const xe=["connectionContainer"],fe=["inputContainer"],_e=["label"];function Oe(rt,ot){1&rt&&(t.ynx(0),t.TgZ(1,"div",14),t._UZ(2,"div",15),t._UZ(3,"div",16),t._UZ(4,"div",17),t.qZA(),t.TgZ(5,"div",18),t._UZ(6,"div",15),t._UZ(7,"div",16),t._UZ(8,"div",17),t.qZA(),t.BQk())}function Be(rt,ot){if(1&rt){const be=t.EpF();t.TgZ(0,"div",19),t.NdJ("cdkObserveContent",function(){return t.CHM(be),t.oxw().updateOutlineGap()}),t.Hsn(1,1),t.qZA()}if(2&rt){const be=t.oxw();t.Q6J("cdkObserveContentDisabled","outline"!=be.appearance)}}function Ee(rt,ot){if(1&rt&&(t.ynx(0),t.Hsn(1,2),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.BQk()),2&rt){const be=t.oxw(2);t.xp6(3),t.Oqu(be._control.placeholder)}}function ce(rt,ot){1&rt&&t.Hsn(0,3,["*ngSwitchCase","true"])}function q(rt,ot){1&rt&&(t.TgZ(0,"span",23),t._uU(1," *"),t.qZA())}function se(rt,ot){if(1&rt){const be=t.EpF();t.TgZ(0,"label",20,21),t.NdJ("cdkObserveContent",function(){return t.CHM(be),t.oxw().updateOutlineGap()}),t.YNc(2,Ee,4,1,"ng-container",12),t.YNc(3,ce,1,0,"ng-content",12),t.YNc(4,q,2,0,"span",22),t.qZA()}if(2&rt){const be=t.oxw();t.ekj("mat-empty",be._control.empty&&!be._shouldAlwaysFloat())("mat-form-field-empty",be._control.empty&&!be._shouldAlwaysFloat())("mat-accent","accent"==be.color)("mat-warn","warn"==be.color),t.Q6J("cdkObserveContentDisabled","outline"!=be.appearance)("id",be._labelId)("ngSwitch",be._hasLabel()),t.uIk("for",be._control.id)("aria-owns",be._control.id),t.xp6(2),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngIf",!be.hideRequiredMarker&&be._control.required&&!be._control.disabled)}}function ne(rt,ot){1&rt&&(t.TgZ(0,"div",24),t.Hsn(1,4),t.qZA())}function Pe(rt,ot){if(1&rt&&(t.TgZ(0,"div",25),t._UZ(1,"span",26),t.qZA()),2&rt){const be=t.oxw();t.xp6(1),t.ekj("mat-accent","accent"==be.color)("mat-warn","warn"==be.color)}}function oe(rt,ot){if(1&rt&&(t.TgZ(0,"div"),t.Hsn(1,5),t.qZA()),2&rt){const be=t.oxw();t.Q6J("@transitionMessages",be._subscriptAnimationState)}}function de(rt,ot){if(1&rt&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&rt){const be=t.oxw(2);t.Q6J("id",be._hintLabelId),t.xp6(1),t.Oqu(be.hintLabel)}}function te(rt,ot){if(1&rt&&(t.TgZ(0,"div",27),t.YNc(1,de,2,2,"div",28),t.Hsn(2,6),t._UZ(3,"div",29),t.Hsn(4,7),t.qZA()),2&rt){const be=t.oxw();t.Q6J("@transitionMessages",be._subscriptAnimationState),t.xp6(1),t.Q6J("ngIf",be.hintLabel)}}const ie=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ge=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],He=new t.OlP("MatError"),Yt={transitionMessages:(0,W.X$)("transitionMessages",[(0,W.SB)("enter",(0,W.oB)({opacity:1,transform:"translateY(0%)"})),(0,W.eR)("void => enter",[(0,W.oB)({opacity:0,transform:"translateY(-5px)"}),(0,W.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ht=(()=>{class rt{}return rt.\u0275fac=function(be){return new(be||rt)},rt.\u0275dir=t.lG2({type:rt}),rt})();const qt=new t.OlP("MatHint");let ri=(()=>{class rt{}return rt.\u0275fac=function(be){return new(be||rt)},rt.\u0275dir=t.lG2({type:rt,selectors:[["mat-label"]]}),rt})(),Ne=(()=>{class rt{}return rt.\u0275fac=function(be){return new(be||rt)},rt.\u0275dir=t.lG2({type:rt,selectors:[["mat-placeholder"]]}),rt})();const _t=new t.OlP("MatPrefix"),Je=new t.OlP("MatSuffix");let Le=0;const lt=(0,e.pj)(class{constructor(rt){this._elementRef=rt}},"primary"),ze=new t.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ye=new t.OlP("MatFormField");let gt=(()=>{class rt extends lt{constructor(be,Ae,St,It,ci,Zt,li){super(be),this._changeDetectorRef=Ae,this._dir=St,this._defaults=It,this._platform=ci,this._ngZone=Zt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new o.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Le++,this._labelId="mat-form-field-label-"+Le++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==li,this.appearance=It&&It.appearance?It.appearance:"legacy",this._hideRequiredMarker=!(!It||null==It.hideRequiredMarker)&&It.hideRequiredMarker}get appearance(){return this._appearance}set appearance(be){const Ae=this._appearance;this._appearance=be||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Ae!==be&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(be){this._hideRequiredMarker=(0,n.Ig)(be)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(be){this._hintLabel=be,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(be){be!==this._floatLabel&&(this._floatLabel=be||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(be){this._explicitFormFieldControl=be}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const be=this._control;be.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${be.controlType}`),be.stateChanges.pipe((0,w.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),be.ngControl&&be.ngControl.valueChanges&&be.ngControl.valueChanges.pipe((0,R.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,R.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,u.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,w.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,w.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,R.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(be){const Ae=this._control?this._control.ngControl:null;return Ae&&Ae[be]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,b.R)(this._label.nativeElement,"transitionend").pipe((0,N.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let be=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&be.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ae=this._hintChildren?this._hintChildren.find(It=>"start"===It.align):null,St=this._hintChildren?this._hintChildren.find(It=>"end"===It.align):null;Ae?be.push(Ae.id):this._hintLabel&&be.push(this._hintLabelId),St&&be.push(St.id)}else this._errorChildren&&be.push(...this._errorChildren.map(Ae=>Ae.id));this._control.setDescribedByIds(be)}}_validateControlChild(){}updateOutlineGap(){const be=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&be&&be.children.length&&be.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Ae=0,St=0;const It=this._connectionContainerRef.nativeElement,ci=It.querySelectorAll(".mat-form-field-outline-start"),Zt=It.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const li=It.getBoundingClientRect();if(0===li.width&&0===li.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Fi=this._getStartEnd(li),ui=be.children,Ei=this._getStartEnd(ui[0].getBoundingClientRect());let gi=0;for(let jt=0;jt<ui.length;jt++)gi+=ui[jt].offsetWidth;Ae=Math.abs(Ei-Fi)-5,St=gi>0?.75*gi+10:0}for(let li=0;li<ci.length;li++)ci[li].style.width=`${Ae}px`;for(let li=0;li<Zt.length;li++)Zt[li].style.width=`${St}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(be){return this._dir&&"rtl"===this._dir.value?be.right:be.left}_isAttachedToDOM(){const be=this._elementRef.nativeElement;if(be.getRootNode){const Ae=be.getRootNode();return Ae&&Ae!==be}return document.documentElement.contains(be)}}return rt.\u0275fac=function(be){return new(be||rt)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(K.Is,8),t.Y36(ze,8),t.Y36(ae.t4),t.Y36(t.R0b),t.Y36(Z.Qb,8))},rt.\u0275cmp=t.Xpm({type:rt,selectors:[["mat-form-field"]],contentQueries:function(be,Ae,St){if(1&be&&(t.Suo(St,ht,5),t.Suo(St,ht,7),t.Suo(St,ri,5),t.Suo(St,ri,7),t.Suo(St,Ne,5),t.Suo(St,He,5),t.Suo(St,qt,5),t.Suo(St,_t,5),t.Suo(St,Je,5)),2&be){let It;t.iGM(It=t.CRH())&&(Ae._controlNonStatic=It.first),t.iGM(It=t.CRH())&&(Ae._controlStatic=It.first),t.iGM(It=t.CRH())&&(Ae._labelChildNonStatic=It.first),t.iGM(It=t.CRH())&&(Ae._labelChildStatic=It.first),t.iGM(It=t.CRH())&&(Ae._placeholderChild=It.first),t.iGM(It=t.CRH())&&(Ae._errorChildren=It),t.iGM(It=t.CRH())&&(Ae._hintChildren=It),t.iGM(It=t.CRH())&&(Ae._prefixChildren=It),t.iGM(It=t.CRH())&&(Ae._suffixChildren=It)}},viewQuery:function(be,Ae){if(1&be&&(t.Gf(xe,7),t.Gf(fe,5),t.Gf(_e,5)),2&be){let St;t.iGM(St=t.CRH())&&(Ae._connectionContainerRef=St.first),t.iGM(St=t.CRH())&&(Ae._inputContainerRef=St.first),t.iGM(St=t.CRH())&&(Ae._label=St.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(be,Ae){2&be&&t.ekj("mat-form-field-appearance-standard","standard"==Ae.appearance)("mat-form-field-appearance-fill","fill"==Ae.appearance)("mat-form-field-appearance-outline","outline"==Ae.appearance)("mat-form-field-appearance-legacy","legacy"==Ae.appearance)("mat-form-field-invalid",Ae._control.errorState)("mat-form-field-can-float",Ae._canLabelFloat())("mat-form-field-should-float",Ae._shouldLabelFloat())("mat-form-field-has-label",Ae._hasFloatingLabel())("mat-form-field-hide-placeholder",Ae._hideControlPlaceholder())("mat-form-field-disabled",Ae._control.disabled)("mat-form-field-autofilled",Ae._control.autofilled)("mat-focused",Ae._control.focused)("ng-untouched",Ae._shouldForward("untouched"))("ng-touched",Ae._shouldForward("touched"))("ng-pristine",Ae._shouldForward("pristine"))("ng-dirty",Ae._shouldForward("dirty"))("ng-valid",Ae._shouldForward("valid"))("ng-invalid",Ae._shouldForward("invalid"))("ng-pending",Ae._shouldForward("pending"))("_mat-animation-noopable",!Ae._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[t._Bn([{provide:Ye,useExisting:rt}]),t.qOj],ngContentSelectors:Ge,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(be,Ae){1&be&&(t.F$t(ie),t.TgZ(0,"div",0),t.TgZ(1,"div",1,2),t.NdJ("click",function(It){return Ae._control.onContainerClick&&Ae._control.onContainerClick(It)}),t.YNc(3,Oe,9,0,"ng-container",3),t.YNc(4,Be,2,1,"div",4),t.TgZ(5,"div",5,6),t.Hsn(7),t.TgZ(8,"span",7),t.YNc(9,se,5,16,"label",8),t.qZA(),t.qZA(),t.YNc(10,ne,2,0,"div",9),t.qZA(),t.YNc(11,Pe,2,4,"div",10),t.TgZ(12,"div",11),t.YNc(13,oe,2,1,"div",12),t.YNc(14,te,5,2,"div",13),t.qZA(),t.qZA()),2&be&&(t.xp6(3),t.Q6J("ngIf","outline"==Ae.appearance),t.xp6(1),t.Q6J("ngIf",Ae._prefixChildren.length),t.xp6(5),t.Q6J("ngIf",Ae._hasFloatingLabel()),t.xp6(1),t.Q6J("ngIf",Ae._suffixChildren.length),t.xp6(1),t.Q6J("ngIf","outline"!=Ae.appearance),t.xp6(1),t.Q6J("ngSwitch",Ae._getDisplayedMessages()),t.xp6(1),t.Q6J("ngSwitchCase","error"),t.xp6(1),t.Q6J("ngSwitchCase","hint"))},directives:[p.O5,p.RF,p.n9,v.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Yt.transitionMessages]},changeDetection:0}),rt})(),Ze=(()=>{class rt{}return rt.\u0275fac=function(be){return new(be||rt)},rt.\u0275mod=t.oAB({type:rt}),rt.\u0275inj=t.cJS({imports:[[p.ez,e.BQ,v.Q8],e.BQ]}),rt})()},43954:(P,H,h)=>{"use strict";h.d(H,{Il:()=>ne,N6:()=>Pe,DX:()=>W,jo:()=>ae,$H:()=>Z});var v=h(5e3),p=h(90508),t=h(63191),e=h(50226);const n=["*"],o=[[["","mat-grid-avatar",""],["","matGridAvatar",""]],[["","mat-line",""],["","matLine",""]],"*"],u=["[mat-grid-avatar], [matGridAvatar]","[mat-line], [matLine]","*"];class w{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const te=Math.max(...this.tracker);return te>1?this.rowCount+te-1:this.rowCount}update(te,ie){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(te),this.tracker.fill(0,0,this.tracker.length),this.positions=ie.map(Ge=>this._trackTile(Ge))}_trackTile(te){const ie=this._findMatchingGap(te.colspan);return this._markTilePosition(ie,te),this.columnIndex=ie+te.colspan,new R(this.rowIndex,ie)}_findMatchingGap(te){let ie=-1,Ge=-1;do{this.columnIndex+te>this.tracker.length?(this._nextRow(),ie=this.tracker.indexOf(0,this.columnIndex),Ge=this._findGapEndIndex(ie)):(ie=this.tracker.indexOf(0,this.columnIndex),-1!=ie?(Ge=this._findGapEndIndex(ie),this.columnIndex=ie+1):(this._nextRow(),ie=this.tracker.indexOf(0,this.columnIndex),Ge=this._findGapEndIndex(ie)))}while(Ge-ie<te||0==Ge);return Math.max(ie,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let te=0;te<this.tracker.length;te++)this.tracker[te]=Math.max(0,this.tracker[te]-1)}_findGapEndIndex(te){for(let ie=te+1;ie<this.tracker.length;ie++)if(0!=this.tracker[ie])return ie;return this.tracker.length}_markTilePosition(te,ie){for(let Ge=0;Ge<ie.colspan;Ge++)this.tracker[te+Ge]=ie.rowspan}}class R{constructor(te,ie){this.row=te,this.col=ie}}const N=new v.OlP("MAT_GRID_LIST");let W=(()=>{class de{constructor(ie,Ge){this._element=ie,this._gridList=Ge,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(ie){this._rowspan=Math.round((0,t.su)(ie))}get colspan(){return this._colspan}set colspan(ie){this._colspan=Math.round((0,t.su)(ie))}_setStyle(ie,Ge){this._element.nativeElement.style[ie]=Ge}}return de.\u0275fac=function(ie){return new(ie||de)(v.Y36(v.SBq),v.Y36(N,8))},de.\u0275cmp=v.Xpm({type:de,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(ie,Ge){2&ie&&v.uIk("rowspan",Ge.rowspan)("colspan",Ge.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:n,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(ie,Ge){1&ie&&(v.F$t(),v.TgZ(0,"div",0),v.Hsn(1),v.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),de})(),Z=(()=>{class de{constructor(ie){this._element=ie}ngAfterContentInit(){(0,p.E0)(this._lines,this._element)}}return de.\u0275fac=function(ie){return new(ie||de)(v.Y36(v.SBq))},de.\u0275cmp=v.Xpm({type:de,selectors:[["mat-grid-tile-header"],["mat-grid-tile-footer"]],contentQueries:function(ie,Ge,ve){if(1&ie&&v.Suo(ve,p.X2,5),2&ie){let He;v.iGM(He=v.CRH())&&(Ge._lines=He)}},ngContentSelectors:u,decls:4,vars:0,consts:[[1,"mat-grid-list-text"]],template:function(ie,Ge){1&ie&&(v.F$t(o),v.Hsn(0),v.TgZ(1,"div",0),v.Hsn(2,1),v.qZA(),v.Hsn(3,2))},encapsulation:2,changeDetection:0}),de})(),ae=(()=>{class de{}return de.\u0275fac=function(ie){return new(ie||de)},de.\u0275dir=v.lG2({type:de,selectors:[["mat-grid-tile-header"]],hostAttrs:[1,"mat-grid-tile-header"]}),de})();const fe=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class _e{constructor(){this._rows=0,this._rowspan=0}init(te,ie,Ge,ve){this._gutterSize=q(te),this._rows=ie.rowCount,this._rowspan=ie.rowspan,this._cols=Ge,this._direction=ve}getBaseTileSize(te,ie){return`(${te}% - (${this._gutterSize} * ${ie}))`}getTilePosition(te,ie){return 0===ie?"0":ce(`(${te} + ${this._gutterSize}) * ${ie}`)}getTileSize(te,ie){return`(${te} * ${ie}) + (${ie-1} * ${this._gutterSize})`}setStyle(te,ie,Ge){let ve=100/this._cols,He=(this._cols-1)/this._cols;this.setColStyles(te,Ge,ve,He),this.setRowStyles(te,ie,ve,He)}setColStyles(te,ie,Ge,ve){let He=this.getBaseTileSize(Ge,ve);te._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(He,ie)),te._setStyle("width",ce(this.getTileSize(He,te.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(te){return`${this._rowspan} * ${this.getTileSize(te,1)}`}getComputedHeight(){return null}}class Oe extends _e{constructor(te){super(),this.fixedRowHeight=te}init(te,ie,Ge,ve){super.init(te,ie,Ge,ve),this.fixedRowHeight=q(this.fixedRowHeight),fe.test(this.fixedRowHeight)}setRowStyles(te,ie){te._setStyle("top",this.getTilePosition(this.fixedRowHeight,ie)),te._setStyle("height",ce(this.getTileSize(this.fixedRowHeight,te.rowspan)))}getComputedHeight(){return["height",ce(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(te){te._setListStyle(["height",null]),te._tiles&&te._tiles.forEach(ie=>{ie._setStyle("top",null),ie._setStyle("height",null)})}}class Be extends _e{constructor(te){super(),this._parseRatio(te)}setRowStyles(te,ie,Ge,ve){this.baseTileHeight=this.getBaseTileSize(Ge/this.rowHeightRatio,ve),te._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,ie)),te._setStyle("paddingTop",ce(this.getTileSize(this.baseTileHeight,te.rowspan)))}getComputedHeight(){return["paddingBottom",ce(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(te){te._setListStyle(["paddingBottom",null]),te._tiles.forEach(ie=>{ie._setStyle("marginTop",null),ie._setStyle("paddingTop",null)})}_parseRatio(te){const ie=te.split(":");this.rowHeightRatio=parseFloat(ie[0])/parseFloat(ie[1])}}class Ee extends _e{setRowStyles(te,ie){let He=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);te._setStyle("top",this.getTilePosition(He,ie)),te._setStyle("height",ce(this.getTileSize(He,te.rowspan)))}reset(te){te._tiles&&te._tiles.forEach(ie=>{ie._setStyle("top",null),ie._setStyle("height",null)})}}function ce(de){return`calc(${de})`}function q(de){return de.match(/([A-Za-z%]+)$/)?de:`${de}px`}let ne=(()=>{class de{constructor(ie,Ge){this._element=ie,this._dir=Ge,this._gutter="1px"}get cols(){return this._cols}set cols(ie){this._cols=Math.max(1,Math.round((0,t.su)(ie)))}get gutterSize(){return this._gutter}set gutterSize(ie){this._gutter=`${null==ie?"":ie}`}get rowHeight(){return this._rowHeight}set rowHeight(ie){const Ge=`${null==ie?"":ie}`;Ge!==this._rowHeight&&(this._rowHeight=Ge,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(ie){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===ie?new Ee:ie&&ie.indexOf(":")>-1?new Be(ie):new Oe(ie)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new w);const ie=this._tileCoordinator,Ge=this._tiles.filter(He=>!He._gridList||He._gridList===this),ve=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,Ge),this._tileStyler.init(this.gutterSize,ie,this.cols,ve),Ge.forEach((He,ct)=>{const Yt=ie.positions[ct];this._tileStyler.setStyle(He,Yt.row,Yt.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(ie){ie&&(this._element.nativeElement.style[ie[0]]=ie[1])}}return de.\u0275fac=function(ie){return new(ie||de)(v.Y36(v.SBq),v.Y36(e.Is,8))},de.\u0275cmp=v.Xpm({type:de,selectors:[["mat-grid-list"]],contentQueries:function(ie,Ge,ve){if(1&ie&&v.Suo(ve,W,5),2&ie){let He;v.iGM(He=v.CRH())&&(Ge._tiles=He)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(ie,Ge){2&ie&&v.uIk("cols",Ge.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[v._Bn([{provide:N,useExisting:de}])],ngContentSelectors:n,decls:2,vars:0,template:function(ie,Ge){1&ie&&(v.F$t(),v.TgZ(0,"div"),v.Hsn(1),v.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),de})(),Pe=(()=>{class de{}return de.\u0275fac=function(ie){return new(ie||de)},de.\u0275mod=v.oAB({type:de}),de.\u0275inj=v.cJS({imports:[[p.uc,p.BQ],p.uc,p.BQ]}),de})()},63874:(P,H,h)=>{"use strict";h.d(H,{Hw:()=>vi,Ps:()=>qt});var v=h(5e3),p=h(90508),t=h(63191),e=h(69808),n=h(79307),o=h(30576),b=h(39646),w=h(4128),R=h(50727),N=h(18505),W=h(54004),Z=h(70262),K=h(28746),ae=h(13099),xe=h(95698),fe=h(40520),_e=h(22313);const Oe=["*"];let Be;function ce(Lt){var ri;return(null===(ri=function(){if(void 0===Be&&(Be=null,"undefined"!=typeof window)){const Lt=window;void 0!==Lt.trustedTypes&&(Be=Lt.trustedTypes.createPolicy("angular#components",{createHTML:ri=>ri}))}return Be}())||void 0===ri?void 0:ri.createHTML(Lt))||Lt}function q(Lt){return Error(`Unable to find icon with the name "${Lt}"`)}function ne(Lt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Lt}".`)}function Pe(Lt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Lt}".`)}class oe{constructor(ri,Ne,_t){this.url=ri,this.svgText=Ne,this.options=_t}}let de=(()=>{class Lt{constructor(Ne,_t,Ke,Je){this._httpClient=Ne,this._sanitizer=_t,this._errorHandler=Je,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Ke}addSvgIcon(Ne,_t,Ke){return this.addSvgIconInNamespace("",Ne,_t,Ke)}addSvgIconLiteral(Ne,_t,Ke){return this.addSvgIconLiteralInNamespace("",Ne,_t,Ke)}addSvgIconInNamespace(Ne,_t,Ke,Je){return this._addSvgIconConfig(Ne,_t,new oe(Ke,null,Je))}addSvgIconResolver(Ne){return this._resolvers.push(Ne),this}addSvgIconLiteralInNamespace(Ne,_t,Ke,Je){const we=this._sanitizer.sanitize(v.q3G.HTML,Ke);if(!we)throw Pe(Ke);const Le=ce(we);return this._addSvgIconConfig(Ne,_t,new oe("",Le,Je))}addSvgIconSet(Ne,_t){return this.addSvgIconSetInNamespace("",Ne,_t)}addSvgIconSetLiteral(Ne,_t){return this.addSvgIconSetLiteralInNamespace("",Ne,_t)}addSvgIconSetInNamespace(Ne,_t,Ke){return this._addSvgIconSetConfig(Ne,new oe(_t,null,Ke))}addSvgIconSetLiteralInNamespace(Ne,_t,Ke){const Je=this._sanitizer.sanitize(v.q3G.HTML,_t);if(!Je)throw Pe(_t);const we=ce(Je);return this._addSvgIconSetConfig(Ne,new oe("",we,Ke))}registerFontClassAlias(Ne,_t=Ne){return this._fontCssClassesByAlias.set(Ne,_t),this}classNameForFontAlias(Ne){return this._fontCssClassesByAlias.get(Ne)||Ne}setDefaultFontSetClass(Ne){return this._defaultFontSetClass=Ne,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ne){const _t=this._sanitizer.sanitize(v.q3G.RESOURCE_URL,Ne);if(!_t)throw ne(Ne);const Ke=this._cachedIconsByUrl.get(_t);return Ke?(0,b.of)(Ge(Ke)):this._loadSvgIconFromConfig(new oe(Ne,null)).pipe((0,N.b)(Je=>this._cachedIconsByUrl.set(_t,Je)),(0,W.U)(Je=>Ge(Je)))}getNamedSvgIcon(Ne,_t=""){const Ke=ve(_t,Ne);let Je=this._svgIconConfigs.get(Ke);if(Je)return this._getSvgFromConfig(Je);if(Je=this._getIconConfigFromResolvers(_t,Ne),Je)return this._svgIconConfigs.set(Ke,Je),this._getSvgFromConfig(Je);const we=this._iconSetConfigs.get(_t);return we?this._getSvgFromIconSetConfigs(Ne,we):function(Lt,ri){const Ne=(0,o.m)(Lt)?Lt:()=>Lt,_t=Ke=>Ke.error(Ne());return new n.y(_t)}(q(Ke))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ne){return Ne.svgText?(0,b.of)(Ge(this._svgElementFromConfig(Ne))):this._loadSvgIconFromConfig(Ne).pipe((0,W.U)(_t=>Ge(_t)))}_getSvgFromIconSetConfigs(Ne,_t){const Ke=this._extractIconWithNameFromAnySet(Ne,_t);if(Ke)return(0,b.of)(Ke);const Je=_t.filter(we=>!we.svgText).map(we=>this._loadSvgIconSetFromConfig(we).pipe((0,Z.K)(Le=>{const zt=`Loading icon set URL: ${this._sanitizer.sanitize(v.q3G.RESOURCE_URL,we.url)} failed: ${Le.message}`;return this._errorHandler.handleError(new Error(zt)),(0,b.of)(null)})));return(0,w.D)(Je).pipe((0,W.U)(()=>{const we=this._extractIconWithNameFromAnySet(Ne,_t);if(!we)throw q(Ne);return we}))}_extractIconWithNameFromAnySet(Ne,_t){for(let Ke=_t.length-1;Ke>=0;Ke--){const Je=_t[Ke];if(Je.svgText&&Je.svgText.toString().indexOf(Ne)>-1){const we=this._svgElementFromConfig(Je),Le=this._extractSvgIconFromSet(we,Ne,Je.options);if(Le)return Le}}return null}_loadSvgIconFromConfig(Ne){return this._fetchIcon(Ne).pipe((0,N.b)(_t=>Ne.svgText=_t),(0,W.U)(()=>this._svgElementFromConfig(Ne)))}_loadSvgIconSetFromConfig(Ne){return Ne.svgText?(0,b.of)(null):this._fetchIcon(Ne).pipe((0,N.b)(_t=>Ne.svgText=_t))}_extractSvgIconFromSet(Ne,_t,Ke){const Je=Ne.querySelector(`[id="${_t}"]`);if(!Je)return null;const we=Je.cloneNode(!0);if(we.removeAttribute("id"),"svg"===we.nodeName.toLowerCase())return this._setSvgAttributes(we,Ke);if("symbol"===we.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(we),Ke);const Le=this._svgElementFromString(ce("<svg></svg>"));return Le.appendChild(we),this._setSvgAttributes(Le,Ke)}_svgElementFromString(Ne){const _t=this._document.createElement("DIV");_t.innerHTML=Ne;const Ke=_t.querySelector("svg");if(!Ke)throw Error("<svg> tag not found");return Ke}_toSvgElement(Ne){const _t=this._svgElementFromString(ce("<svg></svg>")),Ke=Ne.attributes;for(let Je=0;Je<Ke.length;Je++){const{name:we,value:Le}=Ke[Je];"id"!==we&&_t.setAttribute(we,Le)}for(let Je=0;Je<Ne.childNodes.length;Je++)Ne.childNodes[Je].nodeType===this._document.ELEMENT_NODE&&_t.appendChild(Ne.childNodes[Je].cloneNode(!0));return _t}_setSvgAttributes(Ne,_t){return Ne.setAttribute("fit",""),Ne.setAttribute("height","100%"),Ne.setAttribute("width","100%"),Ne.setAttribute("preserveAspectRatio","xMidYMid meet"),Ne.setAttribute("focusable","false"),_t&&_t.viewBox&&Ne.setAttribute("viewBox",_t.viewBox),Ne}_fetchIcon(Ne){var _t;const{url:Ke,options:Je}=Ne,we=null!==(_t=null==Je?void 0:Je.withCredentials)&&void 0!==_t&&_t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==Ke)throw Error(`Cannot fetch icon from URL "${Ke}".`);const Le=this._sanitizer.sanitize(v.q3G.RESOURCE_URL,Ke);if(!Le)throw ne(Ke);const dt=this._inProgressUrlFetches.get(Le);if(dt)return dt;const zt=this._httpClient.get(Le,{responseType:"text",withCredentials:we}).pipe((0,W.U)(lt=>ce(lt)),(0,K.x)(()=>this._inProgressUrlFetches.delete(Le)),(0,ae.B)());return this._inProgressUrlFetches.set(Le,zt),zt}_addSvgIconConfig(Ne,_t,Ke){return this._svgIconConfigs.set(ve(Ne,_t),Ke),this}_addSvgIconSetConfig(Ne,_t){const Ke=this._iconSetConfigs.get(Ne);return Ke?Ke.push(_t):this._iconSetConfigs.set(Ne,[_t]),this}_svgElementFromConfig(Ne){if(!Ne.svgElement){const _t=this._svgElementFromString(Ne.svgText);this._setSvgAttributes(_t,Ne.options),Ne.svgElement=_t}return Ne.svgElement}_getIconConfigFromResolvers(Ne,_t){for(let Ke=0;Ke<this._resolvers.length;Ke++){const Je=this._resolvers[Ke](_t,Ne);if(Je)return He(Je)?new oe(Je.url,null,Je.options):new oe(Je,null)}}}return Lt.\u0275fac=function(Ne){return new(Ne||Lt)(v.LFG(fe.eN,8),v.LFG(_e.H7),v.LFG(e.K0,8),v.LFG(v.qLn))},Lt.\u0275prov=v.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})();function Ge(Lt){return Lt.cloneNode(!0)}function ve(Lt,ri){return Lt+":"+ri}function He(Lt){return!(!Lt.url||!Lt.options)}const ct=(0,p.pj)(class{constructor(Lt){this._elementRef=Lt}}),Yt=new v.OlP("mat-icon-location",{providedIn:"root",factory:function(){const Lt=(0,v.f3M)(e.K0),ri=Lt?Lt.location:null;return{getPathname:()=>ri?ri.pathname+ri.search:""}}}),Bt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ht=Bt.map(Lt=>`[${Lt}]`).join(", "),Kt=/^url\(['"]?#(.*?)['"]?\)$/;let vi=(()=>{class Lt extends ct{constructor(Ne,_t,Ke,Je,we){super(Ne),this._iconRegistry=_t,this._location=Je,this._errorHandler=we,this._inline=!1,this._currentIconFetch=R.w0.EMPTY,Ke||Ne.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Ne){this._inline=(0,t.Ig)(Ne)}get svgIcon(){return this._svgIcon}set svgIcon(Ne){Ne!==this._svgIcon&&(Ne?this._updateSvgIcon(Ne):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ne)}get fontSet(){return this._fontSet}set fontSet(Ne){const _t=this._cleanupFontValue(Ne);_t!==this._fontSet&&(this._fontSet=_t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ne){const _t=this._cleanupFontValue(Ne);_t!==this._fontIcon&&(this._fontIcon=_t,this._updateFontIconClasses())}_splitIconName(Ne){if(!Ne)return["",""];const _t=Ne.split(":");switch(_t.length){case 1:return["",_t[0]];case 2:return _t;default:throw Error(`Invalid icon name: "${Ne}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ne=this._elementsWithExternalReferences;if(Ne&&Ne.size){const _t=this._location.getPathname();_t!==this._previousPath&&(this._previousPath=_t,this._prependPathToReferences(_t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ne){this._clearSvgElement();const _t=Ne.querySelectorAll("style");for(let Je=0;Je<_t.length;Je++)_t[Je].textContent+=" ";const Ke=this._location.getPathname();this._previousPath=Ke,this._cacheChildrenWithExternalReferences(Ne),this._prependPathToReferences(Ke),this._elementRef.nativeElement.appendChild(Ne)}_clearSvgElement(){const Ne=this._elementRef.nativeElement;let _t=Ne.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();_t--;){const Ke=Ne.childNodes[_t];(1!==Ke.nodeType||"svg"===Ke.nodeName.toLowerCase())&&Ke.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ne=this._elementRef.nativeElement,_t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();_t!=this._previousFontSetClass&&(this._previousFontSetClass&&Ne.classList.remove(this._previousFontSetClass),_t&&Ne.classList.add(_t),this._previousFontSetClass=_t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&Ne.classList.remove(this._previousFontIconClass),this.fontIcon&&Ne.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ne){return"string"==typeof Ne?Ne.trim().split(" ")[0]:Ne}_prependPathToReferences(Ne){const _t=this._elementsWithExternalReferences;_t&&_t.forEach((Ke,Je)=>{Ke.forEach(we=>{Je.setAttribute(we.name,`url('${Ne}#${we.value}')`)})})}_cacheChildrenWithExternalReferences(Ne){const _t=Ne.querySelectorAll(Ht),Ke=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Je=0;Je<_t.length;Je++)Bt.forEach(we=>{const Le=_t[Je],dt=Le.getAttribute(we),zt=dt?dt.match(Kt):null;if(zt){let lt=Ke.get(Le);lt||(lt=[],Ke.set(Le,lt)),lt.push({name:we,value:zt[1]})}})}_updateSvgIcon(Ne){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ne){const[_t,Ke]=this._splitIconName(Ne);_t&&(this._svgNamespace=_t),Ke&&(this._svgName=Ke),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ke,_t).pipe((0,xe.q)(1)).subscribe(Je=>this._setSvgElement(Je),Je=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${_t}:${Ke}! ${Je.message}`))})}}}return Lt.\u0275fac=function(Ne){return new(Ne||Lt)(v.Y36(v.SBq),v.Y36(de),v.$8M("aria-hidden"),v.Y36(Yt),v.Y36(v.qLn))},Lt.\u0275cmp=v.Xpm({type:Lt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(Ne,_t){2&Ne&&(v.uIk("data-mat-icon-type",_t._usingFontIcon()?"font":"svg")("data-mat-icon-name",_t._svgName||_t.fontIcon)("data-mat-icon-namespace",_t._svgNamespace||_t.fontSet),v.ekj("mat-icon-inline",_t.inline)("mat-icon-no-color","primary"!==_t.color&&"accent"!==_t.color&&"warn"!==_t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[v.qOj],ngContentSelectors:Oe,decls:1,vars:0,template:function(Ne,_t){1&Ne&&(v.F$t(),v.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Lt})(),qt=(()=>{class Lt{}return Lt.\u0275fac=function(Ne){return new(Ne||Lt)},Lt.\u0275mod=v.oAB({type:Lt}),Lt.\u0275inj=v.cJS({imports:[[p.BQ],p.BQ]}),Lt})()},77531:(P,H,h)=>{"use strict";h.d(H,{Jk:()=>ae,Nt:()=>Oe,c:()=>Be});var v=h(63191),p=h(70925),t=h(5e3),e=h(93075),n=h(90508),o=h(67322),u=h(77579),b=h(60515);const w=(0,p.i$)({passive:!0});let R=(()=>{class Ee{constructor(q,se){this._platform=q,this._ngZone=se,this._monitoredElements=new Map}monitor(q){if(!this._platform.isBrowser)return b.E;const se=(0,v.fI)(q),ne=this._monitoredElements.get(se);if(ne)return ne.subject;const Pe=new u.x,oe="cdk-text-field-autofilled",de=te=>{"cdk-text-field-autofill-start"!==te.animationName||se.classList.contains(oe)?"cdk-text-field-autofill-end"===te.animationName&&se.classList.contains(oe)&&(se.classList.remove(oe),this._ngZone.run(()=>Pe.next({target:te.target,isAutofilled:!1}))):(se.classList.add(oe),this._ngZone.run(()=>Pe.next({target:te.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{se.addEventListener("animationstart",de,w),se.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(se,{subject:Pe,unlisten:()=>{se.removeEventListener("animationstart",de,w)}}),Pe}stopMonitoring(q){const se=(0,v.fI)(q),ne=this._monitoredElements.get(se);ne&&(ne.unlisten(),ne.subject.complete(),se.classList.remove("cdk-text-field-autofill-monitored"),se.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(se))}ngOnDestroy(){this._monitoredElements.forEach((q,se)=>this.stopMonitoring(se))}}return Ee.\u0275fac=function(q){return new(q||Ee)(t.LFG(p.t4),t.LFG(t.R0b))},Ee.\u0275prov=t.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),Z=(()=>{class Ee{}return Ee.\u0275fac=function(q){return new(q||Ee)},Ee.\u0275mod=t.oAB({type:Ee}),Ee.\u0275inj=t.cJS({imports:[[p.ud]]}),Ee})();const ae=new t.OlP("MAT_INPUT_VALUE_ACCESSOR"),xe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let fe=0;const _e=(0,n.FD)(class{constructor(Ee,ce,q,se){this._defaultErrorStateMatcher=Ee,this._parentForm=ce,this._parentFormGroup=q,this.ngControl=se}});let Oe=(()=>{class Ee extends _e{constructor(q,se,ne,Pe,oe,de,te,ie,Ge,ve){super(de,Pe,oe,ne),this._elementRef=q,this._platform=se,this._autofillMonitor=ie,this._formField=ve,this._uid="mat-input-"+fe++,this.focused=!1,this.stateChanges=new u.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Yt=>(0,p.qK)().has(Yt));const He=this._elementRef.nativeElement,ct=He.nodeName.toLowerCase();this._inputValueAccessor=te||He,this._previousNativeValue=this.value,this.id=this.id,se.IOS&&Ge.runOutsideAngular(()=>{q.nativeElement.addEventListener("keyup",Yt=>{const ht=Yt.target;!ht.value&&0===ht.selectionStart&&0===ht.selectionEnd&&(ht.setSelectionRange(1,1),ht.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ct,this._isTextarea="textarea"===ct,this._isInFormField=!!ve,this._isNativeSelect&&(this.controlType=He.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(q){this._disabled=(0,v.Ig)(q),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(q){this._id=q||this._uid}get required(){var q,se,ne,Pe;return null!==(Pe=null!==(q=this._required)&&void 0!==q?q:null===(ne=null===(se=this.ngControl)||void 0===se?void 0:se.control)||void 0===ne?void 0:ne.hasValidator(e.kI.required))&&void 0!==Pe&&Pe}set required(q){this._required=(0,v.Ig)(q)}get type(){return this._type}set type(q){this._type=q||"text",this._validateType(),!this._isTextarea&&(0,p.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(q){q!==this.value&&(this._inputValueAccessor.value=q,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(q){this._readonly=(0,v.Ig)(q)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(q=>{this.autofilled=q.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(q){this._elementRef.nativeElement.focus(q)}_focusChanged(q){q!==this.focused&&(this.focused=q,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var q,se;const ne=(null===(se=null===(q=this._formField)||void 0===q?void 0:q._hideControlPlaceholder)||void 0===se?void 0:se.call(q))?null:this.placeholder;if(ne!==this._previousPlaceholder){const Pe=this._elementRef.nativeElement;this._previousPlaceholder=ne,ne?Pe.setAttribute("placeholder",ne):Pe.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const q=this._elementRef.nativeElement.value;this._previousNativeValue!==q&&(this._previousNativeValue=q,this.stateChanges.next())}_validateType(){xe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let q=this._elementRef.nativeElement.validity;return q&&q.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const q=this._elementRef.nativeElement,se=q.options[0];return this.focused||q.multiple||!this.empty||!!(q.selectedIndex>-1&&se&&se.label)}return this.focused||!this.empty}setDescribedByIds(q){q.length?this._elementRef.nativeElement.setAttribute("aria-describedby",q.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const q=this._elementRef.nativeElement;return this._isNativeSelect&&(q.multiple||q.size>1)}}return Ee.\u0275fac=function(q){return new(q||Ee)(t.Y36(t.SBq),t.Y36(p.t4),t.Y36(e.a5,10),t.Y36(e.F,8),t.Y36(e.sg,8),t.Y36(n.rD),t.Y36(ae,10),t.Y36(R),t.Y36(t.R0b),t.Y36(o.G_,8))},Ee.\u0275dir=t.lG2({type:Ee,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(q,se){1&q&&t.NdJ("focus",function(){return se._focusChanged(!0)})("blur",function(){return se._focusChanged(!1)})("input",function(){return se._onInput()}),2&q&&(t.Ikx("disabled",se.disabled)("required",se.required),t.uIk("id",se.id)("data-placeholder",se.placeholder)("readonly",se.readonly&&!se._isNativeSelect||null)("aria-invalid",se.empty&&se.required?null:se.errorState)("aria-required",se.required),t.ekj("mat-input-server",se._isServer)("mat-native-select-inline",se._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[t._Bn([{provide:o.Eo,useExisting:Ee}]),t.qOj,t.TTD]}),Ee})(),Be=(()=>{class Ee{}return Ee.\u0275fac=function(q){return new(q||Ee)},Ee.\u0275mod=t.oAB({type:Ee}),Ee.\u0275inj=t.cJS({providers:[n.rD],imports:[[Z,o.lN,n.BQ],Z,o.lN]}),Ee})()},92181:(P,H,h)=>{"use strict";h.d(H,{VK:()=>_t,Tx:()=>ze,p6:()=>lt});var v=h(15664),p=h(63191),t=h(91159),e=h(5e3),n=h(77579),o=h(50727),u=h(56451),b=h(39646),w=h(53101),R=h(68675),N=h(63900),W=h(95698),Z=h(39300),K=h(82722),ae=h(91005),xe=h(41777),fe=h(99129),_e=h(69808),Oe=h(90508),Be=h(91314),Ee=h(70925),ce=h(50226),q=h(30495);const se=["mat-menu-item",""];function ne(Ye,gt){1&Ye&&(e.O4$(),e.TgZ(0,"svg",2),e._UZ(1,"polygon",3),e.qZA())}const Pe=["*"];function oe(Ye,gt){if(1&Ye){const Ze=e.EpF();e.TgZ(0,"div",0),e.NdJ("keydown",function(ot){return e.CHM(Ze),e.oxw()._handleKeydown(ot)})("click",function(){return e.CHM(Ze),e.oxw().closed.emit("click")})("@transformMenu.start",function(ot){return e.CHM(Ze),e.oxw()._onAnimationStart(ot)})("@transformMenu.done",function(ot){return e.CHM(Ze),e.oxw()._onAnimationDone(ot)}),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.qZA()}if(2&Ye){const Ze=e.oxw();e.Q6J("id",Ze.panelId)("ngClass",Ze._classList)("@transformMenu",Ze._panelAnimationState),e.uIk("aria-label",Ze.ariaLabel||null)("aria-labelledby",Ze.ariaLabelledby||null)("aria-describedby",Ze.ariaDescribedby||null)}}const de={transformMenu:(0,xe.X$)("transformMenu",[(0,xe.SB)("void",(0,xe.oB)({opacity:0,transform:"scale(0.8)"})),(0,xe.eR)("void => enter",(0,xe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,xe.oB)({opacity:1,transform:"scale(1)"}))),(0,xe.eR)("* => void",(0,xe.jt)("100ms 25ms linear",(0,xe.oB)({opacity:0})))]),fadeInItems:(0,xe.X$)("fadeInItems",[(0,xe.SB)("showing",(0,xe.oB)({opacity:1})),(0,xe.eR)("void => *",[(0,xe.oB)({opacity:0}),(0,xe.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Ge=new e.OlP("MatMenuContent"),Ht=new e.OlP("MAT_MENU_PANEL"),Kt=(0,Oe.Kr)((0,Oe.Id)(class{}));let vi=(()=>{class Ye extends Kt{constructor(Ze,rt,ot,be,Ae){super(),this._elementRef=Ze,this._focusMonitor=ot,this._parentMenu=be,this._changeDetectorRef=Ae,this.role="menuitem",this._hovered=new n.x,this._focused=new n.x,this._highlighted=!1,this._triggersSubmenu=!1,be&&be.addItem&&be.addItem(this)}focus(Ze,rt){this._focusMonitor&&Ze?this._focusMonitor.focusVia(this._getHostElement(),Ze,rt):this._getHostElement().focus(rt),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Ze){this.disabled&&(Ze.preventDefault(),Ze.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var Ze;const rt=this._elementRef.nativeElement.cloneNode(!0),ot=rt.querySelectorAll("mat-icon, .material-icons");for(let be=0;be<ot.length;be++)ot[be].remove();return(null===(Ze=rt.textContent)||void 0===Ze?void 0:Ze.trim())||""}_setHighlighted(Ze){var rt;this._highlighted=Ze,null===(rt=this._changeDetectorRef)||void 0===rt||rt.markForCheck()}}return Ye.\u0275fac=function(Ze){return new(Ze||Ye)(e.Y36(e.SBq),e.Y36(_e.K0),e.Y36(v.tE),e.Y36(Ht,8),e.Y36(e.sBO))},Ye.\u0275cmp=e.Xpm({type:Ye,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(Ze,rt){1&Ze&&e.NdJ("click",function(be){return rt._checkDisabled(be)})("mouseenter",function(){return rt._handleMouseEnter()}),2&Ze&&(e.uIk("role",rt.role)("tabindex",rt._getTabIndex())("aria-disabled",rt.disabled.toString())("disabled",rt.disabled||null),e.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",rt._highlighted)("mat-menu-item-submenu-trigger",rt._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[e.qOj],attrs:se,ngContentSelectors:Pe,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(Ze,rt){1&Ze&&(e.F$t(),e.Hsn(0),e._UZ(1,"div",0),e.YNc(2,ne,2,0,"svg",1)),2&Ze&&(e.xp6(1),e.Q6J("matRippleDisabled",rt.disableRipple||rt.disabled)("matRippleTrigger",rt._getHostElement()),e.xp6(1),e.Q6J("ngIf",rt._triggersSubmenu))},directives:[Oe.wG,_e.O5],encapsulation:2,changeDetection:0}),Ye})();const qt=new e.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ri=0,Ne=(()=>{class Ye{constructor(Ze,rt,ot){this._elementRef=Ze,this._ngZone=rt,this._defaultOptions=ot,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new e.n_E,this._tabSubscription=o.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new n.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new e.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+ri++}get xPosition(){return this._xPosition}set xPosition(Ze){this._xPosition=Ze,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Ze){this._yPosition=Ze,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(Ze){this._overlapTrigger=(0,p.Ig)(Ze)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ze){this._hasBackdrop=(0,p.Ig)(Ze)}set panelClass(Ze){const rt=this._previousPanelClass;rt&&rt.length&&rt.split(" ").forEach(ot=>{this._classList[ot]=!1}),this._previousPanelClass=Ze,Ze&&Ze.length&&(Ze.split(" ").forEach(ot=>{this._classList[ot]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(Ze){this.panelClass=Ze}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new v.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,R.O)(this._directDescendantItems),(0,N.w)(Ze=>(0,u.T)(...Ze.map(rt=>rt._focused)))).subscribe(Ze=>this._keyManager.updateActiveItem(Ze))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,R.O)(this._directDescendantItems),(0,N.w)(rt=>(0,u.T)(...rt.map(ot=>ot._hovered))))}addItem(Ze){}removeItem(Ze){}_handleKeydown(Ze){const rt=Ze.keyCode,ot=this._keyManager;switch(rt){case t.hY:(0,t.Vb)(Ze)||(Ze.preventDefault(),this.closed.emit("keydown"));break;case t.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case t.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(rt===t.LH||rt===t.JH)&&ot.setFocusOrigin("keyboard"),ot.onKeydown(Ze)}}focusFirstItem(Ze="program"){this.lazyContent?this._ngZone.onStable.pipe((0,W.q)(1)).subscribe(()=>this._focusFirstItem(Ze)):this._focusFirstItem(Ze)}_focusFirstItem(Ze){const rt=this._keyManager;if(rt.setFocusOrigin(Ze).setFirstItemActive(),!rt.activeItem&&this._directDescendantItems.length){let ot=this._directDescendantItems.first._getHostElement().parentElement;for(;ot;){if("menu"===ot.getAttribute("role")){ot.focus();break}ot=ot.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Ze){const rt=Math.min(this._baseElevation+Ze,24),ot=`${this._elevationPrefix}${rt}`,be=Object.keys(this._classList).find(Ae=>Ae.startsWith(this._elevationPrefix));(!be||be===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[ot]=!0,this._previousElevation=ot)}setPositionClasses(Ze=this.xPosition,rt=this.yPosition){const ot=this._classList;ot["mat-menu-before"]="before"===Ze,ot["mat-menu-after"]="after"===Ze,ot["mat-menu-above"]="above"===rt,ot["mat-menu-below"]="below"===rt}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Ze){this._animationDone.next(Ze),this._isAnimating=!1}_onAnimationStart(Ze){this._isAnimating=!0,"enter"===Ze.toState&&0===this._keyManager.activeItemIndex&&(Ze.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,R.O)(this._allItems)).subscribe(Ze=>{this._directDescendantItems.reset(Ze.filter(rt=>rt._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return Ye.\u0275fac=function(Ze){return new(Ze||Ye)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(qt))},Ye.\u0275dir=e.lG2({type:Ye,contentQueries:function(Ze,rt,ot){if(1&Ze&&(e.Suo(ot,Ge,5),e.Suo(ot,vi,5),e.Suo(ot,vi,4)),2&Ze){let be;e.iGM(be=e.CRH())&&(rt.lazyContent=be.first),e.iGM(be=e.CRH())&&(rt._allItems=be),e.iGM(be=e.CRH())&&(rt.items=be)}},viewQuery:function(Ze,rt){if(1&Ze&&e.Gf(e.Rgc,5),2&Ze){let ot;e.iGM(ot=e.CRH())&&(rt.templateRef=ot.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),Ye})(),_t=(()=>{class Ye extends Ne{constructor(Ze,rt,ot){super(Ze,rt,ot),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return Ye.\u0275fac=function(Ze){return new(Ze||Ye)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(qt))},Ye.\u0275cmp=e.Xpm({type:Ye,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(Ze,rt){2&Ze&&e.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[e._Bn([{provide:Ht,useExisting:Ye}]),e.qOj],ngContentSelectors:Pe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(Ze,rt){1&Ze&&(e.F$t(),e.YNc(0,oe,3,6,"ng-template"))},directives:[_e.mk],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[de.transformMenu,de.fadeInItems]},changeDetection:0}),Ye})();const Ke=new e.OlP("mat-menu-scroll-strategy"),we={provide:Ke,deps:[Be.aV],useFactory:function(Ye){return()=>Ye.scrollStrategies.reposition()}},dt=(0,Ee.i$)({passive:!0});let zt=(()=>{class Ye{constructor(Ze,rt,ot,be,Ae,St,It,ci){this._overlay=Ze,this._element=rt,this._viewContainerRef=ot,this._menuItemInstance=St,this._dir=It,this._focusMonitor=ci,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=o.w0.EMPTY,this._hoverSubscription=o.w0.EMPTY,this._menuCloseSubscription=o.w0.EMPTY,this._handleTouchStart=Zt=>{(0,v.yG)(Zt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new e.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=be,this._parentMaterialMenu=Ae instanceof Ne?Ae:void 0,rt.nativeElement.addEventListener("touchstart",this._handleTouchStart,dt),St&&(St._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Ze){this.menu=Ze}get menu(){return this._menu}set menu(Ze){Ze!==this._menu&&(this._menu=Ze,this._menuCloseSubscription.unsubscribe(),Ze&&(this._menuCloseSubscription=Ze.close.subscribe(rt=>{this._destroyMenu(rt),("click"===rt||"tab"===rt)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(rt)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,dt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const Ze=this._createOverlay(),rt=Ze.getConfig();this._setPosition(rt.positionStrategy),rt.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,Ze.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Ne&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(Ze,rt){this._focusMonitor&&Ze?this._focusMonitor.focusVia(this._element,Ze,rt):this._element.nativeElement.focus(rt)}updatePosition(){var Ze;null===(Ze=this._overlayRef)||void 0===Ze||Ze.updatePosition()}_destroyMenu(Ze){if(!this._overlayRef||!this.menuOpen)return;const rt=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Ze||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,rt instanceof Ne?(rt._resetAnimation(),rt.lazyContent?rt._animationDone.pipe((0,Z.h)(ot=>"void"===ot.toState),(0,W.q)(1),(0,K.R)(rt.lazyContent._attached)).subscribe({next:()=>rt.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),rt.lazyContent&&rt.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let Ze=0,rt=this.menu.parentMenu;for(;rt;)Ze++,rt=rt.parentMenu;this.menu.setElevation(Ze)}}_setIsMenuOpen(Ze){this._menuOpen=Ze,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Ze)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const Ze=this._getOverlayConfig();this._subscribeToPositions(Ze.positionStrategy),this._overlayRef=this._overlay.create(Ze),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Be.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Ze){this.menu.setPositionClasses&&Ze.positionChanges.subscribe(rt=>{this.menu.setPositionClasses("start"===rt.connectionPair.overlayX?"after":"before","top"===rt.connectionPair.overlayY?"below":"above")})}_setPosition(Ze){let[rt,ot]="before"===this.menu.xPosition?["end","start"]:["start","end"],[be,Ae]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[St,It]=[be,Ae],[ci,Zt]=[rt,ot],li=0;this.triggersSubmenu()?(Zt=rt="before"===this.menu.xPosition?"start":"end",ot=ci="end"===rt?"start":"end",li="bottom"===be?8:-8):this.menu.overlapTrigger||(St="top"===be?"bottom":"top",It="top"===Ae?"bottom":"top"),Ze.withPositions([{originX:rt,originY:St,overlayX:ci,overlayY:be,offsetY:li},{originX:ot,originY:St,overlayX:Zt,overlayY:be,offsetY:li},{originX:rt,originY:It,overlayX:ci,overlayY:Ae,offsetY:-li},{originX:ot,originY:It,overlayX:Zt,overlayY:Ae,offsetY:-li}])}_menuClosingActions(){const Ze=this._overlayRef.backdropClick(),rt=this._overlayRef.detachments(),ot=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,b.of)(),be=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Z.h)(Ae=>Ae!==this._menuItemInstance),(0,Z.h)(()=>this._menuOpen)):(0,b.of)();return(0,u.T)(Ze,ot,be,rt)}_handleMousedown(Ze){(0,v.X6)(Ze)||(this._openedBy=0===Ze.button?"mouse":void 0,this.triggersSubmenu()&&Ze.preventDefault())}_handleKeydown(Ze){const rt=Ze.keyCode;(rt===t.K5||rt===t.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(rt===t.SV&&"ltr"===this.dir||rt===t.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Ze){this.triggersSubmenu()?(Ze.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Z.h)(Ze=>Ze===this._menuItemInstance&&!Ze.disabled),(0,ae.g)(0,w.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ne&&this.menu._isAnimating?this.menu._animationDone.pipe((0,W.q)(1),(0,ae.g)(0,w.E),(0,K.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new fe.UE(this.menu.templateRef,this._viewContainerRef)),this._portal}}return Ye.\u0275fac=function(Ze){return new(Ze||Ye)(e.Y36(Be.aV),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(Ke),e.Y36(Ht,8),e.Y36(vi,10),e.Y36(ce.Is,8),e.Y36(v.tE))},Ye.\u0275dir=e.lG2({type:Ye,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(Ze,rt){1&Ze&&e.NdJ("click",function(be){return rt._handleClick(be)})("mousedown",function(be){return rt._handleMousedown(be)})("keydown",function(be){return rt._handleKeydown(be)}),2&Ze&&e.uIk("aria-expanded",rt.menuOpen||null)("aria-controls",rt.menuOpen?rt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),Ye})(),lt=(()=>{class Ye extends zt{}return Ye.\u0275fac=function(){let gt;return function(rt){return(gt||(gt=e.n5z(Ye)))(rt||Ye)}}(),Ye.\u0275dir=e.lG2({type:Ye,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[e.qOj]}),Ye})(),ze=(()=>{class Ye{}return Ye.\u0275fac=function(Ze){return new(Ze||Ye)},Ye.\u0275mod=e.oAB({type:Ye}),Ye.\u0275inj=e.cJS({providers:[we],imports:[[_e.ez,Oe.BQ,Oe.si,Be.U8],q.ZD,Oe.BQ]}),Ye})()},20773:(P,H,h)=>{"use strict";h.d(H,{Cq:()=>Be,$g:()=>Oe});var v=h(5e3),p=h(69808),t=h(90508),e=h(63191),n=h(70925),o=h(76360);function u(Ee,ce){if(1&Ee&&(v.O4$(),v._UZ(0,"circle",3)),2&Ee){const q=v.oxw();v.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+q._spinnerAnimationLabel)("stroke-dashoffset",q._getStrokeDashOffset(),"px")("stroke-dasharray",q._getStrokeCircumference(),"px")("stroke-width",q._getCircleStrokeWidth(),"%"),v.uIk("r",q._getCircleRadius())}}function b(Ee,ce){if(1&Ee&&(v.O4$(),v._UZ(0,"circle",3)),2&Ee){const q=v.oxw();v.Udp("stroke-dashoffset",q._getStrokeDashOffset(),"px")("stroke-dasharray",q._getStrokeCircumference(),"px")("stroke-width",q._getCircleStrokeWidth(),"%"),v.uIk("r",q._getCircleRadius())}}function w(Ee,ce){if(1&Ee&&(v.O4$(),v._UZ(0,"circle",3)),2&Ee){const q=v.oxw();v.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+q._spinnerAnimationLabel)("stroke-dashoffset",q._getStrokeDashOffset(),"px")("stroke-dasharray",q._getStrokeCircumference(),"px")("stroke-width",q._getCircleStrokeWidth(),"%"),v.uIk("r",q._getCircleRadius())}}function R(Ee,ce){if(1&Ee&&(v.O4$(),v._UZ(0,"circle",3)),2&Ee){const q=v.oxw();v.Udp("stroke-dashoffset",q._getStrokeDashOffset(),"px")("stroke-dasharray",q._getStrokeCircumference(),"px")("stroke-width",q._getCircleStrokeWidth(),"%"),v.uIk("r",q._getCircleRadius())}}const K=(0,t.pj)(class{constructor(Ee){this._elementRef=Ee}},"primary"),ae=new v.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class _e extends K{constructor(ce,q,se,ne,Pe){super(ce),this._document=se,this._diameter=100,this._value=0,this.mode="determinate";const oe=_e._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),oe.has(se.head)||oe.set(se.head,new Set([100])),this._noopAnimations="NoopAnimations"===ne&&!!Pe&&!Pe._forceAnimations,Pe&&(Pe.diameter&&(this.diameter=Pe.diameter),Pe.strokeWidth&&(this.strokeWidth=Pe.strokeWidth))}get diameter(){return this._diameter}set diameter(ce){this._diameter=(0,e.su)(ce),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(ce){this._strokeWidth=(0,e.su)(ce)}get value(){return"determinate"===this.mode?this._value:0}set value(ce){this._value=Math.max(0,Math.min(100,(0,e.su)(ce)))}ngOnInit(){const ce=this._elementRef.nativeElement;this._styleRoot=(0,n.kV)(ce)||this._document.head,this._attachStyleNode(),ce.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const ce=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${ce} ${ce}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const ce=this._styleRoot,q=this._diameter,se=_e._diameters;let ne=se.get(ce);if(!ne||!ne.has(q)){const Pe=this._document.createElement("style");Pe.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Pe.textContent=this._getAnimationText(),ce.appendChild(Pe),ne||(ne=new Set,se.set(ce,ne)),ne.add(q)}}_getAnimationText(){const ce=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*ce).replace(/END_VALUE/g,""+.2*ce).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}_e._diameters=new WeakMap,_e.\u0275fac=function(ce){return new(ce||_e)(v.Y36(v.SBq),v.Y36(n.t4),v.Y36(p.K0,8),v.Y36(o.Qb,8),v.Y36(ae))},_e.\u0275cmp=v.Xpm({type:_e,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(ce,q){2&ce&&(v.uIk("aria-valuemin","determinate"===q.mode?0:null)("aria-valuemax","determinate"===q.mode?100:null)("aria-valuenow","determinate"===q.mode?q.value:null)("mode",q.mode),v.Udp("width",q.diameter,"px")("height",q.diameter,"px"),v.ekj("_mat-animation-noopable",q._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[v.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(ce,q){1&ce&&(v.O4$(),v.TgZ(0,"svg",0),v.YNc(1,u,1,9,"circle",1),v.YNc(2,b,1,7,"circle",2),v.qZA()),2&ce&&(v.Udp("width",q.diameter,"px")("height",q.diameter,"px"),v.Q6J("ngSwitch","indeterminate"===q.mode),v.uIk("viewBox",q._getViewBox()),v.xp6(1),v.Q6J("ngSwitchCase",!0),v.xp6(1),v.Q6J("ngSwitchCase",!1))},directives:[p.RF,p.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Oe=(()=>{class Ee extends _e{constructor(q,se,ne,Pe,oe){super(q,se,ne,Pe,oe),this.mode="indeterminate"}}return Ee.\u0275fac=function(q){return new(q||Ee)(v.Y36(v.SBq),v.Y36(n.t4),v.Y36(p.K0,8),v.Y36(o.Qb,8),v.Y36(ae))},Ee.\u0275cmp=v.Xpm({type:Ee,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(q,se){2&q&&(v.Udp("width",se.diameter,"px")("height",se.diameter,"px"),v.ekj("_mat-animation-noopable",se._noopAnimations))},inputs:{color:"color"},features:[v.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(q,se){1&q&&(v.O4$(),v.TgZ(0,"svg",0),v.YNc(1,w,1,9,"circle",1),v.YNc(2,R,1,7,"circle",2),v.qZA()),2&q&&(v.Udp("width",se.diameter,"px")("height",se.diameter,"px"),v.Q6J("ngSwitch","indeterminate"===se.mode),v.uIk("viewBox",se._getViewBox()),v.xp6(1),v.Q6J("ngSwitchCase",!0),v.xp6(1),v.Q6J("ngSwitchCase",!1))},directives:[p.RF,p.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),Ee})(),Be=(()=>{class Ee{}return Ee.\u0275fac=function(q){return new(q||Ee)},Ee.\u0275mod=v.oAB({type:Ee}),Ee.\u0275inj=v.cJS({imports:[[t.BQ,p.ez],t.BQ]}),Ee})()},57261:(P,H,h)=>{"use strict";h.d(H,{ux:()=>Pe,ZX:()=>q});var v=h(91314),p=h(99129),t=h(69808),e=h(5e3),n=h(90508),o=h(47423),u=h(77579),b=h(95698),w=h(82722),R=h(41777),N=h(70925),W=h(95113),Z=h(15664);function K(oe,de){if(1&oe){const te=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"button",2),e.NdJ("click",function(){return e.CHM(te),e.oxw().action()}),e._uU(2),e.qZA(),e.qZA()}if(2&oe){const te=e.oxw();e.xp6(2),e.Oqu(te.data.action)}}function ae(oe,de){}const xe=new e.OlP("MatSnackBarData");class fe{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const _e=Math.pow(2,31)-1;class Oe{constructor(de,te){this._overlayRef=te,this._afterDismissed=new u.x,this._afterOpened=new u.x,this._onAction=new u.x,this._dismissedByAction=!1,this.containerInstance=de,this.onAction().subscribe(()=>this.dismiss()),de._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(de){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(de,_e))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Be=(()=>{class oe{constructor(te,ie){this.snackBarRef=te,this.data=ie}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return oe.\u0275fac=function(te){return new(te||oe)(e.Y36(Oe),e.Y36(xe))},oe.\u0275cmp=e.Xpm({type:oe,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(te,ie){1&te&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e.YNc(2,K,3,1,"div",0)),2&te&&(e.xp6(1),e.Oqu(ie.data.message),e.xp6(1),e.Q6J("ngIf",ie.hasAction))},directives:[t.O5,o.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),oe})();const Ee={snackBarState:(0,R.X$)("state",[(0,R.SB)("void, hidden",(0,R.oB)({transform:"scale(0.8)",opacity:0})),(0,R.SB)("visible",(0,R.oB)({transform:"scale(1)",opacity:1})),(0,R.eR)("* => visible",(0,R.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,R.eR)("* => void, * => hidden",(0,R.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,R.oB)({opacity:0})))])};let ce=(()=>{class oe extends p.en{constructor(te,ie,Ge,ve,He){super(),this._ngZone=te,this._elementRef=ie,this._changeDetectorRef=Ge,this._platform=ve,this.snackBarConfig=He,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new u.x,this._onExit=new u.x,this._onEnter=new u.x,this._animationState="void",this.attachDomPortal=ct=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(ct)),this._live="assertive"!==He.politeness||He.announcementMessage?"off"===He.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(te){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(te)}attachTemplatePortal(te){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(te)}onAnimationEnd(te){const{fromState:ie,toState:Ge}=te;if(("void"===Ge&&"void"!==ie||"hidden"===Ge)&&this._completeExit(),"visible"===Ge){const ve=this._onEnter;this._ngZone.run(()=>{ve.next(),ve.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,b.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const te=this._elementRef.nativeElement,ie=this.snackBarConfig.panelClass;ie&&(Array.isArray(ie)?ie.forEach(Ge=>te.classList.add(Ge)):te.classList.add(ie)),"center"===this.snackBarConfig.horizontalPosition&&te.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&te.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const te=this._elementRef.nativeElement.querySelector("[aria-hidden]"),ie=this._elementRef.nativeElement.querySelector("[aria-live]");if(te&&ie){let Ge=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&te.contains(document.activeElement)&&(Ge=document.activeElement),te.removeAttribute("aria-hidden"),ie.appendChild(te),null==Ge||Ge.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return oe.\u0275fac=function(te){return new(te||oe)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(N.t4),e.Y36(fe))},oe.\u0275cmp=e.Xpm({type:oe,selectors:[["snack-bar-container"]],viewQuery:function(te,ie){if(1&te&&e.Gf(p.Pl,7),2&te){let Ge;e.iGM(Ge=e.CRH())&&(ie._portalOutlet=Ge.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(te,ie){1&te&&e.WFA("@state.done",function(ve){return ie.onAnimationEnd(ve)}),2&te&&e.d8E("@state",ie._animationState)},features:[e.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(te,ie){1&te&&(e.TgZ(0,"div",0),e.YNc(1,ae,0,0,"ng-template",1),e.qZA(),e._UZ(2,"div")),2&te&&(e.xp6(2),e.uIk("aria-live",ie._live)("role",ie._role))},directives:[p.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Ee.snackBarState]}}),oe})(),q=(()=>{class oe{}return oe.\u0275fac=function(te){return new(te||oe)},oe.\u0275mod=e.oAB({type:oe}),oe.\u0275inj=e.cJS({imports:[[v.U8,p.eL,t.ez,o.ot,n.BQ],n.BQ]}),oe})();const se=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new fe}});let Pe=(()=>{class oe{constructor(te,ie,Ge,ve,He,ct){this._overlay=te,this._live=ie,this._injector=Ge,this._breakpointObserver=ve,this._parentSnackBar=He,this._defaultConfig=ct,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Be,this.snackBarContainerComponent=ce,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const te=this._parentSnackBar;return te?te._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(te){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=te:this._snackBarRefAtThisLevel=te}openFromComponent(te,ie){return this._attach(te,ie)}openFromTemplate(te,ie){return this._attach(te,ie)}open(te,ie="",Ge){const ve=Object.assign(Object.assign({},this._defaultConfig),Ge);return ve.data={message:te,action:ie},ve.announcementMessage===te&&(ve.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ve)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(te,ie){const ve=e.zs3.create({parent:ie&&ie.viewContainerRef&&ie.viewContainerRef.injector||this._injector,providers:[{provide:fe,useValue:ie}]}),He=new p.C5(this.snackBarContainerComponent,ie.viewContainerRef,ve),ct=te.attach(He);return ct.instance.snackBarConfig=ie,ct.instance}_attach(te,ie){const Ge=Object.assign(Object.assign(Object.assign({},new fe),this._defaultConfig),ie),ve=this._createOverlay(Ge),He=this._attachSnackBarContainer(ve,Ge),ct=new Oe(He,ve);if(te instanceof e.Rgc){const Yt=new p.UE(te,null,{$implicit:Ge.data,snackBarRef:ct});ct.instance=He.attachTemplatePortal(Yt)}else{const Yt=this._createInjector(Ge,ct),ht=new p.C5(te,void 0,Yt),Bt=He.attachComponentPortal(ht);ct.instance=Bt.instance}return this._breakpointObserver.observe(W.u3.HandsetPortrait).pipe((0,w.R)(ve.detachments())).subscribe(Yt=>{ve.overlayElement.classList.toggle(this.handsetCssClass,Yt.matches)}),Ge.announcementMessage&&He._onAnnounce.subscribe(()=>{this._live.announce(Ge.announcementMessage,Ge.politeness)}),this._animateSnackBar(ct,Ge),this._openedSnackBarRef=ct,this._openedSnackBarRef}_animateSnackBar(te,ie){te.afterDismissed().subscribe(()=>{this._openedSnackBarRef==te&&(this._openedSnackBarRef=null),ie.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{te.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):te.containerInstance.enter(),ie.duration&&ie.duration>0&&te.afterOpened().subscribe(()=>te._dismissAfter(ie.duration))}_createOverlay(te){const ie=new v.X_;ie.direction=te.direction;let Ge=this._overlay.position().global();const ve="rtl"===te.direction,He="left"===te.horizontalPosition||"start"===te.horizontalPosition&&!ve||"end"===te.horizontalPosition&&ve,ct=!He&&"center"!==te.horizontalPosition;return He?Ge.left("0"):ct?Ge.right("0"):Ge.centerHorizontally(),"top"===te.verticalPosition?Ge.top("0"):Ge.bottom("0"),ie.positionStrategy=Ge,this._overlay.create(ie)}_createInjector(te,ie){return e.zs3.create({parent:te&&te.viewContainerRef&&te.viewContainerRef.injector||this._injector,providers:[{provide:Oe,useValue:ie},{provide:xe,useValue:te.data}]})}}return oe.\u0275fac=function(te){return new(te||oe)(e.LFG(v.aV),e.LFG(Z.Kd),e.LFG(e.zs3),e.LFG(W.Yg),e.LFG(oe,12),e.LFG(se))},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:q}),oe})()},53251:(P,H,h)=>{"use strict";h.d(H,{uX:()=>zt,SP:()=>jt,uD:()=>we,Nh:()=>Nt});var v=h(15664),p=h(17144),t=h(99129),e=h(69808),n=h(5e3),o=h(90508),u=h(76360),b=h(77579),w=h(50727),R=h(54968),N=h(39646),W=h(56451),Z=h(5963),K=h(41777),ae=h(68675),xe=h(71884),fe=h(82722),_e=h(50226),Oe=h(63191),Be=h(91159),Ee=h(70925),ce=h(30495);function q(it,Me){1&it&&n.Hsn(0)}const se=["*"];function ne(it,Me){}const Pe=function(it){return{animationDuration:it}},oe=function(it,Me){return{value:it,params:Me}},de=["tabListContainer"],te=["tabList"],ie=["tabListInner"],Ge=["nextPaginator"],ve=["previousPaginator"],He=["tabBodyWrapper"],ct=["tabHeader"];function Yt(it,Me){}function ht(it,Me){if(1&it&&n.YNc(0,Yt,0,0,"ng-template",9),2&it){const re=n.oxw().$implicit;n.Q6J("cdkPortalOutlet",re.templateLabel)}}function Bt(it,Me){if(1&it&&n._uU(0),2&it){const re=n.oxw().$implicit;n.Oqu(re.textLabel)}}function Ht(it,Me){if(1&it){const re=n.EpF();n.TgZ(0,"div",6),n.NdJ("click",function(){const et=n.CHM(re),vt=et.$implicit,Ci=et.index,ki=n.oxw(),Zi=n.MAs(1);return ki._handleClick(vt,Zi,Ci)})("cdkFocusChange",function(et){const Ci=n.CHM(re).index;return n.oxw()._tabFocusChanged(et,Ci)}),n.TgZ(1,"div",7),n.YNc(2,ht,1,1,"ng-template",8),n.YNc(3,Bt,1,1,"ng-template",8),n.qZA(),n.qZA()}if(2&it){const re=Me.$implicit,De=Me.index,et=n.oxw();n.ekj("mat-tab-label-active",et.selectedIndex==De),n.Q6J("id",et._getTabLabelId(De))("disabled",re.disabled)("matRippleDisabled",re.disabled||et.disableRipple),n.uIk("tabIndex",et._getTabIndex(re,De))("aria-posinset",De+1)("aria-setsize",et._tabs.length)("aria-controls",et._getTabContentId(De))("aria-selected",et.selectedIndex==De)("aria-label",re.ariaLabel||null)("aria-labelledby",!re.ariaLabel&&re.ariaLabelledby?re.ariaLabelledby:null),n.xp6(2),n.Q6J("ngIf",re.templateLabel),n.xp6(1),n.Q6J("ngIf",!re.templateLabel)}}function Kt(it,Me){if(1&it){const re=n.EpF();n.TgZ(0,"mat-tab-body",10),n.NdJ("_onCentered",function(){return n.CHM(re),n.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(et){return n.CHM(re),n.oxw()._setTabBodyWrapperHeight(et)}),n.qZA()}if(2&it){const re=Me.$implicit,De=Me.index,et=n.oxw();n.ekj("mat-tab-body-active",et.selectedIndex===De),n.Q6J("id",et._getTabContentId(De))("content",re.content)("position",re.position)("origin",re.origin)("animationDuration",et.animationDuration),n.uIk("tabindex",null!=et.contentTabIndex&&et.selectedIndex===De?et.contentTabIndex:null)("aria-labelledby",et._getTabLabelId(De))}}const qt=new n.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return Me=>({left:Me?(Me.offsetLeft||0)+"px":"0",width:Me?(Me.offsetWidth||0)+"px":"0"})}});let ri=(()=>{class it{constructor(re,De,et,vt){this._elementRef=re,this._ngZone=De,this._inkBarPositioner=et,this._animationMode=vt}alignToElement(re){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(re))}):this._setStyles(re)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(re){const De=this._inkBarPositioner(re),et=this._elementRef.nativeElement;et.style.left=De.left,et.style.width=De.width}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(qt),n.Y36(u.Qb,8))},it.\u0275dir=n.lG2({type:it,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(re,De){2&re&&n.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode)}}),it})();const Ne=new n.OlP("MatTabContent"),Ke=new n.OlP("MatTabLabel"),Je=new n.OlP("MAT_TAB");let we=(()=>{class it extends t.ig{constructor(re,De,et){super(re,De),this._closestTab=et}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.Rgc),n.Y36(n.s_b),n.Y36(Je,8))},it.\u0275dir=n.lG2({type:it,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[n._Bn([{provide:Ke,useExisting:it}]),n.qOj]}),it})();const Le=(0,o.Id)(class{}),dt=new n.OlP("MAT_TAB_GROUP");let zt=(()=>{class it extends Le{constructor(re,De){super(),this._viewContainerRef=re,this._closestTabGroup=De,this.textLabel="",this._contentPortal=null,this._stateChanges=new b.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(re){this._setTemplateLabelInput(re)}get content(){return this._contentPortal}ngOnChanges(re){(re.hasOwnProperty("textLabel")||re.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new t.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(re){re&&re._closestTab===this&&(this._templateLabel=re)}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.s_b),n.Y36(dt,8))},it.\u0275cmp=n.Xpm({type:it,selectors:[["mat-tab"]],contentQueries:function(re,De,et){if(1&re&&(n.Suo(et,Ke,5),n.Suo(et,Ne,7,n.Rgc)),2&re){let vt;n.iGM(vt=n.CRH())&&(De.templateLabel=vt.first),n.iGM(vt=n.CRH())&&(De._explicitContent=vt.first)}},viewQuery:function(re,De){if(1&re&&n.Gf(n.Rgc,7),2&re){let et;n.iGM(et=n.CRH())&&(De._implicitContent=et.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[n._Bn([{provide:Je,useExisting:it}]),n.qOj,n.TTD],ngContentSelectors:se,decls:1,vars:0,template:function(re,De){1&re&&(n.F$t(),n.YNc(0,q,1,0,"ng-template"))},encapsulation:2}),it})();const lt={translateTab:(0,K.X$)("translateTab",[(0,K.SB)("center, void, left-origin-center, right-origin-center",(0,K.oB)({transform:"none"})),(0,K.SB)("left",(0,K.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,K.SB)("right",(0,K.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,K.eR)("* => left, * => right, left => center, right => center",(0,K.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,K.eR)("void => left-origin-center",[(0,K.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,K.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,K.eR)("void => right-origin-center",[(0,K.oB)({transform:"translate3d(100%, 0, 0)"}),(0,K.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ze=(()=>{class it extends t.Pl{constructor(re,De,et,vt){super(re,De,vt),this._host=et,this._centeringSub=w.w0.EMPTY,this._leavingSub=w.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,ae.O)(this._host._isCenterPosition(this._host._position))).subscribe(re=>{re&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n._Vd),n.Y36(n.s_b),n.Y36((0,n.Gpc)(()=>gt)),n.Y36(e.K0))},it.\u0275dir=n.lG2({type:it,selectors:[["","matTabBodyHost",""]],features:[n.qOj]}),it})(),Ye=(()=>{class it{constructor(re,De,et){this._elementRef=re,this._dir=De,this._dirChangeSubscription=w.w0.EMPTY,this._translateTabComplete=new b.x,this._onCentering=new n.vpe,this._beforeCentering=new n.vpe,this._afterLeavingCenter=new n.vpe,this._onCentered=new n.vpe(!0),this.animationDuration="500ms",De&&(this._dirChangeSubscription=De.change.subscribe(vt=>{this._computePositionAnimationState(vt),et.markForCheck()})),this._translateTabComplete.pipe((0,xe.x)((vt,Ci)=>vt.fromState===Ci.fromState&&vt.toState===Ci.toState)).subscribe(vt=>{this._isCenterPosition(vt.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(vt.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(re){this._positionIndex=re,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(re){const De=this._isCenterPosition(re.toState);this._beforeCentering.emit(De),De&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(re){return"center"==re||"left-origin-center"==re||"right-origin-center"==re}_computePositionAnimationState(re=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==re?"left":"right":this._positionIndex>0?"ltr"==re?"right":"left":"center"}_computePositionFromOrigin(re){const De=this._getLayoutDirection();return"ltr"==De&&re<=0||"rtl"==De&&re>0?"left-origin-center":"right-origin-center"}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq),n.Y36(_e.Is,8),n.Y36(n.sBO))},it.\u0275dir=n.lG2({type:it,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),it})(),gt=(()=>{class it extends Ye{constructor(re,De,et){super(re,De,et)}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq),n.Y36(_e.Is,8),n.Y36(n.sBO))},it.\u0275cmp=n.Xpm({type:it,selectors:[["mat-tab-body"]],viewQuery:function(re,De){if(1&re&&n.Gf(t.Pl,5),2&re){let et;n.iGM(et=n.CRH())&&(De._portalHost=et.first)}},hostAttrs:[1,"mat-tab-body"],features:[n.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(re,De){1&re&&(n.TgZ(0,"div",0,1),n.NdJ("@translateTab.start",function(vt){return De._onTranslateTabStarted(vt)})("@translateTab.done",function(vt){return De._translateTabComplete.next(vt)}),n.YNc(2,ne,0,0,"ng-template",2),n.qZA()),2&re&&n.Q6J("@translateTab",n.WLB(3,oe,De._position,n.VKq(1,Pe,De.animationDuration)))},directives:[ze],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[lt.translateTab]}}),it})();const Ze=new n.OlP("MAT_TABS_CONFIG"),rt=(0,o.Id)(class{});let ot=(()=>{class it extends rt{constructor(re){super(),this.elementRef=re}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq))},it.\u0275dir=n.lG2({type:it,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(re,De){2&re&&(n.uIk("aria-disabled",!!De.disabled),n.ekj("mat-tab-disabled",De.disabled))},inputs:{disabled:"disabled"},features:[n.qOj]}),it})();const be=(0,Ee.i$)({passive:!0});let ci=(()=>{class it{constructor(re,De,et,vt,Ci,ki,Zi){this._elementRef=re,this._changeDetectorRef=De,this._viewportRuler=et,this._dir=vt,this._ngZone=Ci,this._platform=ki,this._animationMode=Zi,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new b.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new b.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new n.vpe,this.indexFocused=new n.vpe,Ci.runOutsideAngular(()=>{(0,R.R)(re.nativeElement,"mouseleave").pipe((0,fe.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(re){re=(0,Oe.su)(re),this._selectedIndex!=re&&(this._selectedIndexChanged=!0,this._selectedIndex=re,this._keyManager&&this._keyManager.updateActiveItem(re))}ngAfterViewInit(){(0,R.R)(this._previousPaginator.nativeElement,"touchstart",be).pipe((0,fe.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,R.R)(this._nextPaginator.nativeElement,"touchstart",be).pipe((0,fe.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const re=this._dir?this._dir.change:(0,N.of)("ltr"),De=this._viewportRuler.change(150),et=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new v.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(et):et(),(0,W.T)(re,De,this._items.changes).pipe((0,fe.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(et)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,fe.R)(this._destroyed)).subscribe(vt=>{this.indexFocused.emit(vt),this._setTabFocus(vt)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(re){if(!(0,Be.Vb)(re))switch(re.keyCode){case Be.K5:case Be.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(re));break;default:this._keyManager.onKeydown(re)}}_onContentChanges(){const re=this._elementRef.nativeElement.textContent;re!==this._currentTextContent&&(this._currentTextContent=re||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(re){!this._isValidIndex(re)||this.focusIndex===re||!this._keyManager||this._keyManager.setActiveItem(re)}_isValidIndex(re){if(!this._items)return!0;const De=this._items?this._items.toArray()[re]:null;return!!De&&!De.disabled}_setTabFocus(re){if(this._showPaginationControls&&this._scrollToLabel(re),this._items&&this._items.length){this._items.toArray()[re].focus();const De=this._tabListContainer.nativeElement;De.scrollLeft="ltr"==this._getLayoutDirection()?0:De.scrollWidth-De.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const re=this.scrollDistance,De="ltr"===this._getLayoutDirection()?-re:re;this._tabList.nativeElement.style.transform=`translateX(${Math.round(De)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(re){this._scrollTo(re)}_scrollHeader(re){return this._scrollTo(this._scrollDistance+("before"==re?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(re){this._stopInterval(),this._scrollHeader(re)}_scrollToLabel(re){if(this.disablePagination)return;const De=this._items?this._items.toArray()[re]:null;if(!De)return;const et=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:vt,offsetWidth:Ci}=De.elementRef.nativeElement;let ki,Zi;"ltr"==this._getLayoutDirection()?(ki=vt,Zi=ki+Ci):(Zi=this._tabListInner.nativeElement.offsetWidth-vt,ki=Zi-Ci);const wn=this.scrollDistance,Jt=this.scrollDistance+et;ki<wn?this.scrollDistance-=wn-ki+60:Zi>Jt&&(this.scrollDistance+=Zi-Jt+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const re=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;re||(this.scrollDistance=0),re!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=re}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const re=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,De=re?re.elementRef.nativeElement:null;De?this._inkBar.alignToElement(De):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(re,De){De&&null!=De.button&&0!==De.button||(this._stopInterval(),(0,Z.H)(650,100).pipe((0,fe.R)((0,W.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:et,distance:vt}=this._scrollHeader(re);(0===vt||vt>=et)&&this._stopInterval()}))}_scrollTo(re){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const De=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(De,re)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:De,distance:this._scrollDistance}}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(ce.rL),n.Y36(_e.Is,8),n.Y36(n.R0b),n.Y36(Ee.t4),n.Y36(u.Qb,8))},it.\u0275dir=n.lG2({type:it,inputs:{disablePagination:"disablePagination"}}),it})(),Zt=(()=>{class it extends ci{constructor(re,De,et,vt,Ci,ki,Zi){super(re,De,et,vt,Ci,ki,Zi),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(re){this._disableRipple=(0,Oe.Ig)(re)}_itemSelected(re){re.preventDefault()}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(ce.rL),n.Y36(_e.Is,8),n.Y36(n.R0b),n.Y36(Ee.t4),n.Y36(u.Qb,8))},it.\u0275dir=n.lG2({type:it,inputs:{disableRipple:"disableRipple"},features:[n.qOj]}),it})(),li=(()=>{class it extends Zt{constructor(re,De,et,vt,Ci,ki,Zi){super(re,De,et,vt,Ci,ki,Zi)}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(ce.rL),n.Y36(_e.Is,8),n.Y36(n.R0b),n.Y36(Ee.t4),n.Y36(u.Qb,8))},it.\u0275cmp=n.Xpm({type:it,selectors:[["mat-tab-header"]],contentQueries:function(re,De,et){if(1&re&&n.Suo(et,ot,4),2&re){let vt;n.iGM(vt=n.CRH())&&(De._items=vt)}},viewQuery:function(re,De){if(1&re&&(n.Gf(ri,7),n.Gf(de,7),n.Gf(te,7),n.Gf(ie,7),n.Gf(Ge,5),n.Gf(ve,5)),2&re){let et;n.iGM(et=n.CRH())&&(De._inkBar=et.first),n.iGM(et=n.CRH())&&(De._tabListContainer=et.first),n.iGM(et=n.CRH())&&(De._tabList=et.first),n.iGM(et=n.CRH())&&(De._tabListInner=et.first),n.iGM(et=n.CRH())&&(De._nextPaginator=et.first),n.iGM(et=n.CRH())&&(De._previousPaginator=et.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(re,De){2&re&&n.ekj("mat-tab-header-pagination-controls-enabled",De._showPaginationControls)("mat-tab-header-rtl","rtl"==De._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[n.qOj],ngContentSelectors:se,decls:14,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(re,De){1&re&&(n.F$t(),n.TgZ(0,"div",0,1),n.NdJ("click",function(){return De._handlePaginatorClick("before")})("mousedown",function(vt){return De._handlePaginatorPress("before",vt)})("touchend",function(){return De._stopInterval()}),n._UZ(2,"div",2),n.qZA(),n.TgZ(3,"div",3,4),n.NdJ("keydown",function(vt){return De._handleKeydown(vt)}),n.TgZ(5,"div",5,6),n.NdJ("cdkObserveContent",function(){return De._onContentChanges()}),n.TgZ(7,"div",7,8),n.Hsn(9),n.qZA(),n._UZ(10,"mat-ink-bar"),n.qZA(),n.qZA(),n.TgZ(11,"div",9,10),n.NdJ("mousedown",function(vt){return De._handlePaginatorPress("after",vt)})("click",function(){return De._handlePaginatorClick("after")})("touchend",function(){return De._stopInterval()}),n._UZ(13,"div",2),n.qZA()),2&re&&(n.ekj("mat-tab-header-pagination-disabled",De._disableScrollBefore),n.Q6J("matRippleDisabled",De._disableScrollBefore||De.disableRipple),n.xp6(5),n.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode),n.xp6(6),n.ekj("mat-tab-header-pagination-disabled",De._disableScrollAfter),n.Q6J("matRippleDisabled",De._disableScrollAfter||De.disableRipple))},directives:[o.wG,p.wD,ri],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),it})(),Fi=0;class ui{}const Ei=(0,o.pj)((0,o.Kr)(class{constructor(it){this._elementRef=it}}),"primary");let gi=(()=>{class it extends Ei{constructor(re,De,et,vt){var Ci;super(re),this._changeDetectorRef=De,this._animationMode=vt,this._tabs=new n.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=w.w0.EMPTY,this._tabLabelSubscription=w.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new n.vpe,this.focusChange=new n.vpe,this.animationDone=new n.vpe,this.selectedTabChange=new n.vpe(!0),this._groupId=Fi++,this.animationDuration=et&&et.animationDuration?et.animationDuration:"500ms",this.disablePagination=!(!et||null==et.disablePagination)&&et.disablePagination,this.dynamicHeight=!(!et||null==et.dynamicHeight)&&et.dynamicHeight,this.contentTabIndex=null!==(Ci=null==et?void 0:et.contentTabIndex)&&void 0!==Ci?Ci:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(re){this._dynamicHeight=(0,Oe.Ig)(re)}get selectedIndex(){return this._selectedIndex}set selectedIndex(re){this._indexToSelect=(0,Oe.su)(re,null)}get animationDuration(){return this._animationDuration}set animationDuration(re){this._animationDuration=/^\d+$/.test(re)?re+"ms":re}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(re){this._contentTabIndex=(0,Oe.su)(re,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(re){const De=this._elementRef.nativeElement;De.classList.remove(`mat-background-${this.backgroundColor}`),re&&De.classList.add(`mat-background-${re}`),this._backgroundColor=re}ngAfterContentChecked(){const re=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=re){const De=null==this._selectedIndex;if(!De){this.selectedTabChange.emit(this._createChangeEvent(re));const et=this._tabBodyWrapper.nativeElement;et.style.minHeight=et.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((et,vt)=>et.isActive=vt===re),De||(this.selectedIndexChange.emit(re),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((De,et)=>{De.position=et-re,null!=this._selectedIndex&&0==De.position&&!De.origin&&(De.origin=re-this._selectedIndex)}),this._selectedIndex!==re&&(this._selectedIndex=re,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const De=this._tabs.toArray();for(let et=0;et<De.length;et++)if(De[et].isActive){this._indexToSelect=this._selectedIndex=et;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,ae.O)(this._allTabs)).subscribe(re=>{this._tabs.reset(re.filter(De=>De._closestTabGroup===this||!De._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(re){const De=this._tabHeader;De&&(De.focusIndex=re)}_focusChanged(re){this.focusChange.emit(this._createChangeEvent(re))}_createChangeEvent(re){const De=new ui;return De.index=re,this._tabs&&this._tabs.length&&(De.tab=this._tabs.toArray()[re]),De}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,W.T)(...this._tabs.map(re=>re._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(re){return Math.min(this._tabs.length-1,Math.max(re||0,0))}_getTabLabelId(re){return`mat-tab-label-${this._groupId}-${re}`}_getTabContentId(re){return`mat-tab-content-${this._groupId}-${re}`}_setTabBodyWrapperHeight(re){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const De=this._tabBodyWrapper.nativeElement;De.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(De.style.height=re+"px")}_removeTabBodyWrapperHeight(){const re=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=re.clientHeight,re.style.height="",this.animationDone.emit()}_handleClick(re,De,et){re.disabled||(this.selectedIndex=De.focusIndex=et)}_getTabIndex(re,De){return re.disabled?null:this.selectedIndex===De?0:-1}_tabFocusChanged(re,De){re&&"mouse"!==re&&"touch"!==re&&(this._tabHeader.focusIndex=De)}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Ze,8),n.Y36(u.Qb,8))},it.\u0275dir=n.lG2({type:it,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[n.qOj]}),it})(),jt=(()=>{class it extends gi{constructor(re,De,et,vt){super(re,De,et,vt)}}return it.\u0275fac=function(re){return new(re||it)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Ze,8),n.Y36(u.Qb,8))},it.\u0275cmp=n.Xpm({type:it,selectors:[["mat-tab-group"]],contentQueries:function(re,De,et){if(1&re&&n.Suo(et,zt,5),2&re){let vt;n.iGM(vt=n.CRH())&&(De._allTabs=vt)}},viewQuery:function(re,De){if(1&re&&(n.Gf(He,5),n.Gf(ct,5)),2&re){let et;n.iGM(et=n.CRH())&&(De._tabBodyWrapper=et.first),n.iGM(et=n.CRH())&&(De._tabHeader=et.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(re,De){2&re&&n.ekj("mat-tab-group-dynamic-height",De.dynamicHeight)("mat-tab-group-inverted-header","below"===De.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[n._Bn([{provide:dt,useExisting:it}]),n.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(re,De){1&re&&(n.TgZ(0,"mat-tab-header",0,1),n.NdJ("indexFocused",function(vt){return De._focusChanged(vt)})("selectFocusedIndex",function(vt){return De.selectedIndex=vt}),n.YNc(2,Ht,4,14,"div",2),n.qZA(),n.TgZ(3,"div",3,4),n.YNc(5,Kt,1,9,"mat-tab-body",5),n.qZA()),2&re&&(n.Q6J("selectedIndex",De.selectedIndex||0)("disableRipple",De.disableRipple)("disablePagination",De.disablePagination),n.xp6(2),n.Q6J("ngForOf",De._tabs),n.xp6(1),n.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode),n.xp6(2),n.Q6J("ngForOf",De._tabs))},directives:[li,e.sg,ot,o.wG,v.kH,e.O5,t.Pl,gt],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),it})(),Nt=(()=>{class it{}return it.\u0275fac=function(re){return new(re||it)},it.\u0275mod=n.oAB({type:it}),it.\u0275inj=n.cJS({imports:[[e.ez,o.BQ,t.eL,o.si,p.Q8,v.rt],o.BQ]}),it})()},76360:(P,H,h)=>{"use strict";h.d(H,{Qb:()=>Ws,PW:()=>Mi});var v=h(5e3),p=h(22313),t=h(41777);function e(){return"undefined"!=typeof window&&void 0!==window.document}function n(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function o(Qe){switch(Qe.length){case 0:return new t.ZN;case 1:return Qe[0];default:return new t.ZE(Qe)}}function u(Qe,F,j,ge,je={},st={}){const xt=[],Ot=[];let ii=-1,mi=null;if(ge.forEach(Bi=>{const Gi=Bi.offset,un=Gi==ii,Rn=un&&mi||{};Object.keys(Bi).forEach(en=>{let _n=en,Bn=Bi[en];if("offset"!==en)switch(_n=F.normalizePropertyName(_n,xt),Bn){case t.k1:Bn=je[en];break;case t.l3:Bn=st[en];break;default:Bn=F.normalizeStyleValue(en,_n,Bn,xt)}Rn[_n]=Bn}),un||Ot.push(Rn),mi=Rn,ii=Gi}),xt.length){const Bi="\n - ";throw new Error(`Unable to animate due to the following errors:${Bi}${xt.join(Bi)}`)}return Ot}function b(Qe,F,j,ge){switch(F){case"start":Qe.onStart(()=>ge(j&&w(j,"start",Qe)));break;case"done":Qe.onDone(()=>ge(j&&w(j,"done",Qe)));break;case"destroy":Qe.onDestroy(()=>ge(j&&w(j,"destroy",Qe)))}}function w(Qe,F,j){const ge=j.totalTime,st=R(Qe.element,Qe.triggerName,Qe.fromState,Qe.toState,F||Qe.phaseName,null==ge?Qe.totalTime:ge,!!j.disabled),xt=Qe._data;return null!=xt&&(st._data=xt),st}function R(Qe,F,j,ge,je="",st=0,xt){return{element:Qe,triggerName:F,fromState:j,toState:ge,phaseName:je,totalTime:st,disabled:!!xt}}function N(Qe,F,j){let ge;return Qe instanceof Map?(ge=Qe.get(F),ge||Qe.set(F,ge=j)):(ge=Qe[F],ge||(ge=Qe[F]=j)),ge}function W(Qe){const F=Qe.indexOf(":");return[Qe.substring(1,F),Qe.substr(F+1)]}let Z=(Qe,F)=>!1,K=(Qe,F,j)=>[];(n()||"undefined"!=typeof Element)&&(Z=e()?(Qe,F)=>{for(;F&&F!==document.documentElement;){if(F===Qe)return!0;F=F.parentNode||F.host}return!1}:(Qe,F)=>Qe.contains(F),K=(Qe,F,j)=>{let ge=[];if(j){const je=Qe.querySelectorAll(F);for(let st=0;st<je.length;st++)ge.push(je[st])}else{const je=Qe.querySelector(F);je&&ge.push(je)}return ge});let fe=null,_e=!1;function Oe(Qe){fe||(fe=("undefined"!=typeof document?document.body:null)||{},_e=!!fe.style&&"WebkitAppearance"in fe.style);let F=!0;return fe.style&&!function(Qe){return"ebkit"==Qe.substring(1,6)}(Qe)&&(F=Qe in fe.style,!F&&_e&&(F="Webkit"+Qe.charAt(0).toUpperCase()+Qe.substr(1)in fe.style)),F}const Ee=Z,ce=K;function q(Qe){const F={};return Object.keys(Qe).forEach(j=>{const ge=j.replace(/([a-z])([A-Z])/g,"$1-$2");F[ge]=Qe[j]}),F}let se=(()=>{class Qe{validateStyleProperty(j){return Oe(j)}matchesElement(j,ge){return!1}containsElement(j,ge){return Ee(j,ge)}query(j,ge,je){return ce(j,ge,je)}computeStyle(j,ge,je){return je||""}animate(j,ge,je,st,xt,Ot=[],ii){return new t.ZN(je,st)}}return Qe.\u0275fac=function(j){return new(j||Qe)},Qe.\u0275prov=v.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})(),ne=(()=>{class Qe{}return Qe.NOOP=new se,Qe})();const te="ng-enter",ie="ng-leave",He="ng-trigger",ct=".ng-trigger",Yt="ng-animating",ht=".ng-animating";function Bt(Qe){if("number"==typeof Qe)return Qe;const F=Qe.match(/^(-?[\.\d]+)(m?s)/);return!F||F.length<2?0:Ht(parseFloat(F[1]),F[2])}function Ht(Qe,F){return"s"===F?1e3*Qe:Qe}function Kt(Qe,F,j){return Qe.hasOwnProperty("duration")?Qe:function(Qe,F,j){let je,st=0,xt="";if("string"==typeof Qe){const Ot=Qe.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ot)return F.push(`The provided timing value "${Qe}" is invalid.`),{duration:0,delay:0,easing:""};je=Ht(parseFloat(Ot[1]),Ot[2]);const ii=Ot[3];null!=ii&&(st=Ht(parseFloat(ii),Ot[4]));const mi=Ot[5];mi&&(xt=mi)}else je=Qe;if(!j){let Ot=!1,ii=F.length;je<0&&(F.push("Duration values below 0 are not allowed for this animation step."),Ot=!0),st<0&&(F.push("Delay values below 0 are not allowed for this animation step."),Ot=!0),Ot&&F.splice(ii,0,`The provided timing value "${Qe}" is invalid.`)}return{duration:je,delay:st,easing:xt}}(Qe,F,j)}function qt(Qe,F={}){return Object.keys(Qe).forEach(j=>{F[j]=Qe[j]}),F}function ri(Qe,F,j={}){if(F)for(let ge in Qe)j[ge]=Qe[ge];else qt(Qe,j);return j}function Ne(Qe,F,j){return j?F+":"+j+";":""}function _t(Qe){let F="";for(let j=0;j<Qe.style.length;j++){const ge=Qe.style.item(j);F+=Ne(0,ge,Qe.style.getPropertyValue(ge))}for(const j in Qe.style)Qe.style.hasOwnProperty(j)&&!j.startsWith("_")&&(F+=Ne(0,Ze(j),Qe.style[j]));Qe.setAttribute("style",F)}function Ke(Qe,F,j){Qe.style&&(Object.keys(F).forEach(ge=>{const je=gt(ge);j&&!j.hasOwnProperty(ge)&&(j[ge]=Qe.style[je]),Qe.style[je]=F[ge]}),n()&&_t(Qe))}function Je(Qe,F){Qe.style&&(Object.keys(F).forEach(j=>{const ge=gt(j);Qe.style[ge]=""}),n()&&_t(Qe))}function we(Qe){return Array.isArray(Qe)?1==Qe.length?Qe[0]:(0,t.vP)(Qe):Qe}const dt=new RegExp("{{\\s*(.+?)\\s*}}","g");function zt(Qe){let F=[];if("string"==typeof Qe){let j;for(;j=dt.exec(Qe);)F.push(j[1]);dt.lastIndex=0}return F}function lt(Qe,F,j){const ge=Qe.toString(),je=ge.replace(dt,(st,xt)=>{let Ot=F[xt];return F.hasOwnProperty(xt)||(j.push(`Please provide a value for the animation param ${xt}`),Ot=""),Ot.toString()});return je==ge?Qe:je}function ze(Qe){const F=[];let j=Qe.next();for(;!j.done;)F.push(j.value),j=Qe.next();return F}const Ye=/-+([a-z0-9])/g;function gt(Qe){return Qe.replace(Ye,(...F)=>F[1].toUpperCase())}function Ze(Qe){return Qe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rt(Qe,F){return 0===Qe||0===F}function ot(Qe,F,j){const ge=Object.keys(j);if(ge.length&&F.length){let st=F[0],xt=[];if(ge.forEach(Ot=>{st.hasOwnProperty(Ot)||xt.push(Ot),st[Ot]=j[Ot]}),xt.length)for(var je=1;je<F.length;je++){let Ot=F[je];xt.forEach(function(ii){Ot[ii]=Ae(Qe,ii)})}}return F}function be(Qe,F,j){switch(F.type){case 7:return Qe.visitTrigger(F,j);case 0:return Qe.visitState(F,j);case 1:return Qe.visitTransition(F,j);case 2:return Qe.visitSequence(F,j);case 3:return Qe.visitGroup(F,j);case 4:return Qe.visitAnimate(F,j);case 5:return Qe.visitKeyframes(F,j);case 6:return Qe.visitStyle(F,j);case 8:return Qe.visitReference(F,j);case 9:return Qe.visitAnimateChild(F,j);case 10:return Qe.visitAnimateRef(F,j);case 11:return Qe.visitQuery(F,j);case 12:return Qe.visitStagger(F,j);default:throw new Error(`Unable to resolve animation metadata node #${F.type}`)}}function Ae(Qe,F){return window.getComputedStyle(Qe)[F]}function It(Qe,F){const j=[];return"string"==typeof Qe?Qe.split(/\s*,\s*/).forEach(ge=>function(Qe,F,j){if(":"==Qe[0]){const ii=function(Qe,F){switch(Qe){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(j,ge)=>parseFloat(ge)>parseFloat(j);case":decrement":return(j,ge)=>parseFloat(ge)<parseFloat(j);default:return F.push(`The transition alias value "${Qe}" is not supported`),"* => *"}}(Qe,j);if("function"==typeof ii)return void F.push(ii);Qe=ii}const ge=Qe.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ge||ge.length<4)return j.push(`The provided transition expression "${Qe}" is not supported`),F;const je=ge[1],st=ge[2],xt=ge[3];F.push(ui(je,xt));"<"==st[0]&&!("*"==je&&"*"==xt)&&F.push(ui(xt,je))}(ge,j,F)):j.push(Qe),j}const li=new Set(["true","1"]),Fi=new Set(["false","0"]);function ui(Qe,F){const j=li.has(Qe)||Fi.has(Qe),ge=li.has(F)||Fi.has(F);return(je,st)=>{let xt="*"==Qe||Qe==je,Ot="*"==F||F==st;return!xt&&j&&"boolean"==typeof je&&(xt=je?li.has(Qe):Fi.has(Qe)),!Ot&&ge&&"boolean"==typeof st&&(Ot=st?li.has(F):Fi.has(F)),xt&&Ot}}const gi=new RegExp("s*:selfs*,?","g");function jt(Qe,F,j){return new ut(Qe).build(F,j)}class ut{constructor(F){this._driver=F}build(F,j){const ge=new Di(j);return this._resetContextStyleTimingState(ge),be(this,we(F),ge)}_resetContextStyleTimingState(F){F.currentQuerySelector="",F.collectedStyles={},F.collectedStyles[""]={},F.currentTime=0}visitTrigger(F,j){let ge=j.queryCount=0,je=j.depCount=0;const st=[],xt=[];return"@"==F.name.charAt(0)&&j.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),F.definitions.forEach(Ot=>{if(this._resetContextStyleTimingState(j),0==Ot.type){const ii=Ot,mi=ii.name;mi.toString().split(/\s*,\s*/).forEach(Bi=>{ii.name=Bi,st.push(this.visitState(ii,j))}),ii.name=mi}else if(1==Ot.type){const ii=this.visitTransition(Ot,j);ge+=ii.queryCount,je+=ii.depCount,xt.push(ii)}else j.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:F.name,states:st,transitions:xt,queryCount:ge,depCount:je,options:null}}visitState(F,j){const ge=this.visitStyle(F.styles,j),je=F.options&&F.options.params||null;if(ge.containsDynamicStyles){const st=new Set,xt=je||{};if(ge.styles.forEach(Ot=>{if(it(Ot)){const ii=Ot;Object.keys(ii).forEach(mi=>{zt(ii[mi]).forEach(Bi=>{xt.hasOwnProperty(Bi)||st.add(Bi)})})}}),st.size){const Ot=ze(st.values());j.errors.push(`state("${F.name}", ...) must define default values for all the following style substitutions: ${Ot.join(", ")}`)}}return{type:0,name:F.name,style:ge,options:je?{params:je}:null}}visitTransition(F,j){j.queryCount=0,j.depCount=0;const ge=be(this,we(F.animation),j);return{type:1,matchers:It(F.expr,j.errors),animation:ge,queryCount:j.queryCount,depCount:j.depCount,options:re(F.options)}}visitSequence(F,j){return{type:2,steps:F.steps.map(ge=>be(this,ge,j)),options:re(F.options)}}visitGroup(F,j){const ge=j.currentTime;let je=0;const st=F.steps.map(xt=>{j.currentTime=ge;const Ot=be(this,xt,j);return je=Math.max(je,j.currentTime),Ot});return j.currentTime=je,{type:3,steps:st,options:re(F.options)}}visitAnimate(F,j){const ge=function(Qe,F){let j=null;if(Qe.hasOwnProperty("duration"))j=Qe;else if("number"==typeof Qe)return De(Kt(Qe,F).duration,0,"");const ge=Qe;if(ge.split(/\s+/).some(st=>"{"==st.charAt(0)&&"{"==st.charAt(1))){const st=De(0,0,"");return st.dynamic=!0,st.strValue=ge,st}return j=j||Kt(ge,F),De(j.duration,j.delay,j.easing)}(F.timings,j.errors);j.currentAnimateTimings=ge;let je,st=F.styles?F.styles:(0,t.oB)({});if(5==st.type)je=this.visitKeyframes(st,j);else{let xt=F.styles,Ot=!1;if(!xt){Ot=!0;const mi={};ge.easing&&(mi.easing=ge.easing),xt=(0,t.oB)(mi)}j.currentTime+=ge.duration+ge.delay;const ii=this.visitStyle(xt,j);ii.isEmptyStep=Ot,je=ii}return j.currentAnimateTimings=null,{type:4,timings:ge,style:je,options:null}}visitStyle(F,j){const ge=this._makeStyleAst(F,j);return this._validateStyleAst(ge,j),ge}_makeStyleAst(F,j){const ge=[];Array.isArray(F.styles)?F.styles.forEach(xt=>{"string"==typeof xt?xt==t.l3?ge.push(xt):j.errors.push(`The provided style string value ${xt} is not allowed.`):ge.push(xt)}):ge.push(F.styles);let je=!1,st=null;return ge.forEach(xt=>{if(it(xt)){const Ot=xt,ii=Ot.easing;if(ii&&(st=ii,delete Ot.easing),!je)for(let mi in Ot)if(Ot[mi].toString().indexOf("{{")>=0){je=!0;break}}}),{type:6,styles:ge,easing:st,offset:F.offset,containsDynamicStyles:je,options:null}}_validateStyleAst(F,j){const ge=j.currentAnimateTimings;let je=j.currentTime,st=j.currentTime;ge&&st>0&&(st-=ge.duration+ge.delay),F.styles.forEach(xt=>{"string"!=typeof xt&&Object.keys(xt).forEach(Ot=>{if(!this._driver.validateStyleProperty(Ot))return void j.errors.push(`The provided animation property "${Ot}" is not a supported CSS property for animations`);const ii=j.collectedStyles[j.currentQuerySelector],mi=ii[Ot];let Bi=!0;mi&&(st!=je&&st>=mi.startTime&&je<=mi.endTime&&(j.errors.push(`The CSS property "${Ot}" that exists between the times of "${mi.startTime}ms" and "${mi.endTime}ms" is also being animated in a parallel animation between the times of "${st}ms" and "${je}ms"`),Bi=!1),st=mi.startTime),Bi&&(ii[Ot]={startTime:st,endTime:je}),j.options&&function(Qe,F,j){const ge=F.params||{},je=zt(Qe);je.length&&je.forEach(st=>{ge.hasOwnProperty(st)||j.push(`Unable to resolve the local animation param ${st} in the given list of values`)})}(xt[Ot],j.options,j.errors)})})}visitKeyframes(F,j){const ge={type:5,styles:[],options:null};if(!j.currentAnimateTimings)return j.errors.push("keyframes() must be placed inside of a call to animate()"),ge;let st=0;const xt=[];let Ot=!1,ii=!1,mi=0;const Bi=F.steps.map(jn=>{const xr=this._makeStyleAst(jn,j);let oo=null!=xr.offset?xr.offset:function(Qe){if("string"==typeof Qe)return null;let F=null;if(Array.isArray(Qe))Qe.forEach(j=>{if(it(j)&&j.hasOwnProperty("offset")){const ge=j;F=parseFloat(ge.offset),delete ge.offset}});else if(it(Qe)&&Qe.hasOwnProperty("offset")){const j=Qe;F=parseFloat(j.offset),delete j.offset}return F}(xr.styles),Hr=0;return null!=oo&&(st++,Hr=xr.offset=oo),ii=ii||Hr<0||Hr>1,Ot=Ot||Hr<mi,mi=Hr,xt.push(Hr),xr});ii&&j.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Ot&&j.errors.push("Please ensure that all keyframe offsets are in order");const Gi=F.steps.length;let un=0;st>0&&st<Gi?j.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==st&&(un=1/(Gi-1));const Rn=Gi-1,en=j.currentTime,_n=j.currentAnimateTimings,Bn=_n.duration;return Bi.forEach((jn,xr)=>{const oo=un>0?xr==Rn?1:un*xr:xt[xr],Hr=oo*Bn;j.currentTime=en+_n.delay+Hr,_n.duration=Hr,this._validateStyleAst(jn,j),jn.offset=oo,ge.styles.push(jn)}),ge}visitReference(F,j){return{type:8,animation:be(this,we(F.animation),j),options:re(F.options)}}visitAnimateChild(F,j){return j.depCount++,{type:9,options:re(F.options)}}visitAnimateRef(F,j){return{type:10,animation:this.visitReference(F.animation,j),options:re(F.options)}}visitQuery(F,j){const ge=j.currentQuerySelector,je=F.options||{};j.queryCount++,j.currentQuery=F;const[st,xt]=function(Qe){const F=!!Qe.split(/\s*,\s*/).find(j=>":self"==j);return F&&(Qe=Qe.replace(gi,"")),Qe=Qe.replace(/@\*/g,ct).replace(/@\w+/g,j=>ct+"-"+j.substr(1)).replace(/:animating/g,ht),[Qe,F]}(F.selector);j.currentQuerySelector=ge.length?ge+" "+st:st,N(j.collectedStyles,j.currentQuerySelector,{});const Ot=be(this,we(F.animation),j);return j.currentQuery=null,j.currentQuerySelector=ge,{type:11,selector:st,limit:je.limit||0,optional:!!je.optional,includeSelf:xt,animation:Ot,originalSelector:F.selector,options:re(F.options)}}visitStagger(F,j){j.currentQuery||j.errors.push("stagger() can only be used inside of query()");const ge="full"===F.timings?{duration:0,delay:0,easing:"full"}:Kt(F.timings,j.errors,!0);return{type:12,animation:be(this,we(F.animation),j),timings:ge,options:null}}}class Di{constructor(F){this.errors=F,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function it(Qe){return!Array.isArray(Qe)&&"object"==typeof Qe}function re(Qe){return Qe?(Qe=qt(Qe)).params&&(Qe.params=function(Qe){return Qe?qt(Qe):null}(Qe.params)):Qe={},Qe}function De(Qe,F,j){return{duration:Qe,delay:F,easing:j}}function et(Qe,F,j,ge,je,st,xt=null,Ot=!1){return{type:1,element:Qe,keyframes:F,preStyleProps:j,postStyleProps:ge,duration:je,delay:st,totalTime:je+st,easing:xt,subTimeline:Ot}}class vt{constructor(){this._map=new Map}consume(F){let j=this._map.get(F);return j?this._map.delete(F):j=[],j}append(F,j){let ge=this._map.get(F);ge||this._map.set(F,ge=[]),ge.push(...j)}has(F){return this._map.has(F)}clear(){this._map.clear()}}const Zi=new RegExp(":enter","g"),Jt=new RegExp(":leave","g");function Rt(Qe,F,j,ge,je,st={},xt={},Ot,ii,mi=[]){return(new Ct).buildKeyframes(Qe,F,j,ge,je,st,xt,Ot,ii,mi)}class Ct{buildKeyframes(F,j,ge,je,st,xt,Ot,ii,mi,Bi=[]){mi=mi||new vt;const Gi=new pi(F,j,mi,je,st,Bi,[]);Gi.options=ii,Gi.currentTimeline.setStyles([xt],null,Gi.errors,ii),be(this,ge,Gi);const un=Gi.timelines.filter(Rn=>Rn.containsAnimation());if(un.length&&Object.keys(Ot).length){const Rn=un[un.length-1];Rn.allowOnlyTimelineStyles()||Rn.setStyles([Ot],null,Gi.errors,ii)}return un.length?un.map(Rn=>Rn.buildKeyframes()):[et(j,[],[],[],0,0,"",!1)]}visitTrigger(F,j){}visitState(F,j){}visitTransition(F,j){}visitAnimateChild(F,j){const ge=j.subInstructions.consume(j.element);if(ge){const je=j.createSubContext(F.options),st=j.currentTimeline.currentTime,xt=this._visitSubInstructions(ge,je,je.options);st!=xt&&j.transformIntoNewTimeline(xt)}j.previousNode=F}visitAnimateRef(F,j){const ge=j.createSubContext(F.options);ge.transformIntoNewTimeline(),this.visitReference(F.animation,ge),j.transformIntoNewTimeline(ge.currentTimeline.currentTime),j.previousNode=F}_visitSubInstructions(F,j,ge){let st=j.currentTimeline.currentTime;const xt=null!=ge.duration?Bt(ge.duration):null,Ot=null!=ge.delay?Bt(ge.delay):null;return 0!==xt&&F.forEach(ii=>{const mi=j.appendInstructionToTimeline(ii,xt,Ot);st=Math.max(st,mi.duration+mi.delay)}),st}visitReference(F,j){j.updateOptions(F.options,!0),be(this,F.animation,j),j.previousNode=F}visitSequence(F,j){const ge=j.subContextCount;let je=j;const st=F.options;if(st&&(st.params||st.delay)&&(je=j.createSubContext(st),je.transformIntoNewTimeline(),null!=st.delay)){6==je.previousNode.type&&(je.currentTimeline.snapshotCurrentStyles(),je.previousNode=Xt);const xt=Bt(st.delay);je.delayNextStep(xt)}F.steps.length&&(F.steps.forEach(xt=>be(this,xt,je)),je.currentTimeline.applyStylesToKeyframe(),je.subContextCount>ge&&je.transformIntoNewTimeline()),j.previousNode=F}visitGroup(F,j){const ge=[];let je=j.currentTimeline.currentTime;const st=F.options&&F.options.delay?Bt(F.options.delay):0;F.steps.forEach(xt=>{const Ot=j.createSubContext(F.options);st&&Ot.delayNextStep(st),be(this,xt,Ot),je=Math.max(je,Ot.currentTimeline.currentTime),ge.push(Ot.currentTimeline)}),ge.forEach(xt=>j.currentTimeline.mergeTimelineCollectedStyles(xt)),j.transformIntoNewTimeline(je),j.previousNode=F}_visitTiming(F,j){if(F.dynamic){const ge=F.strValue;return Kt(j.params?lt(ge,j.params,j.errors):ge,j.errors)}return{duration:F.duration,delay:F.delay,easing:F.easing}}visitAnimate(F,j){const ge=j.currentAnimateTimings=this._visitTiming(F.timings,j),je=j.currentTimeline;ge.delay&&(j.incrementTime(ge.delay),je.snapshotCurrentStyles());const st=F.style;5==st.type?this.visitKeyframes(st,j):(j.incrementTime(ge.duration),this.visitStyle(st,j),je.applyStylesToKeyframe()),j.currentAnimateTimings=null,j.previousNode=F}visitStyle(F,j){const ge=j.currentTimeline,je=j.currentAnimateTimings;!je&&ge.getCurrentStyleProperties().length&&ge.forwardFrame();const st=je&&je.easing||F.easing;F.isEmptyStep?ge.applyEmptyStep(st):ge.setStyles(F.styles,st,j.errors,j.options),j.previousNode=F}visitKeyframes(F,j){const ge=j.currentAnimateTimings,je=j.currentTimeline.duration,st=ge.duration,Ot=j.createSubContext().currentTimeline;Ot.easing=ge.easing,F.styles.forEach(ii=>{Ot.forwardTime((ii.offset||0)*st),Ot.setStyles(ii.styles,ii.easing,j.errors,j.options),Ot.applyStylesToKeyframe()}),j.currentTimeline.mergeTimelineCollectedStyles(Ot),j.transformIntoNewTimeline(je+st),j.previousNode=F}visitQuery(F,j){const ge=j.currentTimeline.currentTime,je=F.options||{},st=je.delay?Bt(je.delay):0;st&&(6===j.previousNode.type||0==ge&&j.currentTimeline.getCurrentStyleProperties().length)&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=Xt);let xt=ge;const Ot=j.invokeQuery(F.selector,F.originalSelector,F.limit,F.includeSelf,!!je.optional,j.errors);j.currentQueryTotal=Ot.length;let ii=null;Ot.forEach((mi,Bi)=>{j.currentQueryIndex=Bi;const Gi=j.createSubContext(F.options,mi);st&&Gi.delayNextStep(st),mi===j.element&&(ii=Gi.currentTimeline),be(this,F.animation,Gi),Gi.currentTimeline.applyStylesToKeyframe(),xt=Math.max(xt,Gi.currentTimeline.currentTime)}),j.currentQueryIndex=0,j.currentQueryTotal=0,j.transformIntoNewTimeline(xt),ii&&(j.currentTimeline.mergeTimelineCollectedStyles(ii),j.currentTimeline.snapshotCurrentStyles()),j.previousNode=F}visitStagger(F,j){const ge=j.parentContext,je=j.currentTimeline,st=F.timings,xt=Math.abs(st.duration),Ot=xt*(j.currentQueryTotal-1);let ii=xt*j.currentQueryIndex;switch(st.duration<0?"reverse":st.easing){case"reverse":ii=Ot-ii;break;case"full":ii=ge.currentStaggerTime}const Bi=j.currentTimeline;ii&&Bi.delayNextStep(ii);const Gi=Bi.currentTime;be(this,F.animation,j),j.previousNode=F,ge.currentStaggerTime=je.currentTime-Gi+(je.startTime-ge.currentTimeline.startTime)}}const Xt={};class pi{constructor(F,j,ge,je,st,xt,Ot,ii){this._driver=F,this.element=j,this.subInstructions=ge,this._enterClassName=je,this._leaveClassName=st,this.errors=xt,this.timelines=Ot,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ii||new Ki(this._driver,j,0),Ot.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(F,j){if(!F)return;const ge=F;let je=this.options;null!=ge.duration&&(je.duration=Bt(ge.duration)),null!=ge.delay&&(je.delay=Bt(ge.delay));const st=ge.params;if(st){let xt=je.params;xt||(xt=this.options.params={}),Object.keys(st).forEach(Ot=>{(!j||!xt.hasOwnProperty(Ot))&&(xt[Ot]=lt(st[Ot],xt,this.errors))})}}_copyOptions(){const F={};if(this.options){const j=this.options.params;if(j){const ge=F.params={};Object.keys(j).forEach(je=>{ge[je]=j[je]})}}return F}createSubContext(F=null,j,ge){const je=j||this.element,st=new pi(this._driver,je,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(je,ge||0));return st.previousNode=this.previousNode,st.currentAnimateTimings=this.currentAnimateTimings,st.options=this._copyOptions(),st.updateOptions(F),st.currentQueryIndex=this.currentQueryIndex,st.currentQueryTotal=this.currentQueryTotal,st.parentContext=this,this.subContextCount++,st}transformIntoNewTimeline(F){return this.previousNode=Xt,this.currentTimeline=this.currentTimeline.fork(this.element,F),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(F,j,ge){const je={duration:null!=j?j:F.duration,delay:this.currentTimeline.currentTime+(null!=ge?ge:0)+F.delay,easing:""},st=new cn(this._driver,F.element,F.keyframes,F.preStyleProps,F.postStyleProps,je,F.stretchStartingKeyframe);return this.timelines.push(st),je}incrementTime(F){this.currentTimeline.forwardTime(this.currentTimeline.duration+F)}delayNextStep(F){F>0&&this.currentTimeline.delayNextStep(F)}invokeQuery(F,j,ge,je,st,xt){let Ot=[];if(je&&Ot.push(this.element),F.length>0){F=(F=F.replace(Zi,"."+this._enterClassName)).replace(Jt,"."+this._leaveClassName);let mi=this._driver.query(this.element,F,1!=ge);0!==ge&&(mi=ge<0?mi.slice(mi.length+ge,mi.length):mi.slice(0,ge)),Ot.push(...mi)}return!st&&0==Ot.length&&xt.push(`\`query("${j}")\` returned zero elements. (Use \`query("${j}", { optional: true })\` if you wish to allow this.)`),Ot}}class Ki{constructor(F,j,ge,je){this._driver=F,this.element=j,this.startTime=ge,this._elementTimelineStylesLookup=je,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(j),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(j,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(F){const j=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||j?(this.forwardTime(this.currentTime+F),j&&this.snapshotCurrentStyles()):this.startTime+=F}fork(F,j){return this.applyStylesToKeyframe(),new Ki(this._driver,F,j||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(F){this.applyStylesToKeyframe(),this.duration=F,this._loadKeyframe()}_updateStyle(F,j){this._localTimelineStyles[F]=j,this._globalTimelineStyles[F]=j,this._styleSummary[F]={time:this.currentTime,value:j}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(F){F&&(this._previousKeyframe.easing=F),Object.keys(this._globalTimelineStyles).forEach(j=>{this._backFill[j]=this._globalTimelineStyles[j]||t.l3,this._currentKeyframe[j]=t.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(F,j,ge,je){j&&(this._previousKeyframe.easing=j);const st=je&&je.params||{},xt=function(Qe,F){const j={};let ge;return Qe.forEach(je=>{"*"===je?(ge=ge||Object.keys(F),ge.forEach(st=>{j[st]=t.l3})):ri(je,!1,j)}),j}(F,this._globalTimelineStyles);Object.keys(xt).forEach(Ot=>{const ii=lt(xt[Ot],st,ge);this._pendingStyles[Ot]=ii,this._localTimelineStyles.hasOwnProperty(Ot)||(this._backFill[Ot]=this._globalTimelineStyles.hasOwnProperty(Ot)?this._globalTimelineStyles[Ot]:t.l3),this._updateStyle(Ot,ii)})}applyStylesToKeyframe(){const F=this._pendingStyles,j=Object.keys(F);0!=j.length&&(this._pendingStyles={},j.forEach(ge=>{this._currentKeyframe[ge]=F[ge]}),Object.keys(this._localTimelineStyles).forEach(ge=>{this._currentKeyframe.hasOwnProperty(ge)||(this._currentKeyframe[ge]=this._localTimelineStyles[ge])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(F=>{const j=this._localTimelineStyles[F];this._pendingStyles[F]=j,this._updateStyle(F,j)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const F=[];for(let j in this._currentKeyframe)F.push(j);return F}mergeTimelineCollectedStyles(F){Object.keys(F._styleSummary).forEach(j=>{const ge=this._styleSummary[j],je=F._styleSummary[j];(!ge||je.time>ge.time)&&this._updateStyle(j,je.value)})}buildKeyframes(){this.applyStylesToKeyframe();const F=new Set,j=new Set,ge=1===this._keyframes.size&&0===this.duration;let je=[];this._keyframes.forEach((Ot,ii)=>{const mi=ri(Ot,!0);Object.keys(mi).forEach(Bi=>{const Gi=mi[Bi];Gi==t.k1?F.add(Bi):Gi==t.l3&&j.add(Bi)}),ge||(mi.offset=ii/this.duration),je.push(mi)});const st=F.size?ze(F.values()):[],xt=j.size?ze(j.values()):[];if(ge){const Ot=je[0],ii=qt(Ot);Ot.offset=0,ii.offset=1,je=[Ot,ii]}return et(this.element,je,st,xt,this.duration,this.startTime,this.easing,!1)}}class cn extends Ki{constructor(F,j,ge,je,st,xt,Ot=!1){super(F,j,xt.delay),this.keyframes=ge,this.preStyleProps=je,this.postStyleProps=st,this._stretchStartingKeyframe=Ot,this.timings={duration:xt.duration,delay:xt.delay,easing:xt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let F=this.keyframes,{delay:j,duration:ge,easing:je}=this.timings;if(this._stretchStartingKeyframe&&j){const st=[],xt=ge+j,Ot=j/xt,ii=ri(F[0],!1);ii.offset=0,st.push(ii);const mi=ri(F[0],!1);mi.offset=On(Ot),st.push(mi);const Bi=F.length-1;for(let Gi=1;Gi<=Bi;Gi++){let un=ri(F[Gi],!1);un.offset=On((j+un.offset*ge)/xt),st.push(un)}ge=xt,j=0,je="",F=st}return et(this.element,F,this.preStyleProps,this.postStyleProps,ge,j,je,!0)}}function On(Qe,F=3){const j=Math.pow(10,F-1);return Math.round(Qe*j)/j}class Kr{}class no extends Kr{normalizePropertyName(F,j){return gt(F)}normalizeStyleValue(F,j,ge,je){let st="";const xt=ge.toString().trim();if($n[j]&&0!==ge&&"0"!==ge)if("number"==typeof ge)st="px";else{const Ot=ge.match(/^[+-]?[\d\.]+([a-z]*)$/);Ot&&0==Ot[1].length&&je.push(`Please provide a CSS unit value for ${F}:${ge}`)}return xt+st}}const $n=(()=>function(Qe){const F={};return Qe.forEach(j=>F[j]=!0),F}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function or(Qe,F,j,ge,je,st,xt,Ot,ii,mi,Bi,Gi,un){return{type:0,element:Qe,triggerName:F,isRemovalTransition:je,fromState:j,fromStyles:st,toState:ge,toStyles:xt,timelines:Ot,queriedElements:ii,preStyleProps:mi,postStyleProps:Bi,totalTime:Gi,errors:un}}const Hi={};class hn{constructor(F,j,ge){this._triggerName=F,this.ast=j,this._stateStyles=ge}match(F,j,ge,je){return function(Qe,F,j,ge,je){return Qe.some(st=>st(F,j,ge,je))}(this.ast.matchers,F,j,ge,je)}buildStyles(F,j,ge){const je=this._stateStyles["*"],st=this._stateStyles[F],xt=je?je.buildStyles(j,ge):{};return st?st.buildStyles(j,ge):xt}build(F,j,ge,je,st,xt,Ot,ii,mi,Bi){const Gi=[],un=this.ast.options&&this.ast.options.params||Hi,en=this.buildStyles(ge,Ot&&Ot.params||Hi,Gi),_n=ii&&ii.params||Hi,Bn=this.buildStyles(je,_n,Gi),jn=new Set,xr=new Map,oo=new Map,Hr="void"===je,Go={params:Object.assign(Object.assign({},un),_n)},Qo=Bi?[]:Rt(F,j,this.ast.animation,st,xt,en,Bn,Go,mi,Gi);let Vr=0;if(Qo.forEach(qo=>{Vr=Math.max(qo.duration+qo.delay,Vr)}),Gi.length)return or(j,this._triggerName,ge,je,Hr,en,Bn,[],[],xr,oo,Vr,Gi);Qo.forEach(qo=>{const hs=qo.element,wa=N(xr,hs,{});qo.preStyleProps.forEach(es=>wa[es]=!0);const Cr=N(oo,hs,{});qo.postStyleProps.forEach(es=>Cr[es]=!0),hs!==j&&jn.add(hs)});const As=ze(jn.values());return or(j,this._triggerName,ge,je,Hr,en,Bn,Qo,As,xr,oo,Vr)}}class kr{constructor(F,j,ge){this.styles=F,this.defaultParams=j,this.normalizer=ge}buildStyles(F,j){const ge={},je=qt(this.defaultParams);return Object.keys(F).forEach(st=>{const xt=F[st];null!=xt&&(je[st]=xt)}),this.styles.styles.forEach(st=>{if("string"!=typeof st){const xt=st;Object.keys(xt).forEach(Ot=>{let ii=xt[Ot];ii.length>1&&(ii=lt(ii,je,j));const mi=this.normalizer.normalizePropertyName(Ot,j);ii=this.normalizer.normalizeStyleValue(Ot,mi,ii,j),ge[mi]=ii})}}),ge}}class dr{constructor(F,j,ge){this.name=F,this.ast=j,this._normalizer=ge,this.transitionFactories=[],this.states={},j.states.forEach(je=>{this.states[je.name]=new kr(je.style,je.options&&je.options.params||{},ge)}),Kn(this.states,"true","1"),Kn(this.states,"false","0"),j.transitions.forEach(je=>{this.transitionFactories.push(new hn(F,je,this.states))}),this.fallbackTransition=function(Qe,F,j){return new hn(Qe,{type:1,animation:{type:2,steps:[],options:null},matchers:[(xt,Ot)=>!0],options:null,queryCount:0,depCount:0},F)}(F,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(F,j,ge,je){return this.transitionFactories.find(xt=>xt.match(F,j,ge,je))||null}matchStyles(F,j,ge){return this.fallbackTransition.buildStyles(F,j,ge)}}function Kn(Qe,F,j){Qe.hasOwnProperty(F)?Qe.hasOwnProperty(j)||(Qe[j]=Qe[F]):Qe.hasOwnProperty(j)&&(Qe[F]=Qe[j])}const Pr=new vt;class $r{constructor(F,j,ge){this.bodyNode=F,this._driver=j,this._normalizer=ge,this._animations={},this._playersById={},this.players=[]}register(F,j){const ge=[],je=jt(this._driver,j,ge);if(ge.length)throw new Error(`Unable to build the animation due to the following errors: ${ge.join("\n")}`);this._animations[F]=je}_buildPlayer(F,j,ge){const je=F.element,st=u(0,this._normalizer,0,F.keyframes,j,ge);return this._driver.animate(je,st,F.duration,F.delay,F.easing,[],!0)}create(F,j,ge={}){const je=[],st=this._animations[F];let xt;const Ot=new Map;if(st?(xt=Rt(this._driver,j,st,te,ie,{},{},ge,Pr,je),xt.forEach(Bi=>{const Gi=N(Ot,Bi.element,{});Bi.postStyleProps.forEach(un=>Gi[un]=null)})):(je.push("The requested animation doesn't exist or has already been destroyed"),xt=[]),je.length)throw new Error(`Unable to create the animation due to the following errors: ${je.join("\n")}`);Ot.forEach((Bi,Gi)=>{Object.keys(Bi).forEach(un=>{Bi[un]=this._driver.computeStyle(Gi,un,t.l3)})});const mi=o(xt.map(Bi=>{const Gi=Ot.get(Bi.element);return this._buildPlayer(Bi,{},Gi)}));return this._playersById[F]=mi,mi.onDestroy(()=>this.destroy(F)),this.players.push(mi),mi}destroy(F){const j=this._getPlayer(F);j.destroy(),delete this._playersById[F];const ge=this.players.indexOf(j);ge>=0&&this.players.splice(ge,1)}_getPlayer(F){const j=this._playersById[F];if(!j)throw new Error(`Unable to find the timeline player referenced by ${F}`);return j}listen(F,j,ge,je){const st=R(j,"","","");return b(this._getPlayer(F),ge,st,je),()=>{}}command(F,j,ge,je){if("register"==ge)return void this.register(F,je[0]);if("create"==ge)return void this.create(F,j,je[0]||{});const st=this._getPlayer(F);switch(ge){case"play":st.play();break;case"pause":st.pause();break;case"reset":st.reset();break;case"restart":st.restart();break;case"finish":st.finish();break;case"init":st.init();break;case"setPosition":st.setPosition(parseFloat(je[0]));break;case"destroy":this.destroy(F)}}}const pn="ng-animate-queued",ro="ng-animate-disabled",Ko=[],Jr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vn="__ng_removed";class Zr{constructor(F,j=""){this.namespaceId=j;const ge=F&&F.hasOwnProperty("value");if(this.value=null!=(Qe=ge?F.value:F)?Qe:null,ge){const st=qt(F);delete st.value,this.options=st}else this.options={};var Qe;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(F){const j=F.params;if(j){const ge=this.options.params;Object.keys(j).forEach(je=>{null==ge[je]&&(ge[je]=j[je])})}}}const Ar="void",yr=new Zr(Ar);class Lr{constructor(F,j,ge){this.id=F,this.hostElement=j,this._engine=ge,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+F,hr(j,this._hostClassName)}listen(F,j,ge,je){if(!this._triggers.hasOwnProperty(j))throw new Error(`Unable to listen on the animation trigger event "${ge}" because the animation trigger "${j}" doesn't exist!`);if(null==ge||0==ge.length)throw new Error(`Unable to listen on the animation trigger "${j}" because the provided event is undefined!`);if("start"!=(Qe=ge)&&"done"!=Qe)throw new Error(`The provided animation trigger event "${ge}" for the animation trigger "${j}" is not supported!`);var Qe;const st=N(this._elementListeners,F,[]),xt={name:j,phase:ge,callback:je};st.push(xt);const Ot=N(this._engine.statesByElement,F,{});return Ot.hasOwnProperty(j)||(hr(F,He),hr(F,He+"-"+j),Ot[j]=yr),()=>{this._engine.afterFlush(()=>{const ii=st.indexOf(xt);ii>=0&&st.splice(ii,1),this._triggers[j]||delete Ot[j]})}}register(F,j){return!this._triggers[F]&&(this._triggers[F]=j,!0)}_getTrigger(F){const j=this._triggers[F];if(!j)throw new Error(`The provided animation trigger "${F}" has not been registered!`);return j}trigger(F,j,ge,je=!0){const st=this._getTrigger(j),xt=new yn(this.id,j,F);let Ot=this._engine.statesByElement.get(F);Ot||(hr(F,He),hr(F,He+"-"+j),this._engine.statesByElement.set(F,Ot={}));let ii=Ot[j];const mi=new Zr(ge,this.id);if(!(ge&&ge.hasOwnProperty("value"))&&ii&&mi.absorbOptions(ii.options),Ot[j]=mi,ii||(ii=yr),mi.value!==Ar&&ii.value===mi.value){if(!function(Qe,F){const j=Object.keys(Qe),ge=Object.keys(F);if(j.length!=ge.length)return!1;for(let je=0;je<j.length;je++){const st=j[je];if(!F.hasOwnProperty(st)||Qe[st]!==F[st])return!1}return!0}(ii.params,mi.params)){const _n=[],Bn=st.matchStyles(ii.value,ii.params,_n),jn=st.matchStyles(mi.value,mi.params,_n);_n.length?this._engine.reportError(_n):this._engine.afterFlush(()=>{Je(F,Bn),Ke(F,jn)})}return}const un=N(this._engine.playersByElement,F,[]);un.forEach(_n=>{_n.namespaceId==this.id&&_n.triggerName==j&&_n.queued&&_n.destroy()});let Rn=st.matchTransition(ii.value,mi.value,F,mi.params),en=!1;if(!Rn){if(!je)return;Rn=st.fallbackTransition,en=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:F,triggerName:j,transition:Rn,fromState:ii,toState:mi,player:xt,isFallbackTransition:en}),en||(hr(F,pn),xt.onStart(()=>{Jo(F,pn)})),xt.onDone(()=>{let _n=this.players.indexOf(xt);_n>=0&&this.players.splice(_n,1);const Bn=this._engine.playersByElement.get(F);if(Bn){let jn=Bn.indexOf(xt);jn>=0&&Bn.splice(jn,1)}}),this.players.push(xt),un.push(xt),xt}deregister(F){delete this._triggers[F],this._engine.statesByElement.forEach((j,ge)=>{delete j[F]}),this._elementListeners.forEach((j,ge)=>{this._elementListeners.set(ge,j.filter(je=>je.name!=F))})}clearElementCache(F){this._engine.statesByElement.delete(F),this._elementListeners.delete(F);const j=this._engine.playersByElement.get(F);j&&(j.forEach(ge=>ge.destroy()),this._engine.playersByElement.delete(F))}_signalRemovalForInnerTriggers(F,j){const ge=this._engine.driver.query(F,ct,!0);ge.forEach(je=>{if(je[vn])return;const st=this._engine.fetchNamespacesByElement(je);st.size?st.forEach(xt=>xt.triggerLeaveAnimation(je,j,!1,!0)):this.clearElementCache(je)}),this._engine.afterFlushAnimationsDone(()=>ge.forEach(je=>this.clearElementCache(je)))}triggerLeaveAnimation(F,j,ge,je){const st=this._engine.statesByElement.get(F);if(st){const xt=[];if(Object.keys(st).forEach(Ot=>{if(this._triggers[Ot]){const ii=this.trigger(F,Ot,Ar,je);ii&&xt.push(ii)}}),xt.length)return this._engine.markElementAsRemoved(this.id,F,!0,j),ge&&o(xt).onDone(()=>this._engine.processLeaveNode(F)),!0}return!1}prepareLeaveAnimationListeners(F){const j=this._elementListeners.get(F),ge=this._engine.statesByElement.get(F);if(j&&ge){const je=new Set;j.forEach(st=>{const xt=st.name;if(je.has(xt))return;je.add(xt);const ii=this._triggers[xt].fallbackTransition,mi=ge[xt]||yr,Bi=new Zr(Ar),Gi=new yn(this.id,xt,F);this._engine.totalQueuedPlayers++,this._queue.push({element:F,triggerName:xt,transition:ii,fromState:mi,toState:Bi,player:Gi,isFallbackTransition:!0})})}}removeNode(F,j){const ge=this._engine;if(F.childElementCount&&this._signalRemovalForInnerTriggers(F,j),this.triggerLeaveAnimation(F,j,!0))return;let je=!1;if(ge.totalAnimations){const st=ge.players.length?ge.playersByQueriedElement.get(F):[];if(st&&st.length)je=!0;else{let xt=F;for(;xt=xt.parentNode;)if(ge.statesByElement.get(xt)){je=!0;break}}}if(this.prepareLeaveAnimationListeners(F),je)ge.markElementAsRemoved(this.id,F,!1,j);else{const st=F[vn];(!st||st===Jr)&&(ge.afterFlush(()=>this.clearElementCache(F)),ge.destroyInnerAnimations(F),ge._onRemovalComplete(F,j))}}insertNode(F,j){hr(F,this._hostClassName)}drainQueuedTransitions(F){const j=[];return this._queue.forEach(ge=>{const je=ge.player;if(je.destroyed)return;const st=ge.element,xt=this._elementListeners.get(st);xt&&xt.forEach(Ot=>{if(Ot.name==ge.triggerName){const ii=R(st,ge.triggerName,ge.fromState.value,ge.toState.value);ii._data=F,b(ge.player,Ot.phase,ii,Ot.callback)}}),je.markedForDestroy?this._engine.afterFlush(()=>{je.destroy()}):j.push(ge)}),this._queue=[],j.sort((ge,je)=>{const st=ge.transition.ast.depCount,xt=je.transition.ast.depCount;return 0==st||0==xt?st-xt:this._engine.driver.containsElement(ge.element,je.element)?1:-1})}destroy(F){this.players.forEach(j=>j.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,F)}elementContainsData(F){let j=!1;return this._elementListeners.has(F)&&(j=!0),j=!!this._queue.find(ge=>ge.element===F)||j,j}}class Cs{constructor(F,j,ge){this.bodyNode=F,this.driver=j,this._normalizer=ge,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(je,st)=>{}}_onRemovalComplete(F,j){this.onRemovalComplete(F,j)}get queuedPlayers(){const F=[];return this._namespaceList.forEach(j=>{j.players.forEach(ge=>{ge.queued&&F.push(ge)})}),F}createNamespace(F,j){const ge=new Lr(F,j,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,j)?this._balanceNamespaceList(ge,j):(this.newHostElements.set(j,ge),this.collectEnterElement(j)),this._namespaceLookup[F]=ge}_balanceNamespaceList(F,j){const ge=this._namespaceList.length-1;if(ge>=0){let je=!1;for(let st=ge;st>=0;st--)if(this.driver.containsElement(this._namespaceList[st].hostElement,j)){this._namespaceList.splice(st+1,0,F),je=!0;break}je||this._namespaceList.splice(0,0,F)}else this._namespaceList.push(F);return this.namespacesByHostElement.set(j,F),F}register(F,j){let ge=this._namespaceLookup[F];return ge||(ge=this.createNamespace(F,j)),ge}registerTrigger(F,j,ge){let je=this._namespaceLookup[F];je&&je.register(j,ge)&&this.totalAnimations++}destroy(F,j){if(!F)return;const ge=this._fetchNamespace(F);this.afterFlush(()=>{this.namespacesByHostElement.delete(ge.hostElement),delete this._namespaceLookup[F];const je=this._namespaceList.indexOf(ge);je>=0&&this._namespaceList.splice(je,1)}),this.afterFlushAnimationsDone(()=>ge.destroy(j))}_fetchNamespace(F){return this._namespaceLookup[F]}fetchNamespacesByElement(F){const j=new Set,ge=this.statesByElement.get(F);if(ge){const je=Object.keys(ge);for(let st=0;st<je.length;st++){const xt=ge[je[st]].namespaceId;if(xt){const Ot=this._fetchNamespace(xt);Ot&&j.add(Ot)}}}return j}trigger(F,j,ge,je){if(wo(j)){const st=this._fetchNamespace(F);if(st)return st.trigger(j,ge,je),!0}return!1}insertNode(F,j,ge,je){if(!wo(j))return;const st=j[vn];if(st&&st.setForRemoval){st.setForRemoval=!1,st.setForMove=!0;const xt=this.collectedLeaveElements.indexOf(j);xt>=0&&this.collectedLeaveElements.splice(xt,1)}if(F){const xt=this._fetchNamespace(F);xt&&xt.insertNode(j,ge)}je&&this.collectEnterElement(j)}collectEnterElement(F){this.collectedEnterElements.push(F)}markElementAsDisabled(F,j){j?this.disabledNodes.has(F)||(this.disabledNodes.add(F),hr(F,ro)):this.disabledNodes.has(F)&&(this.disabledNodes.delete(F),Jo(F,ro))}removeNode(F,j,ge,je){if(wo(j)){const st=F?this._fetchNamespace(F):null;if(st?st.removeNode(j,je):this.markElementAsRemoved(F,j,!1,je),ge){const xt=this.namespacesByHostElement.get(j);xt&&xt.id!==F&&xt.removeNode(j,je)}}else this._onRemovalComplete(j,je)}markElementAsRemoved(F,j,ge,je){this.collectedLeaveElements.push(j),j[vn]={namespaceId:F,setForRemoval:je,hasAnimation:ge,removedBeforeQueried:!1}}listen(F,j,ge,je,st){return wo(j)?this._fetchNamespace(F).listen(j,ge,je,st):()=>{}}_buildInstruction(F,j,ge,je,st){return F.transition.build(this.driver,F.element,F.fromState.value,F.toState.value,ge,je,F.fromState.options,F.toState.options,j,st)}destroyInnerAnimations(F){let j=this.driver.query(F,ct,!0);j.forEach(ge=>this.destroyActiveAnimationsForElement(ge)),0!=this.playersByQueriedElement.size&&(j=this.driver.query(F,ht,!0),j.forEach(ge=>this.finishActiveQueriedAnimationOnElement(ge)))}destroyActiveAnimationsForElement(F){const j=this.playersByElement.get(F);j&&j.forEach(ge=>{ge.queued?ge.markedForDestroy=!0:ge.destroy()})}finishActiveQueriedAnimationOnElement(F){const j=this.playersByQueriedElement.get(F);j&&j.forEach(ge=>ge.finish())}whenRenderingDone(){return new Promise(F=>{if(this.players.length)return o(this.players).onDone(()=>F());F()})}processLeaveNode(F){var j;const ge=F[vn];if(ge&&ge.setForRemoval){if(F[vn]=Jr,ge.namespaceId){this.destroyInnerAnimations(F);const je=this._fetchNamespace(ge.namespaceId);je&&je.clearElementCache(F)}this._onRemovalComplete(F,ge.setForRemoval)}(null===(j=F.classList)||void 0===j?void 0:j.contains(ro))&&this.markElementAsDisabled(F,!1),this.driver.query(F,".ng-animate-disabled",!0).forEach(je=>{this.markElementAsDisabled(je,!1)})}flush(F=-1){let j=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ge,je)=>this._balanceNamespaceList(ge,je)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ge=0;ge<this.collectedEnterElements.length;ge++)hr(this.collectedEnterElements[ge],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ge=[];try{j=this._flushAnimations(ge,F)}finally{for(let je=0;je<ge.length;je++)ge[je]()}}else for(let ge=0;ge<this.collectedLeaveElements.length;ge++)this.processLeaveNode(this.collectedLeaveElements[ge]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ge=>ge()),this._flushFns=[],this._whenQuietFns.length){const ge=this._whenQuietFns;this._whenQuietFns=[],j.length?o(j).onDone(()=>{ge.forEach(je=>je())}):ge.forEach(je=>je())}}reportError(F){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${F.join("\n")}`)}_flushAnimations(F,j){const ge=new vt,je=[],st=new Map,xt=[],Ot=new Map,ii=new Map,mi=new Map,Bi=new Set;this.disabledNodes.forEach(Qi=>{Bi.add(Qi);const nn=this.driver.query(Qi,".ng-animate-queued",!0);for(let rn=0;rn<nn.length;rn++)Bi.add(nn[rn])});const Gi=this.bodyNode,un=Array.from(this.statesByElement.keys()),Rn=So(un,this.collectedEnterElements),en=new Map;let _n=0;Rn.forEach((Qi,nn)=>{const rn=te+_n++;en.set(nn,rn),Qi.forEach(In=>hr(In,rn))});const Bn=[],jn=new Set,xr=new Set;for(let Qi=0;Qi<this.collectedLeaveElements.length;Qi++){const nn=this.collectedLeaveElements[Qi],rn=nn[vn];rn&&rn.setForRemoval&&(Bn.push(nn),jn.add(nn),rn.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach(In=>jn.add(In)):xr.add(nn))}const oo=new Map,Hr=So(un,Array.from(jn));Hr.forEach((Qi,nn)=>{const rn=ie+_n++;oo.set(nn,rn),Qi.forEach(In=>hr(In,rn))}),F.push(()=>{Rn.forEach((Qi,nn)=>{const rn=en.get(nn);Qi.forEach(In=>Jo(In,rn))}),Hr.forEach((Qi,nn)=>{const rn=oo.get(nn);Qi.forEach(In=>Jo(In,rn))}),Bn.forEach(Qi=>{this.processLeaveNode(Qi)})});const Go=[],Qo=[];for(let Qi=this._namespaceList.length-1;Qi>=0;Qi--)this._namespaceList[Qi].drainQueuedTransitions(j).forEach(rn=>{const In=rn.player,An=rn.element;if(Go.push(In),this.collectedEnterElements.length){const ps=An[vn];if(ps&&ps.setForMove)return void In.destroy()}const Eo=!Gi||!this.driver.containsElement(Gi,An),Io=oo.get(An),ts=en.get(An),Qn=this._buildInstruction(rn,ge,ts,Io,Eo);if(Qn.errors&&Qn.errors.length)Qo.push(Qn);else{if(Eo)return In.onStart(()=>Je(An,Qn.fromStyles)),In.onDestroy(()=>Ke(An,Qn.toStyles)),void je.push(In);if(rn.isFallbackTransition)return In.onStart(()=>Je(An,Qn.fromStyles)),In.onDestroy(()=>Ke(An,Qn.toStyles)),void je.push(In);Qn.timelines.forEach(ps=>ps.stretchStartingKeyframe=!0),ge.append(An,Qn.timelines),xt.push({instruction:Qn,player:In,element:An}),Qn.queriedElements.forEach(ps=>N(Ot,ps,[]).push(In)),Qn.preStyleProps.forEach((ps,fs)=>{const zs=Object.keys(ps);if(zs.length){let fo=ii.get(fs);fo||ii.set(fs,fo=new Set),zs.forEach(jo=>fo.add(jo))}}),Qn.postStyleProps.forEach((ps,fs)=>{const zs=Object.keys(ps);let fo=mi.get(fs);fo||mi.set(fs,fo=new Set),zs.forEach(jo=>fo.add(jo))})}});if(Qo.length){const Qi=[];Qo.forEach(nn=>{Qi.push(`@${nn.triggerName} has failed due to:\n`),nn.errors.forEach(rn=>Qi.push(`- ${rn}\n`))}),Go.forEach(nn=>nn.destroy()),this.reportError(Qi)}const Vr=new Map,As=new Map;xt.forEach(Qi=>{const nn=Qi.element;ge.has(nn)&&(As.set(nn,nn),this._beforeAnimationBuild(Qi.player.namespaceId,Qi.instruction,Vr))}),je.forEach(Qi=>{const nn=Qi.element;this._getPreviousPlayers(nn,!1,Qi.namespaceId,Qi.triggerName,null).forEach(In=>{N(Vr,nn,[]).push(In),In.destroy()})});const qo=Bn.filter(Qi=>Ca(Qi,ii,mi)),hs=new Map;$o(hs,this.driver,xr,mi,t.l3).forEach(Qi=>{Ca(Qi,ii,mi)&&qo.push(Qi)});const Cr=new Map;Rn.forEach((Qi,nn)=>{$o(Cr,this.driver,new Set(Qi),ii,t.k1)}),qo.forEach(Qi=>{const nn=hs.get(Qi),rn=Cr.get(Qi);hs.set(Qi,Object.assign(Object.assign({},nn),rn))});const es=[],Sa=[],ua={};xt.forEach(Qi=>{const{element:nn,player:rn,instruction:In}=Qi;if(ge.has(nn)){if(Bi.has(nn))return rn.onDestroy(()=>Ke(nn,In.toStyles)),rn.disabled=!0,rn.overrideTotalTime(In.totalTime),void je.push(rn);let An=ua;if(As.size>1){let Io=nn;const ts=[];for(;Io=Io.parentNode;){const Qn=As.get(Io);if(Qn){An=Qn;break}ts.push(Io)}ts.forEach(Qn=>As.set(Qn,An))}const Eo=this._buildAnimation(rn.namespaceId,In,Vr,st,Cr,hs);if(rn.setRealPlayer(Eo),An===ua)es.push(rn);else{const Io=this.playersByElement.get(An);Io&&Io.length&&(rn.parentPlayer=o(Io)),je.push(rn)}}else Je(nn,In.fromStyles),rn.onDestroy(()=>Ke(nn,In.toStyles)),Sa.push(rn),Bi.has(nn)&&je.push(rn)}),Sa.forEach(Qi=>{const nn=st.get(Qi.element);if(nn&&nn.length){const rn=o(nn);Qi.setRealPlayer(rn)}}),je.forEach(Qi=>{Qi.parentPlayer?Qi.syncPlayerEvents(Qi.parentPlayer):Qi.destroy()});for(let Qi=0;Qi<Bn.length;Qi++){const nn=Bn[Qi],rn=nn[vn];if(Jo(nn,ie),rn&&rn.hasAnimation)continue;let In=[];if(Ot.size){let Eo=Ot.get(nn);Eo&&Eo.length&&In.push(...Eo);let Io=this.driver.query(nn,ht,!0);for(let ts=0;ts<Io.length;ts++){let Qn=Ot.get(Io[ts]);Qn&&Qn.length&&In.push(...Qn)}}const An=In.filter(Eo=>!Eo.destroyed);An.length?$s(this,nn,An):this.processLeaveNode(nn)}return Bn.length=0,es.forEach(Qi=>{this.players.push(Qi),Qi.onDone(()=>{Qi.destroy();const nn=this.players.indexOf(Qi);this.players.splice(nn,1)}),Qi.play()}),es}elementContainsData(F,j){let ge=!1;const je=j[vn];return je&&je.setForRemoval&&(ge=!0),this.playersByElement.has(j)&&(ge=!0),this.playersByQueriedElement.has(j)&&(ge=!0),this.statesByElement.has(j)&&(ge=!0),this._fetchNamespace(F).elementContainsData(j)||ge}afterFlush(F){this._flushFns.push(F)}afterFlushAnimationsDone(F){this._whenQuietFns.push(F)}_getPreviousPlayers(F,j,ge,je,st){let xt=[];if(j){const Ot=this.playersByQueriedElement.get(F);Ot&&(xt=Ot)}else{const Ot=this.playersByElement.get(F);if(Ot){const ii=!st||st==Ar;Ot.forEach(mi=>{mi.queued||!ii&&mi.triggerName!=je||xt.push(mi)})}}return(ge||je)&&(xt=xt.filter(Ot=>!(ge&&ge!=Ot.namespaceId||je&&je!=Ot.triggerName))),xt}_beforeAnimationBuild(F,j,ge){const st=j.element,xt=j.isRemovalTransition?void 0:F,Ot=j.isRemovalTransition?void 0:j.triggerName;for(const ii of j.timelines){const mi=ii.element,Bi=mi!==st,Gi=N(ge,mi,[]);this._getPreviousPlayers(mi,Bi,xt,Ot,j.toState).forEach(Rn=>{const en=Rn.getRealPlayer();en.beforeDestroy&&en.beforeDestroy(),Rn.destroy(),Gi.push(Rn)})}Je(st,j.fromStyles)}_buildAnimation(F,j,ge,je,st,xt){const Ot=j.triggerName,ii=j.element,mi=[],Bi=new Set,Gi=new Set,un=j.timelines.map(en=>{const _n=en.element;Bi.add(_n);const Bn=_n[vn];if(Bn&&Bn.removedBeforeQueried)return new t.ZN(en.duration,en.delay);const jn=_n!==ii,xr=function(Qe){const F=[];return Do(Qe,F),F}((ge.get(_n)||Ko).map(Vr=>Vr.getRealPlayer())).filter(Vr=>!!Vr.element&&Vr.element===_n),oo=st.get(_n),Hr=xt.get(_n),Go=u(0,this._normalizer,0,en.keyframes,oo,Hr),Qo=this._buildPlayer(en,Go,xr);if(en.subTimeline&&je&&Gi.add(_n),jn){const Vr=new yn(F,Ot,_n);Vr.setRealPlayer(Qo),mi.push(Vr)}return Qo});mi.forEach(en=>{N(this.playersByQueriedElement,en.element,[]).push(en),en.onDone(()=>function(Qe,F,j){let ge;if(Qe instanceof Map){if(ge=Qe.get(F),ge){if(ge.length){const je=ge.indexOf(j);ge.splice(je,1)}0==ge.length&&Qe.delete(F)}}else if(ge=Qe[F],ge){if(ge.length){const je=ge.indexOf(j);ge.splice(je,1)}0==ge.length&&delete Qe[F]}return ge}(this.playersByQueriedElement,en.element,en))}),Bi.forEach(en=>hr(en,Yt));const Rn=o(un);return Rn.onDestroy(()=>{Bi.forEach(en=>Jo(en,Yt)),Ke(ii,j.toStyles)}),Gi.forEach(en=>{N(je,en,[]).push(Rn)}),Rn}_buildPlayer(F,j,ge){return j.length>0?this.driver.animate(F.element,j,F.duration,F.delay,F.easing,ge):new t.ZN(F.duration,F.delay)}}class yn{constructor(F,j,ge){this.namespaceId=F,this.triggerName=j,this.element=ge,this._player=new t.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(F){this._containsRealPlayer||(this._player=F,Object.keys(this._queuedCallbacks).forEach(j=>{this._queuedCallbacks[j].forEach(ge=>b(F,j,void 0,ge))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(F.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(F){this.totalTime=F}syncPlayerEvents(F){const j=this._player;j.triggerCallback&&F.onStart(()=>j.triggerCallback("start")),F.onDone(()=>this.finish()),F.onDestroy(()=>this.destroy())}_queueEvent(F,j){N(this._queuedCallbacks,F,[]).push(j)}onDone(F){this.queued&&this._queueEvent("done",F),this._player.onDone(F)}onStart(F){this.queued&&this._queueEvent("start",F),this._player.onStart(F)}onDestroy(F){this.queued&&this._queueEvent("destroy",F),this._player.onDestroy(F)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(F){this.queued||this._player.setPosition(F)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(F){const j=this._player;j.triggerCallback&&j.triggerCallback(F)}}function wo(Qe){return Qe&&1===Qe.nodeType}function Nr(Qe,F){const j=Qe.style.display;return Qe.style.display=null!=F?F:"none",j}function $o(Qe,F,j,ge,je){const st=[];j.forEach(ii=>st.push(Nr(ii)));const xt=[];ge.forEach((ii,mi)=>{const Bi={};ii.forEach(Gi=>{const un=Bi[Gi]=F.computeStyle(mi,Gi,je);(!un||0==un.length)&&(mi[vn]=Hn,xt.push(mi))}),Qe.set(mi,Bi)});let Ot=0;return j.forEach(ii=>Nr(ii,st[Ot++])),xt}function So(Qe,F){const j=new Map;if(Qe.forEach(Ot=>j.set(Ot,[])),0==F.length)return j;const je=new Set(F),st=new Map;function xt(Ot){if(!Ot)return 1;let ii=st.get(Ot);if(ii)return ii;const mi=Ot.parentNode;return ii=j.has(mi)?mi:je.has(mi)?1:xt(mi),st.set(Ot,ii),ii}return F.forEach(Ot=>{const ii=xt(Ot);1!==ii&&j.get(ii).push(Ot)}),j}function hr(Qe,F){var j;null===(j=Qe.classList)||void 0===j||j.add(F)}function Jo(Qe,F){var j;null===(j=Qe.classList)||void 0===j||j.remove(F)}function $s(Qe,F,j){o(j).onDone(()=>Qe.processLeaveNode(F))}function Do(Qe,F){for(let j=0;j<Qe.length;j++){const ge=Qe[j];ge instanceof t.ZE?Do(ge.players,F):F.push(ge)}}function Ca(Qe,F,j){const ge=j.get(Qe);if(!ge)return!1;let je=F.get(Qe);return je?ge.forEach(st=>je.add(st)):F.set(Qe,ge),j.delete(Qe),!0}class Mo{constructor(F,j,ge){this.bodyNode=F,this._driver=j,this._normalizer=ge,this._triggerCache={},this.onRemovalComplete=(je,st)=>{},this._transitionEngine=new Cs(F,j,ge),this._timelineEngine=new $r(F,j,ge),this._transitionEngine.onRemovalComplete=(je,st)=>this.onRemovalComplete(je,st)}registerTrigger(F,j,ge,je,st){const xt=F+"-"+je;let Ot=this._triggerCache[xt];if(!Ot){const ii=[],mi=jt(this._driver,st,ii);if(ii.length)throw new Error(`The animation trigger "${je}" has failed to build due to the following errors:\n - ${ii.join("\n - ")}`);Ot=function(Qe,F,j){return new dr(Qe,F,j)}(je,mi,this._normalizer),this._triggerCache[xt]=Ot}this._transitionEngine.registerTrigger(j,je,Ot)}register(F,j){this._transitionEngine.register(F,j)}destroy(F,j){this._transitionEngine.destroy(F,j)}onInsert(F,j,ge,je){this._transitionEngine.insertNode(F,j,ge,je)}onRemove(F,j,ge,je){this._transitionEngine.removeNode(F,j,je||!1,ge)}disableAnimations(F,j){this._transitionEngine.markElementAsDisabled(F,j)}process(F,j,ge,je){if("@"==ge.charAt(0)){const[st,xt]=W(ge);this._timelineEngine.command(st,j,xt,je)}else this._transitionEngine.trigger(F,j,ge,je)}listen(F,j,ge,je,st){if("@"==ge.charAt(0)){const[xt,Ot]=W(ge);return this._timelineEngine.listen(xt,j,Ot,st)}return this._transitionEngine.listen(F,j,ge,je,st)}flush(F=-1){this._transitionEngine.flush(F)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function la(Qe,F){let j=null,ge=null;return Array.isArray(F)&&F.length?(j=bo(F[0]),F.length>1&&(ge=bo(F[F.length-1]))):F&&(j=bo(F)),j||ge?new Ts(Qe,j,ge):null}let Ts=(()=>{class Qe{constructor(j,ge,je){this._element=j,this._startStyles=ge,this._endStyles=je,this._state=0;let st=Qe.initialStylesByElement.get(j);st||Qe.initialStylesByElement.set(j,st={}),this._initialStyles=st}start(){this._state<1&&(this._startStyles&&Ke(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ke(this._element,this._initialStyles),this._endStyles&&(Ke(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Qe.initialStylesByElement.delete(this._element),this._startStyles&&(Je(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Je(this._element,this._endStyles),this._endStyles=null),Ke(this._element,this._initialStyles),this._state=3)}}return Qe.initialStylesByElement=new WeakMap,Qe})();function bo(Qe){let F=null;const j=Object.keys(Qe);for(let ge=0;ge<j.length;ge++){const je=j[ge];Oa(je)&&(F=F||{},F[je]=Qe[je])}return F}function Oa(Qe){return"display"===Qe||"position"===Qe}const ls="animation",Wr="animationend";class Dr{constructor(F,j,ge,je,st,xt,Ot){this._element=F,this._name=j,this._duration=ge,this._delay=je,this._easing=st,this._fillMode=xt,this._onDoneFn=Ot,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=ii=>this._handleCallback(ii)}apply(){(function(Qe,F){const j=po(Qe,"").trim();let ge=0;j.length&&(function(Qe,F){let j=0;for(let ge=0;ge<Qe.length;ge++)","===Qe.charAt(ge)&&j++;return j}(j)+1,F=`${j}, ${F}`),Fr(Qe,"",F)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),us(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Mr(this._element,this._name,"paused")}resume(){Mr(this._element,this._name,"running")}setPosition(F){const j=Ro(this._element,this._name);this._position=F*this._duration,Fr(this._element,"Delay",`-${this._position}ms`,j)}getPosition(){return this._position}_handleCallback(F){const j=F._ngTestManualTimestamp||Date.now(),ge=1e3*parseFloat(F.elapsedTime.toFixed(3));F.animationName==this._name&&Math.max(j-this._startTime,0)>=this._delay&&ge>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),us(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(Qe,F){const ge=po(Qe,"").split(","),je=Qr(ge,F);je>=0&&(ge.splice(je,1),Fr(Qe,"",ge.join(",")))}(this._element,this._name))}}function Mr(Qe,F,j){Fr(Qe,"PlayState",j,Ro(Qe,F))}function Ro(Qe,F){const j=po(Qe,"");return j.indexOf(",")>0?Qr(j.split(","),F):Qr([j],F)}function Qr(Qe,F){for(let j=0;j<Qe.length;j++)if(Qe[j].indexOf(F)>=0)return j;return-1}function us(Qe,F,j){j?Qe.removeEventListener(Wr,F):Qe.addEventListener(Wr,F)}function Fr(Qe,F,j,ge){const je=ls+F;if(null!=ge){const st=Qe.style[je];if(st.length){const xt=st.split(",");xt[ge]=j,j=xt.join(",")}}Qe.style[je]=j}function po(Qe,F){return Qe.style[ls+F]||""}class ds{constructor(F,j,ge,je,st,xt,Ot,ii){this.element=F,this.keyframes=j,this.animationName=ge,this._duration=je,this._delay=st,this._finalStyles=Ot,this._specialStyles=ii,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=xt||"linear",this.totalTime=je+st,this._buildStyler()}onStart(F){this._onStartFns.push(F)}onDone(F){this._onDoneFns.push(F)}onDestroy(F){this._onDestroyFns.push(F)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(F=>F()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(F=>F()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(F=>F()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(F){this._styler.setPosition(F)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Dr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(F){const j="start"==F?this._onStartFns:this._onDoneFns;j.forEach(ge=>ge()),j.length=0}beforeDestroy(){this.init();const F={};if(this.hasStarted()){const j=this._state>=3;Object.keys(this._finalStyles).forEach(ge=>{"offset"!=ge&&(F[ge]=j?this._finalStyles[ge]:Ae(this.element,ge))})}this.currentSnapshot=F}}class fr extends t.ZN{constructor(F,j){super(),this.element=F,this._startingStyles={},this.__initialized=!1,this._styles=q(j)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(F=>{this._startingStyles[F]=this.element.style[F]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(F=>this.element.style.setProperty(F,this._styles[F])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(F=>{const j=this._startingStyles[F];j?this.element.style.setProperty(F,j):this.element.style.removeProperty(F)}),this._startingStyles=null,super.destroy())}}class Ho{constructor(){this._count=0}validateStyleProperty(F){return Oe(F)}matchesElement(F,j){return!1}containsElement(F,j){return Ee(F,j)}query(F,j,ge){return ce(F,j,ge)}computeStyle(F,j,ge){return window.getComputedStyle(F)[j]}buildKeyframeElement(F,j,ge){ge=ge.map(Ot=>q(Ot));let je=`@keyframes ${j} {\n`,st="";ge.forEach(Ot=>{st=" ";const ii=parseFloat(Ot.offset);je+=`${st}${100*ii}% {\n`,st+=" ",Object.keys(Ot).forEach(mi=>{const Bi=Ot[mi];switch(mi){case"offset":return;case"easing":return void(Bi&&(je+=`${st}animation-timing-function: ${Bi};\n`));default:return void(je+=`${st}${mi}: ${Bi};\n`)}}),je+=`${st}}\n`}),je+="}\n";const xt=document.createElement("style");return xt.textContent=je,xt}animate(F,j,ge,je,st,xt=[],Ot){const ii=xt.filter(Bn=>Bn instanceof ds),mi={};rt(ge,je)&&ii.forEach(Bn=>{let jn=Bn.currentSnapshot;Object.keys(jn).forEach(xr=>mi[xr]=jn[xr])});const Bi=function(Qe){let F={};return Qe&&(Array.isArray(Qe)?Qe:[Qe]).forEach(ge=>{Object.keys(ge).forEach(je=>{"offset"==je||"easing"==je||(F[je]=ge[je])})}),F}(j=ot(F,j,mi));if(0==ge)return new fr(F,Bi);const Gi="gen_css_kf_"+this._count++,un=this.buildKeyframeElement(F,Gi,j);(function(Qe){var F;const j=null===(F=Qe.getRootNode)||void 0===F?void 0:F.call(Qe);return"undefined"!=typeof ShadowRoot&&j instanceof ShadowRoot?j:document.head})(F).appendChild(un);const en=la(F,j),_n=new ds(F,j,Gi,ge,je,st,Bi,en);return _n.onDestroy(()=>{var Qe;(Qe=un).parentNode.removeChild(Qe)}),_n}}class ws{constructor(F,j,ge,je){this.element=F,this.keyframes=j,this.options=ge,this._specialStyles=je,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=ge.duration,this._delay=ge.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(F=>F()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const F=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,F,this.options),this._finalKeyframe=F.length?F[F.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(F,j,ge){return F.animate(j,ge)}onStart(F){this._onStartFns.push(F)}onDone(F){this._onDoneFns.push(F)}onDestroy(F){this._onDestroyFns.push(F)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(F=>F()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(F=>F()),this._onDestroyFns=[])}setPosition(F){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=F*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const F={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(j=>{"offset"!=j&&(F[j]=this._finished?this._finalKeyframe[j]:Ae(this.element,j))}),this.currentSnapshot=F}triggerCallback(F){const j="start"==F?this._onStartFns:this._onDoneFns;j.forEach(ge=>ge()),j.length=0}}class Se{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(L().toString()),this._cssKeyframesDriver=new Ho}validateStyleProperty(F){return Oe(F)}matchesElement(F,j){return!1}containsElement(F,j){return Ee(F,j)}query(F,j,ge){return ce(F,j,ge)}computeStyle(F,j,ge){return window.getComputedStyle(F)[j]}overrideWebAnimationsSupport(F){this._isNativeImpl=F}animate(F,j,ge,je,st,xt=[],Ot){if(!Ot&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(F,j,ge,je,st,xt);const Bi={duration:ge,delay:je,fill:0==je?"both":"forwards"};st&&(Bi.easing=st);const Gi={},un=xt.filter(en=>en instanceof ws);rt(ge,je)&&un.forEach(en=>{let _n=en.currentSnapshot;Object.keys(_n).forEach(Bn=>Gi[Bn]=_n[Bn])});const Rn=la(F,j=ot(F,j=j.map(en=>ri(en,!1)),Gi));return new ws(F,j,Bi,Rn)}}function L(){return e()&&Element.prototype.animate||{}}var B=h(69808);let Ce=(()=>{class Qe extends t._j{constructor(j,ge){super(),this._nextAnimationId=0,this._renderer=j.createRenderer(ge.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(j){const ge=this._nextAnimationId.toString();this._nextAnimationId++;const je=Array.isArray(j)?(0,t.vP)(j):j;return Li(this._renderer,null,ge,"register",[je]),new Et(ge,this._renderer)}}return Qe.\u0275fac=function(j){return new(j||Qe)(v.LFG(v.FYo),v.LFG(B.K0))},Qe.\u0275prov=v.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class Et extends t.LC{constructor(F,j){super(),this._id=F,this._renderer=j}create(F,j){return new ti(this._id,F,j||{},this._renderer)}}class ti{constructor(F,j,ge,je){this.id=F,this.element=j,this._renderer=je,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ge)}_listen(F,j){return this._renderer.listen(this.element,`@@${this.id}:${F}`,j)}_command(F,...j){return Li(this._renderer,this.element,this.id,F,j)}onDone(F){this._listen("done",F)}onStart(F){this._listen("start",F)}onDestroy(F){this._listen("destroy",F)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(F){this._command("setPosition",F)}getPosition(){var F,j;return null!==(j=null===(F=this._renderer.engine.players[+this.id])||void 0===F?void 0:F.getPosition())&&void 0!==j?j:0}}function Li(Qe,F,j,ge,je){return Qe.setProperty(F,`@@${j}:${ge}`,je)}const Dn="@.disabled";let Vn=(()=>{class Qe{constructor(j,ge,je){this.delegate=j,this.engine=ge,this._zone=je,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),ge.onRemovalComplete=(st,xt)=>{const Ot=null==xt?void 0:xt.parentNode(st);Ot&&xt.removeChild(Ot,st)}}createRenderer(j,ge){const st=this.delegate.createRenderer(j,ge);if(!(j&&ge&&ge.data&&ge.data.animation)){let Bi=this._rendererCache.get(st);return Bi||(Bi=new Nn("",st,this.engine),this._rendererCache.set(st,Bi)),Bi}const xt=ge.id,Ot=ge.id+"-"+this._currentId;this._currentId++,this.engine.register(Ot,j);const ii=Bi=>{Array.isArray(Bi)?Bi.forEach(ii):this.engine.registerTrigger(xt,Ot,j,Bi.name,Bi)};return ge.data.animation.forEach(ii),new gr(this,Ot,st,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(j,ge,je){j>=0&&j<this._microtaskId?this._zone.run(()=>ge(je)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(st=>{const[xt,Ot]=st;xt(Ot)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ge,je]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Qe.\u0275fac=function(j){return new(j||Qe)(v.LFG(v.FYo),v.LFG(Mo),v.LFG(v.R0b))},Qe.\u0275prov=v.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class Nn{constructor(F,j,ge){this.namespaceId=F,this.delegate=j,this.engine=ge,this.destroyNode=this.delegate.destroyNode?je=>j.destroyNode(je):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(F,j){return this.delegate.createElement(F,j)}createComment(F){return this.delegate.createComment(F)}createText(F){return this.delegate.createText(F)}appendChild(F,j){this.delegate.appendChild(F,j),this.engine.onInsert(this.namespaceId,j,F,!1)}insertBefore(F,j,ge,je=!0){this.delegate.insertBefore(F,j,ge),this.engine.onInsert(this.namespaceId,j,F,je)}removeChild(F,j,ge){this.engine.onRemove(this.namespaceId,j,this.delegate,ge)}selectRootElement(F,j){return this.delegate.selectRootElement(F,j)}parentNode(F){return this.delegate.parentNode(F)}nextSibling(F){return this.delegate.nextSibling(F)}setAttribute(F,j,ge,je){this.delegate.setAttribute(F,j,ge,je)}removeAttribute(F,j,ge){this.delegate.removeAttribute(F,j,ge)}addClass(F,j){this.delegate.addClass(F,j)}removeClass(F,j){this.delegate.removeClass(F,j)}setStyle(F,j,ge,je){this.delegate.setStyle(F,j,ge,je)}removeStyle(F,j,ge){this.delegate.removeStyle(F,j,ge)}setProperty(F,j,ge){"@"==j.charAt(0)&&j==Dn?this.disableAnimations(F,!!ge):this.delegate.setProperty(F,j,ge)}setValue(F,j){this.delegate.setValue(F,j)}listen(F,j,ge){return this.delegate.listen(F,j,ge)}disableAnimations(F,j){this.engine.disableAnimations(F,j)}}class gr extends Nn{constructor(F,j,ge,je){super(j,ge,je),this.factory=F,this.namespaceId=j}setProperty(F,j,ge){"@"==j.charAt(0)?"."==j.charAt(1)&&j==Dn?this.disableAnimations(F,ge=void 0===ge||!!ge):this.engine.process(this.namespaceId,F,j.substr(1),ge):this.delegate.setProperty(F,j,ge)}listen(F,j,ge){if("@"==j.charAt(0)){const je=function(Qe){switch(Qe){case"body":return document.body;case"document":return document;case"window":return window;default:return Qe}}(F);let st=j.substr(1),xt="";return"@"!=st.charAt(0)&&([st,xt]=function(Qe){const F=Qe.indexOf(".");return[Qe.substring(0,F),Qe.substr(F+1)]}(st)),this.engine.listen(this.namespaceId,je,st,xt,Ot=>{this.factory.scheduleListenerCallback(Ot._data||-1,ge,Ot)})}return this.delegate.listen(F,j,ge)}}let on=(()=>{class Qe extends Mo{constructor(j,ge,je){super(j.body,ge,je)}ngOnDestroy(){this.flush()}}return Qe.\u0275fac=function(j){return new(j||Qe)(v.LFG(B.K0),v.LFG(ne),v.LFG(Kr))},Qe.\u0275prov=v.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const Ws=new v.OlP("AnimationModuleType"),Vo=[{provide:t._j,useClass:Ce},{provide:Kr,useFactory:function(){return new no}},{provide:Mo,useClass:on},{provide:v.FYo,useFactory:function(Qe,F,j){return new Vn(Qe,F,j)},deps:[p.se,Mo,v.R0b]}],Uo=[{provide:ne,useFactory:function(){return"function"==typeof L()?new Se:new Ho}},{provide:Ws,useValue:"BrowserAnimations"},...Vo],ul=[{provide:ne,useClass:se},{provide:Ws,useValue:"NoopAnimations"},...Vo];let Mi=(()=>{class Qe{static withConfig(j){return{ngModule:Qe,providers:j.disableAnimations?ul:Uo}}}return Qe.\u0275fac=function(j){return new(j||Qe)},Qe.\u0275mod=v.oAB({type:Qe}),Qe.\u0275inj=v.cJS({providers:Uo,imports:[p.b2]}),Qe})()},22313:(P,H,h)=>{"use strict";h.d(H,{b2:()=>zt,H7:()=>Ci,Dx:()=>Ze,q6:()=>Le,se:()=>Ge});var v=h(69808),p=h(5e3);class t extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e extends t{static makeCurrent(){(0,v.HT)(new e)}onAndCancel(Rt,Ct,Xt){return Rt.addEventListener(Ct,Xt,!1),()=>{Rt.removeEventListener(Ct,Xt,!1)}}dispatchEvent(Rt,Ct){Rt.dispatchEvent(Ct)}remove(Rt){Rt.parentNode&&Rt.parentNode.removeChild(Rt)}createElement(Rt,Ct){return(Ct=Ct||this.getDefaultDocument()).createElement(Rt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Rt){return Rt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Rt){return Rt instanceof DocumentFragment}getGlobalEventTarget(Rt,Ct){return"window"===Ct?window:"document"===Ct?Rt:"body"===Ct?Rt.body:null}getBaseHref(Rt){const Ct=(n=n||document.querySelector("base"),n?n.getAttribute("href"):null);return null==Ct?null:function(Jt){u=u||document.createElement("a"),u.setAttribute("href",Jt);const Rt=u.pathname;return"/"===Rt.charAt(0)?Rt:`/${Rt}`}(Ct)}resetBaseElement(){n=null}getUserAgent(){return window.navigator.userAgent}getCookie(Rt){return(0,v.Mx)(document.cookie,Rt)}}let u,n=null;const w=new p.OlP("TRANSITION_ID"),N=[{provide:p.ip1,useFactory:function(Jt,Rt,Ct){return()=>{Ct.get(p.CZH).donePromise.then(()=>{const Xt=(0,v.q)(),pi=Rt.querySelectorAll(`style[ng-transition="${Jt}"]`);for(let Ki=0;Ki<pi.length;Ki++)Xt.remove(pi[Ki])})}},deps:[w,v.K0,p.zs3],multi:!0}];class W{static init(){(0,p.VLi)(new W)}addToWindow(Rt){p.dqk.getAngularTestability=(Xt,pi=!0)=>{const Ki=Rt.findTestabilityInTree(Xt,pi);if(null==Ki)throw new Error("Could not find testability for element.");return Ki},p.dqk.getAllAngularTestabilities=()=>Rt.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>Rt.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(Xt=>{const pi=p.dqk.getAllAngularTestabilities();let Ki=pi.length,cn=!1;const On=function(rr){cn=cn||rr,Ki--,0==Ki&&Xt(cn)};pi.forEach(function(rr){rr.whenStable(On)})})}findTestabilityInTree(Rt,Ct,Xt){if(null==Ct)return null;const pi=Rt.getTestability(Ct);return null!=pi?pi:Xt?(0,v.q)().isShadowRoot(Ct)?this.findTestabilityInTree(Rt,Ct.host,!0):this.findTestabilityInTree(Rt,Ct.parentElement,!0):null}}let Z=(()=>{class Jt{build(){return new XMLHttpRequest}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)},Jt.\u0275prov=p.Yz7({token:Jt,factory:Jt.\u0275fac}),Jt})();const K=new p.OlP("EventManagerPlugins");let ae=(()=>{class Jt{constructor(Ct,Xt){this._zone=Xt,this._eventNameToPlugin=new Map,Ct.forEach(pi=>pi.manager=this),this._plugins=Ct.slice().reverse()}addEventListener(Ct,Xt,pi){return this._findPluginFor(Xt).addEventListener(Ct,Xt,pi)}addGlobalEventListener(Ct,Xt,pi){return this._findPluginFor(Xt).addGlobalEventListener(Ct,Xt,pi)}getZone(){return this._zone}_findPluginFor(Ct){const Xt=this._eventNameToPlugin.get(Ct);if(Xt)return Xt;const pi=this._plugins;for(let Ki=0;Ki<pi.length;Ki++){const cn=pi[Ki];if(cn.supports(Ct))return this._eventNameToPlugin.set(Ct,cn),cn}throw new Error(`No event manager plugin found for event ${Ct}`)}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)(p.LFG(K),p.LFG(p.R0b))},Jt.\u0275prov=p.Yz7({token:Jt,factory:Jt.\u0275fac}),Jt})();class xe{constructor(Rt){this._doc=Rt}addGlobalEventListener(Rt,Ct,Xt){const pi=(0,v.q)().getGlobalEventTarget(this._doc,Rt);if(!pi)throw new Error(`Unsupported event target ${pi} for event ${Ct}`);return this.addEventListener(pi,Ct,Xt)}}let fe=(()=>{class Jt{constructor(){this._stylesSet=new Set}addStyles(Ct){const Xt=new Set;Ct.forEach(pi=>{this._stylesSet.has(pi)||(this._stylesSet.add(pi),Xt.add(pi))}),this.onStylesAdded(Xt)}onStylesAdded(Ct){}getAllStyles(){return Array.from(this._stylesSet)}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)},Jt.\u0275prov=p.Yz7({token:Jt,factory:Jt.\u0275fac}),Jt})(),_e=(()=>{class Jt extends fe{constructor(Ct){super(),this._doc=Ct,this._hostNodes=new Map,this._hostNodes.set(Ct.head,[])}_addStylesToHost(Ct,Xt,pi){Ct.forEach(Ki=>{const cn=this._doc.createElement("style");cn.textContent=Ki,pi.push(Xt.appendChild(cn))})}addHost(Ct){const Xt=[];this._addStylesToHost(this._stylesSet,Ct,Xt),this._hostNodes.set(Ct,Xt)}removeHost(Ct){const Xt=this._hostNodes.get(Ct);Xt&&Xt.forEach(Oe),this._hostNodes.delete(Ct)}onStylesAdded(Ct){this._hostNodes.forEach((Xt,pi)=>{this._addStylesToHost(Ct,pi,Xt)})}ngOnDestroy(){this._hostNodes.forEach(Ct=>Ct.forEach(Oe))}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)(p.LFG(v.K0))},Jt.\u0275prov=p.Yz7({token:Jt,factory:Jt.\u0275fac}),Jt})();function Oe(Jt){(0,v.q)().remove(Jt)}const Be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ee=/%COMP%/g,q="%COMP%",se=`_nghost-${q}`,ne=`_ngcontent-${q}`;function de(Jt,Rt,Ct){for(let Xt=0;Xt<Rt.length;Xt++){let pi=Rt[Xt];Array.isArray(pi)?de(Jt,pi,Ct):(pi=pi.replace(Ee,Jt),Ct.push(pi))}return Ct}function te(Jt){return Rt=>{if("__ngUnwrap__"===Rt)return Jt;!1===Jt(Rt)&&(Rt.preventDefault(),Rt.returnValue=!1)}}let Ge=(()=>{class Jt{constructor(Ct,Xt,pi){this.eventManager=Ct,this.sharedStylesHost=Xt,this.appId=pi,this.rendererByCompId=new Map,this.defaultRenderer=new ve(Ct)}createRenderer(Ct,Xt){if(!Ct||!Xt)return this.defaultRenderer;switch(Xt.encapsulation){case p.ifc.Emulated:{let pi=this.rendererByCompId.get(Xt.id);return pi||(pi=new Yt(this.eventManager,this.sharedStylesHost,Xt,this.appId),this.rendererByCompId.set(Xt.id,pi)),pi.applyToHost(Ct),pi}case 1:case p.ifc.ShadowDom:return new ht(this.eventManager,this.sharedStylesHost,Ct,Xt);default:if(!this.rendererByCompId.has(Xt.id)){const pi=de(Xt.id,Xt.styles,[]);this.sharedStylesHost.addStyles(pi),this.rendererByCompId.set(Xt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)(p.LFG(ae),p.LFG(_e),p.LFG(p.AFp))},Jt.\u0275prov=p.Yz7({token:Jt,factory:Jt.\u0275fac}),Jt})();class ve{constructor(Rt){this.eventManager=Rt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Rt,Ct){return Ct?document.createElementNS(Be[Ct]||Ct,Rt):document.createElement(Rt)}createComment(Rt){return document.createComment(Rt)}createText(Rt){return document.createTextNode(Rt)}appendChild(Rt,Ct){Rt.appendChild(Ct)}insertBefore(Rt,Ct,Xt){Rt&&Rt.insertBefore(Ct,Xt)}removeChild(Rt,Ct){Rt&&Rt.removeChild(Ct)}selectRootElement(Rt,Ct){let Xt="string"==typeof Rt?document.querySelector(Rt):Rt;if(!Xt)throw new Error(`The selector "${Rt}" did not match any elements`);return Ct||(Xt.textContent=""),Xt}parentNode(Rt){return Rt.parentNode}nextSibling(Rt){return Rt.nextSibling}setAttribute(Rt,Ct,Xt,pi){if(pi){Ct=pi+":"+Ct;const Ki=Be[pi];Ki?Rt.setAttributeNS(Ki,Ct,Xt):Rt.setAttribute(Ct,Xt)}else Rt.setAttribute(Ct,Xt)}removeAttribute(Rt,Ct,Xt){if(Xt){const pi=Be[Xt];pi?Rt.removeAttributeNS(pi,Ct):Rt.removeAttribute(`${Xt}:${Ct}`)}else Rt.removeAttribute(Ct)}addClass(Rt,Ct){Rt.classList.add(Ct)}removeClass(Rt,Ct){Rt.classList.remove(Ct)}setStyle(Rt,Ct,Xt,pi){pi&(p.JOm.DashCase|p.JOm.Important)?Rt.style.setProperty(Ct,Xt,pi&p.JOm.Important?"important":""):Rt.style[Ct]=Xt}removeStyle(Rt,Ct,Xt){Xt&p.JOm.DashCase?Rt.style.removeProperty(Ct):Rt.style[Ct]=""}setProperty(Rt,Ct,Xt){Rt[Ct]=Xt}setValue(Rt,Ct){Rt.nodeValue=Ct}listen(Rt,Ct,Xt){return"string"==typeof Rt?this.eventManager.addGlobalEventListener(Rt,Ct,te(Xt)):this.eventManager.addEventListener(Rt,Ct,te(Xt))}}class Yt extends ve{constructor(Rt,Ct,Xt,pi){super(Rt),this.component=Xt;const Ki=de(pi+"-"+Xt.id,Xt.styles,[]);Ct.addStyles(Ki),this.contentAttr=ne.replace(Ee,pi+"-"+Xt.id),this.hostAttr=se.replace(Ee,pi+"-"+Xt.id)}applyToHost(Rt){super.setAttribute(Rt,this.hostAttr,"")}createElement(Rt,Ct){const Xt=super.createElement(Rt,Ct);return super.setAttribute(Xt,this.contentAttr,""),Xt}}class ht extends ve{constructor(Rt,Ct,Xt,pi){super(Rt),this.sharedStylesHost=Ct,this.hostEl=Xt,this.shadowRoot=Xt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ki=de(pi.id,pi.styles,[]);for(let cn=0;cn<Ki.length;cn++){const On=document.createElement("style");On.textContent=Ki[cn],this.shadowRoot.appendChild(On)}}nodeOrShadowRoot(Rt){return Rt===this.hostEl?this.shadowRoot:Rt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Rt,Ct){return super.appendChild(this.nodeOrShadowRoot(Rt),Ct)}insertBefore(Rt,Ct,Xt){return super.insertBefore(this.nodeOrShadowRoot(Rt),Ct,Xt)}removeChild(Rt,Ct){return super.removeChild(this.nodeOrShadowRoot(Rt),Ct)}parentNode(Rt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Rt)))}}let Bt=(()=>{class Jt extends xe{constructor(Ct){super(Ct)}supports(Ct){return!0}addEventListener(Ct,Xt,pi){return Ct.addEventListener(Xt,pi,!1),()=>this.removeEventListener(Ct,Xt,pi)}removeEventListener(Ct,Xt,pi){return Ct.removeEventListener(Xt,pi)}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)(p.LFG(v.K0))},Jt.\u0275prov=p.Yz7({token:Jt,factory:Jt.\u0275fac}),Jt})();const Ht=["alt","control","meta","shift"],vi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Lt={alt:Jt=>Jt.altKey,control:Jt=>Jt.ctrlKey,meta:Jt=>Jt.metaKey,shift:Jt=>Jt.shiftKey};let ri=(()=>{class Jt extends xe{constructor(Ct){super(Ct)}supports(Ct){return null!=Jt.parseEventName(Ct)}addEventListener(Ct,Xt,pi){const Ki=Jt.parseEventName(Xt),cn=Jt.eventCallback(Ki.fullKey,pi,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(Ct,Ki.domEventName,cn))}static parseEventName(Ct){const Xt=Ct.toLowerCase().split("."),pi=Xt.shift();if(0===Xt.length||"keydown"!==pi&&"keyup"!==pi)return null;const Ki=Jt._normalizeKey(Xt.pop());let cn="";if(Ht.forEach(rr=>{const uo=Xt.indexOf(rr);uo>-1&&(Xt.splice(uo,1),cn+=rr+".")}),cn+=Ki,0!=Xt.length||0===Ki.length)return null;const On={};return On.domEventName=pi,On.fullKey=cn,On}static getEventFullKey(Ct){let Xt="",pi=function(Jt){let Rt=Jt.key;if(null==Rt){if(Rt=Jt.keyIdentifier,null==Rt)return"Unidentified";Rt.startsWith("U+")&&(Rt=String.fromCharCode(parseInt(Rt.substring(2),16)),3===Jt.location&&qt.hasOwnProperty(Rt)&&(Rt=qt[Rt]))}return vi[Rt]||Rt}(Ct);return pi=pi.toLowerCase()," "===pi?pi="space":"."===pi&&(pi="dot"),Ht.forEach(Ki=>{Ki!=pi&&Lt[Ki](Ct)&&(Xt+=Ki+".")}),Xt+=pi,Xt}static eventCallback(Ct,Xt,pi){return Ki=>{Jt.getEventFullKey(Ki)===Ct&&pi.runGuarded(()=>Xt(Ki))}}static _normalizeKey(Ct){return"esc"===Ct?"escape":Ct}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)(p.LFG(v.K0))},Jt.\u0275prov=p.Yz7({token:Jt,factory:Jt.\u0275fac}),Jt})();const Le=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:v.bD},{provide:p.g9A,useValue:function(){e.makeCurrent(),W.init()},multi:!0},{provide:v.K0,useFactory:function(){return(0,p.RDi)(document),document},deps:[]}]),dt=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function(){return new p.qLn},deps:[]},{provide:K,useClass:Bt,multi:!0,deps:[v.K0,p.R0b,p.Lbi]},{provide:K,useClass:ri,multi:!0,deps:[v.K0]},{provide:Ge,useClass:Ge,deps:[ae,_e,p.AFp]},{provide:p.FYo,useExisting:Ge},{provide:fe,useExisting:_e},{provide:_e,useClass:_e,deps:[v.K0]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:ae,useClass:ae,deps:[K,p.R0b]},{provide:v.JF,useClass:Z,deps:[]}];let zt=(()=>{class Jt{constructor(Ct){if(Ct)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Ct){return{ngModule:Jt,providers:[{provide:p.AFp,useValue:Ct.appId},{provide:w,useExisting:p.AFp},N]}}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)(p.LFG(Jt,12))},Jt.\u0275mod=p.oAB({type:Jt}),Jt.\u0275inj=p.cJS({providers:dt,imports:[v.ez,p.hGG]}),Jt})(),Ze=(()=>{class Jt{constructor(Ct){this._doc=Ct}getTitle(){return this._doc.title}setTitle(Ct){this._doc.title=Ct||""}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)(p.LFG(v.K0))},Jt.\u0275prov=p.Yz7({token:Jt,factory:function(Ct){let Xt=null;return Xt=Ct?new Ct:new Ze((0,p.LFG)(v.K0)),Xt},providedIn:"root"}),Jt})();"undefined"!=typeof window&&window;let Ci=(()=>{class Jt{}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)},Jt.\u0275prov=p.Yz7({token:Jt,factory:function(Ct){let Xt=null;return Xt=Ct?new(Ct||Jt):p.LFG(Zi),Xt},providedIn:"root"}),Jt})(),Zi=(()=>{class Jt extends Ci{constructor(Ct){super(),this._doc=Ct}sanitize(Ct,Xt){if(null==Xt)return null;switch(Ct){case p.q3G.NONE:return Xt;case p.q3G.HTML:return(0,p.qzn)(Xt,"HTML")?(0,p.z3N)(Xt):(0,p.EiD)(this._doc,String(Xt)).toString();case p.q3G.STYLE:return(0,p.qzn)(Xt,"Style")?(0,p.z3N)(Xt):Xt;case p.q3G.SCRIPT:if((0,p.qzn)(Xt,"Script"))return(0,p.z3N)(Xt);throw new Error("unsafe value used in a script context");case p.q3G.URL:return(0,p.yhl)(Xt),(0,p.qzn)(Xt,"URL")?(0,p.z3N)(Xt):(0,p.mCW)(String(Xt));case p.q3G.RESOURCE_URL:if((0,p.qzn)(Xt,"ResourceURL"))return(0,p.z3N)(Xt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ct} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ct){return(0,p.JVY)(Ct)}bypassSecurityTrustStyle(Ct){return(0,p.L6k)(Ct)}bypassSecurityTrustScript(Ct){return(0,p.eBb)(Ct)}bypassSecurityTrustUrl(Ct){return(0,p.LAX)(Ct)}bypassSecurityTrustResourceUrl(Ct){return(0,p.pB0)(Ct)}}return Jt.\u0275fac=function(Ct){return new(Ct||Jt)(p.LFG(v.K0))},Jt.\u0275prov=p.Yz7({token:Jt,factory:function(Ct){let Xt=null;return Xt=Ct?new Ct:function(Jt){return new Zi(Jt.get(v.K0))}(p.LFG(p.zs3)),Xt},providedIn:"root"}),Jt})()},91083:(P,H,h)=>{"use strict";h.d(H,{gz:()=>vo,yS:()=>fo,Bz:()=>La,lC:()=>Bo});var v=h(5e3);const t=(0,h(83888).d)(le=>function(){le(this),this.name="EmptyError",this.message="no elements in sequence"});var e=h(79307),n=h(50727),o=h(54482),u=h(25403);function b(){return(0,o.e)((le,Q)=>{let X=null;le._refCount++;const Te=new u.Q(Q,void 0,void 0,void 0,()=>{if(!le||le._refCount<=0||0<--le._refCount)return void(X=null);const ke=le._connection,nt=X;X=null,ke&&(!nt||ke===nt)&&ke.unsubscribe(),Q.unsubscribe()});le.subscribe(Te),Te.closed||(X=le.connect())})}class w extends e.y{constructor(Q,X){super(),this.source=Q,this.subjectFactory=X,this._subject=null,this._refCount=0,this._connection=null,(0,o.A)(Q)&&(this.lift=Q.lift)}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Q}=this;this._subject=this._connection=null,null==Q||Q.unsubscribe()}connect(){let Q=this._connection;if(!Q){Q=this._connection=new n.w0;const X=this.getSubject();Q.add(this.source.subscribe(new u.Q(X,void 0,()=>{this._teardown(),X.complete()},Te=>{this._teardown(),X.error(Te)},()=>this._teardown()))),Q.closed&&(this._connection=null,Q=n.w0.EMPTY)}return Q}refCount(){return b()(this)}}var R=h(32076),N=h(39646),W=h(61135),Z=h(39841),K=h(97272),ae=h(49770),xe=h(60515),fe=h(77579);function _e(le,Q,X,Te,ke){return(nt,wt)=>{let Pt=X,fi=Q,Wi=0;nt.subscribe(new u.Q(wt,Fn=>{const dn=Wi++;fi=Pt?le(fi,Fn,dn):(Pt=!0,Fn),Te&&wt.next(fi)},ke&&(()=>{Pt&&wt.next(fi),wt.complete()})))}}function Oe(le,Q){return(0,o.e)(_e(le,Q,arguments.length>=2,!0))}var Be=h(39300);function Ee(le){return le<=0?()=>xe.E:(0,o.e)((Q,X)=>{let Te=[];Q.subscribe(new u.Q(X,ke=>{Te.push(ke),le<Te.length&&Te.shift()},()=>{for(const ke of Te)X.next(ke);X.complete()},void 0,()=>{Te=null}))})}function ce(le=q){return(0,o.e)((Q,X)=>{let Te=!1;Q.subscribe(new u.Q(X,ke=>{Te=!0,X.next(ke)},()=>Te?X.complete():X.error(le())))})}function q(){return new t}function se(le){return(0,o.e)((Q,X)=>{let Te=!1;Q.subscribe(new u.Q(X,ke=>{Te=!0,X.next(ke)},()=>{Te||X.next(le),X.complete()}))})}var ne=h(44671),oe=h(95698);function de(le,Q){const X=arguments.length>=2;return Te=>Te.pipe(le?(0,Be.h)((ke,nt)=>le(ke,nt,Te)):ne.y,(0,oe.q)(1),X?se(Q):ce(()=>new t))}var te=h(54004),ie=h(63900),Ge=h(68675),ve=h(70262),He=h(24351),ct=h(95577),Yt=h(18505),ht=h(28746),Bt=h(8189),Ht=h(69808);class Kt{constructor(Q,X){this.id=Q,this.url=X}}class vi extends Kt{constructor(Q,X,Te="imperative",ke=null){super(Q,X),this.navigationTrigger=Te,this.restoredState=ke}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qt extends Kt{constructor(Q,X,Te){super(Q,X),this.urlAfterRedirects=Te}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lt extends Kt{constructor(Q,X,Te){super(Q,X),this.reason=Te}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ri extends Kt{constructor(Q,X,Te){super(Q,X),this.error=Te}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ne extends Kt{constructor(Q,X,Te,ke){super(Q,X),this.urlAfterRedirects=Te,this.state=ke}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends Kt{constructor(Q,X,Te,ke){super(Q,X),this.urlAfterRedirects=Te,this.state=ke}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke extends Kt{constructor(Q,X,Te,ke,nt){super(Q,X),this.urlAfterRedirects=Te,this.state=ke,this.shouldActivate=nt}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Je extends Kt{constructor(Q,X,Te,ke){super(Q,X),this.urlAfterRedirects=Te,this.state=ke}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class we extends Kt{constructor(Q,X,Te,ke){super(Q,X),this.urlAfterRedirects=Te,this.state=ke}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le{constructor(Q){this.route=Q}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dt{constructor(Q){this.route=Q}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zt{constructor(Q){this.snapshot=Q}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(Q){this.snapshot=Q}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(Q){this.snapshot=Q}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ye{constructor(Q){this.snapshot=Q}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(Q,X,Te){this.routerEvent=Q,this.position=X,this.anchor=Te}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ze="primary";class rt{constructor(Q){this.params=Q||{}}has(Q){return Object.prototype.hasOwnProperty.call(this.params,Q)}get(Q){if(this.has(Q)){const X=this.params[Q];return Array.isArray(X)?X[0]:X}return null}getAll(Q){if(this.has(Q)){const X=this.params[Q];return Array.isArray(X)?X:[X]}return[]}get keys(){return Object.keys(this.params)}}function ot(le){return new rt(le)}const be="ngNavigationCancelingError";function Ae(le){const Q=Error("NavigationCancelingError: "+le);return Q[be]=!0,Q}function It(le,Q,X){const Te=X.path.split("/");if(Te.length>le.length||"full"===X.pathMatch&&(Q.hasChildren()||Te.length<le.length))return null;const ke={};for(let nt=0;nt<Te.length;nt++){const wt=Te[nt],Pt=le[nt];if(wt.startsWith(":"))ke[wt.substring(1)]=Pt;else if(wt!==Pt.path)return null}return{consumed:le.slice(0,Te.length),posParams:ke}}function Zt(le,Q){const X=le?Object.keys(le):void 0,Te=Q?Object.keys(Q):void 0;if(!X||!Te||X.length!=Te.length)return!1;let ke;for(let nt=0;nt<X.length;nt++)if(ke=X[nt],!li(le[ke],Q[ke]))return!1;return!0}function li(le,Q){if(Array.isArray(le)&&Array.isArray(Q)){if(le.length!==Q.length)return!1;const X=[...le].sort(),Te=[...Q].sort();return X.every((ke,nt)=>Te[nt]===ke)}return le===Q}function Fi(le){return Array.prototype.concat.apply([],le)}function ui(le){return le.length>0?le[le.length-1]:null}function gi(le,Q){for(const X in le)le.hasOwnProperty(X)&&Q(le[X],X)}function jt(le){return(0,v.CqO)(le)?le:(0,v.QGY)(le)?(0,R.D)(Promise.resolve(le)):(0,N.of)(le)}const ut={exact:function Nt(le,Q,X){if(!Zi(le.segments,Q.segments)||!De(le.segments,Q.segments,X)||le.numberOfChildren!==Q.numberOfChildren)return!1;for(const Te in Q.children)if(!le.children[Te]||!Nt(le.children[Te],Q.children[Te],X))return!1;return!0},subset:Me},Wt={exact:function(le,Q){return Zt(le,Q)},subset:function(le,Q){return Object.keys(Q).length<=Object.keys(le).length&&Object.keys(Q).every(X=>li(le[X],Q[X]))},ignored:()=>!0};function ei(le,Q,X){return ut[X.paths](le.root,Q.root,X.matrixParams)&&Wt[X.queryParams](le.queryParams,Q.queryParams)&&!("exact"===X.fragment&&le.fragment!==Q.fragment)}function Me(le,Q,X){return re(le,Q,Q.segments,X)}function re(le,Q,X,Te){if(le.segments.length>X.length){const ke=le.segments.slice(0,X.length);return!(!Zi(ke,X)||Q.hasChildren()||!De(ke,X,Te))}if(le.segments.length===X.length){if(!Zi(le.segments,X)||!De(le.segments,X,Te))return!1;for(const ke in Q.children)if(!le.children[ke]||!Me(le.children[ke],Q.children[ke],Te))return!1;return!0}{const ke=X.slice(0,le.segments.length),nt=X.slice(le.segments.length);return!!(Zi(le.segments,ke)&&De(le.segments,ke,Te)&&le.children[Ze])&&re(le.children[Ze],Q,nt,Te)}}function De(le,Q,X){return Q.every((Te,ke)=>Wt[X](le[ke].parameters,Te.parameters))}class et{constructor(Q,X,Te){this.root=Q,this.queryParams=X,this.fragment=Te}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return Ct.serialize(this)}}class vt{constructor(Q,X){this.segments=Q,this.children=X,this.parent=null,gi(X,(Te,ke)=>Te.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xt(this)}}class Ci{constructor(Q,X){this.path=Q,this.parameters=X}get parameterMap(){return this._parameterMap||(this._parameterMap=ot(this.parameters)),this._parameterMap}toString(){return No(this)}}function Zi(le,Q){return le.length===Q.length&&le.every((X,Te)=>X.path===Q[Te].path)}class Jt{}class Rt{parse(Q){const X=new Xo(Q);return new et(X.parseRootSegment(),X.parseQueryParams(),X.parseFragment())}serialize(Q){const X=`/${pi(Q.root,!0)}`,Te=function(le){const Q=Object.keys(le).map(X=>{const Te=le[X];return Array.isArray(Te)?Te.map(ke=>`${cn(X)}=${cn(ke)}`).join("&"):`${cn(X)}=${cn(Te)}`}).filter(X=>!!X);return Q.length?`?${Q.join("&")}`:""}(Q.queryParams);var le;return`${X}${Te}${"string"==typeof Q.fragment?`#${le=Q.fragment,encodeURI(le)}`:""}`}}const Ct=new Rt;function Xt(le){return le.segments.map(Q=>No(Q)).join("/")}function pi(le,Q){if(!le.hasChildren())return Xt(le);if(Q){const X=le.children[Ze]?pi(le.children[Ze],!1):"",Te=[];return gi(le.children,(ke,nt)=>{nt!==Ze&&Te.push(`${nt}:${pi(ke,!1)}`)}),Te.length>0?`${X}(${Te.join("//")})`:X}{const X=function(le,Q){let X=[];return gi(le.children,(Te,ke)=>{ke===Ze&&(X=X.concat(Q(Te,ke)))}),gi(le.children,(Te,ke)=>{ke!==Ze&&(X=X.concat(Q(Te,ke)))}),X}(le,(Te,ke)=>ke===Ze?[pi(le.children[Ze],!1)]:[`${ke}:${pi(Te,!1)}`]);return 1===Object.keys(le.children).length&&null!=le.children[Ze]?`${Xt(le)}/${X[0]}`:`${Xt(le)}/(${X.join("//")})`}}function Ki(le){return encodeURIComponent(le).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cn(le){return Ki(le).replace(/%3B/gi,";")}function rr(le){return Ki(le).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uo(le){return decodeURIComponent(le)}function Kr(le){return uo(le.replace(/\+/g,"%20"))}function No(le){return`${rr(le.path)}${function(le){return Object.keys(le).map(Q=>`;${rr(Q)}=${rr(le[Q])}`).join("")}(le.parameters)}`}const Is=/^[^\/()?;=#]+/;function or(le){const Q=le.match(Is);return Q?Q[0]:""}const Hi=/^[^=?&#]+/,Ln=/^[^&#]+/;class Xo{constructor(Q){this.url=Q,this.remaining=Q}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const Q={};if(this.consumeOptional("?"))do{this.parseQueryParam(Q)}while(this.consumeOptional("&"));return Q}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Q=[];for(this.peekStartsWith("(")||Q.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Q.push(this.parseSegment());let X={};this.peekStartsWith("/(")&&(this.capture("/"),X=this.parseParens(!0));let Te={};return this.peekStartsWith("(")&&(Te=this.parseParens(!1)),(Q.length>0||Object.keys(X).length>0)&&(Te[Ze]=new vt(Q,X)),Te}parseSegment(){const Q=or(this.remaining);if(""===Q&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(Q),new Ci(uo(Q),this.parseMatrixParams())}parseMatrixParams(){const Q={};for(;this.consumeOptional(";");)this.parseParam(Q);return Q}parseParam(Q){const X=or(this.remaining);if(!X)return;this.capture(X);let Te="";if(this.consumeOptional("=")){const ke=or(this.remaining);ke&&(Te=ke,this.capture(Te))}Q[uo(X)]=uo(Te)}parseQueryParam(Q){const X=function(le){const Q=le.match(Hi);return Q?Q[0]:""}(this.remaining);if(!X)return;this.capture(X);let Te="";if(this.consumeOptional("=")){const wt=function(le){const Q=le.match(Ln);return Q?Q[0]:""}(this.remaining);wt&&(Te=wt,this.capture(Te))}const ke=Kr(X),nt=Kr(Te);if(Q.hasOwnProperty(ke)){let wt=Q[ke];Array.isArray(wt)||(wt=[wt],Q[ke]=wt),wt.push(nt)}else Q[ke]=nt}parseParens(Q){const X={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Te=or(this.remaining),ke=this.remaining[Te.length];if("/"!==ke&&")"!==ke&&";"!==ke)throw new Error(`Cannot parse url '${this.url}'`);let nt;Te.indexOf(":")>-1?(nt=Te.substr(0,Te.indexOf(":")),this.capture(nt),this.capture(":")):Q&&(nt=Ze);const wt=this.parseChildren();X[nt]=1===Object.keys(wt).length?wt[Ze]:new vt([],wt),this.consumeOptional("//")}return X}peekStartsWith(Q){return this.remaining.startsWith(Q)}consumeOptional(Q){return!!this.peekStartsWith(Q)&&(this.remaining=this.remaining.substring(Q.length),!0)}capture(Q){if(!this.consumeOptional(Q))throw new Error(`Expected "${Q}".`)}}class dr{constructor(Q){this._root=Q}get root(){return this._root.value}parent(Q){const X=this.pathFromRoot(Q);return X.length>1?X[X.length-2]:null}children(Q){const X=wr(Q,this._root);return X?X.children.map(Te=>Te.value):[]}firstChild(Q){const X=wr(Q,this._root);return X&&X.children.length>0?X.children[0].value:null}siblings(Q){const X=Kn(Q,this._root);return X.length<2?[]:X[X.length-2].children.map(ke=>ke.value).filter(ke=>ke!==Q)}pathFromRoot(Q){return Kn(Q,this._root).map(X=>X.value)}}function wr(le,Q){if(le===Q.value)return Q;for(const X of Q.children){const Te=wr(le,X);if(Te)return Te}return null}function Kn(le,Q){if(le===Q.value)return[Q];for(const X of Q.children){const Te=Kn(le,X);if(Te.length)return Te.unshift(Q),Te}return[]}class Pr{constructor(Q,X){this.value=Q,this.children=X}toString(){return`TreeNode(${this.value})`}}function $r(le){const Q={};return le&&le.children.forEach(X=>Q[X.value.outlet]=X),Q}class pn extends dr{constructor(Q,X){super(Q),this.snapshot=X,Hn(this,Q)}toString(){return this.snapshot.toString()}}function jr(le,Q){const X=function(le,Q){const wt=new Ko([],{},{},"",{},Ze,Q,null,le.root,-1,{});return new Jr("",new Pr(wt,[]))}(le,Q),Te=new W.X([new Ci("",{})]),ke=new W.X({}),nt=new W.X({}),wt=new W.X({}),Pt=new W.X(""),fi=new vo(Te,ke,wt,Pt,nt,Ze,Q,X.root);return fi.snapshot=X.root,new pn(new Pr(fi,[]),X)}class vo{constructor(Q,X,Te,ke,nt,wt,Pt,fi){this.url=Q,this.params=X,this.queryParams=Te,this.fragment=ke,this.data=nt,this.outlet=wt,this.component=Pt,this._futureSnapshot=fi}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,te.U)(Q=>ot(Q)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,te.U)(Q=>ot(Q)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ho(le,Q="emptyOnly"){const X=le.pathFromRoot;let Te=0;if("always"!==Q)for(Te=X.length-1;Te>=1;){const ke=X[Te],nt=X[Te-1];if(ke.routeConfig&&""===ke.routeConfig.path)Te--;else{if(nt.component)break;Te--}}return function(le){return le.reduce((Q,X)=>({params:Object.assign(Object.assign({},Q.params),X.params),data:Object.assign(Object.assign({},Q.data),X.data),resolve:Object.assign(Object.assign({},Q.resolve),X._resolvedData)}),{params:{},data:{},resolve:{}})}(X.slice(Te))}class Ko{constructor(Q,X,Te,ke,nt,wt,Pt,fi,Wi,Fn,dn){this.url=Q,this.params=X,this.queryParams=Te,this.fragment=ke,this.data=nt,this.outlet=wt,this.component=Pt,this.routeConfig=fi,this._urlSegment=Wi,this._lastPathIndex=Fn,this._resolve=dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Te=>Te.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jr extends dr{constructor(Q,X){super(X),this.url=Q,Hn(this,X)}toString(){return vn(this._root)}}function Hn(le,Q){Q.value._routerState=le,Q.children.forEach(X=>Hn(le,X))}function vn(le){const Q=le.children.length>0?` { ${le.children.map(vn).join(", ")} } `:"";return`${le.value}${Q}`}function Zr(le){if(le.snapshot){const Q=le.snapshot,X=le._futureSnapshot;le.snapshot=X,Zt(Q.queryParams,X.queryParams)||le.queryParams.next(X.queryParams),Q.fragment!==X.fragment&&le.fragment.next(X.fragment),Zt(Q.params,X.params)||le.params.next(X.params),function(le,Q){if(le.length!==Q.length)return!1;for(let X=0;X<le.length;++X)if(!Zt(le[X],Q[X]))return!1;return!0}(Q.url,X.url)||le.url.next(X.url),Zt(Q.data,X.data)||le.data.next(X.data)}else le.snapshot=le._futureSnapshot,le.data.next(le._futureSnapshot.data)}function Ar(le,Q){const X=Zt(le.params,Q.params)&&function(le,Q){return Zi(le,Q)&&le.every((X,Te)=>Zt(X.parameters,Q[Te].parameters))}(le.url,Q.url);return X&&!(!le.parent!=!Q.parent)&&(!le.parent||Ar(le.parent,Q.parent))}function Lr(le,Q,X){if(X&&le.shouldReuseRoute(Q.value,X.value.snapshot)){const Te=X.value;Te._futureSnapshot=Q.value;const ke=function(le,Q,X){return Q.children.map(Te=>{for(const ke of X.children)if(le.shouldReuseRoute(Te.value,ke.value.snapshot))return Lr(le,Te,ke);return Lr(le,Te)})}(le,Q,X);return new Pr(Te,ke)}{if(le.shouldAttach(Q.value)){const nt=le.retrieve(Q.value);if(null!==nt){const wt=nt.route;return wt.value._futureSnapshot=Q.value,wt.children=Q.children.map(Pt=>Lr(le,Pt)),wt}}const Te=function(le){return new vo(new W.X(le.url),new W.X(le.params),new W.X(le.queryParams),new W.X(le.fragment),new W.X(le.data),le.outlet,le.component,le)}(Q.value),ke=Q.children.map(nt=>Lr(le,nt));return new Pr(Te,ke)}}function qn(le){return"object"==typeof le&&null!=le&&!le.outlets&&!le.segmentPath}function wo(le){return"object"==typeof le&&null!=le&&le.outlets}function as(le,Q,X,Te,ke){let nt={};return Te&&gi(Te,(wt,Pt)=>{nt[Pt]=Array.isArray(wt)?wt.map(fi=>`${fi}`):`${wt}`}),new et(X.root===le?Q:Nr(X.root,le,Q),nt,ke)}function Nr(le,Q,X){const Te={};return gi(le.children,(ke,nt)=>{Te[nt]=ke===Q?X:Nr(ke,Q,X)}),new vt(le.segments,Te)}class $o{constructor(Q,X,Te){if(this.isAbsolute=Q,this.numberOfDoubleDots=X,this.commands=Te,Q&&Te.length>0&&qn(Te[0]))throw new Error("Root segment cannot have matrix parameters");const ke=Te.find(wo);if(ke&&ke!==ui(Te))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hr{constructor(Q,X,Te){this.segmentGroup=Q,this.processChildren=X,this.index=Te}}function Do(le,Q,X){if(le||(le=new vt([],{})),0===le.segments.length&&le.hasChildren())return Gs(le,Q,X);const Te=function(le,Q,X){let Te=0,ke=Q;const nt={match:!1,pathIndex:0,commandIndex:0};for(;ke<le.segments.length;){if(Te>=X.length)return nt;const wt=le.segments[ke],Pt=X[Te];if(wo(Pt))break;const fi=`${Pt}`,Wi=Te<X.length-1?X[Te+1]:null;if(ke>0&&void 0===fi)break;if(fi&&Wi&&"object"==typeof Wi&&void 0===Wi.outlets){if(!bo(fi,Wi,wt))return nt;Te+=2}else{if(!bo(fi,{},wt))return nt;Te++}ke++}return{match:!0,pathIndex:ke,commandIndex:Te}}(le,Q,X),ke=X.slice(Te.commandIndex);if(Te.match&&Te.pathIndex<le.segments.length){const nt=new vt(le.segments.slice(0,Te.pathIndex),{});return nt.children[Ze]=new vt(le.segments.slice(Te.pathIndex),le.children),Gs(nt,0,ke)}return Te.match&&0===ke.length?new vt(le.segments,{}):Te.match&&!le.hasChildren()?Mo(le,Q,X):Te.match?Gs(le,0,ke):Mo(le,Q,X)}function Gs(le,Q,X){if(0===X.length)return new vt(le.segments,{});{const Te=function(le){return wo(le[0])?le[0].outlets:{[Ze]:le}}(X),ke={};return gi(Te,(nt,wt)=>{"string"==typeof nt&&(nt=[nt]),null!==nt&&(ke[wt]=Do(le.children[wt],Q,nt))}),gi(le.children,(nt,wt)=>{void 0===Te[wt]&&(ke[wt]=nt)}),new vt(le.segments,ke)}}function Mo(le,Q,X){const Te=le.segments.slice(0,Q);let ke=0;for(;ke<X.length;){const nt=X[ke];if(wo(nt)){const fi=la(nt.outlets);return new vt(Te,fi)}if(0===ke&&qn(X[0])){Te.push(new Ci(le.segments[Q].path,Ts(X[0]))),ke++;continue}const wt=wo(nt)?nt.outlets[Ze]:`${nt}`,Pt=ke<X.length-1?X[ke+1]:null;wt&&Pt&&qn(Pt)?(Te.push(new Ci(wt,Ts(Pt))),ke+=2):(Te.push(new Ci(wt,{})),ke++)}return new vt(Te,{})}function la(le){const Q={};return gi(le,(X,Te)=>{"string"==typeof X&&(X=[X]),null!==X&&(Q[Te]=Mo(new vt([],{}),0,X))}),Q}function Ts(le){const Q={};return gi(le,(X,Te)=>Q[Te]=`${X}`),Q}function bo(le,Q,X){return le==X.path&&Zt(Q,X.parameters)}class Js{constructor(Q,X,Te,ke){this.routeReuseStrategy=Q,this.futureState=X,this.currState=Te,this.forwardEvent=ke}activate(Q){const X=this.futureState._root,Te=this.currState?this.currState._root:null;this.deactivateChildRoutes(X,Te,Q),Zr(this.futureState.root),this.activateChildRoutes(X,Te,Q)}deactivateChildRoutes(Q,X,Te){const ke=$r(X);Q.children.forEach(nt=>{const wt=nt.value.outlet;this.deactivateRoutes(nt,ke[wt],Te),delete ke[wt]}),gi(ke,(nt,wt)=>{this.deactivateRouteAndItsChildren(nt,Te)})}deactivateRoutes(Q,X,Te){const ke=Q.value,nt=X?X.value:null;if(ke===nt)if(ke.component){const wt=Te.getContext(ke.outlet);wt&&this.deactivateChildRoutes(Q,X,wt.children)}else this.deactivateChildRoutes(Q,X,Te);else nt&&this.deactivateRouteAndItsChildren(X,Te)}deactivateRouteAndItsChildren(Q,X){Q.value.component&&this.routeReuseStrategy.shouldDetach(Q.value.snapshot)?this.detachAndStoreRouteSubtree(Q,X):this.deactivateRouteAndOutlet(Q,X)}detachAndStoreRouteSubtree(Q,X){const Te=X.getContext(Q.value.outlet),ke=Te&&Q.value.component?Te.children:X,nt=$r(Q);for(const wt of Object.keys(nt))this.deactivateRouteAndItsChildren(nt[wt],ke);if(Te&&Te.outlet){const wt=Te.outlet.detach(),Pt=Te.children.onOutletDeactivated();this.routeReuseStrategy.store(Q.value.snapshot,{componentRef:wt,route:Q,contexts:Pt})}}deactivateRouteAndOutlet(Q,X){const Te=X.getContext(Q.value.outlet),ke=Te&&Q.value.component?Te.children:X,nt=$r(Q);for(const wt of Object.keys(nt))this.deactivateRouteAndItsChildren(nt[wt],ke);Te&&Te.outlet&&(Te.outlet.deactivate(),Te.children.onOutletDeactivated(),Te.attachRef=null,Te.resolver=null,Te.route=null)}activateChildRoutes(Q,X,Te){const ke=$r(X);Q.children.forEach(nt=>{this.activateRoutes(nt,ke[nt.value.outlet],Te),this.forwardEvent(new Ye(nt.value.snapshot))}),Q.children.length&&this.forwardEvent(new lt(Q.value.snapshot))}activateRoutes(Q,X,Te){const ke=Q.value,nt=X?X.value:null;if(Zr(ke),ke===nt)if(ke.component){const wt=Te.getOrCreateContext(ke.outlet);this.activateChildRoutes(Q,X,wt.children)}else this.activateChildRoutes(Q,X,Te);else if(ke.component){const wt=Te.getOrCreateContext(ke.outlet);if(this.routeReuseStrategy.shouldAttach(ke.snapshot)){const Pt=this.routeReuseStrategy.retrieve(ke.snapshot);this.routeReuseStrategy.store(ke.snapshot,null),wt.children.onOutletReAttached(Pt.contexts),wt.attachRef=Pt.componentRef,wt.route=Pt.route.value,wt.outlet&&wt.outlet.attach(Pt.componentRef,Pt.route.value),Zr(Pt.route.value),this.activateChildRoutes(Q,null,wt.children)}else{const Pt=function(le){for(let Q=le.parent;Q;Q=Q.parent){const X=Q.routeConfig;if(X&&X._loadedConfig)return X._loadedConfig;if(X&&X.component)return null}return null}(ke.snapshot),fi=Pt?Pt.module.componentFactoryResolver:null;wt.attachRef=null,wt.route=ke,wt.resolver=fi,wt.outlet&&wt.outlet.activateWith(ke,fi),this.activateChildRoutes(Q,null,wt.children)}}else this.activateChildRoutes(Q,null,Te)}}class Wr{constructor(Q,X){this.routes=Q,this.module=X}}function pr(le){return"function"==typeof le}function Mr(le){return le instanceof et}const us=Symbol("INITIAL_VALUE");function Fr(){return(0,ie.w)(le=>(0,Z.a)(le.map(Q=>Q.pipe((0,oe.q)(1),(0,Ge.O)(us)))).pipe(Oe((Q,X)=>{let Te=!1;return X.reduce((ke,nt,wt)=>ke!==us?ke:(nt===us&&(Te=!0),Te||!1!==nt&&wt!==X.length-1&&!Mr(nt)?ke:nt),Q)},us),(0,Be.h)(Q=>Q!==us),(0,te.U)(Q=>Mr(Q)?Q:!0===Q),(0,oe.q)(1)))}class po{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Er,this.attachRef=null}}class Er{constructor(){this.contexts=new Map}onChildOutletCreated(Q,X){const Te=this.getOrCreateContext(Q);Te.outlet=X,this.contexts.set(Q,Te)}onChildOutletDestroyed(Q){const X=this.getContext(Q);X&&(X.outlet=null,X.attachRef=null)}onOutletDeactivated(){const Q=this.contexts;return this.contexts=new Map,Q}onOutletReAttached(Q){this.contexts=Q}getOrCreateContext(Q){let X=this.getContext(Q);return X||(X=new po,this.contexts.set(Q,X)),X}getContext(Q){return this.contexts.get(Q)||null}}let Bo=(()=>{class le{constructor(X,Te,ke,nt,wt){this.parentContexts=X,this.location=Te,this.resolver=ke,this.changeDetector=wt,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=nt||Ze,X.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const X=this.parentContexts.getContext(this.name);X&&X.route&&(X.attachRef?this.attach(X.attachRef,X.route):this.activateWith(X.route,X.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const X=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(X.instance),X}attach(X,Te){this.activated=X,this._activatedRoute=Te,this.location.insert(X.hostView),this.attachEvents.emit(X.instance)}deactivate(){if(this.activated){const X=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(X)}}activateWith(X,Te){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=X;const wt=(Te=Te||this.resolver).resolveComponentFactory(X._futureSnapshot.routeConfig.component),Pt=this.parentContexts.getOrCreateContext(this.name).children,fi=new sr(X,Pt,this.location.injector);this.activated=this.location.createComponent(wt,this.location.length,fi),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return le.\u0275fac=function(X){return new(X||le)(v.Y36(Er),v.Y36(v.s_b),v.Y36(v._Vd),v.$8M("name"),v.Y36(v.sBO))},le.\u0275dir=v.lG2({type:le,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),le})();class sr{constructor(Q,X,Te){this.route=Q,this.childContexts=X,this.parent=Te}get(Q,X){return Q===vo?this.route:Q===Er?this.childContexts:this.parent.get(Q,X)}}let ds=(()=>{class le{}return le.\u0275fac=function(X){return new(X||le)},le.\u0275cmp=v.Xpm({type:le,selectors:[["ng-component"]],decls:1,vars:0,template:function(X,Te){1&X&&v._UZ(0,"router-outlet")},directives:[Bo],encapsulation:2}),le})();function fr(le,Q=""){for(let X=0;X<le.length;X++){const Te=le[X];js(Te,Ta(Q,Te))}}function js(le,Q){le.children&&fr(le.children,Q)}function Ta(le,Q){return Q?le||Q.path?le&&!Q.path?`${le}/`:!le&&Q.path?Q.path:`${le}/${Q.path}`:"":le}function Ho(le){const Q=le.children&&le.children.map(Ho),X=Q?Object.assign(Object.assign({},le),{children:Q}):Object.assign({},le);return!X.component&&(Q||X.loadChildren)&&X.outlet&&X.outlet!==Ze&&(X.component=ds),X}function Br(le){return le.outlet||Ze}function yo(le,Q){const X=le.filter(Te=>Br(Te)===Q);return X.push(...le.filter(Te=>Br(Te)!==Q)),X}const ca={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gn(le,Q,X){var Te;if(""===Q.path)return"full"===Q.pathMatch&&(le.hasChildren()||X.length>0)?Object.assign({},ca):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const nt=(Q.matcher||It)(X,le,Q);if(!nt)return Object.assign({},ca);const wt={};gi(nt.posParams,(fi,Wi)=>{wt[Wi]=fi.path});const Pt=nt.consumed.length>0?Object.assign(Object.assign({},wt),nt.consumed[nt.consumed.length-1].parameters):wt;return{matched:!0,consumedSegments:nt.consumed,lastChild:nt.consumed.length,parameters:Pt,positionalParamSegments:null!==(Te=nt.posParams)&&void 0!==Te?Te:{}}}function tn(le,Q,X,Te,ke="corrected"){if(X.length>0&&function(le,Q,X){return X.some(Te=>B(le,Q,Te)&&Br(Te)!==Ze)}(le,X,Te)){const wt=new vt(Q,function(le,Q,X,Te){const ke={};ke[Ze]=Te,Te._sourceSegment=le,Te._segmentIndexShift=Q.length;for(const nt of X)if(""===nt.path&&Br(nt)!==Ze){const wt=new vt([],{});wt._sourceSegment=le,wt._segmentIndexShift=Q.length,ke[Br(nt)]=wt}return ke}(le,Q,Te,new vt(X,le.children)));return wt._sourceSegment=le,wt._segmentIndexShift=Q.length,{segmentGroup:wt,slicedSegments:[]}}if(0===X.length&&function(le,Q,X){return X.some(Te=>B(le,Q,Te))}(le,X,Te)){const wt=new vt(le.segments,function(le,Q,X,Te,ke,nt){const wt={};for(const Pt of Te)if(B(le,X,Pt)&&!ke[Br(Pt)]){const fi=new vt([],{});fi._sourceSegment=le,fi._segmentIndexShift="legacy"===nt?le.segments.length:Q.length,wt[Br(Pt)]=fi}return Object.assign(Object.assign({},ke),wt)}(le,Q,X,Te,le.children,ke));return wt._sourceSegment=le,wt._segmentIndexShift=Q.length,{segmentGroup:wt,slicedSegments:X}}const nt=new vt(le.segments,le.children);return nt._sourceSegment=le,nt._segmentIndexShift=Q.length,{segmentGroup:nt,slicedSegments:X}}function B(le,Q,X){return(!(le.hasChildren()||Q.length>0)||"full"!==X.pathMatch)&&""===X.path}function Ce(le,Q,X,Te){return!!(Br(le)===Te||Te!==Ze&&B(Q,X,le))&&("**"===le.path||Gn(Q,le,X).matched)}function Et(le,Q,X){return 0===Q.length&&!le.children[X]}class ti{constructor(Q){this.segmentGroup=Q||null}}class Li{constructor(Q){this.urlTree=Q}}function mn(le){return new e.y(Q=>Q.error(new ti(le)))}function Dn(le){return new e.y(Q=>Q.error(new Li(le)))}function Vn(le){return new e.y(Q=>Q.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${le}'`)))}class er{constructor(Q,X,Te,ke,nt){this.configLoader=X,this.urlSerializer=Te,this.urlTree=ke,this.config=nt,this.allowRedirects=!0,this.ngModule=Q.get(v.h0i)}apply(){const Q=tn(this.urlTree.root,[],[],this.config).segmentGroup,X=new vt(Q.segments,Q.children);return this.expandSegmentGroup(this.ngModule,this.config,X,Ze).pipe((0,te.U)(nt=>this.createUrlTree(on(nt),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ve.K)(nt=>{if(nt instanceof Li)return this.allowRedirects=!1,this.match(nt.urlTree);throw nt instanceof ti?this.noMatchError(nt):nt}))}match(Q){return this.expandSegmentGroup(this.ngModule,this.config,Q.root,Ze).pipe((0,te.U)(ke=>this.createUrlTree(on(ke),Q.queryParams,Q.fragment))).pipe((0,ve.K)(ke=>{throw ke instanceof ti?this.noMatchError(ke):ke}))}noMatchError(Q){return new Error(`Cannot match any routes. URL Segment: '${Q.segmentGroup}'`)}createUrlTree(Q,X,Te){const ke=Q.segments.length>0?new vt([],{[Ze]:Q}):Q;return new et(ke,X,Te)}expandSegmentGroup(Q,X,Te,ke){return 0===Te.segments.length&&Te.hasChildren()?this.expandChildren(Q,X,Te).pipe((0,te.U)(nt=>new vt([],nt))):this.expandSegment(Q,Te,X,Te.segments,ke,!0)}expandChildren(Q,X,Te){const ke=[];for(const nt of Object.keys(Te.children))"primary"===nt?ke.unshift(nt):ke.push(nt);return(0,R.D)(ke).pipe((0,He.b)(nt=>{const wt=Te.children[nt],Pt=yo(X,nt);return this.expandSegmentGroup(Q,Pt,wt,nt).pipe((0,te.U)(fi=>({segment:fi,outlet:nt})))}),Oe((nt,wt)=>(nt[wt.outlet]=wt.segment,nt),{}),function(le,Q){const X=arguments.length>=2;return Te=>Te.pipe(le?(0,Be.h)((ke,nt)=>le(ke,nt,Te)):ne.y,Ee(1),X?se(Q):ce(()=>new t))}())}expandSegment(Q,X,Te,ke,nt,wt){return(0,R.D)(Te).pipe((0,He.b)(Pt=>this.expandSegmentAgainstRoute(Q,X,Te,Pt,ke,nt,wt).pipe((0,ve.K)(Wi=>{if(Wi instanceof ti)return(0,N.of)(null);throw Wi}))),de(Pt=>!!Pt),(0,ve.K)((Pt,fi)=>{if(Pt instanceof t||"EmptyError"===Pt.name){if(Et(X,ke,nt))return(0,N.of)(new vt([],{}));throw new ti(X)}throw Pt}))}expandSegmentAgainstRoute(Q,X,Te,ke,nt,wt,Pt){return Ce(ke,X,nt,wt)?void 0===ke.redirectTo?this.matchSegmentAgainstRoute(Q,X,ke,nt,wt):Pt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Q,X,Te,ke,nt,wt):mn(X):mn(X)}expandSegmentAgainstRouteUsingRedirect(Q,X,Te,ke,nt,wt){return"**"===ke.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Q,Te,ke,wt):this.expandRegularSegmentAgainstRouteUsingRedirect(Q,X,Te,ke,nt,wt)}expandWildCardWithParamsAgainstRouteUsingRedirect(Q,X,Te,ke){const nt=this.applyRedirectCommands([],Te.redirectTo,{});return Te.redirectTo.startsWith("/")?Dn(nt):this.lineralizeSegments(Te,nt).pipe((0,ct.z)(wt=>{const Pt=new vt(wt,{});return this.expandSegment(Q,Pt,X,wt,ke,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Q,X,Te,ke,nt,wt){const{matched:Pt,consumedSegments:fi,lastChild:Wi,positionalParamSegments:Fn}=Gn(X,ke,nt);if(!Pt)return mn(X);const dn=this.applyRedirectCommands(fi,ke.redirectTo,Fn);return ke.redirectTo.startsWith("/")?Dn(dn):this.lineralizeSegments(ke,dn).pipe((0,ct.z)(ar=>this.expandSegment(Q,X,Te,ar.concat(nt.slice(Wi)),wt,!1)))}matchSegmentAgainstRoute(Q,X,Te,ke,nt){if("**"===Te.path)return Te.loadChildren?(Te._loadedConfig?(0,N.of)(Te._loadedConfig):this.configLoader.load(Q.injector,Te)).pipe((0,te.U)(ar=>(Te._loadedConfig=ar,new vt(ke,{})))):(0,N.of)(new vt(ke,{}));const{matched:wt,consumedSegments:Pt,lastChild:fi}=Gn(X,Te,ke);if(!wt)return mn(X);const Wi=ke.slice(fi);return this.getChildConfig(Q,Te,ke).pipe((0,ct.z)(dn=>{const ar=dn.module,mr=dn.routes,{segmentGroup:Da,slicedSegments:is}=tn(X,Pt,Wi,mr),ms=new vt(Da.segments,Da.children);if(0===is.length&&ms.hasChildren())return this.expandChildren(ar,mr,ms).pipe((0,te.U)(Ns=>new vt(Pt,Ns)));if(0===mr.length&&0===is.length)return(0,N.of)(new vt(Pt,{}));const Ao=Br(Te)===nt;return this.expandSegment(ar,ms,mr,is,Ao?Ze:nt,!0).pipe((0,te.U)(Wo=>new vt(Pt.concat(Wo.segments),Wo.children)))}))}getChildConfig(Q,X,Te){return X.children?(0,N.of)(new Wr(X.children,Q)):X.loadChildren?void 0!==X._loadedConfig?(0,N.of)(X._loadedConfig):this.runCanLoadGuards(Q.injector,X,Te).pipe((0,ct.z)(ke=>{return ke?this.configLoader.load(Q.injector,X).pipe((0,te.U)(nt=>(X._loadedConfig=nt,nt))):(le=X,new e.y(Q=>Q.error(Ae(`Cannot load children because the guard of the route "path: '${le.path}'" returned false`))));var le})):(0,N.of)(new Wr([],Q))}runCanLoadGuards(Q,X,Te){const ke=X.canLoad;if(!ke||0===ke.length)return(0,N.of)(!0);const nt=ke.map(wt=>{const Pt=Q.get(wt);let fi;if((le=Pt)&&pr(le.canLoad))fi=Pt.canLoad(X,Te);else{if(!pr(Pt))throw new Error("Invalid CanLoad guard");fi=Pt(X,Te)}var le;return jt(fi)});return(0,N.of)(nt).pipe(Fr(),(0,Yt.b)(wt=>{if(!Mr(wt))return;const Pt=Ae(`Redirecting to "${this.urlSerializer.serialize(wt)}"`);throw Pt.url=wt,Pt}),(0,te.U)(wt=>!0===wt))}lineralizeSegments(Q,X){let Te=[],ke=X.root;for(;;){if(Te=Te.concat(ke.segments),0===ke.numberOfChildren)return(0,N.of)(Te);if(ke.numberOfChildren>1||!ke.children[Ze])return Vn(Q.redirectTo);ke=ke.children[Ze]}}applyRedirectCommands(Q,X,Te){return this.applyRedirectCreatreUrlTree(X,this.urlSerializer.parse(X),Q,Te)}applyRedirectCreatreUrlTree(Q,X,Te,ke){const nt=this.createSegmentGroup(Q,X.root,Te,ke);return new et(nt,this.createQueryParams(X.queryParams,this.urlTree.queryParams),X.fragment)}createQueryParams(Q,X){const Te={};return gi(Q,(ke,nt)=>{if("string"==typeof ke&&ke.startsWith(":")){const Pt=ke.substring(1);Te[nt]=X[Pt]}else Te[nt]=ke}),Te}createSegmentGroup(Q,X,Te,ke){const nt=this.createSegments(Q,X.segments,Te,ke);let wt={};return gi(X.children,(Pt,fi)=>{wt[fi]=this.createSegmentGroup(Q,Pt,Te,ke)}),new vt(nt,wt)}createSegments(Q,X,Te,ke){return X.map(nt=>nt.path.startsWith(":")?this.findPosParam(Q,nt,ke):this.findOrReturn(nt,Te))}findPosParam(Q,X,Te){const ke=Te[X.path.substring(1)];if(!ke)throw new Error(`Cannot redirect to '${Q}'. Cannot find '${X.path}'.`);return ke}findOrReturn(Q,X){let Te=0;for(const ke of X){if(ke.path===Q.path)return X.splice(Te),ke;Te++}return Q}}function on(le){const Q={};for(const Te of Object.keys(le.children)){const nt=on(le.children[Te]);(nt.segments.length>0||nt.hasChildren())&&(Q[Te]=nt)}return function(le){if(1===le.numberOfChildren&&le.children[Ze]){const Q=le.children[Ze];return new vt(le.segments.concat(Q.segments),Q.children)}return le}(new vt(le.segments,Q))}class Zs{constructor(Q){this.path=Q,this.route=this.path[this.path.length-1]}}class qr{constructor(Q,X){this.component=Q,this.route=X}}function Ws(le,Q,X){const Te=le._root;return Mi(Te,Q?Q._root:null,X,[Te.value])}function Uo(le,Q,X){const Te=function(le){if(!le)return null;for(let Q=le.parent;Q;Q=Q.parent){const X=Q.routeConfig;if(X&&X._loadedConfig)return X._loadedConfig}return null}(Q);return(Te?Te.module.injector:X).get(le)}function Mi(le,Q,X,Te,ke={canDeactivateChecks:[],canActivateChecks:[]}){const nt=$r(Q);return le.children.forEach(wt=>{(function(le,Q,X,Te,ke={canDeactivateChecks:[],canActivateChecks:[]}){const nt=le.value,wt=Q?Q.value:null,Pt=X?X.getContext(le.value.outlet):null;if(wt&&nt.routeConfig===wt.routeConfig){const fi=function(le,Q,X){if("function"==typeof X)return X(le,Q);switch(X){case"pathParamsChange":return!Zi(le.url,Q.url);case"pathParamsOrQueryParamsChange":return!Zi(le.url,Q.url)||!Zt(le.queryParams,Q.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ar(le,Q)||!Zt(le.queryParams,Q.queryParams);default:return!Ar(le,Q)}}(wt,nt,nt.routeConfig.runGuardsAndResolvers);fi?ke.canActivateChecks.push(new Zs(Te)):(nt.data=wt.data,nt._resolvedData=wt._resolvedData),Mi(le,Q,nt.component?Pt?Pt.children:null:X,Te,ke),fi&&Pt&&Pt.outlet&&Pt.outlet.isActivated&&ke.canDeactivateChecks.push(new qr(Pt.outlet.component,wt))}else wt&&F(Q,Pt,ke),ke.canActivateChecks.push(new Zs(Te)),Mi(le,null,nt.component?Pt?Pt.children:null:X,Te,ke)})(wt,nt[wt.value.outlet],X,Te.concat([wt.value]),ke),delete nt[wt.value.outlet]}),gi(nt,(wt,Pt)=>F(wt,X.getContext(Pt),ke)),ke}function F(le,Q,X){const Te=$r(le),ke=le.value;gi(Te,(nt,wt)=>{F(nt,ke.component?Q?Q.children.getContext(wt):null:Q,X)}),X.canDeactivateChecks.push(new qr(ke.component&&Q&&Q.outlet&&Q.outlet.isActivated?Q.outlet.component:null,ke))}class Bi{}function Gi(le){return new e.y(Q=>Q.error(le))}class Rn{constructor(Q,X,Te,ke,nt,wt){this.rootComponentType=Q,this.config=X,this.urlTree=Te,this.url=ke,this.paramsInheritanceStrategy=nt,this.relativeLinkResolution=wt}recognize(){const Q=tn(this.urlTree.root,[],[],this.config.filter(wt=>void 0===wt.redirectTo),this.relativeLinkResolution).segmentGroup,X=this.processSegmentGroup(this.config,Q,Ze);if(null===X)return null;const Te=new Ko([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ze,this.rootComponentType,null,this.urlTree.root,-1,{}),ke=new Pr(Te,X),nt=new Jr(this.url,ke);return this.inheritParamsAndData(nt._root),nt}inheritParamsAndData(Q){const X=Q.value,Te=ho(X,this.paramsInheritanceStrategy);X.params=Object.freeze(Te.params),X.data=Object.freeze(Te.data),Q.children.forEach(ke=>this.inheritParamsAndData(ke))}processSegmentGroup(Q,X,Te){return 0===X.segments.length&&X.hasChildren()?this.processChildren(Q,X):this.processSegment(Q,X,X.segments,Te)}processChildren(Q,X){const Te=[];for(const nt of Object.keys(X.children)){const wt=X.children[nt],Pt=yo(Q,nt),fi=this.processSegmentGroup(Pt,wt,nt);if(null===fi)return null;Te.push(...fi)}const ke=jn(Te);return ke.sort((Q,X)=>Q.value.outlet===Ze?-1:X.value.outlet===Ze?1:Q.value.outlet.localeCompare(X.value.outlet)),ke}processSegment(Q,X,Te,ke){for(const nt of Q){const wt=this.processSegmentAgainstRoute(nt,X,Te,ke);if(null!==wt)return wt}return Et(X,Te,ke)?[]:null}processSegmentAgainstRoute(Q,X,Te,ke){if(Q.redirectTo||!Ce(Q,X,Te,ke))return null;let nt,wt=[],Pt=[];if("**"===Q.path){const mr=Te.length>0?ui(Te).parameters:{};nt=new Ko(Te,mr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Go(Q),Br(Q),Q.component,Q,oo(X),Hr(X)+Te.length,Qo(Q))}else{const mr=Gn(X,Q,Te);if(!mr.matched)return null;wt=mr.consumedSegments,Pt=Te.slice(mr.lastChild),nt=new Ko(wt,mr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Go(Q),Br(Q),Q.component,Q,oo(X),Hr(X)+wt.length,Qo(Q))}const fi=(le=Q).children?le.children:le.loadChildren?le._loadedConfig.routes:[],{segmentGroup:Wi,slicedSegments:Fn}=tn(X,wt,Pt,fi.filter(mr=>void 0===mr.redirectTo),this.relativeLinkResolution);var le;if(0===Fn.length&&Wi.hasChildren()){const mr=this.processChildren(fi,Wi);return null===mr?null:[new Pr(nt,mr)]}if(0===fi.length&&0===Fn.length)return[new Pr(nt,[])];const dn=Br(Q)===ke,ar=this.processSegment(fi,Wi,Fn,dn?Ze:ke);return null===ar?null:[new Pr(nt,ar)]}}function Bn(le){const Q=le.value.routeConfig;return Q&&""===Q.path&&void 0===Q.redirectTo}function jn(le){const Q=[],X=new Set;for(const Te of le){if(!Bn(Te)){Q.push(Te);continue}const ke=Q.find(nt=>Te.value.routeConfig===nt.value.routeConfig);void 0!==ke?(ke.children.push(...Te.children),X.add(ke)):Q.push(Te)}for(const Te of X){const ke=jn(Te.children);Q.push(new Pr(Te.value,ke))}return Q.filter(Te=>!X.has(Te))}function oo(le){let Q=le;for(;Q._sourceSegment;)Q=Q._sourceSegment;return Q}function Hr(le){let Q=le,X=Q._segmentIndexShift?Q._segmentIndexShift:0;for(;Q._sourceSegment;)Q=Q._sourceSegment,X+=Q._segmentIndexShift?Q._segmentIndexShift:0;return X-1}function Go(le){return le.data||{}}function Qo(le){return le.resolve||{}}function Cr(le){return(0,ie.w)(Q=>{const X=le(Q);return X?(0,R.D)(X).pipe((0,te.U)(()=>Q)):(0,N.of)(Q)})}class ua extends class{shouldDetach(Q){return!1}store(Q,X){}shouldAttach(Q){return!1}retrieve(Q){return null}shouldReuseRoute(Q,X){return Q.routeConfig===X.routeConfig}}{}const Qi=new v.OlP("ROUTES");class nn{constructor(Q,X,Te,ke){this.injector=Q,this.compiler=X,this.onLoadStartListener=Te,this.onLoadEndListener=ke}load(Q,X){if(X._loader$)return X._loader$;this.onLoadStartListener&&this.onLoadStartListener(X);const ke=this.loadModuleFactory(X.loadChildren).pipe((0,te.U)(nt=>{this.onLoadEndListener&&this.onLoadEndListener(X);const wt=nt.create(Q);return new Wr(Fi(wt.injector.get(Qi,void 0,v.XFs.Self|v.XFs.Optional)).map(Ho),wt)}),(0,ve.K)(nt=>{throw X._loader$=void 0,nt}));return X._loader$=new w(ke,()=>new fe.x).pipe(b()),X._loader$}loadModuleFactory(Q){return jt(Q()).pipe((0,ct.z)(X=>X instanceof v.YKP?(0,N.of)(X):(0,R.D)(this.compiler.compileModuleAsync(X))))}}class In{shouldProcessUrl(Q){return!0}extract(Q){return Q}merge(Q,X){return Q}}function An(le){throw le}function Eo(le,Q,X){return Q.parse("/")}function Io(le,Q){return(0,N.of)(null)}const ts={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Co=(()=>{class le{constructor(X,Te,ke,nt,wt,Pt,fi){this.rootComponentType=X,this.urlSerializer=Te,this.rootContexts=ke,this.location=nt,this.config=fi,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fe.x,this.errorHandler=An,this.malformedUriErrorHandler=Eo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Io,afterPreactivation:Io},this.urlHandlingStrategy=new In,this.routeReuseStrategy=new ua,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=wt.get(v.h0i),this.console=wt.get(v.c2e);const dn=wt.get(v.R0b);this.isNgZoneEnabled=dn instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(fi),this.currentUrlTree=new et(new vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nn(wt,Pt,ar=>this.triggerEvent(new Le(ar)),ar=>this.triggerEvent(new dt(ar))),this.routerState=jr(this.currentUrlTree,this.rootComponentType),this.transitions=new W.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var X;return null===(X=this.location.getState())||void 0===X?void 0:X.\u0275routerPageId}setupNavigations(X){const Te=this.events;return X.pipe((0,Be.h)(ke=>0!==ke.id),(0,te.U)(ke=>Object.assign(Object.assign({},ke),{extractedUrl:this.urlHandlingStrategy.extract(ke.rawUrl)})),(0,ie.w)(ke=>{let nt=!1,wt=!1;return(0,N.of)(ke).pipe((0,Yt.b)(Pt=>{this.currentNavigation={id:Pt.id,initialUrl:Pt.currentRawUrl,extractedUrl:Pt.extractedUrl,trigger:Pt.source,extras:Pt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ie.w)(Pt=>{const fi=this.browserUrlTree.toString(),Wi=!this.navigated||Pt.extractedUrl.toString()!==fi||fi!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Wi)&&this.urlHandlingStrategy.shouldProcessUrl(Pt.rawUrl))return fs(Pt.source)&&(this.browserUrlTree=Pt.extractedUrl),(0,N.of)(Pt).pipe((0,ie.w)(dn=>{const ar=this.transitions.getValue();return Te.next(new vi(dn.id,this.serializeUrl(dn.extractedUrl),dn.source,dn.restoredState)),ar!==this.transitions.getValue()?xe.E:Promise.resolve(dn)}),function(le,Q,X,Te){return(0,ie.w)(ke=>function(le,Q,X,Te,ke){return new er(le,Q,X,Te,ke).apply()}(le,Q,X,ke.extractedUrl,Te).pipe((0,te.U)(nt=>Object.assign(Object.assign({},ke),{urlAfterRedirects:nt}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yt.b)(dn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:dn.urlAfterRedirects})}),function(le,Q,X,Te,ke){return(0,ct.z)(nt=>function(le,Q,X,Te,ke="emptyOnly",nt="legacy"){try{const wt=new Rn(le,Q,X,Te,ke,nt).recognize();return null===wt?Gi(new Bi):(0,N.of)(wt)}catch(wt){return Gi(wt)}}(le,Q,nt.urlAfterRedirects,X(nt.urlAfterRedirects),Te,ke).pipe((0,te.U)(wt=>Object.assign(Object.assign({},nt),{targetSnapshot:wt}))))}(this.rootComponentType,this.config,dn=>this.serializeUrl(dn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yt.b)(dn=>{if("eager"===this.urlUpdateStrategy){if(!dn.extras.skipLocationChange){const mr=this.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl);this.setBrowserUrl(mr,dn)}this.browserUrlTree=dn.urlAfterRedirects}const ar=new Ne(dn.id,this.serializeUrl(dn.extractedUrl),this.serializeUrl(dn.urlAfterRedirects),dn.targetSnapshot);Te.next(ar)}));if(Wi&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ar,extractedUrl:mr,source:Da,restoredState:is,extras:ms}=Pt,Ao=new vi(ar,this.serializeUrl(mr),Da,is);Te.next(Ao);const pl=jr(mr,this.rootComponentType).snapshot;return(0,N.of)(Object.assign(Object.assign({},Pt),{targetSnapshot:pl,urlAfterRedirects:mr,extras:Object.assign(Object.assign({},ms),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Pt.rawUrl,Pt.resolve(null),xe.E}),Cr(Pt=>{const{targetSnapshot:fi,id:Wi,extractedUrl:Fn,rawUrl:dn,extras:{skipLocationChange:ar,replaceUrl:mr}}=Pt;return this.hooks.beforePreactivation(fi,{navigationId:Wi,appliedUrlTree:Fn,rawUrlTree:dn,skipLocationChange:!!ar,replaceUrl:!!mr})}),(0,Yt.b)(Pt=>{const fi=new _t(Pt.id,this.serializeUrl(Pt.extractedUrl),this.serializeUrl(Pt.urlAfterRedirects),Pt.targetSnapshot);this.triggerEvent(fi)}),(0,te.U)(Pt=>Object.assign(Object.assign({},Pt),{guards:Ws(Pt.targetSnapshot,Pt.currentSnapshot,this.rootContexts)})),function(le,Q){return(0,ct.z)(X=>{const{targetSnapshot:Te,currentSnapshot:ke,guards:{canActivateChecks:nt,canDeactivateChecks:wt}}=X;return 0===wt.length&&0===nt.length?(0,N.of)(Object.assign(Object.assign({},X),{guardsResult:!0})):function(le,Q,X,Te){return(0,R.D)(le).pipe((0,ct.z)(ke=>function(le,Q,X,Te,ke){const nt=Q&&Q.routeConfig?Q.routeConfig.canDeactivate:null;if(!nt||0===nt.length)return(0,N.of)(!0);const wt=nt.map(Pt=>{const fi=Uo(Pt,Q,ke);let Wi;if(function(le){return le&&pr(le.canDeactivate)}(fi))Wi=jt(fi.canDeactivate(le,Q,X,Te));else{if(!pr(fi))throw new Error("Invalid CanDeactivate guard");Wi=jt(fi(le,Q,X,Te))}return Wi.pipe(de())});return(0,N.of)(wt).pipe(Fr())}(ke.component,ke.route,X,Q,Te)),de(ke=>!0!==ke,!0))}(wt,Te,ke,le).pipe((0,ct.z)(Pt=>Pt&&function(le){return"boolean"==typeof le}(Pt)?function(le,Q,X,Te){return(0,R.D)(Q).pipe((0,He.b)(ke=>(0,K.z)(function(le,Q){return null!==le&&Q&&Q(new zt(le)),(0,N.of)(!0)}(ke.route.parent,Te),function(le,Q){return null!==le&&Q&&Q(new ze(le)),(0,N.of)(!0)}(ke.route,Te),function(le,Q,X){const Te=Q[Q.length-1],nt=Q.slice(0,Q.length-1).reverse().map(wt=>function(le){const Q=le.routeConfig?le.routeConfig.canActivateChild:null;return Q&&0!==Q.length?{node:le,guards:Q}:null}(wt)).filter(wt=>null!==wt).map(wt=>(0,ae.P)(()=>{const Pt=wt.guards.map(fi=>{const Wi=Uo(fi,wt.node,X);let Fn;if(function(le){return le&&pr(le.canActivateChild)}(Wi))Fn=jt(Wi.canActivateChild(Te,le));else{if(!pr(Wi))throw new Error("Invalid CanActivateChild guard");Fn=jt(Wi(Te,le))}return Fn.pipe(de())});return(0,N.of)(Pt).pipe(Fr())}));return(0,N.of)(nt).pipe(Fr())}(le,ke.path,X),function(le,Q,X){const Te=Q.routeConfig?Q.routeConfig.canActivate:null;if(!Te||0===Te.length)return(0,N.of)(!0);const ke=Te.map(nt=>(0,ae.P)(()=>{const wt=Uo(nt,Q,X);let Pt;if(function(le){return le&&pr(le.canActivate)}(wt))Pt=jt(wt.canActivate(Q,le));else{if(!pr(wt))throw new Error("Invalid CanActivate guard");Pt=jt(wt(Q,le))}return Pt.pipe(de())}));return(0,N.of)(ke).pipe(Fr())}(le,ke.route,X))),de(ke=>!0!==ke,!0))}(Te,nt,le,Q):(0,N.of)(Pt)),(0,te.U)(Pt=>Object.assign(Object.assign({},X),{guardsResult:Pt})))})}(this.ngModule.injector,Pt=>this.triggerEvent(Pt)),(0,Yt.b)(Pt=>{if(Mr(Pt.guardsResult)){const Wi=Ae(`Redirecting to "${this.serializeUrl(Pt.guardsResult)}"`);throw Wi.url=Pt.guardsResult,Wi}const fi=new Ke(Pt.id,this.serializeUrl(Pt.extractedUrl),this.serializeUrl(Pt.urlAfterRedirects),Pt.targetSnapshot,!!Pt.guardsResult);this.triggerEvent(fi)}),(0,Be.h)(Pt=>!!Pt.guardsResult||(this.restoreHistory(Pt),this.cancelNavigationTransition(Pt,""),!1)),Cr(Pt=>{if(Pt.guards.canActivateChecks.length)return(0,N.of)(Pt).pipe((0,Yt.b)(fi=>{const Wi=new Je(fi.id,this.serializeUrl(fi.extractedUrl),this.serializeUrl(fi.urlAfterRedirects),fi.targetSnapshot);this.triggerEvent(Wi)}),(0,ie.w)(fi=>{let Wi=!1;return(0,N.of)(fi).pipe(function(le,Q){return(0,ct.z)(X=>{const{targetSnapshot:Te,guards:{canActivateChecks:ke}}=X;if(!ke.length)return(0,N.of)(X);let nt=0;return(0,R.D)(ke).pipe((0,He.b)(wt=>function(le,Q,X,Te){return function(le,Q,X,Te){const ke=Object.keys(le);if(0===ke.length)return(0,N.of)({});const nt={};return(0,R.D)(ke).pipe((0,ct.z)(wt=>function(le,Q,X,Te){const ke=Uo(le,Q,Te);return jt(ke.resolve?ke.resolve(Q,X):ke(Q,X))}(le[wt],Q,X,Te).pipe((0,Yt.b)(Pt=>{nt[wt]=Pt}))),Ee(1),(0,ct.z)(()=>Object.keys(nt).length===ke.length?(0,N.of)(nt):xe.E))}(le._resolve,le,Q,Te).pipe((0,te.U)(nt=>(le._resolvedData=nt,le.data=Object.assign(Object.assign({},le.data),ho(le,X).resolve),null)))}(wt.route,Te,le,Q)),(0,Yt.b)(()=>nt++),Ee(1),(0,ct.z)(wt=>nt===ke.length?(0,N.of)(X):xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yt.b)({next:()=>Wi=!0,complete:()=>{Wi||(this.restoreHistory(fi),this.cancelNavigationTransition(fi,"At least one route resolver didn't emit any value."))}}))}),(0,Yt.b)(fi=>{const Wi=new we(fi.id,this.serializeUrl(fi.extractedUrl),this.serializeUrl(fi.urlAfterRedirects),fi.targetSnapshot);this.triggerEvent(Wi)}))}),Cr(Pt=>{const{targetSnapshot:fi,id:Wi,extractedUrl:Fn,rawUrl:dn,extras:{skipLocationChange:ar,replaceUrl:mr}}=Pt;return this.hooks.afterPreactivation(fi,{navigationId:Wi,appliedUrlTree:Fn,rawUrlTree:dn,skipLocationChange:!!ar,replaceUrl:!!mr})}),(0,te.U)(Pt=>{const fi=function(le,Q,X){const Te=Lr(le,Q._root,X?X._root:void 0);return new pn(Te,Q)}(this.routeReuseStrategy,Pt.targetSnapshot,Pt.currentRouterState);return Object.assign(Object.assign({},Pt),{targetRouterState:fi})}),(0,Yt.b)(Pt=>{this.currentUrlTree=Pt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Pt.urlAfterRedirects,Pt.rawUrl),this.routerState=Pt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Pt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Pt),this.browserUrlTree=Pt.urlAfterRedirects)}),((le,Q,X)=>(0,te.U)(Te=>(new Js(Q,Te.targetRouterState,Te.currentRouterState,X).activate(le),Te)))(this.rootContexts,this.routeReuseStrategy,Pt=>this.triggerEvent(Pt)),(0,Yt.b)({next(){nt=!0},complete(){nt=!0}}),(0,ht.x)(()=>{var Pt;nt||wt||this.cancelNavigationTransition(ke,`Navigation ID ${ke.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Pt=this.currentNavigation)||void 0===Pt?void 0:Pt.id)===ke.id&&(this.currentNavigation=null)}),(0,ve.K)(Pt=>{if(wt=!0,function(le){return le&&le[be]}(Pt)){const fi=Mr(Pt.url);fi||(this.navigated=!0,this.restoreHistory(ke,!0));const Wi=new Lt(ke.id,this.serializeUrl(ke.extractedUrl),Pt.message);Te.next(Wi),fi?setTimeout(()=>{const Fn=this.urlHandlingStrategy.merge(Pt.url,this.rawUrlTree),dn={skipLocationChange:ke.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fs(ke.source)};this.scheduleNavigation(Fn,"imperative",null,dn,{resolve:ke.resolve,reject:ke.reject,promise:ke.promise})},0):ke.resolve(!1)}else{this.restoreHistory(ke,!0);const fi=new ri(ke.id,this.serializeUrl(ke.extractedUrl),Pt);Te.next(fi);try{ke.resolve(this.errorHandler(Pt))}catch(Wi){ke.reject(Wi)}}return xe.E}))}))}resetRootComponentType(X){this.rootComponentType=X,this.routerState.root.component=this.rootComponentType}setTransition(X){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),X))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(X=>{const Te="popstate"===X.type?"popstate":"hashchange";"popstate"===Te&&setTimeout(()=>{var ke;const nt={replaceUrl:!0},wt=(null===(ke=X.state)||void 0===ke?void 0:ke.navigationId)?X.state:null;if(wt){const fi=Object.assign({},wt);delete fi.navigationId,delete fi.\u0275routerPageId,0!==Object.keys(fi).length&&(nt.state=fi)}const Pt=this.parseUrl(X.url);this.scheduleNavigation(Pt,Te,wt,nt)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(X){this.events.next(X)}resetConfig(X){fr(X),this.config=X.map(Ho),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(X,Te={}){const{relativeTo:ke,queryParams:nt,fragment:wt,queryParamsHandling:Pt,preserveFragment:fi}=Te,Wi=ke||this.routerState.root,Fn=fi?this.currentUrlTree.fragment:wt;let dn=null;switch(Pt){case"merge":dn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),nt);break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=nt||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),function(le,Q,X,Te,ke){if(0===X.length)return as(Q.root,Q.root,Q,Te,ke);const nt=function(le){if("string"==typeof le[0]&&1===le.length&&"/"===le[0])return new $o(!0,0,le);let Q=0,X=!1;const Te=le.reduce((ke,nt,wt)=>{if("object"==typeof nt&&null!=nt){if(nt.outlets){const Pt={};return gi(nt.outlets,(fi,Wi)=>{Pt[Wi]="string"==typeof fi?fi.split("/"):fi}),[...ke,{outlets:Pt}]}if(nt.segmentPath)return[...ke,nt.segmentPath]}return"string"!=typeof nt?[...ke,nt]:0===wt?(nt.split("/").forEach((Pt,fi)=>{0==fi&&"."===Pt||(0==fi&&""===Pt?X=!0:".."===Pt?Q++:""!=Pt&&ke.push(Pt))}),ke):[...ke,nt]},[]);return new $o(X,Q,Te)}(X);if(nt.toRoot())return as(Q.root,new vt([],{}),Q,Te,ke);const wt=function(le,Q,X){if(le.isAbsolute)return new hr(Q.root,!0,0);if(-1===X.snapshot._lastPathIndex){const nt=X.snapshot._urlSegment;return new hr(nt,nt===Q.root,0)}const Te=qn(le.commands[0])?0:1;return function(le,Q,X){let Te=le,ke=Q,nt=X;for(;nt>ke;){if(nt-=ke,Te=Te.parent,!Te)throw new Error("Invalid number of '../'");ke=Te.segments.length}return new hr(Te,!1,ke-nt)}(X.snapshot._urlSegment,X.snapshot._lastPathIndex+Te,le.numberOfDoubleDots)}(nt,Q,le),Pt=wt.processChildren?Gs(wt.segmentGroup,wt.index,nt.commands):Do(wt.segmentGroup,wt.index,nt.commands);return as(wt.segmentGroup,Pt,Q,Te,ke)}(Wi,this.currentUrlTree,X,dn,null!=Fn?Fn:null)}navigateByUrl(X,Te={skipLocationChange:!1}){const ke=Mr(X)?X:this.parseUrl(X),nt=this.urlHandlingStrategy.merge(ke,this.rawUrlTree);return this.scheduleNavigation(nt,"imperative",null,Te)}navigate(X,Te={skipLocationChange:!1}){return function(le){for(let Q=0;Q<le.length;Q++){const X=le[Q];if(null==X)throw new Error(`The requested path contains ${X} segment at index ${Q}`)}}(X),this.navigateByUrl(this.createUrlTree(X,Te),Te)}serializeUrl(X){return this.urlSerializer.serialize(X)}parseUrl(X){let Te;try{Te=this.urlSerializer.parse(X)}catch(ke){Te=this.malformedUriErrorHandler(ke,this.urlSerializer,X)}return Te}isActive(X,Te){let ke;if(ke=!0===Te?Object.assign({},ts):!1===Te?Object.assign({},Qn):Te,Mr(X))return ei(this.currentUrlTree,X,ke);const nt=this.parseUrl(X);return ei(this.currentUrlTree,nt,ke)}removeEmptyProps(X){return Object.keys(X).reduce((Te,ke)=>{const nt=X[ke];return null!=nt&&(Te[ke]=nt),Te},{})}processNavigations(){this.navigations.subscribe(X=>{this.navigated=!0,this.lastSuccessfulId=X.id,this.currentPageId=X.targetPageId,this.events.next(new qt(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,X.resolve(!0)},X=>{this.console.warn(`Unhandled Navigation Error: ${X}`)})}scheduleNavigation(X,Te,ke,nt,wt){var Pt,fi,Wi;if(this.disposed)return Promise.resolve(!1);const Fn=this.transitions.value,dn=fs(Te)&&Fn&&!fs(Fn.source),ar=Fn.rawUrl.toString()===X.toString(),mr=Fn.id===(null===(Pt=this.currentNavigation)||void 0===Pt?void 0:Pt.id);if(dn&&ar&&mr)return Promise.resolve(!0);let is,ms,Ao;wt?(is=wt.resolve,ms=wt.reject,Ao=wt.promise):Ao=new Promise((Ns,ta)=>{is=Ns,ms=ta});const pl=++this.navigationId;let Wo;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ke=this.location.getState()),Wo=ke&&ke.\u0275routerPageId?ke.\u0275routerPageId:nt.replaceUrl||nt.skipLocationChange?null!==(fi=this.browserPageId)&&void 0!==fi?fi:0:(null!==(Wi=this.browserPageId)&&void 0!==Wi?Wi:0)+1):Wo=0,this.setTransition({id:pl,targetPageId:Wo,source:Te,restoredState:ke,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:X,extras:nt,resolve:is,reject:ms,promise:Ao,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ao.catch(Ns=>Promise.reject(Ns))}setBrowserUrl(X,Te){const ke=this.urlSerializer.serialize(X),nt=Object.assign(Object.assign({},Te.extras.state),this.generateNgRouterState(Te.id,Te.targetPageId));this.location.isCurrentPathEqualTo(ke)||Te.extras.replaceUrl?this.location.replaceState(ke,"",nt):this.location.go(ke,"",nt)}restoreHistory(X,Te=!1){var ke,nt;if("computed"===this.canceledNavigationResolution){const wt=this.currentPageId-X.targetPageId;"popstate"!==X.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(ke=this.currentNavigation)||void 0===ke?void 0:ke.finalUrl)||0===wt?this.currentUrlTree===(null===(nt=this.currentNavigation)||void 0===nt?void 0:nt.finalUrl)&&0===wt&&(this.resetState(X),this.browserUrlTree=X.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(wt)}else"replace"===this.canceledNavigationResolution&&(Te&&this.resetState(X),this.resetUrlToCurrentUrlTree())}resetState(X){this.routerState=X.currentRouterState,this.currentUrlTree=X.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,X.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(X,Te){const ke=new Lt(X.id,this.serializeUrl(X.extractedUrl),Te);this.triggerEvent(ke),X.resolve(!1)}generateNgRouterState(X,Te){return"computed"===this.canceledNavigationResolution?{navigationId:X,\u0275routerPageId:Te}:{navigationId:X}}}return le.\u0275fac=function(X){v.$Z()},le.\u0275prov=v.Yz7({token:le,factory:le.\u0275fac}),le})();function fs(le){return"imperative"!==le}let fo=(()=>{class le{constructor(X,Te,ke){this.router=X,this.route=Te,this.locationStrategy=ke,this.commands=null,this.href=null,this.onChanges=new fe.x,this.subscription=X.events.subscribe(nt=>{nt instanceof qt&&this.updateTargetUrlAndHref()})}set routerLink(X){this.commands=null!=X?Array.isArray(X)?X:[X]:null}ngOnChanges(X){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(X,Te,ke,nt,wt){if(0!==X||Te||ke||nt||wt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Pt={skipLocationChange:jo(this.skipLocationChange),replaceUrl:jo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Pt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jo(this.preserveFragment)})}}return le.\u0275fac=function(X){return new(X||le)(v.Y36(Co),v.Y36(vo),v.Y36(Ht.S$))},le.\u0275dir=v.lG2({type:le,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(X,Te){1&X&&v.NdJ("click",function(nt){return Te.onClick(nt.button,nt.ctrlKey,nt.shiftKey,nt.altKey,nt.metaKey)}),2&X&&v.uIk("target",Te.target)("href",Te.href,v.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[v.TTD]}),le})();function jo(le){return""===le||!!le}class Os{}class Pa{preload(Q,X){return(0,N.of)(null)}}let xl=(()=>{class le{constructor(X,Te,ke,nt){this.router=X,this.injector=ke,this.preloadingStrategy=nt,this.loader=new nn(ke,Te,fi=>X.triggerEvent(new Le(fi)),fi=>X.triggerEvent(new dt(fi)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Be.h)(X=>X instanceof qt),(0,He.b)(()=>this.preload())).subscribe(()=>{})}preload(){const X=this.injector.get(v.h0i);return this.processRoutes(X,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(X,Te){const ke=[];for(const nt of Te)if(nt.loadChildren&&!nt.canLoad&&nt._loadedConfig){const wt=nt._loadedConfig;ke.push(this.processRoutes(wt.module,wt.routes))}else nt.loadChildren&&!nt.canLoad?ke.push(this.preloadConfig(X,nt)):nt.children&&ke.push(this.processRoutes(X,nt.children));return(0,R.D)(ke).pipe((0,Bt.J)(),(0,te.U)(nt=>{}))}preloadConfig(X,Te){return this.preloadingStrategy.preload(Te,()=>(Te._loadedConfig?(0,N.of)(Te._loadedConfig):this.loader.load(X.injector,Te)).pipe((0,ct.z)(nt=>(Te._loadedConfig=nt,this.processRoutes(nt.module,nt.routes)))))}}return le.\u0275fac=function(X){return new(X||le)(v.LFG(Co),v.LFG(v.Sil),v.LFG(v.zs3),v.LFG(Os))},le.\u0275prov=v.Yz7({token:le,factory:le.\u0275fac}),le})(),ks=(()=>{class le{constructor(X,Te,ke={}){this.router=X,this.viewportScroller=Te,this.options=ke,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ke.scrollPositionRestoration=ke.scrollPositionRestoration||"disabled",ke.anchorScrolling=ke.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(X=>{X instanceof vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=X.navigationTrigger,this.restoredId=X.restoredState?X.restoredState.navigationId:0):X instanceof qt&&(this.lastId=X.id,this.scheduleScrollEvent(X,this.router.parseUrl(X.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(X=>{X instanceof gt&&(X.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(X.position):X.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(X.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(X,Te){this.router.triggerEvent(new gt(X,"popstate"===this.lastSource?this.store[this.restoredId]:null,Te))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return le.\u0275fac=function(X){v.$Z()},le.\u0275prov=v.Yz7({token:le,factory:le.\u0275fac}),le})();const Qs=new v.OlP("ROUTER_CONFIGURATION"),mc=new v.OlP("ROUTER_FORROOT_GUARD"),Ka=[Ht.Ye,{provide:Jt,useClass:Rt},{provide:Co,useFactory:function(le,Q,X,Te,ke,nt,wt={},Pt,fi){const Wi=new Co(null,le,Q,X,Te,ke,Fi(nt));return Pt&&(Wi.urlHandlingStrategy=Pt),fi&&(Wi.routeReuseStrategy=fi),function(le,Q){le.errorHandler&&(Q.errorHandler=le.errorHandler),le.malformedUriErrorHandler&&(Q.malformedUriErrorHandler=le.malformedUriErrorHandler),le.onSameUrlNavigation&&(Q.onSameUrlNavigation=le.onSameUrlNavigation),le.paramsInheritanceStrategy&&(Q.paramsInheritanceStrategy=le.paramsInheritanceStrategy),le.relativeLinkResolution&&(Q.relativeLinkResolution=le.relativeLinkResolution),le.urlUpdateStrategy&&(Q.urlUpdateStrategy=le.urlUpdateStrategy),le.canceledNavigationResolution&&(Q.canceledNavigationResolution=le.canceledNavigationResolution)}(wt,Wi),wt.enableTracing&&Wi.events.subscribe(Fn=>{var dn,ar;null===(dn=console.group)||void 0===dn||dn.call(console,`Router Event: ${Fn.constructor.name}`),console.log(Fn.toString()),console.log(Fn),null===(ar=console.groupEnd)||void 0===ar||ar.call(console)}),Wi},deps:[Jt,Er,Ht.Ye,v.zs3,v.Sil,Qi,Qs,[class{},new v.FiY],[class{},new v.FiY]]},Er,{provide:vo,useFactory:function(le){return le.routerState.root},deps:[Co]},xl,Pa,class{preload(Q,X){return X().pipe((0,ve.K)(()=>(0,N.of)(null)))}},{provide:Qs,useValue:{enableTracing:!1}}];function qs(){return new v.PXZ("Router",Co)}let La=(()=>{class le{constructor(X,Te){}static forRoot(X,Te){return{ngModule:le,providers:[Ka,da(X),{provide:mc,useFactory:Ps,deps:[[Co,new v.FiY,new v.tp0]]},{provide:Qs,useValue:Te||{}},{provide:Ht.S$,useFactory:Il,deps:[Ht.lw,[new v.tBr(Ht.mr),new v.FiY],Qs]},{provide:ks,useFactory:Rl,deps:[Co,Ht.EM,Qs]},{provide:Os,useExisting:Te&&Te.preloadingStrategy?Te.preloadingStrategy:Pa},{provide:v.PXZ,multi:!0,useFactory:qs},[ea,{provide:v.ip1,multi:!0,useFactory:Al,deps:[ea]},{provide:Ja,useFactory:hl,deps:[ea]},{provide:v.tb,multi:!0,useExisting:Ja}]]}}static forChild(X){return{ngModule:le,providers:[da(X)]}}}return le.\u0275fac=function(X){return new(X||le)(v.LFG(mc,8),v.LFG(Co,8))},le.\u0275mod=v.oAB({type:le}),le.\u0275inj=v.cJS({}),le})();function Rl(le,Q,X){return X.scrollOffset&&Q.setOffset(X.scrollOffset),new ks(le,Q,X)}function Il(le,Q,X={}){return X.useHash?new Ht.Do(le,Q):new Ht.b0(le,Q)}function Ps(le){return"guarded"}function da(le){return[{provide:v.deG,multi:!0,useValue:le},{provide:Qi,multi:!0,useValue:le}]}let ea=(()=>{class le{constructor(X){this.injector=X,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fe.x}appInitializer(){return this.injector.get(Ht.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let Te=null;const ke=new Promise(Pt=>Te=Pt),nt=this.injector.get(Co),wt=this.injector.get(Qs);return"disabled"===wt.initialNavigation?(nt.setUpLocationChangeListener(),Te(!0)):"enabled"===wt.initialNavigation||"enabledBlocking"===wt.initialNavigation?(nt.hooks.afterPreactivation=()=>this.initNavigation?(0,N.of)(null):(this.initNavigation=!0,Te(!0),this.resultOfPreactivationDone),nt.initialNavigation()):Te(!0),ke})}bootstrapListener(X){const Te=this.injector.get(Qs),ke=this.injector.get(xl),nt=this.injector.get(ks),wt=this.injector.get(Co),Pt=this.injector.get(v.z2F);X===Pt.components[0]&&(("enabledNonBlocking"===Te.initialNavigation||void 0===Te.initialNavigation)&&wt.initialNavigation(),ke.setUpPreloading(),nt.init(),wt.resetRootComponentType(Pt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return le.\u0275fac=function(X){return new(X||le)(v.LFG(v.zs3))},le.\u0275prov=v.Yz7({token:le,factory:le.\u0275fac}),le})();function Al(le){return le.appInitializer.bind(le)}function hl(le){return le.bootstrapListener.bind(le)}const Ja=new v.OlP("Router Initializer")},15861:(P,H,h)=>{"use strict";function v(t,e,n,o,u,b,w){try{var R=t[b](w),N=R.value}catch(W){return void n(W)}R.done?e(N):Promise.resolve(N).then(o,u)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(o,u){var b=t.apply(e,n);function w(N){v(b,o,u,w,R,"next",N)}function R(N){v(b,o,u,w,R,"throw",N)}w(void 0)})}}h.d(H,{Z:()=>p})}},P=>{P(P.s=13155)}]);
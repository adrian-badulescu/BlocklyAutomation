var TR=Object.defineProperty,wR=Object.defineProperties,SR=Object.getOwnPropertyDescriptors,IC=Object.getOwnPropertySymbols,DR=Object.prototype.hasOwnProperty,MR=Object.prototype.propertyIsEnumerable,Ev=(F,U,_)=>U in F?TR(F,U,{enumerable:!0,configurable:!0,writable:!0,value:_}):F[U]=_,Cv=(F,U)=>{for(var _ in U||(U={}))DR.call(U,_)&&Ev(F,_,U[_]);if(IC)for(var _ of IC(U))MR.call(U,_)&&Ev(F,_,U[_]);return F},Tv=(F,U)=>wR(F,SR(U)),Hc=(F,U,_)=>(Ev(F,"symbol"!=typeof U?U+"":U,_),_);(self.webpackChunkauto_blockly_app=self.webpackChunkauto_blockly_app||[]).push([[179],{98255:F=>{function U(_){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+_+"'");throw E.code="MODULE_NOT_FOUND",E})}U.keys=()=>[],U.resolve=U,U.id=98255,F.exports=U},38506:F=>{function U(E,o,t,e,n,s,f){try{var y=E[s](f),M=y.value}catch(A){return void t(A)}y.done?o(M):Promise.resolve(M).then(e,n)}F.exports=function(E){return function(){var o=this,t=arguments;return new Promise(function(e,n){var s=E.apply(o,t);function f(M){U(s,e,n,f,y,"next",M)}function y(M){U(s,e,n,f,y,"throw",M)}f(void 0)})}},F.exports.default=F.exports,F.exports.__esModule=!0},89926:(F,U,_)=>{F.exports=_(96353)},87048:(F,U,_)=>{F.exports=_(85671)},20272:(F,U,_)=>{F.exports=_(60580)},26775:(F,U,_)=>{F.exports=_(26271)},78804:(F,U,_)=>{F.exports=_(82237)},11761:(F,U,_)=>{F.exports=_(26944)},64770:(F,U,_)=>{F.exports=_(3245)},71049:(F,U,_)=>{F.exports=_(34123)},3498:(F,U,_)=>{F.exports=_(43264)},38330:(F,U,_)=>{F.exports=_(75991)},23289:(F,U,_)=>{F.exports=_(65155)},53130:(F,U,_)=>{F.exports=_(80301)},45107:(F,U,_)=>{F.exports=_(81145)},45635:(F,U,_)=>{F.exports=_(158)},96916:(F,U,_)=>{F.exports=_(27620)},58258:(F,U,_)=>{F.exports=_(37254)},14569:(F,U,_)=>{F.exports=_(30770)},97326:(F,U,_)=>{F.exports=_(96883)},57124:(F,U,_)=>{F.exports=_(21244)},57272:(F,U,_)=>{F.exports=_(81548)},66360:(F,U,_)=>{F.exports=_(30206)},71094:(F,U,_)=>{F.exports=_(73915)},93165:(F,U,_)=>{F.exports=_(91391)},19898:(F,U,_)=>{F.exports=_(16557)},84916:(F,U,_)=>{F.exports=_(11944)},31946:(F,U,_)=>{F.exports=_(63780)},18753:(F,U,_)=>{F.exports=_(65332)},90343:(F,U,_)=>{F.exports=_(66203)},12988:(F,U,_)=>{F.exports=_(98836)},23005:(F,U,_)=>{F.exports=_(89857)},26394:(F,U,_)=>{F.exports=_(42658)},93449:(F,U,_)=>{F.exports=_(93585)},3599:(F,U,_)=>{F.exports=_(9207)},39126:(F,U,_)=>{F.exports=_(32518)},2805:(F,U,_)=>{"use strict";_.r(U),_.d(U,{__extends:()=>o,__assign:()=>t,__rest:()=>e,__decorate:()=>n,__param:()=>s,__metadata:()=>f,__awaiter:()=>y,__generator:()=>M,__createBinding:()=>A,__exportStar:()=>P,__values:()=>B,__read:()=>ne,__spread:()=>te,__spreadArrays:()=>se,__spreadArray:()=>de,__await:()=>ae,__asyncGenerator:()=>Me,__asyncDelegator:()=>xe,__asyncValues:()=>we,__makeTemplateObject:()=>ke,__importStar:()=>pe,__importDefault:()=>ie,__classPrivateFieldGet:()=>ee,__classPrivateFieldSet:()=>ye});var E=function(Ce,Te){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,ve){me.__proto__=ve}||function(me,ve){for(var Ze in ve)Object.prototype.hasOwnProperty.call(ve,Ze)&&(me[Ze]=ve[Ze])})(Ce,Te)};function o(Ce,Te){if("function"!=typeof Te&&null!==Te)throw new TypeError("Class extends value "+String(Te)+" is not a constructor or null");function me(){this.constructor=Ce}E(Ce,Te),Ce.prototype=null===Te?Object.create(Te):(me.prototype=Te.prototype,new me)}var t=function(){return(t=Object.assign||function(Te){for(var me,ve=1,Ze=arguments.length;ve<Ze;ve++)for(var Be in me=arguments[ve])Object.prototype.hasOwnProperty.call(me,Be)&&(Te[Be]=me[Be]);return Te}).apply(this,arguments)};function e(Ce,Te){var me={};for(var ve in Ce)Object.prototype.hasOwnProperty.call(Ce,ve)&&Te.indexOf(ve)<0&&(me[ve]=Ce[ve]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Ce);Ze<ve.length;Ze++)Te.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Ce,ve[Ze])&&(me[ve[Ze]]=Ce[ve[Ze]])}return me}function n(Ce,Te,me,ve){var ot,Ze=arguments.length,Be=Ze<3?Te:null===ve?ve=Object.getOwnPropertyDescriptor(Te,me):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Be=Reflect.decorate(Ce,Te,me,ve);else for(var Lt=Ce.length-1;Lt>=0;Lt--)(ot=Ce[Lt])&&(Be=(Ze<3?ot(Be):Ze>3?ot(Te,me,Be):ot(Te,me))||Be);return Ze>3&&Be&&Object.defineProperty(Te,me,Be),Be}function s(Ce,Te){return function(me,ve){Te(me,ve,Ce)}}function f(Ce,Te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ce,Te)}function y(Ce,Te,me,ve){return new(me||(me=Promise))(function(Be,ot){function Lt(tn){try{wt(ve.next(tn))}catch(Et){ot(Et)}}function Jt(tn){try{wt(ve.throw(tn))}catch(Et){ot(Et)}}function wt(tn){tn.done?Be(tn.value):function(Be){return Be instanceof me?Be:new me(function(ot){ot(Be)})}(tn.value).then(Lt,Jt)}wt((ve=ve.apply(Ce,Te||[])).next())})}function M(Ce,Te){var ve,Ze,Be,ot,me={label:0,sent:function(){if(1&Be[0])throw Be[1];return Be[1]},trys:[],ops:[]};return ot={next:Lt(0),throw:Lt(1),return:Lt(2)},"function"==typeof Symbol&&(ot[Symbol.iterator]=function(){return this}),ot;function Lt(wt){return function(tn){return function(wt){if(ve)throw new TypeError("Generator is already executing.");for(;me;)try{if(ve=1,Ze&&(Be=2&wt[0]?Ze.return:wt[0]?Ze.throw||((Be=Ze.return)&&Be.call(Ze),0):Ze.next)&&!(Be=Be.call(Ze,wt[1])).done)return Be;switch(Ze=0,Be&&(wt=[2&wt[0],Be.value]),wt[0]){case 0:case 1:Be=wt;break;case 4:return me.label++,{value:wt[1],done:!1};case 5:me.label++,Ze=wt[1],wt=[0];continue;case 7:wt=me.ops.pop(),me.trys.pop();continue;default:if(!(Be=(Be=me.trys).length>0&&Be[Be.length-1])&&(6===wt[0]||2===wt[0])){me=0;continue}if(3===wt[0]&&(!Be||wt[1]>Be[0]&&wt[1]<Be[3])){me.label=wt[1];break}if(6===wt[0]&&me.label<Be[1]){me.label=Be[1],Be=wt;break}if(Be&&me.label<Be[2]){me.label=Be[2],me.ops.push(wt);break}Be[2]&&me.ops.pop(),me.trys.pop();continue}wt=Te.call(Ce,me)}catch(tn){wt=[6,tn],Ze=0}finally{ve=Be=0}if(5&wt[0])throw wt[1];return{value:wt[0]?wt[1]:void 0,done:!0}}([wt,tn])}}}var A=Object.create?function(Ce,Te,me,ve){void 0===ve&&(ve=me),Object.defineProperty(Ce,ve,{enumerable:!0,get:function(){return Te[me]}})}:function(Ce,Te,me,ve){void 0===ve&&(ve=me),Ce[ve]=Te[me]};function P(Ce,Te){for(var me in Ce)"default"!==me&&!Object.prototype.hasOwnProperty.call(Te,me)&&A(Te,Ce,me)}function B(Ce){var Te="function"==typeof Symbol&&Symbol.iterator,me=Te&&Ce[Te],ve=0;if(me)return me.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&ve>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[ve++],done:!Ce}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(Ce,Te){var me="function"==typeof Symbol&&Ce[Symbol.iterator];if(!me)return Ce;var Ze,ot,ve=me.call(Ce),Be=[];try{for(;(void 0===Te||Te-- >0)&&!(Ze=ve.next()).done;)Be.push(Ze.value)}catch(Lt){ot={error:Lt}}finally{try{Ze&&!Ze.done&&(me=ve.return)&&me.call(ve)}finally{if(ot)throw ot.error}}return Be}function te(){for(var Ce=[],Te=0;Te<arguments.length;Te++)Ce=Ce.concat(ne(arguments[Te]));return Ce}function se(){for(var Ce=0,Te=0,me=arguments.length;Te<me;Te++)Ce+=arguments[Te].length;var ve=Array(Ce),Ze=0;for(Te=0;Te<me;Te++)for(var Be=arguments[Te],ot=0,Lt=Be.length;ot<Lt;ot++,Ze++)ve[Ze]=Be[ot];return ve}function de(Ce,Te,me){if(me||2===arguments.length)for(var Be,ve=0,Ze=Te.length;ve<Ze;ve++)(Be||!(ve in Te))&&(Be||(Be=Array.prototype.slice.call(Te,0,ve)),Be[ve]=Te[ve]);return Ce.concat(Be||Te)}function ae(Ce){return this instanceof ae?(this.v=Ce,this):new ae(Ce)}function Me(Ce,Te,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,ve=me.apply(Ce,Te||[]),Be=[];return Ze={},ot("next"),ot("throw"),ot("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function ot(sn){ve[sn]&&(Ze[sn]=function(rt){return new Promise(function(at,Vt){Be.push([sn,rt,at,Vt])>1||Lt(sn,rt)})})}function Lt(sn,rt){try{!function(sn){sn.value instanceof ae?Promise.resolve(sn.value.v).then(wt,tn):Et(Be[0][2],sn)}(ve[sn](rt))}catch(at){Et(Be[0][3],at)}}function wt(sn){Lt("next",sn)}function tn(sn){Lt("throw",sn)}function Et(sn,rt){sn(rt),Be.shift(),Be.length&&Lt(Be[0][0],Be[0][1])}}function xe(Ce){var Te,me;return Te={},ve("next"),ve("throw",function(Ze){throw Ze}),ve("return"),Te[Symbol.iterator]=function(){return this},Te;function ve(Ze,Be){Te[Ze]=Ce[Ze]?function(ot){return(me=!me)?{value:ae(Ce[Ze](ot)),done:"return"===Ze}:Be?Be(ot):ot}:Be}}function we(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Te=Ce[Symbol.asyncIterator];return Te?Te.call(Ce):(Ce=B(Ce),me={},ve("next"),ve("throw"),ve("return"),me[Symbol.asyncIterator]=function(){return this},me);function ve(Be){me[Be]=Ce[Be]&&function(ot){return new Promise(function(Lt,Jt){!function(Be,ot,Lt,Jt){Promise.resolve(Jt).then(function(wt){Be({value:wt,done:Lt})},ot)}(Lt,Jt,(ot=Ce[Be](ot)).done,ot.value)})}}}function ke(Ce,Te){return Object.defineProperty?Object.defineProperty(Ce,"raw",{value:Te}):Ce.raw=Te,Ce}var fe=Object.create?function(Ce,Te){Object.defineProperty(Ce,"default",{enumerable:!0,value:Te})}:function(Ce,Te){Ce.default=Te};function pe(Ce){if(Ce&&Ce.__esModule)return Ce;var Te={};if(null!=Ce)for(var me in Ce)"default"!==me&&Object.prototype.hasOwnProperty.call(Ce,me)&&A(Te,Ce,me);return fe(Te,Ce),Te}function ie(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}function ee(Ce,Te,me,ve){if("a"===me&&!ve)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Te?Ce!==Te||!ve:!Te.has(Ce))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===me?ve:"a"===me?ve.call(Ce):ve?ve.value:Te.get(Ce)}function ye(Ce,Te,me,ve,Ze){if("m"===ve)throw new TypeError("Private method is not writable");if("a"===ve&&!Ze)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Te?Ce!==Te||!Ze:!Te.has(Ce))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ve?Ze.call(Ce,me):Ze?Ze.value=me:Te.set(Ce,me),me}},88638:(F,U,_)=>{"use strict";_.d(U,{l3:()=>t,_j:()=>E,LC:()=>o,ZN:()=>Me,jt:()=>n,pV:()=>ne,F4:()=>A,IO:()=>se,vP:()=>f,SB:()=>M,oB:()=>y,eR:()=>P,X$:()=>e,ZE:()=>xe,k1:()=>we});class E{}class o{}const t="*";function e(ke,fe){return{type:7,name:ke,definitions:fe,options:{}}}function n(ke,fe=null){return{type:4,styles:fe,timings:ke}}function f(ke,fe=null){return{type:2,steps:ke,options:fe}}function y(ke){return{type:6,styles:ke,offset:null}}function M(ke,fe,pe){return{type:0,name:ke,styles:fe,options:pe}}function A(ke){return{type:5,steps:ke}}function P(ke,fe,pe=null){return{type:1,expr:ke,animation:fe,options:pe}}function ne(ke=null){return{type:9,options:ke}}function se(ke,fe,pe=null){return{type:11,selector:ke,animation:fe,options:pe}}function ae(ke){Promise.resolve(null).then(ke)}class Me{constructor(fe=0,pe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=fe+pe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}onStart(fe){this._onStartFns.push(fe)}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ae(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fe=>fe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(fe){this._position=this.totalTime?fe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(fe){const pe="start"==fe?this._onStartFns:this._onDoneFns;pe.forEach(ie=>ie()),pe.length=0}}class xe{constructor(fe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=fe;let pe=0,ie=0,ee=0;const ye=this.players.length;0==ye?ae(()=>this._onFinish()):this.players.forEach(Ce=>{Ce.onDone(()=>{++pe==ye&&this._onFinish()}),Ce.onDestroy(()=>{++ie==ye&&this._onDestroy()}),Ce.onStart(()=>{++ee==ye&&this._onStart()})}),this.totalTime=this.players.reduce((Ce,Te)=>Math.max(Ce,Te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}init(){this.players.forEach(fe=>fe.init())}onStart(fe){this._onStartFns.push(fe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fe=>fe()),this._onStartFns=[])}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(fe=>fe.play())}pause(){this.players.forEach(fe=>fe.pause())}restart(){this.players.forEach(fe=>fe.restart())}finish(){this._onFinish(),this.players.forEach(fe=>fe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(fe=>fe.destroy()),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this.players.forEach(fe=>fe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(fe){const pe=fe*this.totalTime;this.players.forEach(ie=>{const ee=ie.totalTime?Math.min(1,pe/ie.totalTime):1;ie.setPosition(ee)})}getPosition(){const fe=this.players.reduce((pe,ie)=>null===pe||ie.totalTime>pe.totalTime?ie:pe,null);return null!=fe?fe.getPosition():0}beforeDestroy(){this.players.forEach(fe=>{fe.beforeDestroy&&fe.beforeDestroy()})}triggerCallback(fe){const pe="start"==fe?this._onStartFns:this._onDoneFns;pe.forEach(ie=>ie()),pe.length=0}}const we="!"},72882:(F,U,_)=>{"use strict";_.d(U,{rt:()=>At,s1:()=>ot,$s:()=>me,Qr:()=>tt,kH:()=>qn,mK:()=>Fe,Em:()=>Lt,tE:()=>Cn,qV:()=>Bt,qm:()=>Dt,Kd:()=>on,X6:()=>ze,yG:()=>Qe});var E=_(16274),o=_(42741),t=_(6006),e=_(39734),n=_(29923),s=_(267),f=_(15911),y=_(96286),M=_(89006),A=_(63305),P=_(88561),B=_(59917),ne=_(8055),te=_(57689),se=_(27194),de=_(99957),ae=_(66899),Me=_(34529);function fe(Oe,je){return(Oe.getAttribute(je)||"").match(/\S+/g)||[]}const pe="cdk-describedby-message-container",ie="cdk-describedby-message",ee="cdk-describedby-host";let ye=0;const Ce=new Map;let Te=null,me=(()=>{class Oe{constructor(We){this._document=We}describe(We,bt,Qt){if(!this._canBeDescribed(We,bt))return;const Nn=ve(bt,Qt);"string"!=typeof bt?(Ze(bt),Ce.set(Nn,{messageElement:bt,referenceCount:0})):Ce.has(Nn)||this._createMessageElement(bt,Qt),this._isElementDescribedByMessage(We,Nn)||this._addMessageReference(We,Nn)}removeDescription(We,bt,Qt){if(!bt||!this._isElementNode(We))return;const Nn=ve(bt,Qt);if(this._isElementDescribedByMessage(We,Nn)&&this._removeMessageReference(We,Nn),"string"==typeof bt){const An=Ce.get(Nn);An&&0===An.referenceCount&&this._deleteMessageElement(Nn)}Te&&0===Te.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const We=this._document.querySelectorAll(`[${ee}]`);for(let bt=0;bt<We.length;bt++)this._removeCdkDescribedByReferenceIds(We[bt]),We[bt].removeAttribute(ee);Te&&this._deleteMessagesContainer(),Ce.clear()}_createMessageElement(We,bt){const Qt=this._document.createElement("div");Ze(Qt),Qt.textContent=We,bt&&Qt.setAttribute("role",bt),this._createMessagesContainer(),Te.appendChild(Qt),Ce.set(ve(We,bt),{messageElement:Qt,referenceCount:0})}_deleteMessageElement(We){const bt=Ce.get(We),Qt=bt&&bt.messageElement;Te&&Qt&&Te.removeChild(Qt),Ce.delete(We)}_createMessagesContainer(){if(!Te){const We=this._document.getElementById(pe);We&&We.parentNode&&We.parentNode.removeChild(We),Te=this._document.createElement("div"),Te.id=pe,Te.style.visibility="hidden",Te.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Te)}}_deleteMessagesContainer(){Te&&Te.parentNode&&(Te.parentNode.removeChild(Te),Te=null)}_removeCdkDescribedByReferenceIds(We){const bt=fe(We,"aria-describedby").filter(Qt=>0!=Qt.indexOf(ie));We.setAttribute("aria-describedby",bt.join(" "))}_addMessageReference(We,bt){const Qt=Ce.get(bt);(function(Oe,je,We){const bt=fe(Oe,je);bt.some(Qt=>Qt.trim()==We.trim())||(bt.push(We.trim()),Oe.setAttribute(je,bt.join(" ")))})(We,"aria-describedby",Qt.messageElement.id),We.setAttribute(ee,""),Qt.referenceCount++}_removeMessageReference(We,bt){const Qt=Ce.get(bt);Qt.referenceCount--,function(Oe,je,We){const Qt=fe(Oe,je).filter(Nn=>Nn!=We.trim());Qt.length?Oe.setAttribute(je,Qt.join(" ")):Oe.removeAttribute(je)}(We,"aria-describedby",Qt.messageElement.id),We.removeAttribute(ee)}_isElementDescribedByMessage(We,bt){const Qt=fe(We,"aria-describedby"),Nn=Ce.get(bt),An=Nn&&Nn.messageElement.id;return!!An&&-1!=Qt.indexOf(An)}_canBeDescribed(We,bt){if(!this._isElementNode(We))return!1;if(bt&&"object"==typeof bt)return!0;const Qt=null==bt?"":`${bt}`.trim(),Nn=We.getAttribute("aria-label");return!(!Qt||Nn&&Nn.trim()===Qt)}_isElementNode(We){return We.nodeType===this._document.ELEMENT_NODE}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.LFG(E.K0))},Oe.\u0275prov=o.Yz7({factory:function(){return new Oe(o.LFG(E.K0))},token:Oe,providedIn:"root"}),Oe})();function ve(Oe,je){return"string"==typeof Oe?`${je||""}/${Oe}`:Oe}function Ze(Oe){Oe.id||(Oe.id=`${ie}-${ye++}`)}class Be{constructor(je){this._items=je,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new t.xQ,this._typeaheadSubscription=e.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=We=>We.disabled,this._pressedLetters=[],this.tabOut=new t.xQ,this.change=new t.xQ,je instanceof o.n_E&&je.changes.subscribe(We=>{if(this._activeItem){const Qt=We.toArray().indexOf(this._activeItem);Qt>-1&&Qt!==this._activeItemIndex&&(this._activeItemIndex=Qt)}})}skipPredicate(je){return this._skipPredicateFn=je,this}withWrap(je=!0){return this._wrap=je,this}withVerticalOrientation(je=!0){return this._vertical=je,this}withHorizontalOrientation(je){return this._horizontal=je,this}withAllowedModifierKeys(je){return this._allowedModifierKeys=je,this}withTypeAhead(je=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,y.b)(We=>this._pressedLetters.push(We)),(0,M.b)(je),(0,A.h)(()=>this._pressedLetters.length>0),(0,P.U)(()=>this._pressedLetters.join(""))).subscribe(We=>{const bt=this._getItemsArray();for(let Qt=1;Qt<bt.length+1;Qt++){const Nn=(this._activeItemIndex+Qt)%bt.length,An=bt[Nn];if(!this._skipPredicateFn(An)&&0===An.getLabel().toUpperCase().trim().indexOf(We)){this.setActiveItem(Nn);break}}this._pressedLetters=[]}),this}withHomeAndEnd(je=!0){return this._homeAndEnd=je,this}setActiveItem(je){const We=this._activeItem;this.updateActiveItem(je),this._activeItem!==We&&this.change.next(this._activeItemIndex)}onKeydown(je){const We=je.keyCode,Qt=["altKey","ctrlKey","metaKey","shiftKey"].every(Nn=>!je[Nn]||this._allowedModifierKeys.indexOf(Nn)>-1);switch(We){case f.Mf:return void this.tabOut.next();case f.JH:if(this._vertical&&Qt){this.setNextItemActive();break}return;case f.LH:if(this._vertical&&Qt){this.setPreviousItemActive();break}return;case f.SV:if(this._horizontal&&Qt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case f.oh:if(this._horizontal&&Qt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case f.Sd:if(this._homeAndEnd&&Qt){this.setFirstItemActive();break}return;case f.uR:if(this._homeAndEnd&&Qt){this.setLastItemActive();break}return;default:return void((Qt||(0,f.Vb)(je,"shiftKey"))&&(je.key&&1===je.key.length?this._letterKeyStream.next(je.key.toLocaleUpperCase()):(We>=f.A&&We<=f.Z||We>=f.xE&&We<=f.aO)&&this._letterKeyStream.next(String.fromCharCode(We))))}this._pressedLetters=[],je.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(je){const We=this._getItemsArray(),bt="number"==typeof je?je:We.indexOf(je),Qt=We[bt];this._activeItem=null==Qt?null:Qt,this._activeItemIndex=bt}_setActiveItemByDelta(je){this._wrap?this._setActiveInWrapMode(je):this._setActiveInDefaultMode(je)}_setActiveInWrapMode(je){const We=this._getItemsArray();for(let bt=1;bt<=We.length;bt++){const Qt=(this._activeItemIndex+je*bt+We.length)%We.length;if(!this._skipPredicateFn(We[Qt]))return void this.setActiveItem(Qt)}}_setActiveInDefaultMode(je){this._setActiveItemByIndex(this._activeItemIndex+je,je)}_setActiveItemByIndex(je,We){const bt=this._getItemsArray();if(bt[je]){for(;this._skipPredicateFn(bt[je]);)if(!bt[je+=We])return;this.setActiveItem(je)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class ot extends Be{setActiveItem(je){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(je),this.activeItem&&this.activeItem.setActiveStyles()}}class Lt extends Be{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(je){return this._origin=je,this}setActiveItem(je){super.setActiveItem(je),this.activeItem&&this.activeItem.focus(this._origin)}}let wt=(()=>{class Oe{constructor(We){this._platform=We}isDisabled(We){return We.hasAttribute("disabled")}isVisible(We){return function(Oe){return!!(Oe.offsetWidth||Oe.offsetHeight||"function"==typeof Oe.getClientRects&&Oe.getClientRects().length)}(We)&&"visible"===getComputedStyle(We).visibility}isTabbable(We){if(!this._platform.isBrowser)return!1;const bt=function(Oe){try{return Oe.frameElement}catch(je){return null}}(function(Oe){return Oe.ownerDocument&&Oe.ownerDocument.defaultView||window}(We));if(bt&&(-1===xn(bt)||!this.isVisible(bt)))return!1;let Qt=We.nodeName.toLowerCase(),Nn=xn(We);return We.hasAttribute("contenteditable")?-1!==Nn:!("iframe"===Qt||"object"===Qt||this._platform.WEBKIT&&this._platform.IOS&&!function(Oe){let je=Oe.nodeName.toLowerCase(),We="input"===je&&Oe.type;return"text"===We||"password"===We||"select"===je||"textarea"===je}(We))&&("audio"===Qt?!!We.hasAttribute("controls")&&-1!==Nn:"video"===Qt?-1!==Nn&&(null!==Nn||this._platform.FIREFOX||We.hasAttribute("controls")):We.tabIndex>=0)}isFocusable(We,bt){return function(Oe){return!function(Oe){return function(Oe){return"input"==Oe.nodeName.toLowerCase()}(Oe)&&"hidden"==Oe.type}(Oe)&&(function(Oe){let je=Oe.nodeName.toLowerCase();return"input"===je||"select"===je||"button"===je||"textarea"===je}(Oe)||function(Oe){return function(Oe){return"a"==Oe.nodeName.toLowerCase()}(Oe)&&Oe.hasAttribute("href")}(Oe)||Oe.hasAttribute("contenteditable")||$t(Oe))}(We)&&!this.isDisabled(We)&&((null==bt?void 0:bt.ignoreVisibility)||this.isVisible(We))}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.LFG(ae.t4))},Oe.\u0275prov=o.Yz7({factory:function(){return new Oe(o.LFG(ae.t4))},token:Oe,providedIn:"root"}),Oe})();function $t(Oe){if(!Oe.hasAttribute("tabindex")||void 0===Oe.tabIndex)return!1;let je=Oe.getAttribute("tabindex");return"-32768"!=je&&!(!je||isNaN(parseInt(je,10)))}function xn(Oe){if(!$t(Oe))return null;const je=parseInt(Oe.getAttribute("tabindex")||"",10);return isNaN(je)?-1:je}class It{constructor(je,We,bt,Qt,Nn=!1){this._element=je,this._checker=We,this._ngZone=bt,this._document=Qt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Nn||this.attachAnchors()}get enabled(){return this._enabled}set enabled(je){this._enabled=je,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(je,this._startAnchor),this._toggleAnchorTabIndex(je,this._endAnchor))}destroy(){const je=this._startAnchor,We=this._endAnchor;je&&(je.removeEventListener("focus",this.startAnchorListener),je.parentNode&&je.parentNode.removeChild(je)),We&&(We.removeEventListener("focus",this.endAnchorListener),We.parentNode&&We.parentNode.removeChild(We)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(je){return new Promise(We=>{this._executeOnStable(()=>We(this.focusInitialElement(je)))})}focusFirstTabbableElementWhenReady(je){return new Promise(We=>{this._executeOnStable(()=>We(this.focusFirstTabbableElement(je)))})}focusLastTabbableElementWhenReady(je){return new Promise(We=>{this._executeOnStable(()=>We(this.focusLastTabbableElement(je)))})}_getRegionBoundary(je){let We=this._element.querySelectorAll(`[cdk-focus-region-${je}], [cdkFocusRegion${je}], [cdk-focus-${je}]`);for(let bt=0;bt<We.length;bt++)We[bt].hasAttribute(`cdk-focus-${je}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${je}', use 'cdkFocusRegion${je}' instead. The deprecated attribute will be removed in 8.0.0.`,We[bt]):We[bt].hasAttribute(`cdk-focus-region-${je}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${je}', use 'cdkFocusRegion${je}' instead. The deprecated attribute will be removed in 8.0.0.`,We[bt]);return"start"==je?We.length?We[0]:this._getFirstTabbableElement(this._element):We.length?We[We.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(je){const We=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(We){if(We.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",We),!this._checker.isFocusable(We)){const bt=this._getFirstTabbableElement(We);return null==bt||bt.focus(je),!!bt}return We.focus(je),!0}return this.focusFirstTabbableElement(je)}focusFirstTabbableElement(je){const We=this._getRegionBoundary("start");return We&&We.focus(je),!!We}focusLastTabbableElement(je){const We=this._getRegionBoundary("end");return We&&We.focus(je),!!We}hasAttached(){return this._hasAttached}_getFirstTabbableElement(je){if(this._checker.isFocusable(je)&&this._checker.isTabbable(je))return je;let We=je.children||je.childNodes;for(let bt=0;bt<We.length;bt++){let Qt=We[bt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(We[bt]):null;if(Qt)return Qt}return null}_getLastTabbableElement(je){if(this._checker.isFocusable(je)&&this._checker.isTabbable(je))return je;let We=je.children||je.childNodes;for(let bt=We.length-1;bt>=0;bt--){let Qt=We[bt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(We[bt]):null;if(Qt)return Qt}return null}_createAnchor(){const je=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,je),je.classList.add("cdk-visually-hidden"),je.classList.add("cdk-focus-trap-anchor"),je.setAttribute("aria-hidden","true"),je}_toggleAnchorTabIndex(je,We){je?We.setAttribute("tabindex","0"):We.removeAttribute("tabindex")}toggleAnchors(je){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(je,this._startAnchor),this._toggleAnchorTabIndex(je,this._endAnchor))}_executeOnStable(je){this._ngZone.isStable?je():this._ngZone.onStable.pipe((0,B.q)(1)).subscribe(je)}}let Bt=(()=>{class Oe{constructor(We,bt,Qt){this._checker=We,this._ngZone=bt,this._document=Qt}create(We,bt=!1){return new It(We,this._checker,this._ngZone,this._document,bt)}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.LFG(wt),o.LFG(o.R0b),o.LFG(E.K0))},Oe.\u0275prov=o.Yz7({factory:function(){return new Oe(o.LFG(wt),o.LFG(o.R0b),o.LFG(E.K0))},token:Oe,providedIn:"root"}),Oe})(),Fe=(()=>{class Oe{constructor(We,bt,Qt){this._elementRef=We,this._focusTrapFactory=bt,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(We){this.focusTrap.enabled=(0,de.Ig)(We)}get autoCapture(){return this._autoCapture}set autoCapture(We){this._autoCapture=(0,de.Ig)(We)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(We){const bt=We.autoCapture;bt&&!bt.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,ae.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.Y36(o.SBq),o.Y36(Bt),o.Y36(E.K0))},Oe.\u0275dir=o.lG2({type:Oe,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),Oe})();function ze(Oe){return 0===Oe.offsetX&&0===Oe.offsetY}function Qe(Oe){const je=Oe.touches&&Oe.touches[0]||Oe.changedTouches&&Oe.changedTouches[0];return!(!je||-1!==je.identifier||null!=je.radiusX&&1!==je.radiusX||null!=je.radiusY&&1!==je.radiusY)}"undefined"!=typeof Element&&Element;const Ct=new o.OlP("cdk-input-modality-detector-options"),yt={ignoreKeys:[f.zL,f.jx,f.b2,f.MW,f.JU]},wn=(0,ae.i$)({passive:!0,capture:!0});let En=(()=>{class Oe{constructor(We,bt,Qt,Nn){this._platform=We,this._mostRecentTarget=null,this._modality=new n.X(null),this._lastTouchMs=0,this._onKeydown=An=>{var Fi,Ki;(null===(Ki=null===(Fi=this._options)||void 0===Fi?void 0:Fi.ignoreKeys)||void 0===Ki?void 0:Ki.some(tr=>tr===An.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,ae.sA)(An))},this._onMousedown=An=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ze(An)?"keyboard":"mouse"),this._mostRecentTarget=(0,ae.sA)(An))},this._onTouchstart=An=>{Qe(An)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,ae.sA)(An))},this._options=Object.assign(Object.assign({},yt),Nn),this.modalityDetected=this._modality.pipe((0,ne.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,te.x)()),We.isBrowser&&bt.runOutsideAngular(()=>{Qt.addEventListener("keydown",this._onKeydown,wn),Qt.addEventListener("mousedown",this._onMousedown,wn),Qt.addEventListener("touchstart",this._onTouchstart,wn)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,wn),document.removeEventListener("mousedown",this._onMousedown,wn),document.removeEventListener("touchstart",this._onTouchstart,wn))}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.LFG(ae.t4),o.LFG(o.R0b),o.LFG(E.K0),o.LFG(Ct,8))},Oe.\u0275prov=o.Yz7({factory:function(){return new Oe(o.LFG(ae.t4),o.LFG(o.R0b),o.LFG(E.K0),o.LFG(Ct,8))},token:Oe,providedIn:"root"}),Oe})();const bn=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ut=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let on=(()=>{class Oe{constructor(We,bt,Qt,Nn){this._ngZone=bt,this._defaultOptions=Nn,this._document=Qt,this._liveElement=We||this._createLiveElement()}announce(We,...bt){const Qt=this._defaultOptions;let Nn,An;return 1===bt.length&&"number"==typeof bt[0]?An=bt[0]:[Nn,An]=bt,this.clear(),clearTimeout(this._previousTimeout),Nn||(Nn=Qt&&Qt.politeness?Qt.politeness:"polite"),null==An&&Qt&&(An=Qt.duration),this._liveElement.setAttribute("aria-live",Nn),this._ngZone.runOutsideAngular(()=>new Promise(Fi=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=We,Fi(),"number"==typeof An&&(this._previousTimeout=setTimeout(()=>this.clear(),An))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const We="cdk-live-announcer-element",bt=this._document.getElementsByClassName(We),Qt=this._document.createElement("div");for(let Nn=0;Nn<bt.length;Nn++)bt[Nn].parentNode.removeChild(bt[Nn]);return Qt.classList.add(We),Qt.classList.add("cdk-visually-hidden"),Qt.setAttribute("aria-atomic","true"),Qt.setAttribute("aria-live","polite"),this._document.body.appendChild(Qt),Qt}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.LFG(bn,8),o.LFG(o.R0b),o.LFG(E.K0),o.LFG(Ut,8))},Oe.\u0275prov=o.Yz7({factory:function(){return new Oe(o.LFG(bn,8),o.LFG(o.R0b),o.LFG(E.K0),o.LFG(Ut,8))},token:Oe,providedIn:"root"}),Oe})(),tt=(()=>{class Oe{constructor(We,bt,Qt,Nn){this._elementRef=We,this._liveAnnouncer=bt,this._contentObserver=Qt,this._ngZone=Nn,this._politeness="polite"}get politeness(){return this._politeness}set politeness(We){this._politeness="off"===We||"assertive"===We?We:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const bt=this._elementRef.nativeElement.textContent;bt!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(bt,this._politeness),this._previousAnnouncedText=bt)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.Y36(o.SBq),o.Y36(on),o.Y36(Me.yq),o.Y36(o.R0b))},Oe.\u0275dir=o.lG2({type:Oe,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),Oe})();const xt=new o.OlP("cdk-focus-monitor-default-options"),rn=(0,ae.i$)({passive:!0,capture:!0});let Cn=(()=>{class Oe{constructor(We,bt,Qt,Nn,An){this._ngZone=We,this._platform=bt,this._inputModalityDetector=Qt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new t.xQ,this._rootNodeFocusAndBlurListener=Fi=>{const Ki=(0,ae.sA)(Fi),tr="focus"===Fi.type?this._onFocus:this._onBlur;for(let Bi=Ki;Bi;Bi=Bi.parentElement)tr.call(this,Fi,Bi)},this._document=Nn,this._detectionMode=(null==An?void 0:An.detectionMode)||0}monitor(We,bt=!1){const Qt=(0,de.fI)(We);if(!this._platform.isBrowser||1!==Qt.nodeType)return(0,s.of)(null);const Nn=(0,ae.kV)(Qt)||this._getDocument(),An=this._elementInfo.get(Qt);if(An)return bt&&(An.checkChildren=!0),An.subject;const Fi={checkChildren:bt,subject:new t.xQ,rootNode:Nn};return this._elementInfo.set(Qt,Fi),this._registerGlobalListeners(Fi),Fi.subject}stopMonitoring(We){const bt=(0,de.fI)(We),Qt=this._elementInfo.get(bt);Qt&&(Qt.subject.complete(),this._setClasses(bt),this._elementInfo.delete(bt),this._removeGlobalListeners(Qt))}focusVia(We,bt,Qt){const Nn=(0,de.fI)(We);Nn===this._getDocument().activeElement?this._getClosestElementsInfo(Nn).forEach(([Fi,Ki])=>this._originChanged(Fi,bt,Ki)):(this._setOrigin(bt),"function"==typeof Nn.focus&&Nn.focus(Qt))}ngOnDestroy(){this._elementInfo.forEach((We,bt)=>this.stopMonitoring(bt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(We,bt,Qt){Qt?We.classList.add(bt):We.classList.remove(bt)}_getFocusOrigin(We){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(We)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(We){return 1===this._detectionMode||!!(null==We?void 0:We.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(We,bt){this._toggleClass(We,"cdk-focused",!!bt),this._toggleClass(We,"cdk-touch-focused","touch"===bt),this._toggleClass(We,"cdk-keyboard-focused","keyboard"===bt),this._toggleClass(We,"cdk-mouse-focused","mouse"===bt),this._toggleClass(We,"cdk-program-focused","program"===bt)}_setOrigin(We,bt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=We,this._originFromTouchInteraction="touch"===We&&bt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(We,bt){const Qt=this._elementInfo.get(bt),Nn=(0,ae.sA)(We);!Qt||!Qt.checkChildren&&bt!==Nn||this._originChanged(bt,this._getFocusOrigin(Nn),Qt)}_onBlur(We,bt){const Qt=this._elementInfo.get(bt);!Qt||Qt.checkChildren&&We.relatedTarget instanceof Node&&bt.contains(We.relatedTarget)||(this._setClasses(bt),this._emitOrigin(Qt.subject,null))}_emitOrigin(We,bt){this._ngZone.run(()=>We.next(bt))}_registerGlobalListeners(We){if(!this._platform.isBrowser)return;const bt=We.rootNode,Qt=this._rootNodeFocusListenerCount.get(bt)||0;Qt||this._ngZone.runOutsideAngular(()=>{bt.addEventListener("focus",this._rootNodeFocusAndBlurListener,rn),bt.addEventListener("blur",this._rootNodeFocusAndBlurListener,rn)}),this._rootNodeFocusListenerCount.set(bt,Qt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,se.R)(this._stopInputModalityDetector)).subscribe(Nn=>{this._setOrigin(Nn,!0)}))}_removeGlobalListeners(We){const bt=We.rootNode;if(this._rootNodeFocusListenerCount.has(bt)){const Qt=this._rootNodeFocusListenerCount.get(bt);Qt>1?this._rootNodeFocusListenerCount.set(bt,Qt-1):(bt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rn),bt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rn),this._rootNodeFocusListenerCount.delete(bt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(We,bt,Qt){this._setClasses(We,bt),this._emitOrigin(Qt.subject,bt),this._lastFocusOrigin=bt}_getClosestElementsInfo(We){const bt=[];return this._elementInfo.forEach((Qt,Nn)=>{(Nn===We||Qt.checkChildren&&Nn.contains(We))&&bt.push([Nn,Qt])}),bt}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.LFG(o.R0b),o.LFG(ae.t4),o.LFG(En),o.LFG(E.K0,8),o.LFG(xt,8))},Oe.\u0275prov=o.Yz7({factory:function(){return new Oe(o.LFG(o.R0b),o.LFG(ae.t4),o.LFG(En),o.LFG(E.K0,8),o.LFG(xt,8))},token:Oe,providedIn:"root"}),Oe})(),qn=(()=>{class Oe{constructor(We,bt){this._elementRef=We,this._focusMonitor=bt,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const We=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(We,1===We.nodeType&&We.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(bt=>this.cdkFocusChange.emit(bt))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.Y36(o.SBq),o.Y36(Cn))},Oe.\u0275dir=o.lG2({type:Oe,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),Oe})();const zn="cdk-high-contrast-black-on-white",Vn="cdk-high-contrast-white-on-black",jn="cdk-high-contrast-active";let Dt=(()=>{class Oe{constructor(We,bt){this._platform=We,this._document=bt}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const We=this._document.createElement("div");We.style.backgroundColor="rgb(1,2,3)",We.style.position="absolute",this._document.body.appendChild(We);const bt=this._document.defaultView||window,Qt=bt&&bt.getComputedStyle?bt.getComputedStyle(We):null,Nn=(Qt&&Qt.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(We),Nn){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const We=this._document.body.classList;We.remove(jn),We.remove(zn),We.remove(Vn),this._hasCheckedHighContrastMode=!0;const bt=this.getHighContrastMode();1===bt?(We.add(jn),We.add(zn)):2===bt&&(We.add(jn),We.add(Vn))}}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.LFG(ae.t4),o.LFG(E.K0))},Oe.\u0275prov=o.Yz7({factory:function(){return new Oe(o.LFG(ae.t4),o.LFG(E.K0))},token:Oe,providedIn:"root"}),Oe})(),At=(()=>{class Oe{constructor(We){We._applyBodyHighContrastModeCssClasses()}}return Oe.\u0275fac=function(We){return new(We||Oe)(o.LFG(Dt))},Oe.\u0275mod=o.oAB({type:Oe}),Oe.\u0275inj=o.cJS({imports:[[ae.ud,Me.Q8]]}),Oe})()},12281:(F,U,_)=>{"use strict";_.d(U,{vT:()=>f,Is:()=>n});var E=_(42741),o=_(16274);const t=new E.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,E.f3M)(o.K0)}});let n=(()=>{class y{constructor(A){if(this.value="ltr",this.change=new E.vpe,A){const B=A.documentElement?A.documentElement.dir:null,ne=(A.body?A.body.dir:null)||B;this.value="ltr"===ne||"rtl"===ne?ne:"ltr"}}ngOnDestroy(){this.change.complete()}}return y.\u0275fac=function(A){return new(A||y)(E.LFG(t,8))},y.\u0275prov=E.Yz7({factory:function(){return new y(E.LFG(t,8))},token:y,providedIn:"root"}),y})(),f=(()=>{class y{}return y.\u0275fac=function(A){return new(A||y)},y.\u0275mod=E.oAB({type:y}),y.\u0275inj=E.cJS({}),y})()},98950:(F,U,_)=>{"use strict";_.d(U,{P3:()=>f,Ov:()=>A,A8:()=>B,yy:()=>y,eX:()=>M,k:()=>ne,Z9:()=>s});var E=_(15648),o=_(267),t=_(6006),e=_(42741);function s(te){return te&&"function"==typeof te.connect}class f extends class{}{constructor(se){super(),this._data=se}connect(){return(0,E.b)(this._data)?this._data:(0,o.of)(this._data)}disconnect(){}}class y{applyChanges(se,de,ae,Me,xe){se.forEachOperation((we,ke,fe)=>{let pe,ie;if(null==we.previousIndex){const ee=ae(we,ke,fe);pe=de.createEmbeddedView(ee.templateRef,ee.context,ee.index),ie=1}else null==fe?(de.remove(ke),ie=3):(pe=de.get(ke),de.move(pe,fe),ie=2);xe&&xe({context:null==pe?void 0:pe.context,operation:ie,record:we})})}detach(){}}class M{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(se,de,ae,Me,xe){se.forEachOperation((we,ke,fe)=>{let pe,ie;null==we.previousIndex?(pe=this._insertView(()=>ae(we,ke,fe),fe,de,Me(we)),ie=pe?1:0):null==fe?(this._detachAndCacheView(ke,de),ie=3):(pe=this._moveView(ke,fe,de,Me(we)),ie=2),xe&&xe({context:null==pe?void 0:pe.context,operation:ie,record:we})})}detach(){for(const se of this._viewCache)se.destroy();this._viewCache=[]}_insertView(se,de,ae,Me){const xe=this._insertViewFromCache(de,ae);if(xe)return void(xe.context.$implicit=Me);const we=se();return ae.createEmbeddedView(we.templateRef,we.context,we.index)}_detachAndCacheView(se,de){const ae=de.detach(se);this._maybeCacheView(ae,de)}_moveView(se,de,ae,Me){const xe=ae.get(se);return ae.move(xe,de),xe.context.$implicit=Me,xe}_maybeCacheView(se,de){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(se);else{const ae=de.indexOf(se);-1===ae?se.destroy():de.remove(ae)}}_insertViewFromCache(se,de){const ae=this._viewCache.pop();return ae&&de.insert(ae,se),ae||null}}class A{constructor(se=!1,de,ae=!0){this._multiple=se,this._emitChanges=ae,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.xQ,de&&de.length&&(se?de.forEach(Me=>this._markSelected(Me)):this._markSelected(de[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...se){this._verifyValueAssignment(se),se.forEach(de=>this._markSelected(de)),this._emitChangeEvent()}deselect(...se){this._verifyValueAssignment(se),se.forEach(de=>this._unmarkSelected(de)),this._emitChangeEvent()}toggle(se){this.isSelected(se)?this.deselect(se):this.select(se)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(se){return this._selection.has(se)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(se){this._multiple&&this.selected&&this._selected.sort(se)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(se){this.isSelected(se)||(this._multiple||this._unmarkAll(),this._selection.add(se),this._emitChanges&&this._selectedToEmit.push(se))}_unmarkSelected(se){this.isSelected(se)&&(this._selection.delete(se),this._emitChanges&&this._deselectedToEmit.push(se))}_unmarkAll(){this.isEmpty()||this._selection.forEach(se=>this._unmarkSelected(se))}_verifyValueAssignment(se){}}let B=(()=>{class te{constructor(){this._listeners=[]}notify(de,ae){for(let Me of this._listeners)Me(de,ae)}listen(de){return this._listeners.push(de),()=>{this._listeners=this._listeners.filter(ae=>de!==ae)}}ngOnDestroy(){this._listeners=[]}}return te.\u0275fac=function(de){return new(de||te)},te.\u0275prov=e.Yz7({factory:function(){return new te},token:te,providedIn:"root"}),te})();const ne=new e.OlP("_ViewRepeater")},15911:(F,U,_)=>{"use strict";_.d(U,{A:()=>sn,zL:()=>y,ZH:()=>o,jx:()=>f,yY:()=>ie,JH:()=>we,uR:()=>se,K5:()=>n,hY:()=>P,Sd:()=>de,oh:()=>ae,b2:()=>Uo,MW:()=>Zt,aO:()=>Lt,VM:()=>te,Ku:()=>ne,SV:()=>xe,JU:()=>s,L_:()=>B,Mf:()=>t,LH:()=>Me,Z:()=>yt,xE:()=>ee,Vb:()=>ho});const o=8,t=9,n=13,s=16,f=17,y=18,P=27,B=32,ne=33,te=34,se=35,de=36,ae=37,Me=38,xe=39,we=40,ie=46,ee=48,Lt=57,sn=65,yt=90,Zt=91,Uo=224;function ho(po,...di){return di.length?di.some(ko=>po[ko]):po.altKey||po.shiftKey||po.ctrlKey||po.metaKey}},52514:(F,U,_)=>{"use strict";_.d(U,{Yg:()=>we,u3:()=>fe});var E=_(42741),o=_(99957),t=_(6006),e=_(52032),n=_(38895),s=_(93948),f=_(59917),y=_(8055),M=_(89006),A=_(88561),P=_(63543),B=_(27194),ne=_(66899);const se=new Set;let de,ae=(()=>{class pe{constructor(ee){this._platform=ee,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xe}matchMedia(ee){return(this._platform.WEBKIT||this._platform.BLINK)&&function(pe){if(!se.has(pe))try{de||(de=document.createElement("style"),de.setAttribute("type","text/css"),document.head.appendChild(de)),de.sheet&&(de.sheet.insertRule(`@media ${pe} {body{ }}`,0),se.add(pe))}catch(ie){console.error(ie)}}(ee),this._matchMedia(ee)}}return pe.\u0275fac=function(ee){return new(ee||pe)(E.LFG(ne.t4))},pe.\u0275prov=E.Yz7({factory:function(){return new pe(E.LFG(ne.t4))},token:pe,providedIn:"root"}),pe})();function xe(pe){return{matches:"all"===pe||""===pe,media:pe,addListener:()=>{},removeListener:()=>{}}}let we=(()=>{class pe{constructor(ee,ye){this._mediaMatcher=ee,this._zone=ye,this._queries=new Map,this._destroySubject=new t.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ee){return ke((0,o.Eq)(ee)).some(Ce=>this._registerQuery(Ce).mql.matches)}observe(ee){const Ce=ke((0,o.Eq)(ee)).map(me=>this._registerQuery(me).observable);let Te=(0,e.aj)(Ce);return Te=(0,n.z)(Te.pipe((0,f.q)(1)),Te.pipe((0,y.T)(1),(0,M.b)(0))),Te.pipe((0,A.U)(me=>{const ve={matches:!1,breakpoints:{}};return me.forEach(({matches:Ze,query:Be})=>{ve.matches=ve.matches||Ze,ve.breakpoints[Be]=Ze}),ve}))}_registerQuery(ee){if(this._queries.has(ee))return this._queries.get(ee);const ye=this._mediaMatcher.matchMedia(ee),Te={observable:new s.y(me=>{const ve=Ze=>this._zone.run(()=>me.next(Ze));return ye.addListener(ve),()=>{ye.removeListener(ve)}}).pipe((0,P.O)(ye),(0,A.U)(({matches:me})=>({query:ee,matches:me})),(0,B.R)(this._destroySubject)),mql:ye};return this._queries.set(ee,Te),Te}}return pe.\u0275fac=function(ee){return new(ee||pe)(E.LFG(ae),E.LFG(E.R0b))},pe.\u0275prov=E.Yz7({factory:function(){return new pe(E.LFG(ae),E.LFG(E.R0b))},token:pe,providedIn:"root"}),pe})();function ke(pe){return pe.map(ie=>ie.split(",")).reduce((ie,ee)=>ie.concat(ee)).map(ie=>ie.trim())}const fe={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},34529:(F,U,_)=>{"use strict";_.d(U,{wD:()=>y,yq:()=>f,Q8:()=>M});var E=_(99957),o=_(42741),t=_(93948),e=_(6006),n=_(89006);let s=(()=>{class A{create(B){return"undefined"==typeof MutationObserver?null:new MutationObserver(B)}}return A.\u0275fac=function(B){return new(B||A)},A.\u0275prov=o.Yz7({factory:function(){return new A},token:A,providedIn:"root"}),A})(),f=(()=>{class A{constructor(B){this._mutationObserverFactory=B,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((B,ne)=>this._cleanupObserver(ne))}observe(B){const ne=(0,E.fI)(B);return new t.y(te=>{const de=this._observeElement(ne).subscribe(te);return()=>{de.unsubscribe(),this._unobserveElement(ne)}})}_observeElement(B){if(this._observedElements.has(B))this._observedElements.get(B).count++;else{const ne=new e.xQ,te=this._mutationObserverFactory.create(se=>ne.next(se));te&&te.observe(B,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(B,{observer:te,stream:ne,count:1})}return this._observedElements.get(B).stream}_unobserveElement(B){this._observedElements.has(B)&&(this._observedElements.get(B).count--,this._observedElements.get(B).count||this._cleanupObserver(B))}_cleanupObserver(B){if(this._observedElements.has(B)){const{observer:ne,stream:te}=this._observedElements.get(B);ne&&ne.disconnect(),te.complete(),this._observedElements.delete(B)}}}return A.\u0275fac=function(B){return new(B||A)(o.LFG(s))},A.\u0275prov=o.Yz7({factory:function(){return new A(o.LFG(s))},token:A,providedIn:"root"}),A})(),y=(()=>{class A{constructor(B,ne,te){this._contentObserver=B,this._elementRef=ne,this._ngZone=te,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(B){this._disabled=(0,E.Ig)(B),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(B){this._debounce=(0,E.su)(B),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const B=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?B.pipe((0,n.b)(this.debounce)):B).subscribe(this.event)})}_unsubscribe(){var B;null===(B=this._currentSubscription)||void 0===B||B.unsubscribe()}}return A.\u0275fac=function(B){return new(B||A)(o.Y36(f),o.Y36(o.SBq),o.Y36(o.R0b))},A.\u0275dir=o.lG2({type:A,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),A})(),M=(()=>{class A{}return A.\u0275fac=function(B){return new(B||A)},A.\u0275mod=o.oAB({type:A}),A.\u0275inj=o.cJS({providers:[s]}),A})()},68101:(F,U,_)=>{"use strict";_.d(U,{pI:()=>un,xu:()=>it,_G:()=>rt,aV:()=>It,X_:()=>Ce,Xj:()=>wt,U8:()=>mt});var E=_(54847),o=_(42741),t=_(66899),e=_(12281),n=_(16274),s=_(99957),f=_(62718),y=_(6006),M=_(39734),A=_(30636),P=_(28744);class ne{constructor(X,re){this.predicate=X,this.inclusive=re}call(X,re){return re.subscribe(new te(X,this.predicate,this.inclusive))}}class te extends P.L{constructor(X,re,ze){super(X),this.predicate=re,this.inclusive=ze,this.index=0}_next(X){const re=this.destination;let ze;try{ze=this.predicate(X,this.index++)}catch(Qe){return void re.error(Qe)}this.nextOrComplete(X,ze)}nextOrComplete(X,re){const ze=this.destination;Boolean(re)?ze.next(X):(this.inclusive&&ze.next(X),ze.complete())}}var se=_(59917),de=_(27194),ae=_(15911);const Me=(0,t.Mq)();class xe{constructor(X,re){this._viewportRuler=X,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=re}attach(){}enable(){if(this._canBeEnabled()){const X=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=X.style.left||"",this._previousHTMLStyles.top=X.style.top||"",X.style.left=(0,s.HM)(-this._previousScrollPosition.left),X.style.top=(0,s.HM)(-this._previousScrollPosition.top),X.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const X=this._document.documentElement,ze=X.style,Qe=this._document.body.style,Ct=ze.scrollBehavior||"",yt=Qe.scrollBehavior||"";this._isEnabled=!1,ze.left=this._previousHTMLStyles.left,ze.top=this._previousHTMLStyles.top,X.classList.remove("cdk-global-scrollblock"),Me&&(ze.scrollBehavior=Qe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Me&&(ze.scrollBehavior=Ct,Qe.scrollBehavior=yt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const re=this._document.body,ze=this._viewportRuler.getViewportSize();return re.scrollHeight>ze.height||re.scrollWidth>ze.width}}class ke{constructor(X,re,ze,Qe){this._scrollDispatcher=X,this._ngZone=re,this._viewportRuler=ze,this._config=Qe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(X){this._overlayRef=X}enable(){if(this._scrollSubscription)return;const X=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=X.subscribe(()=>{const re=this._viewportRuler.getViewportScrollPosition().top;Math.abs(re-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=X.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fe{enable(){}disable(){}attach(){}}function pe(Je,X){return X.some(re=>Je.bottom<re.top||Je.top>re.bottom||Je.right<re.left||Je.left>re.right)}function ie(Je,X){return X.some(re=>Je.top<re.top||Je.bottom>re.bottom||Je.left<re.left||Je.right>re.right)}class ee{constructor(X,re,ze,Qe){this._scrollDispatcher=X,this._viewportRuler=re,this._ngZone=ze,this._config=Qe,this._scrollSubscription=null}attach(X){this._overlayRef=X}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const re=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ze,height:Qe}=this._viewportRuler.getViewportSize();pe(re,[{width:ze,height:Qe,bottom:Qe,right:ze,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ye=(()=>{class Je{constructor(re,ze,Qe,Ct){this._scrollDispatcher=re,this._viewportRuler=ze,this._ngZone=Qe,this.noop=()=>new fe,this.close=yt=>new ke(this._scrollDispatcher,this._ngZone,this._viewportRuler,yt),this.block=()=>new xe(this._viewportRuler,this._document),this.reposition=yt=>new ee(this._scrollDispatcher,this._viewportRuler,this._ngZone,yt),this._document=Ct}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(E.mF),o.LFG(E.rL),o.LFG(o.R0b),o.LFG(n.K0))},Je.\u0275prov=o.Yz7({factory:function(){return new Je(o.LFG(E.mF),o.LFG(E.rL),o.LFG(o.R0b),o.LFG(n.K0))},token:Je,providedIn:"root"}),Je})();class Ce{constructor(X){if(this.scrollStrategy=new fe,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,X){const re=Object.keys(X);for(const ze of re)void 0!==X[ze]&&(this[ze]=X[ze])}}}class Te{constructor(X,re,ze,Qe,Ct){this.offsetX=ze,this.offsetY=Qe,this.panelClass=Ct,this.originX=X.originX,this.originY=X.originY,this.overlayX=re.overlayX,this.overlayY=re.overlayY}}class ve{constructor(X,re){this.connectionPair=X,this.scrollableViewProperties=re}}let ot=(()=>{class Je{constructor(re){this._attachedOverlays=[],this._document=re}ngOnDestroy(){this.detach()}add(re){this.remove(re),this._attachedOverlays.push(re)}remove(re){const ze=this._attachedOverlays.indexOf(re);ze>-1&&this._attachedOverlays.splice(ze,1),0===this._attachedOverlays.length&&this.detach()}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(n.K0))},Je.\u0275prov=o.Yz7({factory:function(){return new Je(o.LFG(n.K0))},token:Je,providedIn:"root"}),Je})(),Lt=(()=>{class Je extends ot{constructor(re){super(re),this._keydownListener=ze=>{const Qe=this._attachedOverlays;for(let Ct=Qe.length-1;Ct>-1;Ct--)if(Qe[Ct]._keydownEvents.observers.length>0){Qe[Ct]._keydownEvents.next(ze);break}}}add(re){super.add(re),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(n.K0))},Je.\u0275prov=o.Yz7({factory:function(){return new Je(o.LFG(n.K0))},token:Je,providedIn:"root"}),Je})(),Jt=(()=>{class Je extends ot{constructor(re,ze){super(re),this._platform=ze,this._cursorStyleIsSet=!1,this._pointerDownListener=Qe=>{this._pointerDownEventTarget=(0,t.sA)(Qe)},this._clickListener=Qe=>{const Ct=(0,t.sA)(Qe),yt="click"===Qe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ct;this._pointerDownEventTarget=null;const Zt=this._attachedOverlays.slice();for(let wn=Zt.length-1;wn>-1;wn--){const En=Zt[wn];if(!(En._outsidePointerEvents.observers.length<1)&&En.hasAttached()){if(En.overlayElement.contains(Ct)||En.overlayElement.contains(yt))break;En._outsidePointerEvents.next(Qe)}}}}add(re){if(super.add(re),!this._isAttached){const ze=this._document.body;ze.addEventListener("pointerdown",this._pointerDownListener,!0),ze.addEventListener("click",this._clickListener,!0),ze.addEventListener("auxclick",this._clickListener,!0),ze.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ze.style.cursor,ze.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const re=this._document.body;re.removeEventListener("pointerdown",this._pointerDownListener,!0),re.removeEventListener("click",this._clickListener,!0),re.removeEventListener("auxclick",this._clickListener,!0),re.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(re.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(n.K0),o.LFG(t.t4))},Je.\u0275prov=o.Yz7({factory:function(){return new Je(o.LFG(n.K0),o.LFG(t.t4))},token:Je,providedIn:"root"}),Je})(),wt=(()=>{class Je{constructor(re,ze){this._platform=ze,this._document=re}ngOnDestroy(){const re=this._containerElement;re&&re.parentNode&&re.parentNode.removeChild(re)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const re="cdk-overlay-container";if(this._platform.isBrowser||(0,t.Oy)()){const Qe=this._document.querySelectorAll(`.${re}[platform="server"], .${re}[platform="test"]`);for(let Ct=0;Ct<Qe.length;Ct++)Qe[Ct].parentNode.removeChild(Qe[Ct])}const ze=this._document.createElement("div");ze.classList.add(re),(0,t.Oy)()?ze.setAttribute("platform","test"):this._platform.isBrowser||ze.setAttribute("platform","server"),this._document.body.appendChild(ze),this._containerElement=ze}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(n.K0),o.LFG(t.t4))},Je.\u0275prov=o.Yz7({factory:function(){return new Je(o.LFG(n.K0),o.LFG(t.t4))},token:Je,providedIn:"root"}),Je})();class tn{constructor(X,re,ze,Qe,Ct,yt,Zt,wn,En){this._portalOutlet=X,this._host=re,this._pane=ze,this._config=Qe,this._ngZone=Ct,this._keyboardDispatcher=yt,this._document=Zt,this._location=wn,this._outsideClickDispatcher=En,this._backdropElement=null,this._backdropClick=new y.xQ,this._attachments=new y.xQ,this._detachments=new y.xQ,this._locationChanges=M.w.EMPTY,this._backdropClickHandler=bn=>this._backdropClick.next(bn),this._keydownEvents=new y.xQ,this._outsidePointerEvents=new y.xQ,Qe.scrollStrategy&&(this._scrollStrategy=Qe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Qe.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(X){let re=this._portalOutlet.attach(X);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,se.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),re}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const X=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),X}dispose(){const X=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,X&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(X){X!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=X,this.hasAttached()&&(X.attach(this),this.updatePosition()))}updateSize(X){this._config=Object.assign(Object.assign({},this._config),X),this._updateElementSize()}setDirection(X){this._config=Object.assign(Object.assign({},this._config),{direction:X}),this._updateElementDirection()}addPanelClass(X){this._pane&&this._toggleClasses(this._pane,X,!0)}removePanelClass(X){this._pane&&this._toggleClasses(this._pane,X,!1)}getDirection(){const X=this._config.direction;return X?"string"==typeof X?X:X.value:"ltr"}updateScrollStrategy(X){X!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=X,this.hasAttached()&&(X.attach(this),X.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const X=this._pane.style;X.width=(0,s.HM)(this._config.width),X.height=(0,s.HM)(this._config.height),X.minWidth=(0,s.HM)(this._config.minWidth),X.minHeight=(0,s.HM)(this._config.minHeight),X.maxWidth=(0,s.HM)(this._config.maxWidth),X.maxHeight=(0,s.HM)(this._config.maxHeight)}_togglePointerEvents(X){this._pane.style.pointerEvents=X?"":"none"}_attachBackdrop(){const X="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(X)})}):this._backdropElement.classList.add(X)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const X=this._backdropElement;if(!X)return;let re;const ze=()=>{X&&(X.removeEventListener("click",this._backdropClickHandler),X.removeEventListener("transitionend",ze),this._disposeBackdrop(X)),this._config.backdropClass&&this._toggleClasses(X,this._config.backdropClass,!1),clearTimeout(re)};X.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{X.addEventListener("transitionend",ze)}),X.style.pointerEvents="none",re=this._ngZone.runOutsideAngular(()=>setTimeout(ze,500))}_toggleClasses(X,re,ze){const Qe=X.classList;(0,s.Eq)(re).forEach(Ct=>{Ct&&(ze?Qe.add(Ct):Qe.remove(Ct))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const X=this._ngZone.onStable.pipe((0,de.R)((0,A.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),X.unsubscribe())})})}_disposeScrollStrategy(){const X=this._scrollStrategy;X&&(X.disable(),X.detach&&X.detach())}_disposeBackdrop(X){X&&(X.parentNode&&X.parentNode.removeChild(X),this._backdropElement===X&&(this._backdropElement=null))}}const Et="cdk-overlay-connected-position-bounding-box",sn=/([A-Za-z%]+)$/;class rt{constructor(X,re,ze,Qe,Ct){this._viewportRuler=re,this._document=ze,this._platform=Qe,this._overlayContainer=Ct,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new y.xQ,this._resizeSubscription=M.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(X)}get positions(){return this._preferredPositions}attach(X){this._validatePositions(),X.hostElement.classList.add(Et),this._overlayRef=X,this._boundingBox=X.hostElement,this._pane=X.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const X=this._originRect,re=this._overlayRect,ze=this._viewportRect,Qe=[];let Ct;for(let yt of this._preferredPositions){let Zt=this._getOriginPoint(X,yt),wn=this._getOverlayPoint(Zt,re,yt),En=this._getOverlayFit(wn,re,ze,yt);if(En.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(yt,Zt);this._canFitWithFlexibleDimensions(En,wn,ze)?Qe.push({position:yt,origin:Zt,overlayRect:re,boundingBoxRect:this._calculateBoundingBoxRect(Zt,yt)}):(!Ct||Ct.overlayFit.visibleArea<En.visibleArea)&&(Ct={overlayFit:En,overlayPoint:wn,originPoint:Zt,position:yt,overlayRect:re})}if(Qe.length){let yt=null,Zt=-1;for(const wn of Qe){const En=wn.boundingBoxRect.width*wn.boundingBoxRect.height*(wn.position.weight||1);En>Zt&&(Zt=En,yt=wn)}return this._isPushed=!1,void this._applyPosition(yt.position,yt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ct.position,Ct.originPoint);this._applyPosition(Ct.position,Ct.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&at(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Et),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const X=this._lastPosition||this._preferredPositions[0],re=this._getOriginPoint(this._originRect,X);this._applyPosition(X,re)}}withScrollableContainers(X){return this._scrollables=X,this}withPositions(X){return this._preferredPositions=X,-1===X.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(X){return this._viewportMargin=X,this}withFlexibleDimensions(X=!0){return this._hasFlexibleDimensions=X,this}withGrowAfterOpen(X=!0){return this._growAfterOpen=X,this}withPush(X=!0){return this._canPush=X,this}withLockedPosition(X=!0){return this._positionLocked=X,this}setOrigin(X){return this._origin=X,this}withDefaultOffsetX(X){return this._offsetX=X,this}withDefaultOffsetY(X){return this._offsetY=X,this}withTransformOriginOn(X){return this._transformOriginSelector=X,this}_getOriginPoint(X,re){let ze,Qe;if("center"==re.originX)ze=X.left+X.width/2;else{const Ct=this._isRtl()?X.right:X.left,yt=this._isRtl()?X.left:X.right;ze="start"==re.originX?Ct:yt}return Qe="center"==re.originY?X.top+X.height/2:"top"==re.originY?X.top:X.bottom,{x:ze,y:Qe}}_getOverlayPoint(X,re,ze){let Qe,Ct;return Qe="center"==ze.overlayX?-re.width/2:"start"===ze.overlayX?this._isRtl()?-re.width:0:this._isRtl()?0:-re.width,Ct="center"==ze.overlayY?-re.height/2:"top"==ze.overlayY?0:-re.height,{x:X.x+Qe,y:X.y+Ct}}_getOverlayFit(X,re,ze,Qe){const Ct=zt(re);let{x:yt,y:Zt}=X,wn=this._getOffset(Qe,"x"),En=this._getOffset(Qe,"y");wn&&(yt+=wn),En&&(Zt+=En);let Ut=0-Zt,on=Zt+Ct.height-ze.height,tt=this._subtractOverflows(Ct.width,0-yt,yt+Ct.width-ze.width),xt=this._subtractOverflows(Ct.height,Ut,on),rn=tt*xt;return{visibleArea:rn,isCompletelyWithinViewport:Ct.width*Ct.height===rn,fitsInViewportVertically:xt===Ct.height,fitsInViewportHorizontally:tt==Ct.width}}_canFitWithFlexibleDimensions(X,re,ze){if(this._hasFlexibleDimensions){const Qe=ze.bottom-re.y,Ct=ze.right-re.x,yt=Vt(this._overlayRef.getConfig().minHeight),Zt=Vt(this._overlayRef.getConfig().minWidth),En=X.fitsInViewportHorizontally||null!=Zt&&Zt<=Ct;return(X.fitsInViewportVertically||null!=yt&&yt<=Qe)&&En}return!1}_pushOverlayOnScreen(X,re,ze){if(this._previousPushAmount&&this._positionLocked)return{x:X.x+this._previousPushAmount.x,y:X.y+this._previousPushAmount.y};const Qe=zt(re),Ct=this._viewportRect,yt=Math.max(X.x+Qe.width-Ct.width,0),Zt=Math.max(X.y+Qe.height-Ct.height,0),wn=Math.max(Ct.top-ze.top-X.y,0),En=Math.max(Ct.left-ze.left-X.x,0);let bn=0,fn=0;return bn=Qe.width<=Ct.width?En||-yt:X.x<this._viewportMargin?Ct.left-ze.left-X.x:0,fn=Qe.height<=Ct.height?wn||-Zt:X.y<this._viewportMargin?Ct.top-ze.top-X.y:0,this._previousPushAmount={x:bn,y:fn},{x:X.x+bn,y:X.y+fn}}_applyPosition(X,re){if(this._setTransformOrigin(X),this._setOverlayElementStyles(re,X),this._setBoundingBoxStyles(re,X),X.panelClass&&this._addPanelClasses(X.panelClass),this._lastPosition=X,this._positionChanges.observers.length){const ze=this._getScrollVisibility(),Qe=new ve(X,ze);this._positionChanges.next(Qe)}this._isInitialRender=!1}_setTransformOrigin(X){if(!this._transformOriginSelector)return;const re=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ze,Qe=X.overlayY;ze="center"===X.overlayX?"center":this._isRtl()?"start"===X.overlayX?"right":"left":"start"===X.overlayX?"left":"right";for(let Ct=0;Ct<re.length;Ct++)re[Ct].style.transformOrigin=`${ze} ${Qe}`}_calculateBoundingBoxRect(X,re){const ze=this._viewportRect,Qe=this._isRtl();let Ct,yt,Zt,bn,fn,Ut;if("top"===re.overlayY)yt=X.y,Ct=ze.height-yt+this._viewportMargin;else if("bottom"===re.overlayY)Zt=ze.height-X.y+2*this._viewportMargin,Ct=ze.height-Zt+this._viewportMargin;else{const on=Math.min(ze.bottom-X.y+ze.top,X.y),tt=this._lastBoundingBoxSize.height;Ct=2*on,yt=X.y-on,Ct>tt&&!this._isInitialRender&&!this._growAfterOpen&&(yt=X.y-tt/2)}if("end"===re.overlayX&&!Qe||"start"===re.overlayX&&Qe)Ut=ze.width-X.x+this._viewportMargin,bn=X.x-this._viewportMargin;else if("start"===re.overlayX&&!Qe||"end"===re.overlayX&&Qe)fn=X.x,bn=ze.right-X.x;else{const on=Math.min(ze.right-X.x+ze.left,X.x),tt=this._lastBoundingBoxSize.width;bn=2*on,fn=X.x-on,bn>tt&&!this._isInitialRender&&!this._growAfterOpen&&(fn=X.x-tt/2)}return{top:yt,left:fn,bottom:Zt,right:Ut,width:bn,height:Ct}}_setBoundingBoxStyles(X,re){const ze=this._calculateBoundingBoxRect(X,re);!this._isInitialRender&&!this._growAfterOpen&&(ze.height=Math.min(ze.height,this._lastBoundingBoxSize.height),ze.width=Math.min(ze.width,this._lastBoundingBoxSize.width));const Qe={};if(this._hasExactPosition())Qe.top=Qe.left="0",Qe.bottom=Qe.right=Qe.maxHeight=Qe.maxWidth="",Qe.width=Qe.height="100%";else{const Ct=this._overlayRef.getConfig().maxHeight,yt=this._overlayRef.getConfig().maxWidth;Qe.height=(0,s.HM)(ze.height),Qe.top=(0,s.HM)(ze.top),Qe.bottom=(0,s.HM)(ze.bottom),Qe.width=(0,s.HM)(ze.width),Qe.left=(0,s.HM)(ze.left),Qe.right=(0,s.HM)(ze.right),Qe.alignItems="center"===re.overlayX?"center":"end"===re.overlayX?"flex-end":"flex-start",Qe.justifyContent="center"===re.overlayY?"center":"bottom"===re.overlayY?"flex-end":"flex-start",Ct&&(Qe.maxHeight=(0,s.HM)(Ct)),yt&&(Qe.maxWidth=(0,s.HM)(yt))}this._lastBoundingBoxSize=ze,at(this._boundingBox.style,Qe)}_resetBoundingBoxStyles(){at(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){at(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(X,re){const ze={},Qe=this._hasExactPosition(),Ct=this._hasFlexibleDimensions,yt=this._overlayRef.getConfig();if(Qe){const bn=this._viewportRuler.getViewportScrollPosition();at(ze,this._getExactOverlayY(re,X,bn)),at(ze,this._getExactOverlayX(re,X,bn))}else ze.position="static";let Zt="",wn=this._getOffset(re,"x"),En=this._getOffset(re,"y");wn&&(Zt+=`translateX(${wn}px) `),En&&(Zt+=`translateY(${En}px)`),ze.transform=Zt.trim(),yt.maxHeight&&(Qe?ze.maxHeight=(0,s.HM)(yt.maxHeight):Ct&&(ze.maxHeight="")),yt.maxWidth&&(Qe?ze.maxWidth=(0,s.HM)(yt.maxWidth):Ct&&(ze.maxWidth="")),at(this._pane.style,ze)}_getExactOverlayY(X,re,ze){let Qe={top:"",bottom:""},Ct=this._getOverlayPoint(re,this._overlayRect,X);this._isPushed&&(Ct=this._pushOverlayOnScreen(Ct,this._overlayRect,ze));let yt=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return Ct.y-=yt,"bottom"===X.overlayY?Qe.bottom=this._document.documentElement.clientHeight-(Ct.y+this._overlayRect.height)+"px":Qe.top=(0,s.HM)(Ct.y),Qe}_getExactOverlayX(X,re,ze){let yt,Qe={left:"",right:""},Ct=this._getOverlayPoint(re,this._overlayRect,X);return this._isPushed&&(Ct=this._pushOverlayOnScreen(Ct,this._overlayRect,ze)),yt=this._isRtl()?"end"===X.overlayX?"left":"right":"end"===X.overlayX?"right":"left","right"===yt?Qe.right=this._document.documentElement.clientWidth-(Ct.x+this._overlayRect.width)+"px":Qe.left=(0,s.HM)(Ct.x),Qe}_getScrollVisibility(){const X=this._getOriginRect(),re=this._pane.getBoundingClientRect(),ze=this._scrollables.map(Qe=>Qe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ie(X,ze),isOriginOutsideView:pe(X,ze),isOverlayClipped:ie(re,ze),isOverlayOutsideView:pe(re,ze)}}_subtractOverflows(X,...re){return re.reduce((ze,Qe)=>ze-Math.max(Qe,0),X)}_getNarrowedViewportRect(){const X=this._document.documentElement.clientWidth,re=this._document.documentElement.clientHeight,ze=this._viewportRuler.getViewportScrollPosition();return{top:ze.top+this._viewportMargin,left:ze.left+this._viewportMargin,right:ze.left+X-this._viewportMargin,bottom:ze.top+re-this._viewportMargin,width:X-2*this._viewportMargin,height:re-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(X,re){return"x"===re?null==X.offsetX?this._offsetX:X.offsetX:null==X.offsetY?this._offsetY:X.offsetY}_validatePositions(){}_addPanelClasses(X){this._pane&&(0,s.Eq)(X).forEach(re=>{""!==re&&-1===this._appliedPanelClasses.indexOf(re)&&(this._appliedPanelClasses.push(re),this._pane.classList.add(re))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(X=>{this._pane.classList.remove(X)}),this._appliedPanelClasses=[])}_getOriginRect(){const X=this._origin;if(X instanceof o.SBq)return X.nativeElement.getBoundingClientRect();if(X instanceof Element)return X.getBoundingClientRect();const re=X.width||0,ze=X.height||0;return{top:X.y,bottom:X.y+ze,left:X.x,right:X.x+re,height:ze,width:re}}}function at(Je,X){for(let re in X)X.hasOwnProperty(re)&&(Je[re]=X[re]);return Je}function Vt(Je){if("number"!=typeof Je&&null!=Je){const[X,re]=Je.split(sn);return re&&"px"!==re?null:parseFloat(X)}return Je||null}function zt(Je){return{top:Math.floor(Je.top),right:Math.floor(Je.right),bottom:Math.floor(Je.bottom),left:Math.floor(Je.left),width:Math.floor(Je.width),height:Math.floor(Je.height)}}class $t{constructor(X,re,ze,Qe,Ct,yt,Zt){this._preferredPositions=[],this._positionStrategy=new rt(ze,Qe,Ct,yt,Zt).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(X,re),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(X){this._overlayRef=X,this._positionStrategy.attach(X),this._direction&&(X.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(X){this._positionStrategy.withScrollableContainers(X)}withFallbackPosition(X,re,ze,Qe){const Ct=new Te(X,re,ze,Qe);return this._preferredPositions.push(Ct),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(X){return this._overlayRef?this._overlayRef.setDirection(X):this._direction=X,this}withOffsetX(X){return this._positionStrategy.withDefaultOffsetX(X),this}withOffsetY(X){return this._positionStrategy.withDefaultOffsetY(X),this}withLockedPosition(X){return this._positionStrategy.withLockedPosition(X),this}withPositions(X){return this._preferredPositions=X.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(X){return this._positionStrategy.setOrigin(X),this}}const xn="cdk-global-overlay-wrapper";class Kn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(X){const re=X.getConfig();this._overlayRef=X,this._width&&!re.width&&X.updateSize({width:this._width}),this._height&&!re.height&&X.updateSize({height:this._height}),X.hostElement.classList.add(xn),this._isDisposed=!1}top(X=""){return this._bottomOffset="",this._topOffset=X,this._alignItems="flex-start",this}left(X=""){return this._rightOffset="",this._leftOffset=X,this._justifyContent="flex-start",this}bottom(X=""){return this._topOffset="",this._bottomOffset=X,this._alignItems="flex-end",this}right(X=""){return this._leftOffset="",this._rightOffset=X,this._justifyContent="flex-end",this}width(X=""){return this._overlayRef?this._overlayRef.updateSize({width:X}):this._width=X,this}height(X=""){return this._overlayRef?this._overlayRef.updateSize({height:X}):this._height=X,this}centerHorizontally(X=""){return this.left(X),this._justifyContent="center",this}centerVertically(X=""){return this.top(X),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const X=this._overlayRef.overlayElement.style,re=this._overlayRef.hostElement.style,ze=this._overlayRef.getConfig(),{width:Qe,height:Ct,maxWidth:yt,maxHeight:Zt}=ze,wn=!("100%"!==Qe&&"100vw"!==Qe||yt&&"100%"!==yt&&"100vw"!==yt),En=!("100%"!==Ct&&"100vh"!==Ct||Zt&&"100%"!==Zt&&"100vh"!==Zt);X.position=this._cssPosition,X.marginLeft=wn?"0":this._leftOffset,X.marginTop=En?"0":this._topOffset,X.marginBottom=this._bottomOffset,X.marginRight=this._rightOffset,wn?re.justifyContent="flex-start":"center"===this._justifyContent?re.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?re.justifyContent="flex-end":"flex-end"===this._justifyContent&&(re.justifyContent="flex-start"):re.justifyContent=this._justifyContent,re.alignItems=En?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const X=this._overlayRef.overlayElement.style,re=this._overlayRef.hostElement,ze=re.style;re.classList.remove(xn),ze.justifyContent=ze.alignItems=X.marginTop=X.marginBottom=X.marginLeft=X.marginRight=X.position="",this._overlayRef=null,this._isDisposed=!0}}let Yn=(()=>{class Je{constructor(re,ze,Qe,Ct){this._viewportRuler=re,this._document=ze,this._platform=Qe,this._overlayContainer=Ct}global(){return new Kn}connectedTo(re,ze,Qe){return new $t(ze,Qe,re,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(re){return new rt(re,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(E.rL),o.LFG(n.K0),o.LFG(t.t4),o.LFG(wt))},Je.\u0275prov=o.Yz7({factory:function(){return new Je(o.LFG(E.rL),o.LFG(n.K0),o.LFG(t.t4),o.LFG(wt))},token:Je,providedIn:"root"}),Je})(),dn=0,It=(()=>{class Je{constructor(re,ze,Qe,Ct,yt,Zt,wn,En,bn,fn,Ut){this.scrollStrategies=re,this._overlayContainer=ze,this._componentFactoryResolver=Qe,this._positionBuilder=Ct,this._keyboardDispatcher=yt,this._injector=Zt,this._ngZone=wn,this._document=En,this._directionality=bn,this._location=fn,this._outsideClickDispatcher=Ut}create(re){const ze=this._createHostElement(),Qe=this._createPaneElement(ze),Ct=this._createPortalOutlet(Qe),yt=new Ce(re);return yt.direction=yt.direction||this._directionality.value,new tn(Ct,ze,Qe,yt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(re){const ze=this._document.createElement("div");return ze.id="cdk-overlay-"+dn++,ze.classList.add("cdk-overlay-pane"),re.appendChild(ze),ze}_createHostElement(){const re=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(re),re}_createPortalOutlet(re){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new f.u0(re,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(ye),o.LFG(wt),o.LFG(o._Vd),o.LFG(Yn),o.LFG(Lt),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(n.K0),o.LFG(e.Is),o.LFG(n.Ye),o.LFG(Jt))},Je.\u0275prov=o.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const Bt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Fe=new o.OlP("cdk-connected-overlay-scroll-strategy");let it=(()=>{class Je{constructor(re){this.elementRef=re}}return Je.\u0275fac=function(re){return new(re||Je)(o.Y36(o.SBq))},Je.\u0275dir=o.lG2({type:Je,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),Je})(),un=(()=>{class Je{constructor(re,ze,Qe,Ct,yt){this._overlay=re,this._dir=yt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=M.w.EMPTY,this._attachSubscription=M.w.EMPTY,this._detachSubscription=M.w.EMPTY,this._positionSubscription=M.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new f.UE(ze,Qe),this._scrollStrategyFactory=Ct,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(re){this._offsetX=re,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(re){this._offsetY=re,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(re){this._hasBackdrop=(0,s.Ig)(re)}get lockPosition(){return this._lockPosition}set lockPosition(re){this._lockPosition=(0,s.Ig)(re)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(re){this._flexibleDimensions=(0,s.Ig)(re)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(re){this._growAfterOpen=(0,s.Ig)(re)}get push(){return this._push}set push(re){this._push=(0,s.Ig)(re)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(re){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),re.origin&&this.open&&this._position.apply()),re.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Bt);const re=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=re.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=re.detachments().subscribe(()=>this.detach.emit()),re.keydownEvents().subscribe(ze=>{this.overlayKeydown.next(ze),ze.keyCode===ae.hY&&!this.disableClose&&!(0,ae.Vb)(ze)&&(ze.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(ze=>{this.overlayOutsideClick.next(ze)})}_buildConfig(){const re=this._position=this.positionStrategy||this._createPositionStrategy(),ze=new Ce({direction:this._dir,positionStrategy:re,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(ze.width=this.width),(this.height||0===this.height)&&(ze.height=this.height),(this.minWidth||0===this.minWidth)&&(ze.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ze.minHeight=this.minHeight),this.backdropClass&&(ze.backdropClass=this.backdropClass),this.panelClass&&(ze.panelClass=this.panelClass),ze}_updatePositionStrategy(re){const ze=this.positions.map(Qe=>({originX:Qe.originX,originY:Qe.originY,overlayX:Qe.overlayX,overlayY:Qe.overlayY,offsetX:Qe.offsetX||this.offsetX,offsetY:Qe.offsetY||this.offsetY,panelClass:Qe.panelClass||void 0}));return re.setOrigin(this.origin.elementRef).withPositions(ze).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const re=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(re),re}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(re=>{this.backdropClick.emit(re)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(Je,X=!1){return re=>re.lift(new ne(Je,X))}(()=>this.positionChange.observers.length>0)).subscribe(re=>{this.positionChange.emit(re),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return Je.\u0275fac=function(re){return new(re||Je)(o.Y36(It),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(Fe),o.Y36(e.Is,8))},Je.\u0275dir=o.lG2({type:Je,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),Je})();const hn={provide:Fe,deps:[It],useFactory:function(Je){return()=>Je.scrollStrategies.reposition()}};let mt=(()=>{class Je{}return Je.\u0275fac=function(re){return new(re||Je)},Je.\u0275mod=o.oAB({type:Je}),Je.\u0275inj=o.cJS({providers:[It,hn],imports:[[e.vT,f.eL,E.Cl],E.Cl]}),Je})()},66899:(F,U,_)=>{"use strict";_.d(U,{t4:()=>e,ud:()=>n,sA:()=>we,ht:()=>xe,kV:()=>Me,Oy:()=>ke,_i:()=>se,qK:()=>y,i$:()=>P,Mq:()=>te});var E=_(42741),o=_(16274);let t;try{t="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(fe){t=!1}let s,e=(()=>{class fe{constructor(ie){this._platformId=ie,this.isBrowser=this._platformId?(0,o.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!t)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return fe.\u0275fac=function(ie){return new(ie||fe)(E.LFG(E.Lbi))},fe.\u0275prov=E.Yz7({factory:function(){return new fe(E.LFG(E.Lbi))},token:fe,providedIn:"root"}),fe})(),n=(()=>{class fe{}return fe.\u0275fac=function(ie){return new(ie||fe)},fe.\u0275mod=E.oAB({type:fe}),fe.\u0275inj=E.cJS({}),fe})();const f=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function y(){if(s)return s;if("object"!=typeof document||!document)return s=new Set(f),s;let fe=document.createElement("input");return s=new Set(f.filter(pe=>(fe.setAttribute("type",pe),fe.type===pe))),s}let M,B,ne,de;function P(fe){return function(){if(null==M&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>M=!0}))}finally{M=M||!1}return M}()?fe:!!fe.capture}function te(){if(null==ne){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ne=!1,ne;if("scrollBehavior"in document.documentElement.style)ne=!0;else{const fe=Element.prototype.scrollTo;ne=!!fe&&!/\{\s*\[native code\]\s*\}/.test(fe.toString())}}return ne}function se(){if("object"!=typeof document||!document)return 0;if(null==B){const fe=document.createElement("div"),pe=fe.style;fe.dir="rtl",pe.width="1px",pe.overflow="auto",pe.visibility="hidden",pe.pointerEvents="none",pe.position="absolute";const ie=document.createElement("div"),ee=ie.style;ee.width="2px",ee.height="1px",fe.appendChild(ie),document.body.appendChild(fe),B=0,0===fe.scrollLeft&&(fe.scrollLeft=1,B=0===fe.scrollLeft?1:2),fe.parentNode.removeChild(fe)}return B}function Me(fe){if(function(){if(null==de){const fe="undefined"!=typeof document?document.head:null;de=!(!fe||!fe.createShadowRoot&&!fe.attachShadow)}return de}()){const pe=fe.getRootNode?fe.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&pe instanceof ShadowRoot)return pe}return null}function xe(){let fe="undefined"!=typeof document&&document?document.activeElement:null;for(;fe&&fe.shadowRoot;){const pe=fe.shadowRoot.activeElement;if(pe===fe)break;fe=pe}return fe}function we(fe){return fe.composedPath?fe.composedPath()[0]:fe.target}function ke(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},62718:(F,U,_)=>{"use strict";_.d(U,{en:()=>ne,ig:()=>ae,Pl:()=>xe,C5:()=>A,u0:()=>se,eL:()=>ke,UE:()=>P});var E=_(42741),o=_(16274);class M{attach(ie){return this._attachedHost=ie,ie.attach(this)}detach(){let ie=this._attachedHost;null!=ie&&(this._attachedHost=null,ie.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ie){this._attachedHost=ie}}class A extends M{constructor(ie,ee,ye,Ce){super(),this.component=ie,this.viewContainerRef=ee,this.injector=ye,this.componentFactoryResolver=Ce}}class P extends M{constructor(ie,ee,ye){super(),this.templateRef=ie,this.viewContainerRef=ee,this.context=ye}get origin(){return this.templateRef.elementRef}attach(ie,ee=this.context){return this.context=ee,super.attach(ie)}detach(){return this.context=void 0,super.detach()}}class B extends M{constructor(ie){super(),this.element=ie instanceof E.SBq?ie.nativeElement:ie}}class ne{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ie){return ie instanceof A?(this._attachedPortal=ie,this.attachComponentPortal(ie)):ie instanceof P?(this._attachedPortal=ie,this.attachTemplatePortal(ie)):this.attachDomPortal&&ie instanceof B?(this._attachedPortal=ie,this.attachDomPortal(ie)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ie){this._disposeFn=ie}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class se extends ne{constructor(ie,ee,ye,Ce,Te){super(),this.outletElement=ie,this._componentFactoryResolver=ee,this._appRef=ye,this._defaultInjector=Ce,this.attachDomPortal=me=>{const ve=me.element,Ze=this._document.createComment("dom-portal");ve.parentNode.insertBefore(Ze,ve),this.outletElement.appendChild(ve),this._attachedPortal=me,super.setDisposeFn(()=>{Ze.parentNode&&Ze.parentNode.replaceChild(ve,Ze)})},this._document=Te}attachComponentPortal(ie){const ye=(ie.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ie.component);let Ce;return ie.viewContainerRef?(Ce=ie.viewContainerRef.createComponent(ye,ie.viewContainerRef.length,ie.injector||ie.viewContainerRef.injector),this.setDisposeFn(()=>Ce.destroy())):(Ce=ye.create(ie.injector||this._defaultInjector),this._appRef.attachView(Ce.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ce.hostView),Ce.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ce)),this._attachedPortal=ie,Ce}attachTemplatePortal(ie){let ee=ie.viewContainerRef,ye=ee.createEmbeddedView(ie.templateRef,ie.context);return ye.rootNodes.forEach(Ce=>this.outletElement.appendChild(Ce)),ye.detectChanges(),this.setDisposeFn(()=>{let Ce=ee.indexOf(ye);-1!==Ce&&ee.remove(Ce)}),this._attachedPortal=ie,ye}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(ie){return ie.hostView.rootNodes[0]}}let ae=(()=>{class pe extends P{constructor(ee,ye){super(ee,ye)}}return pe.\u0275fac=function(ee){return new(ee||pe)(E.Y36(E.Rgc),E.Y36(E.s_b))},pe.\u0275dir=E.lG2({type:pe,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[E.qOj]}),pe})(),xe=(()=>{class pe extends ne{constructor(ee,ye,Ce){super(),this._componentFactoryResolver=ee,this._viewContainerRef=ye,this._isInitialized=!1,this.attached=new E.vpe,this.attachDomPortal=Te=>{const me=Te.element,ve=this._document.createComment("dom-portal");Te.setAttachedHost(this),me.parentNode.insertBefore(ve,me),this._getRootNode().appendChild(me),this._attachedPortal=Te,super.setDisposeFn(()=>{ve.parentNode&&ve.parentNode.replaceChild(me,ve)})},this._document=Ce}get portal(){return this._attachedPortal}set portal(ee){this.hasAttached()&&!ee&&!this._isInitialized||(this.hasAttached()&&super.detach(),ee&&super.attach(ee),this._attachedPortal=ee)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ee){ee.setAttachedHost(this);const ye=null!=ee.viewContainerRef?ee.viewContainerRef:this._viewContainerRef,Te=(ee.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ee.component),me=ye.createComponent(Te,ye.length,ee.injector||ye.injector);return ye!==this._viewContainerRef&&this._getRootNode().appendChild(me.hostView.rootNodes[0]),super.setDisposeFn(()=>me.destroy()),this._attachedPortal=ee,this._attachedRef=me,this.attached.emit(me),me}attachTemplatePortal(ee){ee.setAttachedHost(this);const ye=this._viewContainerRef.createEmbeddedView(ee.templateRef,ee.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ee,this._attachedRef=ye,this.attached.emit(ye),ye}_getRootNode(){const ee=this._viewContainerRef.element.nativeElement;return ee.nodeType===ee.ELEMENT_NODE?ee:ee.parentNode}}return pe.\u0275fac=function(ee){return new(ee||pe)(E.Y36(E._Vd),E.Y36(E.s_b),E.Y36(o.K0))},pe.\u0275dir=E.lG2({type:pe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[E.qOj]}),pe})(),ke=(()=>{class pe{}return pe.\u0275fac=function(ee){return new(ee||pe)},pe.\u0275mod=E.oAB({type:pe}),pe.\u0275inj=E.cJS({}),pe})()},54847:(F,U,_)=>{"use strict";_.d(U,{PQ:()=>sn,ZD:()=>Yn,mF:()=>Et,Cl:()=>dn,rL:()=>at});var E=_(99957),o=_(42741),t=_(25464),n=_(20708);new class extends n.v{flush(Bt){this.active=!0,this.scheduled=void 0;const{actions:Fe}=this;let it,un=-1,ft=Fe.length;Bt=Bt||Fe.shift();do{if(it=Bt.execute(Bt.state,Bt.delay))break}while(++un<ft&&(Bt=Fe.shift()));if(this.active=!1,it){for(;++un<ft&&(Bt=Fe.shift());)Bt.unsubscribe();throw it}}}(class extends t.o{constructor(Bt,Fe){super(Bt,Fe),this.scheduler=Bt,this.work=Fe}requestAsyncId(Bt,Fe,it=0){return null!==it&&it>0?super.requestAsyncId(Bt,Fe,it):(Bt.actions.push(this),Bt.scheduled||(Bt.scheduled=requestAnimationFrame(()=>Bt.flush(null))))}recycleAsyncId(Bt,Fe,it=0){if(null!==it&&it>0||null===it&&this.delay>0)return super.recycleAsyncId(Bt,Fe,it);0===Bt.actions.length&&(cancelAnimationFrame(Fe),Bt.scheduled=void 0)}});var M=_(6006),A=_(267),P=_(93948),B=_(54958);_(13438);_(39734),_(15648),_(28744),_(57689);var ke=_(64337),fe=_(63305),pe=_(27194),Ce=(_(63543),_(32812),_(41001),_(66899)),Te=_(16274),me=_(12281);_(98950);let Et=(()=>{class It{constructor(Fe,it,un){this._ngZone=Fe,this._platform=it,this._scrolled=new M.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=un}register(Fe){this.scrollContainers.has(Fe)||this.scrollContainers.set(Fe,Fe.elementScrolled().subscribe(()=>this._scrolled.next(Fe)))}deregister(Fe){const it=this.scrollContainers.get(Fe);it&&(it.unsubscribe(),this.scrollContainers.delete(Fe))}scrolled(Fe=20){return this._platform.isBrowser?new P.y(it=>{this._globalSubscription||this._addGlobalListener();const un=Fe>0?this._scrolled.pipe((0,ke.e)(Fe)).subscribe(it):this._scrolled.subscribe(it);return this._scrolledCount++,()=>{un.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,A.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Fe,it)=>this.deregister(it)),this._scrolled.complete()}ancestorScrolled(Fe,it){const un=this.getAncestorScrollContainers(Fe);return this.scrolled(it).pipe((0,fe.h)(ft=>!ft||un.indexOf(ft)>-1))}getAncestorScrollContainers(Fe){const it=[];return this.scrollContainers.forEach((un,ft)=>{this._scrollableContainsElement(ft,Fe)&&it.push(ft)}),it}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Fe,it){let un=(0,E.fI)(it),ft=Fe.getElementRef().nativeElement;do{if(un==ft)return!0}while(un=un.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Fe=this._getWindow();return(0,B.R)(Fe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return It.\u0275fac=function(Fe){return new(Fe||It)(o.LFG(o.R0b),o.LFG(Ce.t4),o.LFG(Te.K0,8))},It.\u0275prov=o.Yz7({factory:function(){return new It(o.LFG(o.R0b),o.LFG(Ce.t4),o.LFG(Te.K0,8))},token:It,providedIn:"root"}),It})(),sn=(()=>{class It{constructor(Fe,it,un,ft){this.elementRef=Fe,this.scrollDispatcher=it,this.ngZone=un,this.dir=ft,this._destroyed=new M.xQ,this._elementScrolled=new P.y(hn=>this.ngZone.runOutsideAngular(()=>(0,B.R)(this.elementRef.nativeElement,"scroll").pipe((0,pe.R)(this._destroyed)).subscribe(hn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Fe){const it=this.elementRef.nativeElement,un=this.dir&&"rtl"==this.dir.value;null==Fe.left&&(Fe.left=un?Fe.end:Fe.start),null==Fe.right&&(Fe.right=un?Fe.start:Fe.end),null!=Fe.bottom&&(Fe.top=it.scrollHeight-it.clientHeight-Fe.bottom),un&&0!=(0,Ce._i)()?(null!=Fe.left&&(Fe.right=it.scrollWidth-it.clientWidth-Fe.left),2==(0,Ce._i)()?Fe.left=Fe.right:1==(0,Ce._i)()&&(Fe.left=Fe.right?-Fe.right:Fe.right)):null!=Fe.right&&(Fe.left=it.scrollWidth-it.clientWidth-Fe.right),this._applyScrollToOptions(Fe)}_applyScrollToOptions(Fe){const it=this.elementRef.nativeElement;(0,Ce.Mq)()?it.scrollTo(Fe):(null!=Fe.top&&(it.scrollTop=Fe.top),null!=Fe.left&&(it.scrollLeft=Fe.left))}measureScrollOffset(Fe){const it="left",ft=this.elementRef.nativeElement;if("top"==Fe)return ft.scrollTop;if("bottom"==Fe)return ft.scrollHeight-ft.clientHeight-ft.scrollTop;const hn=this.dir&&"rtl"==this.dir.value;return"start"==Fe?Fe=hn?"right":it:"end"==Fe&&(Fe=hn?it:"right"),hn&&2==(0,Ce._i)()?Fe==it?ft.scrollWidth-ft.clientWidth-ft.scrollLeft:ft.scrollLeft:hn&&1==(0,Ce._i)()?Fe==it?ft.scrollLeft+ft.scrollWidth-ft.clientWidth:-ft.scrollLeft:Fe==it?ft.scrollLeft:ft.scrollWidth-ft.clientWidth-ft.scrollLeft}}return It.\u0275fac=function(Fe){return new(Fe||It)(o.Y36(o.SBq),o.Y36(Et),o.Y36(o.R0b),o.Y36(me.Is,8))},It.\u0275dir=o.lG2({type:It,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),It})(),at=(()=>{class It{constructor(Fe,it,un){this._platform=Fe,this._change=new M.xQ,this._changeListener=ft=>{this._change.next(ft)},this._document=un,it.runOutsideAngular(()=>{if(Fe.isBrowser){const ft=this._getWindow();ft.addEventListener("resize",this._changeListener),ft.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Fe=this._getWindow();Fe.removeEventListener("resize",this._changeListener),Fe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Fe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Fe}getViewportRect(){const Fe=this.getViewportScrollPosition(),{width:it,height:un}=this.getViewportSize();return{top:Fe.top,left:Fe.left,bottom:Fe.top+un,right:Fe.left+it,height:un,width:it}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Fe=this._document,it=this._getWindow(),un=Fe.documentElement,ft=un.getBoundingClientRect();return{top:-ft.top||Fe.body.scrollTop||it.scrollY||un.scrollTop||0,left:-ft.left||Fe.body.scrollLeft||it.scrollX||un.scrollLeft||0}}change(Fe=20){return Fe>0?this._change.pipe((0,ke.e)(Fe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Fe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Fe.innerWidth,height:Fe.innerHeight}:{width:0,height:0}}}return It.\u0275fac=function(Fe){return new(Fe||It)(o.LFG(Ce.t4),o.LFG(o.R0b),o.LFG(Te.K0,8))},It.\u0275prov=o.Yz7({factory:function(){return new It(o.LFG(Ce.t4),o.LFG(o.R0b),o.LFG(Te.K0,8))},token:It,providedIn:"root"}),It})(),Yn=(()=>{class It{}return It.\u0275fac=function(Fe){return new(Fe||It)},It.\u0275mod=o.oAB({type:It}),It.\u0275inj=o.cJS({}),It})(),dn=(()=>{class It{}return It.\u0275fac=function(Fe){return new(Fe||It)},It.\u0275mod=o.oAB({type:It}),It.\u0275inj=o.cJS({imports:[[me.vT,Ce.ud,Yn],me.vT,Yn]}),It})()},99957:(F,U,_)=>{"use strict";_.d(U,{Eq:()=>n,Ig:()=>o,HM:()=>s,fI:()=>f,su:()=>t,du:()=>y});var E=_(42741);function o(M){return null!=M&&"false"!=`${M}`}function t(M,A=0){return function(M){return!isNaN(parseFloat(M))&&!isNaN(Number(M))}(M)?Number(M):A}function n(M){return Array.isArray(M)?M:[M]}function s(M){return null==M?"":"string"==typeof M?M:`${M}px`}function f(M){return M instanceof E.SBq?M.nativeElement:M}function y(M,A=/\s+/){const P=[];if(null!=M){const B=Array.isArray(M)?M:`${M}`.split(A);for(const ne of B){const te=`${ne}`.trim();te&&P.push(te)}}return P}},16274:(F,U,_)=>{"use strict";_.d(U,{mr:()=>xe,Ov:()=>ss,ez:()=>No,K0:()=>f,Do:()=>ke,Nd:()=>Lo,V_:()=>A,Ye:()=>fe,S$:()=>ae,mk:()=>ii,sg:()=>ai,O5:()=>ho,PC:()=>Lr,RF:()=>Pr,n9:()=>Mr,ED:()=>xo,tP:()=>fo,b0:()=>we,lw:()=>y,EM:()=>ys,JF:()=>Fn,NF:()=>br,w_:()=>s,bD:()=>pr,q:()=>t,Mx:()=>_n,HT:()=>n});var E=_(42741);let o=null;function t(){return o}function n(be){o||(o=be)}class s{}const f=new E.OlP("DocumentToken");let y=(()=>{class be{historyGo(Se){throw new Error("Not implemented")}}return be.\u0275fac=function(Se){return new(Se||be)},be.\u0275prov=(0,E.Yz7)({factory:M,token:be,providedIn:"platform"}),be})();function M(){return(0,E.LFG)(P)}const A=new E.OlP("Location Initialized");let P=(()=>{class be extends y{constructor(Se){super(),this._doc=Se,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return t().getBaseHref(this._doc)}onPopState(Se){const K=t().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",Se,!1),()=>K.removeEventListener("popstate",Se)}onHashChange(Se){const K=t().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",Se,!1),()=>K.removeEventListener("hashchange",Se)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Se){this.location.pathname=Se}pushState(Se,K,$){B()?this._history.pushState(Se,K,$):this.location.hash=$}replaceState(Se,K,$){B()?this._history.replaceState(Se,K,$):this.location.hash=$}forward(){this._history.forward()}back(){this._history.back()}historyGo(Se=0){this._history.go(Se)}getState(){return this._history.state}}return be.\u0275fac=function(Se){return new(Se||be)(E.LFG(f))},be.\u0275prov=(0,E.Yz7)({factory:ne,token:be,providedIn:"platform"}),be})();function B(){return!!window.history.pushState}function ne(){return new P((0,E.LFG)(f))}function te(be,Ye){if(0==be.length)return Ye;if(0==Ye.length)return be;let Se=0;return be.endsWith("/")&&Se++,Ye.startsWith("/")&&Se++,2==Se?be+Ye.substring(1):1==Se?be+Ye:be+"/"+Ye}function se(be){const Ye=be.match(/#|\?|$/),Se=Ye&&Ye.index||be.length;return be.slice(0,Se-("/"===be[Se-1]?1:0))+be.slice(Se)}function de(be){return be&&"?"!==be[0]?"?"+be:be}let ae=(()=>{class be{historyGo(Se){throw new Error("Not implemented")}}return be.\u0275fac=function(Se){return new(Se||be)},be.\u0275prov=(0,E.Yz7)({factory:Me,token:be,providedIn:"root"}),be})();function Me(be){const Ye=(0,E.LFG)(f).location;return new we((0,E.LFG)(y),Ye&&Ye.origin||"")}const xe=new E.OlP("appBaseHref");let we=(()=>{class be extends ae{constructor(Se,K){if(super(),this._platformLocation=Se,this._removeListenerFns=[],null==K&&(K=this._platformLocation.getBaseHrefFromDOM()),null==K)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=K}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Se){this._removeListenerFns.push(this._platformLocation.onPopState(Se),this._platformLocation.onHashChange(Se))}getBaseHref(){return this._baseHref}prepareExternalUrl(Se){return te(this._baseHref,Se)}path(Se=!1){const K=this._platformLocation.pathname+de(this._platformLocation.search),$=this._platformLocation.hash;return $&&Se?`${K}${$}`:K}pushState(Se,K,$,q){const Pe=this.prepareExternalUrl($+de(q));this._platformLocation.pushState(Se,K,Pe)}replaceState(Se,K,$,q){const Pe=this.prepareExternalUrl($+de(q));this._platformLocation.replaceState(Se,K,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Se=0){var K,$;null===($=(K=this._platformLocation).historyGo)||void 0===$||$.call(K,Se)}}return be.\u0275fac=function(Se){return new(Se||be)(E.LFG(y),E.LFG(xe,8))},be.\u0275prov=E.Yz7({token:be,factory:be.\u0275fac}),be})(),ke=(()=>{class be extends ae{constructor(Se,K){super(),this._platformLocation=Se,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Se){this._removeListenerFns.push(this._platformLocation.onPopState(Se),this._platformLocation.onHashChange(Se))}getBaseHref(){return this._baseHref}path(Se=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(Se){const K=te(this._baseHref,Se);return K.length>0?"#"+K:K}pushState(Se,K,$,q){let Pe=this.prepareExternalUrl($+de(q));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.pushState(Se,K,Pe)}replaceState(Se,K,$,q){let Pe=this.prepareExternalUrl($+de(q));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.replaceState(Se,K,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Se=0){var K,$;null===($=(K=this._platformLocation).historyGo)||void 0===$||$.call(K,Se)}}return be.\u0275fac=function(Se){return new(Se||be)(E.LFG(y),E.LFG(xe,8))},be.\u0275prov=E.Yz7({token:be,factory:be.\u0275fac}),be})(),fe=(()=>{class be{constructor(Se,K){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=Se;const $=this._platformStrategy.getBaseHref();this._platformLocation=K,this._baseHref=se(ee($)),this._platformStrategy.onPopState(q=>{this._subject.emit({url:this.path(!0),pop:!0,state:q.state,type:q.type})})}path(Se=!1){return this.normalize(this._platformStrategy.path(Se))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Se,K=""){return this.path()==this.normalize(Se+de(K))}normalize(Se){return be.stripTrailingSlash(function(be,Ye){return be&&Ye.startsWith(be)?Ye.substring(be.length):Ye}(this._baseHref,ee(Se)))}prepareExternalUrl(Se){return Se&&"/"!==Se[0]&&(Se="/"+Se),this._platformStrategy.prepareExternalUrl(Se)}go(Se,K="",$=null){this._platformStrategy.pushState($,"",Se,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+de(K)),$)}replaceState(Se,K="",$=null){this._platformStrategy.replaceState($,"",Se,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+de(K)),$)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Se=0){var K,$;null===($=(K=this._platformStrategy).historyGo)||void 0===$||$.call(K,Se)}onUrlChange(Se){this._urlChangeListeners.push(Se),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)}))}_notifyUrlChangeListeners(Se="",K){this._urlChangeListeners.forEach($=>$(Se,K))}subscribe(Se,K,$){return this._subject.subscribe({next:Se,error:K,complete:$})}}return be.\u0275fac=function(Se){return new(Se||be)(E.LFG(ae),E.LFG(y))},be.normalizeQueryParams=de,be.joinWithSlash=te,be.stripTrailingSlash=se,be.\u0275prov=(0,E.Yz7)({factory:pe,token:be,providedIn:"root"}),be})();function pe(){return new fe((0,E.LFG)(ae),(0,E.LFG)(y))}function ee(be){return be.replace(/\/index.html$/,"")}var Te=(()=>((Te=Te||{})[Te.Zero=0]="Zero",Te[Te.One=1]="One",Te[Te.Two=2]="Two",Te[Te.Few=3]="Few",Te[Te.Many=4]="Many",Te[Te.Other=5]="Other",Te))();const Bt=E.kL8;class Gt{}let pt=(()=>{class be extends Gt{constructor(Se){super(),this.locale=Se}getPluralCategory(Se,K){switch(Bt(K||this.locale)(Se)){case Te.Zero:return"zero";case Te.One:return"one";case Te.Two:return"two";case Te.Few:return"few";case Te.Many:return"many";default:return"other"}}}return be.\u0275fac=function(Se){return new(Se||be)(E.LFG(E.soG))},be.\u0275prov=E.Yz7({token:be,factory:be.\u0275fac}),be})();function _n(be,Ye){Ye=encodeURIComponent(Ye);for(const Se of be.split(";")){const K=Se.indexOf("="),[$,q]=-1==K?[Se,""]:[Se.slice(0,K),Se.slice(K+1)];if($.trim()===Ye)return decodeURIComponent(q)}return null}let ii=(()=>{class be{constructor(Se,K,$,q){this._iterableDiffers=Se,this._keyValueDiffers=K,this._ngEl=$,this._renderer=q,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Se){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Se?Se.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Se){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Se?Se.split(/\s+/):Se,this._rawClass&&((0,E.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Se=this._iterableDiffer.diff(this._rawClass);Se&&this._applyIterableChanges(Se)}else if(this._keyValueDiffer){const Se=this._keyValueDiffer.diff(this._rawClass);Se&&this._applyKeyValueChanges(Se)}}_applyKeyValueChanges(Se){Se.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),Se.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),Se.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(Se){Se.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,E.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),Se.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(Se){Se&&(Array.isArray(Se)||Se instanceof Set?Se.forEach(K=>this._toggleClass(K,!0)):Object.keys(Se).forEach(K=>this._toggleClass(K,!!Se[K])))}_removeClasses(Se){Se&&(Array.isArray(Se)||Se instanceof Set?Se.forEach(K=>this._toggleClass(K,!1)):Object.keys(Se).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(Se,K){(Se=Se.trim())&&Se.split(/\s+/g).forEach($=>{K?this._renderer.addClass(this._ngEl.nativeElement,$):this._renderer.removeClass(this._ngEl.nativeElement,$)})}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.ZZ4),E.Y36(E.aQg),E.Y36(E.SBq),E.Y36(E.Qsj))},be.\u0275dir=E.lG2({type:be,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),be})();class Ii{constructor(Ye,Se,K,$){this.$implicit=Ye,this.ngForOf=Se,this.index=K,this.count=$}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{class be{constructor(Se,K,$){this._viewContainer=Se,this._template=K,this._differs=$,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Se){this._ngForOf=Se,this._ngForOfDirty=!0}set ngForTrackBy(Se){this._trackByFn=Se}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Se){Se&&(this._template=Se)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Se=this._ngForOf;if(!this._differ&&Se)try{this._differ=this._differs.find(Se).create(this.ngForTrackBy)}catch(K){throw new Error(`Cannot find a differ supporting object '${Se}' of type '${function(be){return be.name||typeof be}(Se)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const Se=this._differ.diff(this._ngForOf);Se&&this._applyChanges(Se)}}_applyChanges(Se){const K=[];Se.forEachOperation(($,q,Pe)=>{if(null==$.previousIndex){const Wt=this._viewContainer.createEmbeddedView(this._template,new Ii(null,this._ngForOf,-1,-1),null===Pe?void 0:Pe),Rn=new ro($,Wt);K.push(Rn)}else if(null==Pe)this._viewContainer.remove(null===q?void 0:q);else if(null!==q){const Wt=this._viewContainer.get(q);this._viewContainer.move(Wt,Pe);const Rn=new ro($,Wt);K.push(Rn)}});for(let $=0;$<K.length;$++)this._perViewChange(K[$].view,K[$].record);for(let $=0,q=this._viewContainer.length;$<q;$++){const Pe=this._viewContainer.get($);Pe.context.index=$,Pe.context.count=q,Pe.context.ngForOf=this._ngForOf}Se.forEachIdentityChange($=>{this._viewContainer.get($.currentIndex).context.$implicit=$.item})}_perViewChange(Se,K){Se.context.$implicit=K.item}static ngTemplateContextGuard(Se,K){return!0}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},be.\u0275dir=E.lG2({type:be,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),be})();class ro{constructor(Ye,Se){this.record=Ye,this.view=Se}}let ho=(()=>{class be{constructor(Se,K){this._viewContainer=Se,this._context=new po,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(Se){this._context.$implicit=this._context.ngIf=Se,this._updateView()}set ngIfThen(Se){di("ngIfThen",Se),this._thenTemplateRef=Se,this._thenViewRef=null,this._updateView()}set ngIfElse(Se){di("ngIfElse",Se),this._elseTemplateRef=Se,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Se,K){return!0}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.s_b),E.Y36(E.Rgc))},be.\u0275dir=E.lG2({type:be,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),be})();class po{constructor(){this.$implicit=null,this.ngIf=null}}function di(be,Ye){if(Ye&&!Ye.createEmbeddedView)throw new Error(`${be} must be a TemplateRef, but received '${(0,E.AaK)(Ye)}'.`)}class ko{constructor(Ye,Se){this._viewContainerRef=Ye,this._templateRef=Se,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Ye){Ye&&!this._created?this.create():!Ye&&this._created&&this.destroy()}}let Pr=(()=>{class be{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Se){this._ngSwitch=Se,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Se){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Se)}_matchCase(Se){const K=Se==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||K,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),K}_updateDefaultCases(Se){if(this._defaultViews&&Se!==this._defaultUsed){this._defaultUsed=Se;for(let K=0;K<this._defaultViews.length;K++)this._defaultViews[K].enforceState(Se)}}}return be.\u0275fac=function(Se){return new(Se||be)},be.\u0275dir=E.lG2({type:be,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),be})(),Mr=(()=>{class be{constructor(Se,K,$){this.ngSwitch=$,$._addCase(),this._view=new ko(Se,K)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(Pr,9))},be.\u0275dir=E.lG2({type:be,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),be})(),xo=(()=>{class be{constructor(Se,K,$){$._addDefault(new ko(Se,K))}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(Pr,9))},be.\u0275dir=E.lG2({type:be,selectors:[["","ngSwitchDefault",""]]}),be})(),Lr=(()=>{class be{constructor(Se,K,$){this._ngEl=Se,this._differs=K,this._renderer=$,this._ngStyle=null,this._differ=null}set ngStyle(Se){this._ngStyle=Se,!this._differ&&Se&&(this._differ=this._differs.find(Se).create())}ngDoCheck(){if(this._differ){const Se=this._differ.diff(this._ngStyle);Se&&this._applyChanges(Se)}}_setStyle(Se,K){const[$,q]=Se.split(".");null!=(K=null!=K&&q?`${K}${q}`:K)?this._renderer.setStyle(this._ngEl.nativeElement,$,K):this._renderer.removeStyle(this._ngEl.nativeElement,$)}_applyChanges(Se){Se.forEachRemovedItem(K=>this._setStyle(K.key,null)),Se.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),Se.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.SBq),E.Y36(E.aQg),E.Y36(E.Qsj))},be.\u0275dir=E.lG2({type:be,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),be})(),fo=(()=>{class be{constructor(Se){this._viewContainerRef=Se,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(Se){if(Se.ngTemplateOutlet){const K=this._viewContainerRef;this._viewRef&&K.remove(K.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?K.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&Se.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.s_b))},be.\u0275dir=E.lG2({type:be,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[E.TTD]}),be})();class ar{createSubscription(Ye,Se){return Ye.subscribe({next:Se,error:K=>{throw K}})}dispose(Ye){Ye.unsubscribe()}onDestroy(Ye){Ye.unsubscribe()}}class $s{createSubscription(Ye,Se){return Ye.then(Se,K=>{throw K})}dispose(Ye){}onDestroy(Ye){}}const Ps=new $s,Po=new ar;let ss=(()=>{class be{constructor(Se){this._ref=Se,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(Se){return this._obj?Se!==this._obj?(this._dispose(),this.transform(Se)):this._latestValue:(Se&&this._subscribe(Se),this._latestValue)}_subscribe(Se){this._obj=Se,this._strategy=this._selectStrategy(Se),this._subscription=this._strategy.createSubscription(Se,K=>this._updateLatestValue(Se,K))}_selectStrategy(Se){if((0,E.QGY)(Se))return Ps;if((0,E.F4k)(Se))return Po;throw function(be,Ye){return Error(`InvalidPipeArgument: '${Ye}' for pipe '${(0,E.AaK)(be)}'`)}(be,Se)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Se,K){Se===this._obj&&(this._latestValue=K,this._ref.markForCheck())}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.sBO,16))},be.\u0275pipe=E.Yjl({name:"async",type:be,pure:!1}),be})(),Lo=(()=>{class be{constructor(Se){this.differs=Se,this.keyValues=[],this.compareFn=ls}transform(Se,K=ls){if(!Se||!(Se instanceof Map)&&"object"!=typeof Se)return null;this.differ||(this.differ=this.differs.find(Se).create());const $=this.differ.diff(Se),q=K!==this.compareFn;return $&&(this.keyValues=[],$.forEachItem(Pe=>{this.keyValues.push(function(be,Ye){return{key:be,value:Ye}}(Pe.key,Pe.currentValue))})),($||q)&&(this.keyValues.sort(K),this.compareFn=K),this.keyValues}}return be.\u0275fac=function(Se){return new(Se||be)(E.Y36(E.aQg,16))},be.\u0275pipe=E.Yjl({name:"keyvalue",type:be,pure:!1}),be})();function ls(be,Ye){const Se=be.key,K=Ye.key;if(Se===K)return 0;if(void 0===Se)return 1;if(void 0===K)return-1;if(null===Se)return 1;if(null===K)return-1;if("string"==typeof Se&&"string"==typeof K)return Se<K?-1:1;if("number"==typeof Se&&"number"==typeof K)return Se-K;if("boolean"==typeof Se&&"boolean"==typeof K)return Se<K?-1:1;const $=String(Se),q=String(K);return $==q?0:$<q?-1:1}let No=(()=>{class be{}return be.\u0275fac=function(Se){return new(Se||be)},be.\u0275mod=E.oAB({type:be}),be.\u0275inj=E.cJS({providers:[{provide:Gt,useClass:pt}]}),be})();const pr="browser";function br(be){return be===pr}let ys=(()=>{class be{}return be.\u0275prov=(0,E.Yz7)({token:be,providedIn:"root",factory:()=>new Bs((0,E.LFG)(f),window)}),be})();class Bs{constructor(Ye,Se){this.document=Ye,this.window=Se,this.offset=()=>[0,0]}setOffset(Ye){this.offset=Array.isArray(Ye)?()=>Ye:Ye}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ye){this.supportsScrolling()&&this.window.scrollTo(Ye[0],Ye[1])}scrollToAnchor(Ye){if(!this.supportsScrolling())return;const Se=function(be,Ye){const Se=be.getElementById(Ye)||be.getElementsByName(Ye)[0];if(Se)return Se;if("function"==typeof be.createTreeWalker&&be.body&&(be.body.createShadowRoot||be.body.attachShadow)){const K=be.createTreeWalker(be.body,NodeFilter.SHOW_ELEMENT);let $=K.currentNode;for(;$;){const q=$.shadowRoot;if(q){const Pe=q.getElementById(Ye)||q.querySelector(`[name="${Ye}"]`);if(Pe)return Pe}$=K.nextNode()}}return null}(this.document,Ye);Se&&(this.scrollToElement(Se),this.attemptFocus(Se))}setHistoryScrollRestoration(Ye){if(this.supportScrollRestoration()){const Se=this.window.history;Se&&Se.scrollRestoration&&(Se.scrollRestoration=Ye)}}scrollToElement(Ye){const Se=Ye.getBoundingClientRect(),K=Se.left+this.window.pageXOffset,$=Se.top+this.window.pageYOffset,q=this.offset();this.window.scrollTo(K-q[0],$-q[1])}attemptFocus(Ye){return Ye.focus(),this.document.activeElement===Ye}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Ye=Wo(this.window.history)||Wo(Object.getPrototypeOf(this.window.history));return!(!Ye||!Ye.writable&&!Ye.set)}catch(Ye){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ye){return!1}}}function Wo(be){return Object.getOwnPropertyDescriptor(be,"scrollRestoration")}class Fn{}},31887:(F,U,_)=>{"use strict";_.d(U,{eN:()=>Be,JF:()=>hn});var E=_(16274),o=_(42741),t=_(267),e=_(93948),n=_(23748),s=_(63305),f=_(88561);class y{}class M{}class A{constructor(X){this.normalizedNames=new Map,this.lazyUpdate=null,X?this.lazyInit="string"==typeof X?()=>{this.headers=new Map,X.split("\n").forEach(re=>{const ze=re.indexOf(":");if(ze>0){const Qe=re.slice(0,ze),Ct=Qe.toLowerCase(),yt=re.slice(ze+1).trim();this.maybeSetNormalizedName(Qe,Ct),this.headers.has(Ct)?this.headers.get(Ct).push(yt):this.headers.set(Ct,[yt])}})}:()=>{this.headers=new Map,Object.keys(X).forEach(re=>{let ze=X[re];const Qe=re.toLowerCase();"string"==typeof ze&&(ze=[ze]),ze.length>0&&(this.headers.set(Qe,ze),this.maybeSetNormalizedName(re,Qe))})}:this.headers=new Map}has(X){return this.init(),this.headers.has(X.toLowerCase())}get(X){this.init();const re=this.headers.get(X.toLowerCase());return re&&re.length>0?re[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(X){return this.init(),this.headers.get(X.toLowerCase())||null}append(X,re){return this.clone({name:X,value:re,op:"a"})}set(X,re){return this.clone({name:X,value:re,op:"s"})}delete(X,re){return this.clone({name:X,value:re,op:"d"})}maybeSetNormalizedName(X,re){this.normalizedNames.has(re)||this.normalizedNames.set(re,X)}init(){this.lazyInit&&(this.lazyInit instanceof A?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(X=>this.applyUpdate(X)),this.lazyUpdate=null))}copyFrom(X){X.init(),Array.from(X.headers.keys()).forEach(re=>{this.headers.set(re,X.headers.get(re)),this.normalizedNames.set(re,X.normalizedNames.get(re))})}clone(X){const re=new A;return re.lazyInit=this.lazyInit&&this.lazyInit instanceof A?this.lazyInit:this,re.lazyUpdate=(this.lazyUpdate||[]).concat([X]),re}applyUpdate(X){const re=X.name.toLowerCase();switch(X.op){case"a":case"s":let ze=X.value;if("string"==typeof ze&&(ze=[ze]),0===ze.length)return;this.maybeSetNormalizedName(X.name,re);const Qe=("a"===X.op?this.headers.get(re):void 0)||[];Qe.push(...ze),this.headers.set(re,Qe);break;case"d":const Ct=X.value;if(Ct){let yt=this.headers.get(re);if(!yt)return;yt=yt.filter(Zt=>-1===Ct.indexOf(Zt)),0===yt.length?(this.headers.delete(re),this.normalizedNames.delete(re)):this.headers.set(re,yt)}else this.headers.delete(re),this.normalizedNames.delete(re)}}forEach(X){this.init(),Array.from(this.normalizedNames.keys()).forEach(re=>X(this.normalizedNames.get(re),this.headers.get(re)))}}class P{encodeKey(X){return se(X)}encodeValue(X){return se(X)}decodeKey(X){return decodeURIComponent(X)}decodeValue(X){return decodeURIComponent(X)}}const ne=/%(\d[a-f0-9])/gi,te={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function se(Je){return encodeURIComponent(Je).replace(ne,(X,re)=>{var ze;return null!==(ze=te[re])&&void 0!==ze?ze:X})}function de(Je){return`${Je}`}class ae{constructor(X={}){if(this.updates=null,this.cloneFrom=null,this.encoder=X.encoder||new P,X.fromString){if(X.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Je,X){const re=new Map;return Je.length>0&&Je.replace(/^\?/,"").split("&").forEach(Qe=>{const Ct=Qe.indexOf("="),[yt,Zt]=-1==Ct?[X.decodeKey(Qe),""]:[X.decodeKey(Qe.slice(0,Ct)),X.decodeValue(Qe.slice(Ct+1))],wn=re.get(yt)||[];wn.push(Zt),re.set(yt,wn)}),re}(X.fromString,this.encoder)}else X.fromObject?(this.map=new Map,Object.keys(X.fromObject).forEach(re=>{const ze=X.fromObject[re];this.map.set(re,Array.isArray(ze)?ze:[ze])})):this.map=null}has(X){return this.init(),this.map.has(X)}get(X){this.init();const re=this.map.get(X);return re?re[0]:null}getAll(X){return this.init(),this.map.get(X)||null}keys(){return this.init(),Array.from(this.map.keys())}append(X,re){return this.clone({param:X,value:re,op:"a"})}appendAll(X){const re=[];return Object.keys(X).forEach(ze=>{const Qe=X[ze];Array.isArray(Qe)?Qe.forEach(Ct=>{re.push({param:ze,value:Ct,op:"a"})}):re.push({param:ze,value:Qe,op:"a"})}),this.clone(re)}set(X,re){return this.clone({param:X,value:re,op:"s"})}delete(X,re){return this.clone({param:X,value:re,op:"d"})}toString(){return this.init(),this.keys().map(X=>{const re=this.encoder.encodeKey(X);return this.map.get(X).map(ze=>re+"="+this.encoder.encodeValue(ze)).join("&")}).filter(X=>""!==X).join("&")}clone(X){const re=new ae({encoder:this.encoder});return re.cloneFrom=this.cloneFrom||this,re.updates=(this.updates||[]).concat(X),re}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(X=>this.map.set(X,this.cloneFrom.map.get(X))),this.updates.forEach(X=>{switch(X.op){case"a":case"s":const re=("a"===X.op?this.map.get(X.param):void 0)||[];re.push(de(X.value)),this.map.set(X.param,re);break;case"d":if(void 0===X.value){this.map.delete(X.param);break}{let ze=this.map.get(X.param)||[];const Qe=ze.indexOf(de(X.value));-1!==Qe&&ze.splice(Qe,1),ze.length>0?this.map.set(X.param,ze):this.map.delete(X.param)}}}),this.cloneFrom=this.updates=null)}}class xe{constructor(){this.map=new Map}set(X,re){return this.map.set(X,re),this}get(X){return this.map.has(X)||this.map.set(X,X.defaultValue()),this.map.get(X)}delete(X){return this.map.delete(X),this}keys(){return this.map.keys()}}function ke(Je){return"undefined"!=typeof ArrayBuffer&&Je instanceof ArrayBuffer}function fe(Je){return"undefined"!=typeof Blob&&Je instanceof Blob}function pe(Je){return"undefined"!=typeof FormData&&Je instanceof FormData}class ee{constructor(X,re,ze,Qe){let Ct;if(this.url=re,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=X.toUpperCase(),function(Je){switch(Je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qe?(this.body=void 0!==ze?ze:null,Ct=Qe):Ct=ze,Ct&&(this.reportProgress=!!Ct.reportProgress,this.withCredentials=!!Ct.withCredentials,Ct.responseType&&(this.responseType=Ct.responseType),Ct.headers&&(this.headers=Ct.headers),Ct.context&&(this.context=Ct.context),Ct.params&&(this.params=Ct.params)),this.headers||(this.headers=new A),this.context||(this.context=new xe),this.params){const yt=this.params.toString();if(0===yt.length)this.urlWithParams=re;else{const Zt=re.indexOf("?");this.urlWithParams=re+(-1===Zt?"?":Zt<re.length-1?"&":"")+yt}}else this.params=new ae,this.urlWithParams=re}serializeBody(){return null===this.body?null:ke(this.body)||fe(this.body)||pe(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pe(this.body)?null:fe(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(X={}){var re;const ze=X.method||this.method,Qe=X.url||this.url,Ct=X.responseType||this.responseType,yt=void 0!==X.body?X.body:this.body,Zt=void 0!==X.withCredentials?X.withCredentials:this.withCredentials,wn=void 0!==X.reportProgress?X.reportProgress:this.reportProgress;let En=X.headers||this.headers,bn=X.params||this.params;const fn=null!==(re=X.context)&&void 0!==re?re:this.context;return void 0!==X.setHeaders&&(En=Object.keys(X.setHeaders).reduce((Ut,on)=>Ut.set(on,X.setHeaders[on]),En)),X.setParams&&(bn=Object.keys(X.setParams).reduce((Ut,on)=>Ut.set(on,X.setParams[on]),bn)),new ee(ze,Qe,yt,{params:bn,headers:En,context:fn,reportProgress:wn,responseType:Ct,withCredentials:Zt})}}var ye=(()=>((ye=ye||{})[ye.Sent=0]="Sent",ye[ye.UploadProgress=1]="UploadProgress",ye[ye.ResponseHeader=2]="ResponseHeader",ye[ye.DownloadProgress=3]="DownloadProgress",ye[ye.Response=4]="Response",ye[ye.User=5]="User",ye))();class Ce{constructor(X,re=200,ze="OK"){this.headers=X.headers||new A,this.status=void 0!==X.status?X.status:re,this.statusText=X.statusText||ze,this.url=X.url||null,this.ok=this.status>=200&&this.status<300}}class Te extends Ce{constructor(X={}){super(X),this.type=ye.ResponseHeader}clone(X={}){return new Te({headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class me extends Ce{constructor(X={}){super(X),this.type=ye.Response,this.body=void 0!==X.body?X.body:null}clone(X={}){return new me({body:void 0!==X.body?X.body:this.body,headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class ve extends Ce{constructor(X){super(X,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${X.url||"(unknown url)"}`:`Http failure response for ${X.url||"(unknown url)"}: ${X.status} ${X.statusText}`,this.error=X.error||null}}function Ze(Je,X){return{body:X,headers:Je.headers,context:Je.context,observe:Je.observe,params:Je.params,reportProgress:Je.reportProgress,responseType:Je.responseType,withCredentials:Je.withCredentials}}let Be=(()=>{class Je{constructor(re){this.handler=re}request(re,ze,Qe={}){let Ct;if(re instanceof ee)Ct=re;else{let wn,En;wn=Qe.headers instanceof A?Qe.headers:new A(Qe.headers),Qe.params&&(En=Qe.params instanceof ae?Qe.params:new ae({fromObject:Qe.params})),Ct=new ee(re,ze,void 0!==Qe.body?Qe.body:null,{headers:wn,context:Qe.context,params:En,reportProgress:Qe.reportProgress,responseType:Qe.responseType||"json",withCredentials:Qe.withCredentials})}const yt=(0,t.of)(Ct).pipe((0,n.b)(wn=>this.handler.handle(wn)));if(re instanceof ee||"events"===Qe.observe)return yt;const Zt=yt.pipe((0,s.h)(wn=>wn instanceof me));switch(Qe.observe||"body"){case"body":switch(Ct.responseType){case"arraybuffer":return Zt.pipe((0,f.U)(wn=>{if(null!==wn.body&&!(wn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return wn.body}));case"blob":return Zt.pipe((0,f.U)(wn=>{if(null!==wn.body&&!(wn.body instanceof Blob))throw new Error("Response is not a Blob.");return wn.body}));case"text":return Zt.pipe((0,f.U)(wn=>{if(null!==wn.body&&"string"!=typeof wn.body)throw new Error("Response is not a string.");return wn.body}));case"json":default:return Zt.pipe((0,f.U)(wn=>wn.body))}case"response":return Zt;default:throw new Error(`Unreachable: unhandled observe type ${Qe.observe}}`)}}delete(re,ze={}){return this.request("DELETE",re,ze)}get(re,ze={}){return this.request("GET",re,ze)}head(re,ze={}){return this.request("HEAD",re,ze)}jsonp(re,ze){return this.request("JSONP",re,{params:(new ae).append(ze,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(re,ze={}){return this.request("OPTIONS",re,ze)}patch(re,ze,Qe={}){return this.request("PATCH",re,Ze(Qe,ze))}post(re,ze,Qe={}){return this.request("POST",re,Ze(Qe,ze))}put(re,ze,Qe={}){return this.request("PUT",re,Ze(Qe,ze))}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(y))},Je.\u0275prov=o.Yz7({token:Je,factory:Je.\u0275fac}),Je})();class ot{constructor(X,re){this.next=X,this.interceptor=re}handle(X){return this.interceptor.intercept(X,this.next)}}const Lt=new o.OlP("HTTP_INTERCEPTORS");let Jt=(()=>{class Je{intercept(re,ze){return ze.handle(re)}}return Je.\u0275fac=function(re){return new(re||Je)},Je.\u0275prov=o.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const zt=/^\)\]\}',?\n/;let xn=(()=>{class Je{constructor(re){this.xhrFactory=re}handle(re){if("JSONP"===re.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new e.y(ze=>{const Qe=this.xhrFactory.build();if(Qe.open(re.method,re.urlWithParams),re.withCredentials&&(Qe.withCredentials=!0),re.headers.forEach((on,tt)=>Qe.setRequestHeader(on,tt.join(","))),re.headers.has("Accept")||Qe.setRequestHeader("Accept","application/json, text/plain, */*"),!re.headers.has("Content-Type")){const on=re.detectContentTypeHeader();null!==on&&Qe.setRequestHeader("Content-Type",on)}if(re.responseType){const on=re.responseType.toLowerCase();Qe.responseType="json"!==on?on:"text"}const Ct=re.serializeBody();let yt=null;const Zt=()=>{if(null!==yt)return yt;const on=1223===Qe.status?204:Qe.status,tt=Qe.statusText||"OK",xt=new A(Qe.getAllResponseHeaders()),rn=function(Je){return"responseURL"in Je&&Je.responseURL?Je.responseURL:/^X-Request-URL:/m.test(Je.getAllResponseHeaders())?Je.getResponseHeader("X-Request-URL"):null}(Qe)||re.url;return yt=new Te({headers:xt,status:on,statusText:tt,url:rn}),yt},wn=()=>{let{headers:on,status:tt,statusText:xt,url:rn}=Zt(),Cn=null;204!==tt&&(Cn=void 0===Qe.response?Qe.responseText:Qe.response),0===tt&&(tt=Cn?200:0);let qn=tt>=200&&tt<300;if("json"===re.responseType&&"string"==typeof Cn){const zn=Cn;Cn=Cn.replace(zt,"");try{Cn=""!==Cn?JSON.parse(Cn):null}catch(Vn){Cn=zn,qn&&(qn=!1,Cn={error:Vn,text:Cn})}}qn?(ze.next(new me({body:Cn,headers:on,status:tt,statusText:xt,url:rn||void 0})),ze.complete()):ze.error(new ve({error:Cn,headers:on,status:tt,statusText:xt,url:rn||void 0}))},En=on=>{const{url:tt}=Zt(),xt=new ve({error:on,status:Qe.status||0,statusText:Qe.statusText||"Unknown Error",url:tt||void 0});ze.error(xt)};let bn=!1;const fn=on=>{bn||(ze.next(Zt()),bn=!0);let tt={type:ye.DownloadProgress,loaded:on.loaded};on.lengthComputable&&(tt.total=on.total),"text"===re.responseType&&!!Qe.responseText&&(tt.partialText=Qe.responseText),ze.next(tt)},Ut=on=>{let tt={type:ye.UploadProgress,loaded:on.loaded};on.lengthComputable&&(tt.total=on.total),ze.next(tt)};return Qe.addEventListener("load",wn),Qe.addEventListener("error",En),Qe.addEventListener("timeout",En),Qe.addEventListener("abort",En),re.reportProgress&&(Qe.addEventListener("progress",fn),null!==Ct&&Qe.upload&&Qe.upload.addEventListener("progress",Ut)),Qe.send(Ct),ze.next({type:ye.Sent}),()=>{Qe.removeEventListener("error",En),Qe.removeEventListener("abort",En),Qe.removeEventListener("load",wn),Qe.removeEventListener("timeout",En),re.reportProgress&&(Qe.removeEventListener("progress",fn),null!==Ct&&Qe.upload&&Qe.upload.removeEventListener("progress",Ut)),Qe.readyState!==Qe.DONE&&Qe.abort()}})}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(E.JF))},Je.\u0275prov=o.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const Kn=new o.OlP("XSRF_COOKIE_NAME"),Yn=new o.OlP("XSRF_HEADER_NAME");class dn{}let It=(()=>{class Je{constructor(re,ze,Qe){this.doc=re,this.platform=ze,this.cookieName=Qe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const re=this.doc.cookie||"";return re!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,E.Mx)(re,this.cookieName),this.lastCookieString=re),this.lastToken}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(E.K0),o.LFG(o.Lbi),o.LFG(Kn))},Je.\u0275prov=o.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),Bt=(()=>{class Je{constructor(re,ze){this.tokenService=re,this.headerName=ze}intercept(re,ze){const Qe=re.url.toLowerCase();if("GET"===re.method||"HEAD"===re.method||Qe.startsWith("http://")||Qe.startsWith("https://"))return ze.handle(re);const Ct=this.tokenService.getToken();return null!==Ct&&!re.headers.has(this.headerName)&&(re=re.clone({headers:re.headers.set(this.headerName,Ct)})),ze.handle(re)}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(dn),o.LFG(Yn))},Je.\u0275prov=o.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),Fe=(()=>{class Je{constructor(re,ze){this.backend=re,this.injector=ze,this.chain=null}handle(re){if(null===this.chain){const ze=this.injector.get(Lt,[]);this.chain=ze.reduceRight((Qe,Ct)=>new ot(Qe,Ct),this.backend)}return this.chain.handle(re)}}return Je.\u0275fac=function(re){return new(re||Je)(o.LFG(M),o.LFG(o.zs3))},Je.\u0275prov=o.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),ft=(()=>{class Je{static disable(){return{ngModule:Je,providers:[{provide:Bt,useClass:Jt}]}}static withOptions(re={}){return{ngModule:Je,providers:[re.cookieName?{provide:Kn,useValue:re.cookieName}:[],re.headerName?{provide:Yn,useValue:re.headerName}:[]]}}}return Je.\u0275fac=function(re){return new(re||Je)},Je.\u0275mod=o.oAB({type:Je}),Je.\u0275inj=o.cJS({providers:[Bt,{provide:Lt,useExisting:Bt,multi:!0},{provide:dn,useClass:It},{provide:Kn,useValue:"XSRF-TOKEN"},{provide:Yn,useValue:"X-XSRF-TOKEN"}]}),Je})(),hn=(()=>{class Je{}return Je.\u0275fac=function(re){return new(re||Je)},Je.\u0275mod=o.oAB({type:Je}),Je.\u0275inj=o.cJS({providers:[Be,{provide:y,useClass:Fe},xn,{provide:M,useExisting:xn}],imports:[[ft.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Je})()},42741:(F,U,_)=>{"use strict";_.d(U,{deG:()=>bc,tb:()=>GE,AFp:()=>HE,ip1:()=>K_,CZH:()=>ff,hGG:()=>DM,z2F:()=>yg,sBO:()=>mS,Sil:()=>bg,_Vd:()=>sf,EJc:()=>jE,SBq:()=>sd,qLn:()=>Ic,vpe:()=>ad,gxx:()=>Y,tBr:()=>Aa,XFs:()=>ft,OlP:()=>Xr,zs3:()=>Jr,ZZ4:()=>lm,aQg:()=>cm,soG:()=>bm,YKP:()=>Ry,v3s:()=>oM,h0i:()=>sp,PXZ:()=>qD,R0b:()=>gc,FiY:()=>Oa,Lbi:()=>UE,g9A:()=>VE,n_E:()=>_g,Qsj:()=>tS,FYo:()=>am,JOm:()=>el,Tiy:()=>E_,q3G:()=>co,tp0:()=>Ca,EAV:()=>cM,Rgc:()=>sg,dDg:()=>XE,DyG:()=>Ka,GfV:()=>yy,s_b:()=>hm,ifc:()=>yt,eFA:()=>qE,G48:()=>YD,Gpc:()=>P,f3M:()=>pd,X6Q:()=>ev,_c5:()=>bM,VLi:()=>zD,c2e:()=>WE,zSh:()=>De,wAp:()=>Ni,vHH:()=>se,EiD:()=>Jc,mCW:()=>_s,qzn:()=>xi,JVY:()=>$r,pB0:()=>xs,eBb:()=>Oo,L6k:()=>Ro,LAX:()=>zs,cg1:()=>h_,Tjo:()=>_M,kL8:()=>Gb,yhl:()=>qi,dqk:()=>fn,sIi:()=>Zf,CqO:()=>Qm,QGY:()=>Zm,F4k:()=>Qv,RDi:()=>ma,AaK:()=>y,z3N:()=>Er,qOj:()=>Fm,TTD:()=>No,_Bn:()=>gy,xp6:()=>Hh,uIk:()=>Vm,Gre:()=>Ob,ekj:()=>o_,Suo:()=>mE,Xpm:()=>Oe,lG2:()=>Ki,Yz7:()=>Vt,cJS:()=>$t,oAB:()=>Nn,Yjl:()=>tr,Y36:()=>qf,_UZ:()=>$v,GkF:()=>Jv,BQk:()=>Jm,ynx:()=>$m,qZA:()=>Xm,TgZ:()=>Km,EpF:()=>Zv,n5z:()=>_o,Ikx:()=>u_,LFG:()=>no,$8M:()=>gs,NdJ:()=>qm,CRH:()=>_E,kcU:()=>Ci,O4$:()=>ei,oxw:()=>tb,ALo:()=>uE,lcZ:()=>dE,Hsn:()=>ib,F$t:()=>nb,Q6J:()=>zm,s9C:()=>n_,DdM:()=>nE,VKq:()=>iE,WLB:()=>rE,iGM:()=>fE,MAs:()=>Fv,CHM:()=>qo,LSH:()=>ca,kYT:()=>An,Udp:()=>r_,WFA:()=>e_,d8E:()=>d_,YNc:()=>Nv,W1O:()=>EE,_uU:()=>Sb,Oqu:()=>a_,hij:()=>em,AsE:()=>l_,lnq:()=>c_,Gf:()=>gE});var E=_(6006),o=_(39734),t=_(93948),e=_(30636),n=_(82564);function s(a){for(let l in a)if(a[l]===s)return l;throw Error("Could not find renamed property on target object.")}function f(a,l){for(const p in l)l.hasOwnProperty(p)&&!a.hasOwnProperty(p)&&(a[p]=l[p])}function y(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(y).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const p=l.indexOf("\n");return-1===p?l:l.substring(0,p)}function M(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const A=s({__forward_ref__:s});function P(a){return a.__forward_ref__=P,a.toString=function(){return y(this())},a}function B(a){return ne(a)?a():a}function ne(a){return"function"==typeof a&&a.hasOwnProperty(A)&&a.__forward_ref__===P}class se extends Error{constructor(l,p){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,p)),this.code=l}}function Me(a){return"string"==typeof a?a:null==a?"":String(a)}function xe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Me(a)}function pe(a,l){const p=l?` in ${l}`:"";throw new se("201",`No provider for ${xe(a)} found${p}`)}function tn(a,l){null==a&&function(a,l,p,b){throw new Error(`ASSERTION ERROR: ${a}`+(null==b?"":` [Expected=> ${p} ${b} ${l} <=Actual]`))}(l,a,null,"!=")}function Vt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function $t(a){return{providers:a.providers||[],imports:a.imports||[]}}function xn(a){return Kn(a,Bt)||Kn(a,it)}function Kn(a,l){return a.hasOwnProperty(l)?a[l]:null}function It(a){return a&&(a.hasOwnProperty(Fe)||a.hasOwnProperty(un))?a[Fe]:null}const Bt=s({\u0275prov:s}),Fe=s({\u0275inj:s}),it=s({ngInjectableDef:s}),un=s({ngInjectorDef:s});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let hn;function Ht(a){const l=hn;return hn=a,l}function Je(a,l,p){const b=xn(a);return b&&"root"==b.providedIn?void 0===b.value?b.value=b.factory():b.value:p&ft.Optional?null:void 0!==l?l:void pe(y(a),"Injector")}function re(a){return{toString:a}.toString()}var ze=(()=>((ze=ze||{})[ze.OnPush=0]="OnPush",ze[ze.Default=1]="Default",ze))(),yt=(()=>((yt=yt||{})[yt.Emulated=0]="Emulated",yt[yt.None=2]="None",yt[yt.ShadowDom=3]="ShadowDom",yt))();const Zt="undefined"!=typeof globalThis&&globalThis,wn="undefined"!=typeof window&&window,En="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fn=Zt||"undefined"!=typeof global&&global||wn||En,tt={},xt=[],rn=s({\u0275cmp:s}),Cn=s({\u0275dir:s}),qn=s({\u0275pipe:s}),zn=s({\u0275mod:s}),Vn=s({\u0275loc:s}),jn=s({\u0275fac:s}),Dt=s({__NG_ELEMENT_ID__:s});let At=0;function Oe(a){return re(()=>{const p={},b={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:p,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||xt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||yt.Emulated,id:"c",styles:a.styles||xt,_:null,setInput:null,schemas:a.schemas||null,tView:null},S=a.directives,R=a.features,k=a.pipes;return b.id+=At++,b.inputs=Fi(a.inputs,p),b.outputs=Fi(a.outputs),R&&R.forEach(H=>H(b)),b.directiveDefs=S?()=>("function"==typeof S?S():S).map(We):null,b.pipeDefs=k?()=>("function"==typeof k?k():k).map(bt):null,b})}function We(a){return Bi(a)||function(a){return a[Cn]||null}(a)}function bt(a){return function(a){return a[qn]||null}(a)}const Qt={};function Nn(a){return re(()=>{const l={type:a.type,bootstrap:a.bootstrap||xt,declarations:a.declarations||xt,imports:a.imports||xt,exports:a.exports||xt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Qt[a.id]=a.type),l})}function An(a,l){return re(()=>{const p=Tr(a,!0);p.declarations=l.declarations||xt,p.imports=l.imports||xt,p.exports=l.exports||xt})}function Fi(a,l){if(null==a)return tt;const p={};for(const b in a)if(a.hasOwnProperty(b)){let S=a[b],R=S;Array.isArray(S)&&(R=S[1],S=S[0]),p[S]=b,l&&(l[S]=R)}return p}const Ki=Oe;function tr(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Bi(a){return a[rn]||null}function Tr(a,l){const p=a[zn]||null;if(!p&&!0===l)throw new Error(`Type ${y(a)} does not have '\u0275mod' property.`);return p}function zr(a){return Array.isArray(a)&&"object"==typeof a[1]}function ur(a){return Array.isArray(a)&&!0===a[1]}function Yr(a){return 0!=(8&a.flags)}function Lr(a){return 2==(2&a.flags)}function fo(a){return 1==(1&a.flags)}function wo(a){return null!==a.template}function oo(a){return 0!=(512&a[2])}function Io(a,l){return a.hasOwnProperty(jn)?a[jn]:null}class ra{constructor(l,p,b){this.previousValue=l,this.currentValue=p,this.firstChange=b}isFirstChange(){return this.firstChange}}function No(){return pr}function pr(a){return a.type.prototype.ngOnChanges&&(a.setInput=vr),Zo}function Zo(){const a=br(this),l=null==a?void 0:a.current;if(l){const p=a.previous;if(p===tt)a.previous=l;else for(let b in l)p[b]=l[b];a.current=null,this.ngOnChanges(l)}}function vr(a,l,p,b){const S=br(a)||function(a,l){return a[Fo]=l}(a,{previous:tt,current:null}),R=S.current||(S.current={}),k=S.previous,H=this.declaredInputs[p],Q=k[H];R[H]=new ra(Q&&Q.currentValue,l,k===tt),a[b]=l}No.ngInherit=!0;const Fo="__ngSimpleChanges__";function br(a){return a[Fo]||null}const ys="http://www.w3.org/2000/svg";let Wo;function ma(a){Wo=a}function be(a){return!!a.listen}const Se={createRenderer:(a,l)=>void 0!==Wo?Wo:"undefined"!=typeof document?document:void 0};function $(a){for(;Array.isArray(a);)a=a[0];return a}function Wt(a,l){return $(l[a])}function Rn(a,l){return $(l[a.index])}function Ui(a,l){return a.data[l]}function Ei(a,l){return a[l]}function cr(a,l){const p=l[a];return zr(p)?p:p[0]}function fr(a){return 4==(4&a[2])}function Br(a){return 128==(128&a[2])}function Hr(a,l){return null==l?null:a[l]}function cs(a){a[18]=0}function us(a,l){a[5]+=l;let p=a,b=a[3];for(;null!==b&&(1===l&&1===p[5]||-1===l&&0===p[5]);)b[5]+=l,p=b,b=b[3]}const ci={lFrame:go(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ua(){return ci.bindingsEnabled}function In(){return ci.lFrame.lView}function Mi(){return ci.lFrame.tView}function qo(a){return ci.lFrame.contextLView=a,a[8]}function Kr(){let a=Cs();for(;null!==a&&64===a.type;)a=a.parent;return a}function Cs(){return ci.lFrame.currentTNode}function Zs(a,l){const p=ci.lFrame;p.currentTNode=a,p.isParent=l}function He(){return ci.lFrame.isParent}function V(){ci.lFrame.isParent=!1}function Ue(){return ci.isInCheckNoChangesMode}function et(a){ci.isInCheckNoChangesMode=a}function gt(){const a=ci.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function St(){return ci.lFrame.bindingIndex}function vn(){return ci.lFrame.bindingIndex++}function Hn(a){const l=ci.lFrame,p=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,p}function Pi(a,l){const p=ci.lFrame;p.bindingIndex=p.bindingRootIndex=a,yi(l)}function yi(a){ci.lFrame.currentDirectiveIndex=a}function Hi(a){const l=ci.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Rr(){return ci.lFrame.currentQueryIndex}function Fr(a){ci.lFrame.currentQueryIndex=a}function xr(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function nr(a,l,p){if(p&ft.SkipSelf){let S=l,R=a;for(;!(S=S.parent,null!==S||p&ft.Host||(S=xr(R),null===S||(R=R[15],10&S.type))););if(null===S)return!1;l=S,a=R}const b=ci.lFrame=Ts();return b.currentTNode=l,b.lView=a,!0}function hs(a){const l=Ts(),p=a[1];ci.lFrame=l,l.currentTNode=p.firstChild,l.lView=a,l.tView=p,l.contextLView=a,l.bindingIndex=p.bindingStartIndex,l.inI18n=!1}function Ts(){const a=ci.lFrame,l=null===a?null:a.child;return null===l?go(a):l}function go(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function es(){const a=ci.lFrame;return ci.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ws=es;function So(){const a=es();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Ar(){return ci.lFrame.selectedIndex}function Qs(a){ci.lFrame.selectedIndex=a}function dr(){const a=ci.lFrame;return Ui(a.tView,a.selectedIndex)}function ei(){ci.lFrame.currentNamespace=ys}function Ci(){ci.lFrame.currentNamespace=null}function ao(a,l){for(let p=l.directiveStart,b=l.directiveEnd;p<b;p++){const R=a.data[p].type.prototype,{ngAfterContentInit:k,ngAfterContentChecked:H,ngAfterViewInit:Q,ngAfterViewChecked:ge,ngOnDestroy:Ae}=R;k&&(a.contentHooks||(a.contentHooks=[])).push(-p,k),H&&((a.contentHooks||(a.contentHooks=[])).push(p,H),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(p,H)),Q&&(a.viewHooks||(a.viewHooks=[])).push(-p,Q),ge&&((a.viewHooks||(a.viewHooks=[])).push(p,ge),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(p,ge)),null!=Ae&&(a.destroyHooks||(a.destroyHooks=[])).push(p,Ae)}}function Ir(a,l,p){zo(a,l,3,p)}function wr(a,l,p,b){(3&a[2])===p&&zo(a,l,p,b)}function qs(a,l){let p=a[2];(3&p)===l&&(p&=2047,p+=1,a[2]=p)}function zo(a,l,p,b){const R=null!=b?b:-1,k=l.length-1;let H=0;for(let Q=void 0!==b?65535&a[18]:0;Q<k;Q++)if("number"==typeof l[Q+1]){if(H=l[Q],null!=b&&H>=b)break}else l[Q]<0&&(a[18]+=65536),(H<R||-1==R)&&(ps(a,p,l,Q),a[18]=(4294901760&a[18])+Q+2),Q++}function ps(a,l,p,b){const S=p[b]<0,R=p[b+1],H=a[S?-p[b]:p[b]];if(S){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{R.call(H)}finally{}}}else try{R.call(H)}finally{}}class ts{constructor(l,p,b){this.factory=l,this.resolving=!1,this.canSeeViewProviders=p,this.injectImpl=b}}function Rl(a,l,p){const b=be(a);let S=0;for(;S<p.length;){const R=p[S];if("number"==typeof R){if(0!==R)break;S++;const k=p[S++],H=p[S++],Q=p[S++];b?a.setAttribute(l,H,Q,k):l.setAttributeNS(k,H,Q)}else{const k=R,H=p[++S];Ao(k)?b&&a.setProperty(l,k,H):b?a.setAttribute(l,k,H):l.setAttribute(k,H),S++}}return S}function ns(a){return 3===a||4===a||6===a}function Ao(a){return 64===a.charCodeAt(0)}function xl(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let p=-1;for(let b=0;b<l.length;b++){const S=l[b];"number"==typeof S?p=S:0===p||Ss(a,p,S,null,-1===p||2===p?l[++b]:null)}}return a}function Ss(a,l,p,b,S){let R=0,k=a.length;if(-1===l)k=-1;else for(;R<a.length;){const H=a[R++];if("number"==typeof H){if(H===l){k=-1;break}if(H>l){k=R-1;break}}}for(;R<a.length;){const H=a[R];if("number"==typeof H)break;if(H===p){if(null===b)return void(null!==S&&(a[R+1]=S));if(b===a[R+1])return void(a[R+2]=S)}R++,null!==b&&R++,null!==S&&R++}-1!==k&&(a.splice(k,0,l),R=k+1),a.splice(R++,0,p),null!==b&&a.splice(R++,0,b),null!==S&&a.splice(R++,0,S)}function Il(a){return-1!==a}function ja(a){return 32767&a}function ya(a,l){let p=function(a){return a>>16}(a),b=l;for(;p>0;)b=b[15],p--;return b}let Al=!0;function Ol(a){const l=Al;return Al=a,l}let kl=0;function _l(a,l){const p=il(a,l);if(-1!==p)return p;const b=l[1];b.firstCreatePass&&(a.injectorIndex=l.length,vl(b.data,a),vl(l,null),vl(b.blueprint,null));const S=Uc(a,l),R=a.injectorIndex;if(Il(S)){const k=ja(S),H=ya(S,l),Q=H[1].data;for(let ge=0;ge<8;ge++)l[R+ge]=H[k+ge]|Q[k+ge]}return l[R+8]=S,R}function vl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function il(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Uc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let p=0,b=null,S=l;for(;null!==S;){const R=S[1],k=R.type;if(b=2===k?R.declTNode:1===k?S[6]:null,null===b)return-1;if(p++,S=S[15],-1!==b.injectorIndex)return b.injectorIndex|p<<16}return-1}function oe(a,l,p){!function(a,l,p){let b;"string"==typeof p?b=p.charCodeAt(0)||0:p.hasOwnProperty(Dt)&&(b=p[Dt]),null==b&&(b=p[Dt]=kl++);const S=255&b;l.data[a+(S>>5)]|=1<<S}(a,l,p)}function z(a,l,p){if(p&ft.Optional)return a;pe(l,"NodeInjector")}function Ee(a,l,p,b){if(p&ft.Optional&&void 0===b&&(b=null),0==(p&(ft.Self|ft.Host))){const S=a[9],R=Ht(void 0);try{return S?S.get(l,b,p&ft.Optional):Je(l,b,p&ft.Optional)}finally{Ht(R)}}return z(b,l,p)}function Re(a,l,p,b=ft.Default,S){if(null!==a){const R=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Dt)?a[Dt]:void 0;return"number"==typeof l?l>=0?255&l:vt:l}(p);if("function"==typeof R){if(!nr(l,a,b))return b&ft.Host?z(S,p,b):Ee(l,p,b,S);try{const k=R(b);if(null!=k||b&ft.Optional)return k;pe(p)}finally{ws()}}else if("number"==typeof R){let k=null,H=il(a,l),Q=-1,ge=b&ft.Host?l[16][6]:null;for((-1===H||b&ft.SkipSelf)&&(Q=-1===H?Uc(a,l):l[H+8],-1!==Q&&ir(b,!1)?(k=l[1],H=ja(Q),l=ya(Q,l)):H=-1);-1!==H;){const Ae=l[1];if(_i(R,H,Ae.data)){const qe=kt(H,l,p,k,b,ge);if(qe!==$e)return qe}Q=l[H+8],-1!==Q&&ir(b,l[1].data[H+8]===ge)&&_i(R,H,l)?(k=Ae,H=ja(Q),l=ya(Q,l)):H=-1}}}return Ee(l,p,b,S)}const $e={};function vt(){return new zi(Kr(),In())}function kt(a,l,p,b,S,R){const k=l[1],H=k.data[a+8],Ae=yn(H,k,p,null==b?Lr(H)&&Al:b!=k&&0!=(3&H.type),S&ft.Host&&R===H);return null!==Ae?Zn(l,k,Ae,H):$e}function yn(a,l,p,b,S){const R=a.providerIndexes,k=l.data,H=1048575&R,Q=a.directiveStart,Ae=R>>20,st=S?H+Ae:a.directiveEnd;for(let Rt=b?H:H+Ae;Rt<st;Rt++){const jt=k[Rt];if(Rt<Q&&p===jt||Rt>=Q&&jt.type===p)return Rt}if(S){const Rt=k[Q];if(Rt&&wo(Rt)&&Rt.type===p)return Q}return null}function Zn(a,l,p,b){let S=a[p];const R=l.data;if(function(a){return a instanceof ts}(S)){const k=S;k.resolving&&function(a,l){throw new se("200",`Circular dependency in DI detected for ${a}`)}(xe(R[p]));const H=Ol(k.canSeeViewProviders);k.resolving=!0;const Q=k.injectImpl?Ht(k.injectImpl):null;nr(a,b,ft.Default);try{S=a[p]=k.factory(void 0,R,a,b),l.firstCreatePass&&p>=b.directiveStart&&function(a,l,p){const{ngOnChanges:b,ngOnInit:S,ngDoCheck:R}=l.type.prototype;if(b){const k=pr(l);(p.preOrderHooks||(p.preOrderHooks=[])).push(a,k),(p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(a,k)}S&&(p.preOrderHooks||(p.preOrderHooks=[])).push(0-a,S),R&&((p.preOrderHooks||(p.preOrderHooks=[])).push(a,R),(p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(a,R))}(p,R[p],l)}finally{null!==Q&&Ht(Q),Ol(H),k.resolving=!1,ws()}}return S}function _i(a,l,p){return!!(p[l+(a>>5)]&1<<a)}function ir(a,l){return!(a&ft.Self||a&ft.Host&&l)}class zi{constructor(l,p){this._tNode=l,this._lView=p}get(l,p,b){return Re(this._tNode,this._lView,l,b,p)}}function _o(a){return re(()=>{const l=a.prototype.constructor,p=l[jn]||Yo(l),b=Object.prototype;let S=Object.getPrototypeOf(a.prototype).constructor;for(;S&&S!==b;){const R=S[jn]||Yo(S);if(R&&R!==p)return R;S=Object.getPrototypeOf(S)}return R=>new R})}function Yo(a){return ne(a)?()=>{const l=Yo(B(a));return l&&l()}:Io(a)}function gs(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const p=a.attrs;if(p){const b=p.length;let S=0;for(;S<b;){const R=p[S];if(ns(R))break;if(0===R)S+=2;else if("number"==typeof R)for(S++;S<b&&"string"==typeof p[S];)S++;else{if(R===l)return p[S+1];S+=2}}}return null}(Kr(),a)}const to="__parameters__";function Ya(a,l,p){return re(()=>{const b=function(a){return function(...p){if(a){const b=a(...p);for(const S in b)this[S]=b[S]}}}(l);function S(...R){if(this instanceof S)return b.apply(this,R),this;const k=new S(...R);return H.annotation=k,H;function H(Q,ge,Ae){const qe=Q.hasOwnProperty(to)?Q[to]:Object.defineProperty(Q,to,{value:[]})[to];for(;qe.length<=Ae;)qe.push(null);return(qe[Ae]=qe[Ae]||[]).push(k),Q}}return p&&(S.prototype=Object.create(p.prototype)),S.prototype.ngMetadataName=a,S.annotationCls=S,S})}class Xr{constructor(l,p){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof p?this.__NG_ELEMENT_ID__=p:void 0!==p&&(this.\u0275prov=Vt({token:this,providedIn:p.providedIn||"root",factory:p.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bc=new Xr("AnalyzeForEntryComponents"),Ka=Function;function Vs(a,l){void 0===l&&(l=a);for(let p=0;p<a.length;p++){let b=a[p];Array.isArray(b)?(l===a&&(l=a.slice(0,p)),Vs(b,l)):l!==a&&l.push(b)}return l}function Mo(a,l){a.forEach(p=>Array.isArray(p)?Mo(p,l):l(p))}function Ll(a,l,p){l>=a.length?a.push(p):a.splice(l,0,p)}function yl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ol(a,l){const p=[];for(let b=0;b<a;b++)p.push(l);return p}function Ms(a,l,p){let b=Ql(a,l);return b>=0?a[1|b]=p:(b=~b,function(a,l,p,b){let S=a.length;if(S==l)a.push(p,b);else if(1===S)a.push(b,a[0]),a[0]=p;else{for(S--,a.push(a[S-1],a[S]);S>l;)a[S]=a[S-2],S--;a[l]=p,a[l+1]=b}}(a,b,l,p)),b}function El(a,l){const p=Ql(a,l);if(p>=0)return a[1|p]}function Ql(a,l){return function(a,l,p){let b=0,S=a.length>>p;for(;S!==b;){const R=b+(S-b>>1),k=a[R<<p];if(l===k)return R<<p;k>l?S=R:b=R+1}return~(S<<p)}(a,l,1)}const Ja={},al="__NG_DI_FLAG__",ta="ngTempTokenPath",Bl=/\n/gm,Ec="__source",zc=s({provide:String,useValue:s});let js;function Hl(a){const l=js;return js=a,l}function ql(a,l=ft.Default){if(void 0===js)throw new Error("inject() must be called from an injection context");return null===js?Je(a,void 0,l):js.get(a,l&ft.Optional?null:void 0,l)}function no(a,l=ft.Default){return(hn||ql)(B(a),l)}const pd=no;function Ea(a){const l=[];for(let p=0;p<a.length;p++){const b=B(a[p]);if(Array.isArray(b)){if(0===b.length)throw new Error("Arguments array must have arguments.");let S,R=ft.Default;for(let k=0;k<b.length;k++){const H=b[k],Q=Yc(H);"number"==typeof Q?-1===Q?S=H.token:R|=Q:S=H}l.push(no(S,R))}else l.push(no(b))}return l}function Cc(a,l){return a[al]=l,a.prototype[al]=l,a}function Yc(a){return a[al]}function wu(a,l,p,b){const S=a[ta];throw l[Ec]&&S.unshift(l[Ec]),a.message=function(a,l,p,b=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let S=y(l);if(Array.isArray(l))S=l.map(y).join(" -> ");else if("object"==typeof l){let R=[];for(let k in l)if(l.hasOwnProperty(k)){let H=l[k];R.push(k+":"+("string"==typeof H?JSON.stringify(H):y(H)))}S=`{${R.join(", ")}}`}return`${p}${b?"("+b+")":""}[${S}]: ${a.replace(Bl,"\n  ")}`}("\n"+a.message,S,p,b),a.ngTokenPath=S,a[ta]=null,a}const Aa=Cc(Ya("Inject",a=>({token:a})),-1),Oa=Cc(Ya("Optional"),8),Ca=Cc(Ya("SkipSelf"),4);let rc;function ka(a){var l;return(null===(l=function(){if(void 0===rc&&(rc=null,fn.trustedTypes))try{rc=fn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return rc}())||void 0===l?void 0:l.createHTML(a))||a}class cn{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mn extends cn{getTypeName(){return"HTML"}}class Tn extends cn{getTypeName(){return"Style"}}class vi extends cn{getTypeName(){return"Script"}}class ui extends cn{getTypeName(){return"URL"}}class Li extends cn{getTypeName(){return"ResourceURL"}}function Er(a){return a instanceof cn?a.changingThisBreaksApplicationSecurity:a}function xi(a,l){const p=qi(a);if(null!=p&&p!==l){if("ResourceURL"===p&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${p} (see https://g.co/ng/security#xss)`)}return p===l}function qi(a){return a instanceof cn&&a.getTypeName()||null}function $r(a){return new mn(a)}function Ro(a){return new Tn(a)}function Oo(a){return new vi(a)}function zs(a){return new ui(a)}function xs(a){return new Li(a)}class wa{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const p=(new window.DOMParser).parseFromString(ka(l),"text/html").body;return null===p?this.inertDocumentHelper.getInertBodyElement(l):(p.removeChild(p.firstChild),p)}catch(p){return null}}}class qa{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const p=this.inertDocument.createElement("html");this.inertDocument.appendChild(p);const b=this.inertDocument.createElement("body");p.appendChild(b)}}getInertBodyElement(l){const p=this.inertDocument.createElement("template");if("content"in p)return p.innerHTML=ka(l),p;const b=this.inertDocument.createElement("body");return b.innerHTML=ka(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(b),b}stripCustomNsAttrs(l){const p=l.attributes;for(let S=p.length-1;0<S;S--){const k=p.item(S).name;("xmlns:ns1"===k||0===k.indexOf("ns1:"))&&l.removeAttribute(k)}let b=l.firstChild;for(;b;)b.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(b),b=b.nextSibling}}const Ch=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Au=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _s(a){return(a=String(a)).match(Ch)||a.match(Au)?a:"unsafe:"+a}function la(a){const l={};for(const p of a.split(","))l[p]=!0;return l}function ll(...a){const l={};for(const p of a)for(const b in p)p.hasOwnProperty(b)&&(l[b]=!0);return l}const Sc=la("area,br,col,hr,img,wbr"),Ou=la("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xd=la("rp,rt"),Dc=ll(Sc,ll(Ou,la("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ll(Xd,la("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ll(Xd,Ou)),Pu=la("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_d=la("srcset"),bd=ll(Pu,_d,la("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),la("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wh=la("script,style,template");class Sh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let p=l.firstChild,b=!0;for(;p;)if(p.nodeType===Node.ELEMENT_NODE?b=this.startElement(p):p.nodeType===Node.TEXT_NODE?this.chars(p.nodeValue):this.sanitizedSomething=!0,b&&p.firstChild)p=p.firstChild;else for(;p;){p.nodeType===Node.ELEMENT_NODE&&this.endElement(p);let S=this.checkClobberedElement(p,p.nextSibling);if(S){p=S;break}p=this.checkClobberedElement(p,p.parentNode)}return this.buf.join("")}startElement(l){const p=l.nodeName.toLowerCase();if(!Dc.hasOwnProperty(p))return this.sanitizedSomething=!0,!wh.hasOwnProperty(p);this.buf.push("<"),this.buf.push(p);const b=l.attributes;for(let S=0;S<b.length;S++){const R=b.item(S),k=R.name,H=k.toLowerCase();if(!bd.hasOwnProperty(H)){this.sanitizedSomething=!0;continue}let Q=R.value;Pu[H]&&(Q=_s(Q)),_d[H]&&(a=Q,Q=(a=String(a)).split(",").map(l=>_s(l.trim())).join(", ")),this.buf.push(" ",k,'="',Xc(Q),'"')}var a;return this.buf.push(">"),!0}endElement(l){const p=l.nodeName.toLowerCase();Dc.hasOwnProperty(p)&&!Sc.hasOwnProperty(p)&&(this.buf.push("</"),this.buf.push(p),this.buf.push(">"))}chars(l){this.buf.push(Xc(l))}checkClobberedElement(l,p){if(p&&(l.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return p}}const Wl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hp=/([^\#-~ |!])/g;function Xc(a){return a.replace(/&/g,"&amp;").replace(Wl,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(hp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $c;function Jc(a,l){let p=null;try{$c=$c||function(a){const l=new qa(a);return function(){try{return!!(new window.DOMParser).parseFromString(ka(""),"text/html")}catch(a){return!1}}()?new wa(l):l}(a);let b=l?String(l):"";p=$c.getInertBodyElement(b);let S=5,R=b;do{if(0===S)throw new Error("Failed to sanitize html because the input is unstable");S--,b=R,R=p.innerHTML,p=$c.getInertBodyElement(b)}while(b!==R);return ka((new Sh).sanitizeChildren(Mc(p)||p))}finally{if(p){const b=Mc(p)||p;for(;b.firstChild;)b.removeChild(b.firstChild)}}}function Mc(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var co=(()=>((co=co||{})[co.NONE=0]="NONE",co[co.HTML=1]="HTML",co[co.STYLE=2]="STYLE",co[co.SCRIPT=3]="SCRIPT",co[co.URL=4]="URL",co[co.RESOURCE_URL=5]="RESOURCE_URL",co))();function ca(a){const l=function(){const a=In();return a&&a[12]}();return l?l.sanitize(co.URL,a)||"":xi(a,"URL")?Er(a):_s(Me(a))}const Zc="__ngContext__";function rs(a,l){a[Zc]=l}function Bu(a){const l=function(a){return a[Zc]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Md(a){return a.ngOriginalError}function Rd(a,...l){a.error(...l)}class Ic{constructor(){this._console=console}handleError(l){const p=this._findOriginalError(l),b=this._findContext(l),S=(a=l)&&a.ngErrorLogger||Rd;var a;S(this._console,"ERROR",l),p&&S(this._console,"ORIGINAL ERROR",p),b&&S(this._console,"ERROR CONTEXT",b)}_findContext(l){return l?l.ngDebugContext||this._findContext(Md(l)):null}_findOriginalError(l){let p=l&&Md(l);for(;p&&Md(p);)p=Md(p);return p||null}}const Id=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(fn))();function ul(a){return a instanceof Function?a():a}var el=(()=>((el=el||{})[el.Important=1]="Important",el[el.DashCase=2]="DashCase",el))();function ju(a,l){return undefined(a,l)}function os(a){const l=a[3];return ur(l)?l[3]:l}function zu(a){return w(a[13])}function Yu(a){return w(a[4])}function w(a){for(;null!==a&&!ur(a);)a=a[4];return a}function G(a,l,p,b,S){if(null!=b){let R,k=!1;ur(b)?R=b:zr(b)&&(k=!0,b=b[0]);const H=$(b);0===a&&null!==p?null==S?Vr(l,p,H):jr(l,p,H,S||null,!0):1===a&&null!==p?jr(l,p,H,S||null,!0):2===a?function(a,l,p){const b=Is(a,l);b&&function(a,l,p,b){be(a)?a.removeChild(l,p,b):l.removeChild(p)}(a,b,l,p)}(l,H,k):3===a&&l.destroyNode(H),null!=R&&function(a,l,p,b,S){const R=p[7];R!==$(p)&&G(l,a,b,R,S);for(let H=10;H<p.length;H++){const Q=p[H];Od(Q[1],Q,a,l,b,R)}}(l,a,R,p,S)}}function Le(a,l,p){return be(a)?a.createElement(l,p):null===p?a.createElement(l):a.createElementNS(p,l)}function Kt(a,l){const p=a[9],b=p.indexOf(l),S=l[3];1024&l[2]&&(l[2]&=-1025,us(S,-1)),p.splice(b,1)}function pn(a,l){if(a.length<=10)return;const p=10+l,b=a[p];if(b){const S=b[17];null!==S&&S!==a&&Kt(S,b),l>0&&(a[p-1][4]=b[4]);const R=yl(a,10+l);!function(a,l){Od(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(b[1],b);const k=R[19];null!==k&&k.detachView(R[1]),b[3]=null,b[4]=null,b[2]&=-129}return b}function Ln(a,l){if(!(256&l[2])){const p=l[11];be(p)&&p.destroyNode&&Od(a,l,p,3,null,null),function(a){let l=a[13];if(!l)return Bn(a[1],a);for(;l;){let p=null;if(zr(l))p=l[13];else{const b=l[10];b&&(p=b)}if(!p){for(;l&&!l[4]&&l!==a;)zr(l)&&Bn(l[1],l),l=l[3];null===l&&(l=a),zr(l)&&Bn(l[1],l),p=l&&l[4]}l=p}}(l)}}function Bn(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let p;if(null!=a&&null!=(p=a.destroyHooks))for(let b=0;b<p.length;b+=2){const S=l[p[b]];if(!(S instanceof ts)){const R=p[b+1];if(Array.isArray(R))for(let k=0;k<R.length;k+=2){const H=S[R[k]],Q=R[k+1];try{Q.call(H)}finally{}}else try{R.call(S)}finally{}}}}(a,l),function(a,l){const p=a.cleanup,b=l[7];let S=-1;if(null!==p)for(let R=0;R<p.length-1;R+=2)if("string"==typeof p[R]){const k=p[R+1],H="function"==typeof k?k(l):$(l[k]),Q=b[S=p[R+2]],ge=p[R+3];"boolean"==typeof ge?H.removeEventListener(p[R],Q,ge):ge>=0?b[S=ge]():b[S=-ge].unsubscribe(),R+=2}else{const k=b[S=p[R+1]];p[R].call(k)}if(null!==b){for(let R=S+1;R<b.length;R++)b[R]();l[7]=null}}(a,l),1===l[1].type&&be(l[11])&&l[11].destroy();const p=l[17];if(null!==p&&ur(l[3])){p!==l[3]&&Kt(p,l);const b=l[19];null!==b&&b.detachView(a)}}}function hr(a,l,p){return function(a,l,p){let b=l;for(;null!==b&&40&b.type;)b=(l=b).parent;if(null===b)return p[0];if(2&b.flags){const S=a.data[b.directiveStart].encapsulation;if(S===yt.None||S===yt.Emulated)return null}return Rn(b,p)}(a,l.parent,p)}function jr(a,l,p,b,S){be(a)?a.insertBefore(l,p,b,S):l.insertBefore(p,b,S)}function Vr(a,l,p){be(a)?a.appendChild(l,p):l.appendChild(p)}function Sr(a,l,p,b,S){null!==b?jr(a,l,p,b,S):Vr(a,l,p)}function Is(a,l){return be(a)?a.parentNode(l):l.parentNode}function $o(a,l,p){return Ho(a,l,p)}let Ho=function(a,l,p){return 40&a.type?Rn(a,p):null};function Da(a,l,p,b){const S=hr(a,b,l),R=l[11],H=$o(b.parent||l[6],b,l);if(null!=S)if(Array.isArray(p))for(let Q=0;Q<p.length;Q++)Sr(R,S,p[Q],H,!1);else Sr(R,S,p,H,!1)}function La(a,l){if(null!==l){const p=l.type;if(3&p)return Rn(l,a);if(4&p)return As(-1,a[l.index]);if(8&p){const b=l.child;if(null!==b)return La(a,b);{const S=a[l.index];return ur(S)?As(-1,S):$(S)}}if(32&p)return ju(l,a)()||$(a[l.index]);{const b=Ac(a,l);return null!==b?Array.isArray(b)?b[0]:La(os(a[16]),b):La(a,l.next)}}return null}function Ac(a,l){return null!==l?a[16][6].projection[l.projection]:null}function As(a,l){const p=10+a+1;if(p<l.length){const b=l[p],S=b[1].firstChild;if(null!==S)return La(b,S)}return l[7]}function Xu(a,l,p,b,S,R,k){for(;null!=p;){const H=b[p.index],Q=p.type;if(k&&0===l&&(H&&rs($(H),b),p.flags|=4),64!=(64&p.flags))if(8&Q)Xu(a,l,p.child,b,S,R,!1),G(l,a,S,H,R);else if(32&Q){const ge=ju(p,b);let Ae;for(;Ae=ge();)G(l,a,S,Ae,R);G(l,a,S,H,R)}else 16&Q?_p(a,l,b,p,S,R):G(l,a,S,H,R);p=k?p.projectionNext:p.next}}function Od(a,l,p,b,S,R){Xu(p,b,a.firstChild,l,S,R,!1)}function _p(a,l,p,b,S,R){const k=p[16],Q=k[6].projection[b.projection];if(Array.isArray(Q))for(let ge=0;ge<Q.length;ge++)G(l,a,S,Q[ge],R);else Xu(a,l,Q,k[3],S,R,!0)}function vp(a,l,p){be(a)?a.setAttribute(l,"style",p):l.style.cssText=p}function Fh(a,l,p){be(a)?""===p?a.removeAttribute(l,"class"):a.setAttribute(l,"class",p):l.className=p}function nh(a,l,p){let b=a.length;for(;;){const S=a.indexOf(l,p);if(-1===S)return S;if(0===S||a.charCodeAt(S-1)<=32){const R=l.length;if(S+R===b||a.charCodeAt(S+R)<=32)return S}p=S+1}}const bp="ng-template";function wf(a,l,p){let b=0;for(;b<a.length;){let S=a[b++];if(p&&"class"===S){if(S=a[b],-1!==nh(S.toLowerCase(),l,0))return!0}else if(1===S){for(;b<a.length&&"string"==typeof(S=a[b++]);)if(S.toLowerCase()===l)return!0;return!1}}return!1}function Bh(a){return 4===a.type&&a.value!==bp}function Sf(a,l,p){return l===(4!==a.type||p?a.value:bp)}function Df(a,l,p){let b=4;const S=a.attrs||[],R=function(a){for(let l=0;l<a.length;l++)if(ns(a[l]))return l;return a.length}(S);let k=!1;for(let H=0;H<l.length;H++){const Q=l[H];if("number"!=typeof Q){if(!k)if(4&b){if(b=2|1&b,""!==Q&&!Sf(a,Q,p)||""===Q&&1===l.length){if(Os(b))return!1;k=!0}}else{const ge=8&b?Q:l[++H];if(8&b&&null!==a.attrs){if(!wf(a.attrs,ge,p)){if(Os(b))return!1;k=!0}continue}const qe=Dg(8&b?"class":Q,S,Bh(a),p);if(-1===qe){if(Os(b))return!1;k=!0;continue}if(""!==ge){let st;st=qe>R?"":S[qe+1].toLowerCase();const Rt=8&b?st:null;if(Rt&&-1!==nh(Rt,ge,0)||2&b&&ge!==st){if(Os(b))return!1;k=!0}}}}else{if(!k&&!Os(b)&&!Os(Q))return!1;if(k&&Os(Q))continue;k=!1,b=Q|1&b}}return Os(b)||k}function Os(a){return 0==(1&a)}function Dg(a,l,p,b){if(null===l)return-1;let S=0;if(b||!p){let R=!1;for(;S<l.length;){const k=l[S];if(k===a)return S;if(3===k||6===k)R=!0;else{if(1===k||2===k){let H=l[++S];for(;"string"==typeof H;)H=l[++S];continue}if(4===k)break;if(0===k){S+=4;continue}}S+=R?1:2}return-1}return function(a,l){let p=a.indexOf(4);if(p>-1)for(p++;p<a.length;){const b=a[p];if("number"==typeof b)return-1;if(b===l)return p;p++}return-1}(l,a)}function yp(a,l,p=!1){for(let b=0;b<l.length;b++)if(Df(a,l[b],p))return!0;return!1}function Ep(a,l){e:for(let p=0;p<l.length;p++){const b=l[p];if(a.length===b.length){for(let S=0;S<a.length;S++)if(a[S]!==b[S])continue e;return!0}}return!1}function ih(a,l){return a?":not("+l.trim()+")":l}function Cp(a){let l=a[0],p=1,b=2,S="",R=!1;for(;p<a.length;){let k=a[p];if("string"==typeof k)if(2&b){const H=a[++p];S+="["+k+(H.length>0?'="'+H+'"':"")+"]"}else 8&b?S+="."+k:4&b&&(S+=" "+k);else""!==S&&!Os(k)&&(l+=ih(R,S),S=""),b=k,R=R||!Os(b);p++}return""!==S&&(l+=ih(R,S)),l}const Gi={};function Hh(a){wp(Mi(),In(),Ar()+a,Ue())}function wp(a,l,p,b){if(!b)if(3==(3&l[2])){const R=a.preOrderCheckHooks;null!==R&&Ir(l,R,p)}else{const R=a.preOrderHooks;null!==R&&wr(l,R,0,p)}Qs(p)}function rh(a,l){return a<<17|l<<2}function Tl(a){return a>>17&32767}function Vh(a){return 2|a}function sc(a){return(131068&a)>>2}function Na(a,l){return-131069&a|l<<2}function Uh(a){return 1|a}function Ap(a,l){const p=a.contentQueries;if(null!==p)for(let b=0;b<p.length;b+=2){const S=p[b],R=p[b+1];if(-1!==R){const k=a.data[R];Fr(S),k.contentQueries(2,l[R],R)}}}function Ld(a,l,p,b,S,R,k,H,Q,ge){const Ae=l.blueprint.slice();return Ae[0]=S,Ae[2]=140|b,cs(Ae),Ae[3]=Ae[15]=a,Ae[8]=p,Ae[10]=k||a&&a[10],Ae[11]=H||a&&a[11],Ae[12]=Q||a&&a[12]||null,Ae[9]=ge||a&&a[9]||null,Ae[6]=R,Ae[16]=2==l.type?a[16]:Ae,Ae}function Ju(a,l,p,b,S){let R=a.data[l];if(null===R)R=function(a,l,p,b,S){const R=Cs(),k=He(),Q=a.data[l]=function(a,l,p,b,S,R){return{type:p,index:b,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:S,attrs:R,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?R:R&&R.parent,p,l,b,S);return null===a.firstChild&&(a.firstChild=Q),null!==R&&(k?null==R.child&&null!==Q.parent&&(R.child=Q):null===R.next&&(R.next=Q)),Q}(a,l,p,b,S),ci.lFrame.inI18n&&(R.flags|=64);else if(64&R.type){R.type=p,R.value=b,R.attrs=S;const k=function(){const a=ci.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();R.injectorIndex=null===k?-1:k.injectorIndex}return Zs(R,!0),R}function Pc(a,l,p,b){if(0===p)return-1;const S=l.length;for(let R=0;R<p;R++)l.push(b),a.blueprint.push(b),a.data.push(null);return S}function Nd(a,l,p){hs(l);try{const b=a.viewQuery;null!==b&&ip(1,b,p);const S=a.template;null!==S&&Op(a,l,S,1,p),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Ap(a,l),a.staticViewQueries&&ip(2,a.viewQuery,p);const R=a.components;null!==R&&function(a,l){for(let p=0;p<l.length;p++)gh(a,l[p])}(l,R)}catch(b){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),b}finally{l[2]&=-5,So()}}function Zu(a,l,p,b){const S=l[2];if(256==(256&S))return;hs(l);const R=Ue();try{cs(l),function(a){ci.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==p&&Op(a,l,p,2,b);const k=3==(3&S);if(!R)if(k){const ge=a.preOrderCheckHooks;null!==ge&&Ir(l,ge,null)}else{const ge=a.preOrderHooks;null!==ge&&wr(l,ge,0,null),qs(l,0)}if(function(a){for(let l=zu(a);null!==l;l=Yu(l)){if(!l[2])continue;const p=l[9];for(let b=0;b<p.length;b++){const S=p[b],R=S[3];0==(1024&S[2])&&us(R,1),S[2]|=1024}}}(l),function(a){for(let l=zu(a);null!==l;l=Yu(l))for(let p=10;p<l.length;p++){const b=l[p],S=b[1];Br(b)&&Zu(S,b,S.template,b[8])}}(l),null!==a.contentQueries&&Ap(a,l),!R)if(k){const ge=a.contentCheckHooks;null!==ge&&Ir(l,ge)}else{const ge=a.contentHooks;null!==ge&&wr(l,ge,1),qs(l,1)}!function(a,l){const p=a.hostBindingOpCodes;if(null!==p)try{for(let b=0;b<p.length;b++){const S=p[b];if(S<0)Qs(~S);else{const R=S,k=p[++b],H=p[++b];Pi(k,R),H(2,l[R])}}}finally{Qs(-1)}}(a,l);const H=a.components;null!==H&&function(a,l){for(let p=0;p<l.length;p++)Ud(a,l[p])}(l,H);const Q=a.viewQuery;if(null!==Q&&ip(2,Q,b),!R)if(k){const ge=a.viewCheckHooks;null!==ge&&Ir(l,ge)}else{const ge=a.viewHooks;null!==ge&&wr(l,ge,2),qs(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),R||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,us(l[3],-1))}finally{So()}}function Ug(a,l,p,b){const S=l[10],R=!Ue(),k=fr(l);try{R&&!k&&S.begin&&S.begin(),k&&Nd(a,l,b),Zu(a,l,p,b)}finally{R&&!k&&S.end&&S.end()}}function Op(a,l,p,b,S){const R=Ar(),k=2&b;try{Qs(-1),k&&l.length>20&&wp(a,l,20,Ue()),p(b,S)}finally{Qs(R)}}function lh(a,l,p){if(Yr(l)){const S=l.directiveEnd;for(let R=l.directiveStart;R<S;R++){const k=a.data[R];k.contentQueries&&k.contentQueries(1,p[R],R)}}}function cc(a,l,p){!Ua()||(function(a,l,p,b){const S=p.directiveStart,R=p.directiveEnd;a.firstCreatePass||_l(p,l),rs(b,l);const k=p.initialInputs;for(let H=S;H<R;H++){const Q=a.data[H],ge=wo(Q);ge&&zg(l,p,Q);const Ae=Zn(l,a,H,p);rs(Ae,l),null!==k&&jf(0,H-S,Ae,Q,0,k),ge&&(cr(p.index,l)[8]=Ae)}}(a,l,p,Rn(p,l)),128==(128&p.flags)&&function(a,l,p){const b=p.directiveStart,S=p.directiveEnd,k=p.index,H=ci.lFrame.currentDirectiveIndex;try{Qs(k);for(let Q=b;Q<S;Q++){const ge=a.data[Q],Ae=l[Q];yi(Q),(null!==ge.hostBindings||0!==ge.hostVars||null!==ge.hostAttrs)&&Kl(ge,Ae)}}finally{Qs(-1),yi(H)}}(a,l,p))}function Qu(a,l,p=Rn){const b=l.localNames;if(null!==b){let S=l.index+1;for(let R=0;R<b.length;R+=2){const k=b[R+1],H=-1===k?p(l,a):a[k];a[S++]=H}}}function su(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=uc(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function uc(a,l,p,b,S,R,k,H,Q,ge){const Ae=20+b,qe=Ae+S,st=function(a,l){const p=[];for(let b=0;b<l;b++)p.push(b<a?null:Gi);return p}(Ae,qe),Rt="function"==typeof ge?ge():ge;return st[1]={type:a,blueprint:st,template:p,queries:null,viewQuery:H,declTNode:l,data:st.slice().fill(null,Ae),bindingStartIndex:Ae,expandoStartIndex:qe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof R?R():R,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:Q,consts:Rt,incompleteFirstPass:!1}}function uh(a,l,p,b){const S=g(l);null===p?S.push(b):(S.push(p),a.firstCreatePass&&d(a).push(b,S.length-1))}function Jh(a,l,p){for(let b in a)if(a.hasOwnProperty(b)){const S=a[b];(p=null===p?{}:p).hasOwnProperty(b)?p[b].push(l,S):p[b]=[l,S]}return p}function Ma(a,l,p,b,S,R,k,H){const Q=Rn(l,p);let Ae,ge=l.inputs;!H&&null!=ge&&(Ae=ge[b])?(h(a,p,Ae,b,S),Lr(l)&&function(a,l){const p=cr(l,a);16&p[2]||(p[2]|=64)}(p,l.index)):3&l.type&&(b=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(b),S=null!=k?k(S,l.value||"",b):S,be(R)?R.setProperty(Q,b,S):Ao(b)||(Q.setProperty?Q.setProperty(b,S):Q[b]=S))}function qh(a,l,p,b){let S=!1;if(Ua()){const R=function(a,l,p){const b=a.directiveRegistry;let S=null;if(b)for(let R=0;R<b.length;R++){const k=b[R];yp(p,k.selectors,!1)&&(S||(S=[]),oe(_l(p,l),a,k.type),wo(k)?(ph(a,p),S.unshift(k)):S.push(k))}return S}(a,l,p),k=null===b?null:{"":-1};if(null!==R){S=!0,Wf(p,a.data.length,R.length);for(let Ae=0;Ae<R.length;Ae++){const qe=R[Ae];qe.providersResolver&&qe.providersResolver(qe)}let H=!1,Q=!1,ge=Pc(a,l,R.length,null);for(let Ae=0;Ae<R.length;Ae++){const qe=R[Ae];p.mergedAttrs=xl(p.mergedAttrs,qe.hostAttrs),Fp(a,p,l,ge,qe),Gf(ge,qe,k),null!==qe.contentQueries&&(p.flags|=8),(null!==qe.hostBindings||null!==qe.hostAttrs||0!==qe.hostVars)&&(p.flags|=128);const st=qe.type.prototype;!H&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(p.index),H=!0),!Q&&(st.ngOnChanges||st.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(p.index),Q=!0),ge++}!function(a,l){const b=l.directiveEnd,S=a.data,R=l.attrs,k=[];let H=null,Q=null;for(let ge=l.directiveStart;ge<b;ge++){const Ae=S[ge],qe=Ae.inputs,st=null===R||Bh(l)?null:Yg(qe,R);k.push(st),H=Jh(qe,ge,H),Q=Jh(Ae.outputs,ge,Q)}null!==H&&(H.hasOwnProperty("class")&&(l.flags|=16),H.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=k,l.inputs=H,l.outputs=Q}(a,p)}k&&function(a,l,p){if(l){const b=a.localNames=[];for(let S=0;S<l.length;S+=2){const R=p[l[S+1]];if(null==R)throw new se("301",`Export of name '${l[S+1]}' not found!`);b.push(l[S],R)}}}(p,b,k)}return p.mergedAttrs=xl(p.mergedAttrs,p.attrs),S}function Bd(a,l,p,b,S,R){const k=R.hostBindings;if(k){let H=a.hostBindingOpCodes;null===H&&(H=a.hostBindingOpCodes=[]);const Q=~l.index;(function(a){let l=a.length;for(;l>0;){const p=a[--l];if("number"==typeof p&&p<0)return p}return 0})(H)!=Q&&H.push(Q),H.push(b,S,k)}}function Kl(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function ph(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Gf(a,l,p){if(p){if(l.exportAs)for(let b=0;b<l.exportAs.length;b++)p[l.exportAs[b]]=a;wo(l)&&(p[""]=a)}}function Wf(a,l,p){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+p,a.providerIndexes=l}function Fp(a,l,p,b,S){a.data[b]=S;const R=S.factory||(S.factory=Io(S.type)),k=new ts(R,wo(S),null);a.blueprint[b]=k,p[b]=k,Bd(a,l,0,b,Pc(a,p,S.hostVars,Gi),S)}function zg(a,l,p){const b=Rn(l,a),S=su(p),R=a[10],k=np(a,Ld(a,S,null,p.onPush?64:16,b,l,R,R.createRenderer(b,p),null,null));a[l.index]=k}function hc(a,l,p,b,S,R){const k=Rn(a,l);!function(a,l,p,b,S,R,k){if(null==R)be(a)?a.removeAttribute(l,S,p):l.removeAttribute(S);else{const H=null==k?Me(R):k(R,b||"",S);be(a)?a.setAttribute(l,S,H,p):p?l.setAttributeNS(p,S,H):l.setAttribute(S,H)}}(l[11],k,R,a.value,p,b,S)}function jf(a,l,p,b,S,R){const k=R[l];if(null!==k){const H=b.setInput;for(let Q=0;Q<k.length;){const ge=k[Q++],Ae=k[Q++],qe=k[Q++];null!==H?b.setInput(p,qe,ge,Ae):p[Ae]=qe}}}function Yg(a,l){let p=null,b=0;for(;b<l.length;){const S=l[b];if(0!==S)if(5!==S){if("number"==typeof S)break;a.hasOwnProperty(S)&&(null===p&&(p=[]),p.push(S,a[S],l[b+1])),b+=2}else b+=2;else b+=4}return p}function qu(a,l,p,b){return new Array(a,!0,!1,l,null,0,b,p,null,null)}function Ud(a,l){const p=cr(l,a);if(Br(p)){const b=p[1];80&p[2]?Zu(b,p,b.template,p[8]):p[5]>0&&ed(p)}}function ed(a){for(let b=zu(a);null!==b;b=Yu(b))for(let S=10;S<b.length;S++){const R=b[S];if(1024&R[2]){const k=R[1];Zu(k,R,k.template,R[8])}else R[5]>0&&ed(R)}const p=a[1].components;if(null!==p)for(let b=0;b<p.length;b++){const S=cr(p[b],a);Br(S)&&S[5]>0&&ed(S)}}function gh(a,l){const p=cr(l,a),b=p[1];(function(a,l){for(let p=l.length;p<a.blueprint.length;p++)l.push(a.blueprint[p])})(b,p),Nd(b,p,p[8])}function np(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function td(a){for(;a;){a[2]|=64;const l=os(a);if(oo(a)&&!l)return a;a=l}return null}function Bp(a,l,p){const b=l[10];b.begin&&b.begin();try{Zu(a,l,a.template,p)}catch(S){throw c(l,S),S}finally{b.end&&b.end()}}function Hp(a){!function(a){for(let l=0;l<a.components.length;l++){const p=a.components[l],b=Bu(p),S=b[1];Ug(S,b,S.template,p)}}(a[8])}function ip(a,l,p){Fr(0),l(a,p)}const Xf=(()=>Promise.resolve(null))();function g(a){return a[7]||(a[7]=[])}function d(a){return a.cleanup||(a.cleanup=[])}function r(a,l,p){return(null===a||wo(a))&&(p=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(p[l.index])),p[11]}function c(a,l){const p=a[9],b=p?p.get(Ic,null):null;b&&b.handleError(l)}function h(a,l,p,b,S){for(let R=0;R<p.length;){const k=p[R++],H=p[R++],Q=l[k],ge=a.data[k];null!==ge.setInput?ge.setInput(Q,S,b,H):Q[H]=S}}function m(a,l,p){const b=Wt(l,a);!function(a,l,p){be(a)?a.setValue(l,p):l.textContent=p}(a[11],b,p)}function C(a,l,p){let b=p?a.styles:null,S=p?a.classes:null,R=0;if(null!==l)for(let k=0;k<l.length;k++){const H=l[k];"number"==typeof H?R=H:1==R?S=M(S,H):2==R&&(b=M(b,H+": "+l[++k]+";"))}p?a.styles=b:a.stylesWithoutHost=b,p?a.classes=S:a.classesWithoutHost=S}const Y=new Xr("INJECTOR",-1);class le{get(l,p=Ja){if(p===Ja){const b=new Error(`NullInjectorError: No provider for ${y(l)}!`);throw b.name="NullInjectorError",b}return p}}const De=new Xr("Set Injector scope."),Ve={},nt={};let dt;function _t(){return void 0===dt&&(dt=new le),dt}function ln(a,l=null,p=null,b){return new Un(a,p,l||_t(),b)}class Un{constructor(l,p,b,S=null){this.parent=b,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const R=[];p&&Mo(p,H=>this.processProvider(H,l,p)),Mo([l],H=>this.processInjectorType(H,[],R)),this.records.set(Y,Jn(void 0,this));const k=this.records.get(De);this.scope=null!=k?k.value:null,this.source=S||("object"==typeof l?null:y(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,p=Ja,b=ft.Default){this.assertNotDestroyed();const S=Hl(this),R=Ht(void 0);try{if(!(b&ft.SkipSelf)){let H=this.records.get(l);if(void 0===H){const Q=("function"==typeof(a=l)||"object"==typeof a&&a instanceof Xr)&&xn(l);H=Q&&this.injectableDefInScope(Q)?Jn(Sn(l),Ve):null,this.records.set(l,H)}if(null!=H)return this.hydrate(l,H)}return(b&ft.Self?_t():this.parent).get(l,p=b&ft.Optional&&p===Ja?null:p)}catch(k){if("NullInjectorError"===k.name){if((k[ta]=k[ta]||[]).unshift(y(l)),S)throw k;return wu(k,l,"R3InjectorError",this.source)}throw k}finally{Ht(R),Hl(S)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((b,S)=>l.push(y(S))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,p,b){if(!(l=B(l)))return!1;let S=It(l);const R=null==S&&l.ngModule||void 0,k=void 0===R?l:R,H=-1!==b.indexOf(k);if(void 0!==R&&(S=It(R)),null==S)return!1;if(null!=S.imports&&!H){let Ae;b.push(k);try{Mo(S.imports,qe=>{this.processInjectorType(qe,p,b)&&(void 0===Ae&&(Ae=[]),Ae.push(qe))})}finally{}if(void 0!==Ae)for(let qe=0;qe<Ae.length;qe++){const{ngModule:st,providers:Rt}=Ae[qe];Mo(Rt,jt=>this.processProvider(jt,st,Rt||xt))}}this.injectorDefTypes.add(k);const Q=Io(k)||(()=>new k);this.records.set(k,Jn(Q,Ve));const ge=S.providers;if(null!=ge&&!H){const Ae=l;Mo(ge,qe=>this.processProvider(qe,Ae,ge))}return void 0!==R&&void 0!==l.providers}processProvider(l,p,b){let S=Wi(l=B(l))?l:B(l&&l.provide);const R=si(a=l)?Jn(void 0,a.useValue):Jn($n(a),Ve);var a;if(Wi(l)||!0!==l.multi)this.records.get(S);else{let k=this.records.get(S);k||(k=Jn(void 0,Ve,!0),k.factory=()=>Ea(k.multi),this.records.set(S,k)),S=l,k.multi.push(l)}this.records.set(S,R)}hydrate(l,p){return p.value===Ve&&(p.value=nt,p.value=p.factory()),"object"==typeof p.value&&p.value&&null!==(a=p.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(p.value),p.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const p=B(l.providedIn);return"string"==typeof p?"any"===p||p===this.scope:this.injectorDefTypes.has(p)}}function Sn(a){const l=xn(a),p=null!==l?l.factory:Io(a);if(null!==p)return p;if(a instanceof Xr)throw new Error(`Token ${y(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const b=ol(l,"?");throw new Error(`Can't resolve all parameters for ${y(a)}: (${b.join(", ")}).`)}const p=function(a){const l=a&&(a[Bt]||a[it]);if(l){const p=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${p}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${p}" class.`),l}return null}(a);return null!==p?()=>p.factory(a):()=>new a}(a);throw new Error("unreachable")}function $n(a,l,p){let b;if(Wi(a)){const S=B(a);return Io(S)||Sn(S)}if(si(a))b=()=>B(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))b=()=>a.useFactory(...Ea(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))b=()=>no(B(a.useExisting));else{const S=B(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Io(S)||Sn(S);b=()=>new S(...Ea(a.deps))}return b}function Jn(a,l,p=!1){return{factory:a,value:l,multi:p?[]:void 0}}function si(a){return null!==a&&"object"==typeof a&&zc in a}function Wi(a){return"function"==typeof a}const Ur=function(a,l,p){return function(a,l=null,p=null,b){const S=ln(a,l,p,b);return S._resolveInjectorDefTypes(),S}({name:p},l,a,p)};let Jr=(()=>{class a{static create(p,b){return Array.isArray(p)?Ur(p,b,""):Ur(p.providers,p.parent,p.name||"")}}return a.THROW_IF_NOT_FOUND=Ja,a.NULL=new le,a.\u0275prov=Vt({token:a,providedIn:"any",factory:()=>no(Y)}),a.__NG_ELEMENT_ID__=-1,a})();function Jf(a,l){ao(Bu(a)[1],Kr())}function Fm(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),p=!0;const b=[a];for(;l;){let S;if(wo(a))S=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");S=l.\u0275dir}if(S){if(p){b.push(S);const k=a;k.inputs=Bm(a.inputs),k.declaredInputs=Bm(a.declaredInputs),k.outputs=Bm(a.outputs);const H=S.hostBindings;H&&PC(a,H);const Q=S.viewQuery,ge=S.contentQueries;if(Q&&OC(a,Q),ge&&kC(a,ge),f(a.inputs,S.inputs),f(a.declaredInputs,S.declaredInputs),f(a.outputs,S.outputs),wo(S)&&S.data.animation){const Ae=a.data;Ae.animation=(Ae.animation||[]).concat(S.data.animation)}}const R=S.features;if(R)for(let k=0;k<R.length;k++){const H=R[k];H&&H.ngInherit&&H(a),H===Fm&&(p=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,p=null;for(let b=a.length-1;b>=0;b--){const S=a[b];S.hostVars=l+=S.hostVars,S.hostAttrs=xl(S.hostAttrs,p=xl(p,S.hostAttrs))}}(b)}function Bm(a){return a===tt?{}:a===xt?[]:a}function OC(a,l){const p=a.viewQuery;a.viewQuery=p?(b,S)=>{l(b,S),p(b,S)}:l}function kC(a,l){const p=a.contentQueries;a.contentQueries=p?(b,S,R)=>{l(b,S,R),p(b,S,R)}:l}function PC(a,l){const p=a.hostBindings;a.hostBindings=p?(b,S)=>{l(b,S),p(b,S)}:l}let Jg=null;function jp(){if(!Jg){const a=fn.Symbol;if(a&&a.iterator)Jg=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let p=0;p<l.length;++p){const b=l[p];"entries"!==b&&"size"!==b&&Map.prototype[b]===Map.prototype.entries&&(Jg=b)}}}return Jg}class au{constructor(l){this.wrapped=l}static wrap(l){return new au(l)}static unwrap(l){return au.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof au}}function Zf(a){return!!Hm(a)&&(Array.isArray(a)||!(a instanceof Map)&&jp()in a)}function Hm(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function id(a,l,p){return a[l]=p}function hl(a,l,p){return!Object.is(a[l],p)&&(a[l]=p,!0)}function rp(a,l,p,b){const S=hl(a,l,p);return hl(a,l+1,b)||S}function Vm(a,l,p,b){const S=In();return hl(S,vn(),l)&&(Mi(),hc(dr(),S,a,l,p,b)),Vm}function Yp(a,l,p,b){return hl(a,vn(),p)?l+Me(p)+b:Gi}function Xp(a,l,p,b,S,R,k,H){const ge=function(a,l,p,b,S){const R=rp(a,l,p,b);return hl(a,l+2,S)||R}(a,St(),p,S,k);return Hn(3),ge?l+Me(p)+b+Me(S)+R+Me(k)+H:Gi}function Nv(a,l,p,b,S,R,k,H){const Q=In(),ge=Mi(),Ae=a+20,qe=ge.firstCreatePass?function(a,l,p,b,S,R,k,H,Q){const ge=l.consts,Ae=Ju(l,a,4,k||null,Hr(ge,H));qh(l,p,Ae,Hr(ge,Q)),ao(l,Ae);const qe=Ae.tViews=uc(2,Ae,b,S,R,l.directiveRegistry,l.pipeRegistry,null,l.schemas,ge);return null!==l.queries&&(l.queries.template(l,Ae),qe.queries=l.queries.embeddedTView(Ae)),Ae}(Ae,ge,Q,l,p,b,S,R,k):ge.data[Ae];Zs(qe,!1);const st=Q[11].createComment("");Da(ge,Q,st,qe),rs(st,Q),np(Q,Q[Ae]=qu(st,Q,st,qe)),fo(qe)&&cc(ge,Q,qe),null!=k&&Qu(Q,qe,H)}function Fv(a){return Ei(ci.lFrame.contextLView,20+a)}function qf(a,l=ft.Default){const p=In();return null===p?no(a,l):Re(Kr(),p,B(a),l)}function zm(a,l,p){const b=In();return hl(b,vn(),l)&&Ma(Mi(),dr(),b,a,l,b[11],p,!1),zm}function Ym(a,l,p,b,S){const k=S?"class":"style";h(a,p,l.inputs[k],k,b)}function Km(a,l,p,b){const S=In(),R=Mi(),k=20+a,H=S[11],Q=S[k]=Le(H,l,ci.lFrame.currentNamespace),ge=R.firstCreatePass?function(a,l,p,b,S,R,k){const H=l.consts,ge=Ju(l,a,2,S,Hr(H,R));return qh(l,p,ge,Hr(H,k)),null!==ge.attrs&&C(ge,ge.attrs,!1),null!==ge.mergedAttrs&&C(ge,ge.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,ge),ge}(k,R,S,0,l,p,b):R.data[k];Zs(ge,!0);const Ae=ge.mergedAttrs;null!==Ae&&Rl(H,Q,Ae);const qe=ge.classes;null!==qe&&Fh(H,Q,qe);const st=ge.styles;null!==st&&vp(H,Q,st),64!=(64&ge.flags)&&Da(R,S,Q,ge),0===ci.lFrame.elementDepthCount&&rs(Q,S),ci.lFrame.elementDepthCount++,fo(ge)&&(cc(R,S,ge),lh(R,ge,S)),null!==b&&Qu(S,ge)}function Xm(){let a=Kr();He()?V():(a=a.parent,Zs(a,!1));const l=a;ci.lFrame.elementDepthCount--;const p=Mi();p.firstCreatePass&&(ao(p,a),Yr(a)&&p.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&Ym(p,l,In(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&Ym(p,l,In(),l.stylesWithoutHost,!1)}function $v(a,l,p,b){Km(a,l,p,b),Xm()}function $m(a,l,p){const b=In(),S=Mi(),R=a+20,k=S.firstCreatePass?function(a,l,p,b,S){const R=l.consts,k=Hr(R,b),H=Ju(l,a,8,"ng-container",k);return null!==k&&C(H,k,!0),qh(l,p,H,Hr(R,S)),null!==l.queries&&l.queries.elementStart(l,H),H}(R,S,b,l,p):S.data[R];Zs(k,!0);const H=b[R]=b[11].createComment("");Da(S,b,H,k),rs(H,b),fo(k)&&(cc(S,b,k),lh(S,k,b)),null!=p&&Qu(b,k)}function Jm(){let a=Kr();const l=Mi();He()?V():(a=a.parent,Zs(a,!1)),l.firstCreatePass&&(ao(l,a),Yr(a)&&l.queries.elementEnd(a))}function Jv(a,l,p){$m(a,l,p),Jm()}function Zv(){return In()}function Zm(a){return!!a&&"function"==typeof a.then}function Qv(a){return!!a&&"function"==typeof a.subscribe}const Qm=Qv;function qm(a,l,p,b){const S=In(),R=Mi(),k=Kr();return qv(R,S,S[11],k,a,l,!!p,b),qm}function e_(a,l){const p=Kr(),b=In(),S=Mi();return qv(S,b,r(Hi(S.data),p,b),p,a,l,!1),e_}function qv(a,l,p,b,S,R,k,H){const Q=fo(b),Ae=a.firstCreatePass&&d(a),qe=l[8],st=g(l);let Rt=!0;if(3&b.type||H){const an=Rn(b,l),Wn=H?H(an):an,Mn=st.length,wi=H?Yi=>H($(Yi[b.index])):b.index;if(be(p)){let Yi=null;if(!H&&Q&&(Yi=function(a,l,p,b){const S=a.cleanup;if(null!=S)for(let R=0;R<S.length-1;R+=2){const k=S[R];if(k===p&&S[R+1]===b){const H=l[7],Q=S[R+2];return H.length>Q?H[Q]:null}"string"==typeof k&&(R+=2)}return null}(a,l,S,b.index)),null!==Yi)(Yi.__ngLastListenerFn__||Yi).__ngNextListenerFn__=R,Yi.__ngLastListenerFn__=R,Rt=!1;else{R=t_(b,l,qe,R,!1);const Or=p.listen(Wn,S,R);st.push(R,Or),Ae&&Ae.push(S,wi,Mn,Mn+1)}}else R=t_(b,l,qe,R,!0),Wn.addEventListener(S,R,k),st.push(R),Ae&&Ae.push(S,wi,Mn,k)}else R=t_(b,l,qe,R,!1);const jt=b.outputs;let gn;if(Rt&&null!==jt&&(gn=jt[S])){const an=gn.length;if(an)for(let Wn=0;Wn<an;Wn+=2){const xa=l[gn[Wn]][gn[Wn+1]].subscribe(R),Bc=st.length;st.push(R,xa),Ae&&Ae.push(S,b.index,Bc,-(Bc+1))}}}function eb(a,l,p,b){try{return!1!==p(b)}catch(S){return c(a,S),!1}}function t_(a,l,p,b,S){return function R(k){if(k===Function)return b;const H=2&a.flags?cr(a.index,l):l;0==(32&l[2])&&td(H);let Q=eb(l,0,b,k),ge=R.__ngNextListenerFn__;for(;ge;)Q=eb(l,0,ge,k)&&Q,ge=ge.__ngNextListenerFn__;return S&&!1===Q&&(k.preventDefault(),k.returnValue=!1),Q}}function tb(a=1){return function(a){return(ci.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,ci.lFrame.contextLView))[8]}(a)}function fT(a,l){let p=null;const b=function(a){const l=a.attrs;if(null!=l){const p=l.indexOf(5);if(0==(1&p))return l[p+1]}return null}(a);for(let S=0;S<l.length;S++){const R=l[S];if("*"!==R){if(null===b?yp(a,R,!0):Ep(b,R))return S}else p=S}return p}function nb(a){const l=In()[16][6];if(!l.projection){const b=l.projection=ol(a?a.length:1,null),S=b.slice();let R=l.child;for(;null!==R;){const k=a?fT(R,a):0;null!==k&&(S[k]?S[k].projectionNext=R:b[k]=R,S[k]=R),R=R.next}}}function ib(a,l=0,p){const b=In(),S=Mi(),R=Ju(S,20+a,16,null,p||null);null===R.projection&&(R.projection=l),V(),64!=(64&R.flags)&&function(a,l,p){_p(l[11],0,l,p,hr(a,p,l),$o(p.parent||l[6],p,l))}(S,b,R)}function n_(a,l,p){return i_(a,"",l,"",p),n_}function i_(a,l,p,b,S){const R=In(),k=Yp(R,l,p,b);return k!==Gi&&Ma(Mi(),dr(),R,a,k,R[11],S,!1),i_}function hb(a,l,p,b,S){const R=a[p+1],k=null===l;let H=b?Tl(R):sc(R),Q=!1;for(;0!==H&&(!1===Q||k);){const Ae=a[H+1];_T(a[H],l)&&(Q=!0,a[H+1]=b?Uh(Ae):Vh(Ae)),H=b?Tl(Ae):sc(Ae)}Q&&(a[p+1]=b?Vh(R):Uh(R))}function _T(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Ql(a,l)>=0}const Ra={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pb(a){return a.substring(Ra.key,Ra.keyEnd)}function fb(a,l){const p=Ra.textEnd;return p===l?-1:(l=Ra.keyEnd=function(a,l,p){for(;l<p&&a.charCodeAt(l)>32;)l++;return l}(a,Ra.key=l,p),tf(a,l,p))}function tf(a,l,p){for(;l<p&&a.charCodeAt(l)<=32;)l++;return l}function r_(a,l,p){return lu(a,l,p,!1),r_}function o_(a,l){return lu(a,l,null,!0),o_}function od(a,l){for(let p=function(a){return function(a){Ra.key=0,Ra.keyEnd=0,Ra.value=0,Ra.valueEnd=0,Ra.textEnd=a.length}(a),fb(a,tf(a,0,Ra.textEnd))}(l);p>=0;p=fb(l,p))Ms(a,pb(l),!0)}function lu(a,l,p,b){const S=In(),R=Mi(),k=Hn(2);R.firstUpdatePass&&yb(R,a,k,b),l!==Gi&&hl(S,k,l)&&Cb(R,R.data[Ar()],S,S[11],a,S[k+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=y(Er(a)))),a}(l,p),b,k)}function bb(a,l){return l>=a.expandoStartIndex}function yb(a,l,p,b){const S=a.data;if(null===S[p+1]){const R=S[Ar()],k=bb(a,p);wb(R,b)&&null===l&&!k&&(l=!1),l=function(a,l,p,b){const S=Hi(a);let R=b?l.residualClasses:l.residualStyles;if(null===S)0===(b?l.classBindings:l.styleBindings)&&(p=eg(p=s_(null,a,l,p,b),l.attrs,b),R=null);else{const k=l.directiveStylingLast;if(-1===k||a[k]!==S)if(p=s_(S,a,l,p,b),null===R){let Q=function(a,l,p){const b=p?l.classBindings:l.styleBindings;if(0!==sc(b))return a[Tl(b)]}(a,l,b);void 0!==Q&&Array.isArray(Q)&&(Q=s_(null,a,l,Q[1],b),Q=eg(Q,l.attrs,b),function(a,l,p,b){a[Tl(p?l.classBindings:l.styleBindings)]=b}(a,l,b,Q))}else R=function(a,l,p){let b;const S=l.directiveEnd;for(let R=1+l.directiveStylingLast;R<S;R++)b=eg(b,a[R].hostAttrs,p);return eg(b,l.attrs,p)}(a,l,b)}return void 0!==R&&(b?l.residualClasses=R:l.residualStyles=R),p}(S,R,l,b),function(a,l,p,b,S,R){let k=R?l.classBindings:l.styleBindings,H=Tl(k),Q=sc(k);a[b]=p;let Ae,ge=!1;if(Array.isArray(p)){const qe=p;Ae=qe[1],(null===Ae||Ql(qe,Ae)>0)&&(ge=!0)}else Ae=p;if(S)if(0!==Q){const st=Tl(a[H+1]);a[b+1]=rh(st,H),0!==st&&(a[st+1]=Na(a[st+1],b)),a[H+1]=function(a,l){return 131071&a|l<<17}(a[H+1],b)}else a[b+1]=rh(H,0),0!==H&&(a[H+1]=Na(a[H+1],b)),H=b;else a[b+1]=rh(Q,0),0===H?H=b:a[Q+1]=Na(a[Q+1],b),Q=b;ge&&(a[b+1]=Vh(a[b+1])),hb(a,Ae,b,!0),hb(a,Ae,b,!1),function(a,l,p,b,S){const R=S?a.residualClasses:a.residualStyles;null!=R&&"string"==typeof l&&Ql(R,l)>=0&&(p[b+1]=Uh(p[b+1]))}(l,Ae,a,b,R),k=rh(H,Q),R?l.classBindings=k:l.styleBindings=k}(S,R,l,p,k,b)}}function s_(a,l,p,b,S){let R=null;const k=p.directiveEnd;let H=p.directiveStylingLast;for(-1===H?H=p.directiveStart:H++;H<k&&(R=l[H],b=eg(b,R.hostAttrs,S),R!==a);)H++;return null!==a&&(p.directiveStylingLast=H),b}function eg(a,l,p){const b=p?1:2;let S=-1;if(null!==l)for(let R=0;R<l.length;R++){const k=l[R];"number"==typeof k?S=k:S===b&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ms(a,k,!!p||l[++R]))}return void 0===a?null:a}function Cb(a,l,p,b,S,R,k,H){if(!(3&l.type))return;const Q=a.data,ge=Q[H+1];qg(function(a){return 1==(1&a)}(ge)?Tb(Q,l,p,S,sc(ge),k):void 0)||(qg(R)||function(a){return 2==(2&a)}(ge)&&(R=Tb(Q,null,p,S,H,k)),function(a,l,p,b,S){const R=be(a);if(l)S?R?a.addClass(p,b):p.classList.add(b):R?a.removeClass(p,b):p.classList.remove(b);else{let k=-1===b.indexOf("-")?void 0:el.DashCase;if(null==S)R?a.removeStyle(p,b,k):p.style.removeProperty(b);else{const H="string"==typeof S&&S.endsWith("!important");H&&(S=S.slice(0,-10),k|=el.Important),R?a.setStyle(p,b,S,k):p.style.setProperty(b,S,H?"important":"")}}}(b,k,Wt(Ar(),p),S,R))}function Tb(a,l,p,b,S,R){const k=null===l;let H;for(;S>0;){const Q=a[S],ge=Array.isArray(Q),Ae=ge?Q[1]:Q,qe=null===Ae;let st=p[S+1];st===Gi&&(st=qe?xt:void 0);let Rt=qe?El(st,b):Ae===b?st:void 0;if(ge&&!qg(Rt)&&(Rt=El(Q,b)),qg(Rt)&&(H=Rt,k))return H;const jt=a[S+1];S=k?Tl(jt):sc(jt)}if(null!==l){let Q=R?l.residualClasses:l.residualStyles;null!=Q&&(H=El(Q,b))}return H}function qg(a){return void 0!==a}function wb(a,l){return 0!=(a.flags&(l?16:32))}function Sb(a,l=""){const p=In(),b=Mi(),S=a+20,R=b.firstCreatePass?Ju(b,S,1,l,null):b.data[S],k=p[S]=function(a,l){return be(a)?a.createText(l):a.createTextNode(l)}(p[11],l);Da(b,p,k,R),Zs(R,!1)}function a_(a){return em("",a,""),a_}function em(a,l,p){const b=In(),S=Yp(b,a,l,p);return S!==Gi&&m(b,Ar(),S),em}function l_(a,l,p,b,S){const R=In(),k=function(a,l,p,b,S,R){const H=rp(a,St(),p,S);return Hn(2),H?l+Me(p)+b+Me(S)+R:Gi}(R,a,l,p,b,S);return k!==Gi&&m(R,Ar(),k),l_}function c_(a,l,p,b,S,R,k){const H=In(),Q=Xp(H,a,l,p,b,S,R,k);return Q!==Gi&&m(H,Ar(),Q),c_}function Ob(a,l,p){!function(a,l,p,b){const S=Mi(),R=Hn(2);S.firstUpdatePass&&yb(S,null,R,b);const k=In();if(p!==Gi&&hl(k,R,p)){const H=S.data[Ar()];if(wb(H,b)&&!bb(S,R)){let Q=b?H.classesWithoutHost:H.stylesWithoutHost;null!==Q&&(p=M(Q,p||"")),Ym(S,H,k,p,b)}else!function(a,l,p,b,S,R,k,H){S===Gi&&(S=xt);let Q=0,ge=0,Ae=0<S.length?S[0]:null,qe=0<R.length?R[0]:null;for(;null!==Ae||null!==qe;){const st=Q<S.length?S[Q+1]:void 0,Rt=ge<R.length?R[ge+1]:void 0;let gn,jt=null;Ae===qe?(Q+=2,ge+=2,st!==Rt&&(jt=qe,gn=Rt)):null===qe||null!==Ae&&Ae<qe?(Q+=2,jt=Ae):(ge+=2,jt=qe,gn=Rt),null!==jt&&Cb(a,l,p,b,jt,gn,k,H),Ae=Q<S.length?S[Q]:null,qe=ge<R.length?R[ge]:null}}(S,H,k,k[11],k[R+1],k[R+1]=function(a,l,p){if(null==p||""===p)return xt;const b=[],S=Er(p);if(Array.isArray(S))for(let R=0;R<S.length;R++)a(b,S[R],!0);else if("object"==typeof S)for(const R in S)S.hasOwnProperty(R)&&a(b,R,S[R]);else"string"==typeof S&&l(b,S);return b}(a,l,p),b,R)}}(Ms,od,Yp(In(),a,l,p),!0)}function u_(a,l,p){const b=In();return hl(b,vn(),l)&&Ma(Mi(),dr(),b,a,l,b[11],p,!0),u_}function d_(a,l,p){const b=In();if(hl(b,vn(),l)){const R=Mi(),k=dr();Ma(R,k,b,a,l,r(Hi(R.data),k,b),p,!0)}return d_}const op=void 0;var ZT=["en",[["a","p"],["AM","PM"],op],[["AM","PM"],op,op],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],op,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],op,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",op,"{1} 'at' {0}",op],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===p?1:5}];let nf={};function h_(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let p=Wb(l);if(p)return p;const b=l.split("-")[0];if(p=Wb(b),p)return p;if("en"===b)return ZT;throw new Error(`Missing locale data for the locale "${a}".`)}function Gb(a){return h_(a)[Ni.PluralCase]}function Wb(a){return a in nf||(nf[a]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[a]),nf[a]}var Ni=(()=>((Ni=Ni||{})[Ni.LocaleId=0]="LocaleId",Ni[Ni.DayPeriodsFormat=1]="DayPeriodsFormat",Ni[Ni.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ni[Ni.DaysFormat=3]="DaysFormat",Ni[Ni.DaysStandalone=4]="DaysStandalone",Ni[Ni.MonthsFormat=5]="MonthsFormat",Ni[Ni.MonthsStandalone=6]="MonthsStandalone",Ni[Ni.Eras=7]="Eras",Ni[Ni.FirstDayOfWeek=8]="FirstDayOfWeek",Ni[Ni.WeekendRange=9]="WeekendRange",Ni[Ni.DateFormat=10]="DateFormat",Ni[Ni.TimeFormat=11]="TimeFormat",Ni[Ni.DateTimeFormat=12]="DateTimeFormat",Ni[Ni.NumberSymbols=13]="NumberSymbols",Ni[Ni.NumberFormats=14]="NumberFormats",Ni[Ni.CurrencyCode=15]="CurrencyCode",Ni[Ni.CurrencySymbol=16]="CurrencySymbol",Ni[Ni.CurrencyName=17]="CurrencyName",Ni[Ni.Currencies=18]="Currencies",Ni[Ni.Directionality=19]="Directionality",Ni[Ni.PluralCase=20]="PluralCase",Ni[Ni.ExtraData=21]="ExtraData",Ni))();const tm="en-US";let jb=tm;function p_(a){tn(a,"Expected localeId to be defined"),"string"==typeof a&&(jb=a.toLowerCase().replace(/_/g,"-"))}function m_(a,l,p,b,S){if(a=B(a),Array.isArray(a))for(let R=0;R<a.length;R++)m_(a[R],l,p,b,S);else{const R=Mi(),k=In();let H=Wi(a)?a:B(a.provide),Q=$n(a);const ge=Kr(),Ae=1048575&ge.providerIndexes,qe=ge.directiveStart,st=ge.providerIndexes>>20;if(Wi(a)||!a.multi){const Rt=new ts(Q,S,qf),jt=v_(H,l,S?Ae:Ae+st,qe);-1===jt?(oe(_l(ge,k),R,H),__(R,a,l.length),l.push(H),ge.directiveStart++,ge.directiveEnd++,S&&(ge.providerIndexes+=1048576),p.push(Rt),k.push(Rt)):(p[jt]=Rt,k[jt]=Rt)}else{const Rt=v_(H,l,Ae+st,qe),jt=v_(H,l,Ae,Ae+st),gn=Rt>=0&&p[Rt],an=jt>=0&&p[jt];if(S&&!an||!S&&!gn){oe(_l(ge,k),R,H);const Wn=function(a,l,p,b,S){const R=new ts(a,p,qf);return R.multi=[],R.index=l,R.componentProviders=0,fy(R,S,b&&!p),R}(S?Xw:Kw,p.length,S,b,Q);!S&&an&&(p[jt].providerFactory=Wn),__(R,a,l.length,0),l.push(H),ge.directiveStart++,ge.directiveEnd++,S&&(ge.providerIndexes+=1048576),p.push(Wn),k.push(Wn)}else __(R,a,Rt>-1?Rt:jt,fy(p[S?jt:Rt],Q,!S&&b));!S&&b&&an&&p[jt].componentProviders++}}}function __(a,l,p,b){const S=Wi(l);if(S||function(a){return!!a.useClass}(l)){const k=(l.useClass||l).prototype.ngOnDestroy;if(k){const H=a.destroyHooks||(a.destroyHooks=[]);if(!S&&l.multi){const Q=H.indexOf(p);-1===Q?H.push(p,[b,k]):H[Q+1].push(b,k)}else H.push(p,k)}}}function fy(a,l,p){return p&&a.componentProviders++,a.multi.push(l)-1}function v_(a,l,p,b){for(let S=p;S<b;S++)if(l[S]===a)return S;return-1}function Kw(a,l,p,b){return b_(this.multi,[])}function Xw(a,l,p,b){const S=this.multi;let R;if(this.providerFactory){const k=this.providerFactory.componentProviders,H=Zn(p,p[1],this.providerFactory.index,b);R=H.slice(0,k),b_(S,R);for(let Q=k;Q<H.length;Q++)R.push(H[Q])}else R=[],b_(S,R);return R}function b_(a,l){for(let p=0;p<a.length;p++)l.push((0,a[p])());return l}function gy(a,l=[]){return p=>{p.providersResolver=(b,S)=>function(a,l,p){const b=Mi();if(b.firstCreatePass){const S=wo(a);m_(p,b.data,b.blueprint,S,!0),m_(l,b.data,b.blueprint,S,!1)}}(b,S?S(a):a,l)}}class my{}const vy="ngComponent";class Zw{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${y(a)}. Did you add it to @NgModule.entryComponents?`);return l[vy]=a,l}(l)}}let sf=(()=>{class a{}return a.NULL=new Zw,a})();function sm(...a){}function af(a,l){return new sd(Rn(a,l))}const eS=function(){return af(Kr(),In())};let sd=(()=>{class a{constructor(p){this.nativeElement=p}}return a.__NG_ELEMENT_ID__=eS,a})();function by(a){return a instanceof sd?a.nativeElement:a}class am{}let tS=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>iS(),a})();const iS=function(){const a=In(),p=cr(Kr().index,a);return function(a){return a[11]}(zr(p)?p:a)};let E_=(()=>{class a{}return a.\u0275prov=Vt({token:a,providedIn:"root",factory:()=>null}),a})();class yy{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Ey=new yy("12.2.13");class Cy{constructor(){}supports(l){return Zf(l)}create(l){return new aS(l)}}const sS=(a,l)=>l;class aS{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||sS}forEachItem(l){let p;for(p=this._itHead;null!==p;p=p._next)l(p)}forEachOperation(l){let p=this._itHead,b=this._removalsHead,S=0,R=null;for(;p||b;){const k=!b||p&&p.currentIndex<wy(b,S,R)?p:b,H=wy(k,S,R),Q=k.currentIndex;if(k===b)S--,b=b._nextRemoved;else if(p=p._next,null==k.previousIndex)S++;else{R||(R=[]);const ge=H-S,Ae=Q-S;if(ge!=Ae){for(let st=0;st<ge;st++){const Rt=st<R.length?R[st]:R[st]=0,jt=Rt+st;Ae<=jt&&jt<ge&&(R[st]=Rt+1)}R[k.previousIndex]=Ae-ge}}H!==Q&&l(k,H,Q)}}forEachPreviousItem(l){let p;for(p=this._previousItHead;null!==p;p=p._nextPrevious)l(p)}forEachAddedItem(l){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)l(p)}forEachMovedItem(l){let p;for(p=this._movesHead;null!==p;p=p._nextMoved)l(p)}forEachRemovedItem(l){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)l(p)}forEachIdentityChange(l){let p;for(p=this._identityChangesHead;null!==p;p=p._nextIdentityChange)l(p)}diff(l){if(null==l&&(l=[]),!Zf(l))throw new Error(`Error trying to diff '${y(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let S,R,k,p=this._itHead,b=!1;if(Array.isArray(l)){this.length=l.length;for(let H=0;H<this.length;H++)R=l[H],k=this._trackByFn(H,R),null!==p&&Object.is(p.trackById,k)?(b&&(p=this._verifyReinsertion(p,R,k,H)),Object.is(p.item,R)||this._addIdentityChange(p,R)):(p=this._mismatch(p,R,k,H),b=!0),p=p._next}else S=0,function(a,l){if(Array.isArray(a))for(let p=0;p<a.length;p++)l(a[p]);else{const p=a[jp()]();let b;for(;!(b=p.next()).done;)l(b.value)}}(l,H=>{k=this._trackByFn(S,H),null!==p&&Object.is(p.trackById,k)?(b&&(p=this._verifyReinsertion(p,H,k,S)),Object.is(p.item,H)||this._addIdentityChange(p,H)):(p=this._mismatch(p,H,k,S),b=!0),p=p._next,S++}),this.length=S;return this._truncate(p),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,p,b,S){let R;return null===l?R=this._itTail:(R=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(b,null))?(Object.is(l.item,p)||this._addIdentityChange(l,p),this._reinsertAfter(l,R,S)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(b,S))?(Object.is(l.item,p)||this._addIdentityChange(l,p),this._moveAfter(l,R,S)):l=this._addAfter(new lS(p,b),R,S),l}_verifyReinsertion(l,p,b,S){let R=null===this._unlinkedRecords?null:this._unlinkedRecords.get(b,null);return null!==R?l=this._reinsertAfter(R,l._prev,S):l.currentIndex!=S&&(l.currentIndex=S,this._addToMoves(l,S)),l}_truncate(l){for(;null!==l;){const p=l._next;this._addToRemovals(this._unlink(l)),l=p}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,p,b){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const S=l._prevRemoved,R=l._nextRemoved;return null===S?this._removalsHead=R:S._nextRemoved=R,null===R?this._removalsTail=S:R._prevRemoved=S,this._insertAfter(l,p,b),this._addToMoves(l,b),l}_moveAfter(l,p,b){return this._unlink(l),this._insertAfter(l,p,b),this._addToMoves(l,b),l}_addAfter(l,p,b){return this._insertAfter(l,p,b),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,p,b){const S=null===p?this._itHead:p._next;return l._next=S,l._prev=p,null===S?this._itTail=l:S._prev=l,null===p?this._itHead=l:p._next=l,null===this._linkedRecords&&(this._linkedRecords=new Ty),this._linkedRecords.put(l),l.currentIndex=b,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const p=l._prev,b=l._next;return null===p?this._itHead=b:p._next=b,null===b?this._itTail=p:b._prev=p,l}_addToMoves(l,p){return l.previousIndex===p||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ty),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,p){return l.item=p,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class lS{constructor(l,p){this.item=l,this.trackById=p,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cS{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,p){let b;for(b=this._head;null!==b;b=b._nextDup)if((null===p||p<=b.currentIndex)&&Object.is(b.trackById,l))return b;return null}remove(l){const p=l._prevDup,b=l._nextDup;return null===p?this._head=b:p._nextDup=b,null===b?this._tail=p:b._prevDup=p,null===this._head}}class Ty{constructor(){this.map=new Map}put(l){const p=l.trackById;let b=this.map.get(p);b||(b=new cS,this.map.set(p,b)),b.add(l)}get(l,p){const S=this.map.get(l);return S?S.get(l,p):null}remove(l){const p=l.trackById;return this.map.get(p).remove(l)&&this.map.delete(p),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wy(a,l,p){const b=a.previousIndex;if(null===b)return b;let S=0;return p&&b<p.length&&(S=p[b]),b+l+S}class Sy{constructor(){}supports(l){return l instanceof Map||Hm(l)}create(){return new uS}}class uS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let p;for(p=this._mapHead;null!==p;p=p._next)l(p)}forEachPreviousItem(l){let p;for(p=this._previousMapHead;null!==p;p=p._nextPrevious)l(p)}forEachChangedItem(l){let p;for(p=this._changesHead;null!==p;p=p._nextChanged)l(p)}forEachAddedItem(l){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)l(p)}forEachRemovedItem(l){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)l(p)}diff(l){if(l){if(!(l instanceof Map||Hm(l)))throw new Error(`Error trying to diff '${y(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p=this._mapHead;if(this._appendAfter=null,this._forEach(l,(b,S)=>{if(p&&p.key===S)this._maybeAddToChanges(p,b),this._appendAfter=p,p=p._next;else{const R=this._getOrCreateRecordForKey(S,b);p=this._insertBeforeOrAppend(p,R)}}),p){p._prev&&(p._prev._next=null),this._removalsHead=p;for(let b=p;null!==b;b=b._nextRemoved)b===this._mapHead&&(this._mapHead=null),this._records.delete(b.key),b._nextRemoved=b._next,b.previousValue=b.currentValue,b.currentValue=null,b._prev=null,b._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,p){if(l){const b=l._prev;return p._next=l,p._prev=b,l._prev=p,b&&(b._next=p),l===this._mapHead&&(this._mapHead=p),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=p,p._prev=this._appendAfter):this._mapHead=p,this._appendAfter=p,null}_getOrCreateRecordForKey(l,p){if(this._records.has(l)){const S=this._records.get(l);this._maybeAddToChanges(S,p);const R=S._prev,k=S._next;return R&&(R._next=k),k&&(k._prev=R),S._next=null,S._prev=null,S}const b=new dS(l);return this._records.set(l,b),b.currentValue=p,this._addToAdditions(b),b}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,p){Object.is(p,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=p,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,p){l instanceof Map?l.forEach(p):Object.keys(l).forEach(b=>p(l[b],b))}}class dS{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dy(){return new lm([new Cy])}let lm=(()=>{class a{constructor(p){this.factories=p}static create(p,b){if(null!=b){const S=b.factories.slice();p=p.concat(S)}return new a(p)}static extend(p){return{provide:a,useFactory:b=>a.create(p,b||Dy()),deps:[[a,new Ca,new Oa]]}}find(p){const b=this.factories.find(S=>S.supports(p));if(null!=b)return b;throw new Error(`Cannot find a differ supporting object '${p}' of type '${function(a){return a.name||typeof a}(p)}'`)}}return a.\u0275prov=Vt({token:a,providedIn:"root",factory:Dy}),a})();function My(){return new cm([new Sy])}let cm=(()=>{class a{constructor(p){this.factories=p}static create(p,b){if(b){const S=b.factories.slice();p=p.concat(S)}return new a(p)}static extend(p){return{provide:a,useFactory:b=>a.create(p,b||My()),deps:[[a,new Ca,new Oa]]}}find(p){const b=this.factories.find(S=>S.supports(p));if(b)return b;throw new Error(`Cannot find a differ supporting object '${p}'`)}}return a.\u0275prov=Vt({token:a,providedIn:"root",factory:My}),a})();function um(a,l,p,b,S=!1){for(;null!==p;){const R=l[p.index];if(null!==R&&b.push($(R)),ur(R))for(let H=10;H<R.length;H++){const Q=R[H],ge=Q[1].firstChild;null!==ge&&um(Q[1],Q,ge,b)}const k=p.type;if(8&k)um(a,l,p.child,b);else if(32&k){const H=ju(p,l);let Q;for(;Q=H();)b.push(Q)}else if(16&k){const H=Ac(l,p);if(Array.isArray(H))b.push(...H);else{const Q=os(l[16]);um(Q[1],Q,H,b,!0)}}p=S?p.projectionNext:p.next}return b}class og{constructor(l,p){this._lView=l,this._cdRefInjectingView=p,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,p=l[1];return um(p,l,p.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(ur(l)){const p=l[8],b=p?p.indexOf(this):-1;b>-1&&(pn(l,b),yl(p,b))}this._attachedToViewContainer=!1}Ln(this._lView[1],this._lView)}onDestroy(l){uh(this._lView[1],this._lView,null,l)}markForCheck(){td(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,p){et(!0);try{Bp(a,l,p)}finally{et(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,Od(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class pS extends og{constructor(l){super(l),this._view=l}detectChanges(){Hp(this._view)}checkNoChanges(){!function(a){et(!0);try{Hp(a)}finally{et(!1)}}(this._view)}get context(){return null}}const gS=function(a){return function(a,l,p){if(Lr(a)&&!p){const b=cr(a.index,l);return new og(b,b)}return 47&a.type?new og(l[16],l):null}(Kr(),In(),16==(16&a))};let mS=(()=>{class a{}return a.__NG_ELEMENT_ID__=gS,a})();const bS=[new Sy],ES=new lm([new Cy]),CS=new cm(bS),wS=function(){return dm(Kr(),In())};let sg=(()=>{class a{}return a.__NG_ELEMENT_ID__=wS,a})();const SS=sg,DS=class extends SS{constructor(l,p,b){super(),this._declarationLView=l,this._declarationTContainer=p,this.elementRef=b}createEmbeddedView(l){const p=this._declarationTContainer.tViews,b=Ld(this._declarationLView,p,l,16,null,p.declTNode,null,null,null,null);b[17]=this._declarationLView[this._declarationTContainer.index];const R=this._declarationLView[19];return null!==R&&(b[19]=R.createEmbeddedView(p)),Nd(p,b,l),new og(b)}};function dm(a,l){return 4&a.type?new DS(l,a,af(a,l)):null}class sp{}class Ry{}const xS=function(){return Ay(Kr(),In())};let hm=(()=>{class a{}return a.__NG_ELEMENT_ID__=xS,a})();const AS=hm,xy=class extends AS{constructor(l,p,b){super(),this._lContainer=l,this._hostTNode=p,this._hostLView=b}get element(){return af(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){const l=Uc(this._hostTNode,this._hostLView);if(Il(l)){const p=ya(l,this._hostLView),b=ja(l);return new zi(p[1].data[b+8],p)}return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const p=Iy(this._lContainer);return null!==p&&p[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,p,b){const S=l.createEmbeddedView(p||{});return this.insert(S,b),S}createComponent(l,p,b,S,R){const k=b||this.parentInjector;if(!R&&null==l.ngModule&&k){const Q=k.get(sp,null);Q&&(R=Q)}const H=l.create(k,S,void 0,R);return this.insert(H.hostView,p),H}insert(l,p){const b=l._lView,S=b[1];if(ur(b[3])){const Ae=this.indexOf(l);if(-1!==Ae)this.detach(Ae);else{const qe=b[3],st=new xy(qe,qe[6],qe[3]);st.detach(st.indexOf(l))}}const R=this._adjustIndex(p),k=this._lContainer;!function(a,l,p,b){const S=10+b,R=p.length;b>0&&(p[S-1][4]=l),b<R-10?(l[4]=p[S],Ll(p,10+b,l)):(p.push(l),l[4]=null),l[3]=p;const k=l[17];null!==k&&p!==k&&function(a,l){const p=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===p?a[9]=[l]:p.push(l)}(k,l);const H=l[19];null!==H&&H.insertView(a),l[2]|=128}(S,b,k,R);const H=As(R,k),Q=b[11],ge=Is(Q,k[7]);return null!==ge&&function(a,l,p,b,S,R){b[0]=S,b[6]=l,Od(a,b,p,1,S,R)}(S,k[6],Q,b,ge,H),l.attachToViewContainerRef(),Ll(C_(k),R,l),l}move(l,p){return this.insert(l,p)}indexOf(l){const p=Iy(this._lContainer);return null!==p?p.indexOf(l):-1}remove(l){const p=this._adjustIndex(l,-1),b=pn(this._lContainer,p);b&&(yl(C_(this._lContainer),p),Ln(b[1],b))}detach(l){const p=this._adjustIndex(l,-1),b=pn(this._lContainer,p);return b&&null!=yl(C_(this._lContainer),p)?new og(b):null}_adjustIndex(l,p=0){return null==l?this.length+p:l}};function Iy(a){return a[8]}function C_(a){return a[8]||(a[8]=[])}function Ay(a,l){let p;const b=l[a.index];if(ur(b))p=b;else{let S;if(8&a.type)S=$(b);else{const R=l[11];S=R.createComment("");const k=Rn(a,l);jr(R,Is(R,k),S,function(a,l){return be(a)?a.nextSibling(l):l.nextSibling}(R,k),!1)}l[a.index]=p=qu(b,l,S,a),np(l,p)}return new xy(p,a,l)}const df={};class Zy extends sf{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const p=Bi(l);return new qy(p,this.ngModule)}}function Qy(a){const l=[];for(let p in a)a.hasOwnProperty(p)&&l.push({propName:a[p],templateName:p});return l}const R0=new Xr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Id});class qy extends my{constructor(l,p){super(),this.componentDef=l,this.ngModule=p,this.componentType=l.type,this.selector=l.selectors.map(Cp).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!p}get inputs(){return Qy(this.componentDef.inputs)}get outputs(){return Qy(this.componentDef.outputs)}create(l,p,b,S){const R=(S=S||this.ngModule)?function(a,l){return{get:(p,b,S)=>{const R=a.get(p,df,S);return R!==df||b===df?R:l.get(p,b,S)}}}(l,S.injector):l,k=R.get(am,Se),H=R.get(E_,null),Q=k.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Ae=b?function(a,l,p){if(be(a))return a.selectRootElement(l,p===yt.ShadowDom);let b="string"==typeof l?a.querySelector(l):l;return b.textContent="",b}(Q,b,this.componentDef.encapsulation):Le(k.createRenderer(null,this.componentDef),ge,function(a){const l=a.toLowerCase();return"svg"===l?ys:"math"===l?"http://www.w3.org/1998/MathML/":null}(ge)),qe=this.componentDef.onPush?576:528,st=function(a,l){return{components:[],scheduler:a||Id,clean:Xf,playerHandler:l||null,flags:0}}(),Rt=uc(0,null,null,1,0,null,null,null,null,null),jt=Ld(null,Rt,st,qe,null,null,k,Q,H,R);let gn,an;hs(jt);try{const Wn=function(a,l,p,b,S,R){const k=p[1];p[20]=a;const Q=Ju(k,20,2,"#host",null),ge=Q.mergedAttrs=l.hostAttrs;null!==ge&&(C(Q,ge,!0),null!==a&&(Rl(S,a,ge),null!==Q.classes&&Fh(S,a,Q.classes),null!==Q.styles&&vp(S,a,Q.styles)));const Ae=b.createRenderer(a,l),qe=Ld(p,su(l),null,l.onPush?64:16,p[20],Q,b,Ae,R||null,null);return k.firstCreatePass&&(oe(_l(Q,p),k,l.type),ph(k,Q),Wf(Q,p.length,1)),np(p,qe),p[20]=qe}(Ae,this.componentDef,jt,k,Q);if(Ae)if(b)Rl(Q,Ae,["ng-version",Ey.full]);else{const{attrs:Mn,classes:wi}=function(a){const l=[],p=[];let b=1,S=2;for(;b<a.length;){let R=a[b];if("string"==typeof R)2===S?""!==R&&l.push(R,a[++b]):8===S&&p.push(R);else{if(!Os(S))break;S=R}b++}return{attrs:l,classes:p}}(this.componentDef.selectors[0]);Mn&&Rl(Q,Ae,Mn),wi&&wi.length>0&&Fh(Q,Ae,wi.join(" "))}if(an=Ui(Rt,20),void 0!==p){const Mn=an.projection=[];for(let wi=0;wi<this.ngContentSelectors.length;wi++){const Yi=p[wi];Mn.push(null!=Yi?Array.from(Yi):null)}}gn=function(a,l,p,b,S){const R=p[1],k=function(a,l,p){const b=Kr();a.firstCreatePass&&(p.providersResolver&&p.providersResolver(p),Fp(a,b,l,Pc(a,l,1,null),p));const S=Zn(l,a,b.directiveStart,b);rs(S,l);const R=Rn(b,l);return R&&rs(R,l),S}(R,p,l);if(b.components.push(k),a[8]=k,S&&S.forEach(Q=>Q(k,l)),l.contentQueries){const Q=Kr();l.contentQueries(1,k,Q.directiveStart)}const H=Kr();return!R.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Qs(H.index),Bd(p[1],H,0,H.directiveStart,H.directiveEnd,l),Kl(l,k)),k}(Wn,this.componentDef,jt,st,[Jf]),Nd(Rt,jt,null)}finally{So()}return new A0(this.componentType,gn,af(an,jt),jt,an)}}class A0 extends class{}{constructor(l,p,b,S,R){super(),this.location=b,this._rootLView=S,this._tNode=R,this.instance=p,this.hostView=this.changeDetectorRef=new pS(S),this.componentType=l}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const hf=new Map;class P0 extends sp{constructor(l,p){super(),this._parent=p,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Zy(this);const b=Tr(l),S=l[Vn]||null;S&&p_(S),this._bootstrapComponents=ul(b.bootstrap),this._r3Injector=ln(l,p,[{provide:sp,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],y(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,p=Jr.THROW_IF_NOT_FOUND,b=ft.Default){return l===Jr||l===sp||l===Y?this:this._r3Injector.get(l,p,b)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(p=>p()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class L_ extends Ry{constructor(l){super(),this.moduleType=l,null!==Tr(l)&&function(a){const l=new Set;!function p(b){const S=Tr(b,!0),R=S.id;null!==R&&(function(a,l,p){if(l&&l!==p)throw new Error(`Duplicate module registered for ${a} - ${y(l)} vs ${y(l.name)}`)}(R,hf.get(R),b),hf.set(R,b));const k=ul(S.imports);for(const H of k)l.has(H)||(l.add(H),p(H))}(a)}(l)}create(l){return new P0(this.moduleType,l)}}function nE(a,l,p){const b=gt()+a,S=In();return S[b]===Gi?id(S,b,p?l.call(p):l()):function(a,l){return a[l]}(S,b)}function iE(a,l,p,b){return oE(In(),gt(),a,l,p,b)}function rE(a,l,p,b,S){return function(a,l,p,b,S,R,k){const H=l+p;return rp(a,H,S,R)?id(a,H+2,k?b.call(k,S,R):b(S,R)):fg(a,H+2)}(In(),gt(),a,l,p,b,S)}function fg(a,l){const p=a[l];return p===Gi?void 0:p}function oE(a,l,p,b,S,R){const k=l+p;return hl(a,k,S)?id(a,k+1,R?b.call(R,S):b(S)):fg(a,k+1)}function uE(a,l){const p=Mi();let b;const S=a+20;p.firstCreatePass?(b=function(a,l){if(l)for(let p=l.length-1;p>=0;p--){const b=l[p];if(a===b.name)return b}throw new se("302",`The pipe '${a}' could not be found!`)}(l,p.pipeRegistry),p.data[S]=b,b.onDestroy&&(p.destroyHooks||(p.destroyHooks=[])).push(S,b.onDestroy)):b=p.data[S];const R=b.factory||(b.factory=Io(b.type)),k=Ht(qf);try{const H=Ol(!1),Q=R();return Ol(H),function(a,l,p,b){p>=a.data.length&&(a.data[p]=null,a.blueprint[p]=null),l[p]=b}(p,In(),S,Q),Q}finally{Ht(k)}}function dE(a,l,p){const b=a+20,S=In(),R=Ei(S,b);return function(a,l){au.isWrapped(l)&&(l=au.unwrap(l),a[St()]=Gi);return l}(S,function(a,l){return a[1].data[l].pure}(S,b)?oE(S,gt(),l,R.transform,p,R):R.transform(p))}function N_(a){return l=>{setTimeout(a,void 0,l)}}const ad=class extends E.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,p,b){var S,R,k;let H=l,Q=p||(()=>null),ge=b;if(l&&"object"==typeof l){const qe=l;H=null===(S=qe.next)||void 0===S?void 0:S.bind(qe),Q=null===(R=qe.error)||void 0===R?void 0:R.bind(qe),ge=null===(k=qe.complete)||void 0===k?void 0:k.bind(qe)}this.__isAsync&&(Q=N_(Q),H&&(H=N_(H)),ge&&(ge=N_(ge)));const Ae=super.subscribe({next:H,error:Q,complete:ge});return l instanceof o.w&&l.add(Ae),Ae}};function X0(){return this._results[jp()]()}class _g{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const p=jp(),b=_g.prototype;b[p]||(b[p]=X0)}get changes(){return this._changes||(this._changes=new ad)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,p){return this._results.reduce(l,p)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,p){const b=this;b.dirty=!1;const S=Vs(l);(this._changesDetected=!function(a,l,p){if(a.length!==l.length)return!1;for(let b=0;b<a.length;b++){let S=a[b],R=l[b];if(p&&(S=p(S),R=p(R)),R!==S)return!1}return!0}(b._results,S,p))&&(b._results=S,b.length=S.length,b.last=S[this.length-1],b.first=S[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class F_{constructor(l){this.queryList=l,this.matches=null}clone(){return new F_(this.queryList)}setDirty(){this.queryList.setDirty()}}class B_{constructor(l=[]){this.queries=l}createEmbeddedView(l){const p=l.queries;if(null!==p){const b=null!==l.contentQueries?l.contentQueries[0]:p.length,S=[];for(let R=0;R<b;R++){const k=p.getByIndex(R);S.push(this.queries[k.indexInDeclarationView].clone())}return new B_(S)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let p=0;p<this.queries.length;p++)null!==yE(l,p).matches&&this.queries[p].setDirty()}}class hE{constructor(l,p,b=null){this.predicate=l,this.flags=p,this.read=b}}class H_{constructor(l=[]){this.queries=l}elementStart(l,p){for(let b=0;b<this.queries.length;b++)this.queries[b].elementStart(l,p)}elementEnd(l){for(let p=0;p<this.queries.length;p++)this.queries[p].elementEnd(l)}embeddedTView(l){let p=null;for(let b=0;b<this.length;b++){const S=null!==p?p.length:0,R=this.getByIndex(b).embeddedTView(l,S);R&&(R.indexInDeclarationView=b,null!==p?p.push(R):p=[R])}return null!==p?new H_(p):null}template(l,p){for(let b=0;b<this.queries.length;b++)this.queries[b].template(l,p)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class V_{constructor(l,p=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=p}elementStart(l,p){this.isApplyingToNode(p)&&this.matchTNode(l,p)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,p){this.elementStart(l,p)}embeddedTView(l,p){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,p),new V_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const p=this._declarationNodeIndex;let b=l.parent;for(;null!==b&&8&b.type&&b.index!==p;)b=b.parent;return p===(null!==b?b.index:-1)}return this._appliesToNextNode}matchTNode(l,p){const b=this.metadata.predicate;if(Array.isArray(b))for(let S=0;S<b.length;S++){const R=b[S];this.matchTNodeWithReadOption(l,p,Z0(p,R)),this.matchTNodeWithReadOption(l,p,yn(p,l,R,!1,!1))}else b===sg?4&p.type&&this.matchTNodeWithReadOption(l,p,-1):this.matchTNodeWithReadOption(l,p,yn(p,l,b,!1,!1))}matchTNodeWithReadOption(l,p,b){if(null!==b){const S=this.metadata.read;if(null!==S)if(S===sd||S===hm||S===sg&&4&p.type)this.addMatch(p.index,-2);else{const R=yn(p,l,S,!1,!1);null!==R&&this.addMatch(p.index,R)}else this.addMatch(p.index,b)}}addMatch(l,p){null===this.matches?this.matches=[l,p]:this.matches.push(l,p)}}function Z0(a,l){const p=a.localNames;if(null!==p)for(let b=0;b<p.length;b+=2)if(p[b]===l)return p[b+1];return null}function q0(a,l,p,b){return-1===p?function(a,l){return 11&a.type?af(a,l):4&a.type?dm(a,l):null}(l,a):-2===p?function(a,l,p){return p===sd?af(l,a):p===sg?dm(l,a):p===hm?Ay(l,a):void 0}(a,l,b):Zn(a,a[1],p,l)}function pE(a,l,p,b){const S=l[19].queries[b];if(null===S.matches){const R=a.data,k=p.matches,H=[];for(let Q=0;Q<k.length;Q+=2){const ge=k[Q];H.push(ge<0?null:q0(l,R[ge],k[Q+1],p.metadata.read))}S.matches=H}return S.matches}function U_(a,l,p,b){const S=a.queries.getByIndex(p),R=S.matches;if(null!==R){const k=pE(a,l,S,p);for(let H=0;H<R.length;H+=2){const Q=R[H];if(Q>0)b.push(k[H/2]);else{const ge=R[H+1],Ae=l[-Q];for(let qe=10;qe<Ae.length;qe++){const st=Ae[qe];st[17]===st[3]&&U_(st[1],st,ge,b)}if(null!==Ae[9]){const qe=Ae[9];for(let st=0;st<qe.length;st++){const Rt=qe[st];U_(Rt[1],Rt,ge,b)}}}}}return b}function fE(a){const l=In(),p=Mi(),b=Rr();Fr(b+1);const S=yE(p,b);if(a.dirty&&fr(l)===(2==(2&S.metadata.flags))){if(null===S.matches)a.reset([]);else{const R=S.crossesNgTemplate?U_(p,l,b,[]):pE(p,l,S,b);a.reset(R,by),a.notifyOnChanges()}return!0}return!1}function gE(a,l,p){const b=Mi();b.firstCreatePass&&(bE(b,new hE(a,l,p),-1),2==(2&l)&&(b.staticViewQueries=!0)),vE(b,In(),l)}function mE(a,l,p,b){const S=Mi();if(S.firstCreatePass){const R=Kr();bE(S,new hE(l,p,b),R.index),function(a,l){const p=a.contentQueries||(a.contentQueries=[]);l!==(p.length?p[p.length-1]:-1)&&p.push(a.queries.length-1,l)}(S,a),2==(2&p)&&(S.staticContentQueries=!0)}vE(S,In(),p)}function _E(){return a=In(),l=Rr(),a[19].queries[l].queryList;var a,l}function vE(a,l,p){const b=new _g(4==(4&p));uh(a,l,b,b.destroy),null===l[19]&&(l[19]=new B_),l[19].queries.push(new F_(b))}function bE(a,l,p){null===a.queries&&(a.queries=new H_),a.queries.track(new V_(l,p))}function yE(a,l){return a.queries.getByIndex(l)}function EE(a,l){return dm(a,l)}const K_=new Xr("Application Initializer");let ff=(()=>{class a{constructor(p){this.appInits=p,this.resolve=sm,this.reject=sm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((b,S)=>{this.resolve=b,this.reject=S})}runInitializers(){if(this.initialized)return;const p=[],b=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let S=0;S<this.appInits.length;S++){const R=this.appInits[S]();if(Zm(R))p.push(R);else if(Qm(R)){const k=new Promise((H,Q)=>{R.subscribe({complete:H,error:Q})});p.push(k)}}Promise.all(p).then(()=>{b()}).catch(S=>{this.reject(S)}),0===p.length&&b(),this.initialized=!0}}return a.\u0275fac=function(p){return new(p||a)(no(K_,8))},a.\u0275prov=Vt({token:a,factory:a.\u0275fac}),a})();const HE=new Xr("AppId"),xD={provide:HE,useFactory:function(){return`${X_()}${X_()}${X_()}`},deps:[]};function X_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VE=new Xr("Platform Initializer"),UE=new Xr("Platform ID"),GE=new Xr("appBootstrapListener");let WE=(()=>{class a{log(p){console.log(p)}warn(p){console.warn(p)}}return a.\u0275fac=function(p){return new(p||a)},a.\u0275prov=Vt({token:a,factory:a.\u0275fac}),a})();const bm=new Xr("LocaleId"),jE=new Xr("DefaultCurrencyCode");class AD{constructor(l,p){this.ngModuleFactory=l,this.componentFactories=p}}const $_=function(a){return new L_(a)},OD=$_,kD=function(a){return Promise.resolve($_(a))},zE=function(a){const l=$_(a),b=ul(Tr(a).declarations).reduce((S,R)=>{const k=Bi(R);return k&&S.push(new qy(k)),S},[]);return new AD(l,b)},PD=zE,LD=function(a){return Promise.resolve(zE(a))};let bg=(()=>{class a{constructor(){this.compileModuleSync=OD,this.compileModuleAsync=kD,this.compileModuleAndAllComponentsSync=PD,this.compileModuleAndAllComponentsAsync=LD}clearCache(){}clearCacheFor(p){}getModuleId(p){}}return a.\u0275fac=function(p){return new(p||a)},a.\u0275prov=Vt({token:a,factory:a.\u0275fac}),a})();const BD=(()=>Promise.resolve(0))();function J_(a){"undefined"==typeof Zone?BD.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class gc{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:p=!1,shouldCoalesceRunChangeDetection:b=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ad(!1),this.onMicrotaskEmpty=new ad(!1),this.onStable=new ad(!1),this.onError=new ad(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const S=this;S._nesting=0,S._outer=S._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!b&&p,S.shouldCoalesceRunChangeDetection=b,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function(){let a=fn.requestAnimationFrame,l=fn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const p=a[Zone.__symbol__("OriginalDelegate")];p&&(a=p);const b=l[Zone.__symbol__("OriginalDelegate")];b&&(l=b)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(fn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Q_(a),a.isCheckStableRunning=!0,Z_(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Q_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(p,b,S,R,k,H)=>{try{return YE(a),p.invokeTask(S,R,k,H)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===R.type||a.shouldCoalesceRunChangeDetection)&&l(),KE(a)}},onInvoke:(p,b,S,R,k,H,Q)=>{try{return YE(a),p.invoke(S,R,k,H,Q)}finally{a.shouldCoalesceRunChangeDetection&&l(),KE(a)}},onHasTask:(p,b,S,R)=>{p.hasTask(S,R),b===S&&("microTask"==R.change?(a._hasPendingMicrotasks=R.microTask,Q_(a),Z_(a)):"macroTask"==R.change&&(a.hasPendingMacrotasks=R.macroTask))},onHandleError:(p,b,S,R)=>(p.handleError(S,R),a.runOutsideAngular(()=>a.onError.emit(R)),!1)})}(S)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,p,b){return this._inner.run(l,p,b)}runTask(l,p,b,S){const R=this._inner,k=R.scheduleEventTask("NgZoneEvent: "+S,l,VD,sm,sm);try{return R.runTask(k,p,b)}finally{R.cancelTask(k)}}runGuarded(l,p,b){return this._inner.runGuarded(l,p,b)}runOutsideAngular(l){return this._outer.run(l)}}const VD={};function Z_(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Q_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function YE(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function KE(a){a._nesting--,Z_(a)}class WD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ad,this.onMicrotaskEmpty=new ad,this.onStable=new ad,this.onError=new ad}run(l,p,b){return l.apply(p,b)}runGuarded(l,p,b){return l.apply(p,b)}runOutsideAngular(l){return l()}runTask(l,p,b,S){return l.apply(p,b)}}let XE=(()=>{class a{constructor(p){this._ngZone=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),p.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gc.assertNotInAngularZone(),J_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J_(()=>{for(;0!==this._callbacks.length;){let p=this._callbacks.pop();clearTimeout(p.timeoutId),p.doneCb(this._didWork)}this._didWork=!1});else{let p=this.getPendingTasks();this._callbacks=this._callbacks.filter(b=>!b.updateCb||!b.updateCb(p)||(clearTimeout(b.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(p=>({source:p.source,creationLocation:p.creationLocation,data:p.data})):[]}addCallback(p,b,S){let R=-1;b&&b>0&&(R=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==R),p(this._didWork,this.getPendingTasks())},b)),this._callbacks.push({doneCb:p,timeoutId:R,updateCb:S})}whenStable(p,b,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(p,b,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(p,b,S){return[]}}return a.\u0275fac=function(p){return new(p||a)(no(gc))},a.\u0275prov=Vt({token:a,factory:a.\u0275fac}),a})(),$E=(()=>{class a{constructor(){this._applications=new Map,q_.addToWindow(this)}registerApplication(p,b){this._applications.set(p,b)}unregisterApplication(p){this._applications.delete(p)}unregisterAllApplications(){this._applications.clear()}getTestability(p){return this._applications.get(p)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(p,b=!0){return q_.findTestabilityInTree(this,p,b)}}return a.\u0275fac=function(p){return new(p||a)},a.\u0275prov=Vt({token:a,factory:a.\u0275fac}),a})();class jD{addToWindow(l){}findTestabilityInTree(l,p,b){return null}}function zD(a){q_=a}let q_=new jD,JE=!0,ZE=!1;function ev(){return ZE=!0,JE}function YD(){if(ZE)throw new Error("Cannot enable prod mode after platform setup.");JE=!1}let hu;const QE=new Xr("AllowMultipleToken");class qD{constructor(l,p){this.name=l,this.token=p}}function qE(a,l,p=[]){const b=`Platform: ${l}`,S=new Xr(b);return(R=[])=>{let k=eC();if(!k||k.injector.get(QE,!1))if(a)a(p.concat(R).concat({provide:S,useValue:!0}));else{const H=p.concat(R).concat({provide:S,useValue:!0},{provide:De,useValue:"platform"});!function(a){if(hu&&!hu.destroyed&&!hu.injector.get(QE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");hu=a.get(tC);const l=a.get(VE,null);l&&l.forEach(p=>p())}(Jr.create({providers:H,name:b}))}return function(a){const l=eC();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(S)}}function eC(){return hu&&!hu.destroyed?hu:null}let tC=(()=>{class a{constructor(p){this._injector=p,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(p,b){const H=function(a,l){let p;return p="noop"===a?new WD:("zone.js"===a?void 0:a)||new gc({enableLongStackTrace:ev(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),p}(b?b.ngZone:void 0,{ngZoneEventCoalescing:b&&b.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:b&&b.ngZoneRunCoalescing||!1}),Q=[{provide:gc,useValue:H}];return H.run(()=>{const ge=Jr.create({providers:Q,parent:this.injector,name:p.moduleType.name}),Ae=p.create(ge),qe=Ae.injector.get(Ic,null);if(!qe)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return H.runOutsideAngular(()=>{const st=H.onError.subscribe({next:Rt=>{qe.handleError(Rt)}});Ae.onDestroy(()=>{tv(this._modules,Ae),st.unsubscribe()})}),function(a,l,p){try{const b=p();return Zm(b)?b.catch(S=>{throw l.runOutsideAngular(()=>a.handleError(S)),S}):b}catch(b){throw l.runOutsideAngular(()=>a.handleError(b)),b}}(qe,H,()=>{const st=Ae.injector.get(ff);return st.runInitializers(),st.donePromise.then(()=>(p_(Ae.injector.get(bm,tm)||tm),this._moduleDoBootstrap(Ae),Ae))})})}bootstrapModule(p,b=[]){const S=nC({},b);return function(a,l,p){const b=new L_(p);return Promise.resolve(b)}(0,0,p).then(R=>this.bootstrapModuleFactory(R,S))}_moduleDoBootstrap(p){const b=p.injector.get(yg);if(p._bootstrapComponents.length>0)p._bootstrapComponents.forEach(S=>b.bootstrap(S));else{if(!p.instance.ngDoBootstrap)throw new Error(`The module ${y(p.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);p.instance.ngDoBootstrap(b)}this._modules.push(p)}onDestroy(p){this._destroyListeners.push(p)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(p){return new(p||a)(no(Jr))},a.\u0275prov=Vt({token:a,factory:a.\u0275fac}),a})();function nC(a,l){return Array.isArray(l)?l.reduce(nC,a):Object.assign(Object.assign({},a),l)}let yg=(()=>{class a{constructor(p,b,S,R,k){this._zone=p,this._injector=b,this._exceptionHandler=S,this._componentFactoryResolver=R,this._initStatus=k,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const H=new t.y(ge=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ge.next(this._stable),ge.complete()})}),Q=new t.y(ge=>{let Ae;this._zone.runOutsideAngular(()=>{Ae=this._zone.onStable.subscribe(()=>{gc.assertNotInAngularZone(),J_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ge.next(!0))})})});const qe=this._zone.onUnstable.subscribe(()=>{gc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ge.next(!1)}))});return()=>{Ae.unsubscribe(),qe.unsubscribe()}});this.isStable=(0,e.T)(H,Q.pipe((0,n.B)()))}bootstrap(p,b){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let S;S=p instanceof my?p:this._componentFactoryResolver.resolveComponentFactory(p),this.componentTypes.push(S.componentType);const R=function(a){return a.isBoundToModule}(S)?void 0:this._injector.get(sp),H=S.create(Jr.NULL,[],b||S.selector,R),Q=H.location.nativeElement,ge=H.injector.get(XE,null),Ae=ge&&H.injector.get($E);return ge&&Ae&&Ae.registerApplication(Q,ge),H.onDestroy(()=>{this.detachView(H.hostView),tv(this.components,H),Ae&&Ae.unregisterApplication(Q)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let p of this._views)p.detectChanges()}catch(p){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(p))}finally{this._runningTick=!1}}attachView(p){const b=p;this._views.push(b),b.attachToAppRef(this)}detachView(p){const b=p;tv(this._views,b),b.detachFromAppRef()}_loadComponent(p){this.attachView(p.hostView),this.tick(),this.components.push(p),this._injector.get(GE,[]).concat(this._bootstrapListeners).forEach(S=>S(p))}ngOnDestroy(){this._views.slice().forEach(p=>p.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(p){return new(p||a)(no(gc),no(Jr),no(Ic),no(sf),no(ff))},a.\u0275prov=Vt({token:a,factory:a.\u0275fac}),a})();function tv(a,l){const p=a.indexOf(l);p>-1&&a.splice(p,1)}class oM{}class aM{}const lM={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let cM=(()=>{class a{constructor(p,b){this._compiler=p,this._config=b||lM}load(p){return this.loadAndCompile(p)}loadAndCompile(p){let[b,S]=p.split("#");return void 0===S&&(S="default"),_(98255)(b).then(R=>R[S]).then(R=>sC(R,b,S)).then(R=>this._compiler.compileModuleAsync(R))}loadFactory(p){let[b,S]=p.split("#"),R="NgFactory";return void 0===S&&(S="default",R=""),_(98255)(this._config.factoryPathPrefix+b+this._config.factoryPathSuffix).then(k=>k[S+R]).then(k=>sC(k,b,S))}}return a.\u0275fac=function(p){return new(p||a)(no(bg),no(aM,8))},a.\u0275prov=Vt({token:a,factory:a.\u0275fac}),a})();function sC(a,l,p){if(!a)throw new Error(`Cannot find '${p}' in '${l}'`);return a}const _M=function(a){return null},bM=qE(null,"core",[{provide:UE,useValue:"unknown"},{provide:tC,deps:[Jr]},{provide:$E,deps:[]},{provide:WE,deps:[]}]),wM=[{provide:yg,useClass:yg,deps:[gc,Jr,Ic,sf,ff]},{provide:R0,deps:[gc],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(p){l.push(p)}}},{provide:ff,useClass:ff,deps:[[new Oa,K_]]},{provide:bg,useClass:bg,deps:[]},xD,{provide:lm,useFactory:function(){return ES},deps:[]},{provide:cm,useFactory:function(){return CS},deps:[]},{provide:bm,useFactory:function(a){return p_(a=a||"undefined"!=typeof $localize&&$localize.locale||tm),a},deps:[[new Aa(bm),new Oa,new Ca]]},{provide:jE,useValue:"USD"}];let DM=(()=>{class a{constructor(p){}}return a.\u0275fac=function(p){return new(p||a)(no(yg))},a.\u0275mod=Nn({type:a}),a.\u0275inj=$t({providers:wM}),a})()},93324:(F,U,_)=>{"use strict";_.d(U,{Zs:()=>pr,gN:()=>dn,sg:()=>fo,u5:()=>Qo,Cf:()=>ae,JU:()=>y,a5:()=>It,JJ:()=>un,F:()=>Xi,On:()=>Ii,kI:()=>we});var E=_(42741),o=_(16274),t=_(72850),e=_(90714),n=_(88561);let s=(()=>{class K{constructor(q,Pe){this._renderer=q,this._elementRef=Pe,this.onChange=Wt=>{},this.onTouched=()=>{}}setProperty(q,Pe){this._renderer.setProperty(this._elementRef.nativeElement,q,Pe)}registerOnTouched(q){this.onTouched=q}registerOnChange(q){this.onChange=q}setDisabledState(q){this.setProperty("disabled",q)}}return K.\u0275fac=function(q){return new(q||K)(E.Y36(E.Qsj),E.Y36(E.SBq))},K.\u0275dir=E.lG2({type:K}),K})(),f=(()=>{class K extends s{}return K.\u0275fac=function(){let $;return function(Pe){return($||($=E.n5z(K)))(Pe||K)}}(),K.\u0275dir=E.lG2({type:K,features:[E.qOj]}),K})();const y=new E.OlP("NgValueAccessor"),P={provide:y,useExisting:(0,E.Gpc)(()=>te),multi:!0},ne=new E.OlP("CompositionEventMode");let te=(()=>{class K extends s{constructor(q,Pe,Wt){super(q,Pe),this._compositionMode=Wt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const K=(0,o.q)()?(0,o.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(q){this.setProperty("value",null==q?"":q)}_handleInput(q){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(q)}_compositionStart(){this._composing=!0}_compositionEnd(q){this._composing=!1,this._compositionMode&&this.onChange(q)}}return K.\u0275fac=function(q){return new(q||K)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(ne,8))},K.\u0275dir=E.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(q,Pe){1&q&&E.NdJ("input",function(Rn){return Pe._handleInput(Rn.target.value)})("blur",function(){return Pe.onTouched()})("compositionstart",function(){return Pe._compositionStart()})("compositionend",function(Rn){return Pe._compositionEnd(Rn.target.value)})},features:[E._Bn([P]),E.qOj]}),K})();function se(K){return null==K||0===K.length}function de(K){return null!=K&&"number"==typeof K.length}const ae=new E.OlP("NgValidators"),Me=new E.OlP("NgAsyncValidators"),xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class we{static min($){return K=$,$=>{if(se($.value)||se(K))return null;const q=parseFloat($.value);return!isNaN(q)&&q<K?{min:{min:K,actual:$.value}}:null};var K}static max($){return K=$,$=>{if(se($.value)||se(K))return null;const q=parseFloat($.value);return!isNaN(q)&&q>K?{max:{max:K,actual:$.value}}:null};var K}static required($){return pe($)}static requiredTrue($){return ie($)}static email($){return se((K=$).value)||xe.test(K.value)?null:{email:!0};var K}static minLength($){return K=$,$=>se($.value)||!de($.value)?null:$.value.length<K?{minlength:{requiredLength:K,actualLength:$.value.length}}:null;var K}static maxLength($){return K=$,$=>de($.value)&&$.value.length>K?{maxlength:{requiredLength:K,actualLength:$.value.length}}:null;var K}static pattern($){return function(K){if(!K)return me;let $,q;return"string"==typeof K?(q="","^"!==K.charAt(0)&&(q+="^"),q+=K,"$"!==K.charAt(K.length-1)&&(q+="$"),$=new RegExp(q)):(q=K.toString(),$=K),Pe=>{if(se(Pe.value))return null;const Wt=Pe.value;return $.test(Wt)?null:{pattern:{requiredPattern:q,actualValue:Wt}}}}($)}static nullValidator($){return null}static compose($){return wt($)}static composeAsync($){return Et($)}}function pe(K){return se(K.value)?{required:!0}:null}function ie(K){return!0===K.value?null:{required:!0}}function me(K){return null}function ve(K){return null!=K}function Ze(K){const $=(0,E.QGY)(K)?(0,t.D)(K):K;return(0,E.CqO)($),$}function Be(K){let $={};return K.forEach(q=>{$=null!=q?Object.assign(Object.assign({},$),q):$}),0===Object.keys($).length?null:$}function ot(K,$){return $.map(q=>q(K))}function Jt(K){return K.map($=>function(K){return!K.validate}($)?$:q=>$.validate(q))}function wt(K){if(!K)return null;const $=K.filter(ve);return 0==$.length?null:function(q){return Be(ot(q,$))}}function tn(K){return null!=K?wt(Jt(K)):null}function Et(K){if(!K)return null;const $=K.filter(ve);return 0==$.length?null:function(q){const Pe=ot(q,$).map(Ze);return(0,e.D)(Pe).pipe((0,n.U)(Be))}}function sn(K){return null!=K?Et(Jt(K)):null}function rt(K,$){return null===K?[$]:Array.isArray(K)?[...K,$]:[K,$]}function at(K){return K._rawValidators}function Vt(K){return K._rawAsyncValidators}function zt(K){return K?Array.isArray(K)?K:[K]:[]}function $t(K,$){return Array.isArray(K)?K.includes($):K===$}function xn(K,$){const q=zt($);return zt(K).forEach(Wt=>{$t(q,Wt)||q.push(Wt)}),q}function Kn(K,$){return zt($).filter(q=>!$t(K,q))}let Yn=(()=>{class K{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=tn(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q){this.control&&this.control.reset(q)}hasError(q,Pe){return!!this.control&&this.control.hasError(q,Pe)}getError(q,Pe){return this.control?this.control.getError(q,Pe):null}}return K.\u0275fac=function(q){return new(q||K)},K.\u0275dir=E.lG2({type:K}),K})(),dn=(()=>{class K extends Yn{get formDirective(){return null}get path(){return null}}return K.\u0275fac=function(){let $;return function(Pe){return($||($=E.n5z(K)))(Pe||K)}}(),K.\u0275dir=E.lG2({type:K,features:[E.qOj]}),K})();class It extends Yn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let un=(()=>{class K extends class{constructor($){this._cd=$}is($){var q,Pe,Wt;return"submitted"===$?!!(null===(q=this._cd)||void 0===q?void 0:q.submitted):!!(null===(Wt=null===(Pe=this._cd)||void 0===Pe?void 0:Pe.control)||void 0===Wt?void 0:Wt[$])}}{constructor(q){super(q)}}return K.\u0275fac=function(q){return new(q||K)(E.Y36(It,2))},K.\u0275dir=E.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(q,Pe){2&q&&E.ekj("ng-untouched",Pe.is("untouched"))("ng-touched",Pe.is("touched"))("ng-pristine",Pe.is("pristine"))("ng-dirty",Pe.is("dirty"))("ng-valid",Pe.is("valid"))("ng-invalid",Pe.is("invalid"))("ng-pending",Pe.is("pending"))},features:[E.qOj]}),K})();function bn(K,$){tt(K,$),$.valueAccessor.writeValue(K.value),function(K,$){$.valueAccessor.registerOnChange(q=>{K._pendingValue=q,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&qn(K,$)})}(K,$),function(K,$){const q=(Pe,Wt)=>{$.valueAccessor.writeValue(Pe),Wt&&$.viewToModelUpdate(Pe)};K.registerOnChange(q),$._registerOnDestroy(()=>{K._unregisterOnChange(q)})}(K,$),function(K,$){$.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&qn(K,$),"submit"!==K.updateOn&&K.markAsTouched()})}(K,$),function(K,$){if($.valueAccessor.setDisabledState){const q=Pe=>{$.valueAccessor.setDisabledState(Pe)};K.registerOnDisabledChange(q),$._registerOnDestroy(()=>{K._unregisterOnDisabledChange(q)})}}(K,$)}function fn(K,$,q=!0){const Pe=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(Pe),$.valueAccessor.registerOnTouched(Pe)),xt(K,$),K&&($._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Ut(K,$){K.forEach(q=>{q.registerOnValidatorChange&&q.registerOnValidatorChange($)})}function tt(K,$){const q=at(K);null!==$.validator?K.setValidators(rt(q,$.validator)):"function"==typeof q&&K.setValidators([q]);const Pe=Vt(K);null!==$.asyncValidator?K.setAsyncValidators(rt(Pe,$.asyncValidator)):"function"==typeof Pe&&K.setAsyncValidators([Pe]);const Wt=()=>K.updateValueAndValidity();Ut($._rawValidators,Wt),Ut($._rawAsyncValidators,Wt)}function xt(K,$){let q=!1;if(null!==K){if(null!==$.validator){const Wt=at(K);if(Array.isArray(Wt)&&Wt.length>0){const Rn=Wt.filter(Si=>Si!==$.validator);Rn.length!==Wt.length&&(q=!0,K.setValidators(Rn))}}if(null!==$.asyncValidator){const Wt=Vt(K);if(Array.isArray(Wt)&&Wt.length>0){const Rn=Wt.filter(Si=>Si!==$.asyncValidator);Rn.length!==Wt.length&&(q=!0,K.setAsyncValidators(Rn))}}}const Pe=()=>{};return Ut($._rawValidators,Pe),Ut($._rawAsyncValidators,Pe),q}function qn(K,$){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function Vn(K,$){tt(K,$)}function We(K,$){K._syncPendingControls(),$.forEach(q=>{const Pe=q.control;"submit"===Pe.updateOn&&Pe._pendingChange&&(q.viewToModelUpdate(Pe._pendingValue),Pe._pendingChange=!1)})}function Qt(K,$){const q=K.indexOf($);q>-1&&K.splice(q,1)}const An="VALID",Fi="INVALID",Ki="PENDING",tr="DISABLED";function Di(K){return(sr(K)?K.validators:K)||null}function Cr(K){return Array.isArray(K)?tn(K):K||null}function Tr(K,$){return(sr($)?$.asyncValidators:K)||null}function Qr(K){return Array.isArray(K)?sn(K):K||null}function sr(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}class Pn{constructor($,q){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=$,this._rawAsyncValidators=q,this._composedValidatorFn=Cr(this._rawValidators),this._composedAsyncValidatorFn=Qr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===An}get invalid(){return this.status===Fi}get pending(){return this.status==Ki}get disabled(){return this.status===tr}get enabled(){return this.status!==tr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._rawValidators=$,this._composedValidatorFn=Cr($)}setAsyncValidators($){this._rawAsyncValidators=$,this._composedAsyncValidatorFn=Qr($)}addValidators($){this.setValidators(xn($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(xn($,this._rawAsyncValidators))}removeValidators($){this.setValidators(Kn($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(Kn($,this._rawAsyncValidators))}hasValidator($){return $t(this._rawValidators,$)}hasAsyncValidator($){return $t(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(q=>{q.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(q=>{q.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=Ki,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const q=this._parentMarkedDirty($.onlySelf);this.status=tr,this.errors=null,this._forEachChild(Pe=>{Pe.disable(Object.assign(Object.assign({},$),{onlySelf:!0}))}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},$),{skipPristineCheck:q})),this._onDisabledChange.forEach(Pe=>Pe(!0))}enable($={}){const q=this._parentMarkedDirty($.onlySelf);this.status=An,this._forEachChild(Pe=>{Pe.enable(Object.assign(Object.assign({},$),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},$),{skipPristineCheck:q})),this._onDisabledChange.forEach(Pe=>Pe(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===An||this.status===Ki)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(q=>q._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tr:An}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=Ki,this._hasOwnPendingAsyncValidator=!0;const q=Ze(this.asyncValidator(this));this._asyncValidationSubscription=q.subscribe(Pe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Pe,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,q={}){this.errors=$,this._updateControlsErrors(!1!==q.emitEvent)}get($){return function(K,$,q){if(null==$||(Array.isArray($)||($=$.split(".")),Array.isArray($)&&0===$.length))return null;let Pe=K;return $.forEach(Wt=>{Pe=Pe instanceof Vi?Pe.controls.hasOwnProperty(Wt)?Pe.controls[Wt]:null:Pe instanceof Gr&&Pe.at(Wt)||null}),Pe}(this,$)}getError($,q){const Pe=q?this.get(q):this;return Pe&&Pe.errors?Pe.errors[$]:null}hasError($,q){return!!this.getError($,q)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?tr:this.errors?Fi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ki)?Ki:this._anyControlsHaveStatus(Fi)?Fi:An}_anyControlsHaveStatus($){return this._anyControls(q=>q.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_isBoxedValue($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){sr($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gi extends Pn{constructor($=null,q,Pe){super(Di(q),Tr(Pe,q)),this._onChange=[],this._applyFormState($),this._setUpdateStrategy(q),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue($,q={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==q.emitModelToViewChange&&this._onChange.forEach(Pe=>Pe(this.value,!1!==q.emitViewToModelChange)),this.updateValueAndValidity(q)}patchValue($,q={}){this.setValue($,q)}reset($=null,q={}){this._applyFormState($),this.markAsPristine(q),this.markAsUntouched(q),this.setValue(this.value,q),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){Qt(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){Qt(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){this._isBoxedValue($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}}class Vi extends Pn{constructor($,q,Pe){super(Di(q),Tr(Pe,q)),this.controls=$,this._initObservables(),this._setUpdateStrategy(q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,q){return this.controls[$]?this.controls[$]:(this.controls[$]=q,q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange),q)}addControl($,q,Pe={}){this.registerControl($,q),this.updateValueAndValidity({emitEvent:Pe.emitEvent}),this._onCollectionChange()}removeControl($,q={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}setControl($,q,Pe={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],q&&this.registerControl($,q),this.updateValueAndValidity({emitEvent:Pe.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,q={}){this._checkAllValuesPresent($),Object.keys($).forEach(Pe=>{this._throwIfControlMissing(Pe),this.controls[Pe].setValue($[Pe],{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q)}patchValue($,q={}){null!=$&&(Object.keys($).forEach(Pe=>{this.controls[Pe]&&this.controls[Pe].patchValue($[Pe],{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q))}reset($={},q={}){this._forEachChild((Pe,Wt)=>{Pe.reset($[Wt],{onlySelf:!0,emitEvent:q.emitEvent})}),this._updatePristine(q),this._updateTouched(q),this.updateValueAndValidity(q)}getRawValue(){return this._reduceChildren({},($,q,Pe)=>($[Pe]=q instanceof gi?q.value:q.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(q,Pe)=>!!Pe._syncPendingControls()||q);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_throwIfControlMissing($){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[$])throw new Error(`Cannot find form control with name: ${$}.`)}_forEachChild($){Object.keys(this.controls).forEach(q=>{const Pe=this.controls[q];Pe&&$(Pe,q)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const q of Object.keys(this.controls)){const Pe=this.controls[q];if(this.contains(q)&&$(Pe))return!0}return!1}_reduceValue(){return this._reduceChildren({},($,q,Pe)=>((q.enabled||this.disabled)&&($[Pe]=q.value),$))}_reduceChildren($,q){let Pe=$;return this._forEachChild((Wt,Rn)=>{Pe=q(Pe,Wt,Rn)}),Pe}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent($){this._forEachChild((q,Pe)=>{if(void 0===$[Pe])throw new Error(`Must supply a value for form control with name: '${Pe}'.`)})}}class Gr extends Pn{constructor($,q,Pe){super(Di(q),Tr(Pe,q)),this.controls=$,this._initObservables(),this._setUpdateStrategy(q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[$]}push($,q={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}insert($,q,Pe={}){this.controls.splice($,0,q),this._registerControl(q),this.updateValueAndValidity({emitEvent:Pe.emitEvent})}removeAt($,q={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:q.emitEvent})}setControl($,q,Pe={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),q&&(this.controls.splice($,0,q),this._registerControl(q)),this.updateValueAndValidity({emitEvent:Pe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,q={}){this._checkAllValuesPresent($),$.forEach((Pe,Wt)=>{this._throwIfControlMissing(Wt),this.at(Wt).setValue(Pe,{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q)}patchValue($,q={}){null!=$&&($.forEach((Pe,Wt)=>{this.at(Wt)&&this.at(Wt).patchValue(Pe,{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q))}reset($=[],q={}){this._forEachChild((Pe,Wt)=>{Pe.reset($[Wt],{onlySelf:!0,emitEvent:q.emitEvent})}),this._updatePristine(q),this._updateTouched(q),this.updateValueAndValidity(q)}getRawValue(){return this.controls.map($=>$ instanceof gi?$.value:$.getRawValue())}clear($={}){this.controls.length<1||(this._forEachChild(q=>q._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_syncPendingControls(){let $=this.controls.reduce((q,Pe)=>!!Pe._syncPendingControls()||q,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_throwIfControlMissing($){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at($))throw new Error(`Cannot find form control at index ${$}`)}_forEachChild($){this.controls.forEach((q,Pe)=>{$(q,Pe)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(q=>q.enabled&&$(q))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_checkAllValuesPresent($){this._forEachChild((q,Pe)=>{if(void 0===$[Pe])throw new Error(`Must supply a value for form control at index: ${Pe}.`)})}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}}const qr={provide:dn,useExisting:(0,E.Gpc)(()=>Xi)},kr=(()=>Promise.resolve(null))();let Xi=(()=>{class K extends dn{constructor(q,Pe){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new E.vpe,this.form=new Vi({},tn(q),sn(Pe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(q){kr.then(()=>{const Pe=this._findContainer(q.path);q.control=Pe.registerControl(q.name,q.control),bn(q.control,q),q.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(q)})}getControl(q){return this.form.get(q.path)}removeControl(q){kr.then(()=>{const Pe=this._findContainer(q.path);Pe&&Pe.removeControl(q.name),Qt(this._directives,q)})}addFormGroup(q){kr.then(()=>{const Pe=this._findContainer(q.path),Wt=new Vi({});Vn(Wt,q),Pe.registerControl(q.name,Wt),Wt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(q){kr.then(()=>{const Pe=this._findContainer(q.path);Pe&&Pe.removeControl(q.name)})}getFormGroup(q){return this.form.get(q.path)}updateModel(q,Pe){kr.then(()=>{this.form.get(q.path).setValue(Pe)})}setValue(q){this.control.setValue(q)}onSubmit(q){return this.submitted=!0,We(this.form,this._directives),this.ngSubmit.emit(q),!1}onReset(){this.resetForm()}resetForm(q){this.form.reset(q),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(q){return q.pop(),q.length?this.form.get(q):this.form}}return K.\u0275fac=function(q){return new(q||K)(E.Y36(ae,10),E.Y36(Me,10))},K.\u0275dir=E.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(q,Pe){1&q&&E.NdJ("submit",function(Rn){return Pe.onSubmit(Rn)})("reset",function(){return Pe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([qr]),E.qOj]}),K})();const _n={provide:It,useExisting:(0,E.Gpc)(()=>Ii)},fi=(()=>Promise.resolve(null))();let Ii=(()=>{class K extends It{constructor(q,Pe,Wt,Rn){super(),this.control=new gi,this._registered=!1,this.update=new E.vpe,this._parent=q,this._setValidators(Pe),this._setAsyncValidators(Wt),this.valueAccessor=function(K,$){if(!$)return null;let q,Pe,Wt;return Array.isArray($),$.forEach(Rn=>{Rn.constructor===te?q=Rn:function(K){return Object.getPrototypeOf(K.constructor)===f}(Rn)?Pe=Rn:Wt=Rn}),Wt||Pe||q||null}(0,Rn)}ngOnChanges(q){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in q&&this._updateDisabled(q),function(K,$){if(!K.hasOwnProperty("model"))return!1;const q=K.model;return!!q.isFirstChange()||!Object.is($,q.currentValue)}(q,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(K,$){return[...$.path,K]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(q){this.viewModel=q,this.update.emit(q)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(q){fi.then(()=>{this.control.setValue(q,{emitViewToModelChange:!1})})}_updateDisabled(q){const Pe=q.isDisabled.currentValue,Wt=""===Pe||Pe&&"false"!==Pe;fi.then(()=>{Wt&&!this.control.disabled?this.control.disable():!Wt&&this.control.disabled&&this.control.enable()})}}return K.\u0275fac=function(q){return new(q||K)(E.Y36(dn,9),E.Y36(ae,10),E.Y36(Me,10),E.Y36(y,10))},K.\u0275dir=E.lG2({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([_n]),E.qOj,E.TTD]}),K})(),di=(()=>{class K{}return K.\u0275fac=function(q){return new(q||K)},K.\u0275mod=E.oAB({type:K}),K.\u0275inj=E.cJS({}),K})();const Lr={provide:dn,useExisting:(0,E.Gpc)(()=>fo)};let fo=(()=>{class K extends dn{constructor(q,Pe){super(),this.validators=q,this.asyncValidators=Pe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E.vpe,this._setValidators(q),this._setAsyncValidators(Pe)}ngOnChanges(q){this._checkFormPresent(),q.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(q){const Pe=this.form.get(q.path);return bn(Pe,q),Pe.updateValueAndValidity({emitEvent:!1}),this.directives.push(q),Pe}getControl(q){return this.form.get(q.path)}removeControl(q){fn(q.control||null,q,!1),Qt(this.directives,q)}addFormGroup(q){this._setUpFormContainer(q)}removeFormGroup(q){this._cleanUpFormContainer(q)}getFormGroup(q){return this.form.get(q.path)}addFormArray(q){this._setUpFormContainer(q)}removeFormArray(q){this._cleanUpFormContainer(q)}getFormArray(q){return this.form.get(q.path)}updateModel(q,Pe){this.form.get(q.path).setValue(Pe)}onSubmit(q){return this.submitted=!0,We(this.form,this.directives),this.ngSubmit.emit(q),!1}onReset(){this.resetForm()}resetForm(q){this.form.reset(q),this.submitted=!1}_updateDomValue(){this.directives.forEach(q=>{const Pe=q.control,Wt=this.form.get(q.path);Pe!==Wt&&(fn(Pe||null,q),Wt instanceof gi&&(bn(Wt,q),q.control=Wt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(q){const Pe=this.form.get(q.path);Vn(Pe,q),Pe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(q){if(this.form){const Pe=this.form.get(q.path);Pe&&function(K,$){return xt(K,$)}(Pe,q)&&Pe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tt(this.form,this),this._oldForm&&xt(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(q){return new(q||K)(E.Y36(ae,10),E.Y36(Me,10))},K.\u0275dir=E.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(q,Pe){1&q&&E.NdJ("submit",function(Rn){return Pe.onSubmit(Rn)})("reset",function(){return Pe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([Lr]),E.qOj,E.TTD]}),K})();const Io={provide:ae,useExisting:(0,E.Gpc)(()=>No),multi:!0},ra={provide:ae,useExisting:(0,E.Gpc)(()=>pr),multi:!0};let No=(()=>{class K{constructor(){this._required=!1}get required(){return this._required}set required(q){this._required=null!=q&&!1!==q&&"false"!=`${q}`,this._onChange&&this._onChange()}validate(q){return this.required?pe(q):null}registerOnValidatorChange(q){this._onChange=q}}return K.\u0275fac=function(q){return new(q||K)},K.\u0275dir=E.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(q,Pe){2&q&&E.uIk("required",Pe.required?"":null)},inputs:{required:"required"},features:[E._Bn([Io])]}),K})(),pr=(()=>{class K extends No{validate(q){return this.required?ie(q):null}}return K.\u0275fac=function(){let $;return function(Pe){return($||($=E.n5z(K)))(Pe||K)}}(),K.\u0275dir=E.lG2({type:K,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(q,Pe){2&q&&E.uIk("required",Pe.required?"":null)},features:[E._Bn([ra]),E.qOj]}),K})(),ma=(()=>{class K{}return K.\u0275fac=function(q){return new(q||K)},K.\u0275mod=E.oAB({type:K}),K.\u0275inj=E.cJS({imports:[[di]]}),K})(),Qo=(()=>{class K{}return K.\u0275fac=function(q){return new(q||K)},K.\u0275mod=E.oAB({type:K}),K.\u0275inj=E.cJS({imports:[ma]}),K})()},67617:(F,U,_)=>{"use strict";_.d(U,{zs:()=>B,lW:()=>P,ot:()=>ne});var E=_(40688),o=_(81728),t=_(42741),e=_(72882);const n=["mat-button",""],s=["*"],f=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",M=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],A=(0,E.pj)((0,E.Id)((0,E.Kr)(class{constructor(te){this._elementRef=te}})));let P=(()=>{class te extends A{constructor(de,ae,Me){super(de),this._focusMonitor=ae,this._animationMode=Me,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const xe of M)this._hasHostAttributes(xe)&&this._getHostElement().classList.add(xe);de.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(de,ae){de?this._focusMonitor.focusVia(this._getHostElement(),de,ae):this._getHostElement().focus(ae)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...de){return de.some(ae=>this._getHostElement().hasAttribute(ae))}}return te.\u0275fac=function(de){return new(de||te)(t.Y36(t.SBq),t.Y36(e.tE),t.Y36(o.Qb,8))},te.\u0275cmp=t.Xpm({type:te,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(de,ae){if(1&de&&t.Gf(E.wG,5),2&de){let Me;t.iGM(Me=t.CRH())&&(ae.ripple=Me.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(de,ae){2&de&&(t.uIk("disabled",ae.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===ae._animationMode)("mat-button-disabled",ae.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:n,ngContentSelectors:s,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(de,ae){1&de&&(t.F$t(),t.TgZ(0,"span",0),t.Hsn(1),t.qZA(),t._UZ(2,"span",1),t._UZ(3,"span",2)),2&de&&(t.xp6(2),t.ekj("mat-button-ripple-round",ae.isRoundButton||ae.isIconButton),t.Q6J("matRippleDisabled",ae._isRippleDisabled())("matRippleCentered",ae.isIconButton)("matRippleTrigger",ae._getHostElement()))},directives:[E.wG],styles:[f],encapsulation:2,changeDetection:0}),te})(),B=(()=>{class te extends P{constructor(de,ae,Me){super(ae,de,Me)}_haltDisabledEvents(de){this.disabled&&(de.preventDefault(),de.stopImmediatePropagation())}}return te.\u0275fac=function(de){return new(de||te)(t.Y36(e.tE),t.Y36(t.SBq),t.Y36(o.Qb,8))},te.\u0275cmp=t.Xpm({type:te,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(de,ae){1&de&&t.NdJ("click",function(xe){return ae._haltDisabledEvents(xe)}),2&de&&(t.uIk("tabindex",ae.disabled?-1:ae.tabIndex||0)("disabled",ae.disabled||null)("aria-disabled",ae.disabled.toString()),t.ekj("_mat-animation-noopable","NoopAnimations"===ae._animationMode)("mat-button-disabled",ae.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[t.qOj],attrs:n,ngContentSelectors:s,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(de,ae){1&de&&(t.F$t(),t.TgZ(0,"span",0),t.Hsn(1),t.qZA(),t._UZ(2,"span",1),t._UZ(3,"span",2)),2&de&&(t.xp6(2),t.ekj("mat-button-ripple-round",ae.isRoundButton||ae.isIconButton),t.Q6J("matRippleDisabled",ae._isRippleDisabled())("matRippleCentered",ae.isIconButton)("matRippleTrigger",ae._getHostElement()))},directives:[E.wG],styles:[f],encapsulation:2,changeDetection:0}),te})(),ne=(()=>{class te{}return te.\u0275fac=function(de){return new(de||te)},te.\u0275mod=t.oAB({type:te}),te.\u0275inj=t.cJS({imports:[[E.si,E.BQ],E.BQ]}),te})()},40688:(F,U,_)=>{"use strict";_.d(U,{yN:()=>xe,mZ:()=>we,_A:()=>ot,rD:()=>dn,sG:()=>Lt,K7:()=>on,HF:()=>En,Y2:()=>Qe,BQ:()=>ie,X2:()=>It,uc:()=>it,XK:()=>Kn,ey:()=>qn,Ng:()=>jn,rN:()=>rn,nP:()=>Zt,us:()=>wn,wG:()=>Ct,si:()=>yt,IR:()=>X,CB:()=>zn,jH:()=>Vn,pj:()=>ye,Kr:()=>Ce,Id:()=>ee,FD:()=>me,dB:()=>ve,sb:()=>Te,E0:()=>Bt});var E=_(42741),o=_(72882),t=_(12281);const e=new E.GfV("12.2.13");var n=_(16274),s=_(66899),f=_(99957),y=_(6006),M=_(93948),A=_(63543),P=_(81728),B=_(15911);function se(Dt,At){if(1&Dt&&E._UZ(0,"mat-pseudo-checkbox",4),2&Dt){const Oe=E.oxw();E.Q6J("state",Oe.selected?"checked":"unchecked")("disabled",Oe.disabled)}}function de(Dt,At){if(1&Dt&&(E.TgZ(0,"span",5),E._uU(1),E.qZA()),2&Dt){const Oe=E.oxw();E.xp6(1),E.hij("(",Oe.group.label,")")}}const ae=["*"];let xe=(()=>{class Dt{}return Dt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Dt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Dt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Dt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Dt})(),we=(()=>{class Dt{}return Dt.COMPLEX="375ms",Dt.ENTERING="225ms",Dt.EXITING="195ms",Dt})();const ke=new E.GfV("12.2.13"),pe=new E.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ie=(()=>{class Dt{constructor(Oe,je,We){this._hasDoneGlobalChecks=!1,this._document=We,Oe._applyBodyHighContrastModeCssClasses(),this._sanityChecks=je,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Oe){return!(!(0,E.X6Q)()||(0,s.Oy)())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Oe])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const Oe=this._document.createElement("div");Oe.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(Oe);const je=getComputedStyle(Oe);je&&"none"!==je.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(Oe)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&ke.full!==e.full&&console.warn("The Angular Material version ("+ke.full+") does not match the Angular CDK version ("+e.full+").\nPlease ensure the versions of these two packages exactly match.")}}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)(E.LFG(o.qm),E.LFG(pe,8),E.LFG(n.K0))},Dt.\u0275mod=E.oAB({type:Dt}),Dt.\u0275inj=E.cJS({imports:[[t.vT],t.vT]}),Dt})();function ee(Dt){return class extends Dt{constructor(...At){super(...At),this._disabled=!1}get disabled(){return this._disabled}set disabled(At){this._disabled=(0,f.Ig)(At)}}}function ye(Dt,At){return class extends Dt{constructor(...Oe){super(...Oe),this.defaultColor=At,this.color=At}get color(){return this._color}set color(Oe){const je=Oe||this.defaultColor;je!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),je&&this._elementRef.nativeElement.classList.add(`mat-${je}`),this._color=je)}}}function Ce(Dt){return class extends Dt{constructor(...At){super(...At),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(At){this._disableRipple=(0,f.Ig)(At)}}}function Te(Dt,At=0){return class extends Dt{constructor(...Oe){super(...Oe),this._tabIndex=At,this.defaultTabIndex=At}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Oe){this._tabIndex=null!=Oe?(0,f.su)(Oe):this.defaultTabIndex}}}function me(Dt){return class extends Dt{constructor(...At){super(...At),this.stateChanges=new y.xQ,this.errorState=!1}updateErrorState(){const At=this.errorState,bt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);bt!==At&&(this.errorState=bt,this.stateChanges.next())}}}function ve(Dt){return class extends Dt{constructor(...At){super(...At),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new M.y(Oe=>{this._isInitialized?this._notifySubscriber(Oe):this._pendingSubscribers.push(Oe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(At){At.next(),At.complete()}}}const Ze=new E.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,E.f3M)(E.soG)}});class ot{constructor(){this._localeChanges=new y.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(At){return this.isDateInstance(At)&&this.isValid(At)?At:null}deserialize(At){return null==At||this.isDateInstance(At)&&this.isValid(At)?At:this.invalid()}setLocale(At){this.locale=At,this._localeChanges.next()}compareDate(At,Oe){return this.getYear(At)-this.getYear(Oe)||this.getMonth(At)-this.getMonth(Oe)||this.getDate(At)-this.getDate(Oe)}sameDate(At,Oe){if(At&&Oe){let je=this.isValid(At),We=this.isValid(Oe);return je&&We?!this.compareDate(At,Oe):je==We}return At==Oe}clampDate(At,Oe,je){return Oe&&this.compareDate(At,Oe)<0?Oe:je&&this.compareDate(At,je)>0?je:At}}const Lt=new E.OlP("mat-date-formats");let Jt;try{Jt="undefined"!=typeof Intl}catch(Dt){Jt=!1}const wt={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Et=at(31,Dt=>String(Dt+1)),sn={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},rt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function at(Dt,At){const Oe=Array(Dt);for(let je=0;je<Dt;je++)Oe[je]=At(je);return Oe}let Vt=(()=>{class Dt extends ot{constructor(Oe,je){super(),this.useUtcForDisplay=!0,super.setLocale(Oe),this.useUtcForDisplay=!je.TRIDENT,this._clampDate=je.TRIDENT||je.EDGE}getYear(Oe){return Oe.getFullYear()}getMonth(Oe){return Oe.getMonth()}getDate(Oe){return Oe.getDate()}getDayOfWeek(Oe){return Oe.getDay()}getMonthNames(Oe){if(Jt){const je=new Intl.DateTimeFormat(this.locale,{month:Oe,timeZone:"utc"});return at(12,We=>this._stripDirectionalityCharacters(this._format(je,new Date(2017,We,1))))}return wt[Oe]}getDateNames(){if(Jt){const Oe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return at(31,je=>this._stripDirectionalityCharacters(this._format(Oe,new Date(2017,0,je+1))))}return Et}getDayOfWeekNames(Oe){if(Jt){const je=new Intl.DateTimeFormat(this.locale,{weekday:Oe,timeZone:"utc"});return at(7,We=>this._stripDirectionalityCharacters(this._format(je,new Date(2017,0,We+1))))}return sn[Oe]}getYearName(Oe){if(Jt){const je=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(je,Oe))}return String(this.getYear(Oe))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Oe){return this.getDate(this._createDateWithOverflow(this.getYear(Oe),this.getMonth(Oe)+1,0))}clone(Oe){return new Date(Oe.getTime())}createDate(Oe,je,We){let bt=this._createDateWithOverflow(Oe,je,We);return bt.getMonth(),bt}today(){return new Date}parse(Oe){return"number"==typeof Oe?new Date(Oe):Oe?new Date(Date.parse(Oe)):null}format(Oe,je){if(!this.isValid(Oe))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Jt){this._clampDate&&(Oe.getFullYear()<1||Oe.getFullYear()>9999)&&(Oe=this.clone(Oe)).setFullYear(Math.max(1,Math.min(9999,Oe.getFullYear()))),je=Object.assign(Object.assign({},je),{timeZone:"utc"});const We=new Intl.DateTimeFormat(this.locale,je);return this._stripDirectionalityCharacters(this._format(We,Oe))}return this._stripDirectionalityCharacters(Oe.toDateString())}addCalendarYears(Oe,je){return this.addCalendarMonths(Oe,12*je)}addCalendarMonths(Oe,je){let We=this._createDateWithOverflow(this.getYear(Oe),this.getMonth(Oe)+je,this.getDate(Oe));return this.getMonth(We)!=((this.getMonth(Oe)+je)%12+12)%12&&(We=this._createDateWithOverflow(this.getYear(We),this.getMonth(We),0)),We}addCalendarDays(Oe,je){return this._createDateWithOverflow(this.getYear(Oe),this.getMonth(Oe),this.getDate(Oe)+je)}toIso8601(Oe){return[Oe.getUTCFullYear(),this._2digit(Oe.getUTCMonth()+1),this._2digit(Oe.getUTCDate())].join("-")}deserialize(Oe){if("string"==typeof Oe){if(!Oe)return null;if(rt.test(Oe)){let je=new Date(Oe);if(this.isValid(je))return je}}return super.deserialize(Oe)}isDateInstance(Oe){return Oe instanceof Date}isValid(Oe){return!isNaN(Oe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Oe,je,We){const bt=new Date;return bt.setFullYear(Oe,je,We),bt.setHours(0,0,0,0),bt}_2digit(Oe){return("00"+Oe).slice(-2)}_stripDirectionalityCharacters(Oe){return Oe.replace(/[\u200e\u200f]/g,"")}_format(Oe,je){const We=new Date;return We.setUTCFullYear(je.getFullYear(),je.getMonth(),je.getDate()),We.setUTCHours(je.getHours(),je.getMinutes(),je.getSeconds(),je.getMilliseconds()),Oe.format(We)}}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)(E.LFG(Ze,8),E.LFG(s.t4))},Dt.\u0275prov=E.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),$t=(()=>{class Dt{}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)},Dt.\u0275mod=E.oAB({type:Dt}),Dt.\u0275inj=E.cJS({providers:[{provide:ot,useClass:Vt}],imports:[[s.ud]]}),Dt})();const xn={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Kn=(()=>{class Dt{}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)},Dt.\u0275mod=E.oAB({type:Dt}),Dt.\u0275inj=E.cJS({providers:[{provide:Lt,useValue:xn}],imports:[[$t]]}),Dt})(),dn=(()=>{class Dt{isErrorState(Oe,je){return!!(Oe&&Oe.invalid&&(Oe.touched||je&&je.submitted))}}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)},Dt.\u0275prov=E.Yz7({factory:function(){return new Dt},token:Dt,providedIn:"root"}),Dt})(),It=(()=>{class Dt{}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)},Dt.\u0275dir=E.lG2({type:Dt,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Dt})();function Bt(Dt,At,Oe="mat"){Dt.changes.pipe((0,A.O)(Dt)).subscribe(({length:je})=>{Fe(At,`${Oe}-2-line`,!1),Fe(At,`${Oe}-3-line`,!1),Fe(At,`${Oe}-multi-line`,!1),2===je||3===je?Fe(At,`${Oe}-${je}-line`,!0):je>3&&Fe(At,`${Oe}-multi-line`,!0)})}function Fe(Dt,At,Oe){const je=Dt.nativeElement.classList;Oe?je.add(At):je.remove(At)}let it=(()=>{class Dt{}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)},Dt.\u0275mod=E.oAB({type:Dt}),Dt.\u0275inj=E.cJS({imports:[[ie],ie]}),Dt})();class un{constructor(At,Oe,je){this._renderer=At,this.element=Oe,this.config=je,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ft={enterDuration:225,exitDuration:150},mt=(0,s.i$)({passive:!0}),Ht=["mousedown","touchstart"],Je=["mouseup","mouseleave","touchend","touchcancel"];class X{constructor(At,Oe,je,We){this._target=At,this._ngZone=Oe,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,We.isBrowser&&(this._containerElement=(0,f.fI)(je))}fadeInRipple(At,Oe,je={}){const We=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),bt=Object.assign(Object.assign({},ft),je.animation);je.centered&&(At=We.left+We.width/2,Oe=We.top+We.height/2);const Qt=je.radius||function(Dt,At,Oe){const je=Math.max(Math.abs(Dt-Oe.left),Math.abs(Dt-Oe.right)),We=Math.max(Math.abs(At-Oe.top),Math.abs(At-Oe.bottom));return Math.sqrt(je*je+We*We)}(At,Oe,We),Nn=At-We.left,An=Oe-We.top,Fi=bt.enterDuration,Ki=document.createElement("div");Ki.classList.add("mat-ripple-element"),Ki.style.left=Nn-Qt+"px",Ki.style.top=An-Qt+"px",Ki.style.height=2*Qt+"px",Ki.style.width=2*Qt+"px",null!=je.color&&(Ki.style.backgroundColor=je.color),Ki.style.transitionDuration=`${Fi}ms`,this._containerElement.appendChild(Ki),window.getComputedStyle(Ki).getPropertyValue("opacity"),Ki.style.transform="scale(1)";const tr=new un(this,Ki,je);return tr.state=0,this._activeRipples.add(tr),je.persistent||(this._mostRecentTransientRipple=tr),this._runTimeoutOutsideZone(()=>{const Bi=tr===this._mostRecentTransientRipple;tr.state=1,!je.persistent&&(!Bi||!this._isPointerDown)&&tr.fadeOut()},Fi),tr}fadeOutRipple(At){const Oe=this._activeRipples.delete(At);if(At===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!Oe)return;const je=At.element,We=Object.assign(Object.assign({},ft),At.config.animation);je.style.transitionDuration=`${We.exitDuration}ms`,je.style.opacity="0",At.state=2,this._runTimeoutOutsideZone(()=>{At.state=3,je.parentNode.removeChild(je)},We.exitDuration)}fadeOutAll(){this._activeRipples.forEach(At=>At.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(At=>{At.config.persistent||At.fadeOut()})}setupTriggerEvents(At){const Oe=(0,f.fI)(At);!Oe||Oe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Oe,this._registerEvents(Ht))}handleEvent(At){"mousedown"===At.type?this._onMousedown(At):"touchstart"===At.type?this._onTouchStart(At):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Je),this._pointerUpEventsRegistered=!0)}_onMousedown(At){const Oe=(0,o.X6)(At),je=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Oe&&!je&&(this._isPointerDown=!0,this.fadeInRipple(At.clientX,At.clientY,this._target.rippleConfig))}_onTouchStart(At){if(!this._target.rippleDisabled&&!(0,o.yG)(At)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Oe=At.changedTouches;for(let je=0;je<Oe.length;je++)this.fadeInRipple(Oe[je].clientX,Oe[je].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(At=>{!At.config.persistent&&(1===At.state||At.config.terminateOnPointerUp&&0===At.state)&&At.fadeOut()}))}_runTimeoutOutsideZone(At,Oe=0){this._ngZone.runOutsideAngular(()=>setTimeout(At,Oe))}_registerEvents(At){this._ngZone.runOutsideAngular(()=>{At.forEach(Oe=>{this._triggerElement.addEventListener(Oe,this,mt)})})}_removeTriggerEvents(){this._triggerElement&&(Ht.forEach(At=>{this._triggerElement.removeEventListener(At,this,mt)}),this._pointerUpEventsRegistered&&Je.forEach(At=>{this._triggerElement.removeEventListener(At,this,mt)}))}}const Qe=new E.OlP("mat-ripple-global-options");let Ct=(()=>{class Dt{constructor(Oe,je,We,bt,Qt){this._elementRef=Oe,this._animationMode=Qt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=bt||{},this._rippleRenderer=new X(this,je,Oe,We)}get disabled(){return this._disabled}set disabled(Oe){Oe&&this.fadeOutAllNonPersistent(),this._disabled=Oe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Oe){this._trigger=Oe,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Oe,je=0,We){return"number"==typeof Oe?this._rippleRenderer.fadeInRipple(Oe,je,Object.assign(Object.assign({},this.rippleConfig),We)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),Oe))}}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)(E.Y36(E.SBq),E.Y36(E.R0b),E.Y36(s.t4),E.Y36(Qe,8),E.Y36(P.Qb,8))},Dt.\u0275dir=E.lG2({type:Dt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Oe,je){2&Oe&&E.ekj("mat-ripple-unbounded",je.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),Dt})(),yt=(()=>{class Dt{}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)},Dt.\u0275mod=E.oAB({type:Dt}),Dt.\u0275inj=E.cJS({imports:[[ie,s.ud],ie]}),Dt})(),Zt=(()=>{class Dt{constructor(Oe){this._animationMode=Oe,this.state="unchecked",this.disabled=!1}}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)(E.Y36(P.Qb,8))},Dt.\u0275cmp=E.Xpm({type:Dt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Oe,je){2&Oe&&E.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===je.state)("mat-pseudo-checkbox-checked","checked"===je.state)("mat-pseudo-checkbox-disabled",je.disabled)("_mat-animation-noopable","NoopAnimations"===je._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Oe,je){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),Dt})(),wn=(()=>{class Dt{}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)},Dt.\u0275mod=E.oAB({type:Dt}),Dt.\u0275inj=E.cJS({imports:[[ie]]}),Dt})();const En=new E.OlP("MAT_OPTION_PARENT_COMPONENT"),bn=ee(class{});let fn=0,Ut=(()=>{class Dt extends bn{constructor(Oe){var je;super(),this._labelId="mat-optgroup-label-"+fn++,this._inert=null!==(je=null==Oe?void 0:Oe.inertGroups)&&void 0!==je&&je}}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)(E.Y36(En,8))},Dt.\u0275dir=E.lG2({type:Dt,inputs:{label:"label"},features:[E.qOj]}),Dt})();const on=new E.OlP("MatOptgroup");let xt=0;class rn{constructor(At,Oe=!1){this.source=At,this.isUserInput=Oe}}let Cn=(()=>{class Dt{constructor(Oe,je,We,bt){this._element=Oe,this._changeDetectorRef=je,this._parent=We,this.group=bt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+xt++,this.onSelectionChange=new E.vpe,this._stateChanges=new y.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Oe){this._disabled=(0,f.Ig)(Oe)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(Oe,je){const We=this._getHostElement();"function"==typeof We.focus&&We.focus(je)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Oe){(Oe.keyCode===B.K5||Oe.keyCode===B.L_)&&!(0,B.Vb)(Oe)&&(this._selectViaInteraction(),Oe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Oe=this.viewValue;Oe!==this._mostRecentViewValue&&(this._mostRecentViewValue=Oe,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Oe=!1){this.onSelectionChange.emit(new rn(this,Oe))}}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(void 0),E.Y36(Ut))},Dt.\u0275dir=E.lG2({type:Dt,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),Dt})(),qn=(()=>{class Dt extends Cn{constructor(Oe,je,We,bt){super(Oe,je,We,bt)}}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(En,8),E.Y36(on,8))},Dt.\u0275cmp=E.Xpm({type:Dt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(Oe,je){1&Oe&&E.NdJ("click",function(){return je._selectViaInteraction()})("keydown",function(bt){return je._handleKeydown(bt)}),2&Oe&&(E.Ikx("id",je.id),E.uIk("tabindex",je._getTabIndex())("aria-selected",je._getAriaSelected())("aria-disabled",je.disabled.toString()),E.ekj("mat-selected",je.selected)("mat-option-multiple",je.multiple)("mat-active",je.active)("mat-option-disabled",je.disabled))},exportAs:["matOption"],features:[E.qOj],ngContentSelectors:ae,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(Oe,je){1&Oe&&(E.F$t(),E.YNc(0,se,1,2,"mat-pseudo-checkbox",0),E.TgZ(1,"span",1),E.Hsn(2),E.qZA(),E.YNc(3,de,2,1,"span",2),E._UZ(4,"div",3)),2&Oe&&(E.Q6J("ngIf",je.multiple),E.xp6(3),E.Q6J("ngIf",je.group&&je.group._inert),E.xp6(1),E.Q6J("matRippleTrigger",je._getHostElement())("matRippleDisabled",je.disabled||je.disableRipple))},directives:[n.O5,Ct,Zt],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),Dt})();function zn(Dt,At,Oe){if(Oe.length){let je=At.toArray(),We=Oe.toArray(),bt=0;for(let Qt=0;Qt<Dt+1;Qt++)je[Qt].group&&je[Qt].group===We[bt]&&bt++;return bt}return 0}function Vn(Dt,At,Oe,je){return Dt<Oe?Dt:Dt+At>Oe+je?Math.max(0,Dt-je+At):Oe}let jn=(()=>{class Dt{}return Dt.\u0275fac=function(Oe){return new(Oe||Dt)},Dt.\u0275mod=E.oAB({type:Dt}),Dt.\u0275inj=E.cJS({imports:[[yt,n.ez,ie,wn]]}),Dt})()},8220:(F,U,_)=>{"use strict";_.d(U,{pp:()=>Yn,To:()=>dn,ib:()=>rt,u4:()=>xn,yz:()=>$t,yK:()=>Kn});var E=_(42741),o=_(99957),t=_(6006),e=_(39734),n=_(98950);let s=0;const f=new E.OlP("CdkAccordion");let y=(()=>{class It{constructor(){this._stateChanges=new t.xQ,this._openCloseAllActions=new t.xQ,this.id="cdk-accordion-"+s++,this._multi=!1}get multi(){return this._multi}set multi(Fe){this._multi=(0,o.Ig)(Fe)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(Fe){this._stateChanges.next(Fe)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return It.\u0275fac=function(Fe){return new(Fe||It)},It.\u0275dir=E.lG2({type:It,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[E._Bn([{provide:f,useExisting:It}]),E.TTD]}),It})(),M=0,P=(()=>{class It{constructor(Fe,it,un){this.accordion=Fe,this._changeDetectorRef=it,this._expansionDispatcher=un,this._openCloseAllSubscription=e.w.EMPTY,this.closed=new E.vpe,this.opened=new E.vpe,this.destroyed=new E.vpe,this.expandedChange=new E.vpe,this.id="cdk-accordion-child-"+M++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=un.listen((ft,hn)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===hn&&this.id!==ft&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(Fe){Fe=(0,o.Ig)(Fe),this._expanded!==Fe&&(this._expanded=Fe,this.expandedChange.emit(Fe),Fe?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Fe){this._disabled=(0,o.Ig)(Fe)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(Fe=>{this.disabled||(this.expanded=Fe)})}}return It.\u0275fac=function(Fe){return new(Fe||It)(E.Y36(f,12),E.Y36(E.sBO),E.Y36(n.A8))},It.\u0275dir=E.lG2({type:It,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[E._Bn([{provide:f,useValue:void 0}])]}),It})(),B=(()=>{class It{}return It.\u0275fac=function(Fe){return new(Fe||It)},It.\u0275mod=E.oAB({type:It}),It.\u0275inj=E.cJS({}),It})();var ne=_(62718),te=_(16274),se=_(40688),de=_(72882),ae=_(57689),Me=_(63543),xe=_(63305),we=_(59917),ke=_(15911),fe=_(81728),pe=_(23974),ie=_(30636),ee=_(88638);const ye=["body"];function Ce(It,Bt){}const Te=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],me=["mat-expansion-panel-header","*","mat-action-row"];function ve(It,Bt){if(1&It&&E._UZ(0,"span",2),2&It){const Fe=E.oxw();E.Q6J("@indicatorRotate",Fe._getExpandedState())}}const Ze=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Be=["mat-panel-title","mat-panel-description","*"],ot=new E.OlP("MAT_ACCORDION"),Lt="225ms cubic-bezier(0.4,0.0,0.2,1)",Jt={indicatorRotate:(0,ee.X$)("indicatorRotate",[(0,ee.SB)("collapsed, void",(0,ee.oB)({transform:"rotate(0deg)"})),(0,ee.SB)("expanded",(0,ee.oB)({transform:"rotate(180deg)"})),(0,ee.eR)("expanded <=> collapsed, void => collapsed",(0,ee.jt)(Lt))]),bodyExpansion:(0,ee.X$)("bodyExpansion",[(0,ee.SB)("collapsed, void",(0,ee.oB)({height:"0px",visibility:"hidden"})),(0,ee.SB)("expanded",(0,ee.oB)({height:"*",visibility:"visible"})),(0,ee.eR)("expanded <=> collapsed, void => collapsed",(0,ee.jt)(Lt))])};let wt=(()=>{class It{constructor(Fe){this._template=Fe}}return It.\u0275fac=function(Fe){return new(Fe||It)(E.Y36(E.Rgc))},It.\u0275dir=E.lG2({type:It,selectors:[["ng-template","matExpansionPanelContent",""]]}),It})(),tn=0;const Et=new E.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let rt=(()=>{class It extends P{constructor(Fe,it,un,ft,hn,mt,Ht){super(Fe,it,un),this._viewContainerRef=ft,this._animationMode=mt,this._hideToggle=!1,this.afterExpand=new E.vpe,this.afterCollapse=new E.vpe,this._inputChanges=new t.xQ,this._headerId="mat-expansion-panel-header-"+tn++,this._bodyAnimationDone=new t.xQ,this.accordion=Fe,this._document=hn,this._bodyAnimationDone.pipe((0,ae.x)((Je,X)=>Je.fromState===X.fromState&&Je.toState===X.toState)).subscribe(Je=>{"void"!==Je.fromState&&("expanded"===Je.toState?this.afterExpand.emit():"collapsed"===Je.toState&&this.afterCollapse.emit())}),Ht&&(this.hideToggle=Ht.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(Fe){this._hideToggle=(0,o.Ig)(Fe)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(Fe){this._togglePosition=Fe}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,Me.O)(null),(0,xe.h)(()=>this.expanded&&!this._portal),(0,we.q)(1)).subscribe(()=>{this._portal=new ne.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(Fe){this._inputChanges.next(Fe)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const Fe=this._document.activeElement,it=this._body.nativeElement;return Fe===it||it.contains(Fe)}return!1}}return It.\u0275fac=function(Fe){return new(Fe||It)(E.Y36(ot,12),E.Y36(E.sBO),E.Y36(n.A8),E.Y36(E.s_b),E.Y36(te.K0),E.Y36(fe.Qb,8),E.Y36(Et,8))},It.\u0275cmp=E.Xpm({type:It,selectors:[["mat-expansion-panel"]],contentQueries:function(Fe,it,un){if(1&Fe&&E.Suo(un,wt,5),2&Fe){let ft;E.iGM(ft=E.CRH())&&(it._lazyContent=ft.first)}},viewQuery:function(Fe,it){if(1&Fe&&E.Gf(ye,5),2&Fe){let un;E.iGM(un=E.CRH())&&(it._body=un.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(Fe,it){2&Fe&&E.ekj("mat-expanded",it.expanded)("_mat-animation-noopable","NoopAnimations"===it._animationMode)("mat-expansion-panel-spacing",it._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[E._Bn([{provide:ot,useValue:void 0}]),E.qOj,E.TTD],ngContentSelectors:me,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(Fe,it){1&Fe&&(E.F$t(Te),E.Hsn(0),E.TgZ(1,"div",0,1),E.NdJ("@bodyExpansion.done",function(ft){return it._bodyAnimationDone.next(ft)}),E.TgZ(3,"div",2),E.Hsn(4,1),E.YNc(5,Ce,0,0,"ng-template",3),E.qZA(),E.Hsn(6,2),E.qZA()),2&Fe&&(E.xp6(1),E.Q6J("@bodyExpansion",it._getExpandedState())("id",it.id),E.uIk("aria-labelledby",it._headerId),E.xp6(4),E.Q6J("cdkPortalOutlet",it._portal))},directives:[ne.Pl],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Jt.bodyExpansion]},changeDetection:0}),It})();class Vt{}const zt=(0,se.sb)(Vt);let $t=(()=>{class It extends zt{constructor(Fe,it,un,ft,hn,mt,Ht){super(),this.panel=Fe,this._element=it,this._focusMonitor=un,this._changeDetectorRef=ft,this._animationMode=mt,this._parentChangeSubscription=e.w.EMPTY;const Je=Fe.accordion?Fe.accordion._stateChanges.pipe((0,xe.h)(X=>!(!X.hideToggle&&!X.togglePosition))):pe.E;this.tabIndex=parseInt(Ht||"")||0,this._parentChangeSubscription=(0,ie.T)(Fe.opened,Fe.closed,Je,Fe._inputChanges.pipe((0,xe.h)(X=>!!(X.hideToggle||X.disabled||X.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),Fe.closed.pipe((0,xe.h)(()=>Fe._containsFocus())).subscribe(()=>un.focusVia(it,"program")),hn&&(this.expandedHeight=hn.expandedHeight,this.collapsedHeight=hn.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const Fe=this._isExpanded();return Fe&&this.expandedHeight?this.expandedHeight:!Fe&&this.collapsedHeight?this.collapsedHeight:null}_keydown(Fe){switch(Fe.keyCode){case ke.L_:case ke.K5:(0,ke.Vb)(Fe)||(Fe.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(Fe))}}focus(Fe,it){Fe?this._focusMonitor.focusVia(this._element,Fe,it):this._element.nativeElement.focus(it)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(Fe=>{Fe&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return It.\u0275fac=function(Fe){return new(Fe||It)(E.Y36(rt,1),E.Y36(E.SBq),E.Y36(de.tE),E.Y36(E.sBO),E.Y36(Et,8),E.Y36(fe.Qb,8),E.$8M("tabindex"))},It.\u0275cmp=E.Xpm({type:It,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(Fe,it){1&Fe&&E.NdJ("click",function(){return it._toggle()})("keydown",function(ft){return it._keydown(ft)}),2&Fe&&(E.uIk("id",it.panel._headerId)("tabindex",it.tabIndex)("aria-controls",it._getPanelId())("aria-expanded",it._isExpanded())("aria-disabled",it.panel.disabled),E.Udp("height",it._getHeaderHeight()),E.ekj("mat-expanded",it._isExpanded())("mat-expansion-toggle-indicator-after","after"===it._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===it._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===it._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[E.qOj],ngContentSelectors:Be,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(Fe,it){1&Fe&&(E.F$t(Ze),E.TgZ(0,"span",0),E.Hsn(1),E.Hsn(2,1),E.Hsn(3,2),E.qZA(),E.YNc(4,ve,1,1,"span",1)),2&Fe&&(E.xp6(4),E.Q6J("ngIf",it._showToggle()))},directives:[te.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[Jt.indicatorRotate]},changeDetection:0}),It})(),xn=(()=>{class It{}return It.\u0275fac=function(Fe){return new(Fe||It)},It.\u0275dir=E.lG2({type:It,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),It})(),Kn=(()=>{class It{}return It.\u0275fac=function(Fe){return new(Fe||It)},It.\u0275dir=E.lG2({type:It,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),It})(),Yn=(()=>{class It extends y{constructor(){super(...arguments),this._ownHeaders=new E.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(Fe){this._hideToggle=(0,o.Ig)(Fe)}ngAfterContentInit(){this._headers.changes.pipe((0,Me.O)(this._headers)).subscribe(Fe=>{this._ownHeaders.reset(Fe.filter(it=>it.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new de.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(Fe){this._keyManager.onKeydown(Fe)}_handleHeaderFocus(Fe){this._keyManager.updateActiveItem(Fe)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return It.\u0275fac=function(){let Bt;return function(it){return(Bt||(Bt=E.n5z(It)))(it||It)}}(),It.\u0275dir=E.lG2({type:It,selectors:[["mat-accordion"]],contentQueries:function(Fe,it,un){if(1&Fe&&E.Suo(un,$t,5),2&Fe){let ft;E.iGM(ft=E.CRH())&&(it._headers=ft)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(Fe,it){2&Fe&&E.ekj("mat-accordion-multi",it.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[E._Bn([{provide:ot,useExisting:It}]),E.qOj]}),It})(),dn=(()=>{class It{}return It.\u0275fac=function(Fe){return new(Fe||It)},It.\u0275mod=E.oAB({type:It}),It.\u0275inj=E.cJS({imports:[[te.ez,se.BQ,B,ne.eL]]}),It})()},74026:(F,U,_)=>{"use strict";_.d(U,{Il:()=>ee,N6:()=>ye,DX:()=>B,jo:()=>se,$H:()=>ne});var E=_(42741),o=_(40688),t=_(99957),e=_(12281);const n=["*"],s=[[["","mat-grid-avatar",""],["","matGridAvatar",""]],[["","mat-line",""],["","matLine",""]],"*"],f=["[mat-grid-avatar], [matGridAvatar]","[mat-line], [matLine]","*"],y=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class M{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const me=Math.max(...this.tracker);return me>1?this.rowCount+me-1:this.rowCount}update(me,ve){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(me),this.tracker.fill(0,0,this.tracker.length),this.positions=ve.map(Ze=>this._trackTile(Ze))}_trackTile(me){const ve=this._findMatchingGap(me.colspan);return this._markTilePosition(ve,me),this.columnIndex=ve+me.colspan,new A(this.rowIndex,ve)}_findMatchingGap(me){let ve=-1,Ze=-1;do{this.columnIndex+me>this.tracker.length?(this._nextRow(),ve=this.tracker.indexOf(0,this.columnIndex),Ze=this._findGapEndIndex(ve)):(ve=this.tracker.indexOf(0,this.columnIndex),-1!=ve?(Ze=this._findGapEndIndex(ve),this.columnIndex=ve+1):(this._nextRow(),ve=this.tracker.indexOf(0,this.columnIndex),Ze=this._findGapEndIndex(ve)))}while(Ze-ve<me||0==Ze);return Math.max(ve,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let me=0;me<this.tracker.length;me++)this.tracker[me]=Math.max(0,this.tracker[me]-1)}_findGapEndIndex(me){for(let ve=me+1;ve<this.tracker.length;ve++)if(0!=this.tracker[ve])return ve;return this.tracker.length}_markTilePosition(me,ve){for(let Ze=0;Ze<ve.colspan;Ze++)this.tracker[me+Ze]=ve.rowspan}}class A{constructor(me,ve){this.row=me,this.col=ve}}const P=new E.OlP("MAT_GRID_LIST");let B=(()=>{class Te{constructor(ve,Ze){this._element=ve,this._gridList=Ze,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(ve){this._rowspan=Math.round((0,t.su)(ve))}get colspan(){return this._colspan}set colspan(ve){this._colspan=Math.round((0,t.su)(ve))}_setStyle(ve,Ze){this._element.nativeElement.style[ve]=Ze}}return Te.\u0275fac=function(ve){return new(ve||Te)(E.Y36(E.SBq),E.Y36(P,8))},Te.\u0275cmp=E.Xpm({type:Te,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(ve,Ze){2&ve&&E.uIk("rowspan",Ze.rowspan)("colspan",Ze.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:n,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(ve,Ze){1&ve&&(E.F$t(),E.TgZ(0,"div",0),E.Hsn(1),E.qZA())},styles:[y],encapsulation:2,changeDetection:0}),Te})(),ne=(()=>{class Te{constructor(ve){this._element=ve}ngAfterContentInit(){(0,o.E0)(this._lines,this._element)}}return Te.\u0275fac=function(ve){return new(ve||Te)(E.Y36(E.SBq))},Te.\u0275cmp=E.Xpm({type:Te,selectors:[["mat-grid-tile-header"],["mat-grid-tile-footer"]],contentQueries:function(ve,Ze,Be){if(1&ve&&E.Suo(Be,o.X2,5),2&ve){let ot;E.iGM(ot=E.CRH())&&(Ze._lines=ot)}},ngContentSelectors:f,decls:4,vars:0,consts:[[1,"mat-grid-list-text"]],template:function(ve,Ze){1&ve&&(E.F$t(s),E.Hsn(0),E.TgZ(1,"div",0),E.Hsn(2,1),E.qZA(),E.Hsn(3,2))},encapsulation:2,changeDetection:0}),Te})(),se=(()=>{class Te{}return Te.\u0275fac=function(ve){return new(ve||Te)},Te.\u0275dir=E.lG2({type:Te,selectors:[["mat-grid-tile-header"]],hostAttrs:[1,"mat-grid-tile-header"]}),Te})();const ae=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Me{constructor(){this._rows=0,this._rowspan=0}init(me,ve,Ze,Be){this._gutterSize=pe(me),this._rows=ve.rowCount,this._rowspan=ve.rowspan,this._cols=Ze,this._direction=Be}getBaseTileSize(me,ve){return`(${me}% - (${this._gutterSize} * ${ve}))`}getTilePosition(me,ve){return 0===ve?"0":fe(`(${me} + ${this._gutterSize}) * ${ve}`)}getTileSize(me,ve){return`(${me} * ${ve}) + (${ve-1} * ${this._gutterSize})`}setStyle(me,ve,Ze){let Be=100/this._cols,ot=(this._cols-1)/this._cols;this.setColStyles(me,Ze,Be,ot),this.setRowStyles(me,ve,Be,ot)}setColStyles(me,ve,Ze,Be){let ot=this.getBaseTileSize(Ze,Be);me._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(ot,ve)),me._setStyle("width",fe(this.getTileSize(ot,me.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(me){return`${this._rowspan} * ${this.getTileSize(me,1)}`}getComputedHeight(){return null}}class xe extends Me{constructor(me){super(),this.fixedRowHeight=me}init(me,ve,Ze,Be){super.init(me,ve,Ze,Be),this.fixedRowHeight=pe(this.fixedRowHeight),ae.test(this.fixedRowHeight)}setRowStyles(me,ve){me._setStyle("top",this.getTilePosition(this.fixedRowHeight,ve)),me._setStyle("height",fe(this.getTileSize(this.fixedRowHeight,me.rowspan)))}getComputedHeight(){return["height",fe(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(me){me._setListStyle(["height",null]),me._tiles&&me._tiles.forEach(ve=>{ve._setStyle("top",null),ve._setStyle("height",null)})}}class we extends Me{constructor(me){super(),this._parseRatio(me)}setRowStyles(me,ve,Ze,Be){this.baseTileHeight=this.getBaseTileSize(Ze/this.rowHeightRatio,Be),me._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,ve)),me._setStyle("paddingTop",fe(this.getTileSize(this.baseTileHeight,me.rowspan)))}getComputedHeight(){return["paddingBottom",fe(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(me){me._setListStyle(["paddingBottom",null]),me._tiles.forEach(ve=>{ve._setStyle("marginTop",null),ve._setStyle("paddingTop",null)})}_parseRatio(me){const ve=me.split(":");this.rowHeightRatio=parseFloat(ve[0])/parseFloat(ve[1])}}class ke extends Me{setRowStyles(me,ve){let ot=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);me._setStyle("top",this.getTilePosition(ot,ve)),me._setStyle("height",fe(this.getTileSize(ot,me.rowspan)))}reset(me){me._tiles&&me._tiles.forEach(ve=>{ve._setStyle("top",null),ve._setStyle("height",null)})}}function fe(Te){return`calc(${Te})`}function pe(Te){return Te.match(/([A-Za-z%]+)$/)?Te:`${Te}px`}let ee=(()=>{class Te{constructor(ve,Ze){this._element=ve,this._dir=Ze,this._gutter="1px"}get cols(){return this._cols}set cols(ve){this._cols=Math.max(1,Math.round((0,t.su)(ve)))}get gutterSize(){return this._gutter}set gutterSize(ve){this._gutter=`${null==ve?"":ve}`}get rowHeight(){return this._rowHeight}set rowHeight(ve){const Ze=`${null==ve?"":ve}`;Ze!==this._rowHeight&&(this._rowHeight=Ze,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(ve){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===ve?new ke:ve&&ve.indexOf(":")>-1?new we(ve):new xe(ve)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new M);const ve=this._tileCoordinator,Ze=this._tiles.filter(ot=>!ot._gridList||ot._gridList===this),Be=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,Ze),this._tileStyler.init(this.gutterSize,ve,this.cols,Be),Ze.forEach((ot,Lt)=>{const Jt=ve.positions[Lt];this._tileStyler.setStyle(ot,Jt.row,Jt.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(ve){ve&&(this._element.nativeElement.style[ve[0]]=ve[1])}}return Te.\u0275fac=function(ve){return new(ve||Te)(E.Y36(E.SBq),E.Y36(e.Is,8))},Te.\u0275cmp=E.Xpm({type:Te,selectors:[["mat-grid-list"]],contentQueries:function(ve,Ze,Be){if(1&ve&&E.Suo(Be,B,5),2&ve){let ot;E.iGM(ot=E.CRH())&&(Ze._tiles=ot)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(ve,Ze){2&ve&&E.uIk("cols",Ze.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[E._Bn([{provide:P,useExisting:Te}])],ngContentSelectors:n,decls:2,vars:0,template:function(ve,Ze){1&ve&&(E.F$t(),E.TgZ(0,"div"),E.Hsn(1),E.qZA())},styles:[y],encapsulation:2,changeDetection:0}),Te})(),ye=(()=>{class Te{}return Te.\u0275fac=function(ve){return new(ve||Te)},Te.\u0275mod=E.oAB({type:Te}),Te.\u0275inj=E.cJS({imports:[[o.uc,o.BQ],o.uc,o.BQ]}),Te})()},31749:(F,U,_)=>{"use strict";_.d(U,{Hw:()=>wt,Ps:()=>tn});var E=_(42741),o=_(40688),t=_(99957),e=_(16274),n=_(267),s=_(7535),f=_(90714),y=_(39734),M=_(96286),A=_(88561),P=_(72072),B=_(27813),ne=_(82564),te=_(59917),se=_(31887),de=_(93220);const ae=["*"];function Me(Et){return Error(`Unable to find icon with the name "${Et}"`)}function we(Et){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Et}".`)}function ke(Et){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Et}".`)}class fe{constructor(sn,rt,at){this.url=sn,this.svgText=rt,this.options=at}}let pe=(()=>{class Et{constructor(rt,at,Vt,zt){this._httpClient=rt,this._sanitizer=at,this._errorHandler=zt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Vt}addSvgIcon(rt,at,Vt){return this.addSvgIconInNamespace("",rt,at,Vt)}addSvgIconLiteral(rt,at,Vt){return this.addSvgIconLiteralInNamespace("",rt,at,Vt)}addSvgIconInNamespace(rt,at,Vt,zt){return this._addSvgIconConfig(rt,at,new fe(Vt,null,zt))}addSvgIconResolver(rt){return this._resolvers.push(rt),this}addSvgIconLiteralInNamespace(rt,at,Vt,zt){const $t=this._sanitizer.sanitize(E.q3G.HTML,Vt);if(!$t)throw ke(Vt);return this._addSvgIconConfig(rt,at,new fe("",$t,zt))}addSvgIconSet(rt,at){return this.addSvgIconSetInNamespace("",rt,at)}addSvgIconSetLiteral(rt,at){return this.addSvgIconSetLiteralInNamespace("",rt,at)}addSvgIconSetInNamespace(rt,at,Vt){return this._addSvgIconSetConfig(rt,new fe(at,null,Vt))}addSvgIconSetLiteralInNamespace(rt,at,Vt){const zt=this._sanitizer.sanitize(E.q3G.HTML,at);if(!zt)throw ke(at);return this._addSvgIconSetConfig(rt,new fe("",zt,Vt))}registerFontClassAlias(rt,at=rt){return this._fontCssClassesByAlias.set(rt,at),this}classNameForFontAlias(rt){return this._fontCssClassesByAlias.get(rt)||rt}setDefaultFontSetClass(rt){return this._defaultFontSetClass=rt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(rt){const at=this._sanitizer.sanitize(E.q3G.RESOURCE_URL,rt);if(!at)throw we(rt);const Vt=this._cachedIconsByUrl.get(at);return Vt?(0,n.of)(ye(Vt)):this._loadSvgIconFromConfig(new fe(rt,null)).pipe((0,M.b)(zt=>this._cachedIconsByUrl.set(at,zt)),(0,A.U)(zt=>ye(zt)))}getNamedSvgIcon(rt,at=""){const Vt=Ce(at,rt);let zt=this._svgIconConfigs.get(Vt);if(zt)return this._getSvgFromConfig(zt);if(zt=this._getIconConfigFromResolvers(at,rt),zt)return this._svgIconConfigs.set(Vt,zt),this._getSvgFromConfig(zt);const $t=this._iconSetConfigs.get(at);return $t?this._getSvgFromIconSetConfigs(rt,$t):(0,s._)(Me(Vt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(rt){return rt.svgText?(0,n.of)(ye(this._svgElementFromConfig(rt))):this._loadSvgIconFromConfig(rt).pipe((0,A.U)(at=>ye(at)))}_getSvgFromIconSetConfigs(rt,at){const Vt=this._extractIconWithNameFromAnySet(rt,at);if(Vt)return(0,n.of)(Vt);const zt=at.filter($t=>!$t.svgText).map($t=>this._loadSvgIconSetFromConfig($t).pipe((0,P.K)(xn=>{const Yn=`Loading icon set URL: ${this._sanitizer.sanitize(E.q3G.RESOURCE_URL,$t.url)} failed: ${xn.message}`;return this._errorHandler.handleError(new Error(Yn)),(0,n.of)(null)})));return(0,f.D)(zt).pipe((0,A.U)(()=>{const $t=this._extractIconWithNameFromAnySet(rt,at);if(!$t)throw Me(rt);return $t}))}_extractIconWithNameFromAnySet(rt,at){for(let Vt=at.length-1;Vt>=0;Vt--){const zt=at[Vt];if(zt.svgText&&zt.svgText.indexOf(rt)>-1){const $t=this._svgElementFromConfig(zt),xn=this._extractSvgIconFromSet($t,rt,zt.options);if(xn)return xn}}return null}_loadSvgIconFromConfig(rt){return this._fetchIcon(rt).pipe((0,M.b)(at=>rt.svgText=at),(0,A.U)(()=>this._svgElementFromConfig(rt)))}_loadSvgIconSetFromConfig(rt){return rt.svgText?(0,n.of)(null):this._fetchIcon(rt).pipe((0,M.b)(at=>rt.svgText=at))}_extractSvgIconFromSet(rt,at,Vt){const zt=rt.querySelector(`[id="${at}"]`);if(!zt)return null;const $t=zt.cloneNode(!0);if($t.removeAttribute("id"),"svg"===$t.nodeName.toLowerCase())return this._setSvgAttributes($t,Vt);if("symbol"===$t.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement($t),Vt);const xn=this._svgElementFromString("<svg></svg>");return xn.appendChild($t),this._setSvgAttributes(xn,Vt)}_svgElementFromString(rt){const at=this._document.createElement("DIV");at.innerHTML=rt;const Vt=at.querySelector("svg");if(!Vt)throw Error("<svg> tag not found");return Vt}_toSvgElement(rt){const at=this._svgElementFromString("<svg></svg>"),Vt=rt.attributes;for(let zt=0;zt<Vt.length;zt++){const{name:$t,value:xn}=Vt[zt];"id"!==$t&&at.setAttribute($t,xn)}for(let zt=0;zt<rt.childNodes.length;zt++)rt.childNodes[zt].nodeType===this._document.ELEMENT_NODE&&at.appendChild(rt.childNodes[zt].cloneNode(!0));return at}_setSvgAttributes(rt,at){return rt.setAttribute("fit",""),rt.setAttribute("height","100%"),rt.setAttribute("width","100%"),rt.setAttribute("preserveAspectRatio","xMidYMid meet"),rt.setAttribute("focusable","false"),at&&at.viewBox&&rt.setAttribute("viewBox",at.viewBox),rt}_fetchIcon(rt){var at;const{url:Vt,options:zt}=rt,$t=null!==(at=null==zt?void 0:zt.withCredentials)&&void 0!==at&&at;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==Vt)throw Error(`Cannot fetch icon from URL "${Vt}".`);const xn=this._sanitizer.sanitize(E.q3G.RESOURCE_URL,Vt);if(!xn)throw we(Vt);const Kn=this._inProgressUrlFetches.get(xn);if(Kn)return Kn;const Yn=this._httpClient.get(xn,{responseType:"text",withCredentials:$t}).pipe((0,B.x)(()=>this._inProgressUrlFetches.delete(xn)),(0,ne.B)());return this._inProgressUrlFetches.set(xn,Yn),Yn}_addSvgIconConfig(rt,at,Vt){return this._svgIconConfigs.set(Ce(rt,at),Vt),this}_addSvgIconSetConfig(rt,at){const Vt=this._iconSetConfigs.get(rt);return Vt?Vt.push(at):this._iconSetConfigs.set(rt,[at]),this}_svgElementFromConfig(rt){if(!rt.svgElement){const at=this._svgElementFromString(rt.svgText);this._setSvgAttributes(at,rt.options),rt.svgElement=at}return rt.svgElement}_getIconConfigFromResolvers(rt,at){for(let Vt=0;Vt<this._resolvers.length;Vt++){const zt=this._resolvers[Vt](at,rt);if(zt)return Te(zt)?new fe(zt.url,null,zt.options):new fe(zt,null)}}}return Et.\u0275fac=function(rt){return new(rt||Et)(E.LFG(se.eN,8),E.LFG(de.H7),E.LFG(e.K0,8),E.LFG(E.qLn))},Et.\u0275prov=E.Yz7({factory:function(){return new Et(E.LFG(se.eN,8),E.LFG(de.H7),E.LFG(e.K0,8),E.LFG(E.qLn))},token:Et,providedIn:"root"}),Et})();function ye(Et){return Et.cloneNode(!0)}function Ce(Et,sn){return Et+":"+sn}function Te(Et){return!(!Et.url||!Et.options)}const me=(0,o.pj)(class{constructor(Et){this._elementRef=Et}}),ve=new E.OlP("mat-icon-location",{providedIn:"root",factory:function(){const Et=(0,E.f3M)(e.K0),sn=Et?Et.location:null;return{getPathname:()=>sn?sn.pathname+sn.search:""}}}),Be=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lt=Be.map(Et=>`[${Et}]`).join(", "),Jt=/^url\(['"]?#(.*?)['"]?\)$/;let wt=(()=>{class Et extends me{constructor(rt,at,Vt,zt,$t){super(rt),this._iconRegistry=at,this._location=zt,this._errorHandler=$t,this._inline=!1,this._currentIconFetch=y.w.EMPTY,Vt||rt.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(rt){this._inline=(0,t.Ig)(rt)}get svgIcon(){return this._svgIcon}set svgIcon(rt){rt!==this._svgIcon&&(rt?this._updateSvgIcon(rt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=rt)}get fontSet(){return this._fontSet}set fontSet(rt){const at=this._cleanupFontValue(rt);at!==this._fontSet&&(this._fontSet=at,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(rt){const at=this._cleanupFontValue(rt);at!==this._fontIcon&&(this._fontIcon=at,this._updateFontIconClasses())}_splitIconName(rt){if(!rt)return["",""];const at=rt.split(":");switch(at.length){case 1:return["",at[0]];case 2:return at;default:throw Error(`Invalid icon name: "${rt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const rt=this._elementsWithExternalReferences;if(rt&&rt.size){const at=this._location.getPathname();at!==this._previousPath&&(this._previousPath=at,this._prependPathToReferences(at))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(rt){this._clearSvgElement();const at=rt.querySelectorAll("style");for(let zt=0;zt<at.length;zt++)at[zt].textContent+=" ";const Vt=this._location.getPathname();this._previousPath=Vt,this._cacheChildrenWithExternalReferences(rt),this._prependPathToReferences(Vt),this._elementRef.nativeElement.appendChild(rt)}_clearSvgElement(){const rt=this._elementRef.nativeElement;let at=rt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();at--;){const Vt=rt.childNodes[at];(1!==Vt.nodeType||"svg"===Vt.nodeName.toLowerCase())&&rt.removeChild(Vt)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const rt=this._elementRef.nativeElement,at=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();at!=this._previousFontSetClass&&(this._previousFontSetClass&&rt.classList.remove(this._previousFontSetClass),at&&rt.classList.add(at),this._previousFontSetClass=at),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&rt.classList.remove(this._previousFontIconClass),this.fontIcon&&rt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(rt){return"string"==typeof rt?rt.trim().split(" ")[0]:rt}_prependPathToReferences(rt){const at=this._elementsWithExternalReferences;at&&at.forEach((Vt,zt)=>{Vt.forEach($t=>{zt.setAttribute($t.name,`url('${rt}#${$t.value}')`)})})}_cacheChildrenWithExternalReferences(rt){const at=rt.querySelectorAll(Lt),Vt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let zt=0;zt<at.length;zt++)Be.forEach($t=>{const xn=at[zt],Kn=xn.getAttribute($t),Yn=Kn?Kn.match(Jt):null;if(Yn){let dn=Vt.get(xn);dn||(dn=[],Vt.set(xn,dn)),dn.push({name:$t,value:Yn[1]})}})}_updateSvgIcon(rt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),rt){const[at,Vt]=this._splitIconName(rt);at&&(this._svgNamespace=at),Vt&&(this._svgName=Vt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Vt,at).pipe((0,te.q)(1)).subscribe(zt=>this._setSvgElement(zt),zt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${at}:${Vt}! ${zt.message}`))})}}}return Et.\u0275fac=function(rt){return new(rt||Et)(E.Y36(E.SBq),E.Y36(pe),E.$8M("aria-hidden"),E.Y36(ve),E.Y36(E.qLn))},Et.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(rt,at){2&rt&&(E.uIk("data-mat-icon-type",at._usingFontIcon()?"font":"svg")("data-mat-icon-name",at._svgName||at.fontIcon)("data-mat-icon-namespace",at._svgNamespace||at.fontSet),E.ekj("mat-icon-inline",at.inline)("mat-icon-no-color","primary"!==at.color&&"accent"!==at.color&&"warn"!==at.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[E.qOj],ngContentSelectors:ae,decls:1,vars:0,template:function(rt,at){1&rt&&(E.F$t(),E.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Et})(),tn=(()=>{class Et{}return Et.\u0275fac=function(rt){return new(rt||Et)},Et.\u0275mod=E.oAB({type:Et}),Et.\u0275inj=E.cJS({imports:[[o.BQ],o.BQ]}),Et})()},28369:(F,U,_)=>{"use strict";_.d(U,{VK:()=>xn,OP:()=>rt,Tx:()=>un,p6:()=>it});var E=_(72882),o=_(99957),t=_(15911),e=_(42741),n=_(6006),s=_(39734),f=_(30636),y=_(267),M=_(13438),A=_(63543),P=_(32812),B=_(59917),ne=_(63305),te=_(27194),se=_(62615),de=_(88638),ae=_(62718),Me=_(16274),xe=_(40688),we=_(68101),ke=_(66899),fe=_(54847),pe=_(12281);const ie=["mat-menu-item",""];function ee(ft,hn){1&ft&&(e.O4$(),e.TgZ(0,"svg",2),e._UZ(1,"polygon",3),e.qZA())}const ye=["*"];function Ce(ft,hn){if(1&ft){const mt=e.EpF();e.TgZ(0,"div",0),e.NdJ("keydown",function(Je){return e.CHM(mt),e.oxw()._handleKeydown(Je)})("click",function(){return e.CHM(mt),e.oxw().closed.emit("click")})("@transformMenu.start",function(Je){return e.CHM(mt),e.oxw()._onAnimationStart(Je)})("@transformMenu.done",function(Je){return e.CHM(mt),e.oxw()._onAnimationDone(Je)}),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.qZA()}if(2&ft){const mt=e.oxw();e.Q6J("id",mt.panelId)("ngClass",mt._classList)("@transformMenu",mt._panelAnimationState),e.uIk("aria-label",mt.ariaLabel||null)("aria-labelledby",mt.ariaLabelledby||null)("aria-describedby",mt.ariaDescribedby||null)}}const Te={transformMenu:(0,de.X$)("transformMenu",[(0,de.SB)("void",(0,de.oB)({opacity:0,transform:"scale(0.8)"})),(0,de.eR)("void => enter",(0,de.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,de.oB)({opacity:1,transform:"scale(1)"}))),(0,de.eR)("* => void",(0,de.jt)("100ms 25ms linear",(0,de.oB)({opacity:0})))]),fadeInItems:(0,de.X$)("fadeInItems",[(0,de.SB)("showing",(0,de.oB)({opacity:1})),(0,de.eR)("void => *",[(0,de.oB)({opacity:0}),(0,de.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Ze=new e.OlP("MatMenuContent"),Et=new e.OlP("MAT_MENU_PANEL"),sn=(0,xe.Kr)((0,xe.Id)(class{}));let rt=(()=>{class ft extends sn{constructor(mt,Ht,Je,X,re){super(),this._elementRef=mt,this._focusMonitor=Je,this._parentMenu=X,this._changeDetectorRef=re,this.role="menuitem",this._hovered=new n.xQ,this._focused=new n.xQ,this._highlighted=!1,this._triggersSubmenu=!1,X&&X.addItem&&X.addItem(this)}focus(mt,Ht){this._focusMonitor&&mt?this._focusMonitor.focusVia(this._getHostElement(),mt,Ht):this._getHostElement().focus(Ht),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(mt){this.disabled&&(mt.preventDefault(),mt.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var mt,Ht;const Je=this._elementRef.nativeElement.cloneNode(!0),X=Je.querySelectorAll("mat-icon, .material-icons");for(let re=0;re<X.length;re++){const ze=X[re];null===(mt=ze.parentNode)||void 0===mt||mt.removeChild(ze)}return(null===(Ht=Je.textContent)||void 0===Ht?void 0:Ht.trim())||""}_setHighlighted(mt){var Ht;this._highlighted=mt,null===(Ht=this._changeDetectorRef)||void 0===Ht||Ht.markForCheck()}}return ft.\u0275fac=function(mt){return new(mt||ft)(e.Y36(e.SBq),e.Y36(Me.K0),e.Y36(E.tE),e.Y36(Et,8),e.Y36(e.sBO))},ft.\u0275cmp=e.Xpm({type:ft,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(mt,Ht){1&mt&&e.NdJ("click",function(X){return Ht._checkDisabled(X)})("mouseenter",function(){return Ht._handleMouseEnter()}),2&mt&&(e.uIk("role",Ht.role)("tabindex",Ht._getTabIndex())("aria-disabled",Ht.disabled.toString())("disabled",Ht.disabled||null),e.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",Ht._highlighted)("mat-menu-item-submenu-trigger",Ht._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[e.qOj],attrs:ie,ngContentSelectors:ye,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(mt,Ht){1&mt&&(e.F$t(),e.Hsn(0),e._UZ(1,"div",0),e.YNc(2,ee,2,0,"svg",1)),2&mt&&(e.xp6(1),e.Q6J("matRippleDisabled",Ht.disableRipple||Ht.disabled)("matRippleTrigger",Ht._getHostElement()),e.xp6(1),e.Q6J("ngIf",Ht._triggersSubmenu))},directives:[xe.wG,Me.O5],encapsulation:2,changeDetection:0}),ft})();const at=new e.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let zt=0,$t=(()=>{class ft{constructor(mt,Ht,Je){this._elementRef=mt,this._ngZone=Ht,this._defaultOptions=Je,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new e.n_E,this._tabSubscription=s.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new n.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new e.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+zt++}get xPosition(){return this._xPosition}set xPosition(mt){this._xPosition=mt,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(mt){this._yPosition=mt,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(mt){this._overlapTrigger=(0,o.Ig)(mt)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(mt){this._hasBackdrop=(0,o.Ig)(mt)}set panelClass(mt){const Ht=this._previousPanelClass;Ht&&Ht.length&&Ht.split(" ").forEach(Je=>{this._classList[Je]=!1}),this._previousPanelClass=mt,mt&&mt.length&&(mt.split(" ").forEach(Je=>{this._classList[Je]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(mt){this.panelClass=mt}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new E.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,A.O)(this._directDescendantItems),(0,P.w)(mt=>(0,f.T)(...mt.map(Ht=>Ht._focused)))).subscribe(mt=>this._keyManager.updateActiveItem(mt))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,A.O)(this._directDescendantItems),(0,P.w)(Ht=>(0,f.T)(...Ht.map(Je=>Je._hovered))))}addItem(mt){}removeItem(mt){}_handleKeydown(mt){const Ht=mt.keyCode,Je=this._keyManager;switch(Ht){case t.hY:(0,t.Vb)(mt)||(mt.preventDefault(),this.closed.emit("keydown"));break;case t.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case t.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(Ht===t.LH||Ht===t.JH)&&Je.setFocusOrigin("keyboard"),Je.onKeydown(mt)}}focusFirstItem(mt="program"){this.lazyContent?this._ngZone.onStable.pipe((0,B.q)(1)).subscribe(()=>this._focusFirstItem(mt)):this._focusFirstItem(mt)}_focusFirstItem(mt){const Ht=this._keyManager;if(Ht.setFocusOrigin(mt).setFirstItemActive(),!Ht.activeItem&&this._directDescendantItems.length){let Je=this._directDescendantItems.first._getHostElement().parentElement;for(;Je;){if("menu"===Je.getAttribute("role")){Je.focus();break}Je=Je.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(mt){const Ht=Math.min(this._baseElevation+mt,24),Je=`${this._elevationPrefix}${Ht}`,X=Object.keys(this._classList).find(re=>re.startsWith(this._elevationPrefix));(!X||X===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Je]=!0,this._previousElevation=Je)}setPositionClasses(mt=this.xPosition,Ht=this.yPosition){const Je=this._classList;Je["mat-menu-before"]="before"===mt,Je["mat-menu-after"]="after"===mt,Je["mat-menu-above"]="above"===Ht,Je["mat-menu-below"]="below"===Ht}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(mt){this._animationDone.next(mt),this._isAnimating=!1}_onAnimationStart(mt){this._isAnimating=!0,"enter"===mt.toState&&0===this._keyManager.activeItemIndex&&(mt.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,A.O)(this._allItems)).subscribe(mt=>{this._directDescendantItems.reset(mt.filter(Ht=>Ht._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return ft.\u0275fac=function(mt){return new(mt||ft)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(at))},ft.\u0275dir=e.lG2({type:ft,contentQueries:function(mt,Ht,Je){if(1&mt&&(e.Suo(Je,Ze,5),e.Suo(Je,rt,5),e.Suo(Je,rt,4)),2&mt){let X;e.iGM(X=e.CRH())&&(Ht.lazyContent=X.first),e.iGM(X=e.CRH())&&(Ht._allItems=X),e.iGM(X=e.CRH())&&(Ht.items=X)}},viewQuery:function(mt,Ht){if(1&mt&&e.Gf(e.Rgc,5),2&mt){let Je;e.iGM(Je=e.CRH())&&(Ht.templateRef=Je.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),ft})(),xn=(()=>{class ft extends $t{constructor(mt,Ht,Je){super(mt,Ht,Je),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return ft.\u0275fac=function(mt){return new(mt||ft)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(at))},ft.\u0275cmp=e.Xpm({type:ft,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(mt,Ht){2&mt&&e.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[e._Bn([{provide:Et,useExisting:ft}]),e.qOj],ngContentSelectors:ye,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(mt,Ht){1&mt&&(e.F$t(),e.YNc(0,Ce,3,6,"ng-template"))},directives:[Me.mk],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[Te.transformMenu,Te.fadeInItems]},changeDetection:0}),ft})();const Kn=new e.OlP("mat-menu-scroll-strategy"),dn={provide:Kn,deps:[we.aV],useFactory:function(ft){return()=>ft.scrollStrategies.reposition()}},Bt=(0,ke.i$)({passive:!0});let Fe=(()=>{class ft{constructor(mt,Ht,Je,X,re,ze,Qe,Ct){this._overlay=mt,this._element=Ht,this._viewContainerRef=Je,this._menuItemInstance=ze,this._dir=Qe,this._focusMonitor=Ct,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=s.w.EMPTY,this._hoverSubscription=s.w.EMPTY,this._menuCloseSubscription=s.w.EMPTY,this._handleTouchStart=yt=>{(0,E.yG)(yt)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new e.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=X,this._parentMaterialMenu=re instanceof $t?re:void 0,Ht.nativeElement.addEventListener("touchstart",this._handleTouchStart,Bt),ze&&(ze._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(mt){this.menu=mt}get menu(){return this._menu}set menu(mt){mt!==this._menu&&(this._menu=mt,this._menuCloseSubscription.unsubscribe(),mt&&(this._menuCloseSubscription=mt.close.subscribe(Ht=>{this._destroyMenu(Ht),("click"===Ht||"tab"===Ht)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(Ht)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Bt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const mt=this._createOverlay(),Ht=mt.getConfig();this._setPosition(Ht.positionStrategy),Ht.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,mt.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof $t&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(mt,Ht){this._focusMonitor&&mt?this._focusMonitor.focusVia(this._element,mt,Ht):this._element.nativeElement.focus(Ht)}updatePosition(){var mt;null===(mt=this._overlayRef)||void 0===mt||mt.updatePosition()}_destroyMenu(mt){if(!this._overlayRef||!this.menuOpen)return;const Ht=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===mt||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,Ht instanceof $t?(Ht._resetAnimation(),Ht.lazyContent?Ht._animationDone.pipe((0,ne.h)(Je=>"void"===Je.toState),(0,B.q)(1),(0,te.R)(Ht.lazyContent._attached)).subscribe({next:()=>Ht.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),Ht.lazyContent&&Ht.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let mt=0,Ht=this.menu.parentMenu;for(;Ht;)mt++,Ht=Ht.parentMenu;this.menu.setElevation(mt)}}_setIsMenuOpen(mt){this._menuOpen=mt,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(mt)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const mt=this._getOverlayConfig();this._subscribeToPositions(mt.positionStrategy),this._overlayRef=this._overlay.create(mt),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new we.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(mt){this.menu.setPositionClasses&&mt.positionChanges.subscribe(Ht=>{this.menu.setPositionClasses("start"===Ht.connectionPair.overlayX?"after":"before","top"===Ht.connectionPair.overlayY?"below":"above")})}_setPosition(mt){let[Ht,Je]="before"===this.menu.xPosition?["end","start"]:["start","end"],[X,re]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[ze,Qe]=[X,re],[Ct,yt]=[Ht,Je],Zt=0;this.triggersSubmenu()?(yt=Ht="before"===this.menu.xPosition?"start":"end",Je=Ct="end"===Ht?"start":"end",Zt="bottom"===X?8:-8):this.menu.overlapTrigger||(ze="top"===X?"bottom":"top",Qe="top"===re?"bottom":"top"),mt.withPositions([{originX:Ht,originY:ze,overlayX:Ct,overlayY:X,offsetY:Zt},{originX:Je,originY:ze,overlayX:yt,overlayY:X,offsetY:Zt},{originX:Ht,originY:Qe,overlayX:Ct,overlayY:re,offsetY:-Zt},{originX:Je,originY:Qe,overlayX:yt,overlayY:re,offsetY:-Zt}])}_menuClosingActions(){const mt=this._overlayRef.backdropClick(),Ht=this._overlayRef.detachments(),Je=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,y.of)(),X=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,ne.h)(re=>re!==this._menuItemInstance),(0,ne.h)(()=>this._menuOpen)):(0,y.of)();return(0,f.T)(mt,Je,X,Ht)}_handleMousedown(mt){(0,E.X6)(mt)||(this._openedBy=0===mt.button?"mouse":void 0,this.triggersSubmenu()&&mt.preventDefault())}_handleKeydown(mt){const Ht=mt.keyCode;(Ht===t.K5||Ht===t.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(Ht===t.SV&&"ltr"===this.dir||Ht===t.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(mt){this.triggersSubmenu()?(mt.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,ne.h)(mt=>mt===this._menuItemInstance&&!mt.disabled),(0,se.g)(0,M.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof $t&&this.menu._isAnimating?this.menu._animationDone.pipe((0,B.q)(1),(0,se.g)(0,M.E),(0,te.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new ae.UE(this.menu.templateRef,this._viewContainerRef)),this._portal}}return ft.\u0275fac=function(mt){return new(mt||ft)(e.Y36(we.aV),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(Kn),e.Y36(Et,8),e.Y36(rt,10),e.Y36(pe.Is,8),e.Y36(E.tE))},ft.\u0275dir=e.lG2({type:ft,hostVars:3,hostBindings:function(mt,Ht){1&mt&&e.NdJ("mousedown",function(X){return Ht._handleMousedown(X)})("keydown",function(X){return Ht._handleKeydown(X)})("click",function(X){return Ht._handleClick(X)}),2&mt&&e.uIk("aria-haspopup",Ht._ariaHaspopup)("aria-expanded",Ht._ariaExpanded)("aria-controls",Ht._ariaControl)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),ft})(),it=(()=>{class ft extends Fe{}return ft.\u0275fac=function(){let hn;return function(Ht){return(hn||(hn=e.n5z(ft)))(Ht||ft)}}(),ft.\u0275dir=e.lG2({type:ft,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[e.qOj]}),ft})(),un=(()=>{class ft{}return ft.\u0275fac=function(mt){return new(mt||ft)},ft.\u0275mod=e.oAB({type:ft}),ft.\u0275inj=e.cJS({providers:[dn],imports:[[Me.ez,xe.BQ,xe.si,we.U8],fe.ZD,xe.BQ]}),ft})()},45491:(F,U,_)=>{"use strict";_.d(U,{ux:()=>ye,ZX:()=>pe});var E=_(68101),o=_(62718),t=_(16274),e=_(42741),n=_(40688),s=_(67617),f=_(6006),y=_(59917),M=_(27194),A=_(88638),P=_(72882),B=_(52514),ne=_(66899);function te(Ce,Te){if(1&Ce){const me=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"button",2),e.NdJ("click",function(){return e.CHM(me),e.oxw().action()}),e._uU(2),e.qZA(),e.qZA()}if(2&Ce){const me=e.oxw();e.xp6(2),e.Oqu(me.data.action)}}function se(Ce,Te){}const de=new e.OlP("MatSnackBarData");class ae{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Me=Math.pow(2,31)-1;class xe{constructor(Te,me){this._overlayRef=me,this._afterDismissed=new f.xQ,this._afterOpened=new f.xQ,this._onAction=new f.xQ,this._dismissedByAction=!1,this.containerInstance=Te,this.onAction().subscribe(()=>this.dismiss()),Te._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Te){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Te,Me))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let we=(()=>{class Ce{constructor(me,ve){this.snackBarRef=me,this.data=ve}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return Ce.\u0275fac=function(me){return new(me||Ce)(e.Y36(xe),e.Y36(de))},Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(me,ve){1&me&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e.YNc(2,te,3,1,"div",0)),2&me&&(e.xp6(1),e.Oqu(ve.data.message),e.xp6(1),e.Q6J("ngIf",ve.hasAction))},directives:[t.O5,s.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),Ce})();const ke={snackBarState:(0,A.X$)("state",[(0,A.SB)("void, hidden",(0,A.oB)({transform:"scale(0.8)",opacity:0})),(0,A.SB)("visible",(0,A.oB)({transform:"scale(1)",opacity:1})),(0,A.eR)("* => visible",(0,A.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,A.eR)("* => void, * => hidden",(0,A.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,A.oB)({opacity:0})))])};let fe=(()=>{class Ce extends o.en{constructor(me,ve,Ze,Be,ot){super(),this._ngZone=me,this._elementRef=ve,this._changeDetectorRef=Ze,this._platform=Be,this.snackBarConfig=ot,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new f.xQ,this._onExit=new f.xQ,this._onEnter=new f.xQ,this._animationState="void",this.attachDomPortal=Lt=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(Lt)),this._live="assertive"!==ot.politeness||ot.announcementMessage?"off"===ot.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(me){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(me)}attachTemplatePortal(me){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(me)}onAnimationEnd(me){const{fromState:ve,toState:Ze}=me;if(("void"===Ze&&"void"!==ve||"hidden"===Ze)&&this._completeExit(),"visible"===Ze){const Be=this._onEnter;this._ngZone.run(()=>{Be.next(),Be.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,y.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const me=this._elementRef.nativeElement,ve=this.snackBarConfig.panelClass;ve&&(Array.isArray(ve)?ve.forEach(Ze=>me.classList.add(Ze)):me.classList.add(ve)),"center"===this.snackBarConfig.horizontalPosition&&me.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&me.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const me=this._elementRef.nativeElement.querySelector("[aria-hidden]"),ve=this._elementRef.nativeElement.querySelector("[aria-live]");if(me&&ve){let Ze=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&me.contains(document.activeElement)&&(Ze=document.activeElement),me.removeAttribute("aria-hidden"),ve.appendChild(me),null==Ze||Ze.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return Ce.\u0275fac=function(me){return new(me||Ce)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ne.t4),e.Y36(ae))},Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["snack-bar-container"]],viewQuery:function(me,ve){if(1&me&&e.Gf(o.Pl,7),2&me){let Ze;e.iGM(Ze=e.CRH())&&(ve._portalOutlet=Ze.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(me,ve){1&me&&e.WFA("@state.done",function(Be){return ve.onAnimationEnd(Be)}),2&me&&e.d8E("@state",ve._animationState)},features:[e.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(me,ve){1&me&&(e.TgZ(0,"div",0),e.YNc(1,se,0,0,"ng-template",1),e.qZA(),e._UZ(2,"div")),2&me&&(e.xp6(2),e.uIk("aria-live",ve._live)("role",ve._role))},directives:[o.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[ke.snackBarState]}}),Ce})(),pe=(()=>{class Ce{}return Ce.\u0275fac=function(me){return new(me||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({imports:[[E.U8,o.eL,t.ez,s.ot,n.BQ],n.BQ]}),Ce})();const ie=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new ae}});let ye=(()=>{class Ce{constructor(me,ve,Ze,Be,ot,Lt){this._overlay=me,this._live=ve,this._injector=Ze,this._breakpointObserver=Be,this._parentSnackBar=ot,this._defaultConfig=Lt,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=we,this.snackBarContainerComponent=fe,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const me=this._parentSnackBar;return me?me._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(me){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=me:this._snackBarRefAtThisLevel=me}openFromComponent(me,ve){return this._attach(me,ve)}openFromTemplate(me,ve){return this._attach(me,ve)}open(me,ve="",Ze){const Be=Object.assign(Object.assign({},this._defaultConfig),Ze);return Be.data={message:me,action:ve},Be.announcementMessage===me&&(Be.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Be)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(me,ve){const Be=e.zs3.create({parent:ve&&ve.viewContainerRef&&ve.viewContainerRef.injector||this._injector,providers:[{provide:ae,useValue:ve}]}),ot=new o.C5(this.snackBarContainerComponent,ve.viewContainerRef,Be),Lt=me.attach(ot);return Lt.instance.snackBarConfig=ve,Lt.instance}_attach(me,ve){const Ze=Object.assign(Object.assign(Object.assign({},new ae),this._defaultConfig),ve),Be=this._createOverlay(Ze),ot=this._attachSnackBarContainer(Be,Ze),Lt=new xe(ot,Be);if(me instanceof e.Rgc){const Jt=new o.UE(me,null,{$implicit:Ze.data,snackBarRef:Lt});Lt.instance=ot.attachTemplatePortal(Jt)}else{const Jt=this._createInjector(Ze,Lt),wt=new o.C5(me,void 0,Jt),tn=ot.attachComponentPortal(wt);Lt.instance=tn.instance}return this._breakpointObserver.observe(B.u3.HandsetPortrait).pipe((0,M.R)(Be.detachments())).subscribe(Jt=>{const wt=Be.overlayElement.classList;Jt.matches?wt.add(this.handsetCssClass):wt.remove(this.handsetCssClass)}),Ze.announcementMessage&&ot._onAnnounce.subscribe(()=>{this._live.announce(Ze.announcementMessage,Ze.politeness)}),this._animateSnackBar(Lt,Ze),this._openedSnackBarRef=Lt,this._openedSnackBarRef}_animateSnackBar(me,ve){me.afterDismissed().subscribe(()=>{this._openedSnackBarRef==me&&(this._openedSnackBarRef=null),ve.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{me.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):me.containerInstance.enter(),ve.duration&&ve.duration>0&&me.afterOpened().subscribe(()=>me._dismissAfter(ve.duration))}_createOverlay(me){const ve=new E.X_;ve.direction=me.direction;let Ze=this._overlay.position().global();const Be="rtl"===me.direction,ot="left"===me.horizontalPosition||"start"===me.horizontalPosition&&!Be||"end"===me.horizontalPosition&&Be,Lt=!ot&&"center"!==me.horizontalPosition;return ot?Ze.left("0"):Lt?Ze.right("0"):Ze.centerHorizontally(),"top"===me.verticalPosition?Ze.top("0"):Ze.bottom("0"),ve.positionStrategy=Ze,this._overlay.create(ve)}_createInjector(me,ve){return e.zs3.create({parent:me&&me.viewContainerRef&&me.viewContainerRef.injector||this._injector,providers:[{provide:xe,useValue:ve},{provide:de,useValue:me.data}]})}}return Ce.\u0275fac=function(me){return new(me||Ce)(e.LFG(E.aV),e.LFG(P.Kd),e.LFG(e.zs3),e.LFG(B.Yg),e.LFG(Ce,12),e.LFG(ie))},Ce.\u0275prov=e.Yz7({factory:function(){return new Ce(e.LFG(E.aV),e.LFG(P.Kd),e.LFG(e.gxx),e.LFG(B.Yg),e.LFG(Ce,12),e.LFG(ie))},token:Ce,providedIn:pe}),Ce})()},81728:(F,U,_)=>{"use strict";_.d(U,{Qb:()=>Mi,PW:()=>va});var E=_(42741),o=_(93220),t=_(88638);function e(){return"undefined"!=typeof window&&void 0!==window.document}function n(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function s(He){switch(He.length){case 0:return new t.ZN;case 1:return He[0];default:return new t.ZE(He)}}function f(He,V,W,he,Ue={},et={}){const gt=[],St=[];let nn=-1,vn=null;if(he.forEach(Hn=>{const li=Hn.offset,Ri=li==nn,Pi=Ri&&vn||{};Object.keys(Hn).forEach(mi=>{let yi=mi,Hi=Hn[mi];if("offset"!==mi)switch(yi=V.normalizePropertyName(yi,gt),Hi){case t.k1:Hi=Ue[mi];break;case t.l3:Hi=et[mi];break;default:Hi=V.normalizeStyleValue(mi,yi,Hi,gt)}Pi[yi]=Hi}),Ri||St.push(Pi),vn=Pi,nn=li}),gt.length){const Hn="\n - ";throw new Error(`Unable to animate due to the following errors:${Hn}${gt.join(Hn)}`)}return St}function y(He,V,W,he){switch(V){case"start":He.onStart(()=>he(W&&M(W,"start",He)));break;case"done":He.onDone(()=>he(W&&M(W,"done",He)));break;case"destroy":He.onDestroy(()=>he(W&&M(W,"destroy",He)))}}function M(He,V,W){const he=W.totalTime,et=A(He.element,He.triggerName,He.fromState,He.toState,V||He.phaseName,null==he?He.totalTime:he,!!W.disabled),gt=He._data;return null!=gt&&(et._data=gt),et}function A(He,V,W,he,Ue="",et=0,gt){return{element:He,triggerName:V,fromState:W,toState:he,phaseName:Ue,totalTime:et,disabled:!!gt}}function P(He,V,W){let he;return He instanceof Map?(he=He.get(V),he||He.set(V,he=W)):(he=He[V],he||(he=He[V]=W)),he}function B(He){const V=He.indexOf(":");return[He.substring(1,V),He.substr(V+1)]}let ne=(He,V)=>!1,se=(He,V)=>!1,ae=(He,V,W)=>[];const xe=n();(xe||"undefined"!=typeof Element)&&(ne=e()?(He,V)=>{for(;V&&V!==document.documentElement;){if(V===He)return!0;V=V.parentNode||V.host}return!1}:(He,V)=>He.contains(V),se=(()=>{if(xe||Element.prototype.matches)return(He,V)=>He.matches(V);{const He=Element.prototype,V=He.matchesSelector||He.mozMatchesSelector||He.msMatchesSelector||He.oMatchesSelector||He.webkitMatchesSelector;return V?(W,he)=>V.apply(W,[he]):se}})(),ae=(He,V,W)=>{let he=[];if(W){const Ue=He.querySelectorAll(V);for(let et=0;et<Ue.length;et++)he.push(Ue[et])}else{const Ue=He.querySelector(V);Ue&&he.push(Ue)}return he});let ke=null,fe=!1;function pe(He){ke||(ke=("undefined"!=typeof document?document.body:null)||{},fe=!!ke.style&&"WebkitAppearance"in ke.style);let V=!0;return ke.style&&!function(He){return"ebkit"==He.substring(1,6)}(He)&&(V=He in ke.style,!V&&fe&&(V="Webkit"+He.charAt(0).toUpperCase()+He.substr(1)in ke.style)),V}const ee=se,ye=ne,Ce=ae;function Te(He){const V={};return Object.keys(He).forEach(W=>{const he=W.replace(/([a-z])([A-Z])/g,"$1-$2");V[he]=He[W]}),V}let me=(()=>{class He{validateStyleProperty(W){return pe(W)}matchesElement(W,he){return ee(W,he)}containsElement(W,he){return ye(W,he)}query(W,he,Ue){return Ce(W,he,Ue)}computeStyle(W,he,Ue){return Ue||""}animate(W,he,Ue,et,gt,St=[],nn){return new t.ZN(Ue,et)}}return He.\u0275fac=function(W){return new(W||He)},He.\u0275prov=E.Yz7({token:He,factory:He.\u0275fac}),He})(),ve=(()=>{class He{}return He.NOOP=new me,He})();const Lt="ng-enter",Jt="ng-leave",Et="ng-trigger",sn=".ng-trigger",rt="ng-animating",at=".ng-animating";function Vt(He){if("number"==typeof He)return He;const V=He.match(/^(-?[\.\d]+)(m?s)/);return!V||V.length<2?0:zt(parseFloat(V[1]),V[2])}function zt(He,V){switch(V){case"s":return 1e3*He;default:return He}}function $t(He,V,W){return He.hasOwnProperty("duration")?He:function(He,V,W){let Ue,et=0,gt="";if("string"==typeof He){const St=He.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===St)return V.push(`The provided timing value "${He}" is invalid.`),{duration:0,delay:0,easing:""};Ue=zt(parseFloat(St[1]),St[2]);const nn=St[3];null!=nn&&(et=zt(parseFloat(nn),St[4]));const vn=St[5];vn&&(gt=vn)}else Ue=He;if(!W){let St=!1,nn=V.length;Ue<0&&(V.push("Duration values below 0 are not allowed for this animation step."),St=!0),et<0&&(V.push("Delay values below 0 are not allowed for this animation step."),St=!0),St&&V.splice(nn,0,`The provided timing value "${He}" is invalid.`)}return{duration:Ue,delay:et,easing:gt}}(He,V,W)}function Kn(He,V={}){return Object.keys(He).forEach(W=>{V[W]=He[W]}),V}function dn(He,V,W={}){if(V)for(let he in He)W[he]=He[he];else Kn(He,W);return W}function It(He,V,W){return W?V+":"+W+";":""}function Bt(He){let V="";for(let W=0;W<He.style.length;W++){const he=He.style.item(W);V+=It(0,he,He.style.getPropertyValue(he))}for(const W in He.style)He.style.hasOwnProperty(W)&&!W.startsWith("_")&&(V+=It(0,ze(W),He.style[W]));He.setAttribute("style",V)}function Fe(He,V,W){He.style&&(Object.keys(V).forEach(he=>{const Ue=re(he);W&&!W.hasOwnProperty(he)&&(W[he]=He.style[Ue]),He.style[Ue]=V[he]}),n()&&Bt(He))}function it(He,V){He.style&&(Object.keys(V).forEach(W=>{const he=re(W);He.style[he]=""}),n()&&Bt(He))}function un(He){return Array.isArray(He)?1==He.length?He[0]:(0,t.vP)(He):He}const hn=new RegExp("{{\\s*(.+?)\\s*}}","g");function mt(He){let V=[];if("string"==typeof He){let W;for(;W=hn.exec(He);)V.push(W[1]);hn.lastIndex=0}return V}function Ht(He,V,W){const he=He.toString(),Ue=he.replace(hn,(et,gt)=>{let St=V[gt];return V.hasOwnProperty(gt)||(W.push(`Please provide a value for the animation param ${gt}`),St=""),St.toString()});return Ue==he?He:Ue}function Je(He){const V=[];let W=He.next();for(;!W.done;)V.push(W.value),W=He.next();return V}const X=/-+([a-z0-9])/g;function re(He){return He.replace(X,(...V)=>V[1].toUpperCase())}function ze(He){return He.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qe(He,V){return 0===He||0===V}function Ct(He,V,W){const he=Object.keys(W);if(he.length&&V.length){let et=V[0],gt=[];if(he.forEach(St=>{et.hasOwnProperty(St)||gt.push(St),et[St]=W[St]}),gt.length)for(var Ue=1;Ue<V.length;Ue++){let St=V[Ue];gt.forEach(function(nn){St[nn]=Zt(He,nn)})}}return V}function yt(He,V,W){switch(V.type){case 7:return He.visitTrigger(V,W);case 0:return He.visitState(V,W);case 1:return He.visitTransition(V,W);case 2:return He.visitSequence(V,W);case 3:return He.visitGroup(V,W);case 4:return He.visitAnimate(V,W);case 5:return He.visitKeyframes(V,W);case 6:return He.visitStyle(V,W);case 8:return He.visitReference(V,W);case 9:return He.visitAnimateChild(V,W);case 10:return He.visitAnimateRef(V,W);case 11:return He.visitQuery(V,W);case 12:return He.visitStagger(V,W);default:throw new Error(`Unable to resolve animation metadata node #${V.type}`)}}function Zt(He,V){return window.getComputedStyle(He)[V]}function En(He,V){const W=[];return"string"==typeof He?He.split(/\s*,\s*/).forEach(he=>function(He,V,W){if(":"==He[0]){const nn=function(He,V){switch(He){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(W,he)=>parseFloat(he)>parseFloat(W);case":decrement":return(W,he)=>parseFloat(he)<parseFloat(W);default:return V.push(`The transition alias value "${He}" is not supported`),"* => *"}}(He,W);if("function"==typeof nn)return void V.push(nn);He=nn}const he=He.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==he||he.length<4)return W.push(`The provided transition expression "${He}" is not supported`),V;const Ue=he[1],et=he[2],gt=he[3];V.push(tt(Ue,gt));"<"==et[0]&&!("*"==Ue&&"*"==gt)&&V.push(tt(gt,Ue))}(he,W,V)):W.push(He),W}const Ut=new Set(["true","1"]),on=new Set(["false","0"]);function tt(He,V){const W=Ut.has(He)||on.has(He),he=Ut.has(V)||on.has(V);return(Ue,et)=>{let gt="*"==He||He==Ue,St="*"==V||V==et;return!gt&&W&&"boolean"==typeof Ue&&(gt=Ue?Ut.has(He):on.has(He)),!St&&he&&"boolean"==typeof et&&(St=et?Ut.has(V):on.has(V)),gt&&St}}const rn=new RegExp("s*:selfs*,?","g");function Cn(He,V,W){return new zn(He).build(V,W)}class zn{constructor(V){this._driver=V}build(V,W){const he=new Dt(W);return this._resetContextStyleTimingState(he),yt(this,un(V),he)}_resetContextStyleTimingState(V){V.currentQuerySelector="",V.collectedStyles={},V.collectedStyles[""]={},V.currentTime=0}visitTrigger(V,W){let he=W.queryCount=0,Ue=W.depCount=0;const et=[],gt=[];return"@"==V.name.charAt(0)&&W.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),V.definitions.forEach(St=>{if(this._resetContextStyleTimingState(W),0==St.type){const nn=St,vn=nn.name;vn.toString().split(/\s*,\s*/).forEach(Hn=>{nn.name=Hn,et.push(this.visitState(nn,W))}),nn.name=vn}else if(1==St.type){const nn=this.visitTransition(St,W);he+=nn.queryCount,Ue+=nn.depCount,gt.push(nn)}else W.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:V.name,states:et,transitions:gt,queryCount:he,depCount:Ue,options:null}}visitState(V,W){const he=this.visitStyle(V.styles,W),Ue=V.options&&V.options.params||null;if(he.containsDynamicStyles){const et=new Set,gt=Ue||{};if(he.styles.forEach(St=>{if(Oe(St)){const nn=St;Object.keys(nn).forEach(vn=>{mt(nn[vn]).forEach(Hn=>{gt.hasOwnProperty(Hn)||et.add(Hn)})})}}),et.size){const St=Je(et.values());W.errors.push(`state("${V.name}", ...) must define default values for all the following style substitutions: ${St.join(", ")}`)}}return{type:0,name:V.name,style:he,options:Ue?{params:Ue}:null}}visitTransition(V,W){W.queryCount=0,W.depCount=0;const he=yt(this,un(V.animation),W);return{type:1,matchers:En(V.expr,W.errors),animation:he,queryCount:W.queryCount,depCount:W.depCount,options:We(V.options)}}visitSequence(V,W){return{type:2,steps:V.steps.map(he=>yt(this,he,W)),options:We(V.options)}}visitGroup(V,W){const he=W.currentTime;let Ue=0;const et=V.steps.map(gt=>{W.currentTime=he;const St=yt(this,gt,W);return Ue=Math.max(Ue,W.currentTime),St});return W.currentTime=Ue,{type:3,steps:et,options:We(V.options)}}visitAnimate(V,W){const he=function(He,V){let W=null;if(He.hasOwnProperty("duration"))W=He;else if("number"==typeof He)return bt($t(He,V).duration,0,"");const he=He;if(he.split(/\s+/).some(et=>"{"==et.charAt(0)&&"{"==et.charAt(1))){const et=bt(0,0,"");return et.dynamic=!0,et.strValue=he,et}return W=W||$t(he,V),bt(W.duration,W.delay,W.easing)}(V.timings,W.errors);W.currentAnimateTimings=he;let Ue,et=V.styles?V.styles:(0,t.oB)({});if(5==et.type)Ue=this.visitKeyframes(et,W);else{let gt=V.styles,St=!1;if(!gt){St=!0;const vn={};he.easing&&(vn.easing=he.easing),gt=(0,t.oB)(vn)}W.currentTime+=he.duration+he.delay;const nn=this.visitStyle(gt,W);nn.isEmptyStep=St,Ue=nn}return W.currentAnimateTimings=null,{type:4,timings:he,style:Ue,options:null}}visitStyle(V,W){const he=this._makeStyleAst(V,W);return this._validateStyleAst(he,W),he}_makeStyleAst(V,W){const he=[];Array.isArray(V.styles)?V.styles.forEach(gt=>{"string"==typeof gt?gt==t.l3?he.push(gt):W.errors.push(`The provided style string value ${gt} is not allowed.`):he.push(gt)}):he.push(V.styles);let Ue=!1,et=null;return he.forEach(gt=>{if(Oe(gt)){const St=gt,nn=St.easing;if(nn&&(et=nn,delete St.easing),!Ue)for(let vn in St)if(St[vn].toString().indexOf("{{")>=0){Ue=!0;break}}}),{type:6,styles:he,easing:et,offset:V.offset,containsDynamicStyles:Ue,options:null}}_validateStyleAst(V,W){const he=W.currentAnimateTimings;let Ue=W.currentTime,et=W.currentTime;he&&et>0&&(et-=he.duration+he.delay),V.styles.forEach(gt=>{"string"!=typeof gt&&Object.keys(gt).forEach(St=>{if(!this._driver.validateStyleProperty(St))return void W.errors.push(`The provided animation property "${St}" is not a supported CSS property for animations`);const nn=W.collectedStyles[W.currentQuerySelector],vn=nn[St];let Hn=!0;vn&&(et!=Ue&&et>=vn.startTime&&Ue<=vn.endTime&&(W.errors.push(`The CSS property "${St}" that exists between the times of "${vn.startTime}ms" and "${vn.endTime}ms" is also being animated in a parallel animation between the times of "${et}ms" and "${Ue}ms"`),Hn=!1),et=vn.startTime),Hn&&(nn[St]={startTime:et,endTime:Ue}),W.options&&function(He,V,W){const he=V.params||{},Ue=mt(He);Ue.length&&Ue.forEach(et=>{he.hasOwnProperty(et)||W.push(`Unable to resolve the local animation param ${et} in the given list of values`)})}(gt[St],W.options,W.errors)})})}visitKeyframes(V,W){const he={type:5,styles:[],options:null};if(!W.currentAnimateTimings)return W.errors.push("keyframes() must be placed inside of a call to animate()"),he;let et=0;const gt=[];let St=!1,nn=!1,vn=0;const Hn=V.steps.map(Rr=>{const Fr=this._makeStyleAst(Rr,W);let xr=null!=Fr.offset?Fr.offset:function(He){if("string"==typeof He)return null;let V=null;if(Array.isArray(He))He.forEach(W=>{if(Oe(W)&&W.hasOwnProperty("offset")){const he=W;V=parseFloat(he.offset),delete he.offset}});else if(Oe(He)&&He.hasOwnProperty("offset")){const W=He;V=parseFloat(W.offset),delete W.offset}return V}(Fr.styles),nr=0;return null!=xr&&(et++,nr=Fr.offset=xr),nn=nn||nr<0||nr>1,St=St||nr<vn,vn=nr,gt.push(nr),Fr});nn&&W.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),St&&W.errors.push("Please ensure that all keyframe offsets are in order");const li=V.steps.length;let Ri=0;et>0&&et<li?W.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==et&&(Ri=1/(li-1));const Pi=li-1,mi=W.currentTime,yi=W.currentAnimateTimings,Hi=yi.duration;return Hn.forEach((Rr,Fr)=>{const xr=Ri>0?Fr==Pi?1:Ri*Fr:gt[Fr],nr=xr*Hi;W.currentTime=mi+yi.delay+nr,yi.duration=nr,this._validateStyleAst(Rr,W),Rr.offset=xr,he.styles.push(Rr)}),he}visitReference(V,W){return{type:8,animation:yt(this,un(V.animation),W),options:We(V.options)}}visitAnimateChild(V,W){return W.depCount++,{type:9,options:We(V.options)}}visitAnimateRef(V,W){return{type:10,animation:this.visitReference(V.animation,W),options:We(V.options)}}visitQuery(V,W){const he=W.currentQuerySelector,Ue=V.options||{};W.queryCount++,W.currentQuery=V;const[et,gt]=function(He){const V=!!He.split(/\s*,\s*/).find(W=>":self"==W);return V&&(He=He.replace(rn,"")),[He=He.replace(/@\*/g,sn).replace(/@\w+/g,W=>sn+"-"+W.substr(1)).replace(/:animating/g,at),V]}(V.selector);W.currentQuerySelector=he.length?he+" "+et:et,P(W.collectedStyles,W.currentQuerySelector,{});const St=yt(this,un(V.animation),W);return W.currentQuery=null,W.currentQuerySelector=he,{type:11,selector:et,limit:Ue.limit||0,optional:!!Ue.optional,includeSelf:gt,animation:St,originalSelector:V.selector,options:We(V.options)}}visitStagger(V,W){W.currentQuery||W.errors.push("stagger() can only be used inside of query()");const he="full"===V.timings?{duration:0,delay:0,easing:"full"}:$t(V.timings,W.errors,!0);return{type:12,animation:yt(this,un(V.animation),W),timings:he,options:null}}}class Dt{constructor(V){this.errors=V,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Oe(He){return!Array.isArray(He)&&"object"==typeof He}function We(He){return He?(He=Kn(He)).params&&(He.params=function(He){return He?Kn(He):null}(He.params)):He={},He}function bt(He,V,W){return{duration:He,delay:V,easing:W}}function Qt(He,V,W,he,Ue,et,gt=null,St=!1){return{type:1,element:He,keyframes:V,preStyleProps:W,postStyleProps:he,duration:Ue,delay:et,totalTime:Ue+et,easing:gt,subTimeline:St}}class Nn{constructor(){this._map=new Map}consume(V){let W=this._map.get(V);return W?this._map.delete(V):W=[],W}append(V,W){let he=this._map.get(V);he||this._map.set(V,he=[]),he.push(...W)}has(V){return this._map.has(V)}clear(){this._map.clear()}}const Ki=new RegExp(":enter","g"),Bi=new RegExp(":leave","g");function Di(He,V,W,he,Ue,et={},gt={},St,nn,vn=[]){return(new Cr).buildKeyframes(He,V,W,he,Ue,et,gt,St,nn,vn)}class Cr{buildKeyframes(V,W,he,Ue,et,gt,St,nn,vn,Hn=[]){vn=vn||new Nn;const li=new Qr(V,W,vn,Ue,et,Hn,[]);li.options=nn,li.currentTimeline.setStyles([gt],null,li.errors,nn),yt(this,he,li);const Ri=li.timelines.filter(Pi=>Pi.containsAnimation());if(Ri.length&&Object.keys(St).length){const Pi=Ri[Ri.length-1];Pi.allowOnlyTimelineStyles()||Pi.setStyles([St],null,li.errors,nn)}return Ri.length?Ri.map(Pi=>Pi.buildKeyframes()):[Qt(W,[],[],[],0,0,"",!1)]}visitTrigger(V,W){}visitState(V,W){}visitTransition(V,W){}visitAnimateChild(V,W){const he=W.subInstructions.consume(W.element);if(he){const Ue=W.createSubContext(V.options),et=W.currentTimeline.currentTime,gt=this._visitSubInstructions(he,Ue,Ue.options);et!=gt&&W.transformIntoNewTimeline(gt)}W.previousNode=V}visitAnimateRef(V,W){const he=W.createSubContext(V.options);he.transformIntoNewTimeline(),this.visitReference(V.animation,he),W.transformIntoNewTimeline(he.currentTimeline.currentTime),W.previousNode=V}_visitSubInstructions(V,W,he){let et=W.currentTimeline.currentTime;const gt=null!=he.duration?Vt(he.duration):null,St=null!=he.delay?Vt(he.delay):null;return 0!==gt&&V.forEach(nn=>{const vn=W.appendInstructionToTimeline(nn,gt,St);et=Math.max(et,vn.duration+vn.delay)}),et}visitReference(V,W){W.updateOptions(V.options,!0),yt(this,V.animation,W),W.previousNode=V}visitSequence(V,W){const he=W.subContextCount;let Ue=W;const et=V.options;if(et&&(et.params||et.delay)&&(Ue=W.createSubContext(et),Ue.transformIntoNewTimeline(),null!=et.delay)){6==Ue.previousNode.type&&(Ue.currentTimeline.snapshotCurrentStyles(),Ue.previousNode=Tr);const gt=Vt(et.delay);Ue.delayNextStep(gt)}V.steps.length&&(V.steps.forEach(gt=>yt(this,gt,Ue)),Ue.currentTimeline.applyStylesToKeyframe(),Ue.subContextCount>he&&Ue.transformIntoNewTimeline()),W.previousNode=V}visitGroup(V,W){const he=[];let Ue=W.currentTimeline.currentTime;const et=V.options&&V.options.delay?Vt(V.options.delay):0;V.steps.forEach(gt=>{const St=W.createSubContext(V.options);et&&St.delayNextStep(et),yt(this,gt,St),Ue=Math.max(Ue,St.currentTimeline.currentTime),he.push(St.currentTimeline)}),he.forEach(gt=>W.currentTimeline.mergeTimelineCollectedStyles(gt)),W.transformIntoNewTimeline(Ue),W.previousNode=V}_visitTiming(V,W){if(V.dynamic){const he=V.strValue;return $t(W.params?Ht(he,W.params,W.errors):he,W.errors)}return{duration:V.duration,delay:V.delay,easing:V.easing}}visitAnimate(V,W){const he=W.currentAnimateTimings=this._visitTiming(V.timings,W),Ue=W.currentTimeline;he.delay&&(W.incrementTime(he.delay),Ue.snapshotCurrentStyles());const et=V.style;5==et.type?this.visitKeyframes(et,W):(W.incrementTime(he.duration),this.visitStyle(et,W),Ue.applyStylesToKeyframe()),W.currentAnimateTimings=null,W.previousNode=V}visitStyle(V,W){const he=W.currentTimeline,Ue=W.currentAnimateTimings;!Ue&&he.getCurrentStyleProperties().length&&he.forwardFrame();const et=Ue&&Ue.easing||V.easing;V.isEmptyStep?he.applyEmptyStep(et):he.setStyles(V.styles,et,W.errors,W.options),W.previousNode=V}visitKeyframes(V,W){const he=W.currentAnimateTimings,Ue=W.currentTimeline.duration,et=he.duration,St=W.createSubContext().currentTimeline;St.easing=he.easing,V.styles.forEach(nn=>{St.forwardTime((nn.offset||0)*et),St.setStyles(nn.styles,nn.easing,W.errors,W.options),St.applyStylesToKeyframe()}),W.currentTimeline.mergeTimelineCollectedStyles(St),W.transformIntoNewTimeline(Ue+et),W.previousNode=V}visitQuery(V,W){const he=W.currentTimeline.currentTime,Ue=V.options||{},et=Ue.delay?Vt(Ue.delay):0;et&&(6===W.previousNode.type||0==he&&W.currentTimeline.getCurrentStyleProperties().length)&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Tr);let gt=he;const St=W.invokeQuery(V.selector,V.originalSelector,V.limit,V.includeSelf,!!Ue.optional,W.errors);W.currentQueryTotal=St.length;let nn=null;St.forEach((vn,Hn)=>{W.currentQueryIndex=Hn;const li=W.createSubContext(V.options,vn);et&&li.delayNextStep(et),vn===W.element&&(nn=li.currentTimeline),yt(this,V.animation,li),li.currentTimeline.applyStylesToKeyframe(),gt=Math.max(gt,li.currentTimeline.currentTime)}),W.currentQueryIndex=0,W.currentQueryTotal=0,W.transformIntoNewTimeline(gt),nn&&(W.currentTimeline.mergeTimelineCollectedStyles(nn),W.currentTimeline.snapshotCurrentStyles()),W.previousNode=V}visitStagger(V,W){const he=W.parentContext,Ue=W.currentTimeline,et=V.timings,gt=Math.abs(et.duration),St=gt*(W.currentQueryTotal-1);let nn=gt*W.currentQueryIndex;switch(et.duration<0?"reverse":et.easing){case"reverse":nn=St-nn;break;case"full":nn=he.currentStaggerTime}const Hn=W.currentTimeline;nn&&Hn.delayNextStep(nn);const li=Hn.currentTime;yt(this,V.animation,W),W.previousNode=V,he.currentStaggerTime=Ue.currentTime-li+(Ue.startTime-he.currentTimeline.startTime)}}const Tr={};class Qr{constructor(V,W,he,Ue,et,gt,St,nn){this._driver=V,this.element=W,this.subInstructions=he,this._enterClassName=Ue,this._leaveClassName=et,this.errors=gt,this.timelines=St,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nn||new sr(this._driver,W,0),St.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(V,W){if(!V)return;const he=V;let Ue=this.options;null!=he.duration&&(Ue.duration=Vt(he.duration)),null!=he.delay&&(Ue.delay=Vt(he.delay));const et=he.params;if(et){let gt=Ue.params;gt||(gt=this.options.params={}),Object.keys(et).forEach(St=>{(!W||!gt.hasOwnProperty(St))&&(gt[St]=Ht(et[St],gt,this.errors))})}}_copyOptions(){const V={};if(this.options){const W=this.options.params;if(W){const he=V.params={};Object.keys(W).forEach(Ue=>{he[Ue]=W[Ue]})}}return V}createSubContext(V=null,W,he){const Ue=W||this.element,et=new Qr(this._driver,Ue,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Ue,he||0));return et.previousNode=this.previousNode,et.currentAnimateTimings=this.currentAnimateTimings,et.options=this._copyOptions(),et.updateOptions(V),et.currentQueryIndex=this.currentQueryIndex,et.currentQueryTotal=this.currentQueryTotal,et.parentContext=this,this.subContextCount++,et}transformIntoNewTimeline(V){return this.previousNode=Tr,this.currentTimeline=this.currentTimeline.fork(this.element,V),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(V,W,he){const Ue={duration:null!=W?W:V.duration,delay:this.currentTimeline.currentTime+(null!=he?he:0)+V.delay,easing:""},et=new Pn(this._driver,V.element,V.keyframes,V.preStyleProps,V.postStyleProps,Ue,V.stretchStartingKeyframe);return this.timelines.push(et),Ue}incrementTime(V){this.currentTimeline.forwardTime(this.currentTimeline.duration+V)}delayNextStep(V){V>0&&this.currentTimeline.delayNextStep(V)}invokeQuery(V,W,he,Ue,et,gt){let St=[];if(Ue&&St.push(this.element),V.length>0){V=(V=V.replace(Ki,"."+this._enterClassName)).replace(Bi,"."+this._leaveClassName);let vn=this._driver.query(this.element,V,1!=he);0!==he&&(vn=he<0?vn.slice(vn.length+he,vn.length):vn.slice(0,he)),St.push(...vn)}return!et&&0==St.length&&gt.push(`\`query("${W}")\` returned zero elements. (Use \`query("${W}", { optional: true })\` if you wish to allow this.)`),St}}class sr{constructor(V,W,he,Ue){this._driver=V,this.element=W,this.startTime=he,this._elementTimelineStylesLookup=Ue,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(W),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(W,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(V){const W=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||W?(this.forwardTime(this.currentTime+V),W&&this.snapshotCurrentStyles()):this.startTime+=V}fork(V,W){return this.applyStylesToKeyframe(),new sr(this._driver,V,W||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(V){this.applyStylesToKeyframe(),this.duration=V,this._loadKeyframe()}_updateStyle(V,W){this._localTimelineStyles[V]=W,this._globalTimelineStyles[V]=W,this._styleSummary[V]={time:this.currentTime,value:W}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(V){V&&(this._previousKeyframe.easing=V),Object.keys(this._globalTimelineStyles).forEach(W=>{this._backFill[W]=this._globalTimelineStyles[W]||t.l3,this._currentKeyframe[W]=t.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(V,W,he,Ue){W&&(this._previousKeyframe.easing=W);const et=Ue&&Ue.params||{},gt=function(He,V){const W={};let he;return He.forEach(Ue=>{"*"===Ue?(he=he||Object.keys(V),he.forEach(et=>{W[et]=t.l3})):dn(Ue,!1,W)}),W}(V,this._globalTimelineStyles);Object.keys(gt).forEach(St=>{const nn=Ht(gt[St],et,he);this._pendingStyles[St]=nn,this._localTimelineStyles.hasOwnProperty(St)||(this._backFill[St]=this._globalTimelineStyles.hasOwnProperty(St)?this._globalTimelineStyles[St]:t.l3),this._updateStyle(St,nn)})}applyStylesToKeyframe(){const V=this._pendingStyles,W=Object.keys(V);0!=W.length&&(this._pendingStyles={},W.forEach(he=>{this._currentKeyframe[he]=V[he]}),Object.keys(this._localTimelineStyles).forEach(he=>{this._currentKeyframe.hasOwnProperty(he)||(this._currentKeyframe[he]=this._localTimelineStyles[he])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(V=>{const W=this._localTimelineStyles[V];this._pendingStyles[V]=W,this._updateStyle(V,W)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const V=[];for(let W in this._currentKeyframe)V.push(W);return V}mergeTimelineCollectedStyles(V){Object.keys(V._styleSummary).forEach(W=>{const he=this._styleSummary[W],Ue=V._styleSummary[W];(!he||Ue.time>he.time)&&this._updateStyle(W,Ue.value)})}buildKeyframes(){this.applyStylesToKeyframe();const V=new Set,W=new Set,he=1===this._keyframes.size&&0===this.duration;let Ue=[];this._keyframes.forEach((St,nn)=>{const vn=dn(St,!0);Object.keys(vn).forEach(Hn=>{const li=vn[Hn];li==t.k1?V.add(Hn):li==t.l3&&W.add(Hn)}),he||(vn.offset=nn/this.duration),Ue.push(vn)});const et=V.size?Je(V.values()):[],gt=W.size?Je(W.values()):[];if(he){const St=Ue[0],nn=Kn(St);St.offset=0,nn.offset=1,Ue=[St,nn]}return Qt(this.element,Ue,et,gt,this.duration,this.startTime,this.easing,!1)}}class Pn extends sr{constructor(V,W,he,Ue,et,gt,St=!1){super(V,W,gt.delay),this.keyframes=he,this.preStyleProps=Ue,this.postStyleProps=et,this._stretchStartingKeyframe=St,this.timings={duration:gt.duration,delay:gt.delay,easing:gt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let V=this.keyframes,{delay:W,duration:he,easing:Ue}=this.timings;if(this._stretchStartingKeyframe&&W){const et=[],gt=he+W,St=W/gt,nn=dn(V[0],!1);nn.offset=0,et.push(nn);const vn=dn(V[0],!1);vn.offset=gi(St),et.push(vn);const Hn=V.length-1;for(let li=1;li<=Hn;li++){let Ri=dn(V[li],!1);Ri.offset=gi((W+Ri.offset*he)/gt),et.push(Ri)}he=gt,W=0,Ue="",V=et}return Qt(this.element,V,this.preStyleProps,this.postStyleProps,he,W,Ue,!0)}}function gi(He,V=3){const W=Math.pow(10,V-1);return Math.round(He*W)/W}class qr{}class kr extends qr{normalizePropertyName(V,W){return re(V)}normalizeStyleValue(V,W,he,Ue){let et="";const gt=he.toString().trim();if(uo[W]&&0!==he&&"0"!==he)if("number"==typeof he)et="px";else{const St=he.match(/^[+-]?[\d\.]+([a-z]*)$/);St&&0==St[1].length&&Ue.push(`Please provide a CSS unit value for ${V}:${he}`)}return gt+et}}const uo=(()=>function(He){const V={};return He.forEach(W=>V[W]=!0),V}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pi(He,V,W,he,Ue,et,gt,St,nn,vn,Hn,li,Ri){return{type:0,element:He,triggerName:V,isRemovalTransition:Ue,fromState:W,fromStyles:et,toState:he,toStyles:gt,timelines:St,queriedElements:nn,preStyleProps:vn,postStyleProps:Hn,totalTime:li,errors:Ri}}const Gt={};class Pt{constructor(V,W,he){this._triggerName=V,this.ast=W,this._stateStyles=he}match(V,W,he,Ue){return function(He,V,W,he,Ue){return He.some(et=>et(V,W,he,Ue))}(this.ast.matchers,V,W,he,Ue)}buildStyles(V,W,he){const Ue=this._stateStyles["*"],et=this._stateStyles[V],gt=Ue?Ue.buildStyles(W,he):{};return et?et.buildStyles(W,he):gt}build(V,W,he,Ue,et,gt,St,nn,vn,Hn){const li=[],Ri=this.ast.options&&this.ast.options.params||Gt,mi=this.buildStyles(he,St&&St.params||Gt,li),yi=nn&&nn.params||Gt,Hi=this.buildStyles(Ue,yi,li),Rr=new Set,Fr=new Map,xr=new Map,nr="void"===Ue,hs={params:Object.assign(Object.assign({},Ri),yi)},Ts=Hn?[]:Di(V,W,this.ast.animation,et,gt,mi,Hi,hs,vn,li);let go=0;if(Ts.forEach(ws=>{go=Math.max(ws.duration+ws.delay,go)}),li.length)return pi(W,this._triggerName,he,Ue,nr,mi,Hi,[],[],Fr,xr,go,li);Ts.forEach(ws=>{const So=ws.element,$l=P(Fr,So,{});ws.preStyleProps.forEach(Ar=>$l[Ar]=!0);const oa=P(xr,So,{});ws.postStyleProps.forEach(Ar=>oa[Ar]=!0),So!==W&&Rr.add(So)});const es=Je(Rr.values());return pi(W,this._triggerName,he,Ue,nr,mi,Hi,Ts,es,Fr,xr,go)}}class qt{constructor(V,W,he){this.styles=V,this.defaultParams=W,this.normalizer=he}buildStyles(V,W){const he={},Ue=Kn(this.defaultParams);return Object.keys(V).forEach(et=>{const gt=V[et];null!=gt&&(Ue[et]=gt)}),this.styles.styles.forEach(et=>{if("string"!=typeof et){const gt=et;Object.keys(gt).forEach(St=>{let nn=gt[St];nn.length>1&&(nn=Ht(nn,Ue,W));const vn=this.normalizer.normalizePropertyName(St,W);nn=this.normalizer.normalizeStyleValue(St,vn,nn,W),he[vn]=nn})}}),he}}class ii{constructor(V,W,he){this.name=V,this.ast=W,this._normalizer=he,this.transitionFactories=[],this.states={},W.states.forEach(Ue=>{this.states[Ue.name]=new qt(Ue.style,Ue.options&&Ue.options.params||{},he)}),Ii(this.states,"true","1"),Ii(this.states,"false","0"),W.transitions.forEach(Ue=>{this.transitionFactories.push(new Pt(V,Ue,this.states))}),this.fallbackTransition=function(He,V,W){return new Pt(He,{type:1,animation:{type:2,steps:[],options:null},matchers:[(gt,St)=>!0],options:null,queryCount:0,depCount:0},V)}(V,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(V,W,he,Ue){return this.transitionFactories.find(gt=>gt.match(V,W,he,Ue))||null}matchStyles(V,W,he){return this.fallbackTransition.buildStyles(V,W,he)}}function Ii(He,V,W){He.hasOwnProperty(V)?He.hasOwnProperty(W)||(He[W]=He[V]):He.hasOwnProperty(W)&&(He[V]=He[W])}const ai=new Nn;class ro{constructor(V,W,he){this.bodyNode=V,this._driver=W,this._normalizer=he,this._animations={},this._playersById={},this.players=[]}register(V,W){const he=[],Ue=Cn(this._driver,W,he);if(he.length)throw new Error(`Unable to build the animation due to the following errors: ${he.join("\n")}`);this._animations[V]=Ue}_buildPlayer(V,W,he){const Ue=V.element,et=f(0,this._normalizer,0,V.keyframes,W,he);return this._driver.animate(Ue,et,V.duration,V.delay,V.easing,[],!0)}create(V,W,he={}){const Ue=[],et=this._animations[V];let gt;const St=new Map;if(et?(gt=Di(this._driver,W,et,Lt,Jt,{},{},he,ai,Ue),gt.forEach(Hn=>{const li=P(St,Hn.element,{});Hn.postStyleProps.forEach(Ri=>li[Ri]=null)})):(Ue.push("The requested animation doesn't exist or has already been destroyed"),gt=[]),Ue.length)throw new Error(`Unable to create the animation due to the following errors: ${Ue.join("\n")}`);St.forEach((Hn,li)=>{Object.keys(Hn).forEach(Ri=>{Hn[Ri]=this._driver.computeStyle(li,Ri,t.l3)})});const vn=s(gt.map(Hn=>{const li=St.get(Hn.element);return this._buildPlayer(Hn,{},li)}));return this._playersById[V]=vn,vn.onDestroy(()=>this.destroy(V)),this.players.push(vn),vn}destroy(V){const W=this._getPlayer(V);W.destroy(),delete this._playersById[V];const he=this.players.indexOf(W);he>=0&&this.players.splice(he,1)}_getPlayer(V){const W=this._playersById[V];if(!W)throw new Error(`Unable to find the timeline player referenced by ${V}`);return W}listen(V,W,he,Ue){const et=A(W,"","","");return y(this._getPlayer(V),he,et,Ue),()=>{}}command(V,W,he,Ue){if("register"==he)return void this.register(V,Ue[0]);if("create"==he)return void this.create(V,W,Ue[0]||{});const et=this._getPlayer(V);switch(he){case"play":et.play();break;case"pause":et.pause();break;case"reset":et.reset();break;case"restart":et.restart();break;case"finish":et.finish();break;case"init":et.init();break;case"setPosition":et.setPosition(parseFloat(Ue[0]));break;case"destroy":this.destroy(V)}}}const Uo="ng-animate-queued",po="ng-animate-disabled",di=".ng-animate-disabled",Mr=[],xo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ur="__ng_removed";class Yr{constructor(V,W=""){this.namespaceId=W;const he=V&&V.hasOwnProperty("value");if(this.value=null!=(He=he?V.value:V)?He:null,he){const et=Kn(V);delete et.value,this.options=et}else this.options={};var He;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(V){const W=V.params;if(W){const he=this.options.params;Object.keys(W).forEach(Ue=>{null==he[Ue]&&(he[Ue]=W[Ue])})}}}const Lr="void",fo=new Yr(Lr);class wo{constructor(V,W,he){this.id=V,this.hostElement=W,this._engine=he,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+V,Wr(W,this._hostClassName)}listen(V,W,he,Ue){if(!this._triggers.hasOwnProperty(W))throw new Error(`Unable to listen on the animation trigger event "${he}" because the animation trigger "${W}" doesn't exist!`);if(null==he||0==he.length)throw new Error(`Unable to listen on the animation trigger "${W}" because the provided event is undefined!`);if("start"!=(He=he)&&"done"!=He)throw new Error(`The provided animation trigger event "${he}" for the animation trigger "${W}" is not supported!`);var He;const et=P(this._elementListeners,V,[]),gt={name:W,phase:he,callback:Ue};et.push(gt);const St=P(this._engine.statesByElement,V,{});return St.hasOwnProperty(W)||(Wr(V,Et),Wr(V,Et+"-"+W),St[W]=fo),()=>{this._engine.afterFlush(()=>{const nn=et.indexOf(gt);nn>=0&&et.splice(nn,1),this._triggers[W]||delete St[W]})}}register(V,W){return!this._triggers[V]&&(this._triggers[V]=W,!0)}_getTrigger(V){const W=this._triggers[V];if(!W)throw new Error(`The provided animation trigger "${V}" has not been registered!`);return W}trigger(V,W,he,Ue=!0){const et=this._getTrigger(W),gt=new ar(this.id,W,V);let St=this._engine.statesByElement.get(V);St||(Wr(V,Et),Wr(V,Et+"-"+W),this._engine.statesByElement.set(V,St={}));let nn=St[W];const vn=new Yr(he,this.id);if(!(he&&he.hasOwnProperty("value"))&&nn&&vn.absorbOptions(nn.options),St[W]=vn,nn||(nn=fo),vn.value!==Lr&&nn.value===vn.value){if(!function(He,V){const W=Object.keys(He),he=Object.keys(V);if(W.length!=he.length)return!1;for(let Ue=0;Ue<W.length;Ue++){const et=W[Ue];if(!V.hasOwnProperty(et)||He[et]!==V[et])return!1}return!0}(nn.params,vn.params)){const yi=[],Hi=et.matchStyles(nn.value,nn.params,yi),Rr=et.matchStyles(vn.value,vn.params,yi);yi.length?this._engine.reportError(yi):this._engine.afterFlush(()=>{it(V,Hi),Fe(V,Rr)})}return}const Ri=P(this._engine.playersByElement,V,[]);Ri.forEach(yi=>{yi.namespaceId==this.id&&yi.triggerName==W&&yi.queued&&yi.destroy()});let Pi=et.matchTransition(nn.value,vn.value,V,vn.params),mi=!1;if(!Pi){if(!Ue)return;Pi=et.fallbackTransition,mi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:V,triggerName:W,transition:Pi,fromState:nn,toState:vn,player:gt,isFallbackTransition:mi}),mi||(Wr(V,Uo),gt.onStart(()=>{lr(V,Uo)})),gt.onDone(()=>{let yi=this.players.indexOf(gt);yi>=0&&this.players.splice(yi,1);const Hi=this._engine.playersByElement.get(V);if(Hi){let Rr=Hi.indexOf(gt);Rr>=0&&Hi.splice(Rr,1)}}),this.players.push(gt),Ri.push(gt),gt}deregister(V){delete this._triggers[V],this._engine.statesByElement.forEach((W,he)=>{delete W[V]}),this._elementListeners.forEach((W,he)=>{this._elementListeners.set(he,W.filter(Ue=>Ue.name!=V))})}clearElementCache(V){this._engine.statesByElement.delete(V),this._elementListeners.delete(V);const W=this._engine.playersByElement.get(V);W&&(W.forEach(he=>he.destroy()),this._engine.playersByElement.delete(V))}_signalRemovalForInnerTriggers(V,W){const he=this._engine.driver.query(V,sn,!0);he.forEach(Ue=>{if(Ue[ur])return;const et=this._engine.fetchNamespacesByElement(Ue);et.size?et.forEach(gt=>gt.triggerLeaveAnimation(Ue,W,!1,!0)):this.clearElementCache(Ue)}),this._engine.afterFlushAnimationsDone(()=>he.forEach(Ue=>this.clearElementCache(Ue)))}triggerLeaveAnimation(V,W,he,Ue){const et=this._engine.statesByElement.get(V);if(et){const gt=[];if(Object.keys(et).forEach(St=>{if(this._triggers[St]){const nn=this.trigger(V,St,Lr,Ue);nn&&gt.push(nn)}}),gt.length)return this._engine.markElementAsRemoved(this.id,V,!0,W),he&&s(gt).onDone(()=>this._engine.processLeaveNode(V)),!0}return!1}prepareLeaveAnimationListeners(V){const W=this._elementListeners.get(V),he=this._engine.statesByElement.get(V);if(W&&he){const Ue=new Set;W.forEach(et=>{const gt=et.name;if(Ue.has(gt))return;Ue.add(gt);const nn=this._triggers[gt].fallbackTransition,vn=he[gt]||fo,Hn=new Yr(Lr),li=new ar(this.id,gt,V);this._engine.totalQueuedPlayers++,this._queue.push({element:V,triggerName:gt,transition:nn,fromState:vn,toState:Hn,player:li,isFallbackTransition:!0})})}}removeNode(V,W){const he=this._engine;if(V.childElementCount&&this._signalRemovalForInnerTriggers(V,W),this.triggerLeaveAnimation(V,W,!0))return;let Ue=!1;if(he.totalAnimations){const et=he.players.length?he.playersByQueriedElement.get(V):[];if(et&&et.length)Ue=!0;else{let gt=V;for(;gt=gt.parentNode;)if(he.statesByElement.get(gt)){Ue=!0;break}}}if(this.prepareLeaveAnimationListeners(V),Ue)he.markElementAsRemoved(this.id,V,!1,W);else{const et=V[ur];(!et||et===xo)&&(he.afterFlush(()=>this.clearElementCache(V)),he.destroyInnerAnimations(V),he._onRemovalComplete(V,W))}}insertNode(V,W){Wr(V,this._hostClassName)}drainQueuedTransitions(V){const W=[];return this._queue.forEach(he=>{const Ue=he.player;if(Ue.destroyed)return;const et=he.element,gt=this._elementListeners.get(et);gt&&gt.forEach(St=>{if(St.name==he.triggerName){const nn=A(et,he.triggerName,he.fromState.value,he.toState.value);nn._data=V,y(he.player,St.phase,nn,St.callback)}}),Ue.markedForDestroy?this._engine.afterFlush(()=>{Ue.destroy()}):W.push(he)}),this._queue=[],W.sort((he,Ue)=>{const et=he.transition.ast.depCount,gt=Ue.transition.ast.depCount;return 0==et||0==gt?et-gt:this._engine.driver.containsElement(he.element,Ue.element)?1:-1})}destroy(V){this.players.forEach(W=>W.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,V)}elementContainsData(V){let W=!1;return this._elementListeners.has(V)&&(W=!0),W=!!this._queue.find(he=>he.element===V)||W,W}}class oo{constructor(V,W,he){this.bodyNode=V,this.driver=W,this._normalizer=he,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Ue,et)=>{}}_onRemovalComplete(V,W){this.onRemovalComplete(V,W)}get queuedPlayers(){const V=[];return this._namespaceList.forEach(W=>{W.players.forEach(he=>{he.queued&&V.push(he)})}),V}createNamespace(V,W){const he=new wo(V,W,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,W)?this._balanceNamespaceList(he,W):(this.newHostElements.set(W,he),this.collectEnterElement(W)),this._namespaceLookup[V]=he}_balanceNamespaceList(V,W){const he=this._namespaceList.length-1;if(he>=0){let Ue=!1;for(let et=he;et>=0;et--)if(this.driver.containsElement(this._namespaceList[et].hostElement,W)){this._namespaceList.splice(et+1,0,V),Ue=!0;break}Ue||this._namespaceList.splice(0,0,V)}else this._namespaceList.push(V);return this.namespacesByHostElement.set(W,V),V}register(V,W){let he=this._namespaceLookup[V];return he||(he=this.createNamespace(V,W)),he}registerTrigger(V,W,he){let Ue=this._namespaceLookup[V];Ue&&Ue.register(W,he)&&this.totalAnimations++}destroy(V,W){if(!V)return;const he=this._fetchNamespace(V);this.afterFlush(()=>{this.namespacesByHostElement.delete(he.hostElement),delete this._namespaceLookup[V];const Ue=this._namespaceList.indexOf(he);Ue>=0&&this._namespaceList.splice(Ue,1)}),this.afterFlushAnimationsDone(()=>he.destroy(W))}_fetchNamespace(V){return this._namespaceLookup[V]}fetchNamespacesByElement(V){const W=new Set,he=this.statesByElement.get(V);if(he){const Ue=Object.keys(he);for(let et=0;et<Ue.length;et++){const gt=he[Ue[et]].namespaceId;if(gt){const St=this._fetchNamespace(gt);St&&W.add(St)}}}return W}trigger(V,W,he,Ue){if(Po(W)){const et=this._fetchNamespace(V);if(et)return et.trigger(W,he,Ue),!0}return!1}insertNode(V,W,he,Ue){if(!Po(W))return;const et=W[ur];if(et&&et.setForRemoval){et.setForRemoval=!1,et.setForMove=!0;const gt=this.collectedLeaveElements.indexOf(W);gt>=0&&this.collectedLeaveElements.splice(gt,1)}if(V){const gt=this._fetchNamespace(V);gt&&gt.insertNode(W,he)}Ue&&this.collectEnterElement(W)}collectEnterElement(V){this.collectedEnterElements.push(V)}markElementAsDisabled(V,W){W?this.disabledNodes.has(V)||(this.disabledNodes.add(V),Wr(V,po)):this.disabledNodes.has(V)&&(this.disabledNodes.delete(V),lr(V,po))}removeNode(V,W,he,Ue){if(Po(W)){const et=V?this._fetchNamespace(V):null;if(et?et.removeNode(W,Ue):this.markElementAsRemoved(V,W,!1,Ue),he){const gt=this.namespacesByHostElement.get(W);gt&&gt.id!==V&&gt.removeNode(W,Ue)}}else this._onRemovalComplete(W,Ue)}markElementAsRemoved(V,W,he,Ue){this.collectedLeaveElements.push(W),W[ur]={namespaceId:V,setForRemoval:Ue,hasAnimation:he,removedBeforeQueried:!1}}listen(V,W,he,Ue,et){return Po(W)?this._fetchNamespace(V).listen(W,he,Ue,et):()=>{}}_buildInstruction(V,W,he,Ue,et){return V.transition.build(this.driver,V.element,V.fromState.value,V.toState.value,he,Ue,V.fromState.options,V.toState.options,W,et)}destroyInnerAnimations(V){let W=this.driver.query(V,sn,!0);W.forEach(he=>this.destroyActiveAnimationsForElement(he)),0!=this.playersByQueriedElement.size&&(W=this.driver.query(V,at,!0),W.forEach(he=>this.finishActiveQueriedAnimationOnElement(he)))}destroyActiveAnimationsForElement(V){const W=this.playersByElement.get(V);W&&W.forEach(he=>{he.queued?he.markedForDestroy=!0:he.destroy()})}finishActiveQueriedAnimationOnElement(V){const W=this.playersByQueriedElement.get(V);W&&W.forEach(he=>he.finish())}whenRenderingDone(){return new Promise(V=>{if(this.players.length)return s(this.players).onDone(()=>V());V()})}processLeaveNode(V){const W=V[ur];if(W&&W.setForRemoval){if(V[ur]=xo,W.namespaceId){this.destroyInnerAnimations(V);const he=this._fetchNamespace(W.namespaceId);he&&he.clearElementCache(V)}this._onRemovalComplete(V,W.setForRemoval)}this.driver.matchesElement(V,di)&&this.markElementAsDisabled(V,!1),this.driver.query(V,di,!0).forEach(he=>{this.markElementAsDisabled(he,!1)})}flush(V=-1){let W=[];if(this.newHostElements.size&&(this.newHostElements.forEach((he,Ue)=>this._balanceNamespaceList(he,Ue)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let he=0;he<this.collectedEnterElements.length;he++)Wr(this.collectedEnterElements[he],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const he=[];try{W=this._flushAnimations(he,V)}finally{for(let Ue=0;Ue<he.length;Ue++)he[Ue]()}}else for(let he=0;he<this.collectedLeaveElements.length;he++)this.processLeaveNode(this.collectedLeaveElements[he]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(he=>he()),this._flushFns=[],this._whenQuietFns.length){const he=this._whenQuietFns;this._whenQuietFns=[],W.length?s(W).onDone(()=>{he.forEach(Ue=>Ue())}):he.forEach(Ue=>Ue())}}reportError(V){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${V.join("\n")}`)}_flushAnimations(V,W){const he=new Nn,Ue=[],et=new Map,gt=[],St=new Map,nn=new Map,vn=new Map,Hn=new Set;this.disabledNodes.forEach(ei=>{Hn.add(ei);const hi=this.driver.query(ei,".ng-animate-queued",!0);for(let Ci=0;Ci<hi.length;Ci++)Hn.add(hi[Ci])});const li=this.bodyNode,Ri=Array.from(this.statesByElement.keys()),Pi=fa(Ri,this.collectedEnterElements),mi=new Map;let yi=0;Pi.forEach((ei,hi)=>{const Ci=Lt+yi++;mi.set(hi,Ci),ei.forEach(Qi=>Wr(Qi,Ci))});const Hi=[],Rr=new Set,Fr=new Set;for(let ei=0;ei<this.collectedLeaveElements.length;ei++){const hi=this.collectedLeaveElements[ei],Ci=hi[ur];Ci&&Ci.setForRemoval&&(Hi.push(hi),Rr.add(hi),Ci.hasAnimation?this.driver.query(hi,".ng-star-inserted",!0).forEach(Qi=>Rr.add(Qi)):Fr.add(hi))}const xr=new Map,nr=fa(Ri,Array.from(Rr));nr.forEach((ei,hi)=>{const Ci=Jt+yi++;xr.set(hi,Ci),ei.forEach(Qi=>Wr(Qi,Ci))}),V.push(()=>{Pi.forEach((ei,hi)=>{const Ci=mi.get(hi);ei.forEach(Qi=>lr(Qi,Ci))}),nr.forEach((ei,hi)=>{const Ci=xr.get(hi);ei.forEach(Qi=>lr(Qi,Ci))}),Hi.forEach(ei=>{this.processLeaveNode(ei)})});const hs=[],Ts=[];for(let ei=this._namespaceList.length-1;ei>=0;ei--)this._namespaceList[ei].drainQueuedTransitions(W).forEach(Ci=>{const Qi=Ci.player,mo=Ci.element;if(hs.push(Qi),this.collectedEnterElements.length){const zo=mo[ur];if(zo&&zo.setForMove)return void Qi.destroy()}const jo=!li||!this.driver.containsElement(li,mo),ao=xr.get(mo),Ir=mi.get(mo),wr=this._buildInstruction(Ci,he,Ir,ao,jo);if(wr.errors&&wr.errors.length)Ts.push(wr);else{if(jo)return Qi.onStart(()=>it(mo,wr.fromStyles)),Qi.onDestroy(()=>Fe(mo,wr.toStyles)),void Ue.push(Qi);if(Ci.isFallbackTransition)return Qi.onStart(()=>it(mo,wr.fromStyles)),Qi.onDestroy(()=>Fe(mo,wr.toStyles)),void Ue.push(Qi);wr.timelines.forEach(zo=>zo.stretchStartingKeyframe=!0),he.append(mo,wr.timelines),gt.push({instruction:wr,player:Qi,element:mo}),wr.queriedElements.forEach(zo=>P(St,zo,[]).push(Qi)),wr.preStyleProps.forEach((zo,ps)=>{const eo=Object.keys(zo);if(eo.length){let ts=nn.get(ps);ts||nn.set(ps,ts=new Set),eo.forEach(Ga=>ts.add(Ga))}}),wr.postStyleProps.forEach((zo,ps)=>{const eo=Object.keys(zo);let ts=vn.get(ps);ts||vn.set(ps,ts=new Set),eo.forEach(Ga=>ts.add(Ga))})}});if(Ts.length){const ei=[];Ts.forEach(hi=>{ei.push(`@${hi.triggerName} has failed due to:\n`),hi.errors.forEach(Ci=>ei.push(`- ${Ci}\n`))}),hs.forEach(hi=>hi.destroy()),this.reportError(ei)}const go=new Map,es=new Map;gt.forEach(ei=>{const hi=ei.element;he.has(hi)&&(es.set(hi,hi),this._beforeAnimationBuild(ei.player.namespaceId,ei.instruction,go))}),Ue.forEach(ei=>{const hi=ei.element;this._getPreviousPlayers(hi,!1,ei.namespaceId,ei.triggerName,null).forEach(Qi=>{P(go,hi,[]).push(Qi),Qi.destroy()})});const ws=Hi.filter(ei=>ls(ei,nn,vn)),So=new Map;pa(So,this.driver,Fr,vn,t.l3).forEach(ei=>{ls(ei,nn,vn)&&ws.push(ei)});const oa=new Map;Pi.forEach((ei,hi)=>{pa(oa,this.driver,new Set(ei),nn,t.k1)}),ws.forEach(ei=>{const hi=So.get(ei),Ci=oa.get(ei);So.set(ei,Object.assign(Object.assign({},hi),Ci))});const Ar=[],Qs=[],dr={};gt.forEach(ei=>{const{element:hi,player:Ci,instruction:Qi}=ei;if(he.has(hi)){if(Hn.has(hi))return Ci.onDestroy(()=>Fe(hi,Qi.toStyles)),Ci.disabled=!0,Ci.overrideTotalTime(Qi.totalTime),void Ue.push(Ci);let mo=dr;if(es.size>1){let ao=hi;const Ir=[];for(;ao=ao.parentNode;){const wr=es.get(ao);if(wr){mo=wr;break}Ir.push(ao)}Ir.forEach(wr=>es.set(wr,mo))}const jo=this._buildAnimation(Ci.namespaceId,Qi,go,et,oa,So);if(Ci.setRealPlayer(jo),mo===dr)Ar.push(Ci);else{const ao=this.playersByElement.get(mo);ao&&ao.length&&(Ci.parentPlayer=s(ao)),Ue.push(Ci)}}else it(hi,Qi.fromStyles),Ci.onDestroy(()=>Fe(hi,Qi.toStyles)),Qs.push(Ci),Hn.has(hi)&&Ue.push(Ci)}),Qs.forEach(ei=>{const hi=et.get(ei.element);if(hi&&hi.length){const Ci=s(hi);ei.setRealPlayer(Ci)}}),Ue.forEach(ei=>{ei.parentPlayer?ei.syncPlayerEvents(ei.parentPlayer):ei.destroy()});for(let ei=0;ei<Hi.length;ei++){const hi=Hi[ei],Ci=hi[ur];if(lr(hi,Jt),Ci&&Ci.hasAnimation)continue;let Qi=[];if(St.size){let jo=St.get(hi);jo&&jo.length&&Qi.push(...jo);let ao=this.driver.query(hi,at,!0);for(let Ir=0;Ir<ao.length;Ir++){let wr=St.get(ao[Ir]);wr&&wr.length&&Qi.push(...wr)}}const mo=Qi.filter(jo=>!jo.destroyed);mo.length?_r(this,hi,mo):this.processLeaveNode(hi)}return Hi.length=0,Ar.forEach(ei=>{this.players.push(ei),ei.onDone(()=>{ei.destroy();const hi=this.players.indexOf(ei);this.players.splice(hi,1)}),ei.play()}),Ar}elementContainsData(V,W){let he=!1;const Ue=W[ur];return Ue&&Ue.setForRemoval&&(he=!0),this.playersByElement.has(W)&&(he=!0),this.playersByQueriedElement.has(W)&&(he=!0),this.statesByElement.has(W)&&(he=!0),this._fetchNamespace(V).elementContainsData(W)||he}afterFlush(V){this._flushFns.push(V)}afterFlushAnimationsDone(V){this._whenQuietFns.push(V)}_getPreviousPlayers(V,W,he,Ue,et){let gt=[];if(W){const St=this.playersByQueriedElement.get(V);St&&(gt=St)}else{const St=this.playersByElement.get(V);if(St){const nn=!et||et==Lr;St.forEach(vn=>{vn.queued||!nn&&vn.triggerName!=Ue||gt.push(vn)})}}return(he||Ue)&&(gt=gt.filter(St=>!(he&&he!=St.namespaceId||Ue&&Ue!=St.triggerName))),gt}_beforeAnimationBuild(V,W,he){const et=W.element,gt=W.isRemovalTransition?void 0:V,St=W.isRemovalTransition?void 0:W.triggerName;for(const nn of W.timelines){const vn=nn.element,Hn=vn!==et,li=P(he,vn,[]);this._getPreviousPlayers(vn,Hn,gt,St,W.toState).forEach(Pi=>{const mi=Pi.getRealPlayer();mi.beforeDestroy&&mi.beforeDestroy(),Pi.destroy(),li.push(Pi)})}it(et,W.fromStyles)}_buildAnimation(V,W,he,Ue,et,gt){const St=W.triggerName,nn=W.element,vn=[],Hn=new Set,li=new Set,Ri=W.timelines.map(mi=>{const yi=mi.element;Hn.add(yi);const Hi=yi[ur];if(Hi&&Hi.removedBeforeQueried)return new t.ZN(mi.duration,mi.delay);const Rr=yi!==nn,Fr=function(He){const V=[];return as(He,V),V}((he.get(yi)||Mr).map(go=>go.getRealPlayer())).filter(go=>!!go.element&&go.element===yi),xr=et.get(yi),nr=gt.get(yi),hs=f(0,this._normalizer,0,mi.keyframes,xr,nr),Ts=this._buildPlayer(mi,hs,Fr);if(mi.subTimeline&&Ue&&li.add(yi),Rr){const go=new ar(V,St,yi);go.setRealPlayer(Ts),vn.push(go)}return Ts});vn.forEach(mi=>{P(this.playersByQueriedElement,mi.element,[]).push(mi),mi.onDone(()=>function(He,V,W){let he;if(He instanceof Map){if(he=He.get(V),he){if(he.length){const Ue=he.indexOf(W);he.splice(Ue,1)}0==he.length&&He.delete(V)}}else if(he=He[V],he){if(he.length){const Ue=he.indexOf(W);he.splice(Ue,1)}0==he.length&&delete He[V]}return he}(this.playersByQueriedElement,mi.element,mi))}),Hn.forEach(mi=>Wr(mi,rt));const Pi=s(Ri);return Pi.onDestroy(()=>{Hn.forEach(mi=>lr(mi,rt)),Fe(nn,W.toStyles)}),li.forEach(mi=>{P(Ue,mi,[]).push(Pi)}),Pi}_buildPlayer(V,W,he){return W.length>0?this.driver.animate(V.element,W,V.duration,V.delay,V.easing,he):new t.ZN(V.duration,V.delay)}}class ar{constructor(V,W,he){this.namespaceId=V,this.triggerName=W,this.element=he,this._player=new t.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(V){this._containsRealPlayer||(this._player=V,Object.keys(this._queuedCallbacks).forEach(W=>{this._queuedCallbacks[W].forEach(he=>y(V,W,void 0,he))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(V.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(V){this.totalTime=V}syncPlayerEvents(V){const W=this._player;W.triggerCallback&&V.onStart(()=>W.triggerCallback("start")),V.onDone(()=>this.finish()),V.onDestroy(()=>this.destroy())}_queueEvent(V,W){P(this._queuedCallbacks,V,[]).push(W)}onDone(V){this.queued&&this._queueEvent("done",V),this._player.onDone(V)}onStart(V){this.queued&&this._queueEvent("start",V),this._player.onStart(V)}onDestroy(V){this.queued&&this._queueEvent("destroy",V),this._player.onDestroy(V)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(V){this.queued||this._player.setPosition(V)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(V){const W=this._player;W.triggerCallback&&W.triggerCallback(V)}}function Po(He){return He&&1===He.nodeType}function na(He,V){const W=He.style.display;return He.style.display=null!=V?V:"none",W}function pa(He,V,W,he,Ue){const et=[];W.forEach(nn=>et.push(na(nn)));const gt=[];he.forEach((nn,vn)=>{const Hn={};nn.forEach(li=>{const Ri=Hn[li]=V.computeStyle(vn,li,Ue);(!Ri||0==Ri.length)&&(vn[ur]=zr,gt.push(vn))}),He.set(vn,Hn)});let St=0;return W.forEach(nn=>na(nn,et[St++])),gt}function fa(He,V){const W=new Map;if(He.forEach(St=>W.set(St,[])),0==V.length)return W;const Ue=new Set(V),et=new Map;function gt(St){if(!St)return 1;let nn=et.get(St);if(nn)return nn;const vn=St.parentNode;return nn=W.has(vn)?vn:Ue.has(vn)?1:gt(vn),et.set(St,nn),nn}return V.forEach(St=>{const nn=gt(St);1!==nn&&W.get(nn).push(St)}),W}const vs="$$classes";function Wr(He,V){if(He.classList)He.classList.add(V);else{let W=He[vs];W||(W=He[vs]={}),W[V]=!0}}function lr(He,V){if(He.classList)He.classList.remove(V);else{let W=He[vs];W&&delete W[V]}}function _r(He,V,W){s(W).onDone(()=>He.processLeaveNode(V))}function as(He,V){for(let W=0;W<He.length;W++){const he=He[W];he instanceof t.ZE?as(he.players,V):V.push(he)}}function ls(He,V,W){const he=W.get(He);if(!he)return!1;let Ue=V.get(He);return Ue?he.forEach(et=>Ue.add(et)):V.set(He,he),W.delete(He),!0}class so{constructor(V,W,he){this.bodyNode=V,this._driver=W,this._normalizer=he,this._triggerCache={},this.onRemovalComplete=(Ue,et)=>{},this._transitionEngine=new oo(V,W,he),this._timelineEngine=new ro(V,W,he),this._transitionEngine.onRemovalComplete=(Ue,et)=>this.onRemovalComplete(Ue,et)}registerTrigger(V,W,he,Ue,et){const gt=V+"-"+Ue;let St=this._triggerCache[gt];if(!St){const nn=[],vn=Cn(this._driver,et,nn);if(nn.length)throw new Error(`The animation trigger "${Ue}" has failed to build due to the following errors:\n - ${nn.join("\n - ")}`);St=function(He,V,W){return new ii(He,V,W)}(Ue,vn,this._normalizer),this._triggerCache[gt]=St}this._transitionEngine.registerTrigger(W,Ue,St)}register(V,W){this._transitionEngine.register(V,W)}destroy(V,W){this._transitionEngine.destroy(V,W)}onInsert(V,W,he,Ue){this._transitionEngine.insertNode(V,W,he,Ue)}onRemove(V,W,he,Ue){this._transitionEngine.removeNode(V,W,Ue||!1,he)}disableAnimations(V,W){this._transitionEngine.markElementAsDisabled(V,W)}process(V,W,he,Ue){if("@"==he.charAt(0)){const[et,gt]=B(he);this._timelineEngine.command(et,W,gt,Ue)}else this._transitionEngine.trigger(V,W,he,Ue)}listen(V,W,he,Ue,et){if("@"==he.charAt(0)){const[gt,St]=B(he);return this._timelineEngine.listen(gt,W,St,et)}return this._transitionEngine.listen(V,W,he,Ue,et)}flush(V=-1){this._transitionEngine.flush(V)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bs(He,V){let W=null,he=null;return Array.isArray(V)&&V.length?(W=Js(V[0]),V.length>1&&(he=Js(V[V.length-1]))):V&&(W=Js(V)),W||he?new Go(He,W,he):null}let Go=(()=>{class He{constructor(W,he,Ue){this._element=W,this._startStyles=he,this._endStyles=Ue,this._state=0;let et=He.initialStylesByElement.get(W);et||He.initialStylesByElement.set(W,et={}),this._initialStyles=et}start(){this._state<1&&(this._startStyles&&Fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fe(this._element,this._initialStyles),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(He.initialStylesByElement.delete(this._element),this._startStyles&&(it(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(it(this._element,this._endStyles),this._endStyles=null),Fe(this._element,this._initialStyles),this._state=3)}}return He.initialStylesByElement=new WeakMap,He})();function Js(He){let V=null;const W=Object.keys(He);for(let he=0;he<W.length;he++){const Ue=W[he];ia(Ue)&&(V=V||{},V[Ue]=He[Ue])}return V}function ia(He){return"display"===He||"position"===He}const ra="animation",No="animationend";class Zo{constructor(V,W,he,Ue,et,gt,St){this._element=V,this._name=W,this._duration=he,this._delay=Ue,this._easing=et,this._fillMode=gt,this._onDoneFn=St,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=nn=>this._handleCallback(nn)}apply(){(function(He,V){const W=ys(He,"").trim();let he=0;W.length&&(function(He,V){let W=0;for(let he=0;he<He.length;he++)","===He.charAt(he)&&W++;return W}(W)+1,V=`${W}, ${V}`),Nr(He,"",V)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Fs(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){vr(this._element,this._name,"paused")}resume(){vr(this._element,this._name,"running")}setPosition(V){const W=Ia(this._element,this._name);this._position=V*this._duration,Nr(this._element,"Delay",`-${this._position}ms`,W)}getPosition(){return this._position}_handleCallback(V){const W=V._ngTestManualTimestamp||Date.now(),he=1e3*parseFloat(V.elapsedTime.toFixed(3));V.animationName==this._name&&Math.max(W-this._startTime,0)>=this._delay&&he>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Fs(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(He,V){const he=ys(He,"").split(","),Ue=Ns(he,V);Ue>=0&&(he.splice(Ue,1),Nr(He,"",he.join(",")))}(this._element,this._name))}}function vr(He,V,W){Nr(He,"PlayState",W,Ia(He,V))}function Ia(He,V){const W=ys(He,"");return W.indexOf(",")>0?Ns(W.split(","),V):Ns([W],V)}function Ns(He,V){for(let W=0;W<He.length;W++)if(He[W].indexOf(V)>=0)return W;return-1}function Fs(He,V,W){W?He.removeEventListener(No,V):He.addEventListener(No,V)}function Nr(He,V,W,he){const Ue=ra+V;if(null!=he){const et=He.style[Ue];if(et.length){const gt=et.split(",");gt[he]=W,W=gt.join(",")}}He.style[Ue]=W}function ys(He,V){return He.style[ra+V]||""}class Qo{constructor(V,W,he,Ue,et,gt,St,nn){this.element=V,this.keyframes=W,this.animationName=he,this._duration=Ue,this._delay=et,this._finalStyles=St,this._specialStyles=nn,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=gt||"linear",this.totalTime=Ue+et,this._buildStyler()}onStart(V){this._onStartFns.push(V)}onDone(V){this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(V=>V()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(V=>V()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(V){this._styler.setPosition(V)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Zo(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(V){const W="start"==V?this._onStartFns:this._onDoneFns;W.forEach(he=>he()),W.length=0}beforeDestroy(){this.init();const V={};if(this.hasStarted()){const W=this._state>=3;Object.keys(this._finalStyles).forEach(he=>{"offset"!=he&&(V[he]=W?this._finalStyles[he]:Zt(this.element,he))})}this.currentSnapshot=V}}class Fn extends t.ZN{constructor(V,W){super(),this.element=V,this._startingStyles={},this.__initialized=!1,this._styles=Te(W)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(V=>{this._startingStyles[V]=this.element.style[V]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(V=>this.element.style.setProperty(V,this._styles[V])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(V=>{const W=this._startingStyles[V];W?this.element.style.setProperty(V,W):this.element.style.removeProperty(V)}),this._startingStyles=null,super.destroy())}}class Se{constructor(){this._count=0}validateStyleProperty(V){return pe(V)}matchesElement(V,W){return ee(V,W)}containsElement(V,W){return ye(V,W)}query(V,W,he){return Ce(V,W,he)}computeStyle(V,W,he){return window.getComputedStyle(V)[W]}buildKeyframeElement(V,W,he){he=he.map(St=>Te(St));let Ue=`@keyframes ${W} {\n`,et="";he.forEach(St=>{et=" ";const nn=parseFloat(St.offset);Ue+=`${et}${100*nn}% {\n`,et+=" ",Object.keys(St).forEach(vn=>{const Hn=St[vn];switch(vn){case"offset":return;case"easing":return void(Hn&&(Ue+=`${et}animation-timing-function: ${Hn};\n`));default:return void(Ue+=`${et}${vn}: ${Hn};\n`)}}),Ue+=`${et}}\n`}),Ue+="}\n";const gt=document.createElement("style");return gt.textContent=Ue,gt}animate(V,W,he,Ue,et,gt=[],St){const nn=gt.filter(Hi=>Hi instanceof Qo),vn={};Qe(he,Ue)&&nn.forEach(Hi=>{let Rr=Hi.currentSnapshot;Object.keys(Rr).forEach(Fr=>vn[Fr]=Rr[Fr])});const Hn=function(He){let V={};return He&&(Array.isArray(He)?He:[He]).forEach(he=>{Object.keys(he).forEach(Ue=>{"offset"==Ue||"easing"==Ue||(V[Ue]=he[Ue])})}),V}(W=Ct(V,W,vn));if(0==he)return new Fn(V,Hn);const li="gen_css_kf_"+this._count++,Ri=this.buildKeyframeElement(V,li,W);(function(He){var V;const W=null===(V=He.getRootNode)||void 0===V?void 0:V.call(He);return"undefined"!=typeof ShadowRoot&&W instanceof ShadowRoot?W:document.head})(V).appendChild(Ri);const mi=bs(V,W),yi=new Qo(V,W,li,he,Ue,et,Hn,mi);return yi.onDestroy(()=>{var He;(He=Ri).parentNode.removeChild(He)}),yi}}class Rn{constructor(V,W,he,Ue){this.element=V,this.keyframes=W,this.options=he,this._specialStyles=Ue,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=he.duration,this._delay=he.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const V=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,V,this.options),this._finalKeyframe=V.length?V[V.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(V,W,he){return V.animate(W,he)}onStart(V){this._onStartFns.push(V)}onDone(V){this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(V=>V()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}setPosition(V){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=V*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const V={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(W=>{"offset"!=W&&(V[W]=this._finished?this._finalKeyframe[W]:Zt(this.element,W))}),this.currentSnapshot=V}triggerCallback(V){const W="start"==V?this._onStartFns:this._onDoneFns;W.forEach(he=>he()),W.length=0}}class Si{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ei().toString()),this._cssKeyframesDriver=new Se}validateStyleProperty(V){return pe(V)}matchesElement(V,W){return ee(V,W)}containsElement(V,W){return ye(V,W)}query(V,W,he){return Ce(V,W,he)}computeStyle(V,W,he){return window.getComputedStyle(V)[W]}overrideWebAnimationsSupport(V){this._isNativeImpl=V}animate(V,W,he,Ue,et,gt=[],St){if(!St&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(V,W,he,Ue,et,gt);const Hn={duration:he,delay:Ue,fill:0==Ue?"both":"forwards"};et&&(Hn.easing=et);const li={},Ri=gt.filter(mi=>mi instanceof Rn);Qe(he,Ue)&&Ri.forEach(mi=>{let yi=mi.currentSnapshot;Object.keys(yi).forEach(Hi=>li[Hi]=yi[Hi])});const Pi=bs(V,W=Ct(V,W=W.map(mi=>dn(mi,!1)),li));return new Rn(V,W,Hn,Pi)}}function Ei(){return e()&&Element.prototype.animate||{}}var cr=_(16274);let fr=(()=>{class He extends t._j{constructor(W,he){super(),this._nextAnimationId=0,this._renderer=W.createRenderer(he.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(W){const he=this._nextAnimationId.toString();this._nextAnimationId++;const Ue=Array.isArray(W)?(0,t.vP)(W):W;return Hr(this._renderer,null,he,"register",[Ue]),new Br(he,this._renderer)}}return He.\u0275fac=function(W){return new(W||He)(E.LFG(E.FYo),E.LFG(cr.K0))},He.\u0275prov=E.Yz7({token:He,factory:He.\u0275fac}),He})();class Br extends t.LC{constructor(V,W){super(),this._id=V,this._renderer=W}create(V,W){return new Hs(this._id,V,W||{},this._renderer)}}class Hs{constructor(V,W,he,Ue){this.id=V,this.element=W,this._renderer=Ue,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",he)}_listen(V,W){return this._renderer.listen(this.element,`@@${this.id}:${V}`,W)}_command(V,...W){return Hr(this._renderer,this.element,this.id,V,W)}onDone(V){this._listen("done",V)}onStart(V){this._listen("start",V)}onDestroy(V){this._listen("destroy",V)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(V){this._command("setPosition",V)}getPosition(){var V,W;return null!==(W=null===(V=this._renderer.engine.players[+this.id])||void 0===V?void 0:V.getPosition())&&void 0!==W?W:0}}function Hr(He,V,W,he,Ue){return He.setProperty(V,`@@${W}:${he}`,Ue)}const us="@.disabled";let ci=(()=>{class He{constructor(W,he,Ue){this.delegate=W,this.engine=he,this._zone=Ue,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),he.onRemovalComplete=(et,gt)=>{gt&&gt.parentNode(et)&&gt.removeChild(et.parentNode,et)}}createRenderer(W,he){const et=this.delegate.createRenderer(W,he);if(!(W&&he&&he.data&&he.data.animation)){let Hn=this._rendererCache.get(et);return Hn||(Hn=new _a("",et,this.engine),this._rendererCache.set(et,Hn)),Hn}const gt=he.id,St=he.id+"-"+this._currentId;this._currentId++,this.engine.register(St,W);const nn=Hn=>{Array.isArray(Hn)?Hn.forEach(nn):this.engine.registerTrigger(gt,St,W,Hn.name,Hn)};return he.data.animation.forEach(nn),new ds(this,St,et,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(W,he,Ue){W>=0&&W<this._microtaskId?this._zone.run(()=>he(Ue)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(et=>{const[gt,St]=et;gt(St)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([he,Ue]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return He.\u0275fac=function(W){return new(W||He)(E.LFG(E.FYo),E.LFG(so),E.LFG(E.R0b))},He.\u0275prov=E.Yz7({token:He,factory:He.\u0275fac}),He})();class _a{constructor(V,W,he){this.namespaceId=V,this.delegate=W,this.engine=he,this.destroyNode=this.delegate.destroyNode?Ue=>W.destroyNode(Ue):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(V,W){return this.delegate.createElement(V,W)}createComment(V){return this.delegate.createComment(V)}createText(V){return this.delegate.createText(V)}appendChild(V,W){this.delegate.appendChild(V,W),this.engine.onInsert(this.namespaceId,W,V,!1)}insertBefore(V,W,he,Ue=!0){this.delegate.insertBefore(V,W,he),this.engine.onInsert(this.namespaceId,W,V,Ue)}removeChild(V,W,he){this.engine.onRemove(this.namespaceId,W,this.delegate,he)}selectRootElement(V,W){return this.delegate.selectRootElement(V,W)}parentNode(V){return this.delegate.parentNode(V)}nextSibling(V){return this.delegate.nextSibling(V)}setAttribute(V,W,he,Ue){this.delegate.setAttribute(V,W,he,Ue)}removeAttribute(V,W,he){this.delegate.removeAttribute(V,W,he)}addClass(V,W){this.delegate.addClass(V,W)}removeClass(V,W){this.delegate.removeClass(V,W)}setStyle(V,W,he,Ue){this.delegate.setStyle(V,W,he,Ue)}removeStyle(V,W,he){this.delegate.removeStyle(V,W,he)}setProperty(V,W,he){"@"==W.charAt(0)&&W==us?this.disableAnimations(V,!!he):this.delegate.setProperty(V,W,he)}setValue(V,W){this.delegate.setValue(V,W)}listen(V,W,he){return this.delegate.listen(V,W,he)}disableAnimations(V,W){this.engine.disableAnimations(V,W)}}class ds extends _a{constructor(V,W,he,Ue){super(W,he,Ue),this.factory=V,this.namespaceId=W}setProperty(V,W,he){"@"==W.charAt(0)?"."==W.charAt(1)&&W==us?this.disableAnimations(V,he=void 0===he||!!he):this.engine.process(this.namespaceId,V,W.substr(1),he):this.delegate.setProperty(V,W,he)}listen(V,W,he){if("@"==W.charAt(0)){const Ue=function(He){switch(He){case"body":return document.body;case"document":return document;case"window":return window;default:return He}}(V);let et=W.substr(1),gt="";return"@"!=et.charAt(0)&&([et,gt]=function(He){const V=He.indexOf(".");return[He.substring(0,V),He.substr(V+1)]}(et)),this.engine.listen(this.namespaceId,Ue,et,gt,St=>{this.factory.scheduleListenerCallback(St._data||-1,he,St)})}return this.delegate.listen(V,W,he)}}let Ua=(()=>{class He extends so{constructor(W,he,Ue){super(W.body,he,Ue)}ngOnDestroy(){this.flush()}}return He.\u0275fac=function(W){return new(W||He)(E.LFG(cr.K0),E.LFG(ve),E.LFG(qr))},He.\u0275prov=E.Yz7({token:He,factory:He.\u0275fac}),He})();const Mi=new E.OlP("AnimationModuleType"),qo=[{provide:t._j,useClass:fr},{provide:qr,useFactory:function(){return new kr}},{provide:so,useClass:Ua},{provide:E.FYo,useFactory:function(He,V,W){return new ci(He,V,W)},deps:[o.se,so,E.R0b]}],Kr=[{provide:ve,useFactory:function(){return"function"==typeof Ei()?new Si:new Se}},{provide:Mi,useValue:"BrowserAnimations"},...qo],Cs=[{provide:ve,useClass:me},{provide:Mi,useValue:"NoopAnimations"},...qo];let va=(()=>{class He{static withConfig(W){return{ngModule:He,providers:W.disableAnimations?Cs:Kr}}}return He.\u0275fac=function(W){return new(W||He)},He.\u0275mod=E.oAB({type:He}),He.\u0275inj=E.cJS({providers:Kr,imports:[o.b2]}),He})()},93220:(F,U,_)=>{"use strict";_.d(U,{b2:()=>Nn,H7:()=>rn,Dx:()=>Bi,q6:()=>bt,se:()=>Kn});var E=_(16274),o=_(42741);class t extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e extends t{static makeCurrent(){(0,E.HT)(new e)}onAndCancel(Pt,pt,qt){return Pt.addEventListener(pt,qt,!1),()=>{Pt.removeEventListener(pt,qt,!1)}}dispatchEvent(Pt,pt){Pt.dispatchEvent(pt)}remove(Pt){Pt.parentNode&&Pt.parentNode.removeChild(Pt)}createElement(Pt,pt){return(pt=pt||this.getDefaultDocument()).createElement(Pt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Pt){return Pt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Pt){return Pt instanceof DocumentFragment}getGlobalEventTarget(Pt,pt){return"window"===pt?window:"document"===pt?Pt:"body"===pt?Pt.body:null}getBaseHref(Pt){const pt=(n=n||document.querySelector("base"),n?n.getAttribute("href"):null);return null==pt?null:function(Gt){f=f||document.createElement("a"),f.setAttribute("href",Gt);const Pt=f.pathname;return"/"===Pt.charAt(0)?Pt:`/${Pt}`}(pt)}resetBaseElement(){n=null}getUserAgent(){return window.navigator.userAgent}getCookie(Pt){return(0,E.Mx)(document.cookie,Pt)}}let f,n=null;const M=new o.OlP("TRANSITION_ID"),P=[{provide:o.ip1,useFactory:function(Gt,Pt,pt){return()=>{pt.get(o.CZH).donePromise.then(()=>{const qt=(0,E.q)(),_n=Pt.querySelectorAll(`style[ng-transition="${Gt}"]`);for(let ii=0;ii<_n.length;ii++)qt.remove(_n[ii])})}},deps:[M,E.K0,o.zs3],multi:!0}];class B{static init(){(0,o.VLi)(new B)}addToWindow(Pt){o.dqk.getAngularTestability=(qt,_n=!0)=>{const ii=Pt.findTestabilityInTree(qt,_n);if(null==ii)throw new Error("Could not find testability for element.");return ii},o.dqk.getAllAngularTestabilities=()=>Pt.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>Pt.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(qt=>{const _n=o.dqk.getAllAngularTestabilities();let ii=_n.length,fi=!1;const Ii=function(ai){fi=fi||ai,ii--,0==ii&&qt(fi)};_n.forEach(function(ai){ai.whenStable(Ii)})})}findTestabilityInTree(Pt,pt,qt){if(null==pt)return null;const _n=Pt.getTestability(pt);return null!=_n?_n:qt?(0,E.q)().isShadowRoot(pt)?this.findTestabilityInTree(Pt,pt.host,!0):this.findTestabilityInTree(Pt,pt.parentElement,!0):null}}let ne=(()=>{class Gt{build(){return new XMLHttpRequest}}return Gt.\u0275fac=function(pt){return new(pt||Gt)},Gt.\u0275prov=o.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();const me=new o.OlP("EventManagerPlugins");let ve=(()=>{class Gt{constructor(pt,qt){this._zone=qt,this._eventNameToPlugin=new Map,pt.forEach(_n=>_n.manager=this),this._plugins=pt.slice().reverse()}addEventListener(pt,qt,_n){return this._findPluginFor(qt).addEventListener(pt,qt,_n)}addGlobalEventListener(pt,qt,_n){return this._findPluginFor(qt).addGlobalEventListener(pt,qt,_n)}getZone(){return this._zone}_findPluginFor(pt){const qt=this._eventNameToPlugin.get(pt);if(qt)return qt;const _n=this._plugins;for(let ii=0;ii<_n.length;ii++){const fi=_n[ii];if(fi.supports(pt))return this._eventNameToPlugin.set(pt,fi),fi}throw new Error(`No event manager plugin found for event ${pt}`)}}return Gt.\u0275fac=function(pt){return new(pt||Gt)(o.LFG(me),o.LFG(o.R0b))},Gt.\u0275prov=o.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();class Ze{constructor(Pt){this._doc=Pt}addGlobalEventListener(Pt,pt,qt){const _n=(0,E.q)().getGlobalEventTarget(this._doc,Pt);if(!_n)throw new Error(`Unsupported event target ${_n} for event ${pt}`);return this.addEventListener(_n,pt,qt)}}let Be=(()=>{class Gt{constructor(){this._stylesSet=new Set}addStyles(pt){const qt=new Set;pt.forEach(_n=>{this._stylesSet.has(_n)||(this._stylesSet.add(_n),qt.add(_n))}),this.onStylesAdded(qt)}onStylesAdded(pt){}getAllStyles(){return Array.from(this._stylesSet)}}return Gt.\u0275fac=function(pt){return new(pt||Gt)},Gt.\u0275prov=o.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})(),ot=(()=>{class Gt extends Be{constructor(pt){super(),this._doc=pt,this._hostNodes=new Map,this._hostNodes.set(pt.head,[])}_addStylesToHost(pt,qt,_n){pt.forEach(ii=>{const fi=this._doc.createElement("style");fi.textContent=ii,_n.push(qt.appendChild(fi))})}addHost(pt){const qt=[];this._addStylesToHost(this._stylesSet,pt,qt),this._hostNodes.set(pt,qt)}removeHost(pt){const qt=this._hostNodes.get(pt);qt&&qt.forEach(Lt),this._hostNodes.delete(pt)}onStylesAdded(pt){this._hostNodes.forEach((qt,_n)=>{this._addStylesToHost(pt,_n,qt)})}ngOnDestroy(){this._hostNodes.forEach(pt=>pt.forEach(Lt))}}return Gt.\u0275fac=function(pt){return new(pt||Gt)(o.LFG(E.K0))},Gt.\u0275prov=o.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();function Lt(Gt){(0,E.q)().remove(Gt)}const Jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wt=/%COMP%/g;function zt(Gt,Pt,pt){for(let qt=0;qt<Pt.length;qt++){let _n=Pt[qt];Array.isArray(_n)?zt(Gt,_n,pt):(_n=_n.replace(wt,Gt),pt.push(_n))}return pt}function $t(Gt){return Pt=>{if("__ngUnwrap__"===Pt)return Gt;!1===Gt(Pt)&&(Pt.preventDefault(),Pt.returnValue=!1)}}let Kn=(()=>{class Gt{constructor(pt,qt,_n){this.eventManager=pt,this.sharedStylesHost=qt,this.appId=_n,this.rendererByCompId=new Map,this.defaultRenderer=new Yn(pt)}createRenderer(pt,qt){if(!pt||!qt)return this.defaultRenderer;switch(qt.encapsulation){case o.ifc.Emulated:{let _n=this.rendererByCompId.get(qt.id);return _n||(_n=new Fe(this.eventManager,this.sharedStylesHost,qt,this.appId),this.rendererByCompId.set(qt.id,_n)),_n.applyToHost(pt),_n}case 1:case o.ifc.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,pt,qt);default:if(!this.rendererByCompId.has(qt.id)){const _n=zt(qt.id,qt.styles,[]);this.sharedStylesHost.addStyles(_n),this.rendererByCompId.set(qt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Gt.\u0275fac=function(pt){return new(pt||Gt)(o.LFG(ve),o.LFG(ot),o.LFG(o.AFp))},Gt.\u0275prov=o.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();class Yn{constructor(Pt){this.eventManager=Pt,this.data=Object.create(null)}destroy(){}createElement(Pt,pt){return pt?document.createElementNS(Jt[pt]||pt,Pt):document.createElement(Pt)}createComment(Pt){return document.createComment(Pt)}createText(Pt){return document.createTextNode(Pt)}appendChild(Pt,pt){Pt.appendChild(pt)}insertBefore(Pt,pt,qt){Pt&&Pt.insertBefore(pt,qt)}removeChild(Pt,pt){Pt&&Pt.removeChild(pt)}selectRootElement(Pt,pt){let qt="string"==typeof Pt?document.querySelector(Pt):Pt;if(!qt)throw new Error(`The selector "${Pt}" did not match any elements`);return pt||(qt.textContent=""),qt}parentNode(Pt){return Pt.parentNode}nextSibling(Pt){return Pt.nextSibling}setAttribute(Pt,pt,qt,_n){if(_n){pt=_n+":"+pt;const ii=Jt[_n];ii?Pt.setAttributeNS(ii,pt,qt):Pt.setAttribute(pt,qt)}else Pt.setAttribute(pt,qt)}removeAttribute(Pt,pt,qt){if(qt){const _n=Jt[qt];_n?Pt.removeAttributeNS(_n,pt):Pt.removeAttribute(`${qt}:${pt}`)}else Pt.removeAttribute(pt)}addClass(Pt,pt){Pt.classList.add(pt)}removeClass(Pt,pt){Pt.classList.remove(pt)}setStyle(Pt,pt,qt,_n){_n&(o.JOm.DashCase|o.JOm.Important)?Pt.style.setProperty(pt,qt,_n&o.JOm.Important?"important":""):Pt.style[pt]=qt}removeStyle(Pt,pt,qt){qt&o.JOm.DashCase?Pt.style.removeProperty(pt):Pt.style[pt]=""}setProperty(Pt,pt,qt){Pt[pt]=qt}setValue(Pt,pt){Pt.nodeValue=pt}listen(Pt,pt,qt){return"string"==typeof Pt?this.eventManager.addGlobalEventListener(Pt,pt,$t(qt)):this.eventManager.addEventListener(Pt,pt,$t(qt))}}class Fe extends Yn{constructor(Pt,pt,qt,_n){super(Pt),this.component=qt;const ii=zt(_n+"-"+qt.id,qt.styles,[]);pt.addStyles(ii),this.contentAttr="_ngcontent-%COMP%".replace(wt,_n+"-"+qt.id),this.hostAttr="_nghost-%COMP%".replace(wt,_n+"-"+qt.id)}applyToHost(Pt){super.setAttribute(Pt,this.hostAttr,"")}createElement(Pt,pt){const qt=super.createElement(Pt,pt);return super.setAttribute(qt,this.contentAttr,""),qt}}class it extends Yn{constructor(Pt,pt,qt,_n){super(Pt),this.sharedStylesHost=pt,this.hostEl=qt,this.shadowRoot=qt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ii=zt(_n.id,_n.styles,[]);for(let fi=0;fi<ii.length;fi++){const Ii=document.createElement("style");Ii.textContent=ii[fi],this.shadowRoot.appendChild(Ii)}}nodeOrShadowRoot(Pt){return Pt===this.hostEl?this.shadowRoot:Pt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Pt,pt){return super.appendChild(this.nodeOrShadowRoot(Pt),pt)}insertBefore(Pt,pt,qt){return super.insertBefore(this.nodeOrShadowRoot(Pt),pt,qt)}removeChild(Pt,pt){return super.removeChild(this.nodeOrShadowRoot(Pt),pt)}parentNode(Pt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Pt)))}}let un=(()=>{class Gt extends Ze{constructor(pt){super(pt)}supports(pt){return!0}addEventListener(pt,qt,_n){return pt.addEventListener(qt,_n,!1),()=>this.removeEventListener(pt,qt,_n)}removeEventListener(pt,qt,_n){return pt.removeEventListener(qt,_n)}}return Gt.\u0275fac=function(pt){return new(pt||Gt)(o.LFG(E.K0))},Gt.\u0275prov=o.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();const Ct=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},on={alt:Gt=>Gt.altKey,control:Gt=>Gt.ctrlKey,meta:Gt=>Gt.metaKey,shift:Gt=>Gt.shiftKey};let tt=(()=>{class Gt extends Ze{constructor(pt){super(pt)}supports(pt){return null!=Gt.parseEventName(pt)}addEventListener(pt,qt,_n){const ii=Gt.parseEventName(qt),fi=Gt.eventCallback(ii.fullKey,_n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(pt,ii.domEventName,fi))}static parseEventName(pt){const qt=pt.toLowerCase().split("."),_n=qt.shift();if(0===qt.length||"keydown"!==_n&&"keyup"!==_n)return null;const ii=Gt._normalizeKey(qt.pop());let fi="";if(Ct.forEach(ai=>{const ro=qt.indexOf(ai);ro>-1&&(qt.splice(ro,1),fi+=ai+".")}),fi+=ii,0!=qt.length||0===ii.length)return null;const Ii={};return Ii.domEventName=_n,Ii.fullKey=fi,Ii}static getEventFullKey(pt){let qt="",_n=function(Gt){let Pt=Gt.key;if(null==Pt){if(Pt=Gt.keyIdentifier,null==Pt)return"Unidentified";Pt.startsWith("U+")&&(Pt=String.fromCharCode(parseInt(Pt.substring(2),16)),3===Gt.location&&wn.hasOwnProperty(Pt)&&(Pt=wn[Pt]))}return Zt[Pt]||Pt}(pt);return _n=_n.toLowerCase()," "===_n?_n="space":"."===_n&&(_n="dot"),Ct.forEach(ii=>{ii!=_n&&on[ii](pt)&&(qt+=ii+".")}),qt+=_n,qt}static eventCallback(pt,qt,_n){return ii=>{Gt.getEventFullKey(ii)===pt&&_n.runGuarded(()=>qt(ii))}}static _normalizeKey(pt){switch(pt){case"esc":return"escape";default:return pt}}}return Gt.\u0275fac=function(pt){return new(pt||Gt)(o.LFG(E.K0))},Gt.\u0275prov=o.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})(),rn=(()=>{class Gt{}return Gt.\u0275fac=function(pt){return new(pt||Gt)},Gt.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(qn)},token:Gt,providedIn:"root"}),Gt})(),qn=(()=>{class Gt extends rn{constructor(pt){super(),this._doc=pt}sanitize(pt,qt){if(null==qt)return null;switch(pt){case o.q3G.NONE:return qt;case o.q3G.HTML:return(0,o.qzn)(qt,"HTML")?(0,o.z3N)(qt):(0,o.EiD)(this._doc,String(qt)).toString();case o.q3G.STYLE:return(0,o.qzn)(qt,"Style")?(0,o.z3N)(qt):qt;case o.q3G.SCRIPT:if((0,o.qzn)(qt,"Script"))return(0,o.z3N)(qt);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(qt),(0,o.qzn)(qt,"URL")?(0,o.z3N)(qt):(0,o.mCW)(String(qt));case o.q3G.RESOURCE_URL:if((0,o.qzn)(qt,"ResourceURL"))return(0,o.z3N)(qt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${pt} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(pt){return(0,o.JVY)(pt)}bypassSecurityTrustStyle(pt){return(0,o.L6k)(pt)}bypassSecurityTrustScript(pt){return(0,o.eBb)(pt)}bypassSecurityTrustUrl(pt){return(0,o.LAX)(pt)}bypassSecurityTrustResourceUrl(pt){return(0,o.pB0)(pt)}}return Gt.\u0275fac=function(pt){return new(pt||Gt)(o.LFG(E.K0))},Gt.\u0275prov=(0,o.Yz7)({factory:function(){return function(Gt){return new qn(Gt.get(E.K0))}((0,o.LFG)(o.gxx))},token:Gt,providedIn:"root"}),Gt})();const bt=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:E.bD},{provide:o.g9A,useValue:function(){e.makeCurrent(),B.init()},multi:!0},{provide:E.K0,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),Qt=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:me,useClass:un,multi:!0,deps:[E.K0,o.R0b,o.Lbi]},{provide:me,useClass:tt,multi:!0,deps:[E.K0]},[],{provide:Kn,useClass:Kn,deps:[ve,ot,o.AFp]},{provide:o.FYo,useExisting:Kn},{provide:Be,useExisting:ot},{provide:ot,useClass:ot,deps:[E.K0]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:ve,useClass:ve,deps:[me,o.R0b]},{provide:E.JF,useClass:ne,deps:[]},[]];let Nn=(()=>{class Gt{constructor(pt){if(pt)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(pt){return{ngModule:Gt,providers:[{provide:o.AFp,useValue:pt.appId},{provide:M,useExisting:o.AFp},P]}}}return Gt.\u0275fac=function(pt){return new(pt||Gt)(o.LFG(Gt,12))},Gt.\u0275mod=o.oAB({type:Gt}),Gt.\u0275inj=o.cJS({providers:Qt,imports:[E.ez,o.hGG]}),Gt})();function tr(){return new Bi((0,o.LFG)(E.K0))}let Bi=(()=>{class Gt{constructor(pt){this._doc=pt}getTitle(){return this._doc.title}setTitle(pt){this._doc.title=pt||""}}return Gt.\u0275fac=function(pt){return new(pt||Gt)(o.LFG(E.K0))},Gt.\u0275prov=(0,o.Yz7)({factory:tr,token:Gt,providedIn:"root"}),Gt})();"undefined"!=typeof window&&window},60805:(F,U,_)=>{"use strict";_.d(U,{gz:()=>di,yS:()=>ps,Bz:()=>ja,lC:()=>gl});var E=_(16274),o=_(42741);const e=(()=>{function oe(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return oe.prototype=Object.create(Error.prototype),oe})();var n=_(72850),s=_(267),f=_(29923),y=_(52032),M=_(93948),A=_(38895),P=_(59765),B=_(23974),ne=_(30955),te=_(6006),se=_(28744);function de(oe,J){let z=!1;return arguments.length>=2&&(z=!0),function(Re){return Re.lift(new ae(oe,J,z))}}class ae{constructor(J,z,Ee=!1){this.accumulator=J,this.seed=z,this.hasSeed=Ee}call(J,z){return z.subscribe(new Me(J,this.accumulator,this.seed,this.hasSeed))}}class Me extends se.L{constructor(J,z,Ee,Re){super(J),this.accumulator=z,this._seed=Ee,this.hasSeed=Re,this.index=0}get seed(){return this._seed}set seed(J){this.hasSeed=!0,this._seed=J}_next(J){if(this.hasSeed)return this._tryNext(J);this.seed=J,this.destination.next(J)}_tryNext(J){const z=this.index++;let Ee;try{Ee=this.accumulator(this.seed,J,z)}catch(Re){this.destination.error(Re)}this.seed=Ee,this.destination.next(Ee)}}var xe=_(63305),we=_(49862);function ke(oe){return function(z){return 0===oe?(0,B.c)():z.lift(new fe(oe))}}class fe{constructor(J){if(this.total=J,this.total<0)throw new we.W}call(J,z){return z.subscribe(new pe(J,this.total))}}class pe extends se.L{constructor(J,z){super(J),this.total=z,this.ring=new Array,this.count=0}_next(J){const z=this.ring,Ee=this.total,Re=this.count++;z.length<Ee?z.push(J):z[Re%Ee]=J}_complete(){const J=this.destination;let z=this.count;if(z>0){const Ee=this.count>=this.total?this.total:this.count,Re=this.ring;for(let $e=0;$e<Ee;$e++){const vt=z++%Ee;J.next(Re[vt])}}J.complete()}}function ie(oe=Ce){return J=>J.lift(new ee(oe))}class ee{constructor(J){this.errorFactory=J}call(J,z){return z.subscribe(new ye(J,this.errorFactory))}}class ye extends se.L{constructor(J,z){super(J),this.errorFactory=z,this.hasValue=!1}_next(J){this.hasValue=!0,this.destination.next(J)}_complete(){if(this.hasValue)return this.destination.complete();{let J;try{J=this.errorFactory()}catch(z){J=z}this.destination.error(J)}}}function Ce(){return new e}function Te(oe=null){return J=>J.lift(new me(oe))}class me{constructor(J){this.defaultValue=J}call(J,z){return z.subscribe(new ve(J,this.defaultValue))}}class ve extends se.L{constructor(J,z){super(J),this.defaultValue=z,this.isEmpty=!0}_next(J){this.isEmpty=!1,this.destination.next(J)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ze=_(37846),ot=_(59917);function Lt(oe,J){const z=arguments.length>=2;return Ee=>Ee.pipe(oe?(0,xe.h)((Re,$e)=>oe(Re,$e,Ee)):Ze.y,(0,ot.q)(1),z?Te(J):ie(()=>new e))}var Jt=_(88561),wt=_(32812),tn=_(63543),Et=_(72072),sn=_(23748),rt=_(16513),at=_(96286),Vt=_(95290),zt=_(27813),$t=_(4540);class xn{constructor(J,z){this.id=J,this.url=z}}class Kn extends xn{constructor(J,z,Ee="imperative",Re=null){super(J,z),this.navigationTrigger=Ee,this.restoredState=Re}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yn extends xn{constructor(J,z,Ee){super(J,z),this.urlAfterRedirects=Ee}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dn extends xn{constructor(J,z,Ee){super(J,z),this.reason=Ee}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class It extends xn{constructor(J,z,Ee){super(J,z),this.error=Ee}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bt extends xn{constructor(J,z,Ee,Re){super(J,z),this.urlAfterRedirects=Ee,this.state=Re}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends xn{constructor(J,z,Ee,Re){super(J,z),this.urlAfterRedirects=Ee,this.state=Re}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends xn{constructor(J,z,Ee,Re,$e){super(J,z),this.urlAfterRedirects=Ee,this.state=Re,this.shouldActivate=$e}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class un extends xn{constructor(J,z,Ee,Re){super(J,z),this.urlAfterRedirects=Ee,this.state=Re}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft extends xn{constructor(J,z,Ee,Re){super(J,z),this.urlAfterRedirects=Ee,this.state=Re}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn{constructor(J){this.route=J}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mt{constructor(J){this.route=J}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ht{constructor(J){this.snapshot=J}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(J){this.snapshot=J}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(J){this.snapshot=J}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class re{constructor(J){this.snapshot=J}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(J,z,Ee){this.routerEvent=J,this.position=z,this.anchor=Ee}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qe="primary";class Ct{constructor(J){this.params=J||{}}has(J){return Object.prototype.hasOwnProperty.call(this.params,J)}get(J){if(this.has(J)){const z=this.params[J];return Array.isArray(z)?z[0]:z}return null}getAll(J){if(this.has(J)){const z=this.params[J];return Array.isArray(z)?z:[z]}return[]}get keys(){return Object.keys(this.params)}}function yt(oe){return new Ct(oe)}const Zt="ngNavigationCancelingError";function wn(oe){const J=Error("NavigationCancelingError: "+oe);return J[Zt]=!0,J}function bn(oe,J,z){const Ee=z.path.split("/");if(Ee.length>oe.length||"full"===z.pathMatch&&(J.hasChildren()||Ee.length<oe.length))return null;const Re={};for(let $e=0;$e<Ee.length;$e++){const vt=Ee[$e],kt=oe[$e];if(vt.startsWith(":"))Re[vt.substring(1)]=kt;else if(vt!==kt.path)return null}return{consumed:oe.slice(0,Ee.length),posParams:Re}}function Ut(oe,J){const z=oe?Object.keys(oe):void 0,Ee=J?Object.keys(J):void 0;if(!z||!Ee||z.length!=Ee.length)return!1;let Re;for(let $e=0;$e<z.length;$e++)if(Re=z[$e],!on(oe[Re],J[Re]))return!1;return!0}function on(oe,J){if(Array.isArray(oe)&&Array.isArray(J)){if(oe.length!==J.length)return!1;const z=[...oe].sort(),Ee=[...J].sort();return z.every((Re,$e)=>Ee[$e]===Re)}return oe===J}function tt(oe){return Array.prototype.concat.apply([],oe)}function xt(oe){return oe.length>0?oe[oe.length-1]:null}function Cn(oe,J){for(const z in oe)oe.hasOwnProperty(z)&&J(oe[z],z)}function qn(oe){return(0,o.CqO)(oe)?oe:(0,o.QGY)(oe)?(0,n.D)(Promise.resolve(oe)):(0,s.of)(oe)}const Vn={exact:function Oe(oe,J,z){if(!tr(oe.segments,J.segments)||!Qt(oe.segments,J.segments,z)||oe.numberOfChildren!==J.numberOfChildren)return!1;for(const Ee in J.children)if(!oe.children[Ee]||!Oe(oe.children[Ee],J.children[Ee],z))return!1;return!0},subset:We},jn={exact:function(oe,J){return Ut(oe,J)},subset:function(oe,J){return Object.keys(J).length<=Object.keys(oe).length&&Object.keys(J).every(z=>on(oe[z],J[z]))},ignored:()=>!0};function Dt(oe,J,z){return Vn[z.paths](oe.root,J.root,z.matrixParams)&&jn[z.queryParams](oe.queryParams,J.queryParams)&&!("exact"===z.fragment&&oe.fragment!==J.fragment)}function We(oe,J,z){return bt(oe,J,J.segments,z)}function bt(oe,J,z,Ee){if(oe.segments.length>z.length){const Re=oe.segments.slice(0,z.length);return!(!tr(Re,z)||J.hasChildren()||!Qt(Re,z,Ee))}if(oe.segments.length===z.length){if(!tr(oe.segments,z)||!Qt(oe.segments,z,Ee))return!1;for(const Re in J.children)if(!oe.children[Re]||!We(oe.children[Re],J.children[Re],Ee))return!1;return!0}{const Re=z.slice(0,oe.segments.length),$e=z.slice(oe.segments.length);return!!(tr(oe.segments,Re)&&Qt(oe.segments,Re,Ee)&&oe.children[Qe])&&bt(oe.children[Qe],J,$e,Ee)}}function Qt(oe,J,z){return J.every((Ee,Re)=>jn[z](oe[Re].parameters,Ee.parameters))}class Nn{constructor(J,z,Ee){this.root=J,this.queryParams=z,this.fragment=Ee}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return Tr.serialize(this)}}class An{constructor(J,z){this.segments=J,this.children=z,this.parent=null,Cn(z,(Ee,Re)=>Ee.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qr(this)}}class Fi{constructor(J,z){this.path=J,this.parameters=z}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return kr(this)}}function tr(oe,J){return oe.length===J.length&&oe.every((z,Ee)=>z.path===J[Ee].path)}class Di{}class Cr{parse(J){const z=new _n(J);return new Nn(z.parseRootSegment(),z.parseQueryParams(),z.parseFragment())}serialize(J){var oe;return`${`/${sr(J.root,!0)}`}${function(oe){const J=Object.keys(oe).map(z=>{const Ee=oe[z];return Array.isArray(Ee)?Ee.map(Re=>`${gi(z)}=${gi(Re)}`).join("&"):`${gi(z)}=${gi(Ee)}`}).filter(z=>!!z);return J.length?`?${J.join("&")}`:""}(J.queryParams)}${"string"==typeof J.fragment?`#${oe=J.fragment,encodeURI(oe)}`:""}`}}const Tr=new Cr;function Qr(oe){return oe.segments.map(J=>kr(J)).join("/")}function sr(oe,J){if(!oe.hasChildren())return Qr(oe);if(J){const z=oe.children[Qe]?sr(oe.children[Qe],!1):"",Ee=[];return Cn(oe.children,(Re,$e)=>{$e!==Qe&&Ee.push(`${$e}:${sr(Re,!1)}`)}),Ee.length>0?`${z}(${Ee.join("//")})`:z}{const z=function(oe,J){let z=[];return Cn(oe.children,(Ee,Re)=>{Re===Qe&&(z=z.concat(J(Ee,Re)))}),Cn(oe.children,(Ee,Re)=>{Re!==Qe&&(z=z.concat(J(Ee,Re)))}),z}(oe,(Ee,Re)=>Re===Qe?[sr(oe.children[Qe],!1)]:[`${Re}:${sr(Ee,!1)}`]);return 1===Object.keys(oe.children).length&&null!=oe.children[Qe]?`${Qr(oe)}/${z[0]}`:`${Qr(oe)}/(${z.join("//")})`}}function Pn(oe){return encodeURIComponent(oe).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gi(oe){return Pn(oe).replace(/%3B/gi,";")}function Gr(oe){return Pn(oe).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qr(oe){return decodeURIComponent(oe)}function Ai(oe){return qr(oe.replace(/\+/g,"%20"))}function kr(oe){return`${Gr(oe.path)}${function(oe){return Object.keys(oe).map(J=>`;${Gr(J)}=${Gr(oe[J])}`).join("")}(oe.parameters)}`}const Jo=/^[^\/()?;=#]+/;function pi(oe){const J=oe.match(Jo);return J?J[0]:""}const Gt=/^[^=?&#]+/,pt=/^[^?&#]+/;class _n{constructor(J){this.url=J,this.remaining=J}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const J={};if(this.consumeOptional("?"))do{this.parseQueryParam(J)}while(this.consumeOptional("&"));return J}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const J=[];for(this.peekStartsWith("(")||J.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),J.push(this.parseSegment());let z={};this.peekStartsWith("/(")&&(this.capture("/"),z=this.parseParens(!0));let Ee={};return this.peekStartsWith("(")&&(Ee=this.parseParens(!1)),(J.length>0||Object.keys(z).length>0)&&(Ee[Qe]=new An(J,z)),Ee}parseSegment(){const J=pi(this.remaining);if(""===J&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(J),new Fi(qr(J),this.parseMatrixParams())}parseMatrixParams(){const J={};for(;this.consumeOptional(";");)this.parseParam(J);return J}parseParam(J){const z=pi(this.remaining);if(!z)return;this.capture(z);let Ee="";if(this.consumeOptional("=")){const Re=pi(this.remaining);Re&&(Ee=Re,this.capture(Ee))}J[qr(z)]=qr(Ee)}parseQueryParam(J){const z=function(oe){const J=oe.match(Gt);return J?J[0]:""}(this.remaining);if(!z)return;this.capture(z);let Ee="";if(this.consumeOptional("=")){const vt=function(oe){const J=oe.match(pt);return J?J[0]:""}(this.remaining);vt&&(Ee=vt,this.capture(Ee))}const Re=Ai(z),$e=Ai(Ee);if(J.hasOwnProperty(Re)){let vt=J[Re];Array.isArray(vt)||(vt=[vt],J[Re]=vt),vt.push($e)}else J[Re]=$e}parseParens(J){const z={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ee=pi(this.remaining),Re=this.remaining[Ee.length];if("/"!==Re&&")"!==Re&&";"!==Re)throw new Error(`Cannot parse url '${this.url}'`);let $e;Ee.indexOf(":")>-1?($e=Ee.substr(0,Ee.indexOf(":")),this.capture($e),this.capture(":")):J&&($e=Qe);const vt=this.parseChildren();z[$e]=1===Object.keys(vt).length?vt[Qe]:new An([],vt),this.consumeOptional("//")}return z}peekStartsWith(J){return this.remaining.startsWith(J)}consumeOptional(J){return!!this.peekStartsWith(J)&&(this.remaining=this.remaining.substring(J.length),!0)}capture(J){if(!this.consumeOptional(J))throw new Error(`Expected "${J}".`)}}class ii{constructor(J){this._root=J}get root(){return this._root.value}parent(J){const z=this.pathFromRoot(J);return z.length>1?z[z.length-2]:null}children(J){const z=fi(J,this._root);return z?z.children.map(Ee=>Ee.value):[]}firstChild(J){const z=fi(J,this._root);return z&&z.children.length>0?z.children[0].value:null}siblings(J){const z=Ii(J,this._root);return z.length<2?[]:z[z.length-2].children.map(Re=>Re.value).filter(Re=>Re!==J)}pathFromRoot(J){return Ii(J,this._root).map(z=>z.value)}}function fi(oe,J){if(oe===J.value)return J;for(const z of J.children){const Ee=fi(oe,z);if(Ee)return Ee}return null}function Ii(oe,J){if(oe===J.value)return[J];for(const z of J.children){const Ee=Ii(oe,z);if(Ee.length)return Ee.unshift(J),Ee}return[]}class ai{constructor(J,z){this.value=J,this.children=z}toString(){return`TreeNode(${this.value})`}}function ro(oe){const J={};return oe&&oe.children.forEach(z=>J[z.value.outlet]=z),J}class Uo extends ii{constructor(J,z){super(J),this.snapshot=z,zr(this,J)}toString(){return this.snapshot.toString()}}function ho(oe,J){const z=function(oe,J){const vt=new Mr([],{},{},"",{},Qe,J,null,oe.root,-1,{});return new xo("",new ai(vt,[]))}(oe,J),Ee=new f.X([new Fi("",{})]),Re=new f.X({}),$e=new f.X({}),vt=new f.X({}),kt=new f.X(""),yn=new di(Ee,Re,vt,kt,$e,Qe,J,z.root);return yn.snapshot=z.root,new Uo(new ai(yn,[]),z)}class di{constructor(J,z,Ee,Re,$e,vt,kt,yn){this.url=J,this.params=z,this.queryParams=Ee,this.fragment=Re,this.data=$e,this.outlet=vt,this.component=kt,this._futureSnapshot=yn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Jt.U)(J=>yt(J)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Jt.U)(J=>yt(J)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ko(oe,J="emptyOnly"){const z=oe.pathFromRoot;let Ee=0;if("always"!==J)for(Ee=z.length-1;Ee>=1;){const Re=z[Ee],$e=z[Ee-1];if(Re.routeConfig&&""===Re.routeConfig.path)Ee--;else{if($e.component)break;Ee--}}return function(oe){return oe.reduce((J,z)=>({params:Object.assign(Object.assign({},J.params),z.params),data:Object.assign(Object.assign({},J.data),z.data),resolve:Object.assign(Object.assign({},J.resolve),z._resolvedData)}),{params:{},data:{},resolve:{}})}(z.slice(Ee))}class Mr{constructor(J,z,Ee,Re,$e,vt,kt,yn,Zn,Ji,_i){this.url=J,this.params=z,this.queryParams=Ee,this.fragment=Re,this.data=$e,this.outlet=vt,this.component=kt,this.routeConfig=yn,this._urlSegment=Zn,this._lastPathIndex=Ji,this._resolve=_i}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ee=>Ee.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xo extends ii{constructor(J,z){super(z),this.url=J,zr(this,z)}toString(){return ur(this._root)}}function zr(oe,J){J.value._routerState=oe,J.children.forEach(z=>zr(oe,z))}function ur(oe){const J=oe.children.length>0?` { ${oe.children.map(ur).join(", ")} } `:"";return`${oe.value}${J}`}function Yr(oe){if(oe.snapshot){const J=oe.snapshot,z=oe._futureSnapshot;oe.snapshot=z,Ut(J.queryParams,z.queryParams)||oe.queryParams.next(z.queryParams),J.fragment!==z.fragment&&oe.fragment.next(z.fragment),Ut(J.params,z.params)||oe.params.next(z.params),function(oe,J){if(oe.length!==J.length)return!1;for(let z=0;z<oe.length;++z)if(!Ut(oe[z],J[z]))return!1;return!0}(J.url,z.url)||oe.url.next(z.url),Ut(J.data,z.data)||oe.data.next(z.data)}else oe.snapshot=oe._futureSnapshot,oe.data.next(oe._futureSnapshot.data)}function Lr(oe,J){return Ut(oe.params,J.params)&&function(oe,J){return tr(oe,J)&&oe.every((z,Ee)=>Ut(z.parameters,J[Ee].parameters))}(oe.url,J.url)&&!(!oe.parent!=!J.parent)&&(!oe.parent||Lr(oe.parent,J.parent))}function wo(oe,J,z){if(z&&oe.shouldReuseRoute(J.value,z.value.snapshot)){const Ee=z.value;Ee._futureSnapshot=J.value;const Re=function(oe,J,z){return J.children.map(Ee=>{for(const Re of z.children)if(oe.shouldReuseRoute(Ee.value,Re.value.snapshot))return wo(oe,Ee,Re);return wo(oe,Ee)})}(oe,J,z);return new ai(Ee,Re)}{if(oe.shouldAttach(J.value)){const $e=oe.retrieve(J.value);if(null!==$e){const vt=$e.route;return oo(J,vt),vt}}const Ee=function(oe){return new di(new f.X(oe.url),new f.X(oe.params),new f.X(oe.queryParams),new f.X(oe.fragment),new f.X(oe.data),oe.outlet,oe.component,oe)}(J.value),Re=J.children.map($e=>wo(oe,$e));return new ai(Ee,Re)}}function oo(oe,J){if(oe.value.routeConfig!==J.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(oe.children.length!==J.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");J.value._futureSnapshot=oe.value;for(let z=0;z<oe.children.length;++z)oo(oe.children[z],J.children[z])}function Po(oe){return"object"==typeof oe&&null!=oe&&!oe.outlets&&!oe.segmentPath}function ss(oe){return"object"==typeof oe&&null!=oe&&oe.outlets}function na(oe,J,z,Ee,Re){let $e={};return Ee&&Cn(Ee,(vt,kt)=>{$e[kt]=Array.isArray(vt)?vt.map(yn=>`${yn}`):`${vt}`}),new Nn(z.root===oe?J:pa(z.root,oe,J),$e,Re)}function pa(oe,J,z){const Ee={};return Cn(oe.children,(Re,$e)=>{Ee[$e]=Re===J?z:pa(Re,J,z)}),new An(oe.segments,Ee)}class fa{constructor(J,z,Ee){if(this.isAbsolute=J,this.numberOfDoubleDots=z,this.commands=Ee,J&&Ee.length>0&&Po(Ee[0]))throw new Error("Root segment cannot have matrix parameters");const Re=Ee.find(ss);if(Re&&Re!==xt(Ee))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ga{constructor(J,z,Ee){this.segmentGroup=J,this.processChildren=z,this.index=Ee}}function Ls(oe,J,z){if(oe||(oe=new An([],{})),0===oe.segments.length&&oe.hasChildren())return as(oe,J,z);const Ee=function(oe,J,z){let Ee=0,Re=J;const $e={match:!1,pathIndex:0,commandIndex:0};for(;Re<oe.segments.length;){if(Ee>=z.length)return $e;const vt=oe.segments[Re],kt=z[Ee];if(ss(kt))break;const yn=`${kt}`,Zn=Ee<z.length-1?z[Ee+1]:null;if(Re>0&&void 0===yn)break;if(yn&&Zn&&"object"==typeof Zn&&void 0===Zn.outlets){if(!Go(yn,Zn,vt))return $e;Ee+=2}else{if(!Go(yn,{},vt))return $e;Ee++}Re++}return{match:!0,pathIndex:Re,commandIndex:Ee}}(oe,J,z),Re=z.slice(Ee.commandIndex);if(Ee.match&&Ee.pathIndex<oe.segments.length){const $e=new An(oe.segments.slice(0,Ee.pathIndex),{});return $e.children[Qe]=new An(oe.segments.slice(Ee.pathIndex),oe.children),as($e,0,Re)}return Ee.match&&0===Re.length?new An(oe.segments,{}):Ee.match&&!oe.hasChildren()?ls(oe,J,z):Ee.match?as(oe,0,Re):ls(oe,J,z)}function as(oe,J,z){if(0===z.length)return new An(oe.segments,{});{const Ee=function(oe){return ss(oe[0])?oe[0].outlets:{[Qe]:oe}}(z),Re={};return Cn(Ee,($e,vt)=>{"string"==typeof $e&&($e=[$e]),null!==$e&&(Re[vt]=Ls(oe.children[vt],J,$e))}),Cn(oe.children,($e,vt)=>{void 0===Ee[vt]&&(Re[vt]=$e)}),new An(oe.segments,Re)}}function ls(oe,J,z){const Ee=oe.segments.slice(0,J);let Re=0;for(;Re<z.length;){const $e=z[Re];if(ss($e)){const yn=so($e.outlets);return new An(Ee,yn)}if(0===Re&&Po(z[0])){Ee.push(new Fi(oe.segments[J].path,bs(z[0]))),Re++;continue}const vt=ss($e)?$e.outlets[Qe]:`${$e}`,kt=Re<z.length-1?z[Re+1]:null;vt&&kt&&Po(kt)?(Ee.push(new Fi(vt,bs(kt))),Re+=2):(Ee.push(new Fi(vt,{})),Re++)}return new An(Ee,{})}function so(oe){const J={};return Cn(oe,(z,Ee)=>{"string"==typeof z&&(z=[z]),null!==z&&(J[Ee]=ls(new An([],{}),0,z))}),J}function bs(oe){const J={};return Cn(oe,(z,Ee)=>J[Ee]=`${z}`),J}function Go(oe,J,z){return oe==z.path&&Ut(J,z.parameters)}class ia{constructor(J,z,Ee,Re){this.routeReuseStrategy=J,this.futureState=z,this.currState=Ee,this.forwardEvent=Re}activate(J){const z=this.futureState._root,Ee=this.currState?this.currState._root:null;this.deactivateChildRoutes(z,Ee,J),Yr(this.futureState.root),this.activateChildRoutes(z,Ee,J)}deactivateChildRoutes(J,z,Ee){const Re=ro(z);J.children.forEach($e=>{const vt=$e.value.outlet;this.deactivateRoutes($e,Re[vt],Ee),delete Re[vt]}),Cn(Re,($e,vt)=>{this.deactivateRouteAndItsChildren($e,Ee)})}deactivateRoutes(J,z,Ee){const Re=J.value,$e=z?z.value:null;if(Re===$e)if(Re.component){const vt=Ee.getContext(Re.outlet);vt&&this.deactivateChildRoutes(J,z,vt.children)}else this.deactivateChildRoutes(J,z,Ee);else $e&&this.deactivateRouteAndItsChildren(z,Ee)}deactivateRouteAndItsChildren(J,z){this.routeReuseStrategy.shouldDetach(J.value.snapshot)?this.detachAndStoreRouteSubtree(J,z):this.deactivateRouteAndOutlet(J,z)}detachAndStoreRouteSubtree(J,z){const Ee=z.getContext(J.value.outlet);if(Ee&&Ee.outlet){const Re=Ee.outlet.detach(),$e=Ee.children.onOutletDeactivated();this.routeReuseStrategy.store(J.value.snapshot,{componentRef:Re,route:J,contexts:$e})}}deactivateRouteAndOutlet(J,z){const Ee=z.getContext(J.value.outlet),Re=Ee&&J.value.component?Ee.children:z,$e=ro(J);for(const vt of Object.keys($e))this.deactivateRouteAndItsChildren($e[vt],Re);Ee&&Ee.outlet&&(Ee.outlet.deactivate(),Ee.children.onOutletDeactivated(),Ee.attachRef=null,Ee.resolver=null,Ee.route=null)}activateChildRoutes(J,z,Ee){const Re=ro(z);J.children.forEach($e=>{this.activateRoutes($e,Re[$e.value.outlet],Ee),this.forwardEvent(new re($e.value.snapshot))}),J.children.length&&this.forwardEvent(new Je(J.value.snapshot))}activateRoutes(J,z,Ee){const Re=J.value,$e=z?z.value:null;if(Yr(Re),Re===$e)if(Re.component){const vt=Ee.getOrCreateContext(Re.outlet);this.activateChildRoutes(J,z,vt.children)}else this.activateChildRoutes(J,z,Ee);else if(Re.component){const vt=Ee.getOrCreateContext(Re.outlet);if(this.routeReuseStrategy.shouldAttach(Re.snapshot)){const kt=this.routeReuseStrategy.retrieve(Re.snapshot);this.routeReuseStrategy.store(Re.snapshot,null),vt.children.onOutletReAttached(kt.contexts),vt.attachRef=kt.componentRef,vt.route=kt.route.value,vt.outlet&&vt.outlet.attach(kt.componentRef,kt.route.value),Io(kt.route)}else{const kt=function(oe){for(let J=oe.parent;J;J=J.parent){const z=J.routeConfig;if(z&&z._loadedConfig)return z._loadedConfig;if(z&&z.component)return null}return null}(Re.snapshot),yn=kt?kt.module.componentFactoryResolver:null;vt.attachRef=null,vt.route=Re,vt.resolver=yn,vt.outlet&&vt.outlet.activateWith(Re,yn),this.activateChildRoutes(J,null,vt.children)}}else this.activateChildRoutes(J,null,Ee)}}function Io(oe){Yr(oe.value),oe.children.forEach(Io)}class No{constructor(J,z){this.routes=J,this.module=z}}function pr(oe){return"function"==typeof oe}function vr(oe){return oe instanceof Nn}const Fs=Symbol("INITIAL_VALUE");function Nr(){return(0,wt.w)(oe=>(0,y.aj)(oe.map(J=>J.pipe((0,ot.q)(1),(0,tn.O)(Fs)))).pipe(de((J,z)=>{let Ee=!1;return z.reduce((Re,$e,vt)=>Re!==Fs?Re:($e===Fs&&(Ee=!0),Ee||!1!==$e&&vt!==z.length-1&&!vr($e)?Re:$e),J)},Fs),(0,xe.h)(J=>J!==Fs),(0,Jt.U)(J=>vr(J)?J:!0===J),(0,ot.q)(1)))}let ys=(()=>{class oe{}return oe.\u0275fac=function(z){return new(z||oe)},oe.\u0275cmp=o.Xpm({type:oe,selectors:[["ng-component"]],decls:1,vars:0,template:function(z,Ee){1&z&&o._UZ(0,"router-outlet")},directives:function(){return[gl]},encapsulation:2}),oe})();function Bs(oe,J=""){for(let z=0;z<oe.length;z++){const Ee=oe[z];Wo(Ee,ma(J,Ee))}}function Wo(oe,J){oe.children&&Bs(oe.children,J)}function ma(oe,J){return J?oe||J.path?oe&&!J.path?`${oe}/`:!oe&&J.path?J.path:`${oe}/${J.path}`:"":oe}function Qo(oe){const J=oe.children&&oe.children.map(Qo),z=J?Object.assign(Object.assign({},oe),{children:J}):Object.assign({},oe);return!z.component&&(J||z.loadChildren)&&z.outlet&&z.outlet!==Qe&&(z.component=ys),z}function Fn(oe){return oe.outlet||Qe}function be(oe,J){const z=oe.filter(Ee=>Fn(Ee)===J);return z.push(...oe.filter(Ee=>Fn(Ee)!==J)),z}const Ye={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Se(oe,J,z){var Ee;if(""===J.path)return"full"===J.pathMatch&&(oe.hasChildren()||z.length>0)?Object.assign({},Ye):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const $e=(J.matcher||bn)(z,oe,J);if(!$e)return Object.assign({},Ye);const vt={};Cn($e.posParams,(yn,Zn)=>{vt[Zn]=yn.path});const kt=$e.consumed.length>0?Object.assign(Object.assign({},vt),$e.consumed[$e.consumed.length-1].parameters):vt;return{matched:!0,consumedSegments:$e.consumed,lastChild:$e.consumed.length,parameters:kt,positionalParamSegments:null!==(Ee=$e.posParams)&&void 0!==Ee?Ee:{}}}function K(oe,J,z,Ee,Re="corrected"){if(z.length>0&&function(oe,J,z){return z.some(Ee=>Rn(oe,J,Ee)&&Fn(Ee)!==Qe)}(oe,z,Ee)){const vt=new An(J,function(oe,J,z,Ee){const Re={};Re[Qe]=Ee,Ee._sourceSegment=oe,Ee._segmentIndexShift=J.length;for(const $e of z)if(""===$e.path&&Fn($e)!==Qe){const vt=new An([],{});vt._sourceSegment=oe,vt._segmentIndexShift=J.length,Re[Fn($e)]=vt}return Re}(oe,J,Ee,new An(z,oe.children)));return vt._sourceSegment=oe,vt._segmentIndexShift=J.length,{segmentGroup:vt,slicedSegments:[]}}if(0===z.length&&function(oe,J,z){return z.some(Ee=>Rn(oe,J,Ee))}(oe,z,Ee)){const vt=new An(oe.segments,function(oe,J,z,Ee,Re,$e){const vt={};for(const kt of Ee)if(Rn(oe,z,kt)&&!Re[Fn(kt)]){const yn=new An([],{});yn._sourceSegment=oe,yn._segmentIndexShift="legacy"===$e?oe.segments.length:J.length,vt[Fn(kt)]=yn}return Object.assign(Object.assign({},Re),vt)}(oe,J,z,Ee,oe.children,Re));return vt._sourceSegment=oe,vt._segmentIndexShift=J.length,{segmentGroup:vt,slicedSegments:z}}const $e=new An(oe.segments,oe.children);return $e._sourceSegment=oe,$e._segmentIndexShift=J.length,{segmentGroup:$e,slicedSegments:z}}function Rn(oe,J,z){return(!(oe.hasChildren()||J.length>0)||"full"!==z.pathMatch)&&""===z.path}function Si(oe,J,z,Ee){return!!(Fn(oe)===Ee||Ee!==Qe&&Rn(J,z,oe))&&("**"===oe.path||Se(J,oe,z).matched)}function Ui(oe,J,z){return 0===J.length&&!oe.children[z]}class Ei{constructor(J){this.segmentGroup=J||null}}class cr{constructor(J){this.urlTree=J}}function fr(oe){return new M.y(J=>J.error(new Ei(oe)))}function Br(oe){return new M.y(J=>J.error(new cr(oe)))}function Hs(oe){return new M.y(J=>J.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${oe}'`)))}class us{constructor(J,z,Ee,Re,$e){this.configLoader=z,this.urlSerializer=Ee,this.urlTree=Re,this.config=$e,this.allowRedirects=!0,this.ngModule=J.get(o.h0i)}apply(){const J=K(this.urlTree.root,[],[],this.config).segmentGroup,z=new An(J.segments,J.children);return this.expandSegmentGroup(this.ngModule,this.config,z,Qe).pipe((0,Jt.U)($e=>this.createUrlTree(_a($e),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Et.K)($e=>{if($e instanceof cr)return this.allowRedirects=!1,this.match($e.urlTree);throw $e instanceof Ei?this.noMatchError($e):$e}))}match(J){return this.expandSegmentGroup(this.ngModule,this.config,J.root,Qe).pipe((0,Jt.U)(Re=>this.createUrlTree(_a(Re),J.queryParams,J.fragment))).pipe((0,Et.K)(Re=>{throw Re instanceof Ei?this.noMatchError(Re):Re}))}noMatchError(J){return new Error(`Cannot match any routes. URL Segment: '${J.segmentGroup}'`)}createUrlTree(J,z,Ee){const Re=J.segments.length>0?new An([],{[Qe]:J}):J;return new Nn(Re,z,Ee)}expandSegmentGroup(J,z,Ee,Re){return 0===Ee.segments.length&&Ee.hasChildren()?this.expandChildren(J,z,Ee).pipe((0,Jt.U)($e=>new An([],$e))):this.expandSegment(J,Ee,z,Ee.segments,Re,!0)}expandChildren(J,z,Ee){const Re=[];for(const $e of Object.keys(Ee.children))"primary"===$e?Re.unshift($e):Re.push($e);return(0,n.D)(Re).pipe((0,sn.b)($e=>{const vt=Ee.children[$e],kt=be(z,$e);return this.expandSegmentGroup(J,kt,vt,$e).pipe((0,Jt.U)(yn=>({segment:yn,outlet:$e})))}),de(($e,vt)=>($e[vt.outlet]=vt.segment,$e),{}),function(oe,J){const z=arguments.length>=2;return Ee=>Ee.pipe(oe?(0,xe.h)((Re,$e)=>oe(Re,$e,Ee)):Ze.y,ke(1),z?Te(J):ie(()=>new e))}())}expandSegment(J,z,Ee,Re,$e,vt){return(0,n.D)(Ee).pipe((0,sn.b)(kt=>this.expandSegmentAgainstRoute(J,z,Ee,kt,Re,$e,vt).pipe((0,Et.K)(Zn=>{if(Zn instanceof Ei)return(0,s.of)(null);throw Zn}))),Lt(kt=>!!kt),(0,Et.K)((kt,yn)=>{if(kt instanceof e||"EmptyError"===kt.name){if(Ui(z,Re,$e))return(0,s.of)(new An([],{}));throw new Ei(z)}throw kt}))}expandSegmentAgainstRoute(J,z,Ee,Re,$e,vt,kt){return Si(Re,z,$e,vt)?void 0===Re.redirectTo?this.matchSegmentAgainstRoute(J,z,Re,$e,vt):kt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(J,z,Ee,Re,$e,vt):fr(z):fr(z)}expandSegmentAgainstRouteUsingRedirect(J,z,Ee,Re,$e,vt){return"**"===Re.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(J,Ee,Re,vt):this.expandRegularSegmentAgainstRouteUsingRedirect(J,z,Ee,Re,$e,vt)}expandWildCardWithParamsAgainstRouteUsingRedirect(J,z,Ee,Re){const $e=this.applyRedirectCommands([],Ee.redirectTo,{});return Ee.redirectTo.startsWith("/")?Br($e):this.lineralizeSegments(Ee,$e).pipe((0,rt.zg)(vt=>{const kt=new An(vt,{});return this.expandSegment(J,kt,z,vt,Re,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(J,z,Ee,Re,$e,vt){const{matched:kt,consumedSegments:yn,lastChild:Zn,positionalParamSegments:Ji}=Se(z,Re,$e);if(!kt)return fr(z);const _i=this.applyRedirectCommands(yn,Re.redirectTo,Ji);return Re.redirectTo.startsWith("/")?Br(_i):this.lineralizeSegments(Re,_i).pipe((0,rt.zg)(ir=>this.expandSegment(J,z,Ee,ir.concat($e.slice(Zn)),vt,!1)))}matchSegmentAgainstRoute(J,z,Ee,Re,$e){if("**"===Ee.path)return Ee.loadChildren?(Ee._loadedConfig?(0,s.of)(Ee._loadedConfig):this.configLoader.load(J.injector,Ee)).pipe((0,Jt.U)(ir=>(Ee._loadedConfig=ir,new An(Re,{})))):(0,s.of)(new An(Re,{}));const{matched:vt,consumedSegments:kt,lastChild:yn}=Se(z,Ee,Re);if(!vt)return fr(z);const Zn=Re.slice(yn);return this.getChildConfig(J,Ee,Re).pipe((0,rt.zg)(_i=>{const ir=_i.module,zi=_i.routes,{segmentGroup:_o,slicedSegments:Yo}=K(z,kt,Zn,zi),gs=new An(_o.segments,_o.children);if(0===Yo.length&&gs.hasChildren())return this.expandChildren(ir,zi,gs).pipe((0,Jt.U)(sa=>new An(kt,sa)));if(0===zi.length&&0===Yo.length)return(0,s.of)(new An(kt,{}));const lo=Fn(Ee)===$e;return this.expandSegment(ir,gs,zi,Yo,lo?Qe:$e,!0).pipe((0,Jt.U)(vo=>new An(kt.concat(vo.segments),vo.children)))}))}getChildConfig(J,z,Ee){return z.children?(0,s.of)(new No(z.children,J)):z.loadChildren?void 0!==z._loadedConfig?(0,s.of)(z._loadedConfig):this.runCanLoadGuards(J.injector,z,Ee).pipe((0,rt.zg)(Re=>{return Re?this.configLoader.load(J.injector,z).pipe((0,Jt.U)($e=>(z._loadedConfig=$e,$e))):(oe=z,new M.y(J=>J.error(wn(`Cannot load children because the guard of the route "path: '${oe.path}'" returned false`))));var oe})):(0,s.of)(new No([],J))}runCanLoadGuards(J,z,Ee){const Re=z.canLoad;if(!Re||0===Re.length)return(0,s.of)(!0);const $e=Re.map(vt=>{const kt=J.get(vt);let yn;if((oe=kt)&&pr(oe.canLoad))yn=kt.canLoad(z,Ee);else{if(!pr(kt))throw new Error("Invalid CanLoad guard");yn=kt(z,Ee)}var oe;return qn(yn)});return(0,s.of)($e).pipe(Nr(),(0,at.b)(vt=>{if(!vr(vt))return;const kt=wn(`Redirecting to "${this.urlSerializer.serialize(vt)}"`);throw kt.url=vt,kt}),(0,Jt.U)(vt=>!0===vt))}lineralizeSegments(J,z){let Ee=[],Re=z.root;for(;;){if(Ee=Ee.concat(Re.segments),0===Re.numberOfChildren)return(0,s.of)(Ee);if(Re.numberOfChildren>1||!Re.children[Qe])return Hs(J.redirectTo);Re=Re.children[Qe]}}applyRedirectCommands(J,z,Ee){return this.applyRedirectCreatreUrlTree(z,this.urlSerializer.parse(z),J,Ee)}applyRedirectCreatreUrlTree(J,z,Ee,Re){const $e=this.createSegmentGroup(J,z.root,Ee,Re);return new Nn($e,this.createQueryParams(z.queryParams,this.urlTree.queryParams),z.fragment)}createQueryParams(J,z){const Ee={};return Cn(J,(Re,$e)=>{if("string"==typeof Re&&Re.startsWith(":")){const kt=Re.substring(1);Ee[$e]=z[kt]}else Ee[$e]=Re}),Ee}createSegmentGroup(J,z,Ee,Re){const $e=this.createSegments(J,z.segments,Ee,Re);let vt={};return Cn(z.children,(kt,yn)=>{vt[yn]=this.createSegmentGroup(J,kt,Ee,Re)}),new An($e,vt)}createSegments(J,z,Ee,Re){return z.map($e=>$e.path.startsWith(":")?this.findPosParam(J,$e,Re):this.findOrReturn($e,Ee))}findPosParam(J,z,Ee){const Re=Ee[z.path.substring(1)];if(!Re)throw new Error(`Cannot redirect to '${J}'. Cannot find '${z.path}'.`);return Re}findOrReturn(J,z){let Ee=0;for(const Re of z){if(Re.path===J.path)return z.splice(Ee),Re;Ee++}return J}}function _a(oe){const J={};for(const Ee of Object.keys(oe.children)){const $e=_a(oe.children[Ee]);($e.segments.length>0||$e.hasChildren())&&(J[Ee]=$e)}return function(oe){if(1===oe.numberOfChildren&&oe.children[Qe]){const J=oe.children[Qe];return new An(oe.segments.concat(J.segments),J.children)}return oe}(new An(oe.segments,J))}class tl{constructor(J){this.path=J,this.route=this.path[this.path.length-1]}}class nl{constructor(J,z){this.component=J,this.route=z}}function Ua(oe,J,z){const Ee=oe._root;return Mi(Ee,J?J._root:null,z,[Ee.value])}function Es(oe,J,z){const Ee=function(oe){if(!oe)return null;for(let J=oe.parent;J;J=J.parent){const z=J.routeConfig;if(z&&z._loadedConfig)return z._loadedConfig}return null}(J);return(Ee?Ee.module.injector:z).get(oe)}function Mi(oe,J,z,Ee,Re={canDeactivateChecks:[],canActivateChecks:[]}){const $e=ro(J);return oe.children.forEach(vt=>{(function(oe,J,z,Ee,Re={canDeactivateChecks:[],canActivateChecks:[]}){const $e=oe.value,vt=J?J.value:null,kt=z?z.getContext(oe.value.outlet):null;if(vt&&$e.routeConfig===vt.routeConfig){const yn=function(oe,J,z){if("function"==typeof z)return z(oe,J);switch(z){case"pathParamsChange":return!tr(oe.url,J.url);case"pathParamsOrQueryParamsChange":return!tr(oe.url,J.url)||!Ut(oe.queryParams,J.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lr(oe,J)||!Ut(oe.queryParams,J.queryParams);case"paramsChange":default:return!Lr(oe,J)}}(vt,$e,$e.routeConfig.runGuardsAndResolvers);yn?Re.canActivateChecks.push(new tl(Ee)):($e.data=vt.data,$e._resolvedData=vt._resolvedData),Mi(oe,J,$e.component?kt?kt.children:null:z,Ee,Re),yn&&kt&&kt.outlet&&kt.outlet.isActivated&&Re.canDeactivateChecks.push(new nl(kt.outlet.component,vt))}else vt&&Cs(J,kt,Re),Re.canActivateChecks.push(new tl(Ee)),Mi(oe,null,$e.component?kt?kt.children:null:z,Ee,Re)})(vt,$e[vt.value.outlet],z,Ee.concat([vt.value]),Re),delete $e[vt.value.outlet]}),Cn($e,(vt,kt)=>Cs(vt,z.getContext(kt),Re)),Re}function Cs(oe,J,z){const Ee=ro(oe),Re=oe.value;Cn(Ee,($e,vt)=>{Cs($e,Re.component?J?J.children.getContext(vt):null:J,z)}),z.canDeactivateChecks.push(new nl(Re.component&&J&&J.outlet&&J.outlet.isActivated?J.outlet.component:null,Re))}class gt{}function St(oe){return new M.y(J=>J.error(oe))}class vn{constructor(J,z,Ee,Re,$e,vt){this.rootComponentType=J,this.config=z,this.urlTree=Ee,this.url=Re,this.paramsInheritanceStrategy=$e,this.relativeLinkResolution=vt}recognize(){const J=K(this.urlTree.root,[],[],this.config.filter(vt=>void 0===vt.redirectTo),this.relativeLinkResolution).segmentGroup,z=this.processSegmentGroup(this.config,J,Qe);if(null===z)return null;const Ee=new Mr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),Re=new ai(Ee,z),$e=new xo(this.url,Re);return this.inheritParamsAndData($e._root),$e}inheritParamsAndData(J){const z=J.value,Ee=ko(z,this.paramsInheritanceStrategy);z.params=Object.freeze(Ee.params),z.data=Object.freeze(Ee.data),J.children.forEach(Re=>this.inheritParamsAndData(Re))}processSegmentGroup(J,z,Ee){return 0===z.segments.length&&z.hasChildren()?this.processChildren(J,z):this.processSegment(J,z,z.segments,Ee)}processChildren(J,z){const Ee=[];for(const $e of Object.keys(z.children)){const vt=z.children[$e],kt=be(J,$e),yn=this.processSegmentGroup(kt,vt,$e);if(null===yn)return null;Ee.push(...yn)}const Re=Pi(Ee);return Re.sort((J,z)=>J.value.outlet===Qe?-1:z.value.outlet===Qe?1:J.value.outlet.localeCompare(z.value.outlet)),Re}processSegment(J,z,Ee,Re){for(const $e of J){const vt=this.processSegmentAgainstRoute($e,z,Ee,Re);if(null!==vt)return vt}return Ui(z,Ee,Re)?[]:null}processSegmentAgainstRoute(J,z,Ee,Re){if(J.redirectTo||!Si(J,z,Ee,Re))return null;let $e,vt=[],kt=[];if("**"===J.path){const zi=Ee.length>0?xt(Ee).parameters:{};$e=new Mr(Ee,zi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Rr(J),Fn(J),J.component,J,yi(z),Hi(z)+Ee.length,Fr(J))}else{const zi=Se(z,J,Ee);if(!zi.matched)return null;vt=zi.consumedSegments,kt=Ee.slice(zi.lastChild),$e=new Mr(vt,zi.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Rr(J),Fn(J),J.component,J,yi(z),Hi(z)+vt.length,Fr(J))}const yn=(oe=J).children?oe.children:oe.loadChildren?oe._loadedConfig.routes:[],{segmentGroup:Zn,slicedSegments:Ji}=K(z,vt,kt,yn.filter(zi=>void 0===zi.redirectTo),this.relativeLinkResolution);var oe;if(0===Ji.length&&Zn.hasChildren()){const zi=this.processChildren(yn,Zn);return null===zi?null:[new ai($e,zi)]}if(0===yn.length&&0===Ji.length)return[new ai($e,[])];const _i=Fn(J)===Re,ir=this.processSegment(yn,Zn,Ji,_i?Qe:Re);return null===ir?null:[new ai($e,ir)]}}function Ri(oe){const J=oe.value.routeConfig;return J&&""===J.path&&void 0===J.redirectTo}function Pi(oe){const J=[],z=new Set;for(const Ee of oe){if(!Ri(Ee)){J.push(Ee);continue}const Re=J.find($e=>Ee.value.routeConfig===$e.value.routeConfig);void 0!==Re?(Re.children.push(...Ee.children),z.add(Re)):J.push(Ee)}for(const Ee of z){const Re=Pi(Ee.children);J.push(new ai(Ee.value,Re))}return J.filter(Ee=>!z.has(Ee))}function yi(oe){let J=oe;for(;J._sourceSegment;)J=J._sourceSegment;return J}function Hi(oe){let J=oe,z=J._segmentIndexShift?J._segmentIndexShift:0;for(;J._sourceSegment;)J=J._sourceSegment,z+=J._segmentIndexShift?J._segmentIndexShift:0;return z-1}function Rr(oe){return oe.data||{}}function Fr(oe){return oe.resolve||{}}function es(oe){return(0,wt.w)(J=>{const z=oe(J);return z?(0,n.D)(z).pipe((0,Jt.U)(()=>J)):(0,s.of)(J)})}class $l extends class{shouldDetach(J){return!1}store(J,z){}shouldAttach(J){return!1}retrieve(J){return null}shouldReuseRoute(J,z){return J.routeConfig===z.routeConfig}}{}const oa=new o.OlP("ROUTES");class Ar{constructor(J,z,Ee,Re){this.loader=J,this.compiler=z,this.onLoadStartListener=Ee,this.onLoadEndListener=Re}load(J,z){if(z._loader$)return z._loader$;this.onLoadStartListener&&this.onLoadStartListener(z);const Re=this.loadModuleFactory(z.loadChildren).pipe((0,Jt.U)($e=>{this.onLoadEndListener&&this.onLoadEndListener(z);const vt=$e.create(J);return new No(tt(vt.injector.get(oa,void 0,o.XFs.Self|o.XFs.Optional)).map(Qo),vt)}),(0,Et.K)($e=>{throw z._loader$=void 0,$e}));return z._loader$=new ne.c(Re,()=>new te.xQ).pipe((0,Vt.x)()),z._loader$}loadModuleFactory(J){return"string"==typeof J?(0,n.D)(this.loader.load(J)):qn(J()).pipe((0,rt.zg)(z=>z instanceof o.YKP?(0,s.of)(z):(0,n.D)(this.compiler.compileModuleAsync(z))))}}class Qs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dr,this.attachRef=null}}class dr{constructor(){this.contexts=new Map}onChildOutletCreated(J,z){const Ee=this.getOrCreateContext(J);Ee.outlet=z,this.contexts.set(J,Ee)}onChildOutletDestroyed(J){const z=this.getContext(J);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const J=this.contexts;return this.contexts=new Map,J}onOutletReAttached(J){this.contexts=J}getOrCreateContext(J){let z=this.getContext(J);return z||(z=new Qs,this.contexts.set(J,z)),z}getContext(J){return this.contexts.get(J)||null}}class hi{shouldProcessUrl(J){return!0}extract(J){return J}merge(J,z){return J}}function Ci(oe){throw oe}function Qi(oe,J,z){return J.parse("/")}function mo(oe,J){return(0,s.of)(null)}const jo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ao={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ir=(()=>{class oe{constructor(z,Ee,Re,$e,vt,kt,yn,Zn){this.rootComponentType=z,this.urlSerializer=Ee,this.rootContexts=Re,this.location=$e,this.config=Zn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new te.xQ,this.errorHandler=Ci,this.malformedUriErrorHandler=Qi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mo,afterPreactivation:mo},this.urlHandlingStrategy=new hi,this.routeReuseStrategy=new $l,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=vt.get(o.h0i),this.console=vt.get(o.c2e);const ir=vt.get(o.R0b);this.isNgZoneEnabled=ir instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(Zn),this.currentUrlTree=new Nn(new An([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ar(kt,yn,zi=>this.triggerEvent(new hn(zi)),zi=>this.triggerEvent(new mt(zi))),this.routerState=ho(this.currentUrlTree,this.rootComponentType),this.transitions=new f.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var z;return null===(z=this.location.getState())||void 0===z?void 0:z.\u0275routerPageId}setupNavigations(z){const Ee=this.events;return z.pipe((0,xe.h)(Re=>0!==Re.id),(0,Jt.U)(Re=>Object.assign(Object.assign({},Re),{extractedUrl:this.urlHandlingStrategy.extract(Re.rawUrl)})),(0,wt.w)(Re=>{let $e=!1,vt=!1;return(0,s.of)(Re).pipe((0,at.b)(kt=>{this.currentNavigation={id:kt.id,initialUrl:kt.currentRawUrl,extractedUrl:kt.extractedUrl,trigger:kt.source,extras:kt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,wt.w)(kt=>{const yn=this.browserUrlTree.toString(),Zn=!this.navigated||kt.extractedUrl.toString()!==yn||yn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Zn)&&this.urlHandlingStrategy.shouldProcessUrl(kt.rawUrl))return qs(kt.source)&&(this.browserUrlTree=kt.extractedUrl),(0,s.of)(kt).pipe((0,wt.w)(_i=>{const ir=this.transitions.getValue();return Ee.next(new Kn(_i.id,this.serializeUrl(_i.extractedUrl),_i.source,_i.restoredState)),ir!==this.transitions.getValue()?B.E:Promise.resolve(_i)}),function(oe,J,z,Ee){return(0,wt.w)(Re=>function(oe,J,z,Ee,Re){return new us(oe,J,z,Ee,Re).apply()}(oe,J,z,Re.extractedUrl,Ee).pipe((0,Jt.U)($e=>Object.assign(Object.assign({},Re),{urlAfterRedirects:$e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,at.b)(_i=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:_i.urlAfterRedirects})}),function(oe,J,z,Ee,Re){return(0,rt.zg)($e=>function(oe,J,z,Ee,Re="emptyOnly",$e="legacy"){try{const vt=new vn(oe,J,z,Ee,Re,$e).recognize();return null===vt?St(new gt):(0,s.of)(vt)}catch(vt){return St(vt)}}(oe,J,$e.urlAfterRedirects,z($e.urlAfterRedirects),Ee,Re).pipe((0,Jt.U)(vt=>Object.assign(Object.assign({},$e),{targetSnapshot:vt}))))}(this.rootComponentType,this.config,_i=>this.serializeUrl(_i),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,at.b)(_i=>{"eager"===this.urlUpdateStrategy&&(_i.extras.skipLocationChange||this.setBrowserUrl(_i.urlAfterRedirects,_i),this.browserUrlTree=_i.urlAfterRedirects);const ir=new Bt(_i.id,this.serializeUrl(_i.extractedUrl),this.serializeUrl(_i.urlAfterRedirects),_i.targetSnapshot);Ee.next(ir)}));if(Zn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ir,extractedUrl:zi,source:_o,restoredState:Yo,extras:gs}=kt,lo=new Kn(ir,this.serializeUrl(zi),_o,Yo);Ee.next(lo);const to=ho(zi,this.rootComponentType).snapshot;return(0,s.of)(Object.assign(Object.assign({},kt),{targetSnapshot:to,urlAfterRedirects:zi,extras:Object.assign(Object.assign({},gs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=kt.rawUrl,this.browserUrlTree=kt.urlAfterRedirects,kt.resolve(null),B.E}),es(kt=>{const{targetSnapshot:yn,id:Zn,extractedUrl:Ji,rawUrl:_i,extras:{skipLocationChange:ir,replaceUrl:zi}}=kt;return this.hooks.beforePreactivation(yn,{navigationId:Zn,appliedUrlTree:Ji,rawUrlTree:_i,skipLocationChange:!!ir,replaceUrl:!!zi})}),(0,at.b)(kt=>{const yn=new Fe(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(yn)}),(0,Jt.U)(kt=>Object.assign(Object.assign({},kt),{guards:Ua(kt.targetSnapshot,kt.currentSnapshot,this.rootContexts)})),function(oe,J){return(0,rt.zg)(z=>{const{targetSnapshot:Ee,currentSnapshot:Re,guards:{canActivateChecks:$e,canDeactivateChecks:vt}}=z;return 0===vt.length&&0===$e.length?(0,s.of)(Object.assign(Object.assign({},z),{guardsResult:!0})):function(oe,J,z,Ee){return(0,n.D)(oe).pipe((0,rt.zg)(Re=>function(oe,J,z,Ee,Re){const $e=J&&J.routeConfig?J.routeConfig.canDeactivate:null;if(!$e||0===$e.length)return(0,s.of)(!0);const vt=$e.map(kt=>{const yn=Es(kt,J,Re);let Zn;if(function(oe){return oe&&pr(oe.canDeactivate)}(yn))Zn=qn(yn.canDeactivate(oe,J,z,Ee));else{if(!pr(yn))throw new Error("Invalid CanDeactivate guard");Zn=qn(yn(oe,J,z,Ee))}return Zn.pipe(Lt())});return(0,s.of)(vt).pipe(Nr())}(Re.component,Re.route,z,J,Ee)),Lt(Re=>!0!==Re,!0))}(vt,Ee,Re,oe).pipe((0,rt.zg)(kt=>kt&&function(oe){return"boolean"==typeof oe}(kt)?function(oe,J,z,Ee){return(0,n.D)(J).pipe((0,sn.b)(Re=>(0,A.z)(function(oe,J){return null!==oe&&J&&J(new Ht(oe)),(0,s.of)(!0)}(Re.route.parent,Ee),function(oe,J){return null!==oe&&J&&J(new X(oe)),(0,s.of)(!0)}(Re.route,Ee),function(oe,J,z){const Ee=J[J.length-1],$e=J.slice(0,J.length-1).reverse().map(vt=>function(oe){const J=oe.routeConfig?oe.routeConfig.canActivateChild:null;return J&&0!==J.length?{node:oe,guards:J}:null}(vt)).filter(vt=>null!==vt).map(vt=>(0,P.P)(()=>{const kt=vt.guards.map(yn=>{const Zn=Es(yn,vt.node,z);let Ji;if(function(oe){return oe&&pr(oe.canActivateChild)}(Zn))Ji=qn(Zn.canActivateChild(Ee,oe));else{if(!pr(Zn))throw new Error("Invalid CanActivateChild guard");Ji=qn(Zn(Ee,oe))}return Ji.pipe(Lt())});return(0,s.of)(kt).pipe(Nr())}));return(0,s.of)($e).pipe(Nr())}(oe,Re.path,z),function(oe,J,z){const Ee=J.routeConfig?J.routeConfig.canActivate:null;if(!Ee||0===Ee.length)return(0,s.of)(!0);const Re=Ee.map($e=>(0,P.P)(()=>{const vt=Es($e,J,z);let kt;if(function(oe){return oe&&pr(oe.canActivate)}(vt))kt=qn(vt.canActivate(J,oe));else{if(!pr(vt))throw new Error("Invalid CanActivate guard");kt=qn(vt(J,oe))}return kt.pipe(Lt())}));return(0,s.of)(Re).pipe(Nr())}(oe,Re.route,z))),Lt(Re=>!0!==Re,!0))}(Ee,$e,oe,J):(0,s.of)(kt)),(0,Jt.U)(kt=>Object.assign(Object.assign({},z),{guardsResult:kt})))})}(this.ngModule.injector,kt=>this.triggerEvent(kt)),(0,at.b)(kt=>{if(vr(kt.guardsResult)){const Zn=wn(`Redirecting to "${this.serializeUrl(kt.guardsResult)}"`);throw Zn.url=kt.guardsResult,Zn}const yn=new it(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot,!!kt.guardsResult);this.triggerEvent(yn)}),(0,xe.h)(kt=>!!kt.guardsResult||(this.restoreHistory(kt),this.cancelNavigationTransition(kt,""),!1)),es(kt=>{if(kt.guards.canActivateChecks.length)return(0,s.of)(kt).pipe((0,at.b)(yn=>{const Zn=new un(yn.id,this.serializeUrl(yn.extractedUrl),this.serializeUrl(yn.urlAfterRedirects),yn.targetSnapshot);this.triggerEvent(Zn)}),(0,wt.w)(yn=>{let Zn=!1;return(0,s.of)(yn).pipe(function(oe,J){return(0,rt.zg)(z=>{const{targetSnapshot:Ee,guards:{canActivateChecks:Re}}=z;if(!Re.length)return(0,s.of)(z);let $e=0;return(0,n.D)(Re).pipe((0,sn.b)(vt=>function(oe,J,z,Ee){return function(oe,J,z,Ee){const Re=Object.keys(oe);if(0===Re.length)return(0,s.of)({});const $e={};return(0,n.D)(Re).pipe((0,rt.zg)(vt=>function(oe,J,z,Ee){const Re=Es(oe,J,Ee);return qn(Re.resolve?Re.resolve(J,z):Re(J,z))}(oe[vt],J,z,Ee).pipe((0,at.b)(kt=>{$e[vt]=kt}))),ke(1),(0,rt.zg)(()=>Object.keys($e).length===Re.length?(0,s.of)($e):B.E))}(oe._resolve,oe,J,Ee).pipe((0,Jt.U)($e=>(oe._resolvedData=$e,oe.data=Object.assign(Object.assign({},oe.data),ko(oe,z).resolve),null)))}(vt.route,Ee,oe,J)),(0,at.b)(()=>$e++),ke(1),(0,rt.zg)(vt=>$e===Re.length?(0,s.of)(z):B.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,at.b)({next:()=>Zn=!0,complete:()=>{Zn||(this.restoreHistory(yn),this.cancelNavigationTransition(yn,"At least one route resolver didn't emit any value."))}}))}),(0,at.b)(yn=>{const Zn=new ft(yn.id,this.serializeUrl(yn.extractedUrl),this.serializeUrl(yn.urlAfterRedirects),yn.targetSnapshot);this.triggerEvent(Zn)}))}),es(kt=>{const{targetSnapshot:yn,id:Zn,extractedUrl:Ji,rawUrl:_i,extras:{skipLocationChange:ir,replaceUrl:zi}}=kt;return this.hooks.afterPreactivation(yn,{navigationId:Zn,appliedUrlTree:Ji,rawUrlTree:_i,skipLocationChange:!!ir,replaceUrl:!!zi})}),(0,Jt.U)(kt=>{const yn=function(oe,J,z){const Ee=wo(oe,J._root,z?z._root:void 0);return new Uo(Ee,J)}(this.routeReuseStrategy,kt.targetSnapshot,kt.currentRouterState);return Object.assign(Object.assign({},kt),{targetRouterState:yn})}),(0,at.b)(kt=>{this.currentUrlTree=kt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(kt.urlAfterRedirects,kt.rawUrl),this.routerState=kt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(kt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,kt),this.browserUrlTree=kt.urlAfterRedirects)}),((oe,J,z)=>(0,Jt.U)(Ee=>(new ia(J,Ee.targetRouterState,Ee.currentRouterState,z).activate(oe),Ee)))(this.rootContexts,this.routeReuseStrategy,kt=>this.triggerEvent(kt)),(0,at.b)({next(){$e=!0},complete(){$e=!0}}),(0,zt.x)(()=>{var kt;if(!$e&&!vt){const yn=`Navigation ID ${Re.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(Re),this.cancelNavigationTransition(Re,yn)):this.cancelNavigationTransition(Re,yn)}(null===(kt=this.currentNavigation)||void 0===kt?void 0:kt.id)===Re.id&&(this.currentNavigation=null)}),(0,Et.K)(kt=>{if(vt=!0,function(oe){return oe&&oe[Zt]}(kt)){const yn=vr(kt.url);yn||(this.navigated=!0,this.restoreHistory(Re,!0));const Zn=new dn(Re.id,this.serializeUrl(Re.extractedUrl),kt.message);Ee.next(Zn),yn?setTimeout(()=>{const Ji=this.urlHandlingStrategy.merge(kt.url,this.rawUrlTree),_i={skipLocationChange:Re.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qs(Re.source)};this.scheduleNavigation(Ji,"imperative",null,_i,{resolve:Re.resolve,reject:Re.reject,promise:Re.promise})},0):Re.resolve(!1)}else{this.restoreHistory(Re,!0);const yn=new It(Re.id,this.serializeUrl(Re.extractedUrl),kt);Ee.next(yn);try{Re.resolve(this.errorHandler(kt))}catch(Zn){Re.reject(Zn)}}return B.E}))}))}resetRootComponentType(z){this.rootComponentType=z,this.routerState.root.component=this.rootComponentType}getTransition(){const z=this.transitions.value;return z.urlAfterRedirects=this.browserUrlTree,z}setTransition(z){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),z))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(z=>{const Ee=this.extractLocationChangeInfoFromEvent(z);this.shouldScheduleNavigation(this.lastLocationChangeInfo,Ee)&&setTimeout(()=>{const{source:Re,state:$e,urlTree:vt}=Ee,kt={replaceUrl:!0};if($e){const yn=Object.assign({},$e);delete yn.navigationId,delete yn.\u0275routerPageId,0!==Object.keys(yn).length&&(kt.state=yn)}this.scheduleNavigation(vt,Re,$e,kt)},0),this.lastLocationChangeInfo=Ee}))}extractLocationChangeInfoFromEvent(z){var Ee;return{source:"popstate"===z.type?"popstate":"hashchange",urlTree:this.parseUrl(z.url),state:(null===(Ee=z.state)||void 0===Ee?void 0:Ee.navigationId)?z.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(z,Ee){if(!z)return!0;const Re=Ee.urlTree.toString()===z.urlTree.toString();return Ee.transitionId!==z.transitionId||!Re||!("hashchange"===Ee.source&&"popstate"===z.source||"popstate"===Ee.source&&"hashchange"===z.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(z){this.events.next(z)}resetConfig(z){Bs(z),this.config=z.map(Qo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(z,Ee={}){const{relativeTo:Re,queryParams:$e,fragment:vt,queryParamsHandling:kt,preserveFragment:yn}=Ee,Zn=Re||this.routerState.root,Ji=yn?this.currentUrlTree.fragment:vt;let _i=null;switch(kt){case"merge":_i=Object.assign(Object.assign({},this.currentUrlTree.queryParams),$e);break;case"preserve":_i=this.currentUrlTree.queryParams;break;default:_i=$e||null}return null!==_i&&(_i=this.removeEmptyProps(_i)),function(oe,J,z,Ee,Re){if(0===z.length)return na(J.root,J.root,J,Ee,Re);const $e=function(oe){if("string"==typeof oe[0]&&1===oe.length&&"/"===oe[0])return new fa(!0,0,oe);let J=0,z=!1;const Ee=oe.reduce((Re,$e,vt)=>{if("object"==typeof $e&&null!=$e){if($e.outlets){const kt={};return Cn($e.outlets,(yn,Zn)=>{kt[Zn]="string"==typeof yn?yn.split("/"):yn}),[...Re,{outlets:kt}]}if($e.segmentPath)return[...Re,$e.segmentPath]}return"string"!=typeof $e?[...Re,$e]:0===vt?($e.split("/").forEach((kt,yn)=>{0==yn&&"."===kt||(0==yn&&""===kt?z=!0:".."===kt?J++:""!=kt&&Re.push(kt))}),Re):[...Re,$e]},[]);return new fa(z,J,Ee)}(z);if($e.toRoot())return na(J.root,new An([],{}),J,Ee,Re);const vt=function(oe,J,z){if(oe.isAbsolute)return new ga(J.root,!0,0);if(-1===z.snapshot._lastPathIndex){const $e=z.snapshot._urlSegment;return new ga($e,$e===J.root,0)}const Ee=Po(oe.commands[0])?0:1;return function(oe,J,z){let Ee=oe,Re=J,$e=z;for(;$e>Re;){if($e-=Re,Ee=Ee.parent,!Ee)throw new Error("Invalid number of '../'");Re=Ee.segments.length}return new ga(Ee,!1,Re-$e)}(z.snapshot._urlSegment,z.snapshot._lastPathIndex+Ee,oe.numberOfDoubleDots)}($e,J,oe),kt=vt.processChildren?as(vt.segmentGroup,vt.index,$e.commands):Ls(vt.segmentGroup,vt.index,$e.commands);return na(vt.segmentGroup,kt,J,Ee,Re)}(Zn,this.currentUrlTree,z,_i,null!=Ji?Ji:null)}navigateByUrl(z,Ee={skipLocationChange:!1}){const Re=vr(z)?z:this.parseUrl(z),$e=this.urlHandlingStrategy.merge(Re,this.rawUrlTree);return this.scheduleNavigation($e,"imperative",null,Ee)}navigate(z,Ee={skipLocationChange:!1}){return function(oe){for(let J=0;J<oe.length;J++){const z=oe[J];if(null==z)throw new Error(`The requested path contains ${z} segment at index ${J}`)}}(z),this.navigateByUrl(this.createUrlTree(z,Ee),Ee)}serializeUrl(z){return this.urlSerializer.serialize(z)}parseUrl(z){let Ee;try{Ee=this.urlSerializer.parse(z)}catch(Re){Ee=this.malformedUriErrorHandler(Re,this.urlSerializer,z)}return Ee}isActive(z,Ee){let Re;if(Re=!0===Ee?Object.assign({},jo):!1===Ee?Object.assign({},ao):Ee,vr(z))return Dt(this.currentUrlTree,z,Re);const $e=this.parseUrl(z);return Dt(this.currentUrlTree,$e,Re)}removeEmptyProps(z){return Object.keys(z).reduce((Ee,Re)=>{const $e=z[Re];return null!=$e&&(Ee[Re]=$e),Ee},{})}processNavigations(){this.navigations.subscribe(z=>{this.navigated=!0,this.lastSuccessfulId=z.id,this.currentPageId=z.targetPageId,this.events.next(new Yn(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,z.resolve(!0)},z=>{this.console.warn(`Unhandled Navigation Error: ${z}`)})}scheduleNavigation(z,Ee,Re,$e,vt){var kt,yn;if(this.disposed)return Promise.resolve(!1);const Zn=this.getTransition(),Ji=qs(Ee)&&Zn&&!qs(Zn.source),zi=(this.lastSuccessfulId===Zn.id||this.currentNavigation?Zn.rawUrl:Zn.urlAfterRedirects).toString()===z.toString();if(Ji&&zi)return Promise.resolve(!0);let _o,Yo,gs;vt?(_o=vt.resolve,Yo=vt.reject,gs=vt.promise):gs=new Promise((vo,sa)=>{_o=vo,Yo=sa});const lo=++this.navigationId;let to;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Re=this.location.getState()),to=Re&&Re.\u0275routerPageId?Re.\u0275routerPageId:$e.replaceUrl||$e.skipLocationChange?null!==(kt=this.browserPageId)&&void 0!==kt?kt:0:(null!==(yn=this.browserPageId)&&void 0!==yn?yn:0)+1):to=0,this.setTransition({id:lo,targetPageId:to,source:Ee,restoredState:Re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:z,extras:$e,resolve:_o,reject:Yo,promise:gs,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gs.catch(vo=>Promise.reject(vo))}setBrowserUrl(z,Ee){const Re=this.urlSerializer.serialize(z),$e=Object.assign(Object.assign({},Ee.extras.state),this.generateNgRouterState(Ee.id,Ee.targetPageId));this.location.isCurrentPathEqualTo(Re)||Ee.extras.replaceUrl?this.location.replaceState(Re,"",$e):this.location.go(Re,"",$e)}restoreHistory(z,Ee=!1){var Re,$e;if("computed"===this.canceledNavigationResolution){const vt=this.currentPageId-z.targetPageId;"popstate"!==z.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Re=this.currentNavigation)||void 0===Re?void 0:Re.finalUrl)||0===vt?this.currentUrlTree===(null===($e=this.currentNavigation)||void 0===$e?void 0:$e.finalUrl)&&0===vt&&(this.resetState(z),this.browserUrlTree=z.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(vt)}else"replace"===this.canceledNavigationResolution&&(Ee&&this.resetState(z),this.resetUrlToCurrentUrlTree())}resetState(z){this.routerState=z.currentRouterState,this.currentUrlTree=z.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,z.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(z,Ee){const Re=new dn(z.id,this.serializeUrl(z.extractedUrl),Ee);this.triggerEvent(Re),z.resolve(!1)}generateNgRouterState(z,Ee){return"computed"===this.canceledNavigationResolution?{navigationId:z,\u0275routerPageId:Ee}:{navigationId:z}}}return oe.\u0275fac=function(z){return new(z||oe)(o.LFG(o.DyG),o.LFG(Di),o.LFG(dr),o.LFG(E.Ye),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function qs(oe){return"imperative"!==oe}let ps=(()=>{class oe{constructor(z,Ee,Re){this.router=z,this.route=Ee,this.locationStrategy=Re,this.commands=[],this.onChanges=new te.xQ,this.subscription=z.events.subscribe($e=>{$e instanceof Yn&&this.updateTargetUrlAndHref()})}set routerLink(z){this.commands=null!=z?Array.isArray(z)?z:[z]:[]}ngOnChanges(z){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(z,Ee,Re,$e,vt){if(0!==z||Ee||Re||$e||vt||"string"==typeof this.target&&"_self"!=this.target)return!0;const kt={skipLocationChange:eo(this.skipLocationChange),replaceUrl:eo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,kt),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eo(this.preserveFragment)})}}return oe.\u0275fac=function(z){return new(z||oe)(o.Y36(Ir),o.Y36(di),o.Y36(E.S$))},oe.\u0275dir=o.lG2({type:oe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(z,Ee){1&z&&o.NdJ("click",function($e){return Ee.onClick($e.button,$e.ctrlKey,$e.shiftKey,$e.altKey,$e.metaKey)}),2&z&&(o.Ikx("href",Ee.href,o.LSH),o.uIk("target",Ee.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),oe})();function eo(oe){return""===oe||!!oe}let gl=(()=>{class oe{constructor(z,Ee,Re,$e,vt){this.parentContexts=z,this.location=Ee,this.resolver=Re,this.changeDetector=vt,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=$e||Qe,z.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const z=this.parentContexts.getContext(this.name);z&&z.route&&(z.attachRef?this.attach(z.attachRef,z.route):this.activateWith(z.route,z.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const z=this.activated;return this.activated=null,this._activatedRoute=null,z}attach(z,Ee){this.activated=z,this._activatedRoute=Ee,this.location.insert(z.hostView)}deactivate(){if(this.activated){const z=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(z)}}activateWith(z,Ee){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=z;const vt=(Ee=Ee||this.resolver).resolveComponentFactory(z._futureSnapshot.routeConfig.component),kt=this.parentContexts.getOrCreateContext(this.name).children,yn=new fs(z,kt,this.location.injector);this.activated=this.location.createComponent(vt,this.location.length,yn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return oe.\u0275fac=function(z){return new(z||oe)(o.Y36(dr),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},oe.\u0275dir=o.lG2({type:oe,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),oe})();class fs{constructor(J,z,Ee){this.route=J,this.childContexts=z,this.parent=Ee}get(J,z){return J===di?this.route:J===dr?this.childContexts:this.parent.get(J,z)}}class ba{}class Ml{preload(J,z){return(0,s.of)(null)}}let mc=(()=>{class oe{constructor(z,Ee,Re,$e,vt){this.router=z,this.injector=$e,this.preloadingStrategy=vt,this.loader=new Ar(Ee,Re,Zn=>z.triggerEvent(new hn(Zn)),Zn=>z.triggerEvent(new mt(Zn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,xe.h)(z=>z instanceof Yn),(0,sn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const z=this.injector.get(o.h0i);return this.processRoutes(z,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(z,Ee){const Re=[];for(const $e of Ee)if($e.loadChildren&&!$e.canLoad&&$e._loadedConfig){const vt=$e._loadedConfig;Re.push(this.processRoutes(vt.module,vt.routes))}else $e.loadChildren&&!$e.canLoad?Re.push(this.preloadConfig(z,$e)):$e.children&&Re.push(this.processRoutes(z,$e.children));return(0,n.D)(Re).pipe((0,$t.J)(),(0,Jt.U)($e=>{}))}preloadConfig(z,Ee){return this.preloadingStrategy.preload(Ee,()=>(Ee._loadedConfig?(0,s.of)(Ee._loadedConfig):this.loader.load(z.injector,Ee)).pipe((0,rt.zg)($e=>(Ee._loadedConfig=$e,this.processRoutes($e.module,$e.routes)))))}}return oe.\u0275fac=function(z){return new(z||oe)(o.LFG(Ir),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(ba))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Jl=(()=>{class oe{constructor(z,Ee,Re={}){this.router=z,this.viewportScroller=Ee,this.options=Re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Re.scrollPositionRestoration=Re.scrollPositionRestoration||"disabled",Re.anchorScrolling=Re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(z=>{z instanceof Kn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=z.navigationTrigger,this.restoredId=z.restoredState?z.restoredState.navigationId:0):z instanceof Yn&&(this.lastId=z.id,this.scheduleScrollEvent(z,this.router.parseUrl(z.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(z=>{z instanceof ze&&(z.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(z.position):z.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(z.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(z,Ee){this.router.triggerEvent(new ze(z,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ee))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return oe.\u0275fac=function(z){return new(z||oe)(o.LFG(Ir),o.LFG(E.EM),o.LFG(void 0))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const ns=new o.OlP("ROUTER_CONFIGURATION"),Ao=new o.OlP("ROUTER_FORROOT_GUARD"),Ss=[E.Ye,{provide:Di,useClass:Cr},{provide:Ir,useFactory:function(oe,J,z,Ee,Re,$e,vt,kt={},yn,Zn){const Ji=new Ir(null,oe,J,z,Ee,Re,$e,tt(vt));return yn&&(Ji.urlHandlingStrategy=yn),Zn&&(Ji.routeReuseStrategy=Zn),function(oe,J){oe.errorHandler&&(J.errorHandler=oe.errorHandler),oe.malformedUriErrorHandler&&(J.malformedUriErrorHandler=oe.malformedUriErrorHandler),oe.onSameUrlNavigation&&(J.onSameUrlNavigation=oe.onSameUrlNavigation),oe.paramsInheritanceStrategy&&(J.paramsInheritanceStrategy=oe.paramsInheritanceStrategy),oe.relativeLinkResolution&&(J.relativeLinkResolution=oe.relativeLinkResolution),oe.urlUpdateStrategy&&(J.urlUpdateStrategy=oe.urlUpdateStrategy)}(kt,Ji),kt.enableTracing&&Ji.events.subscribe(_i=>{var ir,zi;null===(ir=console.group)||void 0===ir||ir.call(console,`Router Event: ${_i.constructor.name}`),console.log(_i.toString()),console.log(_i),null===(zi=console.groupEnd)||void 0===zi||zi.call(console)}),Ji},deps:[Di,dr,E.Ye,o.zs3,o.v3s,o.Sil,oa,ns,[class{},new o.FiY],[class{},new o.FiY]]},dr,{provide:di,useFactory:function(oe){return oe.routerState.root},deps:[Ir]},{provide:o.v3s,useClass:o.EAV},mc,Ml,class{preload(J,z){return z().pipe((0,Et.K)(()=>(0,s.of)(null)))}},{provide:ns,useValue:{enableTracing:!1}}];function Il(){return new o.PXZ("Router",Ir)}let ja=(()=>{class oe{constructor(z,Ee){}static forRoot(z,Ee){return{ngModule:oe,providers:[Ss,Ol(z),{provide:Ao,useFactory:Al,deps:[[Ir,new o.FiY,new o.tp0]]},{provide:ns,useValue:Ee||{}},{provide:E.S$,useFactory:ya,deps:[E.lw,[new o.tBr(E.mr),new o.FiY],ns]},{provide:Jl,useFactory:Vc,deps:[Ir,E.EM,ns]},{provide:ba,useExisting:Ee&&Ee.preloadingStrategy?Ee.preloadingStrategy:Ml},{provide:o.PXZ,multi:!0,useFactory:Il},[kl,{provide:o.ip1,multi:!0,useFactory:mu,deps:[kl]},{provide:vl,useFactory:_l,deps:[kl]},{provide:o.tb,multi:!0,useExisting:vl}]]}}static forChild(z){return{ngModule:oe,providers:[Ol(z)]}}}return oe.\u0275fac=function(z){return new(z||oe)(o.LFG(Ao,8),o.LFG(Ir,8))},oe.\u0275mod=o.oAB({type:oe}),oe.\u0275inj=o.cJS({}),oe})();function Vc(oe,J,z){return z.scrollOffset&&J.setOffset(z.scrollOffset),new Jl(oe,J,z)}function ya(oe,J,z={}){return z.useHash?new E.Do(oe,J):new E.b0(oe,J)}function Al(oe){return"guarded"}function Ol(oe){return[{provide:o.deG,multi:!0,useValue:oe},{provide:oa,multi:!0,useValue:oe}]}let kl=(()=>{class oe{constructor(z){this.injector=z,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new te.xQ}appInitializer(){return this.injector.get(E.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let Ee=null;const Re=new Promise(kt=>Ee=kt),$e=this.injector.get(Ir),vt=this.injector.get(ns);return"disabled"===vt.initialNavigation?($e.setUpLocationChangeListener(),Ee(!0)):"enabled"===vt.initialNavigation||"enabledBlocking"===vt.initialNavigation?($e.hooks.afterPreactivation=()=>this.initNavigation?(0,s.of)(null):(this.initNavigation=!0,Ee(!0),this.resultOfPreactivationDone),$e.initialNavigation()):Ee(!0),Re})}bootstrapListener(z){const Ee=this.injector.get(ns),Re=this.injector.get(mc),$e=this.injector.get(Jl),vt=this.injector.get(Ir),kt=this.injector.get(o.z2F);z===kt.components[0]&&(("enabledNonBlocking"===Ee.initialNavigation||void 0===Ee.initialNavigation)&&vt.initialNavigation(),Re.setUpPreloading(),$e.init(),vt.resetRootComponentType(kt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return oe.\u0275fac=function(z){return new(z||oe)(o.LFG(o.zs3))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function mu(oe){return oe.appInitializer.bind(oe)}function _l(oe){return oe.bootstrapListener.bind(oe)}const vl=new o.OlP("Router Initializer")},72749:function(F,U,_){var E,o,t;o=[_(99240)],void 0!==(t="function"==typeof(E=function(e){"use strict";return e})?E.apply(U,o):E)&&(F.exports=t)},99240:function(F,U){var _,o;void 0!==(o="function"==typeof(_=function(){"use strict";var t={connectionTypes:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4},constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};return t.CONNECTING_SNAP_RADIUS=t.SNAP_RADIUS,t.CURRENT_CONNECTION_PREFERENCE=8,t.BUMP_DELAY=250,t.BUMP_RANDOMNESS=10,t.COLLAPSE_CHARS=30,t.LONGPRESS=750,t.SOUND_LIMIT=100,t.DRAG_STACK=!0,t.HSV_SATURATION=.45,t.HSV_VALUE=.65,t.SPRITE={width:96,height:124,url:"sprites.png"},t.constants.ALIGN={LEFT:-1,CENTRE:0,RIGHT:1},t.DRAG_NONE=0,t.DRAG_STICKY=1,t.DRAG_BEGIN=1,t.DRAG_FREE=2,t.OPPOSITE_TYPE=[],t.OPPOSITE_TYPE[t.connectionTypes.INPUT_VALUE]=t.connectionTypes.OUTPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.OUTPUT_VALUE]=t.connectionTypes.INPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.NEXT_STATEMENT]=t.connectionTypes.PREVIOUS_STATEMENT,t.OPPOSITE_TYPE[t.connectionTypes.PREVIOUS_STATEMENT]=t.connectionTypes.NEXT_STATEMENT,t.VARIABLE_CATEGORY_NAME="VARIABLE",t.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",t.PROCEDURE_CATEGORY_NAME="PROCEDURE",t.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",t.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",t.constants.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",t.constants.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",t.utils={},t.utils.global=function(){return"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:this}(),t.Msg={},t.utils.global.Blockly||(t.utils.global.Blockly={}),t.utils.global.Blockly.Msg||(t.utils.global.Blockly.Msg=t.Msg),t.utils.colour={},t.utils.colour.parse=function(e){e=String(e).toLowerCase().trim();var n=t.utils.colour.names[e];if(n||(n="0x"==e.substring(0,2)?"#"+e.substring(2):e,/^#[0-9a-f]{6}$/.test(n="#"==n[0]?n:"#"+n)))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");var s=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return s&&(e=Number(s[1]),n=Number(s[2]),s=Number(s[3]),0<=e&&256>e&&0<=n&&256>n&&0<=s&&256>s)?t.utils.colour.rgbToHex(e,n,s):null},t.utils.colour.rgbToHex=function(e,n,s){return n=e<<16|n<<8|s,16>e?"#"+(16777216|n).toString(16).substr(1):"#"+n.toString(16)},t.utils.colour.hexToRgb=function(e){return(e=t.utils.colour.parse(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},t.utils.colour.hsvToHex=function(e,n,s){var f=0,y=0,M=0;if(0==n)M=y=f=s;else{var A=Math.floor(e/60),P=e/60-A;e=s*(1-n);var B=s*(1-n*P);switch(n=s*(1-n*(1-P)),A){case 1:f=B,y=s,M=e;break;case 2:f=e,y=s,M=n;break;case 3:f=e,y=B,M=s;break;case 4:f=n,y=e,M=s;break;case 5:f=s,y=e,M=B;break;case 6:case 0:f=s,y=n,M=e}}return t.utils.colour.rgbToHex(Math.floor(f),Math.floor(y),Math.floor(M))},t.utils.colour.blend=function(e,n,s){return(e=t.utils.colour.parse(e))&&(n=t.utils.colour.parse(n))?(e=t.utils.colour.hexToRgb(e),n=t.utils.colour.hexToRgb(n),t.utils.colour.rgbToHex(Math.round(n[0]+s*(e[0]-n[0])),Math.round(n[1]+s*(e[1]-n[1])),Math.round(n[2]+s*(e[2]-n[2])))):null},t.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},t.utils.Coordinate=function(e,n){this.x=e,this.y=n},t.utils.Coordinate.equals=function(e,n){return e==n||!(!e||!n)&&e.x==n.x&&e.y==n.y},t.utils.Coordinate.distance=function(e,n){var s=e.x-n.x;return e=e.y-n.y,Math.sqrt(s*s+e*e)},t.utils.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.utils.Coordinate.difference=function(e,n){return new t.utils.Coordinate(e.x-n.x,e.y-n.y)},t.utils.Coordinate.sum=function(e,n){return new t.utils.Coordinate(e.x+n.x,e.y+n.y)},t.utils.Coordinate.prototype.clone=function(){return new t.utils.Coordinate(this.x,this.y)},t.utils.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},t.utils.Coordinate.prototype.translate=function(e,n){return this.x+=e,this.y+=n,this},t.utils.Rect=function(e,n,s,f){this.top=e,this.bottom=n,this.left=s,this.right=f},t.utils.Rect.prototype.contains=function(e,n){return e>=this.left&&e<=this.right&&n>=this.top&&n<=this.bottom},t.utils.Rect.prototype.intersects=function(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)},t.utils.string={},t.utils.string.startsWith=function(e,n){return 0==e.lastIndexOf(n,0)},t.utils.string.shortestStringLength=function(e){return e.length?e.reduce(function(n,s){return n.length<s.length?n:s}).length:0},t.utils.string.commonWordPrefix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;var s=0;n=n||t.utils.string.shortestStringLength(e);for(var f=0;f<n;f++){for(var y=e[0][f],M=1;M<e.length;M++)if(y!=e[M][f])return s;" "==y&&(s=f+1)}for(M=1;M<e.length;M++)if((y=e[M][f])&&" "!=y)return s;return n},t.utils.string.commonWordSuffix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;var s=0;n=n||t.utils.string.shortestStringLength(e);for(var f=0;f<n;f++){for(var y=e[0].substr(-f-1,1),M=1;M<e.length;M++)if(y!=e[M].substr(-f-1,1))return s;" "==y&&(s=f+1)}for(M=1;M<e.length;M++)if((y=e[M].charAt(e[M].length-f-1))&&" "!=y)return s;return n},t.utils.string.wrap=function(e,n){e=e.split("\n");for(var s=0;s<e.length;s++)e[s]=t.utils.string.wrapLine_(e[s],n);return e.join("\n")},t.utils.string.wrapLine_=function(e,n){if(e.length<=n)return e;for(var s=e.trim().split(/\s+/),f=0;f<s.length;f++)s[f].length>n&&(n=s[f].length);f=-1/0;var y=1;do{var M=f,A=e;e=[];var P=s.length/y,B=1;for(f=0;f<s.length-1;f++)B<(f+1.5)/P?(B++,e[f]=!0):e[f]=!1;e=t.utils.string.wrapMutate_(s,e,n),f=t.utils.string.wrapScore_(s,e,n),e=t.utils.string.wrapToText_(s,e),y++}while(f>M);return A},t.utils.string.wrapScore_=function(e,n,s){for(var f=[0],y=[],M=0;M<e.length;M++)f[f.length-1]+=e[M].length,!0===n[M]?(f.push(0),y.push(e[M].charAt(e[M].length-1))):!1===n[M]&&f[f.length-1]++;for(e=Math.max.apply(Math,f),M=n=0;M<f.length;M++)n-=2*Math.pow(Math.abs(s-f[M]),1.5),n-=Math.pow(e-f[M],1.5),-1!=".?!".indexOf(y[M])?n+=s/3:-1!=",;)]}".indexOf(y[M])&&(n+=s/4);return 1<f.length&&f[f.length-1]<=f[f.length-2]&&(n+=.5),n},t.utils.string.wrapMutate_=function(e,n,s){for(var y,f=t.utils.string.wrapScore_(e,n,s),M=0;M<n.length-1;M++)if(n[M]!=n[M+1]){var A=[].concat(n);A[M]=!A[M],A[M+1]=!A[M+1];var P=t.utils.string.wrapScore_(e,A,s);P>f&&(f=P,y=A)}return y?t.utils.string.wrapMutate_(e,y,s):n},t.utils.string.wrapToText_=function(e,n){for(var s=[],f=0;f<e.length;f++)s.push(e[f]),void 0!==n[f]&&s.push(n[f]?"\n":" ");return s.join("")},t.utils.Size=function(e,n){this.width=e,this.height=n},t.utils.Size.equals=function(e,n){return e==n||!(!e||!n)&&e.width==n.width&&e.height==n.height},t.utils.style={},t.utils.style.getSize=function(e){if("none"!=t.utils.style.getStyle_(e,"display"))return t.utils.style.getSizeWithDisplay_(e);var n=e.style,s=n.display,f=n.visibility,y=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var M=e.offsetWidth;return e=e.offsetHeight,n.display=s,n.position=y,n.visibility=f,new t.utils.Size(M,e)},t.utils.style.getSizeWithDisplay_=function(e){return new t.utils.Size(e.offsetWidth,e.offsetHeight)},t.utils.style.getStyle_=function(e,n){return t.utils.style.getComputedStyle(e,n)||t.utils.style.getCascadedStyle(e,n)||e.style&&e.style[n]},t.utils.style.getComputedStyle=function(e,n){return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(e,null))&&(e[n]||e.getPropertyValue(n))||""},t.utils.style.getCascadedStyle=function(e,n){return e.currentStyle?e.currentStyle[n]:null},t.utils.style.getPageOffset=function(e){var n=new t.utils.Coordinate(0,0);e=e.getBoundingClientRect();var s=document.documentElement;return s=new t.utils.Coordinate(window.pageXOffset||s.scrollLeft,window.pageYOffset||s.scrollTop),n.x=e.left+s.x,n.y=e.top+s.y,n},t.utils.style.getViewportPageOffset=function(){var e=document.body,n=document.documentElement;return new t.utils.Coordinate(e.scrollLeft||n.scrollLeft,e.scrollTop||n.scrollTop)},t.utils.style.setElementShown=function(e,n){e.style.display=n?"":"none"},t.utils.style.isRightToLeft=function(e){return"rtl"==t.utils.style.getStyle_(e,"direction")},t.utils.style.getBorderBox=function(e){var n=t.utils.style.getComputedStyle(e,"borderLeftWidth"),s=t.utils.style.getComputedStyle(e,"borderRightWidth"),f=t.utils.style.getComputedStyle(e,"borderTopWidth");return e=t.utils.style.getComputedStyle(e,"borderBottomWidth"),{top:parseFloat(f),right:parseFloat(s),bottom:parseFloat(e),left:parseFloat(n)}},t.utils.style.scrollIntoContainerView=function(e,n,s){e=t.utils.style.getContainerOffsetToScrollInto(e,n,s),n.scrollLeft=e.x,n.scrollTop=e.y},t.utils.style.getContainerOffsetToScrollInto=function(e,n,s){var f=t.utils.style.getPageOffset(e),y=t.utils.style.getPageOffset(n),M=t.utils.style.getBorderBox(n),A=f.x-y.x-M.left;return f=f.y-y.y-M.top,y=t.utils.style.getSizeWithDisplay_(e),e=n.clientWidth-y.width,y=n.clientHeight-y.height,M=n.scrollLeft,n=n.scrollTop,s?(M+=A-e/2,n+=f-y/2):(M+=Math.min(A,Math.max(A-e,0)),n+=Math.min(f,Math.max(f-y,0))),new t.utils.Coordinate(M,n)},t.utils.userAgent={},function(e){function n(f){return-1!=s.indexOf(f.toUpperCase())}t.utils.userAgent.raw=e;var s=t.utils.userAgent.raw.toUpperCase();t.utils.userAgent.IE=n("Trident")||n("MSIE"),t.utils.userAgent.EDGE=n("Edge"),t.utils.userAgent.JAVA_FX=n("JavaFX"),t.utils.userAgent.CHROME=(n("Chrome")||n("CriOS"))&&!t.utils.userAgent.EDGE,t.utils.userAgent.WEBKIT=n("WebKit")&&!t.utils.userAgent.EDGE,t.utils.userAgent.GECKO=n("Gecko")&&!t.utils.userAgent.WEBKIT&&!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,t.utils.userAgent.ANDROID=n("Android"),e=t.utils.global.navigator&&t.utils.global.navigator.maxTouchPoints,t.utils.userAgent.IPAD=n("iPad")||n("Macintosh")&&0<e,t.utils.userAgent.IPOD=n("iPod"),t.utils.userAgent.IPHONE=n("iPhone")&&!t.utils.userAgent.IPAD&&!t.utils.userAgent.IPOD,t.utils.userAgent.MAC=n("Macintosh"),t.utils.userAgent.TABLET=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID&&!n("Mobile")||n("Silk"),t.utils.userAgent.MOBILE=!t.utils.userAgent.TABLET&&(t.utils.userAgent.IPOD||t.utils.userAgent.IPHONE||t.utils.userAgent.ANDROID||n("IEMobile"))}(t.utils.global.navigator&&t.utils.global.navigator.userAgent||""),t.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},t.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable||e.target.dataset&&"true"==e.target.dataset.isTextInput},t.utils.getRelativeXY=function(e){var n=new t.utils.Coordinate(0,0),s=e.getAttribute("x");return s&&(n.x=parseInt(s,10)),(s=e.getAttribute("y"))&&(n.y=parseInt(s,10)),(s=(s=e.getAttribute("transform"))&&s.match(t.utils.getRelativeXY.XY_REGEX_))&&(n.x+=Number(s[1]),s[3]&&(n.y+=Number(s[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(t.utils.getRelativeXY.XY_STYLE_REGEX_))&&(n.x+=Number(e[1]),e[3]&&(n.y+=Number(e[3]))),n},t.utils.getInjectionDivXY_=function(e){for(var n=0,s=0;e;){var f=t.utils.getRelativeXY(e);if(n+=f.x,s+=f.y,-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new t.utils.Coordinate(n,s)},t.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,t.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,t.utils.isRightButton=function(e){return!(!e.ctrlKey||!t.utils.userAgent.MAC)||2==e.button},t.utils.mouseToSvg=function(e,n,s){var f=n.createSVGPoint();return f.x=e.clientX,f.y=e.clientY,s||(s=n.getScreenCTM().inverse()),f.matrixTransform(s)},t.utils.getScrollDeltaPixels=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*t.LINE_MODE_MULTIPLIER,y:e.deltaY*t.LINE_MODE_MULTIPLIER};case 2:return{x:e.deltaX*t.PAGE_MODE_MULTIPLIER,y:e.deltaY*t.PAGE_MODE_MULTIPLIER}}},t.utils.tokenizeInterpolation=function(e){return t.utils.tokenizeInterpolation_(e,!0)},t.utils.replaceMessageReferences=function(e){return"string"!=typeof e?e:(e=t.utils.tokenizeInterpolation_(e,!1)).length?String(e[0]):""},t.utils.checkMessageReferences=function(e){for(var n=!0,s=t.Msg,f=e.match(/%{BKY_[A-Z]\w*}/gi),y=0;y<f.length;y++)null==s[f[y].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+f[y]+" in "+e),n=!1);return n},t.utils.tokenizeInterpolation_=function(e,n){var s=[],f=e.split("");f.push("");var y=0;e=[];for(var M=null,A=0;A<f.length;A++){var P=f[A];0==y?"%"==P?((P=e.join(""))&&s.push(P),e.length=0,y=1):e.push(P):1==y?"%"==P?(e.push(P),y=0):n&&"0"<=P&&"9">=P?(y=2,M=P,(P=e.join(""))&&s.push(P),e.length=0):"{"==P?y=3:(e.push("%",P),y=0):2==y?"0"<=P&&"9">=P?M+=P:(s.push(parseInt(M,10)),A--,y=0):3==y&&(""==P?(e.splice(0,0,"%{"),A--,y=0):"}"!=P?e.push(P):(y=e.join(""),/[A-Z]\w*/i.test(y)?(P=y.toUpperCase(),(P=t.utils.string.startsWith(P,"BKY_")?P.substring(4):null)&&P in t.Msg?"string"==typeof(y=t.Msg[P])?Array.prototype.push.apply(s,t.utils.tokenizeInterpolation_(y,n)):s.push(n?String(y):y):s.push("%{"+y+"}")):s.push("%{"+y+"}"),y=e.length=0))}for((P=e.join(""))&&s.push(P),n=[],A=e.length=0;A<s.length;++A)"string"==typeof s[A]?e.push(s[A]):((P=e.join(""))&&n.push(P),e.length=0,n.push(s[A]));return(P=e.join(""))&&n.push(P),e.length=0,n},t.utils.genUid=function(){for(var e=t.utils.genUid.soup_.length,n=[],s=0;20>s;s++)n[s]=t.utils.genUid.soup_.charAt(Math.random()*e);return n.join("")},t.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.utils.is3dSupported=function(){if(void 0!==t.utils.is3dSupported.cached_)return t.utils.is3dSupported.cached_;if(!t.utils.global.getComputedStyle)return!1;var e=document.createElement("p"),n="none",s={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var f in document.body.insertBefore(e,null),s)if(void 0!==e.style[f]){if(e.style[f]="translate3d(1px,1px,1px)",!(n=t.utils.global.getComputedStyle(e)))return document.body.removeChild(e),!1;n=n.getPropertyValue(s[f])}return document.body.removeChild(e),t.utils.is3dSupported.cached_="none"!==n,t.utils.is3dSupported.cached_},t.utils.runAfterPageLoad=function(e){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)e();else var n=setInterval(function(){"complete"==document.readyState&&(clearInterval(n),e())},10)},t.utils.getViewportBBox=function(){var e=t.utils.style.getViewportPageOffset();return new t.utils.Rect(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},t.utils.arrayRemove=function(e,n){return-1!=(n=e.indexOf(n))&&(e.splice(n,1),!0)},t.utils.getDocumentScroll=function(){var e=document.documentElement,n=window;return t.utils.userAgent.IE&&n.pageYOffset!=e.scrollTop?new t.utils.Coordinate(e.scrollLeft,e.scrollTop):new t.utils.Coordinate(n.pageXOffset||e.scrollLeft,n.pageYOffset||e.scrollTop)},t.utils.getBlockTypeCounts=function(e,n){var s=Object.create(null),f=e.getDescendants(!0);for(n&&(e=e.getNextBlock())&&(e=f.indexOf(e),f.splice(e,f.length-e)),e=0;n=f[e];e++)s[n.type]?s[n.type]++:s[n.type]=1;return s},t.utils.screenToWsCoordinates=function(e,n){var s=n.x;n=n.y;var f=e.getInjectionDiv().getBoundingClientRect();return s=new t.utils.Coordinate(s-f.left,n-f.top),n=e.getOriginOffsetInPixels(),t.utils.Coordinate.difference(s,n).scale(1/e.scale)},t.utils.parseBlockColour=function(e){var n="string"==typeof e?t.utils.replaceMessageReferences(e):e,s=Number(n);if(!isNaN(s)&&0<=s&&360>=s)return{hue:s,hex:t.utils.colour.hsvToHex(s,t.HSV_SATURATION,255*t.HSV_VALUE)};if(s=t.utils.colour.parse(n))return{hue:null,hex:s};throw s='Invalid colour: "'+n+'"',e!=n&&(s+=' (from "'+e+'")'),Error(s)},t.Touch={},t.Touch.TOUCH_ENABLED="ontouchstart"in t.utils.global||!!(t.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!t.utils.global.navigator||!t.utils.global.navigator.maxTouchPoints&&!t.utils.global.navigator.msMaxTouchPoints),t.Touch.touchIdentifier_=null,t.Touch.TOUCH_MAP={},t.utils.global.PointerEvent?t.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:t.Touch.TOUCH_ENABLED&&(t.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),t.longPid_=0,t.longStart=function(e,n){t.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(t.longPid_=setTimeout(function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),n&&n.handleRightClick(e)},t.LONGPRESS))},t.longStop_=function(){t.longPid_&&(clearTimeout(t.longPid_),t.longPid_=0)},t.Touch.clearTouchIdentifier=function(){t.Touch.touchIdentifier_=null},t.Touch.shouldHandleEvent=function(e){return!t.Touch.isMouseOrTouchEvent(e)||t.Touch.checkTouchIdentifier(e)},t.Touch.getTouchIdentifierFromEvent=function(e){return null!=e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&null!=e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},t.Touch.checkTouchIdentifier=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);return null!=t.Touch.touchIdentifier_?t.Touch.touchIdentifier_==n:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(t.Touch.touchIdentifier_=n,!0)},t.Touch.setClientFromTouch=function(e){if(t.utils.string.startsWith(e.type,"touch")){var n=e.changedTouches[0];e.clientX=n.clientX,e.clientY=n.clientY}},t.Touch.isMouseOrTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"mouse")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.isTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.splitEventByTouches=function(e){var n=[];if(e.changedTouches)for(var s=0;s<e.changedTouches.length;s++)n[s]={type:e.type,changedTouches:[e.changedTouches[s]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else n.push(e);return n},t.browserEvents={},t.browserEvents.conditionalBind=function(e,n,s,f,y,M){var A=!1,P=function(de){var ae=!y;de=t.Touch.splitEventByTouches(de);for(var xe,Me=0;xe=de[Me];Me++)(!ae||t.Touch.shouldHandleEvent(xe))&&(t.Touch.setClientFromTouch(xe),s?f.call(s,xe):f(xe),A=!0)},B=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var te,ne=0;te=t.Touch.TOUCH_MAP[n][ne];ne++)e.addEventListener(te,P,!1),B.push([e,te,P]);else if(e.addEventListener(n,P,!1),B.push([e,n,P]),n in t.Touch.TOUCH_MAP){var se=function(de){P(de),A&&!M&&de.preventDefault()};for(ne=0;te=t.Touch.TOUCH_MAP[n][ne];ne++)e.addEventListener(te,se,!1),B.push([e,te,se])}return B},t.browserEvents.bind=function(e,n,s,f){var y=function(ne){s?f.call(s,ne):f(ne)},M=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var P,A=0;P=t.Touch.TOUCH_MAP[n][A];A++)e.addEventListener(P,y,!1),M.push([e,P,y]);else if(e.addEventListener(n,y,!1),M.push([e,n,y]),n in t.Touch.TOUCH_MAP){var B=function(ne){if(ne.changedTouches&&1==ne.changedTouches.length){var te=ne.changedTouches[0];ne.clientX=te.clientX,ne.clientY=te.clientY}y(ne),ne.preventDefault()};for(A=0;P=t.Touch.TOUCH_MAP[n][A];A++)e.addEventListener(P,B,!1),M.push([e,P,B])}return M},t.browserEvents.unbind=function(e){for(;e.length;){var n=e.pop(),s=n[2];n[0].removeEventListener(n[1],s,!1)}return s},t.ComponentManager=function(){this.componentData_=Object.create(null),this.capabilityToComponentIds_=Object.create(null)},t.ComponentManager.prototype.addComponent=function(e,n){var s=e.component.id;if(!n&&this.componentData_[s])throw Error('Plugin "'+s+'" with capabilities "'+this.componentData_[s].capabilities+'" already added.');this.componentData_[s]=e,n=[];for(var f=0;f<e.capabilities.length;f++){var y=String(e.capabilities[f]).toLowerCase();n.push(y),void 0===this.capabilityToComponentIds_[y]?this.capabilityToComponentIds_[y]=[s]:this.capabilityToComponentIds_[y].push(s)}this.componentData_[s].capabilities=n},t.ComponentManager.prototype.removeComponent=function(e){var n=this.componentData_[e];if(n){for(var s=0;s<n.capabilities.length;s++){var f=String(n.capabilities[s]).toLowerCase();this.capabilityToComponentIds_[f].splice(this.capabilityToComponentIds_[f].indexOf(e),1)}delete this.componentData_[e]}},t.ComponentManager.prototype.addCapability=function(e,n){if(!this.getComponent(e))throw Error('Cannot add capability, "'+n+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,n)?console.warn('Plugin "'+e+'already has capability "'+n+'"'):(n=String(n).toLowerCase(),this.componentData_[e].capabilities.push(n),this.capabilityToComponentIds_[n].push(e))},t.ComponentManager.prototype.removeCapability=function(e,n){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+n+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,n)?(n=String(n).toLowerCase(),this.componentData_[e].capabilities.splice(this.componentData_[e].capabilities.indexOf(n),1),this.capabilityToComponentIds_[n].splice(this.capabilityToComponentIds_[n].indexOf(e),1)):console.warn('Plugin "'+e+"doesn't have capability \""+n+'" to remove')},t.ComponentManager.prototype.hasCapability=function(e,n){return n=String(n).toLowerCase(),-1!==this.componentData_[e].capabilities.indexOf(n)},t.ComponentManager.prototype.getComponent=function(e){return this.componentData_[e]&&this.componentData_[e].component},t.ComponentManager.prototype.getComponents=function(e,n){if(e=String(e).toLowerCase(),!(e=this.capabilityToComponentIds_[e]))return[];var s=[];if(n){var f=[],y=this.componentData_;e.forEach(function(M){f.push(y[M])}),f.sort(function(M,A){return M.weight-A.weight}),f.forEach(function(M){s.push(M.component)})}else y=this.componentData_,e.forEach(function(M){s.push(y[M].component)});return s},t.ComponentManager.Capability=function(e){this.name_=e},t.ComponentManager.Capability.prototype.toString=function(){return this.name_},t.ComponentManager.Capability.POSITIONABLE=new t.ComponentManager.Capability("positionable"),t.ComponentManager.Capability.DRAG_TARGET=new t.ComponentManager.Capability("drag_target"),t.ComponentManager.Capability.DELETE_AREA=new t.ComponentManager.Capability("delete_area"),t.ComponentManager.Capability.AUTOHIDEABLE=new t.ComponentManager.Capability("autohideable"),t.utils.Svg=function(e){this.tagName_=e},t.utils.Svg.prototype.toString=function(){return this.tagName_},t.utils.Svg.ANIMATE=new t.utils.Svg("animate"),t.utils.Svg.CIRCLE=new t.utils.Svg("circle"),t.utils.Svg.CLIPPATH=new t.utils.Svg("clipPath"),t.utils.Svg.DEFS=new t.utils.Svg("defs"),t.utils.Svg.FECOMPOSITE=new t.utils.Svg("feComposite"),t.utils.Svg.FECOMPONENTTRANSFER=new t.utils.Svg("feComponentTransfer"),t.utils.Svg.FEFLOOD=new t.utils.Svg("feFlood"),t.utils.Svg.FEFUNCA=new t.utils.Svg("feFuncA"),t.utils.Svg.FEGAUSSIANBLUR=new t.utils.Svg("feGaussianBlur"),t.utils.Svg.FEPOINTLIGHT=new t.utils.Svg("fePointLight"),t.utils.Svg.FESPECULARLIGHTING=new t.utils.Svg("feSpecularLighting"),t.utils.Svg.FILTER=new t.utils.Svg("filter"),t.utils.Svg.FOREIGNOBJECT=new t.utils.Svg("foreignObject"),t.utils.Svg.G=new t.utils.Svg("g"),t.utils.Svg.IMAGE=new t.utils.Svg("image"),t.utils.Svg.LINE=new t.utils.Svg("line"),t.utils.Svg.PATH=new t.utils.Svg("path"),t.utils.Svg.PATTERN=new t.utils.Svg("pattern"),t.utils.Svg.POLYGON=new t.utils.Svg("polygon"),t.utils.Svg.RECT=new t.utils.Svg("rect"),t.utils.Svg.SVG=new t.utils.Svg("svg"),t.utils.Svg.TEXT=new t.utils.Svg("text"),t.utils.Svg.TSPAN=new t.utils.Svg("tspan"),t.utils.dom={},t.utils.dom.SVG_NS="http://www.w3.org/2000/svg",t.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",t.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",t.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},t.utils.dom.cacheWidths_=null,t.utils.dom.cacheReference_=0,t.utils.dom.canvasContext_=null,t.utils.dom.createSvgElement=function(e,n,s){for(var f in e=document.createElementNS(t.utils.dom.SVG_NS,String(e)),n)e.setAttribute(f,n[f]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),s&&s.appendChild(e),e},t.utils.dom.addClass=function(e,n){var s=e.getAttribute("class")||"";return-1==(" "+s+" ").indexOf(" "+n+" ")&&(s&&(s+=" "),e.setAttribute("class",s+n),!0)},t.utils.dom.removeClasses=function(e,n){n=n.split(" ");for(var s=0;s<n.length;s++)t.utils.dom.removeClass(e,n[s])},t.utils.dom.removeClass=function(e,n){var s=e.getAttribute("class");if(-1==(" "+s+" ").indexOf(" "+n+" "))return!1;s=s.split(/\s+/);for(var f=0;f<s.length;f++)s[f]&&s[f]!=n||(s.splice(f,1),f--);return s.length?e.setAttribute("class",s.join(" ")):e.removeAttribute("class"),!0},t.utils.dom.hasClass=function(e,n){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+n+" ")},t.utils.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},t.utils.dom.insertAfter=function(e,n){var s=n.nextSibling;if(!(n=n.parentNode))throw Error("Reference node has no parent.");s?n.insertBefore(e,s):n.appendChild(e)},t.utils.dom.containsNode=function(e,n){return!!(e.compareDocumentPosition(n)&t.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},t.utils.dom.setCssTransform=function(e,n){e.style.transform=n,e.style["-webkit-transform"]=n},t.utils.dom.startTextWidthCache=function(){t.utils.dom.cacheReference_++,t.utils.dom.cacheWidths_||(t.utils.dom.cacheWidths_=Object.create(null))},t.utils.dom.stopTextWidthCache=function(){t.utils.dom.cacheReference_--,t.utils.dom.cacheReference_||(t.utils.dom.cacheWidths_=null)},t.utils.dom.getTextWidth=function(e){var s,n=e.textContent+"\n"+e.className.baseVal;if(t.utils.dom.cacheWidths_&&(s=t.utils.dom.cacheWidths_[n]))return s;try{s=t.utils.userAgent.IE||t.utils.userAgent.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(f){return 8*e.textContent.length}return t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[n]=s),s},t.utils.dom.getFastTextWidth=function(e,n,s,f){return t.utils.dom.getFastTextWidthWithSizeString(e,n+"pt",s,f)},t.utils.dom.getFastTextWidthWithSizeString=function(e,n,s,f){var M,y=e.textContent;return e=y+"\n"+e.className.baseVal,t.utils.dom.cacheWidths_&&(M=t.utils.dom.cacheWidths_[e])||(t.utils.dom.canvasContext_||((M=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(M),t.utils.dom.canvasContext_=M.getContext("2d")),t.utils.dom.canvasContext_.font=s+" "+n+" "+f,M=t.utils.dom.canvasContext_.measureText(y).width,t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[e]=M)),M},t.utils.dom.measureFontMetrics=function(e,n,s,f){var y=document.createElement("span");y.style.font=s+" "+n+" "+f,y.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0px",(n=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),n.appendChild(y),n.appendChild(e),document.body.appendChild(n);try{s={},n.style.alignItems="baseline",s.baseline=e.offsetTop-y.offsetTop,n.style.alignItems="flex-end",s.height=e.offsetTop-y.offsetTop}finally{document.body.removeChild(n)}return s},t.utils.math={},t.utils.math.toRadians=function(e){return e*Math.PI/180},t.utils.math.toDegrees=function(e){return 180*e/Math.PI},t.utils.math.clamp=function(e,n,s){if(s<e){var f=s;s=e,e=f}return Math.max(e,Math.min(n,s))},t.DropDownDiv=function(){},t.DropDownDiv.boundsElement_=null,t.DropDownDiv.owner_=null,t.DropDownDiv.positionToField_=null,t.DropDownDiv.ARROW_SIZE=16,t.DropDownDiv.BORDER_SIZE=1,t.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,t.DropDownDiv.PADDING_Y=16,t.DropDownDiv.ANIMATION_TIME=.25,t.DropDownDiv.animateOutTimer_=null,t.DropDownDiv.onHide_=null,t.DropDownDiv.rendererClassName_="",t.DropDownDiv.themeClassName_="",t.DropDownDiv.createDom=function(){if(!t.DropDownDiv.DIV_){var e=document.createElement("div");e.className="blocklyDropDownDiv",(t.parentContainer||document.body).appendChild(e),t.DropDownDiv.DIV_=e;var n=document.createElement("div");n.className="blocklyDropDownContent",e.appendChild(n),t.DropDownDiv.content_=n,(n=document.createElement("div")).className="blocklyDropDownArrow",e.appendChild(n),t.DropDownDiv.arrow_=n,t.DropDownDiv.DIV_.style.opacity=0,t.DropDownDiv.DIV_.style.transition="transform "+t.DropDownDiv.ANIMATION_TIME+"s, opacity "+t.DropDownDiv.ANIMATION_TIME+"s",e.addEventListener("focusin",function(){t.utils.dom.addClass(e,"blocklyFocused")}),e.addEventListener("focusout",function(){t.utils.dom.removeClass(e,"blocklyFocused")})}},t.DropDownDiv.setBoundsElement=function(e){t.DropDownDiv.boundsElement_=e},t.DropDownDiv.getContentDiv=function(){return t.DropDownDiv.content_},t.DropDownDiv.clearContent=function(){t.DropDownDiv.content_.textContent="",t.DropDownDiv.content_.style.width=""},t.DropDownDiv.setColour=function(e,n){t.DropDownDiv.DIV_.style.backgroundColor=e,t.DropDownDiv.DIV_.style.borderColor=n},t.DropDownDiv.showPositionedByBlock=function(e,n,s,f){return t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfBlock_(n),e,s,f)},t.DropDownDiv.showPositionedByField=function(e,n,s){return t.DropDownDiv.positionToField_=!0,t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfField_(e),e,n,s)},t.DropDownDiv.getScaledBboxOfBlock_=function(e){var n=e.getSvgRoot(),s=n.getBBox(),f=e.workspace.scale;return e=s.height*f,s=s.width*f,n=t.utils.style.getPageOffset(n),new t.utils.Rect(n.y,n.y+e,n.x,n.x+s)},t.DropDownDiv.getScaledBboxOfField_=function(e){return e=e.getScaledBBox(),new t.utils.Rect(e.top,e.bottom,e.left,e.right)},t.DropDownDiv.showPositionedByRect_=function(e,n,s,f){var y=e.left+(e.right-e.left)/2,M=e.bottom;e=e.top,f&&(e+=f);for(var A=(f=n.getSourceBlock()).workspace;A.options.parentWorkspace;)A=A.options.parentWorkspace;return t.DropDownDiv.setBoundsElement(A.getParentSvg().parentNode),t.DropDownDiv.show(n,f.RTL,y,M,y,e,s)},t.DropDownDiv.show=function(e,n,s,f,y,M,A){return t.DropDownDiv.owner_=e,t.DropDownDiv.onHide_=A||null,(e=t.DropDownDiv.DIV_).style.direction=n?"rtl":"ltr",n=t.getMainWorkspace(),t.DropDownDiv.rendererClassName_=n.getRenderer().getClassName(),t.DropDownDiv.themeClassName_=n.getTheme().getClassName(),t.utils.dom.addClass(e,t.DropDownDiv.rendererClassName_),t.utils.dom.addClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.positionInternal_(s,f,y,M)},t.DropDownDiv.getBoundsInfo_=function(){var e=t.utils.style.getPageOffset(t.DropDownDiv.boundsElement_),n=t.utils.style.getSize(t.DropDownDiv.boundsElement_);return{left:e.x,right:e.x+n.width,top:e.y,bottom:e.y+n.height,width:n.width,height:n.height}},t.DropDownDiv.getPositionMetrics_=function(e,n,s,f){var y=t.DropDownDiv.getBoundsInfo_(),M=t.utils.style.getSize(t.DropDownDiv.DIV_);return n+M.height<y.bottom?t.DropDownDiv.getPositionBelowMetrics_(e,n,y,M):f-M.height>y.top?t.DropDownDiv.getPositionAboveMetrics_(s,f,y,M):n+M.height<document.documentElement.clientHeight?t.DropDownDiv.getPositionBelowMetrics_(e,n,y,M):f-M.height>document.documentElement.clientTop?t.DropDownDiv.getPositionAboveMetrics_(s,f,y,M):t.DropDownDiv.getPositionTopOfPageMetrics_(e,y,M)},t.DropDownDiv.getPositionBelowMetrics_=function(e,n,s,f){return{initialX:(e=t.DropDownDiv.getPositionX(e,s.left,s.right,f.width)).divX,initialY:n,finalX:e.divX,finalY:n+t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(t.DropDownDiv.ARROW_SIZE/2+t.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},t.DropDownDiv.getPositionAboveMetrics_=function(e,n,s,f){return{initialX:(e=t.DropDownDiv.getPositionX(e,s.left,s.right,f.width)).divX,initialY:n-f.height,finalX:e.divX,finalY:n-f.height-t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:f.height-2*t.DropDownDiv.BORDER_SIZE-t.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},t.DropDownDiv.getPositionTopOfPageMetrics_=function(e,n,s){return{initialX:(e=t.DropDownDiv.getPositionX(e,n.left,n.right,s.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},t.DropDownDiv.getPositionX=function(e,n,s,f){var y=e;return e=t.utils.math.clamp(n,e-f/2,s-f),{arrowX:f=t.utils.math.clamp(n=t.DropDownDiv.ARROW_HORIZONTAL_PADDING,(y-=t.DropDownDiv.ARROW_SIZE/2)-e,f-n-t.DropDownDiv.ARROW_SIZE),divX:e}},t.DropDownDiv.isVisible=function(){return!!t.DropDownDiv.owner_},t.DropDownDiv.hideIfOwner=function(e,n){return t.DropDownDiv.owner_===e&&(n?t.DropDownDiv.hideWithoutAnimation():t.DropDownDiv.hide(),!0)},t.DropDownDiv.hide=function(){var e=t.DropDownDiv.DIV_;e.style.transform="translate(0, 0)",e.style.opacity=0,t.DropDownDiv.animateOutTimer_=setTimeout(function(){t.DropDownDiv.hideWithoutAnimation()},1e3*t.DropDownDiv.ANIMATION_TIME),t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null)},t.DropDownDiv.hideWithoutAnimation=function(){if(t.DropDownDiv.isVisible()){t.DropDownDiv.animateOutTimer_&&clearTimeout(t.DropDownDiv.animateOutTimer_);var e=t.DropDownDiv.DIV_;e.style.transform="",e.style.left="",e.style.top="",e.style.opacity=0,e.style.display="none",e.style.backgroundColor="",e.style.borderColor="",t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null),t.DropDownDiv.clearContent(),t.DropDownDiv.owner_=null,t.DropDownDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.rendererClassName_),t.DropDownDiv.rendererClassName_=""),t.DropDownDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.DropDownDiv.positionInternal_=function(e,n,s,f){(e=t.DropDownDiv.getPositionMetrics_(e,n,s,f)).arrowVisible?(t.DropDownDiv.arrow_.style.display="",t.DropDownDiv.arrow_.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",t.DropDownDiv.arrow_.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):t.DropDownDiv.arrow_.style.display="none",n=Math.floor(e.initialX),s=Math.floor(e.initialY),f=Math.floor(e.finalX);var y=Math.floor(e.finalY),M=t.DropDownDiv.DIV_;return M.style.left=n+"px",M.style.top=s+"px",M.style.display="block",M.style.opacity=1,M.style.transform="translate("+(f-n)+"px,"+(y-s)+"px)",!!e.arrowAtTop},t.DropDownDiv.repositionForWindowResize=function(){if(t.DropDownDiv.owner_){var e=t.DropDownDiv.owner_,n=e.getSourceBlock();e=t.DropDownDiv.positionToField_?t.DropDownDiv.getScaledBboxOfField_(e):t.DropDownDiv.getScaledBboxOfBlock_(n),t.DropDownDiv.positionInternal_(n=e.left+(e.right-e.left)/2,e.bottom,n,e.top)}else t.DropDownDiv.hide()},t.registry={},t.registry.typeMap_=Object.create(null),t.registry.DEFAULT="default",t.registry.Type=function(e){this.name_=e},t.registry.Type.prototype.toString=function(){return this.name_},t.registry.Type.CONNECTION_CHECKER=new t.registry.Type("connectionChecker"),t.registry.Type.CURSOR=new t.registry.Type("cursor"),t.registry.Type.EVENT=new t.registry.Type("event"),t.registry.Type.FIELD=new t.registry.Type("field"),t.registry.Type.RENDERER=new t.registry.Type("renderer"),t.registry.Type.TOOLBOX=new t.registry.Type("toolbox"),t.registry.Type.THEME=new t.registry.Type("theme"),t.registry.Type.TOOLBOX_ITEM=new t.registry.Type("toolboxItem"),t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new t.registry.Type("flyoutsVerticalToolbox"),t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new t.registry.Type("flyoutsHorizontalToolbox"),t.registry.Type.METRICS_MANAGER=new t.registry.Type("metricsManager"),t.registry.Type.BLOCK_DRAGGER=new t.registry.Type("blockDragger"),t.registry.register=function(e,n,s,f){if(!(e instanceof t.registry.Type)&&"string"!=typeof e||""==String(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=String(e).toLowerCase(),"string"!=typeof n||""==n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');if(n=n.toLowerCase(),!s)throw Error("Can not register a null value");var y=t.registry.typeMap_[e];if(y||(y=t.registry.typeMap_[e]=Object.create(null)),t.registry.validate_(e,s),!f&&y[n])throw Error('Name "'+n+'" with type "'+e+'" already registered.');y[n]=s},t.registry.validate_=function(e,n){switch(e){case String(t.registry.Type.FIELD):if("function"!=typeof n.fromJson)throw Error('Type "'+e+'" must have a fromJson function')}},t.registry.unregister=function(e,n){e=String(e).toLowerCase(),n=n.toLowerCase();var s=t.registry.typeMap_[e];s&&s[n]?delete t.registry.typeMap_[e][n]:console.warn("Unable to unregister ["+n+"]["+e+"] from the registry.")},t.registry.getItem_=function(e,n,s){e=String(e).toLowerCase(),n=n.toLowerCase();var f=t.registry.typeMap_[e];if(!f||!f[n]){if(n="Unable to find ["+n+"]["+e+"] in the registry.",s)throw Error(n+" You must require or register a "+e+" plugin.");return console.warn(n),null}return f[n]},t.registry.hasItem=function(e,n){return e=String(e).toLowerCase(),n=n.toLowerCase(),!!(e=t.registry.typeMap_[e])&&!!e[n]},t.registry.getClass=function(e,n,s){return t.registry.getItem_(e,n,s)},t.registry.getObject=function(e,n,s){return t.registry.getItem_(e,n,s)},t.registry.getClassFromOptions=function(e,n,s){return"function"==typeof(n=n.plugins[e.toString()]||t.registry.DEFAULT)?n:t.registry.getClass(e,n,s)},t.Events={},t.Events.group_="",t.Events.recordUndo=!0,t.Events.disabled_=0,t.Events.CREATE="create",t.Events.BLOCK_CREATE=t.Events.CREATE,t.Events.DELETE="delete",t.Events.BLOCK_DELETE=t.Events.DELETE,t.Events.CHANGE="change",t.Events.BLOCK_CHANGE=t.Events.CHANGE,t.Events.MOVE="move",t.Events.BLOCK_MOVE=t.Events.MOVE,t.Events.VAR_CREATE="var_create",t.Events.VAR_DELETE="var_delete",t.Events.VAR_RENAME="var_rename",t.Events.UI="ui",t.Events.BLOCK_DRAG="drag",t.Events.SELECTED="selected",t.Events.CLICK="click",t.Events.MARKER_MOVE="marker_move",t.Events.BUBBLE_OPEN="bubble_open",t.Events.TRASHCAN_OPEN="trashcan_open",t.Events.TOOLBOX_ITEM_SELECT="toolbox_item_select",t.Events.THEME_CHANGE="theme_change",t.Events.VIEWPORT_CHANGE="viewport_change",t.Events.COMMENT_CREATE="comment_create",t.Events.COMMENT_DELETE="comment_delete",t.Events.COMMENT_CHANGE="comment_change",t.Events.COMMENT_MOVE="comment_move",t.Events.FINISHED_LOADING="finished_loading",t.Events.BUMP_EVENTS=[t.Events.BLOCK_CREATE,t.Events.BLOCK_MOVE,t.Events.COMMENT_CREATE,t.Events.COMMENT_MOVE],t.Events.FIRE_QUEUE_=[],t.Events.fire=function(e){t.Events.isEnabled()&&(t.Events.FIRE_QUEUE_.length||setTimeout(t.Events.fireNow_,0),t.Events.FIRE_QUEUE_.push(e))},t.Events.fireNow_=function(){for(var s,e=t.Events.filter(t.Events.FIRE_QUEUE_,!0),n=t.Events.FIRE_QUEUE_.length=0;s=e[n];n++)if(s.workspaceId){var f=t.Workspace.getById(s.workspaceId);f&&f.fireChangeListener(s)}},t.Events.filter=function(e,n){e=e.slice(),n||e.reverse();for(var M,s=[],f=Object.create(null),y=0;M=e[y];y++)if(!M.isNull()){var A=[M.isUiEvent?t.Events.UI:M.type,M.blockId,M.workspaceId].join(" "),P=f[A],B=P?P.event:null;P?M.type==t.Events.MOVE&&P.index==y-1?(B.newParentId=M.newParentId,B.newInputName=M.newInputName,B.newCoordinate=M.newCoordinate,P.index=y):M.type==t.Events.CHANGE&&M.element==B.element&&M.name==B.name?B.newValue=M.newValue:M.type==t.Events.VIEWPORT_CHANGE?(B.viewTop=M.viewTop,B.viewLeft=M.viewLeft,B.scale=M.scale,B.oldScale=M.oldScale):(M.type!=t.Events.CLICK||B.type!=t.Events.BUBBLE_OPEN)&&(f[A]={event:M,index:y},s.push(M)):(f[A]={event:M,index:y},s.push(M))}for(e=s.filter(function(ne){return!ne.isNull()}),n||e.reverse(),y=1;M=e[y];y++)M.type==t.Events.CHANGE&&"mutation"==M.element&&e.unshift(e.splice(y,1)[0]);return e},t.Events.clearPendingUndo=function(){for(var n,e=0;n=t.Events.FIRE_QUEUE_[e];e++)n.recordUndo=!1},t.Events.disable=function(){t.Events.disabled_++},t.Events.enable=function(){t.Events.disabled_--},t.Events.isEnabled=function(){return 0==t.Events.disabled_},t.Events.getGroup=function(){return t.Events.group_},t.Events.setGroup=function(e){t.Events.group_="boolean"==typeof e?e?t.utils.genUid():"":e},t.Events.getDescendantIds=function(e){var n=[];e=e.getDescendants(!1);for(var f,s=0;f=e[s];s++)n[s]=f.id;return n},t.Events.fromJson=function(e,n){var s=t.Events.get(e.type);if(!s)throw Error("Unknown event type.");return(s=new s).fromJson(e),s.workspaceId=n.id,s},t.Events.get=function(e){return t.registry.getClass(t.registry.Type.EVENT,e)},t.Events.disableOrphans=function(e){if((e.type==t.Events.MOVE||e.type==t.Events.CREATE)&&e.workspaceId){var n=t.Workspace.getById(e.workspaceId),s=n.getBlockById(e.blockId);if(s){e=t.Events.recordUndo;try{t.Events.recordUndo=!1;var f=s.getParent();if(f&&f.isEnabled()){var M,y=s.getDescendants(!1);for(n=0;M=y[n];n++)M.setEnabled(!0)}else if((s.outputConnection||s.previousConnection)&&!n.isDragging())do{s.setEnabled(!1),s=s.getNextBlock()}while(s)}finally{t.Events.recordUndo=e}}}},t.Events.Abstract=function(){this.isBlank=null,this.workspaceId=void 0,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.Events.Abstract.prototype.isUiEvent=!1,t.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},t.Events.Abstract.prototype.fromJson=function(e){this.isBlank=!1,this.group=e.group},t.Events.Abstract.prototype.isNull=function(){return!1},t.Events.Abstract.prototype.run=function(e){},t.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var e=t.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},t.utils.object={},t.utils.object.inherits=function(e,n){e.superClass_=n.prototype,e.prototype=Object.create(n.prototype),e.prototype.constructor=e},t.utils.object.mixin=function(e,n){for(var s in n)e[s]=n[s]},t.utils.object.deepMerge=function(e,n){for(var s in n)e[s]=null!=n[s]&&"object"==typeof n[s]?t.utils.object.deepMerge(e[s]||Object.create(null),n[s]):n[s];return e},t.utils.object.values=function(e){return Object.values?Object.values(e):Object.keys(e).map(function(n){return e[n]})},t.utils.xml={},t.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",t.utils.xml.document=function(){return document},t.utils.xml.createElement=function(e){return t.utils.xml.document().createElementNS(t.utils.xml.NAME_SPACE,e)},t.utils.xml.createTextNode=function(e){return t.utils.xml.document().createTextNode(e)},t.utils.xml.textToDomDocument=function(e){return(new DOMParser).parseFromString(e,"text/xml")},t.utils.xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},t.inputTypes={VALUE:t.connectionTypes.INPUT_VALUE,STATEMENT:t.connectionTypes.NEXT_STATEMENT,DUMMY:5},t.Xml={},t.Xml.workspaceToDom=function(e,n){var s=t.utils.xml.createElement("xml"),f=t.Xml.variablesToDom(t.Variables.allUsedVarModels(e));f.hasChildNodes()&&s.appendChild(f);var M,y=e.getTopComments(!0);for(f=0;M=y[f];f++)s.appendChild(M.toXmlWithXY(n));for(e=e.getTopBlocks(!0),f=0;y=e[f];f++)s.appendChild(t.Xml.blockToDomWithXY(y,n));return s},t.Xml.variablesToDom=function(e){for(var f,n=t.utils.xml.createElement("variables"),s=0;f=e[s];s++){var y=t.utils.xml.createElement("variable");y.appendChild(t.utils.xml.createTextNode(f.name)),f.type&&y.setAttribute("type",f.type),y.id=f.getId(),n.appendChild(y)}return n},t.Xml.blockToDomWithXY=function(e,n){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;var s;e.workspace.RTL&&(s=e.workspace.getWidth()),n=t.Xml.blockToDom(e,n);var f=e.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(e.workspace.RTL?s-f.x:f.x)),n.setAttribute("y",Math.round(f.y)),n},t.Xml.fieldToDom_=function(e){if(e.isSerializable()){var n=t.utils.xml.createElement("field");return n.setAttribute("name",e.name||""),e.toXml(n)}return null},t.Xml.allFieldsToDom_=function(e,n){for(var f,s=0;f=e.inputList[s];s++)for(var M,y=0;M=f.fieldRow[y];y++)(M=t.Xml.fieldToDom_(M))&&n.appendChild(M)},t.Xml.blockToDom=function(e,n){if(e.isInsertionMarker())return(e=e.getChildren(!1)[0])?t.Xml.blockToDom(e):new DocumentFragment;var s=t.utils.xml.createElement(e.isShadow()?"shadow":"block");if(s.setAttribute("type",e.type),n||s.setAttribute("id",e.id),e.mutationToDom){var f=e.mutationToDom();f&&(f.hasChildNodes()||f.hasAttributes())&&s.appendChild(f)}if(t.Xml.allFieldsToDom_(e,s),f=e.getCommentText()){var y=e.commentModel.size,M=e.commentModel.pinned,A=t.utils.xml.createElement("comment");A.appendChild(t.utils.xml.createTextNode(f)),A.setAttribute("pinned",M),A.setAttribute("h",y.height),A.setAttribute("w",y.width),s.appendChild(A)}for(e.data&&((f=t.utils.xml.createElement("data")).appendChild(t.utils.xml.createTextNode(e.data)),s.appendChild(f)),f=0;y=e.inputList[f];f++){var P;if(M=!0,y.type!=t.inputTypes.DUMMY){var B=y.connection.targetBlock();y.type==t.inputTypes.VALUE?P=t.utils.xml.createElement("value"):y.type==t.inputTypes.STATEMENT&&(P=t.utils.xml.createElement("statement")),!(A=y.connection.getShadowDom())||B&&B.isShadow()||P.appendChild(t.Xml.cloneShadow_(A,n)),B&&(A=t.Xml.blockToDom(B,n)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&(P.appendChild(A),M=!1),P.setAttribute("name",y.name),M||s.appendChild(P)}}return null!=e.inputsInline&&e.inputsInline!=e.inputsInlineDefault&&s.setAttribute("inline",e.inputsInline),e.isCollapsed()&&s.setAttribute("collapsed",!0),e.isEnabled()||s.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||s.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||s.setAttribute("movable",!1),e.isEditable()||s.setAttribute("editable",!1),(f=e.getNextBlock())&&(A=t.Xml.blockToDom(f,n)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&((P=t.utils.xml.createElement("next")).appendChild(A),s.appendChild(P)),!(A=e.nextConnection&&e.nextConnection.getShadowDom())||f&&f.isShadow()||P.appendChild(t.Xml.cloneShadow_(A,n)),s},t.Xml.cloneShadow_=function(e,n){for(var f,s=e=e.cloneNode(!0);s;)if(n&&"shadow"==s.nodeName&&s.removeAttribute("id"),s.firstChild)s=s.firstChild;else{for(;s&&!s.nextSibling;)f=s,s=s.parentNode,f.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==f.data.trim()&&s.firstChild!=f&&t.utils.dom.removeNode(f);s&&(f=s,s=s.nextSibling,f.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==f.data.trim()&&t.utils.dom.removeNode(f))}return e},t.Xml.domToText=function(e){return t.utils.xml.domToText(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},t.Xml.domToPrettyText=function(e){e=t.Xml.domToText(e).split("<");for(var n="",s=1;s<e.length;s++){var f=e[s];"/"==f[0]&&(n=n.substring(2)),e[s]=n+"<"+f,"/"!=f[0]&&"/>"!=f.slice(-2)&&(n+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},t.Xml.textToDom=function(e){var n=t.utils.xml.textToDomDocument(e);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return n.documentElement},t.Xml.clearWorkspaceAndLoadFromXml=function(e,n){return n.setResizesEnabled(!1),n.clear(),e=t.Xml.domToWorkspace(e,n),n.setResizesEnabled(!0),e},t.Xml.domToWorkspace=function(e,n){if(e instanceof t.Workspace){var s=e;e=n,n=s,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var f;n.RTL&&(f=n.getWidth()),s=[],t.utils.dom.startTextWidthCache();var y=t.Events.getGroup();y||t.Events.setGroup(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var M=!0;try{for(var P,A=0;P=e.childNodes[A];A++){var B=P.nodeName.toLowerCase(),ne=P;if("block"==B||"shadow"==B&&!t.Events.recordUndo){var te=t.Xml.domToBlock(ne,n);s.push(te.id);var se=ne.hasAttribute("x")?parseInt(ne.getAttribute("x"),10):10,de=ne.hasAttribute("y")?parseInt(ne.getAttribute("y"),10):10;isNaN(se)||isNaN(de)||te.moveBy(n.RTL?f-se:se,de),M=!1}else{if("shadow"==B)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==B)n.rendered?t.WorkspaceCommentSvg?t.WorkspaceCommentSvg.fromXml(ne,n,f):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):t.WorkspaceComment?t.WorkspaceComment.fromXml(ne,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==B){if(!M)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");t.Xml.domToVariables(ne,n),M=!1}}}}finally{y||t.Events.setGroup(!1),t.utils.dom.stopTextWidthCache()}return n.setResizesEnabled&&n.setResizesEnabled(!0),t.Events.fire(new(t.Events.get(t.Events.FINISHED_LOADING))(n)),s},t.Xml.appendDomToWorkspace=function(e,n){var s;if(Object.prototype.hasOwnProperty.call(n,"scale")&&(s=n.getBlocksBoundingBox()),e=t.Xml.domToWorkspace(e,n),s&&s.top!=s.bottom){var f=s.bottom,y=n.RTL?s.right:s.left,M=1/0,A=-1/0,P=1/0;for(s=0;s<e.length;s++){var B=n.getBlockById(e[s]).getRelativeToSurfaceXY();B.y<P&&(P=B.y),B.x<M&&(M=B.x),B.x>A&&(A=B.x)}for(f=f-P+10,y=n.RTL?y-A:y-M,s=0;s<e.length;s++)n.getBlockById(e[s]).moveBy(y,f)}return e},t.Xml.domToBlock=function(e,n){if(e instanceof t.Workspace){var s=e;e=n,n=s,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}t.Events.disable(),s=n.getAllVariables();try{var f=t.Xml.domToBlockHeadless_(e,n),y=f.getDescendants(!1);if(n.rendered){f.setConnectionTracking(!1);for(var M=y.length-1;0<=M;M--)y[M].initSvg();for(M=y.length-1;0<=M;M--)y[M].render(!1);setTimeout(function(){f.disposed||f.setConnectionTracking(!0)},1),f.updateDisabled(),n.resizeContents()}else for(M=y.length-1;0<=M;M--)y[M].initModel()}finally{t.Events.enable()}if(t.Events.isEnabled()){for(e=t.Variables.getAddedVariables(n,s),M=0;M<e.length;M++)n=e[M],t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(n));t.Events.fire(new(t.Events.get(t.Events.CREATE))(f))}return f},t.Xml.domToVariables=function(e,n){for(var f,s=0;f=e.childNodes[s];s++)if(f.nodeType==t.utils.dom.NodeType.ELEMENT_NODE){var y=f.getAttribute("type"),M=f.getAttribute("id");n.createVariable(f.textContent,y,M)}},t.Xml.mapSupportedXmlTags_=function(e){for(var f,n={mutation:[],comment:[],data:[],field:[],input:[],next:[]},s=0;f=e.childNodes[s];s++)if(f.nodeType!=t.utils.dom.NodeType.TEXT_NODE)switch(f.nodeName.toLowerCase()){case"mutation":n.mutation.push(f);break;case"comment":if(!t.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}n.comment.push(f);break;case"data":n.data.push(f);break;case"title":case"field":n.field.push(f);break;case"value":case"statement":n.input.push(f);break;case"next":n.next.push(f);break;default:console.warn("Ignoring unknown tag: "+f.nodeName)}return n},t.Xml.applyMutationTagNodes_=function(e,n){for(var y,s=!1,f=0;y=e[f];f++)n.domToMutation&&(n.domToMutation(y),n.initSvg&&(s=!0));return s},t.Xml.applyCommentTagNodes_=function(e,n){for(var f,s=0;f=e[s];s++){var y=f.textContent,M="true"==f.getAttribute("pinned"),A=parseInt(f.getAttribute("w"),10);f=parseInt(f.getAttribute("h"),10),n.setCommentText(y),n.commentModel.pinned=M,isNaN(A)||isNaN(f)||(n.commentModel.size=new t.utils.Size(A,f)),M&&n.getCommentIcon&&!n.isInFlyout&&setTimeout(function(){n.getCommentIcon().setVisible(!0)},1)}},t.Xml.applyDataTagNodes_=function(e,n){for(var f,s=0;f=e[s];s++)n.data=f.textContent},t.Xml.applyFieldTagNodes_=function(e,n){for(var f,s=0;f=e[s];s++){var y=f.getAttribute("name");t.Xml.domToField_(n,y,f)}},t.Xml.findChildBlocks_=function(e){for(var f,n={childBlockElement:null,childShadowElement:null},s=0;f=e.childNodes[s];s++)f.nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&("block"==f.nodeName.toLowerCase()?n.childBlockElement=f:"shadow"==f.nodeName.toLowerCase()&&(n.childShadowElement=f));return n},t.Xml.applyInputTagNodes_=function(e,n,s,f){for(var M,y=0;M=e[y];y++){var A=M.getAttribute("name"),P=s.getInput(A);if(!P){console.warn("Ignoring non-existent input "+A+" in block "+f);break}if((M=t.Xml.findChildBlocks_(M)).childBlockElement){if(!P.connection)throw TypeError("Input connection does not exist.");t.Xml.domToBlockHeadless_(M.childBlockElement,n,P.connection,!1)}M.childShadowElement&&P.connection.setShadowDom(M.childShadowElement)}},t.Xml.applyNextTagNodes_=function(e,n,s){for(var y,f=0;y=e[f];f++){if((y=t.Xml.findChildBlocks_(y)).childBlockElement){if(!s.nextConnection)throw TypeError("Next statement does not exist.");if(s.nextConnection.isConnected())throw TypeError("Next statement is already connected.");t.Xml.domToBlockHeadless_(y.childBlockElement,n,s.nextConnection,!0)}y.childShadowElement&&s.nextConnection&&s.nextConnection.setShadowDom(y.childShadowElement)}},t.Xml.domToBlockHeadless_=function(e,n,s,f){var y=e.getAttribute("type");if(!y)throw TypeError("Block type unspecified: "+e.outerHTML);var M=e.getAttribute("id");M=n.newBlock(y,M);var A=t.Xml.mapSupportedXmlTags_(e),P=t.Xml.applyMutationTagNodes_(A.mutation,M);if(t.Xml.applyCommentTagNodes_(A.comment,M),t.Xml.applyDataTagNodes_(A.data,M),s)if(f){if(!M.previousConnection)throw TypeError("Next block does not have previous statement.");s.connect(M.previousConnection)}else if(M.outputConnection)s.connect(M.outputConnection);else{if(!M.previousConnection)throw TypeError("Child block does not have output or previous statement.");s.connect(M.previousConnection)}if(t.Xml.applyFieldTagNodes_(A.field,M),t.Xml.applyInputTagNodes_(A.input,n,M,y),t.Xml.applyNextTagNodes_(A.next,n,M),P&&M.initSvg(),(n=e.getAttribute("inline"))&&M.setInputsInline("true"==n),(n=e.getAttribute("disabled"))&&M.setEnabled("true"!=n&&"disabled"!=n),(n=e.getAttribute("deletable"))&&M.setDeletable("true"==n),(n=e.getAttribute("movable"))&&M.setMovable("true"==n),(n=e.getAttribute("editable"))&&M.setEditable("true"==n),(n=e.getAttribute("collapsed"))&&M.setCollapsed("true"==n),"shadow"==e.nodeName.toLowerCase()){for(e=M.getChildren(!1),n=0;s=e[n];n++)if(!s.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(M.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");M.setShadow(!0)}return M},t.Xml.domToField_=function(e,n,s){var f=e.getField(n);f?f.fromXml(s):console.warn("Ignoring non-existent field "+n+" in block "+e.type)},t.Xml.deleteNext=function(e){for(var s,n=0;s=e.childNodes[n];n++)if("next"==s.nodeName.toLowerCase()){e.removeChild(s);break}},t.Events.BlockBase=function(e){t.Events.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.BlockBase,t.Events.Abstract),t.Events.BlockBase.prototype.toJson=function(){var e=t.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},t.Events.BlockBase.prototype.fromJson=function(e){t.Events.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId},t.Events.BlockChange=function(e,n,s,f,y){t.Events.Change.superClass_.constructor.call(this,e),e&&(this.element=void 0===n?"":n,this.name=void 0===s?"":s,this.oldValue=void 0===f?"":f,this.newValue=void 0===y?"":y)},t.utils.object.inherits(t.Events.BlockChange,t.Events.BlockBase),t.Events.Change=t.Events.BlockChange,t.Events.BlockChange.prototype.type=t.Events.CHANGE,t.Events.BlockChange.prototype.toJson=function(){var e=t.Events.BlockChange.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.oldValue=this.oldValue,e.newValue=this.newValue,e},t.Events.BlockChange.prototype.fromJson=function(e){t.Events.BlockChange.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue},t.Events.BlockChange.prototype.isNull=function(){return this.oldValue==this.newValue},t.Events.BlockChange.prototype.run=function(e){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(e||null);break;case"collapsed":n.setCollapsed(!!e);break;case"disabled":n.setEnabled(!e);break;case"inline":n.setInputsInline(!!e);break;case"mutation":var s="";if(n.mutationToDom&&(s=(s=n.mutationToDom())&&t.Xml.domToText(s)),n.domToMutation){var f=t.Xml.textToDom(e||"<mutation/>");n.domToMutation(f)}t.Events.fire(new t.Events.BlockChange(n,"mutation",null,s,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},t.Events.Create=function(e){t.Events.Create.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e))},t.utils.object.inherits(t.Events.Create,t.Events.BlockBase),t.Events.BlockCreate=t.Events.Create,t.Events.Create.prototype.type=t.Events.CREATE,t.Events.Create.prototype.toJson=function(){var e=t.Events.Create.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Create.prototype.fromJson=function(e){t.Events.Create.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Create.prototype.run=function(e){var n=this.getEventWorkspace_();if(e)(e=t.utils.xml.createElement("xml")).appendChild(this.xml),t.Xml.domToWorkspace(e,n);else{e=0;for(var s;s=this.ids[e];e++){var f=n.getBlockById(s);f?f.dispose(!1):s==this.blockId&&console.warn("Can't uncreate non-existent block: "+s)}}},t.Events.Delete=function(e){if(t.Events.Delete.superClass_.constructor.call(this,e),e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e)}},t.utils.object.inherits(t.Events.Delete,t.Events.BlockBase),t.Events.BlockDelete=t.Events.Delete,t.Events.Delete.prototype.type=t.Events.DELETE,t.Events.Delete.prototype.toJson=function(){var e=t.Events.Delete.superClass_.toJson.call(this);return e.oldXml=t.Xml.domToText(this.oldXml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Delete.prototype.fromJson=function(e){t.Events.Delete.superClass_.fromJson.call(this,e),this.oldXml=t.Xml.textToDom(e.oldXml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Delete.prototype.run=function(e){var n=this.getEventWorkspace_();if(e){e=0;for(var s;s=this.ids[e];e++){var f=n.getBlockById(s);f?f.dispose(!1):s==this.blockId&&console.warn("Can't delete non-existent block: "+s)}}else(e=t.utils.xml.createElement("xml")).appendChild(this.oldXml),t.Xml.domToWorkspace(e,n)},t.Events.Move=function(e){t.Events.Move.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},t.utils.object.inherits(t.Events.Move,t.Events.BlockBase),t.Events.BlockMove=t.Events.Move,t.Events.Move.prototype.type=t.Events.MOVE,t.Events.Move.prototype.toJson=function(){var e=t.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Move.prototype.fromJson=function(e){if(t.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate){var n=e.newCoordinate.split(",");this.newCoordinate=new t.utils.Coordinate(Number(n[0]),Number(n[1]))}void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},t.Events.Move.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),n={},s=e.getParent();return s?(n.parentId=s.id,(e=s.getInputWithBlock(e))&&(n.inputName=e.name)):n.coordinate=e.getRelativeToSurfaceXY(),n},t.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&t.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},t.Events.Move.prototype.run=function(e){var n=this.getEventWorkspace_(),s=n.getBlockById(this.blockId);if(s){var f=e?this.newParentId:this.oldParentId,y=e?this.newInputName:this.oldInputName,M=e?this.newCoordinate:this.oldCoordinate;if(e=null,f&&!(e=n.getBlockById(f)))return void console.warn("Can't connect to non-existent block: "+f);if(s.getParent()&&s.unplug(),M)y=s.getRelativeToSurfaceXY(),s.moveBy(M.x-y.x,M.y-y.y);else{if(n=(s=s.outputConnection||s.previousConnection).type,y){if(e=e.getInput(y))var A=e.connection}else n==t.connectionTypes.PREVIOUS_STATEMENT&&(A=e.nextConnection);A?s.connect(A):console.warn("Can't connect to non-existent input: "+y)}}else console.warn("Can't move non-existent block: "+this.blockId)},t.registry.register(t.registry.Type.EVENT,t.Events.CREATE,t.Events.Create),t.registry.register(t.registry.Type.EVENT,t.Events.DELETE,t.Events.Delete),t.registry.register(t.registry.Type.EVENT,t.Events.CHANGE,t.Events.BlockChange),t.registry.register(t.registry.Type.EVENT,t.Events.MOVE,t.Events.Move),t.Events.FinishedLoading=function(e){this.isBlank=void 0===e,this.workspaceId=e?e.id:"",this.group=t.Events.getGroup(),this.recordUndo=!1},t.utils.object.inherits(t.Events.FinishedLoading,t.Events.Abstract),t.Events.FinishedLoading.prototype.type=t.Events.FINISHED_LOADING,t.Events.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},t.Events.FinishedLoading.prototype.fromJson=function(e){this.isBlank=!1,this.workspaceId=e.workspaceId,this.group=e.group},t.registry.register(t.registry.Type.EVENT,t.Events.FINISHED_LOADING,t.Events.FinishedLoading),t.Events.UiBase=function(e){t.Events.UiBase.superClass_.constructor.call(this),this.isBlank=void 0===e,this.workspaceId=e||"",this.recordUndo=!1},t.utils.object.inherits(t.Events.UiBase,t.Events.Abstract),t.Events.UiBase.prototype.isUiEvent=!0,t.Events.Ui=function(e,n,s,f){t.Events.Ui.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.element=void 0===n?"":n,this.oldValue=void 0===s?"":s,this.newValue=void 0===f?"":f},t.utils.object.inherits(t.Events.Ui,t.Events.UiBase),t.Events.Ui.prototype.type=t.Events.UI,t.Events.Ui.prototype.toJson=function(){var e=t.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},t.Events.Ui.prototype.fromJson=function(e){t.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.UI,t.Events.Ui),t.Events.VarBase=function(e){t.Events.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank=void 0===e)?"":e.getId(),this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.VarBase,t.Events.Abstract),t.Events.VarBase.prototype.toJson=function(){var e=t.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},t.Events.VarBase.prototype.fromJson=function(e){t.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},t.Events.VarCreate=function(e){t.Events.VarCreate.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarCreate,t.Events.VarBase),t.Events.VarCreate.prototype.type=t.Events.VAR_CREATE,t.Events.VarCreate.prototype.toJson=function(){var e=t.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarCreate.prototype.fromJson=function(e){t.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarCreate.prototype.run=function(e){var n=this.getEventWorkspace_();e?n.createVariable(this.varName,this.varType,this.varId):n.deleteVariableById(this.varId)},t.Events.VarDelete=function(e){t.Events.VarDelete.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarDelete,t.Events.VarBase),t.Events.VarDelete.prototype.type=t.Events.VAR_DELETE,t.Events.VarDelete.prototype.toJson=function(){var e=t.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarDelete.prototype.fromJson=function(e){t.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarDelete.prototype.run=function(e){var n=this.getEventWorkspace_();e?n.deleteVariableById(this.varId):n.createVariable(this.varName,this.varType,this.varId)},t.Events.VarRename=function(e,n){t.Events.VarRename.superClass_.constructor.call(this,e),e&&(this.oldName=e.name,this.newName=void 0===n?"":n)},t.utils.object.inherits(t.Events.VarRename,t.Events.VarBase),t.Events.VarRename.prototype.type=t.Events.VAR_RENAME,t.Events.VarRename.prototype.toJson=function(){var e=t.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},t.Events.VarRename.prototype.fromJson=function(e){t.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},t.Events.VarRename.prototype.run=function(e){this.getEventWorkspace_().renameVariableById(this.varId,e?this.newName:this.oldName)},t.registry.register(t.registry.Type.EVENT,t.Events.VAR_CREATE,t.Events.VarCreate),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_DELETE,t.Events.VarDelete),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_RENAME,t.Events.VarRename),t.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},t.BlockDragSurfaceSvg.prototype.SVG_=null,t.BlockDragSurfaceSvg.prototype.dragGroup_=null,t.BlockDragSurfaceSvg.prototype.container_=null,t.BlockDragSurfaceSvg.prototype.scale_=1,t.BlockDragSurfaceSvg.prototype.surfaceXY_=null,t.BlockDragSurfaceSvg.prototype.childSurfaceXY_=new t.utils.Coordinate(0,0),t.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.SVG_))},t.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new t.utils.Coordinate(0,0)},t.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,n,s){this.scale_=s,e=e.toFixed(0),n=n.toFixed(0),this.childSurfaceXY_.x=parseInt(e,10),this.childSurfaceXY_.y=parseInt(n,10),this.dragGroup_.setAttribute("transform","translate("+e+","+n+") scale("+s+")")},t.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,n=this.surfaceXY_.y;e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.BlockDragSurfaceSvg.prototype.translateBy=function(e,n){this.surfaceXY_=new t.utils.Coordinate(this.surfaceXY_.x+e,this.surfaceXY_.y+n),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.translateSurface=function(e,n){this.surfaceXY_=new t.utils.Coordinate(e*this.scale_,n*this.scale_),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=t.utils.getRelativeXY(this.SVG_);return new t.utils.Coordinate(e.x/this.scale_,e.y/this.scale_)},t.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},t.BlockDragSurfaceSvg.prototype.getSvgRoot=function(){return this.SVG_},t.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},t.BlockDragSurfaceSvg.prototype.getWsTranslation=function(){return this.childSurfaceXY_.clone()},t.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},t.Css={},t.Css.injected_=!1,t.Css.register=function(e){if(t.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(t.Css.CONTENT,e),e.length=0},t.Css.inject=function(e,n){if(!t.Css.injected_){t.Css.injected_=!0;var s=t.Css.CONTENT.join("\n");t.Css.CONTENT.length=0,e&&(e=n.replace(/[\\/]$/,""),s=s.replace(/<<<PATH>>>/g,e),(e=document.createElement("style")).id="blockly-common-style",s=document.createTextNode(s),e.appendChild(s),document.head.insertBefore(e,document.head.firstChild))}},t.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],t.Grid=function(e,n){this.gridPattern_=e,this.spacing_=n.spacing,this.length_=n.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=n.snap},t.Grid.prototype.scale_=1,t.Grid.prototype.dispose=function(){this.gridPattern_=null},t.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},t.Grid.prototype.getSpacing=function(){return this.spacing_},t.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},t.Grid.prototype.update=function(e){this.scale_=e;var n=this.spacing_*e||100;this.gridPattern_.setAttribute("width",n),this.gridPattern_.setAttribute("height",n);var s=(n=Math.floor(this.spacing_/2)+.5)-this.length_/2,f=n+this.length_/2;this.setLineAttributes_(this.line1_,e,s*=e,f*=e,n*=e,n),this.setLineAttributes_(this.line2_,e,n,n,s,f)},t.Grid.prototype.setLineAttributes_=function(e,n,s,f,y,M){e&&(e.setAttribute("stroke-width",n),e.setAttribute("x1",s),e.setAttribute("y1",y),e.setAttribute("x2",f),e.setAttribute("y2",M))},t.Grid.prototype.moveTo=function(e,n){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",n),(t.utils.userAgent.IE||t.utils.userAgent.EDGE)&&this.update(this.scale_)},t.Grid.createDom=function(e,n,s){return e=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},s),0<n.length&&0<n.spacing?(t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:n.colour},e),1<n.length&&t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:n.colour},e)):t.utils.dom.createSvgElement(t.utils.Svg.LINE,{},e),e},t.Theme=function(e,n,s,f){this.name=e,this.blockStyles=n||Object.create(null),this.categoryStyles=s||Object.create(null),this.componentStyles=f||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,t.registry.register(t.registry.Type.THEME,e,this)},t.Theme.prototype.getClassName=function(){return this.name+"-theme"},t.Theme.prototype.setBlockStyle=function(e,n){this.blockStyles[e]=n},t.Theme.prototype.setCategoryStyle=function(e,n){this.categoryStyles[e]=n},t.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles[e])&&"string"==typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null},t.Theme.prototype.setComponentStyle=function(e,n){this.componentStyles[e]=n},t.Theme.prototype.setFontStyle=function(e){this.fontStyle=e},t.Theme.prototype.setStartHats=function(e){this.startHats=e},t.Theme.defineTheme=function(e,n){var s=new t.Theme(e),f=n.base;return f&&("string"==typeof f&&(f=t.registry.getObject(t.registry.Type.THEME,f)),f instanceof t.Theme&&(t.utils.object.deepMerge(s,f),s.name=e)),t.utils.object.deepMerge(s.blockStyles,n.blockStyles),t.utils.object.deepMerge(s.categoryStyles,n.categoryStyles),t.utils.object.deepMerge(s.componentStyles,n.componentStyles),t.utils.object.deepMerge(s.fontStyle,n.fontStyle),null!=n.startHats&&(s.startHats=n.startHats),s},t.Themes={},t.Themes.Classic={},t.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},t.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},t.Themes.Classic=new t.Theme("classic",t.Themes.Classic.defaultBlockStyles,t.Themes.Classic.categoryStyles),t.utils.IdGenerator={},t.utils.IdGenerator.nextId_=0,t.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(t.utils.IdGenerator.nextId_++).toString(36)},t.utils.Metrics=function(){},t.utils.toolbox={},t.utils.toolbox.CATEGORY_TOOLBOX_KIND="categoryToolbox",t.utils.toolbox.FLYOUT_TOOLBOX_KIND="flyoutToolbox",t.utils.toolbox.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},t.utils.toolbox.convertToolboxDefToJson=function(e){return e?((e instanceof Element||"string"==typeof e)&&(e=t.utils.toolbox.parseToolboxTree(e),e=t.utils.toolbox.convertToToolboxJson_(e)),t.utils.toolbox.validateToolbox_(e),e):null},t.utils.toolbox.validateToolbox_=function(e){var n=e.kind;if(e=e.contents,n&&n!=t.utils.toolbox.FLYOUT_TOOLBOX_KIND&&n!=t.utils.toolbox.CATEGORY_TOOLBOX_KIND)throw Error("Invalid toolbox kind "+n+". Please supply either "+t.utils.toolbox.FLYOUT_TOOLBOX_KIND+" or "+t.utils.toolbox.CATEGORY_TOOLBOX_KIND);if(!e)throw Error("Toolbox must have a contents attribute.")},t.utils.toolbox.convertFlyoutDefToJsonArray=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:t.utils.toolbox.xmlToJsonArray_(e):[]},t.utils.toolbox.hasCategories=function(e){if(!e)return!1;var n=e.kind;return n?n==t.utils.toolbox.CATEGORY_TOOLBOX_KIND:!!e.contents.filter(function(s){return"CATEGORY"==s.kind.toUpperCase()}).length},t.utils.toolbox.isCategoryCollapsible=function(e){return!(!e||!e.contents||!e.contents.filter(function(n){return"CATEGORY"==n.kind.toUpperCase()}).length)},t.utils.toolbox.convertToToolboxJson_=function(e){var n={contents:t.utils.toolbox.xmlToJsonArray_(e)};return e instanceof Node&&t.utils.toolbox.addAttributes_(e,n),n},t.utils.toolbox.xmlToJsonArray_=function(e){var f,n=[],s=e.childNodes;for(s||(s=e),e=0;f=s[e];e++)if(f.tagName){var y={},M=f.tagName.toUpperCase();y.kind=M,"BLOCK"==M?y.blockxml=f:f.childNodes&&0<f.childNodes.length&&(y.contents=t.utils.toolbox.xmlToJsonArray_(f)),t.utils.toolbox.addAttributes_(f,y),n.push(y)}return n},t.utils.toolbox.addAttributes_=function(e,n){for(var s=0;s<e.attributes.length;s++){var f=e.attributes[s];-1<f.nodeName.indexOf("css-")?(n.cssconfig=n.cssconfig||{},n.cssconfig[f.nodeName.replace("css-","")]=f.value):n[f.nodeName]=f.value}},t.utils.toolbox.parseToolboxTree=function(e){if(e){if("string"!=typeof e&&(t.utils.userAgent.IE&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&"xml"!=(e=t.Xml.textToDom(e)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e=null;return e},t.Options=function(e){var n=!!e.readOnly;if(n)var s=null,f=!1,y=!1,M=!1,A=!1,P=!1,B=!1;else{s=t.utils.toolbox.convertToolboxDefToJson(e.toolbox),f=t.utils.toolbox.hasCategories(s),void 0===(y=e.trashcan)&&(y=f);var ne=e.maxTrashcanContents;y?void 0===ne&&(ne=32):ne=0,void 0===(M=e.collapse)&&(M=f),void 0===(A=e.comments)&&(A=f),void 0===(P=e.disable)&&(P=f),void 0===(B=e.sounds)&&(B=!0)}var te=!!e.rtl,se=e.horizontalLayout;void 0===se&&(se=!1);var de=e.toolboxPosition;de="end"!==de,de=se?de?t.utils.toolbox.Position.TOP:t.utils.toolbox.Position.BOTTOM:de==te?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT;var ae=e.css;void 0===ae&&(ae=!0);var Me="https://blockly-demo.appspot.com/static/media/";e.media?Me=e.media:e.path&&(Me=e.path+"media/");var xe=void 0===e.oneBasedIndex||!!e.oneBasedIndex,we=e.renderer||"geras",ke=e.plugins||{};this.RTL=te,this.oneBasedIndex=xe,this.collapse=M,this.comments=A,this.disable=P,this.readOnly=n,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=e.maxInstances,this.pathToMedia=Me,this.hasCategories=f,this.moveOptions=t.Options.parseMoveOptions_(e,f),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=y,this.maxTrashcanContents=ne,this.hasSounds=B,this.hasCss=ae,this.horizontalLayout=se,this.languageTree=s,this.gridOptions=t.Options.parseGridOptions_(e),this.zoomOptions=t.Options.parseZoomOptions_(e),this.toolboxPosition=de,this.theme=t.Options.parseThemeOptions_(e),this.renderer=we,this.rendererOverrides=e.rendererOverrides,this.gridPattern=null,this.parentWorkspace=e.parentWorkspace,this.plugins=ke},t.BlocklyOptions=function(){},t.Options.parseMoveOptions_=function(e,n){var s=e.move||{},f={};return void 0===s.scrollbars&&void 0===e.scrollbars?f.scrollbars=n:"object"==typeof s.scrollbars?(f.scrollbars={},f.scrollbars.horizontal=!!s.scrollbars.horizontal,f.scrollbars.vertical=!!s.scrollbars.vertical,f.scrollbars.horizontal&&f.scrollbars.vertical?f.scrollbars=!0:f.scrollbars.horizontal||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!s.scrollbars||!!e.scrollbars,f.wheel=f.scrollbars&&void 0!==s.wheel?!!s.wheel:"object"==typeof f.scrollbars,f.drag=!(!f.scrollbars||void 0!==s.drag&&!s.drag),f},t.Options.parseZoomOptions_=function(e){var n={};return n.controls=void 0!==(e=e.zoom||{}).controls&&!!e.controls,n.wheel=void 0!==e.wheel&&!!e.wheel,n.startScale=void 0===e.startScale?1:Number(e.startScale),n.maxScale=void 0===e.maxScale?3:Number(e.maxScale),n.minScale=void 0===e.minScale?.3:Number(e.minScale),n.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),n.pinch=void 0===e.pinch?n.wheel||n.controls:!!e.pinch,n},t.Options.parseGridOptions_=function(e){e=e.grid||{};var n={};return n.spacing=Number(e.spacing)||0,n.colour=e.colour||"#888",n.length=void 0===e.length?1:Number(e.length),n.snap=0<n.spacing&&!!e.snap,n},t.Options.parseThemeOptions_=function(e){return"string"==typeof(e=e.theme||t.Themes.Classic)?t.registry.getObject(t.registry.Type.THEME,e):e instanceof t.Theme?e:t.Theme.defineTheme(e.name||"builtin"+t.utils.IdGenerator.getNextUniqueId(),e)},t.Options.parseToolboxTree=function(e){return t.utils.deprecation.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree"),t.utils.toolbox.parseToolboxTree(e)},t.ScrollbarPair=function(e,n,s,f,y){this.workspace_=e,s=void 0===s||s;var M=(n=void 0===n||n)&&s;n&&(this.hScroll=new t.Scrollbar(e,!0,M,f,y)),s&&(this.vScroll=new t.Scrollbar(e,!1,M,f,y)),M&&(this.corner_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:t.Scrollbar.scrollbarThickness,width:t.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),t.utils.dom.insertAfter(this.corner_,e.getBubbleCanvas())),this.oldHostMetrics_=null},t.ScrollbarPair.prototype.dispose=function(){t.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},t.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var n=!1,s=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth==e.scrollWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.scrollLeft==e.scrollLeft||(n=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight==e.scrollHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.scrollTop==e.scrollTop||(s=!0)):s=n=!0,n||s){try{t.Events.disable(),this.hScroll&&n&&this.hScroll.resize(e),this.vScroll&&s&&this.vScroll.resize(e)}finally{t.Events.enable()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=e}},t.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},t.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},t.ScrollbarPair.prototype.setOrigin=function(e,n){this.hScroll&&this.hScroll.setOrigin(e,n),this.vScroll&&this.vScroll.setOrigin(e,n)},t.ScrollbarPair.prototype.set=function(e,n,s){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(n,!1),(s||void 0===s)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(e))},t.ScrollbarPair.prototype.setX=function(e){this.hScroll&&this.hScroll.set(e,!0)},t.ScrollbarPair.prototype.setY=function(e){this.vScroll&&this.vScroll.set(e,!0)},t.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)},t.ScrollbarPair.prototype.isVisible=function(){var e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e},t.ScrollbarPair.prototype.resizeContent=function(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)},t.ScrollbarPair.prototype.resizeView=function(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)},t.Scrollbar=function(e,n,s,f,y){this.workspace_=e,this.pair_=s||!1,this.horizontal_=n,this.margin_=void 0!==y?y:t.Scrollbar.DEFAULT_SCROLLBAR_MARGIN,this.ratio=this.oldHostMetrics_=null,this.createDom_(f),this.position=new t.utils.Coordinate(0,0),e=t.Scrollbar.scrollbarThickness,n?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=t.browserEvents.conditionalBind(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},t.Scrollbar.prototype.origin_=new t.utils.Coordinate(0,0),t.Scrollbar.prototype.startDragMouse_=0,t.Scrollbar.prototype.scrollbarLength_=0,t.Scrollbar.prototype.handleLength_=0,t.Scrollbar.prototype.handlePosition_=0,t.Scrollbar.prototype.isVisible_=!0,t.Scrollbar.prototype.containerVisible_=!0,t.Scrollbar.scrollbarThickness=15,t.Touch.TOUCH_ENABLED&&(t.Scrollbar.scrollbarThickness=25),t.Scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5,t.Scrollbar.metricsAreEquivalent_=function(e,n){return e.viewWidth==n.viewWidth&&e.viewHeight==n.viewHeight&&e.viewLeft==n.viewLeft&&e.viewTop==n.viewTop&&e.absoluteTop==n.absoluteTop&&e.absoluteLeft==n.absoluteLeft&&e.scrollWidth==n.scrollWidth&&e.scrollHeight==n.scrollHeight&&e.scrollLeft==n.scrollLeft&&e.scrollTop==n.scrollTop},t.Scrollbar.prototype.dispose=function(){this.cleanUp_(),t.browserEvents.unbind(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,t.browserEvents.unbind(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,t.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},t.Scrollbar.prototype.constrainHandleLength_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_)},t.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},t.Scrollbar.prototype.constrainHandlePosition_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_-this.handleLength_)},t.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},t.Scrollbar.prototype.setScrollbarLength_=function(e){this.scrollbarLength_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},t.Scrollbar.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n,t.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},t.Scrollbar.prototype.resize=function(e){!e&&!(e=this.workspace_.getMetrics())||this.oldHostMetrics_&&t.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.oldHostMetrics_=e,this.updateMetrics_())},t.Scrollbar.prototype.requiresViewResize_=function(e){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics_.absoluteTop!==e.absoluteTop},t.Scrollbar.prototype.resizeHorizontal_=function(e){this.requiresViewResize_(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeViewHorizontal=function(e){var n=e.viewWidth-2*this.margin_;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),n=e.absoluteLeft+this.margin_,this.pair_&&this.workspace_.RTL&&(n+=t.Scrollbar.scrollbarThickness),this.setPosition(n,e.absoluteTop+e.viewHeight-t.Scrollbar.scrollbarThickness-this.margin_),this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeContentHorizontal=function(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var n=this.scrollbarLength_*e.viewWidth/e.scrollWidth;n=this.constrainHandleLength_(n),this.setHandleLength_(n);var s=this.scrollbarLength_-this.handleLength_;e=this.constrainHandlePosition_(e=(e.viewLeft-e.scrollLeft)/(n=e.scrollWidth-e.viewWidth)*s),this.setHandlePosition(e),this.ratio=s/n}},t.Scrollbar.prototype.resizeVertical_=function(e){this.requiresViewResize_(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeViewVertical=function(e){var n=e.viewHeight-2*this.margin_;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),this.setPosition(this.workspace_.RTL?e.absoluteLeft+this.margin_:e.absoluteLeft+e.viewWidth-t.Scrollbar.scrollbarThickness-this.margin_,e.absoluteTop+this.margin_),this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeContentVertical=function(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var n=this.scrollbarLength_*e.viewHeight/e.scrollHeight;n=this.constrainHandleLength_(n),this.setHandleLength_(n);var s=this.scrollbarLength_-this.handleLength_;e=this.constrainHandlePosition_(e=(e.viewTop-e.scrollTop)/(n=e.scrollHeight-e.viewHeight)*s),this.setHandlePosition(e),this.ratio=s/n}},t.Scrollbar.prototype.createDom_=function(e){var n="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(n+=" "+e),this.outerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{class:n},null),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.outerSvg_),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((t.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),t.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},t.Scrollbar.prototype.isVisible=function(){return this.isVisible_},t.Scrollbar.prototype.setContainerVisible=function(e){var n=e!=this.containerVisible_;this.containerVisible_=e,n&&this.updateDisplay_()},t.Scrollbar.prototype.setVisible=function(e){var n=e!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,n&&this.updateDisplay_()},t.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},t.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),t.Touch.clearTouchIdentifier(),this.cleanUp_(),t.utils.isRightButton(e))e.stopPropagation();else{var n=t.utils.mouseToSvg(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());n=this.horizontal_?n.x:n.y;var s=t.utils.getInjectionDivXY_(this.svgHandle_),f=this.handlePosition_,y=.95*this.handleLength_;n<=(s=this.horizontal_?s.x:s.y)?f-=y:n>=s+this.handleLength_&&(f+=y),this.setHandlePosition(this.constrainHandlePosition_(f)),this.updateMetrics_(),e.stopPropagation(),e.preventDefault()}},t.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),t.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,t.Scrollbar.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,this.onMouseUpHandle_),t.Scrollbar.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},t.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.updateMetrics_()},t.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),t.Touch.clearTouchIdentifier(),this.cleanUp_()},t.Scrollbar.prototype.cleanUp_=function(){t.hideChaff(!0),t.Scrollbar.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseUpWrapper_),t.Scrollbar.onMouseUpWrapper_=null),t.Scrollbar.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseMoveWrapper_),t.Scrollbar.onMouseMoveWrapper_=null)},t.Scrollbar.prototype.getRatio_=function(){var e=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(e)&&(e=0),e},t.Scrollbar.prototype.updateMetrics_=function(){var e=this.getRatio_(),n={};this.horizontal_?n.x=e:n.y=e,this.workspace_.setMetrics(n)},t.Scrollbar.prototype.set=function(e,n){this.setHandlePosition(this.constrainHandlePosition_(e*this.ratio)),(n||void 0===n)&&this.updateMetrics_()},t.Scrollbar.prototype.setOrigin=function(e,n){this.origin_=new t.utils.Coordinate(e,n)},t.Tooltip={},t.Tooltip.visible=!1,t.Tooltip.blocked_=!1,t.Tooltip.LIMIT=50,t.Tooltip.mouseOutPid_=0,t.Tooltip.showPid_=0,t.Tooltip.lastX_=0,t.Tooltip.lastY_=0,t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.OFFSET_X=0,t.Tooltip.OFFSET_Y=10,t.Tooltip.RADIUS_OK=10,t.Tooltip.HOVER_MS=750,t.Tooltip.MARGINS=5,t.Tooltip.DIV=null,t.Tooltip.getTooltipOfObject=function(e){if(e=t.Tooltip.getTargetObject_(e)){for(e=e.tooltip;"function"==typeof e;)e=e();if("string"!=typeof e)throw Error("Tooltip function must return a string.");return e}return""},t.Tooltip.getTargetObject_=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},t.Tooltip.createDom=function(){t.Tooltip.DIV||(t.Tooltip.DIV=document.createElement("div"),t.Tooltip.DIV.className="blocklyTooltipDiv",(t.parentContainer||document.body).appendChild(t.Tooltip.DIV))},t.Tooltip.bindMouseEvents=function(e){e.mouseOverWrapper_=t.browserEvents.bind(e,"mouseover",null,t.Tooltip.onMouseOver_),e.mouseOutWrapper_=t.browserEvents.bind(e,"mouseout",null,t.Tooltip.onMouseOut_),e.addEventListener("mousemove",t.Tooltip.onMouseMove_,!1)},t.Tooltip.unbindMouseEvents=function(e){e&&(t.browserEvents.unbind(e.mouseOverWrapper_),t.browserEvents.unbind(e.mouseOutWrapper_),e.removeEventListener("mousemove",t.Tooltip.onMouseMove_))},t.Tooltip.onMouseOver_=function(e){t.Tooltip.blocked_||(e=t.Tooltip.getTargetObject_(e.currentTarget),t.Tooltip.element_!=e&&(t.Tooltip.hide(),t.Tooltip.poisonedElement_=null,t.Tooltip.element_=e),clearTimeout(t.Tooltip.mouseOutPid_))},t.Tooltip.onMouseOut_=function(e){t.Tooltip.blocked_||(t.Tooltip.mouseOutPid_=setTimeout(function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},1),clearTimeout(t.Tooltip.showPid_))},t.Tooltip.onMouseMove_=function(e){if(t.Tooltip.element_&&t.Tooltip.element_.tooltip&&!t.Tooltip.blocked_)if(t.Tooltip.visible){var n=t.Tooltip.lastX_-e.pageX;e=t.Tooltip.lastY_-e.pageY,Math.sqrt(n*n+e*e)>t.Tooltip.RADIUS_OK&&t.Tooltip.hide()}else t.Tooltip.poisonedElement_!=t.Tooltip.element_&&(clearTimeout(t.Tooltip.showPid_),t.Tooltip.lastX_=e.pageX,t.Tooltip.lastY_=e.pageY,t.Tooltip.showPid_=setTimeout(t.Tooltip.show_,t.Tooltip.HOVER_MS))},t.Tooltip.dispose=function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},t.Tooltip.hide=function(){t.Tooltip.visible&&(t.Tooltip.visible=!1,t.Tooltip.DIV&&(t.Tooltip.DIV.style.display="none")),t.Tooltip.showPid_&&clearTimeout(t.Tooltip.showPid_)},t.Tooltip.block=function(){t.Tooltip.hide(),t.Tooltip.blocked_=!0},t.Tooltip.unblock=function(){t.Tooltip.blocked_=!1},t.Tooltip.show_=function(){if(!t.Tooltip.blocked_&&(t.Tooltip.poisonedElement_=t.Tooltip.element_,t.Tooltip.DIV)){t.Tooltip.DIV.textContent="";var e=t.Tooltip.getTooltipOfObject(t.Tooltip.element_);e=(e=t.utils.string.wrap(e,t.Tooltip.LIMIT)).split("\n");for(var n=0;n<e.length;n++){var s=document.createElement("div");s.appendChild(document.createTextNode(e[n])),t.Tooltip.DIV.appendChild(s)}e=t.Tooltip.element_.RTL,n=document.documentElement.clientWidth,s=document.documentElement.clientHeight,t.Tooltip.DIV.style.direction=e?"rtl":"ltr",t.Tooltip.DIV.style.display="block",t.Tooltip.visible=!0;var f=t.Tooltip.lastX_;f=e?f-(t.Tooltip.OFFSET_X+t.Tooltip.DIV.offsetWidth):f+t.Tooltip.OFFSET_X;var y=t.Tooltip.lastY_+t.Tooltip.OFFSET_Y;y+t.Tooltip.DIV.offsetHeight>s+window.scrollY&&(y-=t.Tooltip.DIV.offsetHeight+2*t.Tooltip.OFFSET_Y),e?f=Math.max(t.Tooltip.MARGINS-window.scrollX,f):f+t.Tooltip.DIV.offsetWidth>n+window.scrollX-2*t.Tooltip.MARGINS&&(f=n-t.Tooltip.DIV.offsetWidth-2*t.Tooltip.MARGINS),t.Tooltip.DIV.style.top=y+"px",t.Tooltip.DIV.style.left=f+"px"}},t.utils.aria={},t.utils.aria.ARIA_PREFIX_="aria-",t.utils.aria.ROLE_ATTRIBUTE_="role",t.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},t.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},t.utils.aria.setRole=function(e,n){e.setAttribute(t.utils.aria.ROLE_ATTRIBUTE_,n)},t.utils.aria.setState=function(e,n,s){Array.isArray(s)&&(s=s.join(" ")),e.setAttribute(t.utils.aria.ARIA_PREFIX_+n,s)},t.IASTNodeLocation=function(){},t.IASTNodeLocationSvg=function(){},t.IASTNodeLocationWithBlock=function(){},t.IKeyboardAccessible=function(){},t.utils.deprecation={},t.utils.deprecation.warn=function(e,n,s,f){e=e+" was deprecated on "+n+" and will be deleted on "+s+".",f&&(e+="\nUse "+f+" instead."),console.warn(e)},t.Connection=function(e,n){this.sourceBlock_=e,this.type=n},t.Connection.CAN_CONNECT=0,t.Connection.REASON_SELF_CONNECTION=1,t.Connection.REASON_WRONG_TYPE=2,t.Connection.REASON_TARGET_NULL=3,t.Connection.REASON_CHECKS_FAILED=4,t.Connection.REASON_DIFFERENT_WORKSPACES=5,t.Connection.REASON_SHADOW_PARENT=6,t.Connection.REASON_DRAG_CHECKS_FAILED=7,t.Connection.prototype.targetConnection=null,t.Connection.prototype.disposed=!1,t.Connection.prototype.check_=null,t.Connection.prototype.shadowDom_=null,t.Connection.prototype.x=0,t.Connection.prototype.y=0,t.Connection.prototype.connect_=function(e){var P,n=t.connectionTypes.INPUT_VALUE,s=this.getSourceBlock(),f=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),this.isConnected()){var y=this.getShadowDom(!0);this.shadowDom_=null;var M=this.targetBlock();if(M.isShadow())M.dispose(!1);else{this.disconnect();var A=M}this.shadowDom_=y}t.Events.isEnabled()&&(P=new(t.Events.get(t.Events.BLOCK_MOVE))(f)),t.Connection.connectReciprocally_(this,e),f.setParent(s),P&&(P.recordNew(),t.Events.fire(P)),A&&((f=t.Connection.getConnectionForOrphanedConnection(f,e=this.type===n?A.outputConnection:A.previousConnection))?e.connect(f):e.onFailedConnect(this))},t.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var e=this.targetBlock();e&&e.unplug()}this.disposed=!0},t.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Connection.prototype.isSuperior=function(){return this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.NEXT_STATEMENT},t.Connection.prototype.isConnected=function(){return!!this.targetConnection},t.Connection.prototype.canConnectWithReason=function(e){return t.utils.deprecation.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnectWithReason(this,e,!1)},t.Connection.prototype.checkConnection=function(e){t.utils.deprecation.warn("Connection.prototype.checkConnection","July 2020","July 2021","the workspace's connection checker");var n=this.getConnectionChecker(),s=n.canConnectWithReason(this,e,!1);if(s!=t.Connection.CAN_CONNECT)throw Error(n.getErrorMessage(s,this,e))},t.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},t.Connection.prototype.isConnectionAllowed=function(e){return t.utils.deprecation.warn("Connection.prototype.isConnectionAllowed","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!0)},t.Connection.prototype.onFailedConnect=function(e){},t.Connection.prototype.connect=function(e){if(this.targetConnection!=e&&this.getConnectionChecker().canConnect(this,e,!1)){var n=t.Events.getGroup();n||t.Events.setGroup(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n||t.Events.setGroup(!1)}},t.Connection.connectReciprocally_=function(e,n){if(!e||!n)throw Error("Cannot connect null connections.");e.targetConnection=n,n.targetConnection=e},t.Connection.getSingleConnection_=function(e,n){for(var M,s=null,f=(n=n.outputConnection).getConnectionChecker(),y=0;M=e.inputList[y];y++)if((M=M.connection)&&f.canConnect(n,M,!1)){if(s)return null;s=M}return s},t.Connection.getConnectionForOrphanedOutput_=function(e,n){for(var s;s=t.Connection.getSingleConnection_(e,n);)if(!(e=s.targetBlock())||e.isShadow())return s;return null},t.Connection.getConnectionForOrphanedConnection=function(e,n){if(n.type===t.connectionTypes.OUTPUT_VALUE)return t.Connection.getConnectionForOrphanedOutput_(e,n.getSourceBlock());e=e.lastConnectionInStack(!0);var s=n.getConnectionChecker();return e&&s.canConnect(n,e,!1)?e:null},t.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var n=this.sourceBlock_,s=e.getSourceBlock();e=this}else n=e.getSourceBlock(),s=this.sourceBlock_;var f=t.Events.getGroup();f||t.Events.setGroup(!0),this.disconnectInternal_(n,s),s.isShadow()||e.respawnShadow_(),f||t.Events.setGroup(!1)},t.Connection.prototype.disconnectInternal_=function(e,n){var s;t.Events.isEnabled()&&(s=new(t.Events.get(t.Events.BLOCK_MOVE))(n)),this.targetConnection=this.targetConnection.targetConnection=null,n.setParent(null),s&&(s.recordNew(),t.Events.fire(s))},t.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),n=this.getShadowDom();if(e.workspace&&n)if((e=t.Xml.domToBlock(n,e.workspace)).outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(e.previousConnection)}},t.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},t.Connection.prototype.checkType=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType","October 2019","January 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!1)},t.Connection.prototype.checkType_=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType_","October 2019","January 2021","the workspace's connection checker"),this.checkType(e)},t.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},t.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},t.Connection.prototype.getCheck=function(){return this.check_},t.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e,(e=this.targetBlock())?e.isShadow()&&(e.dispose(!1),this.respawnShadow_()):this.respawnShadow_()},t.Connection.prototype.getShadowDom=function(e){return e&&this.targetBlock().isShadow()?t.Xml.blockToDom(this.targetBlock()):this.shadowDom_},t.Connection.prototype.neighbours=function(e){return[]},t.Connection.prototype.getParentInput=function(){for(var e=null,n=this.sourceBlock_.inputList,s=0;s<n.length;s++)if(n[s].connection===this){e=n[s];break}return e},t.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var n="Output Connection of ";else if(e.previousConnection==this)n="Previous Connection of ";else if(e.nextConnection==this)n="Next Connection of ";else{n=null;for(var f,s=0;f=e.inputList[s];s++)if(f.connection==this){n=f;break}if(!n)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";n='Input "'+n.name+'" connection on '}return n+e.toDevString()},t.IConnectionChecker=function(){},t.ConnectionChecker=function(){},t.ConnectionChecker.prototype.canConnect=function(e,n,s,f){return this.canConnectWithReason(e,n,s,f)==t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.canConnectWithReason=function(e,n,s,f){var y=this.doSafetyChecks(e,n);return y!=t.Connection.CAN_CONNECT?y:this.doTypeChecks(e,n)?s&&!this.doDragChecks(e,n,f||0)?t.Connection.REASON_DRAG_CHECKS_FAILED:t.Connection.CAN_CONNECT:t.Connection.REASON_CHECKS_FAILED},t.ConnectionChecker.prototype.getErrorMessage=function(e,n,s){switch(e){case t.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case t.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case t.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case t.Connection.REASON_TARGET_NULL:return"Target connection is null.";case t.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+n+" expected "+n.getCheck()+", found "+s.getCheck();case t.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case t.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}},t.ConnectionChecker.prototype.doSafetyChecks=function(e,n){if(!e||!n)return t.Connection.REASON_TARGET_NULL;if(e.isSuperior())var s=e.getSourceBlock(),f=n.getSourceBlock();else f=e.getSourceBlock(),s=n.getSourceBlock();return s==f?t.Connection.REASON_SELF_CONNECTION:n.type!=t.OPPOSITE_TYPE[e.type]?t.Connection.REASON_WRONG_TYPE:s.workspace!==f.workspace?t.Connection.REASON_DIFFERENT_WORKSPACES:s.isShadow()&&!f.isShadow()?t.Connection.REASON_SHADOW_PARENT:t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.doTypeChecks=function(e,n){if(e=e.getCheck(),n=n.getCheck(),!e||!n)return!0;for(var s=0;s<e.length;s++)if(-1!=n.indexOf(e[s]))return!0;return!1},t.ConnectionChecker.prototype.doDragChecks=function(e,n,s){if(e.distanceFrom(n)>s||n.getSourceBlock().isInsertionMarker())return!1;switch(n.type){case t.connectionTypes.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,n);case t.connectionTypes.OUTPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case t.connectionTypes.INPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isMovable()&&!n.targetBlock().isShadow())return!1;break;case t.connectionTypes.NEXT_STATEMENT:if(n.isConnected()&&!e.getSourceBlock().nextConnection&&!n.targetBlock().isShadow()&&n.targetBlock().nextConnection)return!1;break;default:return!1}return-1==t.draggingConnections.indexOf(n)},t.ConnectionChecker.prototype.canConnectToPrevious_=function(e,n){return!(e.targetConnection||-1!=t.draggingConnections.indexOf(n)||n.targetConnection&&(!(e=n.targetBlock()).isInsertionMarker()||e.getPreviousBlock()))},t.registry.register(t.registry.Type.CONNECTION_CHECKER,t.registry.DEFAULT,t.ConnectionChecker),t.VariableMap=function(e){this.variableMap_=Object.create(null),this.workspace=e},t.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},t.VariableMap.prototype.renameVariable=function(e,n){var s=this.getVariable(n,e.type),f=this.workspace.getAllBlocks(!1);t.Events.setGroup(!0);try{s&&s.getId()!=e.getId()?this.renameVariableWithConflict_(e,n,s,f):this.renameVariableAndUses_(e,n,f)}finally{t.Events.setGroup(!1)}},t.VariableMap.prototype.renameVariableById=function(e,n){var s=this.getVariableById(e);if(!s)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(s,n)},t.VariableMap.prototype.renameVariableAndUses_=function(e,n,s){for(t.Events.fire(new(t.Events.get(t.Events.VAR_RENAME))(e,n)),e.name=n,n=0;n<s.length;n++)s[n].updateVarName(e)},t.VariableMap.prototype.renameVariableWithConflict_=function(e,n,s,f){var y=e.type;for(n!=s.name&&this.renameVariableAndUses_(s,n,f),n=0;n<f.length;n++)f[n].renameVarById(e.getId(),s.getId());t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e)),e=this.getVariablesOfType(y).indexOf(e),this.variableMap_[y].splice(e,1)},t.VariableMap.prototype.createVariable=function(e,n,s){var f=this.getVariable(e,n);if(f){if(s&&f.getId()!=s)throw Error('Variable "'+e+'" is already in use and its id is "'+f.getId()+'" which conflicts with the passed in id, "'+s+'".');return f}if(s&&this.getVariableById(s))throw Error('Variable id, "'+s+'", is already in use.');return f=s||t.utils.genUid(),f=new t.VariableModel(this.workspace,e,n=n||"",f),(e=this.variableMap_[n]||[]).push(f),delete this.variableMap_[n],this.variableMap_[n]=e,f},t.VariableMap.prototype.deleteVariable=function(e){for(var f,n=this.variableMap_[e.type],s=0;f=n[s];s++)if(f.getId()==e.getId()){n.splice(s,1),t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e));break}},t.VariableMap.prototype.deleteVariableById=function(e){var n=this.getVariableById(e);if(n){var y,s=n.name,f=this.getVariableUsesById(e);for(e=0;y=f[e];e++)if("procedures_defnoreturn"==y.type||"procedures_defreturn"==y.type)return e=y.getFieldValue("NAME"),s=t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",s).replace("%2",e),void t.alert(s);var M=this;1<f.length?(s=t.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(f.length)).replace("%2",s),t.confirm(s,function(A){A&&n&&M.deleteVariableInternal(n,f)})):M.deleteVariableInternal(n,f)}else console.warn("Can't delete non-existent variable: "+e)},t.VariableMap.prototype.deleteVariableInternal=function(e,n){var s=t.Events.getGroup();s||t.Events.setGroup(!0);try{for(var f=0;f<n.length;f++)n[f].dispose(!0);this.deleteVariable(e)}finally{s||t.Events.setGroup(!1)}},t.VariableMap.prototype.getVariable=function(e,n){if(n=this.variableMap_[n||""])for(var f,s=0;f=n[s];s++)if(t.Names.equals(f.name,e))return f;return null},t.VariableMap.prototype.getVariableById=function(e){for(var n=Object.keys(this.variableMap_),s=0;s<n.length;s++)for(var M,f=n[s],y=0;M=this.variableMap_[f][y];y++)if(M.getId()==e)return M;return null},t.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},t.VariableMap.prototype.getVariableTypes=function(e){var n={};t.utils.object.mixin(n,this.variableMap_),e&&e.getPotentialVariableMap()&&t.utils.object.mixin(n,e.getPotentialVariableMap().variableMap_),e=Object.keys(n),n=!1;for(var s=0;s<e.length;s++)""==e[s]&&(n=!0);return n||e.push(""),e},t.VariableMap.prototype.getAllVariables=function(){var n,e=[];for(n in this.variableMap_)e=e.concat(this.variableMap_[n]);return e},t.VariableMap.prototype.getAllVariableNames=function(){var n,e=[];for(n in this.variableMap_)for(var y,s=this.variableMap_[n],f=0;y=s[f];f++)e.push(y.name);return e},t.VariableMap.prototype.getVariableUsesById=function(e){for(var n=[],s=this.workspace.getAllBlocks(!1),f=0;f<s.length;f++){var y=s[f].getVarModels();if(y)for(var M=0;M<y.length;M++)y[M].getId()==e&&n.push(s[f])}return n},t.Workspace=function(e){this.id=t.utils.genUid(),t.Workspace.WorkspaceDB_[this.id]=this,this.options=e||new t.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(t.registry.getClassFromOptions(t.registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new t.VariableMap(this),this.potentialVariableMap_=null},t.Workspace.prototype.rendered=!1,t.Workspace.prototype.isClearing=!1,t.Workspace.prototype.MAX_UNDO=1024,t.Workspace.prototype.connectionDBList=null,t.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete t.Workspace.WorkspaceDB_[this.id]},t.Workspace.SCAN_ANGLE=3,t.Workspace.prototype.sortObjects_=function(e,n){return e=e.getRelativeToSurfaceXY(),n=n.getRelativeToSurfaceXY(),e.y+t.Workspace.prototype.sortObjects_.offset*e.x-(n.y+t.Workspace.prototype.sortObjects_.offset*n.x)},t.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},t.Workspace.prototype.removeTopBlock=function(e){if(!t.utils.arrayRemove(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},t.Workspace.prototype.getTopBlocks=function(e){var n=[].concat(this.topBlocks_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},t.Workspace.prototype.removeTypedBlock=function(e){this.typedBlocksDB_[e.type].splice(this.typedBlocksDB_[e.type].indexOf(e),1),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},t.Workspace.prototype.getBlocksByType=function(e,n){return this.typedBlocksDB_[e]?(e=this.typedBlocksDB_[e].slice(0),n&&1<e.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e):[]},t.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB_[e.id]=e},t.Workspace.prototype.removeTopComment=function(e){if(!t.utils.arrayRemove(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},t.Workspace.prototype.getTopComments=function(e){var n=[].concat(this.topComments_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.getAllBlocks=function(e){if(e){e=this.getTopBlocks(!0);for(var n=[],s=0;s<e.length;s++)n.push.apply(n,e[s].getDescendants(!0))}else for(n=this.getTopBlocks(!1),s=0;s<n.length;s++)n.push.apply(n,n[s].getChildren(!1));return n.filter(function(f){return!f.isInsertionMarker()})},t.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=t.Events.getGroup();for(e||t.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);e||t.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},t.Workspace.prototype.renameVariableById=function(e,n){this.variableMap_.renameVariableById(e,n)},t.Workspace.prototype.createVariable=function(e,n,s){return this.variableMap_.createVariable(e,n,s)},t.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},t.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},t.Workspace.prototype.getVariable=function(e,n){return this.variableMap_.getVariable(e,n)},t.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},t.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},t.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},t.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},t.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},t.Workspace.prototype.getWidth=function(){return 0},t.Workspace.prototype.newBlock=function(e,n){return new t.Block(this,e,n)},t.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},t.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0},t.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var s,n=0;for(s in e){if(e[s]>this.remainingCapacityOfType(s))return!1;n+=e[s]}return!(n>this.remainingCapacity())},t.Workspace.prototype.hasBlockLimits=function(){return this.options.maxBlocks!=1/0||!!this.options.maxInstances},t.Workspace.prototype.getUndoStack=function(){return this.undoStack_},t.Workspace.prototype.getRedoStack=function(){return this.redoStack_},t.Workspace.prototype.undo=function(e){var n=e?this.redoStack_:this.undoStack_,s=e?this.undoStack_:this.redoStack_,f=n.pop();if(f){for(var y=[f];n.length&&f.group&&f.group==n[n.length-1].group;)y.push(n.pop());for(n=0;f=y[n];n++)s.push(f);y=t.Events.filter(y,e),t.Events.recordUndo=!1;try{for(n=0;f=y[n];n++)f.run(e)}finally{t.Events.recordUndo=!0}}},t.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,t.Events.clearPendingUndo()},t.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},t.Workspace.prototype.removeChangeListener=function(e){t.utils.arrayRemove(this.listeners_,e)},t.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var s,n=0;s=this.listeners_[n];n++)s(e)},t.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},t.Workspace.prototype.setBlockById=function(e,n){this.blockDB_[e]=n},t.Workspace.prototype.removeBlockById=function(e){delete this.blockDB_[e]},t.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},t.Workspace.prototype.allInputsFilled=function(e){for(var f,n=this.getTopBlocks(!1),s=0;f=n[s];s++)if(!f.allInputsFilled(e))return!1;return!0},t.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},t.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new t.VariableMap(this)},t.Workspace.prototype.getVariableMap=function(){return this.variableMap_},t.Workspace.prototype.setVariableMap=function(e){this.variableMap_=e},t.Workspace.WorkspaceDB_=Object.create(null),t.Workspace.getById=function(e){return t.Workspace.WorkspaceDB_[e]||null},t.Workspace.getAll=function(){var n,e=[];for(n in t.Workspace.WorkspaceDB_)e.push(t.Workspace.WorkspaceDB_[n]);return e},t.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},t.WorkspaceDragSurfaceSvg.prototype.SVG_=null,t.WorkspaceDragSurfaceSvg.prototype.container_=null,t.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},t.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,n){e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return t.utils.getRelativeXY(this.SVG_)},t.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var n=this.SVG_.childNodes[0],s=this.SVG_.childNodes[1];if(!(n&&s&&t.utils.dom.hasClass(n,"blocklyBlockCanvas")&&t.utils.dom.hasClass(s,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?t.utils.dom.insertAfter(n,this.previousSibling_):e.insertBefore(n,e.firstChild),t.utils.dom.insertAfter(s,n),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");t.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},t.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,n,s,f,y,M){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=s,e.setAttribute("transform","translate(0, 0) scale("+M+")"),n.setAttribute("transform","translate(0, 0) scale("+M+")"),this.SVG_.setAttribute("width",f),this.SVG_.setAttribute("height",y),this.SVG_.appendChild(e),this.SVG_.appendChild(n),this.SVG_.style.display="block"},t.blockRendering={},t.blockRendering.useDebugger=!1,t.blockRendering.register=function(e,n){t.registry.register(t.registry.Type.RENDERER,e,n)},t.blockRendering.unregister=function(e){t.registry.unregister(t.registry.Type.RENDERER,e)},t.blockRendering.startDebugger=function(){t.blockRendering.useDebugger=!0},t.blockRendering.stopDebugger=function(){t.blockRendering.useDebugger=!1},t.blockRendering.init=function(e,n,s){return(e=new(t.registry.getClass(t.registry.Type.RENDERER,e))(e)).init(n,s),e},t.ASTNode=function(e,n,s){if(!n)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=t.ASTNode.isConnectionType_(e),this.location_=n,this.wsCoordinate_=null,this.processParams_(s||null)},t.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},t.ASTNode.NAVIGATE_ALL_FIELDS=!1,t.ASTNode.DEFAULT_OFFSET_Y=-20,t.ASTNode.isConnectionType_=function(e){switch(e){case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:case t.ASTNode.types.INPUT:case t.ASTNode.types.OUTPUT:return!0}return!1},t.ASTNode.createFieldNode=function(e){return e?new t.ASTNode(t.ASTNode.types.FIELD,e):null},t.ASTNode.createConnectionNode=function(e){if(!e)return null;var n=e.type;return n==t.connectionTypes.INPUT_VALUE||n==t.connectionTypes.NEXT_STATEMENT&&e.getParentInput()?t.ASTNode.createInputNode(e.getParentInput()):n==t.connectionTypes.NEXT_STATEMENT?new t.ASTNode(t.ASTNode.types.NEXT,e):n==t.connectionTypes.OUTPUT_VALUE?new t.ASTNode(t.ASTNode.types.OUTPUT,e):n==t.connectionTypes.PREVIOUS_STATEMENT?new t.ASTNode(t.ASTNode.types.PREVIOUS,e):null},t.ASTNode.createInputNode=function(e){return e&&e.connection?new t.ASTNode(t.ASTNode.types.INPUT,e.connection):null},t.ASTNode.createBlockNode=function(e){return e?new t.ASTNode(t.ASTNode.types.BLOCK,e):null},t.ASTNode.createStackNode=function(e){return e?new t.ASTNode(t.ASTNode.types.STACK,e):null},t.ASTNode.createWorkspaceNode=function(e,n){return n&&e?new t.ASTNode(t.ASTNode.types.WORKSPACE,e,{wsCoordinate:n}):null},t.ASTNode.createTopNode=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)},t.ASTNode.prototype.getLocation=function(){return this.location_},t.ASTNode.prototype.getType=function(){return this.type_},t.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},t.ASTNode.prototype.isConnection=function(){return this.isConnection_},t.ASTNode.prototype.findNextForInput_=function(){var s,e=this.location_.getParentInput(),n=e.getSourceBlock();for(e=n.inputList.indexOf(e)+1;s=n.inputList[e];e++){for(var M,f=s.fieldRow,y=0;M=f[y];y++)if(M.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(M);if(s.connection)return t.ASTNode.createInputNode(s)}return null},t.ASTNode.prototype.findNextForField_=function(){var e=this.location_,n=e.getParentInput(),s=e.getSourceBlock(),f=s.inputList.indexOf(n);for(e=n.fieldRow.indexOf(e)+1;n=s.inputList[f];f++){for(var y=n.fieldRow;e<y.length;){if(y[e].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(y[e]);e++}if(e=0,n.connection)return t.ASTNode.createInputNode(n)}return null},t.ASTNode.prototype.findPrevForInput_=function(){for(var f,e=this.location_.getParentInput(),n=e.getSourceBlock(),s=n.inputList.indexOf(e);f=n.inputList[s];s--){if(f.connection&&f!==e)return t.ASTNode.createInputNode(f);for(var M,y=(f=f.fieldRow).length-1;M=f[y];y--)if(M.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(M)}return null},t.ASTNode.prototype.findPrevForField_=function(){var y,e=this.location_,n=e.getParentInput(),s=e.getSourceBlock(),f=s.inputList.indexOf(n);for(e=n.fieldRow.indexOf(e)-1;y=s.inputList[f];f--){if(y.connection&&y!==n)return t.ASTNode.createInputNode(y);for(y=y.fieldRow;-1<e;){if(y[e].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(y[e]);e--}0<=f-1&&(e=s.inputList[f-1].fieldRow.length-1)}return null},t.ASTNode.prototype.navigateBetweenStacks_=function(e){var n=this.getLocation();if(n instanceof t.Block||(n=n.getSourceBlock()),!n||!n.workspace)return null;var s=n.getRootBlock();n=s.workspace.getTopBlocks(!0);for(var y,f=0;y=n[f];f++)if(s.id==y.id)return-1==(e=f+(e?1:-1))||e==n.length?null:t.ASTNode.createStackNode(n[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")},t.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;var n=(e=e.getTopStackBlock()).previousConnection||e.outputConnection;return n&&n.targetConnection&&n.targetConnection.getParentInput()?t.ASTNode.createInputNode(n.targetConnection.getParentInput()):t.ASTNode.createStackNode(e)},t.ASTNode.prototype.findFirstFieldOrInput_=function(e){e=e.inputList;for(var s,n=0;s=e[n];n++){for(var M,f=s.fieldRow,y=0;M=f[y];y++)if(M.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(M);if(s.connection)return t.ASTNode.createInputNode(s)}return null},t.ASTNode.prototype.getSourceBlock=function(){return this.getType()===t.ASTNode.types.BLOCK||this.getType()===t.ASTNode.types.STACK?this.getLocation():this.getType()===t.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},t.ASTNode.prototype.next=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case t.ASTNode.types.OUTPUT:var e=this.location_;return t.ASTNode.createBlockNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return this.findNextForField_();case t.ASTNode.types.INPUT:return this.findNextForInput_();case t.ASTNode.types.BLOCK:return t.ASTNode.createConnectionNode(this.location_.nextConnection);case t.ASTNode.types.PREVIOUS:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock());case t.ASTNode.types.NEXT:return t.ASTNode.createConnectionNode((e=this.location_).targetConnection)}return null},t.ASTNode.prototype.in=function(){switch(this.type_){case t.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return t.ASTNode.createStackNode(e[0]);break;case t.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(e=this.location_);case t.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(e=this.location_);case t.ASTNode.types.INPUT:return t.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},t.ASTNode.prototype.prev=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case t.ASTNode.types.FIELD:return this.findPrevForField_();case t.ASTNode.types.INPUT:return this.findPrevForInput_();case t.ASTNode.types.BLOCK:var e=this.location_;return t.ASTNode.createConnectionNode(e.previousConnection||e.outputConnection);case t.ASTNode.types.PREVIOUS:if((e=(e=this.location_).targetConnection)&&!e.getParentInput())return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.NEXT:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock())}return null},t.ASTNode.prototype.out=function(){switch(this.type_){case t.ASTNode.types.STACK:var e=this.location_,n=e.getRelativeToSurfaceXY();return n=new t.utils.Coordinate(n.x,n.y+t.ASTNode.DEFAULT_OFFSET_Y),t.ASTNode.createWorkspaceNode(e.workspace,n);case t.ASTNode.types.OUTPUT:return(n=(e=this.location_).targetConnection)?t.ASTNode.createConnectionNode(n):t.ASTNode.createStackNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.INPUT:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock());case t.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(e=this.location_);case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_((e=this.location_).getSourceBlock())}return null},t.Blocks=Object.create(null),t.Extensions={},t.Extensions.ALL_=Object.create(null),t.Extensions.register=function(e,n){if("string"!=typeof e||""==e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(t.Extensions.ALL_[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof n)throw Error('Error: Extension "'+e+'" must be a function');t.Extensions.ALL_[e]=n},t.Extensions.registerMixin=function(e,n){if(!n||"object"!=typeof n)throw Error('Error: Mixin "'+e+'" must be a object');t.Extensions.register(e,function(){this.mixin(n)})},t.Extensions.registerMutator=function(e,n,s,f){var y='Error when registering mutator "'+e+'": ';t.Extensions.checkHasFunction_(y,n.domToMutation,"domToMutation"),t.Extensions.checkHasFunction_(y,n.mutationToDom,"mutationToDom");var M=t.Extensions.checkMutatorDialog_(n,y);if(s&&"function"!=typeof s)throw Error('Extension "'+e+'" is not a function');t.Extensions.register(e,function(){if(M){if(!t.Mutator)throw Error(y+"Missing require for Blockly.Mutator");this.setMutator(new t.Mutator(f||[]))}this.mixin(n),s&&s.apply(this)})},t.Extensions.unregister=function(e){t.Extensions.ALL_[e]?delete t.Extensions.ALL_[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},t.Extensions.apply=function(e,n,s){var f=t.Extensions.ALL_[e];if("function"!=typeof f)throw Error('Error: Extension "'+e+'" not found.');if(s)t.Extensions.checkNoMutatorProperties_(e,n);else var y=t.Extensions.getMutatorProperties_(n);if(f.apply(n),s)t.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+e+'": ',n);else if(!t.Extensions.mutatorPropertiesMatch_(y,n))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},t.Extensions.checkHasFunction_=function(e,n,s){if(!n)throw Error(e+'missing required property "'+s+'"');if("function"!=typeof n)throw Error(e+'" required property "'+s+'" must be a function')},t.Extensions.checkNoMutatorProperties_=function(e,n){if(t.Extensions.getMutatorProperties_(n).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+n.id)},t.Extensions.checkMutatorDialog_=function(e,n){var s=void 0!==e.compose,f=void 0!==e.decompose;if(s&&f){if("function"!=typeof e.compose)throw Error(n+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(n+"decompose must be a function.");return!0}if(!s&&!f)return!1;throw Error(n+'Must have both or neither of "compose" and "decompose"')},t.Extensions.checkBlockHasMutatorProperties_=function(e,n){if("function"!=typeof n.domToMutation)throw Error(e+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof n.mutationToDom)throw Error(e+'Applying a mutator didn\'t add "mutationToDom"');t.Extensions.checkMutatorDialog_(n,e)},t.Extensions.getMutatorProperties_=function(e){var n=[];return void 0!==e.domToMutation&&n.push(e.domToMutation),void 0!==e.mutationToDom&&n.push(e.mutationToDom),void 0!==e.compose&&n.push(e.compose),void 0!==e.decompose&&n.push(e.decompose),n},t.Extensions.mutatorPropertiesMatch_=function(e,n){if((n=t.Extensions.getMutatorProperties_(n)).length!=e.length)return!1;for(var s=0;s<n.length;s++)if(e[s]!=n[s])return!1;return!0},t.Extensions.buildTooltipForDropdown=function(e,n){var s=[];return"object"==typeof document&&t.utils.runAfterPageLoad(function(){for(var f in n)t.utils.checkMessageReferences(n[f])}),function(){this.type&&-1==s.indexOf(this.type)&&(t.Extensions.checkDropdownOptionsInTable_(this,e,n),s.push(this.type)),this.setTooltip(function(){var f=String(this.getFieldValue(e)),y=n[f];return null==y?-1==s.indexOf(this.type)&&(f="No tooltip mapping for value "+f+" of field "+e,null!=this.type&&(f+=" of block type "+this.type),console.warn(f+".")):y=t.utils.replaceMessageReferences(y),y}.bind(this))}},t.Extensions.checkDropdownOptionsInTable_=function(e,n,s){var f=e.getField(n);if(!f.isOptionListDynamic()){f=f.getOptions();for(var y=0;y<f.length;++y){var M=f[y][1];null==s[M]&&console.warn("No tooltip mapping for value "+M+" of field "+n+" of block type "+e.type)}}},t.Extensions.buildTooltipWithFieldText=function(e,n){return"object"==typeof document&&t.utils.runAfterPageLoad(function(){t.utils.checkMessageReferences(e)}),function(){this.setTooltip(function(){var s=this.getField(n);return t.utils.replaceMessageReferences(e).replace("%1",s?s.getText():"")}.bind(this))}},t.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},t.Extensions.register("parent_tooltip_when_inline",t.Extensions.extensionParentTooltip_),t.fieldRegistry={},t.fieldRegistry.register=function(e,n){t.registry.register(t.registry.Type.FIELD,e,n)},t.fieldRegistry.unregister=function(e){t.registry.unregister(t.registry.Type.FIELD,e)},t.fieldRegistry.fromJson=function(e){var n=t.registry.getObject(t.registry.Type.FIELD,e.type);return n?n.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},t.IDeletable=function(){},t.blockAnimations={},t.blockAnimations.disconnectPid_=0,t.blockAnimations.disconnectGroup_=null,t.blockAnimations.disposeUiEffect=function(e){var n=e.workspace,s=e.getSvgRoot();n.getAudioManager().play("delete"),e=n.getSvgXY(s),(s=s.cloneNode(!0)).translateX_=e.x,s.translateY_=e.y,s.setAttribute("transform","translate("+e.x+","+e.y+")"),n.getParentSvg().appendChild(s),s.bBox_=s.getBBox(),t.blockAnimations.disposeUiStep_(s,n.RTL,new Date,n.scale)},t.blockAnimations.disposeUiStep_=function(e,n,s,f){var y=(new Date-s)/150;1<y?t.utils.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(n?-1:1)*e.bBox_.width*f/2*y)+","+(e.translateY_+e.bBox_.height*f*y)+") scale("+(1-y)*f+")"),setTimeout(t.blockAnimations.disposeUiStep_,10,e,n,s,f))},t.blockAnimations.connectionUiEffect=function(e){var n=e.workspace,s=n.scale;if(n.getAudioManager().play("click"),!(1>s)){var f=n.getSvgXY(e.getSvgRoot());e.outputConnection?(f.x+=(e.RTL?3:-3)*s,f.y+=13*s):e.previousConnection&&(f.x+=(e.RTL?-23:23)*s,f.y+=3*s),e=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:f.x,cy:f.y,r:0,fill:"none",stroke:"#888","stroke-width":10},n.getParentSvg()),t.blockAnimations.connectionUiStep_(e,new Date,s)}},t.blockAnimations.connectionUiStep_=function(e,n,s){var f=(new Date-n)/150;1<f?t.utils.dom.removeNode(e):(e.setAttribute("r",25*f*s),e.style.opacity=1-f,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.connectionUiStep_,10,e,n,s))},t.blockAnimations.disconnectUiEffect=function(e){if(e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var n=e.getHeightWidth().height;n=Math.atan(10/n)/Math.PI*180,e.RTL||(n*=-1),t.blockAnimations.disconnectUiStep_(e.getSvgRoot(),n,new Date)}},t.blockAnimations.disconnectUiStep_=function(e,n,s){var f=(new Date-s)/200;1<f?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(f*Math.PI*3)*(1-f)*n)+")",t.blockAnimations.disconnectGroup_=e,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.disconnectUiStep_,10,e,n,s)),e.setAttribute("transform",e.translate_+e.skew_)},t.blockAnimations.disconnectUiStop=function(){if(t.blockAnimations.disconnectGroup_){clearTimeout(t.blockAnimations.disconnectPid_);var e=t.blockAnimations.disconnectGroup_;e.skew_="",e.setAttribute("transform",e.translate_),t.blockAnimations.disconnectGroup_=null}},t.Events.BlockDrag=function(e,n,s){t.Events.BlockDrag.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isStart=n,this.blocks=s},t.utils.object.inherits(t.Events.BlockDrag,t.Events.UiBase),t.Events.BlockDrag.prototype.type=t.Events.BLOCK_DRAG,t.Events.BlockDrag.prototype.toJson=function(){var e=t.Events.BlockDrag.superClass_.toJson.call(this);return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e},t.Events.BlockDrag.prototype.fromJson=function(e){t.Events.BlockDrag.superClass_.fromJson.call(this,e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks},t.registry.register(t.registry.Type.EVENT,t.Events.BLOCK_DRAG,t.Events.BlockDrag),t.IBlockDragger=function(){},t.InsertionMarkerManager=function(e){this.topBlock_=t.selected=e,this.workspace_=e.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",t.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,t.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{t.Events.enable()}},t.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},t.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},t.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(t.Events.disable(),this.hidePreview_(),t.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;t.blockAnimations.connectionUiEffect(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},t.InsertionMarkerManager.prototype.update=function(e,n){var s=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(s,n))||this.shouldUpdatePreviews_(s,e))&&(t.Events.disable(),this.maybeHidePreview_(s),this.maybeShowPreview_(s),t.Events.enable())},t.InsertionMarkerManager.prototype.createMarkerBlock_=function(e){var n=e.type;t.Events.disable();try{var s=this.workspace_.newBlock(n);if(s.setInsertionMarker(!0),e.mutationToDom){var f=e.mutationToDom();f&&s.domToMutation(f)}for(n=0;n<e.inputList.length;n++){var y=e.inputList[n];if(y.name!=t.constants.COLLAPSED_INPUT_NAME){var M=s.inputList[n];if(!M)throw Error(t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","an input"));for(f=0;f<y.fieldRow.length;f++){var A=y.fieldRow[f],P=M.fieldRow[f];if(!P)throw Error(t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","a field"));P.setValue(A.getValue())}}}s.setCollapsed(e.isCollapsed()),s.setInputsInline(e.getInputsInline()),s.initSvg(),s.getSvgRoot().setAttribute("visibility","hidden")}finally{t.Events.enable()}return s},t.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),n=this.topBlock_.lastConnectionInStack(!0);if(n&&n!=this.topBlock_.nextConnection){if(e.push(n),this.lastOnStack_=n,this.lastMarker_){t.Events.disable();try{this.lastMarker_.dispose()}finally{t.Events.enable()}}this.lastMarker_=this.createMarkerBlock_(n.getSourceBlock())}return e},t.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(e,n){var s=e.local,f=e.closest;return e=e.radius,s&&f?this.localConnection_&&this.closestConnection_?!(this.closestConnection_==f&&this.localConnection_==s||(s=this.localConnection_.x+n.x-this.closestConnection_.x,n=this.localConnection_.y+n.y-this.closestConnection_.y,n=Math.sqrt(s*s+n*n),f&&e>n-t.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},t.InsertionMarkerManager.prototype.getCandidate_=function(e){for(var n=this.getStartRadius_(),s=null,f=null,y=0;y<this.availableConnections_.length;y++){var M=this.availableConnections_[y],A=M.closest(n,e);A.connection&&(s=A.connection,f=M,n=A.radius)}return{closest:s,local:f,radius:n}},t.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?t.CONNECTING_SNAP_RADIUS:t.SNAP_RADIUS},t.InsertionMarkerManager.prototype.shouldDelete_=function(e,n){return!(!n||!this.workspace_.getComponentManager().hasCapability(n.id,t.ComponentManager.Capability.DELETE_AREA))&&n.wouldDelete(this.topBlock_,e&&!!e.closest)},t.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var n=e.closest;e=e.local,n&&(n==this.closestConnection_||n.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=n,this.localConnection_=e,this.showPreview_()))}},t.InsertionMarkerManager.prototype.showPreview_=function(){var e=this.closestConnection_,n=this.workspace_.getRenderer();switch(n.getConnectionPreviewMethod(e,this.localConnection_,this.topBlock_)){case t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}e&&n.shouldHighlightConnection(e)&&e.highlight()},t.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var n=this.closestConnection_!=e.closest;e=this.localConnection_!=e.local,this.closestConnection_&&this.localConnection_&&(n||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},t.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},t.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var e=this.localConnection_,n=this.closestConnection_,s=this.lastOnStack_&&e==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((e=s.getMatchingConnection(e.getSourceBlock(),e))==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");s.render(),s.rendered=!0,s.getSvgRoot().setAttribute("visibility","visible"),e&&n&&s.positionNearConnection(e,n),n&&e.connect(n),this.markerConnection_=e},t.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var e=this.markerConnection_,n=e.getSourceBlock(),s=n.nextConnection,f=n.previousConnection,y=n.outputConnection;if(y=e.type==t.connectionTypes.INPUT_VALUE&&!(y&&y.targetConnection),!(e!=s||f&&f.targetConnection)||y?e.targetBlock().unplug(!1):e.type==t.connectionTypes.NEXT_STATEMENT&&e!=s?((s=e.targetConnection).getSourceBlock().unplug(!1),f=f?f.targetConnection:null,n.unplug(!0),f&&f.connect(s)):n.unplug(!0),e.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,(e=n.getSvgRoot())&&e.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},t.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var e=this.closestConnection_;this.highlightedBlock_=e.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(e,!0)},t.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},t.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},t.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},t.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e},t.BlockDragger=function(e,n){this.draggingBlock_=e,this.workspace_=n,this.draggedConnectionManager_=new t.InsertionMarkerManager(this.draggingBlock_),this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=t.BlockDragger.initIconData_(e)},t.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},t.BlockDragger.initIconData_=function(e){var n=[];e=e.getDescendants(!1);for(var f,s=0;f=e[s];s++){f=f.getIcons();for(var y=0;y<f.length;y++){var M={location:f[y].getIconLocation(),icon:f[y]};n.push(M)}}return n},t.BlockDragger.prototype.startDrag=function(e,n){t.Events.getGroup()||t.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),t.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),t.blockAnimations.disconnectUiStop(),this.shouldDisconnect_(n)&&this.disconnectBlock_(n,e),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()},t.BlockDragger.prototype.shouldDisconnect_=function(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())},t.BlockDragger.prototype.disconnectBlock_=function(e,n){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(n),e=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),t.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()},t.BlockDragger.prototype.fireDragStartEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.drag=function(e,n){n=this.pixelsToWorkspaceUnits_(n);var s=t.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(s),this.dragIcons_(n),s=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),this.draggedConnectionManager_.update(n,this.dragTarget_),e=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock(),e!=this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==s&&(s&&s.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)},t.BlockDragger.prototype.endDrag=function(e,n){if(this.drag(e,n),this.dragIconData_=[],this.fireDragEndEvent_(),t.utils.dom.stopTextWidthCache(),t.blockAnimations.disconnectUiStop(),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_))e=this.startXY_;else{var s=(e=this.getNewLocationAfterDrag_(n)).delta;e=e.newLocation}this.draggingBlock_.moveOffDragSurface(e),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),s?this.updateBlockAfterMove_(s):t.bumpObjectIntoBounds_(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),t.Events.setGroup(!1)},t.BlockDragger.prototype.getNewLocationAfterDrag_=function(e){var n={};return n.delta=this.pixelsToWorkspaceUnits_(e),n.newLocation=t.utils.Coordinate.sum(this.startXY_,n.delta),n},t.BlockDragger.prototype.maybeDeleteBlock_=function(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),t.draggingConnections=[],!0)},t.BlockDragger.prototype.updateBlockAfterMove_=function(e){this.draggingBlock_.moveConnections(e.x,e.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()},t.BlockDragger.prototype.fireDragEndEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.updateToolboxStyle_=function(e){var n=this.workspace_.getToolbox();if(n){var s=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"==typeof n.removeStyle?n.removeStyle(s):e||"function"!=typeof n.addStyle||n.addStyle(s)}},t.BlockDragger.prototype.fireMoveEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_MOVE))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),t.Events.fire(e)},t.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)},t.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BlockDragger.prototype.dragIcons_=function(e){for(var n=0;n<this.dragIconData_.length;n++){var s=this.dragIconData_[n];s.icon.setIconLocation(t.utils.Coordinate.sum(s.location,e))}},t.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},t.registry.register(t.registry.Type.BLOCK_DRAGGER,t.registry.DEFAULT,t.BlockDragger),t.IContextMenu=function(){},t.IDraggable=function(){},t.IBubble=function(){},t.Bubble=function(e,n,s,f,y,M){this.workspace_=e,this.content_=n,this.shape_=s,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,s=t.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(s=-s),this.arrow_radians_=t.utils.math.toRadians(s),e.getBubbleCanvas().appendChild(this.createDom_(n,!(!y||!M))),this.setAnchorLocation(f),y&&M||(y=(e=this.content_.getBBox()).width+2*t.Bubble.BORDER_WIDTH,M=e.height+2*t.Bubble.BORDER_WIDTH),this.setBubbleSize(y,M),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},t.Bubble.BORDER_WIDTH=6,t.Bubble.ARROW_THICKNESS=5,t.Bubble.ARROW_ANGLE=20,t.Bubble.ARROW_BEND=4,t.Bubble.ANCHOR_RADIUS=8,t.Bubble.onMouseUpWrapper_=null,t.Bubble.onMouseMoveWrapper_=null,t.Bubble.unbindDragEvents_=function(){t.Bubble.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseUpWrapper_),t.Bubble.onMouseUpWrapper_=null),t.Bubble.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseMoveWrapper_),t.Bubble.onMouseMoveWrapper_=null)},t.Bubble.bubbleMouseUp_=function(e){t.Touch.clearTouchIdentifier(),t.Bubble.unbindDragEvents_()},t.Bubble.prototype.rendered_=!1,t.Bubble.prototype.anchorXY_=null,t.Bubble.prototype.relativeLeft_=0,t.Bubble.prototype.relativeTop_=0,t.Bubble.prototype.width_=0,t.Bubble.prototype.height_=0,t.Bubble.prototype.autoLayout_=!0,t.Bubble.prototype.createDom_=function(e,n){this.bubbleGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var s={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return t.utils.userAgent.JAVA_FX&&(s={}),s=t.utils.dom.createSvgElement(t.utils.Svg.G,s,this.bubbleGroup_),this.bubbleArrow_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{},s),this.bubbleBack_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:t.Bubble.BORDER_WIDTH,ry:t.Bubble.BORDER_WIDTH},s),n?(this.resizeGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),t.utils.dom.createSvgElement(t.utils.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,(n=2*t.Bubble.BORDER_WIDTH).toString())},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=t.browserEvents.conditionalBind(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=t.browserEvents.conditionalBind(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(e),this.bubbleGroup_},t.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},t.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},t.Bubble.prototype.bubbleMouseDown_=function(e){var n=this.workspace_.getGesture(e);n&&n.handleBubbleStart(e,this)},t.Bubble.prototype.showContextMenu=function(e){},t.Bubble.prototype.isDeletable=function(){return!1},t.Bubble.prototype.setDeleteStyle=function(e){},t.Bubble.prototype.resizeMouseDown_=function(e){this.promote(),t.Bubble.unbindDragEvents_(),t.utils.isRightButton(e)||(this.workspace_.startDrag(e,new t.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),t.Bubble.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,t.Bubble.bubbleMouseUp_),t.Bubble.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.resizeMouseMove_),t.hideChaff()),e.stopPropagation()},t.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},t.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},t.Bubble.prototype.registerMoveEvent=function(e){this.moveCallback_=e},t.Bubble.prototype.promote=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},t.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},t.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),n=this.getOptimalRelativeLeft_(e),s=this.getOptimalRelativeTop_(e),f=this.shape_.getBBox(),y={x:n,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},M={x:-this.width_-30,y:s};s={x:f.width,y:s};var A={x:n,y:f.height};n=f.width<f.height?s:A,f=f.width<f.height?A:s,s=this.getOverlap_(y,e),A=this.getOverlap_(M,e);var P=this.getOverlap_(n,e);e=this.getOverlap_(f,e),s==(e=Math.max(s,A,P,e))?(this.relativeLeft_=y.x,this.relativeTop_=y.y):A==e?(this.relativeLeft_=M.x,this.relativeTop_=M.y):P==e?(this.relativeLeft_=n.x,this.relativeTop_=n.y):(this.relativeLeft_=f.x,this.relativeTop_=f.y)},t.Bubble.prototype.getOverlap_=function(e,n){var s=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x;return e=e.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(s+this.width_,n.left+n.width)-Math.max(s,n.left))*(Math.min(e+this.height_,n.top+n.height)-Math.max(e,n.top))/(this.width_*this.height_)))},t.Bubble.prototype.getOptimalRelativeLeft_=function(e){var n=-this.width_/4;if(this.width_>e.width)return n;if(this.workspace_.RTL)var s=this.anchorXY_.x-n,f=s-this.width_,y=e.left+e.width,M=e.left+t.Scrollbar.scrollbarThickness/this.workspace_.scale;else s=(f=n+this.anchorXY_.x)+this.width_,M=e.left,y=e.left+e.width-t.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?f<M?n=-(M-this.anchorXY_.x+this.width_):s>y&&(n=-(y-this.anchorXY_.x)):f<M?n=M-this.anchorXY_.x:s>y&&(n=y-this.anchorXY_.x-this.width_),n},t.Bubble.prototype.getOptimalRelativeTop_=function(e){var n=-this.height_/4;if(this.height_>e.height)return n;var s=this.anchorXY_.y+n,y=e.top;e=e.top+e.height-t.Scrollbar.scrollbarThickness/this.workspace_.scale;var M=this.anchorXY_.y;return s<y?n=y-M:s+this.height_>e&&(n=e-M-this.height_),n},t.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;this.moveTo(e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.relativeTop_+this.anchorXY_.y)},t.Bubble.prototype.moveTo=function(e,n){this.bubbleGroup_.setAttribute("transform","translate("+e+","+n+")")},t.Bubble.prototype.setDragging=function(e){!e&&this.moveCallback_&&this.moveCallback_()},t.Bubble.prototype.getBubbleSize=function(){return new t.utils.Size(this.width_,this.height_)},t.Bubble.prototype.setBubbleSize=function(e,n){var s=2*t.Bubble.BORDER_WIDTH;e=Math.max(e,s+45),n=Math.max(n,s+20),this.width_=e,this.height_=n,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",n),this.resizeGroup_&&this.resizeGroup_.setAttribute("transform",this.workspace_.RTL?"translate("+2*t.Bubble.BORDER_WIDTH+","+(n-s)+") scale(-1 1)":"translate("+(e-s)+","+(n-s)+")"),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},t.Bubble.prototype.renderArrow_=function(){var e=[],n=this.width_/2,s=this.height_/2,f=-this.relativeLeft_,y=-this.relativeTop_;if(n==f&&s==y)e.push("M "+n+","+s);else{y-=s,f-=n,this.workspace_.RTL&&(f*=-1);var M=Math.sqrt(y*y+f*f),A=Math.acos(f/M);0>y&&(A=2*Math.PI-A);var P=A+Math.PI/2;P>2*Math.PI&&(P-=2*Math.PI);var B=Math.sin(P),ne=Math.cos(P),te=this.getBubbleSize();P=(te.width+te.height)/t.Bubble.ARROW_THICKNESS,P=Math.min(P,te.width,te.height)/4,f=n+(te=1-t.Bubble.ANCHOR_RADIUS/M)*f,y=s+te*y,te=n+P*ne;var se=s+P*B;n-=P*ne,s-=P*B,(B=A+this.arrow_radians_)>2*Math.PI&&(B-=2*Math.PI),A=Math.sin(B)*M/t.Bubble.ARROW_BEND,M=Math.cos(B)*M/t.Bubble.ARROW_BEND,e.push("M"+te+","+se),e.push("C"+(te+M)+","+(se+A)+" "+f+","+y+" "+f+","+y),e.push("C"+f+","+y+" "+(n+M)+","+(s+A)+" "+n+","+s)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},t.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},t.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&t.browserEvents.unbind(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&t.browserEvents.unbind(this.onMouseDownResizeWrapper_),t.Bubble.unbindDragEvents_(),t.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},t.Bubble.prototype.moveDuringDrag=function(e,n){e?e.translateSurface(n.x,n.y):this.moveTo(n.x,n.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-n.x-this.width_:n.x-this.anchorXY_.x,this.relativeTop_=n.y-this.anchorXY_.y,this.renderArrow_()},t.Bubble.prototype.getRelativeToSurfaceXY=function(){return new t.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},t.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},t.Bubble.textToDom=function(e){var n=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:t.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var s=0;s<e.length;s++){var f=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{dy:"1em",x:t.Bubble.BORDER_WIDTH},n),y=document.createTextNode(e[s]);f.appendChild(y)}return n},t.Bubble.createNonEditableBubble=function(e,n,s){if((s=new t.Bubble(n.workspace,e,n.pathObject.svgPath,s,null,null)).setSvgId(n.id),n.RTL){n=e.getBBox().width;for(var y,f=0;y=e.childNodes[f];f++)y.setAttribute("text-anchor","end"),y.setAttribute("x",n+t.Bubble.BORDER_WIDTH)}return s},t.Events.CommentBase=function(e){this.commentId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.utils.object.inherits(t.Events.CommentBase,t.Events.Abstract),t.Events.CommentBase.prototype.toJson=function(){var e=t.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},t.Events.CommentBase.prototype.fromJson=function(e){t.Events.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},t.Events.CommentChange=function(e,n,s){t.Events.CommentChange.superClass_.constructor.call(this,e),e&&(this.oldContents_=void 0===n?"":n,this.newContents_=void 0===s?"":s)},t.utils.object.inherits(t.Events.CommentChange,t.Events.CommentBase),t.Events.CommentChange.prototype.type=t.Events.COMMENT_CHANGE,t.Events.CommentChange.prototype.toJson=function(){var e=t.Events.CommentChange.superClass_.toJson.call(this);return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e},t.Events.CommentChange.prototype.fromJson=function(e){t.Events.CommentChange.superClass_.fromJson.call(this,e),this.oldContents_=e.oldContents,this.newContents_=e.newContents},t.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},t.Events.CommentChange.prototype.run=function(e){var n=this.getEventWorkspace_().getCommentById(this.commentId);n?n.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},t.Events.CommentCreate=function(e){t.Events.CommentCreate.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentCreate,t.Events.CommentBase),t.Events.CommentCreate.prototype.type=t.Events.COMMENT_CREATE,t.Events.CommentCreate.prototype.toJson=function(){var e=t.Events.CommentCreate.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e},t.Events.CommentCreate.prototype.fromJson=function(e){t.Events.CommentCreate.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml)},t.Events.CommentCreate.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,e)},t.Events.CommentCreateDeleteHelper=function(e,n){var s=e.getEventWorkspace_();n?((n=t.utils.xml.createElement("xml")).appendChild(e.xml),t.Xml.domToWorkspace(n,s)):(s=s.getCommentById(e.commentId))?s.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+e.commentId)},t.Events.CommentDelete=function(e){t.Events.CommentDelete.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentDelete,t.Events.CommentBase),t.Events.CommentDelete.prototype.type=t.Events.COMMENT_DELETE,t.Events.CommentDelete.prototype.toJson=function(){return t.Events.CommentDelete.superClass_.toJson.call(this)},t.Events.CommentDelete.prototype.fromJson=function(e){t.Events.CommentDelete.superClass_.fromJson.call(this,e)},t.Events.CommentDelete.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,!e)},t.Events.CommentMove=function(e){t.Events.CommentMove.superClass_.constructor.call(this,e),e&&(this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)},t.utils.object.inherits(t.Events.CommentMove,t.Events.CommentBase),t.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},t.Events.CommentMove.prototype.type=t.Events.COMMENT_MOVE,t.Events.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},t.Events.CommentMove.prototype.toJson=function(){var e=t.Events.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(e.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),e},t.Events.CommentMove.prototype.fromJson=function(e){if(t.Events.CommentMove.superClass_.fromJson.call(this,e),e.oldCoordinate){var n=e.oldCoordinate.split(",");this.oldCoordinate_=new t.utils.Coordinate(Number(n[0]),Number(n[1]))}e.newCoordinate&&(n=e.newCoordinate.split(","),this.newCoordinate_=new t.utils.Coordinate(Number(n[0]),Number(n[1])))},t.Events.CommentMove.prototype.isNull=function(){return t.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},t.Events.CommentMove.prototype.run=function(e){var n=this.getEventWorkspace_().getCommentById(this.commentId);if(n){e=e?this.newCoordinate_:this.oldCoordinate_;var s=n.getXY();n.moveBy(e.x-s.x,e.y-s.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CREATE,t.Events.CommentCreate),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CHANGE,t.Events.CommentChange),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_MOVE,t.Events.CommentMove),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_DELETE,t.Events.CommentDelete),t.BubbleDragger=function(e,n){this.draggingBubble_=e,this.workspace_=n,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=t.utils.is3dSupported()&&n.getBlockDragSurface()?n.getBlockDragSurface():null},t.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},t.BubbleDragger.prototype.startBubbleDrag=function(){t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0)},t.BubbleDragger.prototype.dragBubble=function(e,n){n=this.pixelsToWorkspaceUnits_(n),n=t.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),n=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!=this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==n&&(n&&n.onDragExit(this.draggingBubble_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBubble_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBubble_)},t.BubbleDragger.prototype.shouldDelete_=function(e){return!(!e||!this.workspace_.getComponentManager().hasCapability(e.id,t.ComponentManager.Capability.DELETE_AREA))&&e.wouldDelete(this.draggingBubble_,!1)},t.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.draggingBubble_.setDeleteStyle(this.wouldDeleteBubble_)},t.BubbleDragger.prototype.endBubbleDrag=function(e,n){this.dragBubble(e,n),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBubble_)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(n),e=t.utils.Coordinate.sum(this.startXY_,e)),this.draggingBubble_.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBubble_),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),t.Events.setGroup(!1)},t.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new(t.Events.get(t.Events.COMMENT_MOVE))(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),t.Events.fire(e)}},t.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},t.Events.Click=function(e,n,s){t.Events.Click.superClass_.constructor.call(this,e?e.workspace.id:n),this.blockId=e?e.id:null,this.targetType=s},t.utils.object.inherits(t.Events.Click,t.Events.UiBase),t.Events.Click.prototype.type=t.Events.CLICK,t.Events.Click.prototype.toJson=function(){var e=t.Events.Click.superClass_.toJson.call(this);return e.targetType=this.targetType,this.blockId&&(e.blockId=this.blockId),e},t.Events.Click.prototype.fromJson=function(e){t.Events.Click.superClass_.fromJson.call(this,e),this.targetType=e.targetType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.CLICK,t.Events.Click),t.WorkspaceDragger=function(e){this.workspace_=e,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new t.utils.Coordinate(e.scrollX,e.scrollY)},t.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},t.WorkspaceDragger.prototype.startDrag=function(){t.selected&&t.selected.unselect(),this.workspace_.setupDragSurface()},t.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},t.WorkspaceDragger.prototype.drag=function(e){if(e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(e.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,e.y)}},t.Gesture=function(e,n){this.mouseDownXY_=null,this.currentDragDeltaXY_=new t.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!t.DRAG_STACK},t.Gesture.prototype.dispose=function(){t.Touch.clearTouchIdentifier(),t.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&t.browserEvents.unbind(this.onMoveWrapper_),this.onUpWrapper_&&t.browserEvents.unbind(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},t.Gesture.prototype.updateFromEvent_=function(e){var n=new t.utils.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(n)&&(this.updateIsDragging_(),t.longStop_()),this.mostRecentEvent_=e},t.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=t.utils.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=t.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?t.FLYOUT_DRAG_RADIUS:t.DRAG_RADIUS))},t.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_)||this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)||(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),t.Events.getGroup()||t.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),0))},t.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},t.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},t.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new t.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},t.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},t.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new(t.registry.getClassFromOptions(t.registry.Type.BLOCK_DRAGGER,this.creatorWorkspace_.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new t.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.doStart=function(e){t.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,t.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),t.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,t.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),t.utils.isRightButton(e)?this.handleRightClick(e):("touchstart"!=e.type.toLowerCase()&&"pointerdown"!=e.type.toLowerCase()||"mouse"==e.pointerType||t.longStart(e,this),this.mouseDownXY_=new t.utils.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},t.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),t.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},t.Gesture.prototype.cancel=function(){this.isEnding_||(t.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},t.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),t.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(t.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},t.Gesture.prototype.handleWsStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(n),this.mostRecentEvent_=e,this.doStart(e)},t.Gesture.prototype.fireWorkspaceClick_=function(e){t.Events.fire(new(t.Events.get(t.Events.CLICK))(null,e.id,"workspace"))},t.Gesture.prototype.handleFlyoutStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(n),this.handleWsStart(e,n.getWorkspace())},t.Gesture.prototype.handleBlockStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(n),this.mostRecentEvent_=e},t.Gesture.prototype.handleBubbleStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(n),this.mostRecentEvent_=e},t.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},t.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},t.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&(t.Events.getGroup()||t.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var e=new(t.Events.get(t.Events.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");t.Events.fire(e)}this.bringBlockToFront_(),t.Events.setGroup(!1)},t.Gesture.prototype.doWorkspaceClick_=function(e){e=this.creatorWorkspace_,t.selected&&t.selected.unselect(),this.fireWorkspaceClick_(this.startWorkspace_||e)},t.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},t.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},t.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},t.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},t.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},t.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},t.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},t.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},t.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},t.Gesture.prototype.isWorkspaceClick_=function(){return!(this.startBlock_||this.startBubble_||this.startField_||this.hasExceededDragRadius_)},t.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},t.Gesture.prototype.hasStarted=function(){return this.hasStarted_},t.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},t.Gesture.prototype.getCurrentDragger=function(){return this.isDraggingBlock_?this.blockDragger_:this.isDraggingWorkspace_?this.workspaceDragger_:this.isDraggingBubble_?this.bubbleDragger_:null},t.Gesture.inProgress=function(){for(var s,e=t.Workspace.getAll(),n=0;s=e[n];n++)if(s.currentGesture_)return!0;return!1},t.IRegistrable=function(){},t.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},t.Marker.prototype.setDrawer=function(e){this.drawer_=e},t.Marker.prototype.getDrawer=function(){return this.drawer_},t.Marker.prototype.getCurNode=function(){return this.curNode_},t.Marker.prototype.setCurNode=function(e){var n=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(n,this.curNode_)},t.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},t.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},t.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},t.Cursor=function(){t.Cursor.superClass_.constructor.call(this),this.type="cursor"},t.utils.object.inherits(t.Cursor,t.Marker),t.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},t.Cursor.prototype.in=function(){var e=this.getCurNode();return e?((e.getType()==t.ASTNode.types.PREVIOUS||e.getType()==t.ASTNode.types.OUTPUT)&&(e=e.next()),(e=e.in())&&this.setCurNode(e),e):null},t.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},t.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()==t.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},t.registry.register(t.registry.Type.CURSOR,t.registry.DEFAULT,t.Cursor),t.MarkerManager=function(e){this.cursorSvg_=this.cursor_=null,this.markers_=Object.create(null),this.workspace_=e},t.MarkerManager.LOCAL_MARKER="local_marker_1",t.MarkerManager.prototype.registerMarker=function(e,n){this.markers_[e]&&this.unregisterMarker(e),n.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,n)),this.setMarkerSvg(n.getDrawer().createDom()),this.markers_[e]=n},t.MarkerManager.prototype.unregisterMarker=function(e){var n=this.markers_[e];if(!n)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");n.dispose(),delete this.markers_[e]},t.MarkerManager.prototype.getCursor=function(){return this.cursor_},t.MarkerManager.prototype.getMarker=function(e){return this.markers_[e]||null},t.MarkerManager.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},t.MarkerManager.prototype.setCursorSvg=function(e){e?(this.workspace_.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},t.MarkerManager.prototype.setMarkerSvg=function(e){e?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(e)):this.markerSvg_=null},t.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},t.MarkerManager.prototype.dispose=function(){for(var s,e=Object.keys(this.markers_),n=0;s=e[n];n++)this.unregisterMarker(s);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},t.WidgetDiv={},t.WidgetDiv.owner_=null,t.WidgetDiv.dispose_=null,t.WidgetDiv.rendererClassName_="",t.WidgetDiv.themeClassName_="",t.WidgetDiv.createDom=function(){t.WidgetDiv.DIV||(t.WidgetDiv.DIV=document.createElement("div"),t.WidgetDiv.DIV.className="blocklyWidgetDiv",(t.parentContainer||document.body).appendChild(t.WidgetDiv.DIV))},t.WidgetDiv.show=function(e,n,s){t.WidgetDiv.hide(),t.WidgetDiv.owner_=e,t.WidgetDiv.dispose_=s,(e=t.WidgetDiv.DIV).style.direction=n?"rtl":"ltr",e.style.display="block",n=t.getMainWorkspace(),t.WidgetDiv.rendererClassName_=n.getRenderer().getClassName(),t.WidgetDiv.themeClassName_=n.getTheme().getClassName(),t.utils.dom.addClass(e,t.WidgetDiv.rendererClassName_),t.utils.dom.addClass(e,t.WidgetDiv.themeClassName_)},t.WidgetDiv.hide=function(){if(t.WidgetDiv.isVisible()){t.WidgetDiv.owner_=null;var e=t.WidgetDiv.DIV;e.style.display="none",e.style.left="",e.style.top="",t.WidgetDiv.dispose_&&t.WidgetDiv.dispose_(),t.WidgetDiv.dispose_=null,e.textContent="",t.WidgetDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.rendererClassName_),t.WidgetDiv.rendererClassName_=""),t.WidgetDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.themeClassName_),t.WidgetDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.WidgetDiv.isVisible=function(){return!!t.WidgetDiv.owner_},t.WidgetDiv.hideIfOwner=function(e){t.WidgetDiv.owner_==e&&t.WidgetDiv.hide()},t.WidgetDiv.positionInternal_=function(e,n,s){t.WidgetDiv.DIV.style.left=e+"px",t.WidgetDiv.DIV.style.top=n+"px",t.WidgetDiv.DIV.style.height=s+"px"},t.WidgetDiv.positionWithAnchor=function(e,n,s,f){var y=t.WidgetDiv.calculateY_(e,n,s);e=t.WidgetDiv.calculateX_(e,n,s,f),0>y?t.WidgetDiv.positionInternal_(e,0,s.height+y):t.WidgetDiv.positionInternal_(e,y,s.height)},t.WidgetDiv.calculateX_=function(e,n,s,f){return f?(n=Math.max(n.right-s.width,e.left),Math.min(n,e.right-s.width)):(n=Math.min(n.left,e.right-s.width),Math.max(n,e.left))},t.WidgetDiv.calculateY_=function(e,n,s){return n.bottom+s.height>=e.bottom?n.top-s.height:n.bottom},t.Field=function(e,n,s){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new t.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,s&&this.configure_(s),this.setValue(e),n&&this.setValidator(n)},t.Field.prototype.DEFAULT_VALUE=null,t.Field.prototype.name=void 0,t.Field.prototype.disposed=!1,t.Field.prototype.maxDisplayLength=50,t.Field.prototype.sourceBlock_=null,t.Field.prototype.isDirty_=!0,t.Field.prototype.visible_=!0,t.Field.prototype.clickTarget_=null,t.Field.NBSP="\xa0",t.Field.prototype.EDITABLE=!0,t.Field.prototype.SERIALIZABLE=!1,t.Field.prototype.configure_=function(e){var n=e.tooltip;"string"==typeof n&&(n=t.utils.replaceMessageReferences(e.tooltip)),n&&this.setTooltip(n)},t.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=e},t.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},t.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},t.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},t.Field.prototype.initModel=function(){},t.Field.prototype.createBorderRect_=function(){this.borderRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},t.Field.prototype.createTextElement_=function(){this.textElement_=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},t.Field.prototype.bindEvents_=function(){t.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=t.browserEvents.conditionalBind(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},t.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},t.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},t.Field.prototype.dispose=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hideIfOwner(this),t.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&t.browserEvents.unbind(this.mouseDownWrapper_),t.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},t.Field.prototype.updateEditable=function(){var e=this.fieldGroup_;this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(t.utils.dom.addClass(e,"blocklyEditableText"),t.utils.dom.removeClass(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(t.utils.dom.addClass(e,"blocklyNonEditableText"),t.utils.dom.removeClass(e,"blocklyEditableText"),e.style.cursor=""))},t.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"==typeof this.showEditor_},t.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},t.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},t.Field.prototype.isVisible=function(){return this.visible_},t.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var n=this.getSvgRoot();n&&(n.style.display=e?"block":"none")}},t.Field.prototype.setValidator=function(e){this.validator_=e},t.Field.prototype.getValidator=function(){return this.validator_},t.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},t.Field.prototype.applyColour=function(){},t.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},t.Field.prototype.showEditor=function(e){this.isClickable()&&this.showEditor_(e)},t.Field.prototype.updateSize_=function(e){var n=this.getConstants(),s=2*(e=null!=e?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),f=n.FIELD_TEXT_HEIGHT,y=0;this.textElement_&&(s+=y=t.utils.dom.getFastTextWidth(this.textElement_,n.FIELD_TEXT_FONTSIZE,n.FIELD_TEXT_FONTWEIGHT,n.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(f=Math.max(f,n.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=f,this.size_.width=s,this.positionTextElement_(e,y),this.positionBorderRect_()},t.Field.prototype.positionTextElement_=function(e,n){if(this.textElement_){var s=this.getConstants(),f=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-n-e:e),this.textElement_.setAttribute("y",s.FIELD_TEXT_BASELINE_CENTER?f:f-s.FIELD_TEXT_HEIGHT/2+s.FIELD_TEXT_BASELINE)}},t.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},t.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new t.utils.Size(0,0)},t.Field.prototype.getScaledBBox=function(){if(this.borderRect_)e=this.borderRect_.getBoundingClientRect(),s=t.utils.style.getPageOffset(this.borderRect_),f=e.width,e=e.height;else{var e=this.sourceBlock_.getHeightWidth(),n=this.sourceBlock_.workspace.scale,s=this.getAbsoluteXY_(),f=e.width*n;e=e.height*n,t.utils.userAgent.GECKO?(s.x+=1.5*n,s.y+=1.5*n):t.utils.userAgent.EDGE||t.utils.userAgent.IE||(s.x-=.5*n,s.y-=.5*n),f+=1*n,e+=1*n}return new t.utils.Rect(s.y,s.y+e,s.x,s.x+f)},t.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"\u2026"),e=e.replace(/\s/g,t.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="\u200f"),e):t.Field.NBSP},t.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return String(e)}return String(this.getValue())},t.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},t.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},t.Field.prototype.setValue=function(e){if(null!==e){var n=this.doClassValidation_(e);if(!((e=this.processValidation_(e,n))instanceof Error)){if((n=this.getValidator())&&(n=n.call(this,e),(e=this.processValidation_(e,n))instanceof Error))return;if(!(n=this.sourceBlock_)||!n.disposed){var s=this.getValue();s===e?this.doValueUpdate_(e):(n&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(n,"field",this.name||null,s,e)),this.doValueUpdate_(e),this.isDirty_&&this.forceRerender())}}}},t.Field.prototype.processValidation_=function(e,n){return null===n?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==n&&(e=n),e)},t.Field.prototype.getValue=function(){return this.value_},t.Field.prototype.doClassValidation_=function(e){return null==e?null:e},t.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},t.Field.prototype.doValueInvalid_=function(e){},t.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},t.Field.prototype.setTooltip=function(e){e||""===e||(e=this.sourceBlock_);var n=this.getClickTarget_();n?n.tooltip=e:this.tooltip_=e},t.Field.prototype.getTooltip=function(){var e=this.getClickTarget_();return t.Tooltip.getTooltipOfObject(e||{tooltip:this.tooltip_})},t.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},t.Field.prototype.getAbsoluteXY_=function(){return t.utils.style.getPageOffset(this.getClickTarget_())},t.Field.prototype.referencesVariables=function(){return!1},t.Field.prototype.getParentInput=function(){for(var e=null,n=this.sourceBlock_,s=n.inputList,f=0;f<n.inputList.length;f++)for(var y=s[f],M=y.fieldRow,A=0;A<M.length;A++)if(M[A]===this){e=y;break}return e},t.Field.prototype.getFlipRtl=function(){return!1},t.Field.prototype.isTabNavigable=function(){return!1},t.Field.prototype.onShortcut=function(e){return!1},t.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},t.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},t.Field.prototype.updateMarkers_=function(){var e=this.sourceBlock_.workspace;e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.FieldLabel=function(e,n,s){this.class_=null,t.FieldLabel.superClass_.constructor.call(this,e,null,s),s||(this.class_=n||null)},t.utils.object.inherits(t.FieldLabel,t.Field),t.FieldLabel.prototype.DEFAULT_VALUE="",t.FieldLabel.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabel(n,void 0,e)},t.FieldLabel.prototype.EDITABLE=!1,t.FieldLabel.prototype.configure_=function(e){t.FieldLabel.superClass_.configure_.call(this,e),this.class_=e.class},t.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&t.utils.dom.addClass(this.textElement_,this.class_)},t.FieldLabel.prototype.doClassValidation_=function(e){return null==e?null:String(e)},t.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&t.utils.dom.removeClass(this.textElement_,this.class_),e&&t.utils.dom.addClass(this.textElement_,e)),this.class_=e},t.fieldRegistry.register("field_label",t.FieldLabel),t.Input=function(e,n,s,f){if(e!=t.inputTypes.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=e,this.name=n,this.sourceBlock_=s,this.connection=f,this.fieldRow=[]},t.Input.prototype.align=t.constants.ALIGN.LEFT,t.Input.prototype.visible_=!0,t.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Input.prototype.appendField=function(e,n){return this.insertFieldAt(this.fieldRow.length,e,n),this},t.Input.prototype.insertFieldAt=function(e,n,s){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(n||""==n&&s)&&("string"==typeof n&&(n=t.fieldRegistry.fromJson({type:"field_label",text:n})),n.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(n.init(),n.applyColour()),n.name=s,n.setVisible(this.isVisible()),n.prefixField&&(e=this.insertFieldAt(e,n.prefixField)),this.fieldRow.splice(e,0,n),++e,n.suffixField&&(e=this.insertFieldAt(e,n.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours())),e},t.Input.prototype.removeField=function(e,n){for(var f,s=0;f=this.fieldRow[s];s++)if(f.name===e)return f.dispose(),this.fieldRow.splice(s,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(n)return!1;throw Error('Field "'+e+'" not found.')},t.Input.prototype.isVisible=function(){return this.visible_},t.Input.prototype.setVisible=function(e){var n=[];if(this.visible_==e)return n;this.visible_=e;for(var f,s=0;f=this.fieldRow[s];s++)f.setVisible(e);return this.connection&&(this.connection=this.connection,e?n=this.connection.startTrackingAll():this.connection.stopTrackingAll(),s=this.connection.targetBlock())&&(s.getSvgRoot().style.display=e?"block":"none"),n},t.Input.prototype.markDirty=function(){for(var n,e=0;n=this.fieldRow[e];e++)n.markDirty()},t.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},t.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},t.Input.prototype.setShadowDom=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this},t.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},t.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},t.Input.prototype.dispose=function(){for(var n,e=0;n=this.fieldRow[e];e++)n.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},t.Block=function(e,n,s){if(t.Generator&&void 0!==t.Generator.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=s&&!e.getBlockById(s)?s:t.utils.genUid(),e.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new t.utils.Size(160,80)},this.xy_=new t.utils.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,n){if(this.type=n,!(s=t.Blocks[n])||"object"!=typeof s)throw TypeError("Unknown block type: "+n);t.utils.object.mixin(this,s)}e.addTopBlock(this),e.addTypedBlock(this),(e=t.Events.getGroup())||t.Events.setGroup(!0),n=t.Events.recordUndo;try{"function"==typeof this.init&&(t.Events.recordUndo=!1,this.init(),t.Events.recordUndo=n),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(this))}finally{e||t.Events.setGroup(!1),t.Events.recordUndo=n}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},t.Block.COLLAPSED_INPUT_NAME=t.constants.COLLAPSED_INPUT_NAME,t.Block.COLLAPSED_FIELD_NAME=t.constants.COLLAPSED_FIELD_NAME,t.Block.prototype.data=null,t.Block.prototype.disposed=!1,t.Block.prototype.hue_=null,t.Block.prototype.colour_="#000000",t.Block.prototype.styleName_="",t.Block.prototype.dispose=function(e){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_DELETE))(this)),t.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),t.selected==this&&(t.selected=null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);n=0;for(var s;s=this.inputList[n];n++)s.dispose();this.inputList.length=0;var y,f=this.getConnections_(!0);for(n=0;y=f[n];n++)y.dispose()}finally{t.Events.enable(),this.disposed=!0}}},t.Block.prototype.initModel=function(){for(var n,e=0;n=this.inputList[e];e++)for(var f,s=0;f=n.fieldRow[s];s++)f.initModel&&f.initModel()},t.Block.prototype.unplug=function(e){this.outputConnection?this.unplugFromRow_(e):this.previousConnection&&this.unplugFromStack_(e)},t.Block.prototype.unplugFromRow_=function(e){var n=null;this.outputConnection.isConnected()&&(n=this.outputConnection.targetConnection,this.outputConnection.disconnect()),n&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&((e=e.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(e,n,!1)?n.connect(e):e.onFailedConnect(n))},t.Block.prototype.getOnlyValueConnection_=function(){for(var e=null,n=0;n<this.inputList.length;n++){var s=this.inputList[n].connection;if(s&&s.type==t.connectionTypes.INPUT_VALUE&&s.targetConnection){if(e)return null;e=s}}return e},t.Block.prototype.unplugFromStack_=function(e){var n=null;this.previousConnection.isConnected()&&(n=this.previousConnection.targetConnection,this.previousConnection.disconnect());var s=this.getNextBlock();e&&s&&!s.isShadow()&&((e=this.nextConnection.targetConnection).disconnect(),n&&this.workspace.connectionChecker.canConnect(n,e,!1)&&n.connect(e))},t.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var s,n=0;s=this.inputList[n];n++)s.connection&&e.push(s.connection);return e},t.Block.prototype.lastConnectionInStack=function(e){for(var n=this.nextConnection;n;){var s=n.targetBlock();if(!s||e&&s.isShadow())return n;n=s.nextConnection}return null},t.Block.prototype.bumpNeighbours=function(){},t.Block.prototype.getParent=function(){return this.parentBlock_},t.Block.prototype.getInputWithBlock=function(e){for(var s,n=0;s=this.inputList[n];n++)if(s.connection&&s.connection.targetBlock()==e)return s;return null},t.Block.prototype.getSurroundParent=function(){var e=this;do{var n=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()==n);return e},t.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},t.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},t.Block.prototype.getFirstStatementConnection=function(){for(var n,e=0;n=this.inputList[e];e++)if(n.connection&&n.connection.type==t.connectionTypes.NEXT_STATEMENT)return n.connection;return null},t.Block.prototype.getRootBlock=function(){var e=this;do{var n=e;e=n.parentBlock_}while(e);return n},t.Block.prototype.getTopStackBlock=function(){var e=this;do{var n=e.getPreviousBlock()}while(n&&n.getNextBlock()==e&&(e=n));return e},t.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var s,n=0;s=this.inputList[n];n++)s.connection&&(s=s.connection.targetBlock())&&e.push(s);return(n=this.getNextBlock())&&e.push(n),e},t.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(t.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},t.Block.prototype.getDescendants=function(e){for(var f,n=[this],s=this.getChildren(e),y=0;f=s[y];y++)n.push.apply(n,f.getDescendants(e));return n},t.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setDeletable=function(e){this.deletable_=e},t.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setMovable=function(e){this.movable_=e},t.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(t.utils.getBlockTypeCounts(this,!0))},t.Block.prototype.isShadow=function(){return this.isShadow_},t.Block.prototype.setShadow=function(e){this.isShadow_=e},t.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},t.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},t.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var n;n=this.inputList[e];e++)for(var f,s=0;f=n.fieldRow[s];s++)f.updateEditable()},t.Block.prototype.isDisposed=function(){return this.disposed},t.Block.prototype.getMatchingConnection=function(e,n){var s=this.getConnections_(!0);if(e=e.getConnections_(!0),s.length!=e.length)throw Error("Connection lists did not match in length.");for(var f=0;f<e.length;f++)if(e[f]==n)return s[f];return null},t.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},t.Block.prototype.setTooltip=function(e){this.tooltip=e},t.Block.prototype.getTooltip=function(){return t.Tooltip.getTooltipOfObject(this)},t.Block.prototype.getColour=function(){return this.colour_},t.Block.prototype.getStyleName=function(){return this.styleName_},t.Block.prototype.getHue=function(){return this.hue_},t.Block.prototype.setColour=function(e){e=t.utils.parseBlockColour(e),this.hue_=e.hue,this.colour_=e.hex},t.Block.prototype.setStyle=function(e){this.styleName_=e},t.Block.prototype.setOnChange=function(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},t.Block.prototype.getField=function(e){if("string"!=typeof e)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(var s,n=0;s=this.inputList[n];n++)for(var y,f=0;y=s.fieldRow[f];f++)if(y.name===e)return y;return null},t.Block.prototype.getVars=function(){for(var s,e=[],n=0;s=this.inputList[n];n++)for(var y,f=0;y=s.fieldRow[f];f++)y.referencesVariables()&&e.push(y.getValue());return e},t.Block.prototype.getVarModels=function(){for(var s,e=[],n=0;s=this.inputList[n];n++)for(var y,f=0;y=s.fieldRow[f];f++)y.referencesVariables()&&(y=this.workspace.getVariableById(y.getValue()))&&e.push(y);return e},t.Block.prototype.updateVarName=function(e){for(var s,n=0;s=this.inputList[n];n++)for(var y,f=0;y=s.fieldRow[f];f++)y.referencesVariables()&&e.getId()==y.getValue()&&y.refreshVariableName()},t.Block.prototype.renameVarById=function(e,n){for(var f,s=0;f=this.inputList[s];s++)for(var M,y=0;M=f.fieldRow[y];y++)M.referencesVariables()&&e==M.getValue()&&M.setValue(n)},t.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},t.Block.prototype.setFieldValue=function(e,n){var s=this.getField(n);if(!s)throw Error('Field "'+n+'" not found.');s.setValue(e)},t.Block.prototype.setPreviousStatement=function(e,n){if(e){if(void 0===n&&(n=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(t.connectionTypes.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(n)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},t.Block.prototype.setNextStatement=function(e,n){if(e)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(t.connectionTypes.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},t.Block.prototype.setOutput=function(e,n){if(e){if(void 0===n&&(n=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(t.connectionTypes.OUTPUT_VALUE)}this.outputConnection.setCheck(n)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},t.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},t.Block.prototype.getInputsInline=function(){if(null!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.DUMMY&&this.inputList[e].type==t.inputTypes.DUMMY)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.VALUE&&this.inputList[e].type==t.inputTypes.DUMMY)return!0;return!1},t.Block.prototype.setOutputShape=function(e){this.outputShape_=e},t.Block.prototype.getOutputShape=function(){return this.outputShape_},t.Block.prototype.isEnabled=function(){return!this.disabled},t.Block.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"disabled",null,this.disabled,!e)),this.disabled=!e)},t.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},t.Block.prototype.isCollapsed=function(){return this.collapsed_},t.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},t.Block.prototype.toString=function(e,n){function s(ne){var te=ne.getCheck();return!te&&ne.targetConnection&&(te=ne.targetConnection.getCheck()),!!te&&(-1!=te.indexOf("Boolean")||-1!=te.indexOf("Number"))}function f(){A&&A.getType()==P.getType()&&A.getLocation()==P.getLocation()&&(A=null)}var y=[];n=n||"?";var M=t.ASTNode.NAVIGATE_ALL_FIELDS;t.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var A=t.ASTNode.createBlockNode(this),P=A;A;){switch(A.getType()){case t.ASTNode.types.INPUT:var B=A.getLocation();A.in()?s(B)&&y.push("("):y.push(n);break;case t.ASTNode.types.FIELD:(B=A.getLocation()).name!=t.constants.COLLAPSED_FIELD_NAME&&y.push(B.getText())}if(!(A=(B=A).in()||B.next())){for(A=B.out(),f();A&&!A.next();)A=A.out(),f(),A&&A.getType()==t.ASTNode.types.INPUT&&s(A.getLocation())&&y.push(")");A&&(A=A.next())}}for(t.ASTNode.NAVIGATE_ALL_FIELDS=M,n=2;n<y.length;n++)"("==y[n-2]&&")"==y[n]&&(y[n-2]=y[n-1],y.splice(n-1,2));return y=(y=y.reduce(function(ne,te){return ne+("("==ne.substr(-1)||")"==te?"":" ")+te},"")).trim()||"???",e&&y.length>e&&(y=y.substring(0,e-3)+"..."),y},t.Block.prototype.appendValueInput=function(e){return this.appendInput_(t.inputTypes.VALUE,e)},t.Block.prototype.appendStatementInput=function(e){return this.appendInput_(t.inputTypes.STATEMENT,e)},t.Block.prototype.appendDummyInput=function(e){return this.appendInput_(t.inputTypes.DUMMY,e||"")},t.Block.prototype.jsonInit=function(e){var n=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(n+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,n):this.jsonInitColour_(e,n);for(var s=0;void 0!==e["message"+s];)this.interpolate_(e["message"+s],e["args"+s]||[],e["lastDummyAlign"+s],n),s++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(s=t.utils.replaceMessageReferences(s=e.tooltip),this.setTooltip(s)),void 0!==e.enableContextMenu&&(this.contextMenu=!!(s=e.enableContextMenu)),void 0!==e.helpUrl&&(s=t.utils.replaceMessageReferences(s=e.helpUrl),this.setHelpUrl(s)),"string"==typeof e.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&t.Extensions.apply(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(n=0;n<e.length;++n)t.Extensions.apply(e[n],this,!1)},t.Block.prototype.jsonInitColour_=function(e,n){if("colour"in e)if(void 0===e.colour)console.warn(n+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(s){console.warn(n+"Illegal colour value: ",e)}}},t.Block.prototype.jsonInitStyle_=function(e,n){e=e.style;try{this.setStyle(e)}catch(s){console.warn(n+"Style does not exist: ",e)}},t.Block.prototype.mixin=function(e,n){if(void 0!==n&&"boolean"!=typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){for(var s in n=[],e)void 0!==this[s]&&n.push(s);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}t.utils.object.mixin(this,e)},t.Block.prototype.interpolate_=function(e,n,s,f){e=t.utils.tokenizeInterpolation(e),this.validateTokens_(e,n.length),n=this.interpolateArguments_(e,n,s),s=[],e=0;for(var y;y=n[e];e++)if(this.isInputKeyword_(y.type)){if(y=this.inputFromJson_(y,f)){for(var A,M=0;A=s[M];M++)y.appendField(A[0],A[1]);s.length=0}}else(M=this.fieldFromJson_(y))&&s.push([M,y.name])},t.Block.prototype.validateTokens_=function(e,n){for(var s=[],f=0,y=0;y<e.length;y++){var M=e[y];if("number"==typeof M){if(1>M||M>n)throw Error('Block "'+this.type+'": Message index %'+M+" out of range.");if(s[M])throw Error('Block "'+this.type+'": Message index %'+M+" duplicated.");s[M]=!0,f++}}if(f!=n)throw Error('Block "'+this.type+'": Message does not reference all '+n+" arg(s).")},t.Block.prototype.interpolateArguments_=function(e,n,s){for(var f=[],y=0;y<e.length;y++){var M=e[y];"number"==typeof M&&(M=n[M-1]),("string"!=typeof M||(M=this.stringToFieldJson_(M)))&&f.push(M)}return(e=f.length)&&!this.isInputKeyword_(f[e-1].type)&&(e={type:"input_dummy"},s&&(e.align=s),f.push(e)),f},t.Block.prototype.fieldFromJson_=function(e){var n=t.fieldRegistry.fromJson(e);return!n&&e.alt?"string"==typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):n},t.Block.prototype.inputFromJson_=function(e,n){var s={LEFT:t.constants.ALIGN.LEFT,RIGHT:t.constants.ALIGN.RIGHT,CENTRE:t.constants.ALIGN.CENTRE,CENTER:t.constants.ALIGN.CENTRE},f=null;switch(e.type){case"input_value":f=this.appendValueInput(e.name);break;case"input_statement":f=this.appendStatementInput(e.name);break;case"input_dummy":f=this.appendDummyInput(e.name)}return f?(e.check&&f.setCheck(e.check),e.align&&(void 0===(s=s[e.align.toUpperCase()])?console.warn(n+"Illegal align value: ",e.align):f.setAlign(s)),f):null},t.Block.prototype.isInputKeyword_=function(e){return"input_value"==e||"input_statement"==e||"input_dummy"==e},t.Block.prototype.stringToFieldJson_=function(e){return(e=e.trim())?{type:"field_label",text:e}:null},t.Block.prototype.appendInput_=function(e,n){var s=null;return(e==t.inputTypes.VALUE||e==t.inputTypes.STATEMENT)&&(s=this.makeConnection_(e)),e==t.inputTypes.STATEMENT&&this.statementInputCount++,e=new t.Input(e,n,this,s),this.inputList.push(e),e},t.Block.prototype.moveInputBefore=function(e,n){if(e!=n){for(var M,s=-1,f=n?-1:this.inputList.length,y=0;M=this.inputList[y];y++)if(M.name==e){if(s=y,-1!=f)break}else if(n&&M.name==n&&(f=y,-1!=s))break;if(-1==s)throw Error('Named input "'+e+'" not found.');if(-1==f)throw Error('Reference input "'+n+'" not found.');this.moveNumberedInputBefore(s,f)}},t.Block.prototype.moveNumberedInputBefore=function(e,n){if(e==n)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(n>this.inputList.length)throw RangeError("Reference input "+n+" out of bounds.");var s=this.inputList[e];this.inputList.splice(e,1),e<n&&n--,this.inputList.splice(n,0,s)},t.Block.prototype.removeInput=function(e,n){for(var f,s=0;f=this.inputList[s];s++)if(f.name==e)return f.type==t.inputTypes.STATEMENT&&this.statementInputCount--,f.dispose(),this.inputList.splice(s,1),!0;if(n)return!1;throw Error("Input not found: "+e)},t.Block.prototype.getInput=function(e){for(var s,n=0;s=this.inputList[n];n++)if(s.name==e)return s;return null},t.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},t.Block.prototype.getCommentText=function(){return this.commentModel.text},t.Block.prototype.setCommentText=function(e){this.commentModel.text!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},t.Block.prototype.setWarningText=function(e,n){},t.Block.prototype.setMutator=function(e){},t.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},t.Block.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var s=new(t.Events.get(t.Events.BLOCK_MOVE))(this);this.xy_.translate(e,n),s.recordNew(),t.Events.fire(s)},t.Block.prototype.makeConnection_=function(e){return new t.Connection(this,e)},t.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var s,n=0;s=this.inputList[n];n++)if(s.connection&&(!(s=s.connection.targetBlock())||!s.allInputsFilled(e)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(e)},t.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e},t.blockRendering.IPathObject=function(e,n){},t.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},t.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},t.Menu.prototype.addChild=function(e){this.menuItems_.push(e)},t.Menu.prototype.render=function(e){var n=document.createElement("div");n.className="blocklyMenu goog-menu blocklyNonSelectable",n.tabIndex=0,this.roleName_&&t.utils.aria.setRole(n,this.roleName_),this.element_=n;for(var f,s=0;f=this.menuItems_[s];s++)n.appendChild(f.createDom());this.mouseOverHandler_=t.browserEvents.conditionalBind(n,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=t.browserEvents.conditionalBind(n,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=t.browserEvents.conditionalBind(n,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=t.browserEvents.conditionalBind(n,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=t.browserEvents.conditionalBind(n,"keydown",this,this.handleKeyEvent_),e.appendChild(n)},t.Menu.prototype.getElement=function(){return this.element_},t.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus({preventScroll:!0}),t.utils.dom.addClass(e,"blocklyFocused"))},t.Menu.prototype.blur_=function(){var e=this.getElement();e&&(e.blur(),t.utils.dom.removeClass(e,"blocklyFocused"))},t.Menu.prototype.setRole=function(e){this.roleName_=e},t.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(t.browserEvents.unbind(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(t.browserEvents.unbind(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(t.browserEvents.unbind(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(t.browserEvents.unbind(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(t.browserEvents.unbind(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var n,e=0;n=this.menuItems_[e];e++)n.dispose();this.element_=null},t.Menu.prototype.getMenuItem_=function(e){for(var n=this.getElement();e&&e!=n;){if(t.utils.dom.hasClass(e,"blocklyMenuItem"))for(var f,s=0;f=this.menuItems_[s];s++)if(f.getElement()==e)return f;e=e.parentElement}return null},t.Menu.prototype.setHighlighted=function(e){var n=this.highlightedItem_;n&&(n.setHighlighted(!1),this.highlightedItem_=null),e&&(e.setHighlighted(!0),this.highlightedItem_=e,n=this.getElement(),t.utils.style.scrollIntoContainerView(e.getElement(),n),t.utils.aria.setState(n,t.utils.aria.State.ACTIVEDESCENDANT,e.getId()))},t.Menu.prototype.highlightNext=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(e,1)},t.Menu.prototype.highlightPrevious=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>e?this.menuItems_.length:e,-1)},t.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},t.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},t.Menu.prototype.highlightHelper_=function(e,n){e+=n;for(var s;s=this.menuItems_[e];){if(s.isEnabled()){this.setHighlighted(s);break}e+=n}},t.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem_(e.target))&&(e.isEnabled()?this.highlightedItem_!=e&&this.setHighlighted(e):this.setHighlighted(null))},t.Menu.prototype.handleClick_=function(e){var n=this.openingCoords;if(this.openingCoords=null,n&&"number"==typeof e.clientX){var s=new t.utils.Coordinate(e.clientX,e.clientY);if(1>t.utils.Coordinate.distance(n,s))return}(e=this.getMenuItem_(e.target))&&e.performAction()},t.Menu.prototype.handleMouseEnter_=function(e){this.focus()},t.Menu.prototype.handleMouseLeave_=function(e){this.getElement()&&(this.blur_(),this.setHighlighted(null))},t.Menu.prototype.handleKeyEvent_=function(e){if(this.menuItems_.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var n=this.highlightedItem_;switch(e.keyCode){case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:n&&n.performAction();break;case t.utils.KeyCodes.UP:this.highlightPrevious();break;case t.utils.KeyCodes.DOWN:this.highlightNext();break;case t.utils.KeyCodes.PAGE_UP:case t.utils.KeyCodes.HOME:this.highlightFirst_();break;case t.utils.KeyCodes.PAGE_DOWN:case t.utils.KeyCodes.END:this.highlightLast_();break;default:return}e.preventDefault(),e.stopPropagation()}},t.Menu.prototype.getSize=function(){var e=this.getElement(),n=t.utils.style.getSize(e);return n.height=e.scrollHeight,n},t.MenuItem=function(e,n){this.content_=e,this.value_=n,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},t.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=t.utils.IdGenerator.getNextUniqueId(),this.element_=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var n=document.createElement("div");if(n.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var s=document.createElement("div");s.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",n.appendChild(s)}return s=this.content_,"string"==typeof this.content_&&(s=document.createTextNode(this.content_)),n.appendChild(s),e.appendChild(n),this.roleName_&&t.utils.aria.setRole(e,this.roleName_),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),t.utils.aria.setState(e,t.utils.aria.State.DISABLED,!this.enabled_),e},t.MenuItem.prototype.dispose=function(){this.element_=null},t.MenuItem.prototype.getElement=function(){return this.element_},t.MenuItem.prototype.getId=function(){return this.element_.id},t.MenuItem.prototype.getValue=function(){return this.value_},t.MenuItem.prototype.setRightToLeft=function(e){this.rightToLeft_=e},t.MenuItem.prototype.setRole=function(e){this.roleName_=e},t.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},t.MenuItem.prototype.setChecked=function(e){this.checked_=e},t.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var n=this.getElement();n&&this.isEnabled()&&(e?(t.utils.dom.addClass(n,"blocklyMenuItemHighlight"),t.utils.dom.addClass(n,"goog-menuitem-highlight")):(t.utils.dom.removeClass(n,"blocklyMenuItemHighlight"),t.utils.dom.removeClass(n,"goog-menuitem-highlight")))},t.MenuItem.prototype.isEnabled=function(){return this.enabled_},t.MenuItem.prototype.setEnabled=function(e){this.enabled_=e},t.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},t.MenuItem.prototype.onAction=function(e,n){this.actionHandler_=e.bind(n)},t.ContextMenu={},t.ContextMenu.currentBlock=null,t.ContextMenu.menu_=null,t.ContextMenu.show=function(e,n,s){if(t.WidgetDiv.show(t.ContextMenu,s,t.ContextMenu.dispose),n.length){var f=t.ContextMenu.populate_(n,s);t.ContextMenu.menu_=f,t.ContextMenu.position_(f,e,s),setTimeout(function(){f.focus()},1),t.ContextMenu.currentBlock=null}else t.ContextMenu.hide()},t.ContextMenu.populate_=function(e,n){var s=new t.Menu;s.setRole(t.utils.aria.Role.MENU);for(var y,f=0;y=e[f];f++){var M=new t.MenuItem(y.text);M.setRightToLeft(n),M.setRole(t.utils.aria.Role.MENUITEM),s.addChild(M),M.setEnabled(y.enabled),y.enabled&&M.onAction(function(A){t.ContextMenu.hide(),this.callback(this.scope)},y)}return s},t.ContextMenu.position_=function(e,n,s){var f=t.utils.getViewportBBox();n=new t.utils.Rect(n.clientY+f.top,n.clientY+f.top,n.clientX+f.left,n.clientX+f.left),t.ContextMenu.createWidget_(e);var y=e.getSize();s&&(n.left+=y.width,n.right+=y.width,f.left+=y.width,f.right+=y.width),t.WidgetDiv.positionWithAnchor(f,n,y,s),e.focus()},t.ContextMenu.createWidget_=function(e){e.render(t.WidgetDiv.DIV);var n=e.getElement();t.utils.dom.addClass(n,"blocklyContextMenu"),t.browserEvents.conditionalBind(n,"contextmenu",null,t.utils.noEvent),e.focus()},t.ContextMenu.hide=function(){t.WidgetDiv.hideIfOwner(t.ContextMenu),t.ContextMenu.currentBlock=null},t.ContextMenu.dispose=function(){t.ContextMenu.menu_&&(t.ContextMenu.menu_.dispose(),t.ContextMenu.menu_=null)},t.ContextMenu.callbackFactory=function(e,n){return function(){t.Events.disable();try{var s=t.Xml.domToBlock(n,e.workspace),f=e.getRelativeToSurfaceXY();f.x=e.RTL?f.x-t.SNAP_RADIUS:f.x+t.SNAP_RADIUS,f.y+=2*t.SNAP_RADIUS,s.moveBy(f.x,f.y)}finally{t.Events.enable()}t.Events.isEnabled()&&!s.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(s)),s.select()}},t.ContextMenu.commentDeleteOption=function(e){return{text:t.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.commentDuplicateOption=function(e){return{text:t.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){t.duplicate(e)}}},t.ContextMenu.workspaceCommentOption=function(e,n){if(!t.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var s={enabled:!t.utils.userAgent.IE};return s.text=t.Msg.ADD_COMMENT,s.callback=function(){var f=new t.WorkspaceCommentSvg(e,t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,t.WorkspaceCommentSvg.DEFAULT_SIZE,t.WorkspaceCommentSvg.DEFAULT_SIZE),y=e.getInjectionDiv().getBoundingClientRect();y=new t.utils.Coordinate(n.clientX-y.left,n.clientY-y.top);var M=e.getOriginOffsetInPixels();(y=t.utils.Coordinate.difference(y,M)).scale(1/e.scale),f.moveBy(y.x,y.y),e.rendered&&(f.initSvg(),f.render(),f.select())},s},t.ContextMenuRegistry=function(){t.ContextMenuRegistry.registry=this,this.registry_=Object.create(null)},t.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},t.ContextMenuRegistry.registry=null,t.ContextMenuRegistry.prototype.register=function(e){if(this.registry_[e.id])throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_[e.id]=e},t.ContextMenuRegistry.prototype.unregister=function(e){if(!this.registry_[e])throw Error('Menu item with ID "'+e+'" not found.');delete this.registry_[e]},t.ContextMenuRegistry.prototype.getItem=function(e){return this.registry_[e]||null},t.ContextMenuRegistry.prototype.getContextMenuOptions=function(e,n){var s=[],f=this.registry_;return Object.keys(f).forEach(function(y){if(e==(y=f[y]).scopeType){var M=y.preconditionFn(n);"hidden"!=M&&(y={text:"function"==typeof y.displayText?y.displayText(n):y.displayText,enabled:"enabled"==M,callback:y.callback,scope:n,weight:y.weight},s.push(y))}}),s.sort(function(y,M){return y.weight-M.weight}),s},new t.ContextMenuRegistry,t.Events.Selected=function(e,n,s){t.Events.Selected.superClass_.constructor.call(this,s),this.oldElementId=e,this.newElementId=n},t.utils.object.inherits(t.Events.Selected,t.Events.UiBase),t.Events.Selected.prototype.type=t.Events.SELECTED,t.Events.Selected.prototype.toJson=function(){var e=t.Events.Selected.superClass_.toJson.call(this);return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e},t.Events.Selected.prototype.fromJson=function(e){t.Events.Selected.superClass_.fromJson.call(this,e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId},t.registry.register(t.registry.Type.EVENT,t.Events.SELECTED,t.Events.Selected),t.IBoundedElement=function(){},t.ICopyable=function(){},t.RenderedConnection=function(e,n){t.RenderedConnection.superClass_.constructor.call(this,e,n),this.db_=e.workspace.connectionDBList[n],this.dbOpposite_=e.workspace.connectionDBList[t.OPPOSITE_TYPE[n]],this.offsetInBlock_=new t.utils.Coordinate(0,0),this.trackedState_=t.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},t.utils.object.inherits(t.RenderedConnection,t.Connection),t.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},t.RenderedConnection.prototype.dispose=function(){t.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},t.RenderedConnection.prototype.getSourceBlock=function(){return t.RenderedConnection.superClass_.getSourceBlock.call(this)},t.RenderedConnection.prototype.targetBlock=function(){return t.RenderedConnection.superClass_.targetBlock.call(this)},t.RenderedConnection.prototype.distanceFrom=function(e){var n=this.x-e.x;return e=this.y-e.y,Math.sqrt(n*n+e*e)},t.RenderedConnection.prototype.bumpAwayFrom=function(e){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var s=!1;if(!n.isMovable()){if(!(n=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,s=!0}var f=t.selected==n;f||n.addSelect();var y=e.x+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x,M=e.y+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.y;s&&(M=-M),n.RTL&&(y=e.x-t.SNAP_RADIUS-Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x),n.moveBy(y,M),f||n.removeSelect()}}},t.RenderedConnection.prototype.moveTo=function(e,n){this.trackedState_==t.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,n),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,n)),this.x=e,this.y=n},t.RenderedConnection.prototype.moveBy=function(e,n){this.moveTo(this.x+e,this.y+n)},t.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},t.RenderedConnection.prototype.setOffsetInBlock=function(e,n){this.offsetInBlock_.x=e,this.offsetInBlock_.y=n},t.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},t.RenderedConnection.prototype.tighten=function(){var e=this.targetConnection.x-this.x,n=this.targetConnection.y-this.y;if(0!=e||0!=n){var s=this.targetBlock(),f=s.getSvgRoot();if(!f)throw Error("block is not rendered.");f=t.utils.getRelativeXY(f),s.getSvgRoot().setAttribute("transform","translate("+(f.x-e)+","+(f.y-n)+")"),s.moveConnections(-e,-n)}},t.RenderedConnection.prototype.closest=function(e,n){return this.dbOpposite_.searchForClosest(this,e,n)},t.RenderedConnection.prototype.highlight=function(){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),n=e.shapeFor(this);n=this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.OUTPUT_VALUE?t.utils.svgPaths.moveBy(0,-(e=e.TAB_OFFSET_FROM_TOP))+t.utils.svgPaths.lineOnAxis("v",e)+n.pathDown+t.utils.svgPaths.lineOnAxis("v",e):t.utils.svgPaths.moveBy(-(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS),0)+t.utils.svgPaths.lineOnAxis("h",e)+n.pathLeft+t.utils.svgPaths.lineOnAxis("h",e),e=this.sourceBlock_.getRelativeToSurfaceXY(),t.Connection.highlightedPath_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:n,transform:"translate("+(this.x-e.x)+","+(this.y-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},t.RenderedConnection.prototype.unhighlight=function(){t.utils.dom.removeNode(t.Connection.highlightedPath_),delete t.Connection.highlightedPath_},t.RenderedConnection.prototype.setTracking=function(e){e&&this.trackedState_==t.RenderedConnection.TrackedState.TRACKED||!e&&this.trackedState_==t.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.UNTRACKED))},t.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),n=0;n<e.length;n++){for(var s=e[n],f=s.getConnections_(!0),y=0;y<f.length;y++)f[y].setTracking(!1);for(s=s.getIcons(),y=0;y<s.length;y++)s[y].setVisible(!1)}},t.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var e=[];if(this.type!=t.connectionTypes.INPUT_VALUE&&this.type!=t.connectionTypes.NEXT_STATEMENT)return e;var n=this.targetBlock();if(n){if(n.isCollapsed()){var s=[];n.outputConnection&&s.push(n.outputConnection),n.nextConnection&&s.push(n.nextConnection),n.previousConnection&&s.push(n.previousConnection)}else s=n.getConnections_(!0);for(var f=0;f<s.length;f++)e.push.apply(e,s[f].startTrackingAll());e.length||(e[0]=n)}return e},t.RenderedConnection.prototype.isConnectionAllowed=function(e,n){return t.utils.deprecation.warn("RenderedConnection.prototype.isConnectionAllowed","July 2020","July 2021","Blockly.Workspace.prototype.getConnectionChecker().canConnect"),!(this.distanceFrom(e)>n)&&t.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},t.RenderedConnection.prototype.onFailedConnect=function(e){var n=this.getSourceBlock();if(t.Events.recordUndo){var s=t.Events.getGroup();setTimeout(function(){n.isDisposed()||n.getParent()||(t.Events.setGroup(s),this.bumpAwayFrom(e),t.Events.setGroup(!1))}.bind(this),t.BUMP_DELAY)}},t.RenderedConnection.prototype.disconnectInternal_=function(e,n){t.RenderedConnection.superClass_.disconnectInternal_.call(this,e,n),e.rendered&&e.render(),n.rendered&&(n.updateDisabled(),n.render(),n.getSvgRoot().style.display="block")},t.RenderedConnection.prototype.respawnShadow_=function(){t.RenderedConnection.superClass_.respawnShadow_.call(this);var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),(e=this.getSourceBlock()).rendered&&e.render())},t.RenderedConnection.prototype.neighbours=function(e){return this.dbOpposite_.getNeighbours(this,e)},t.RenderedConnection.prototype.connect_=function(e){t.RenderedConnection.superClass_.connect_.call(this,e);var n=this.getSourceBlock();e=e.getSourceBlock();var s=n.rendered,f=e.rendered;s&&n.updateDisabled(),f&&e.updateDisabled(),s&&f&&(this.type==t.connectionTypes.NEXT_STATEMENT||this.type==t.connectionTypes.PREVIOUS_STATEMENT?e.render():n.render()),(n=n.getInputWithBlock(e))&&(n=n.isVisible(),e.getSvgRoot().style.display=n?"block":"none")},t.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},t.BasicCursor=function(){t.BasicCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.BasicCursor,t.Cursor),t.BasicCursor.registrationName="basicCursor",t.BasicCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null},t.BasicCursor.prototype.in=function(){return this.next()},t.BasicCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null},t.BasicCursor.prototype.out=function(){return this.prev()},t.BasicCursor.prototype.getNextNode_=function(e,n){if(!e)return null;var s=e.in()||e.next();return n(s)?s:s?this.getNextNode_(s,n):n(e=this.findSiblingOrParent_(e.out()))?e:e?this.getNextNode_(e,n):null},t.BasicCursor.prototype.getPreviousNode_=function(e,n){if(!e)return null;var s=e.prev();return n(s=s?this.getRightMostChild_(s):e.out())?s:s?this.getPreviousNode_(s,n):null},t.BasicCursor.prototype.validNode_=function(e){var n=!1;return((e=e&&e.getType())==t.ASTNode.types.OUTPUT||e==t.ASTNode.types.INPUT||e==t.ASTNode.types.FIELD||e==t.ASTNode.types.NEXT||e==t.ASTNode.types.PREVIOUS||e==t.ASTNode.types.WORKSPACE)&&(n=!0),n},t.BasicCursor.prototype.findSiblingOrParent_=function(e){return e?e.next()||this.findSiblingOrParent_(e.out()):null},t.BasicCursor.prototype.getRightMostChild_=function(e){if(!e.in())return e;for(e=e.in();e.next();)e=e.next();return this.getRightMostChild_(e)},t.registry.register(t.registry.Type.CURSOR,t.BasicCursor.registrationName,t.BasicCursor),t.TabNavigateCursor=function(){t.TabNavigateCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.TabNavigateCursor,t.BasicCursor),t.TabNavigateCursor.prototype.validNode_=function(e){var n=!1,s=e&&e.getType();return e&&(e=e.getLocation(),s==t.ASTNode.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(n=!0)),n},t.BlockSvg=function(e,n,s){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=t.utils.is3dSupported()&&!!e.getBlockDragSurface();var f=this.pathObject.svgPath;f.tooltip=this,t.Tooltip.bindMouseEvents(f),t.BlockSvg.superClass_.constructor.call(this,e,n,s),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:t.utils.userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id)},t.utils.object.inherits(t.BlockSvg,t.Block),t.BlockSvg.prototype.height=0,t.BlockSvg.prototype.width=0,t.BlockSvg.prototype.warningTextDb_=null,t.BlockSvg.INLINE=-1,t.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",t.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var n,e=0;n=this.inputList[e];e++)n.init();for(n=this.getIcons(),e=0;e<n.length;e++)n[e].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||t.browserEvents.conditionalBind(e,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)},t.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},t.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},t.BlockSvg.prototype.getColourShadow=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourShadow","January 2020","January 2021","style.colourSecondary"),this.getColourSecondary()},t.BlockSvg.prototype.getColourBorder=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourBorder","January 2020","January 2021","style.colourTertiary"),{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},t.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(t.selected!=this){var e=null;if(t.selected){e=t.selected.id,t.Events.disable();try{t.selected.unselect()}finally{t.Events.enable()}}e=new(t.Events.get(t.Events.SELECTED))(e,this.id,this.workspace.id),t.Events.fire(e),t.selected=this,this.addSelect()}},t.BlockSvg.prototype.unselect=function(){if(t.selected==this){var e=new(t.Events.get(t.Events.SELECTED))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,t.Events.fire(e),t.selected=null,this.removeSelect()}},t.BlockSvg.prototype.mutator=null,t.BlockSvg.prototype.comment=null,t.BlockSvg.prototype.commentIcon_=null,t.BlockSvg.prototype.warning=null,t.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},t.BlockSvg.prototype.setParent=function(e){var n=this.parentBlock_;if(e!=n){t.utils.dom.startTextWidthCache(),t.BlockSvg.superClass_.setParent.call(this,e),t.utils.dom.stopTextWidthCache();var s=this.getSvgRoot();if(!this.workspace.isClearing&&s){var f=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(s),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-f.x,e.y-f.y)):n&&(this.workspace.getCanvas().appendChild(s),this.translate(f.x,f.y)),this.applyColour()}}},t.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,n=0,s=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,f=this.getSvgRoot();if(f)do{var y=t.utils.getRelativeXY(f);e+=y.x,n+=y.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==f&&(e+=(y=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,n+=y.y),f=f.parentNode}while(f&&f!=this.workspace.getCanvas()&&f!=s);return new t.utils.Coordinate(e,n)},t.BlockSvg.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var s=t.Events.isEnabled();if(s)var f=new(t.Events.get(t.Events.BLOCK_MOVE))(this);var y=this.getRelativeToSurfaceXY();this.translate(y.x+e,y.y+n),this.moveConnections(e,n),s&&(f.recordNew(),t.Events.fire(f)),this.workspace.resizeContents()},t.BlockSvg.prototype.translate=function(e,n){this.getSvgRoot().setAttribute("transform","translate("+e+","+n+")")},t.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}},t.BlockSvg.prototype.moveTo=function(e){var n=this.getRelativeToSurfaceXY();this.moveBy(e.x-n.x,e.y-n.y)},t.BlockSvg.prototype.moveOffDragSurface=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},t.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},t.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},t.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var n=e.getSpacing(),s=n/2,f=this.getRelativeToSurfaceXY();e=Math.round((f.x-s)/n)*n+s-f.x,n=Math.round((f.y-s)/n)*n+s-f.y,e=Math.round(e),n=Math.round(n),0==e&&0==n||this.moveBy(e,n)}}},t.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(),n=this.getHeightWidth();if(this.RTL)var s=e.x-n.width,f=e.x;else s=e.x,f=e.x+n.width;return new t.utils.Rect(e.y,e.y+n.height,s,f)},t.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var n,e=0;n=this.inputList[e];e++)n.markDirty()},t.BlockSvg.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.BlockSvg.superClass_.setCollapsed.call(this,e),e?this.rendered&&this.render():this.updateCollapsed_())},t.BlockSvg.prototype.updateCollapsed_=function(){for(var y,e=this.isCollapsed(),n=t.constants.COLLAPSED_INPUT_NAME,s=t.constants.COLLAPSED_FIELD_NAME,f=0;y=this.inputList[f];f++)y.name!=n&&y.setVisible(!e);if(e){for(y=this.getIcons(),f=0;e=y[f];f++)e.setVisible(!1);f=this.toString(t.COLLAPSE_CHARS),(y=this.getField(s))?y.setValue(f):(y=this.getInput(n)||this.appendDummyInput(n)).appendField(new t.FieldLabel(f),s)}else this.updateDisabled(),this.removeInput(n)},t.BlockSvg.prototype.tab=function(e,n){var s=new t.TabNavigateCursor;s.setCurNode(t.ASTNode.createFieldNode(e)),e=s.getCurNode(),n?s.next():s.prev(),(n=s.getCurNode())&&n!==e&&(n.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(n))},t.BlockSvg.prototype.onMouseDown_=function(e){var n=this.workspace&&this.workspace.getGesture(e);n&&n.handleBlockStart(e,this)},t.BlockSvg.prototype.showHelp=function(){var e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},t.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e},t.BlockSvg.prototype.showContextMenu=function(e){var n=this.generateContextMenu();n&&n.length&&(t.ContextMenu.show(e,n,this.RTL),t.ContextMenu.currentBlock=this)},t.BlockSvg.prototype.moveConnections=function(e,n){if(this.rendered){for(var s=this.getConnections_(!1),f=0;f<s.length;f++)s[f].moveBy(e,n);for(s=this.getIcons(),f=0;f<s.length;f++)s[f].computeIconLocation();for(f=0;f<this.childBlocks_.length;f++)this.childBlocks_[f].moveConnections(e,n)}},t.BlockSvg.prototype.setDragging=function(e){if(e){var n=this.getSvgRoot();n.translate_="",n.skew_="",t.draggingConnections=t.draggingConnections.concat(this.getConnections_(!0)),t.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else t.draggingConnections=[],t.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].setDragging(e)},t.BlockSvg.prototype.setMovable=function(e){t.BlockSvg.superClass_.setMovable.call(this,e),this.pathObject.updateMovable(e)},t.BlockSvg.prototype.setEditable=function(e){t.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var n=0;n<e.length;n++)e[n].updateEditable()},t.BlockSvg.prototype.setShadow=function(e){t.BlockSvg.superClass_.setShadow.call(this,e),this.applyColour()},t.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},t.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.BlockSvg.prototype.dispose=function(e,n){if(this.workspace){t.Tooltip.dispose(),t.Tooltip.unbindMouseEvents(this.pathObject.svgPath),t.utils.dom.startTextWidthCache();var s=this.workspace;if(t.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),t.ContextMenu.currentBlock==this&&t.ContextMenu.hide(),n&&this.rendered&&(this.unplug(e),t.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var f in this.warningTextDb_)clearTimeout(this.warningTextDb_[f]);this.warningTextDb_=null}for(n=this.getIcons(),f=0;f<n.length;f++)n[f].dispose();t.BlockSvg.superClass_.dispose.call(this,!!e),t.utils.dom.removeNode(this.svgGroup_),s.resizeContents(),this.svgGroup_=null,t.utils.dom.stopTextWidthCache()}},t.BlockSvg.prototype.toCopyData=function(){if(this.isInsertionMarker_)return null;var e=t.Xml.blockToDom(this,!0);t.Xml.deleteNext(e);var n=this.getRelativeToSurfaceXY();return e.setAttribute("x",this.RTL?-n.x:n.x),e.setAttribute("y",n.y),{xml:e,source:this.workspace,typeCounts:t.utils.getBlockTypeCounts(this,!0)}},t.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),n=0;n<e.length;n++)e[n].applyColour();for(e=0;n=this.inputList[e];e++)for(var f,s=0;f=n.fieldRow[s];s++)f.applyColour()},t.BlockSvg.prototype.updateDisabled=function(){var e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var s,n=0;s=e[n];n++)s.rendered&&s.updateDisabled()},t.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},t.BlockSvg.prototype.setCommentText=function(e){if(!t.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=e&&(t.BlockSvg.superClass_.setCommentText.call(this,e),!!this.commentIcon_==(e=null!=e)?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new t.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},t.BlockSvg.prototype.setWarningText=function(e,n){if(!t.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var s=n||"";if(s)this.warningTextDb_[s]&&(clearTimeout(this.warningTextDb_[s]),delete this.warningTextDb_[s]);else for(var f in this.warningTextDb_)clearTimeout(this.warningTextDb_[f]),delete this.warningTextDb_[f];if(this.workspace.isDragging()){var y=this;this.warningTextDb_[s]=setTimeout(function(){y.workspace&&(delete y.warningTextDb_[s],y.setWarningText(e,s))},100)}else{if(this.isInFlyout&&(e=null),n=!1,"string"==typeof e){f=this.getSurroundParent();for(var M=null;f;)f.isCollapsed()&&(M=f),f=f.getSurroundParent();M&&M.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new t.Warning(this),n=!0),this.warning.setText(e,s)}else this.warning&&!s?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",s),(f=this.warning.getText())||this.warning.dispose(),n=n!=f);n&&this.rendered&&(this.render(),this.bumpNeighbours())}},t.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},t.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&this.pathObject.updateHighlighted(e)},t.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},t.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},t.BlockSvg.prototype.setDeleteStyle=function(e){this.pathObject.updateDraggingDelete(e)},t.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},t.BlockSvg.prototype.setColour=function(e){t.BlockSvg.superClass_.setColour.call(this,e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()},t.BlockSvg.prototype.setStyle=function(e){var n=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!n)throw Error("Invalid style name: "+e);this.hat=n.hat,this.pathObject.setStyle(n),this.colour_=n.colourPrimary,this.style=n,this.applyColour()},t.BlockSvg.prototype.bringToFront=function(){var e=this;do{var n=e.getSvgRoot(),s=n.parentNode,f=s.childNodes;f[f.length-1]!==n&&s.appendChild(n),e=e.getParent()}while(e)},t.BlockSvg.prototype.setPreviousStatement=function(e,n){t.BlockSvg.superClass_.setPreviousStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setNextStatement=function(e,n){t.BlockSvg.superClass_.setNextStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setOutput=function(e,n){t.BlockSvg.superClass_.setOutput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setInputsInline=function(e){t.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.removeInput=function(e,n){return e=t.BlockSvg.superClass_.removeInput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.moveNumberedInputBefore=function(e,n){t.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.appendInput_=function(e,n){return e=t.BlockSvg.superClass_.appendInput_.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.setConnectionTracking=function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var n=this.nextConnection.targetBlock();n&&n.setConnectionTracking(e)}if(!this.collapsed_)for(n=0;n<this.inputList.length;n++){var s=this.inputList[n].connection;s&&(s.setTracking(e),(s=s.targetBlock())&&s.setConnectionTracking(e))}},t.BlockSvg.prototype.getConnections_=function(e){var n=[];if((e||this.rendered)&&(this.outputConnection&&n.push(this.outputConnection),this.previousConnection&&n.push(this.previousConnection),this.nextConnection&&n.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var s;s=this.inputList[e];e++)s.connection&&n.push(s.connection)}return n},t.BlockSvg.prototype.lastConnectionInStack=function(e){return t.BlockSvg.superClass_.lastConnectionInStack.call(this,e)},t.BlockSvg.prototype.getMatchingConnection=function(e,n){return t.BlockSvg.superClass_.getMatchingConnection.call(this,e,n)},t.BlockSvg.prototype.makeConnection_=function(e){return new t.RenderedConnection(this,e)},t.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var e=this.getRootBlock();if(!e.isInFlyout)for(var f,n=this.getConnections_(!1),s=0;f=n[s];s++){f.isConnected()&&f.isSuperior()&&f.targetBlock().bumpNeighbours();for(var A,y=f.neighbours(t.SNAP_RADIUS),M=0;A=y[M];M++)f.isConnected()&&A.isConnected()||A.getSourceBlock().getRootBlock()!=e&&(f.isSuperior()?A.bumpAwayFrom(f):f.bumpAwayFrom(A))}}},t.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,n=t.Events.getGroup();setTimeout(function(){t.Events.setGroup(n),e.snapToGrid(),t.Events.setGroup(!1)},t.BUMP_DELAY/2),setTimeout(function(){t.Events.setGroup(n),e.bumpNeighbours(),t.Events.setGroup(!1)},t.BUMP_DELAY)},t.BlockSvg.prototype.positionNearConnection=function(e,n){e.type!=t.connectionTypes.NEXT_STATEMENT&&e.type!=t.connectionTypes.INPUT_VALUE||this.moveBy(n.x-e.x,n.y-e.y)},t.BlockSvg.prototype.getParent=function(){return t.BlockSvg.superClass_.getParent.call(this)},t.BlockSvg.prototype.getRootBlock=function(){return t.BlockSvg.superClass_.getRootBlock.call(this)},t.BlockSvg.prototype.render=function(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,t.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){var n=this.getParent();n?n.render(!0):this.workspace.resizeContents()}t.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},t.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var n=0;n<this.inputList.length;n++){var s=this.inputList[n].connection;s&&(s.moveToOffset(e),s.isConnected()&&s.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())},t.BlockSvg.prototype.setCursorSvg=function(e){this.pathObject.setCursorSvg(e)},t.BlockSvg.prototype.setMarkerSvg=function(e){this.pathObject.setMarkerSvg(e)},t.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,n=this.width,s=this.getNextBlock();if(s){s=s.getHeightWidth();var f=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=s.height-f,n=Math.max(n,s.width)}return{height:e,width:n}},t.BlockSvg.prototype.fadeForReplacement=function(e){this.pathObject.updateReplacementFade(e)},t.BlockSvg.prototype.highlightShapeForInput=function(e,n){this.pathObject.updateShapeForInputHighlight(e,n)},t.ConnectionDB=function(e){this.connections_=[],this.connectionChecker_=e},t.ConnectionDB.prototype.addConnection=function(e,n){n=this.calculateIndexForYPos_(n),this.connections_.splice(n,0,e)},t.ConnectionDB.prototype.findIndexOfConnection_=function(e,n){if(!this.connections_.length)return-1;var s=this.calculateIndexForYPos_(n);if(s>=this.connections_.length)return-1;n=e.y;for(var f=s;0<=f&&this.connections_[f].y==n;){if(this.connections_[f]==e)return f;f--}for(f=s;f<this.connections_.length&&this.connections_[f].y==n;){if(this.connections_[f]==e)return f;f++}return-1},t.ConnectionDB.prototype.calculateIndexForYPos_=function(e){if(!this.connections_.length)return 0;for(var n=0,s=this.connections_.length;n<s;){var f=Math.floor((n+s)/2);if(this.connections_[f].y<e)n=f+1;else{if(!(this.connections_[f].y>e)){n=f;break}s=f}}return n},t.ConnectionDB.prototype.removeConnection=function(e,n){if(-1==(e=this.findIndexOfConnection_(e,n)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)},t.ConnectionDB.prototype.getNeighbours=function(e,n){function s(ne){var te=y-f[ne].x,se=M-f[ne].y;return Math.sqrt(te*te+se*se)<=n&&B.push(f[ne]),se<n}var f=this.connections_,y=e.x,M=e.y;e=0;for(var A=f.length-2,P=A;e<P;)f[P].y<M?e=P:A=P,P=Math.floor((e+A)/2);var B=[];if(A=e=P,f.length){for(;0<=e&&s(e);)e--;do{A++}while(A<f.length&&s(A))}return B},t.ConnectionDB.prototype.isInYRange_=function(e,n,s){return Math.abs(this.connections_[e].y-n)<=s},t.ConnectionDB.prototype.searchForClosest=function(e,n,s){if(!this.connections_.length)return{connection:null,radius:n};var f=e.y,y=e.x;e.x=y+s.x,e.y=f+s.y;var M=this.calculateIndexForYPos_(e.y);s=null;for(var P,A=n,B=M-1;0<=B&&this.isInYRange_(B,e.y,n);)this.connectionChecker_.canConnect(e,P=this.connections_[B],!0,A)&&(s=P,A=P.distanceFrom(e)),B--;for(;M<this.connections_.length&&this.isInYRange_(M,e.y,n);)this.connectionChecker_.canConnect(e,P=this.connections_[M],!0,A)&&(s=P,A=P.distanceFrom(e)),M++;return e.x=y,e.y=f,{connection:s,radius:A}},t.ConnectionDB.init=function(e){var n=[];return n[t.connectionTypes.INPUT_VALUE]=new t.ConnectionDB(e),n[t.connectionTypes.OUTPUT_VALUE]=new t.ConnectionDB(e),n[t.connectionTypes.NEXT_STATEMENT]=new t.ConnectionDB(e),n[t.connectionTypes.PREVIOUS_STATEMENT]=new t.ConnectionDB(e),n},t.Events.ThemeChange=function(e,n){t.Events.ThemeChange.superClass_.constructor.call(this,n),this.themeName=e},t.utils.object.inherits(t.Events.ThemeChange,t.Events.UiBase),t.Events.ThemeChange.prototype.type=t.Events.THEME_CHANGE,t.Events.ThemeChange.prototype.toJson=function(){var e=t.Events.ThemeChange.superClass_.toJson.call(this);return e.themeName=this.themeName,e},t.Events.ThemeChange.prototype.fromJson=function(e){t.Events.ThemeChange.superClass_.fromJson.call(this,e),this.themeName=e.themeName},t.registry.register(t.registry.Type.EVENT,t.Events.THEME_CHANGE,t.Events.ThemeChange),t.Events.ViewportChange=function(e,n,s,f,y){t.Events.ViewportChange.superClass_.constructor.call(this,f),this.viewTop=e,this.viewLeft=n,this.scale=s,this.oldScale=y},t.utils.object.inherits(t.Events.ViewportChange,t.Events.UiBase),t.Events.ViewportChange.prototype.type=t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange.prototype.toJson=function(){var e=t.Events.ViewportChange.superClass_.toJson.call(this);return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e},t.Events.ViewportChange.prototype.fromJson=function(e){t.Events.ViewportChange.superClass_.fromJson.call(this,e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale},t.registry.register(t.registry.Type.EVENT,t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange),t.IMetricsManager=function(){},t.MetricsManager=function(e){this.workspace_=e},t.MetricsManager.prototype.getDimensionsPx_=function(e){var n=0,s=0;return e&&(n=e.getWidth(),s=e.getHeight()),new t.utils.Size(n,s)},t.MetricsManager.prototype.getFlyoutMetrics=function(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getToolboxMetrics=function(){var e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},t.MetricsManager.prototype.getAbsoluteMetrics=function(){var e=0,n=this.getToolboxMetrics(),s=this.getFlyoutMetrics(!0),f=!!this.workspace_.getToolbox(),y=!!this.workspace_.getFlyout(!0),M=f?n.position:s.position,A=M==t.utils.toolbox.Position.LEFT;return M=M==t.utils.toolbox.Position.TOP,f&&A?e=n.width:y&&A&&(e=s.width),A=0,f&&M?A=n.height:y&&M&&(A=s.height),{top:A,left:e}},t.MetricsManager.prototype.getViewMetrics=function(e){e=e?this.workspace_.scale:1;var n=this.getSvgMetrics(),s=this.getToolboxMetrics(),f=this.getFlyoutMetrics(!0),y=this.workspace_.getToolbox()?s.position:f.position;return this.workspace_.getToolbox()?y==t.utils.toolbox.Position.TOP||y==t.utils.toolbox.Position.BOTTOM?n.height-=s.height:(y==t.utils.toolbox.Position.LEFT||y==t.utils.toolbox.Position.RIGHT)&&(n.width-=s.width):this.workspace_.getFlyout(!0)&&(y==t.utils.toolbox.Position.TOP||y==t.utils.toolbox.Position.BOTTOM?n.height-=f.height:(y==t.utils.toolbox.Position.LEFT||y==t.utils.toolbox.Position.RIGHT)&&(n.width-=f.width)),{height:n.height/e,width:n.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}},t.MetricsManager.prototype.getContentMetrics=function(e){e=e?1:this.workspace_.scale;var n=this.workspace_.getBlocksBoundingBox();return{height:(n.bottom-n.top)*e,width:(n.right-n.left)*e,top:n.top*e,left:n.left*e}},t.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},t.MetricsManager.prototype.getComputedFixedEdges_=function(e){if(!this.hasFixedEdges())return{};var n=this.workspace_.isMovableHorizontally(),s=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);var f={};return s||(f.top=e.top,f.bottom=e.top+e.height),n||(f.left=e.left,f.right=e.left+e.width),f},t.MetricsManager.prototype.getPaddedContent_=function(e,n){var s=n.top+n.height,f=n.left+n.width,y=e.width,M=y/2,A=(e=e.height)/2;return{top:Math.min(n.top-A,s-e),bottom:Math.max(s+A,n.top+e),left:Math.min(n.left-M,f-y),right:Math.max(f+M,n.left+y)}},t.MetricsManager.prototype.getScrollMetrics=function(e,n,s){e=e?this.workspace_.scale:1,n=n||this.getViewMetrics(!1);var f=s||this.getContentMetrics();s=this.getComputedFixedEdges_(n),n=this.getPaddedContent_(n,f);var y=void 0!==s.left?s.left:n.left;return{top:(f=void 0!==s.top?s.top:n.top)/e,left:y/e,width:((void 0!==s.right?s.right:n.right)-y)/e,height:((void 0!==s.bottom?s.bottom:n.bottom)-f)/e}},t.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},t.MetricsManager.prototype.getMetrics=function(){var e=this.getToolboxMetrics(),n=this.getFlyoutMetrics(!0),s=this.getSvgMetrics(),f=this.getAbsoluteMetrics(),y=this.getViewMetrics(),M=this.getContentMetrics(),A=this.getScrollMetrics(!1,y,M);return{contentHeight:M.height,contentWidth:M.width,contentTop:M.top,contentLeft:M.left,scrollHeight:A.height,scrollWidth:A.width,scrollTop:A.top,scrollLeft:A.left,viewHeight:y.height,viewWidth:y.width,viewTop:y.top,viewLeft:y.left,absoluteTop:f.top,absoluteLeft:f.left,svgHeight:s.height,svgWidth:s.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:n.width,flyoutHeight:n.height}},t.registry.register(t.registry.Type.METRICS_MANAGER,t.registry.DEFAULT,t.MetricsManager),t.FlyoutMetricsManager=function(e,n){this.flyout_=n,t.FlyoutMetricsManager.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.FlyoutMetricsManager,t.MetricsManager),t.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var e=this.workspace_.getCanvas().getBBox()}catch(n){e={height:0,y:0,width:0,x:0}}return e},t.FlyoutMetricsManager.prototype.getContentMetrics=function(e){var n=this.getBoundingBox_();return{height:n.height*(e=e?1:this.workspace_.scale),width:n.width*e,top:n.y*e,left:n.x*e}},t.FlyoutMetricsManager.prototype.getScrollMetrics=function(e,n,s){return{height:((n=s||this.getContentMetrics()).height+2*(s=this.flyout_.MARGIN*this.workspace_.scale))/(e=e?this.workspace_.scale:1),width:(n.width+n.left+s)/e,top:0,left:0}},t.ThemeManager=function(e,n){this.workspace_=e,this.theme_=n,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},t.ThemeManager.prototype.getTheme=function(){return this.theme_},t.ThemeManager.prototype.setTheme=function(e){var s,n=this.theme_;for(this.theme_=e,(e=this.workspace_.getInjectionDiv())&&(n&&t.utils.dom.removeClass(e,n.getClassName()),t.utils.dom.addClass(e,this.theme_.getClassName())),n=0;e=this.subscribedWorkspaces_[n];n++)e.refreshTheme();for(n=0,e=Object.keys(this.componentDB_);s=e[n];n++)for(var y,f=0;y=this.componentDB_[s][f];f++){var M=y.element;y=y.propertyName;var A=this.theme_&&this.theme_.getComponentStyle(s);M.style[y]=A||""}t.hideChaff()},t.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},t.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(0>(e=this.subscribedWorkspaces_.indexOf(e)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(e,1)},t.ThemeManager.prototype.subscribe=function(e,n,s){this.componentDB_[n]||(this.componentDB_[n]=[]),this.componentDB_[n].push({element:e,propertyName:s}),n=this.theme_&&this.theme_.getComponentStyle(n),e.style[s]=n||""},t.ThemeManager.prototype.unsubscribe=function(e){if(e)for(var f,n=Object.keys(this.componentDB_),s=0;f=n[s];s++){for(var y=this.componentDB_[f],M=y.length-1;0<=M;M--)y[M].element===e&&y.splice(M,1);this.componentDB_[f].length||delete this.componentDB_[f]}},t.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},t.TouchGesture=function(e,n){t.TouchGesture.superClass_.constructor.call(this,e,n),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},t.utils.object.inherits(t.TouchGesture,t.Gesture),t.TouchGesture.ZOOM_IN_MULTIPLIER=5,t.TouchGesture.ZOOM_OUT_MULTIPLIER=6,t.TouchGesture.prototype.doStart=function(e){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,t.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&t.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},t.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=t.browserEvents.conditionalBind(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},t.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&t.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&t.longStop_())},t.TouchGesture.prototype.handleMove=function(e){this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(t.Touch.isTouchEvent(e)&&this.handleTouchMove(e),t.longStop_()):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handleUp=function(e){t.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},t.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},t.TouchGesture.prototype.dispose=function(){t.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&t.browserEvents.unbind(this.onStartWrapper_)},t.TouchGesture.prototype.handleTouchStart=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),2==(n=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]]),this.isMultiTouch_=!0,e.preventDefault())},t.TouchGesture.prototype.handleTouchMove=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),n=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===n.length?this.handlePinch_(e):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handlePinch_=function(e){var n=Object.keys(this.cachedPoints_);if(n=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var s=n-this.previousScale_;s=0<s?s*t.TouchGesture.ZOOM_IN_MULTIPLIER:s*t.TouchGesture.ZOOM_OUT_MULTIPLIER;var f=this.startWorkspace_,y=t.utils.mouseToSvg(e,f.getParentSvg(),f.getInverseScreenCTM());f.zoom(y.x,y.y,s)}this.previousScale_=n,e.preventDefault()},t.TouchGesture.prototype.handleTouchEnd=function(e){e=t.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},t.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new t.utils.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},t.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},t.WorkspaceAudio.prototype.lastSound_=null,t.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},t.WorkspaceAudio.prototype.load=function(e,n){if(e.length){try{var s=new t.utils.global.Audio}catch(P){return}for(var f,y=0;y<e.length;y++){var M=e[y],A=M.match(/\.(\w+)$/);if(A&&s.canPlayType("audio/"+A[1])){f=new t.utils.global.Audio(M);break}}f&&f.play&&(this.SOUNDS_[n]=f)}},t.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var n=this.SOUNDS_[e];n.volume=.01;var s=n.play();if(void 0!==s?s.then(n.pause).catch(function(){}):n.pause(),t.utils.userAgent.IPAD||t.utils.userAgent.IPHONE)break}},t.WorkspaceAudio.prototype.play=function(e,n){var s=this.SOUNDS_[e];s?(e=new Date,null!=this.lastSound_&&e-this.lastSound_<t.SOUND_LIMIT||(this.lastSound_=e,(s=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID?s:s.cloneNode()).volume=void 0===n?1:n,s.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,n)},t.WorkspaceSvg=function(e,n,s){t.WorkspaceSvg.superClass_.constructor.call(this,e),this.metricsManager_=new(t.registry.getClassFromOptions(t.registry.Type.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=e.setMetrics||t.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.componentManager_=new t.ComponentManager,this.connectionDBList=t.ConnectionDB.init(this.connectionChecker),n&&(this.blockDragSurface_=n),s&&(this.workspaceDragSurface_=s),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&t.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new t.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new t.Grid(this.options.gridPattern,e.gridOptions):null,this.markerManager_=new t.MarkerManager(this),this.toolboxCategoryCallbacks_=Object.create(null),this.flyoutButtonCallbacks_=Object.create(null),t.Variables&&t.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_CATEGORY_NAME,t.Variables.flyoutCategory),t.VariablesDynamic&&t.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_DYNAMIC_CATEGORY_NAME,t.VariablesDynamic.flyoutCategory),t.Procedures&&t.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(t.PROCEDURE_CATEGORY_NAME,t.Procedures.flyoutCategory),this.addChangeListener(t.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new t.ThemeManager(this,this.options.theme||t.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=t.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.dragTargetAreas_=[],this.cachedParentSvgSize_=new t.utils.Size(0,0)},t.utils.object.inherits(t.WorkspaceSvg,t.Workspace),t.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,t.WorkspaceSvg.prototype.rendered=!0,t.WorkspaceSvg.prototype.isVisible_=!0,t.WorkspaceSvg.prototype.isFlyout=!1,t.WorkspaceSvg.prototype.isMutator=!1,t.WorkspaceSvg.prototype.resizesEnabled_=!0,t.WorkspaceSvg.prototype.scrollX=0,t.WorkspaceSvg.prototype.scrollY=0,t.WorkspaceSvg.prototype.startScrollX=0,t.WorkspaceSvg.prototype.startScrollY=0,t.WorkspaceSvg.prototype.dragDeltaXY_=null,t.WorkspaceSvg.prototype.scale=1,t.WorkspaceSvg.prototype.oldScale_=1,t.WorkspaceSvg.prototype.oldTop_=0,t.WorkspaceSvg.prototype.oldLeft_=0,t.WorkspaceSvg.prototype.trashcan=null,t.WorkspaceSvg.prototype.scrollbar=null,t.WorkspaceSvg.prototype.flyout_=null,t.WorkspaceSvg.prototype.toolbox_=null,t.WorkspaceSvg.prototype.currentGesture_=null,t.WorkspaceSvg.prototype.blockDragSurface_=null,t.WorkspaceSvg.prototype.workspaceDragSurface_=null,t.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,t.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,t.WorkspaceSvg.prototype.injectionDiv_=null,t.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,t.WorkspaceSvg.prototype.targetWorkspace=null,t.WorkspaceSvg.prototype.inverseScreenCTM_=null,t.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,t.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},t.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},t.WorkspaceSvg.prototype.setMetricsManager=function(e){this.metricsManager_=e,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},t.WorkspaceSvg.prototype.getComponentManager=function(){return this.componentManager_},t.WorkspaceSvg.prototype.setCursorSvg=function(e){this.markerManager_.setCursorSvg(e)},t.WorkspaceSvg.prototype.setMarkerSvg=function(e){this.markerManager_.setMarkerSvg(e)},t.WorkspaceSvg.prototype.getMarker=function(e){return this.markerManager_?this.markerManager_.getMarker(e):null},t.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},t.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},t.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},t.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},t.WorkspaceSvg.prototype.setTheme=function(e){e||(e=t.Themes.Classic),this.themeManager_.setTheme(e)},t.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(n){return!!n.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var e=new(t.Events.get(t.Events.THEME_CHANGE))(this.getTheme().name,this.id);t.Events.fire(e)},t.WorkspaceSvg.prototype.updateBlockStyles_=function(e){for(var s,n=0;s=e[n];n++){var f=s.getStyleName();f&&(s.setStyle(f),s.mutator&&s.mutator.updateBlockStyle())}},t.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},t.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},t.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},t.WorkspaceSvg.prototype.getSvgXY=function(e){var n=0,s=0,f=1;(t.utils.dom.containsNode(this.getCanvas(),e)||t.utils.dom.containsNode(this.getBubbleCanvas(),e))&&(f=this.scale);do{var y=t.utils.getRelativeXY(e);(e==this.getCanvas()||e==this.getBubbleCanvas())&&(f=1),n+=y.x*f,s+=y.y*f,e=e.parentNode}while(e&&e!=this.getParentSvg());return new t.utils.Coordinate(n,s)},t.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var e=this.cachedParentSvgSize_;return new t.utils.Size(e.width,e.height)},t.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return t.utils.getInjectionDivXY_(this.getCanvas())},t.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},t.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},t.WorkspaceSvg.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(t.browserEvents.conditionalBind(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(t.registry.getClassFromOptions(t.registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDragTargets(),(e=t.registry.getClassFromOptions(t.registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new e),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},t.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),t.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg();e&&e.parentNode&&t.utils.dom.removeNode(e.parentNode)}this.resizeHandlerWrapper_&&(t.browserEvents.unbind(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},t.WorkspaceSvg.prototype.newBlock=function(e,n){return new t.BlockSvg(this,e,n)},t.WorkspaceSvg.prototype.addTrashcan=function(){if(!t.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new t.Trashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},t.WorkspaceSvg.prototype.addZoomControls=function(){if(!t.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new t.ZoomControls(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)},t.WorkspaceSvg.prototype.addFlyout=function(e){var n=new t.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(n):new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(n),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(e)},t.WorkspaceSvg.prototype.getFlyout=function(e){return this.flyout_||e?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},t.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},t.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDragTargets()},t.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},t.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var y,e=this.componentManager_.getComponents(t.ComponentManager.Capability.POSITIONABLE,!0),n=this.getMetricsManager().getUiMetrics(),s=[],f=0;y=e[f];f++)y.position(n,s),(y=y.getBoundingRectangle())&&s.push(y);this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},t.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=t.utils.getDocumentScroll();t.utils.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},t.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setCachedParentSvgSize=function(e,n){var s=this.getParentSvg();e&&(this.cachedParentSvgSize_.width=e,s.cachedWidth_=e),n&&(this.cachedParentSvgSize_.height=n,s.cachedHeight_=n)},t.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},t.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var e=this.svgGroup_;e;){if("svg"==e.tagName){this.cachedParentSvg_=e;break}e=e.parentNode}return this.cachedParentSvg_},t.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if(t.Events.isEnabled()){var e=this.scale,n=-this.scrollY,s=-this.scrollX;if(!(e==this.oldScale_&&1>Math.abs(n-this.oldTop_)&&1>Math.abs(s-this.oldLeft_))){var f=new(t.Events.get(t.Events.VIEWPORT_CHANGE))(n,s,e,this.id,this.oldScale_);this.oldScale_=e,this.oldTop_=n,this.oldLeft_=s,t.Events.fire(f)}}},t.WorkspaceSvg.prototype.translate=function(e,n){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,n);else{var s="translate("+e+","+n+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",s),this.svgBubbleCanvas_.setAttribute("transform",s)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,n,this.scale),this.grid_&&this.grid_.moveTo(e,n),this.maybeFireViewportChangeEvent()},t.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),this.svgBlockCanvas_.setAttribute("transform",e="translate("+e.x+","+e.y+") scale("+this.scale+")"),this.svgBubbleCanvas_.setAttribute("transform",e)}},t.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,n=parseInt(this.getParentSvg().getAttribute("width"),10),s=parseInt(this.getParentSvg().getAttribute("height"),10),f=t.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),e,n,s,this.scale),this.workspaceDragSurface_.translateSurface(f.x,f.y)}},t.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},t.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},t.WorkspaceSvg.prototype.setVisible=function(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){for(var n=(e=this.getAllBlocks(!1)).length-1;0<=n;n--)e[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else t.hideChaff(!0)},t.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),n=e.length-1;0<=n;n--)e[n].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),n=0;n<e.length;n++)e[n].render(!1);this.markerManager_.updateMarkers()},t.WorkspaceSvg.prototype.highlightBlock=function(e,n){if(void 0===n){for(var f,s=0;f=this.highlightedBlocks_[s];s++)f.setHighlighted(!1);this.highlightedBlocks_.length=0}(f=e?this.getBlockById(e):null)&&((e=void 0===n||n)?-1==this.highlightedBlocks_.indexOf(f)&&this.highlightedBlocks_.push(f):t.utils.arrayRemove(this.highlightedBlocks_,f),f.setHighlighted(e))},t.WorkspaceSvg.prototype.paste=function(e){!this.rendered||!e.tagName||e.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e))},t.WorkspaceSvg.prototype.pasteBlock_=function(e){t.Events.disable();try{var n=t.Xml.domToBlock(e,this),s=parseInt(e.getAttribute("x"),10),f=parseInt(e.getAttribute("y"),10);if(!isNaN(s)&&!isNaN(f)){this.RTL&&(s=-s);do{e=!1;for(var A,y=this.getAllBlocks(!1),M=0;A=y[M];M++){var P=A.getRelativeToSurfaceXY();if(1>=Math.abs(s-P.x)&&1>=Math.abs(f-P.y)){e=!0;break}}if(!e){var ne,B=n.getConnections_(!1);for(M=0;ne=B[M];M++)if(ne.closest(t.SNAP_RADIUS,new t.utils.Coordinate(s,f)).connection){e=!0;break}}e&&(s=this.RTL?s-t.SNAP_RADIUS:s+t.SNAP_RADIUS,f+=2*t.SNAP_RADIUS)}while(e);n.moveBy(s,f)}}finally{t.Events.enable()}t.Events.isEnabled()&&!n.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n)),n.select()},t.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){t.Events.disable();try{var n=t.WorkspaceCommentSvg.fromXml(e,this),s=parseInt(e.getAttribute("x"),10),f=parseInt(e.getAttribute("y"),10);isNaN(s)||isNaN(f)||(this.RTL&&(s=-s),n.moveBy(s+50,f+50))}finally{t.Events.enable()}t.Events.isEnabled()&&t.WorkspaceComment.fireCreateEvent(n),n.select()},t.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()},t.WorkspaceSvg.prototype.renameVariableById=function(e,n){t.WorkspaceSvg.superClass_.renameVariableById.call(this,e,n),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.deleteVariableById=function(e){t.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.createVariable=function(e,n,s){return e=t.WorkspaceSvg.superClass_.createVariable.call(this,e,n,s),this.refreshToolboxSelection(),e},t.WorkspaceSvg.prototype.recordDeleteAreas=function(){t.utils.deprecation.warn("WorkspaceSvg.prototype.recordDeleteAreas","June 2021","June 2022","WorkspaceSvg.prototype.recordDragTargets"),this.recordDragTargets()},t.WorkspaceSvg.prototype.recordDragTargets=function(){var e=this.componentManager_.getComponents(t.ComponentManager.Capability.DRAG_TARGET,!0);this.dragTargetAreas_=[];for(var s,n=0;s=e[n];n++){var f=s.getClientRect();f&&this.dragTargetAreas_.push({component:s,clientRect:f})}},t.WorkspaceSvg.prototype.getDragTarget=function(e){for(var s,n=0;s=this.dragTargetAreas_[n];n++)if(s.clientRect.contains(e.clientX,e.clientY))return s.component;return null},t.WorkspaceSvg.prototype.onMouseDown_=function(e){var n=this.getGesture(e);n&&n.handleWsStart(e,this)},t.WorkspaceSvg.prototype.startDrag=function(e,n){(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY_=t.utils.Coordinate.difference(n,e)},t.WorkspaceSvg.prototype.moveDrag=function(e){return(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,t.utils.Coordinate.sum(this.dragDeltaXY_,e)},t.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},t.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},t.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},t.WorkspaceSvg.prototype.isMovableHorizontally=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())},t.WorkspaceSvg.prototype.isMovableVertically=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())},t.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(t.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var n=this.options.zoomOptions&&this.options.zoomOptions.wheel,s=this.options.moveOptions&&this.options.moveOptions.wheel;if(n||s){var f=t.utils.getScrollDeltaPixels(e);!n||!e.ctrlKey&&s?(n=this.scrollX-f.x,s=this.scrollY-f.y,e.shiftKey&&!f.x&&(n=this.scrollX-f.y,s=this.scrollY),this.scroll(n,s)):(f=-f.y/50,n=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(n.x,n.y,f)),e.preventDefault()}}},t.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBoundedElements();if(!e.length)return new t.utils.Rect(0,0,0,0);for(var n=e[0].getBoundingRectangle(),s=1;s<e.length;s++){var f=e[s];f.isInsertionMarker&&f.isInsertionMarker()||((f=f.getBoundingRectangle()).top<n.top&&(n.top=f.top),f.bottom>n.bottom&&(n.bottom=f.bottom),f.left<n.left&&(n.left=f.left),f.right>n.right&&(n.right=f.right))}return n},t.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),t.Events.setGroup(!0);for(var f,e=this.getTopBlocks(!0),n=0,s=0;f=e[s];s++)if(f.isMovable()){var y=f.getRelativeToSurfaceXY();f.moveBy(-y.x,n-y.y),f.snapToGrid(),n=f.getRelativeToSurfaceXY().y+f.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}t.Events.setGroup(!1),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.showContextMenu=function(e){if(!this.options.readOnly&&!this.isFlyout){var n=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(n,e),t.ContextMenu.show(e,n,this.RTL)}},t.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=t.utils.toolbox.convertToolboxDefToJson(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(t.utils.toolbox.hasCategories(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},t.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(t.mainWorkspace=this,this.setBrowserFocus())},t.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(n){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},t.WorkspaceSvg.prototype.zoom=function(e,n,s){s=Math.pow(this.options.zoomOptions.scaleSpeed,s);var f=this.scale*s;if(this.scale!=f){f>this.options.zoomOptions.maxScale?s=this.options.zoomOptions.maxScale/this.scale:f<this.options.zoomOptions.minScale&&(s=this.options.zoomOptions.minScale/this.scale);var y=this.getCanvas().getCTM(),M=this.getParentSvg().createSVGPoint();M.x=e,M.y=n,M=M.matrixTransform(y.inverse()),y=y.translate((e=M.x)*(1-s),(n=M.y)*(1-s)).scale(s),this.scrollX=y.e,this.scrollY=y.f,this.setScale(f)}},t.WorkspaceSvg.prototype.zoomCenter=function(e){var n=this.getMetrics();if(this.flyout_){var s=n.svgWidth?n.svgWidth/2:0;n=n.svgHeight?n.svgHeight/2:0}else s=n.viewWidth/2+n.absoluteLeft,n=n.viewHeight/2+n.absoluteTop;this.zoom(s,n,e)},t.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var e=this.getMetrics(),n=e.viewWidth;e=e.viewHeight;var s=this.getBlocksBoundingBox(),f=s.right-s.left;if(s=s.bottom-s.top,f){this.flyout_&&(this.horizontalLayout?(e+=this.flyout_.getHeight(),s+=this.flyout_.getHeight()/this.scale):(n+=this.flyout_.getWidth(),f+=this.flyout_.getWidth()/this.scale)),n/=f,e/=s,t.Events.disable();try{this.setScale(Math.min(n,e)),this.scrollCenter()}finally{t.Events.enable()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.beginCanvasTransition=function(){t.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.endCanvasTransition=function(){t.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),n=(e.scrollWidth-e.viewWidth)/2,s=(e.scrollHeight-e.viewHeight)/2;this.scroll(n=-n-e.scrollLeft,s=-s-e.scrollTop)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var n=e.getRelativeToSurfaceXY(),s=e.getHeightWidth(),f=this.scale;e=(n.x+(this.RTL?-1:1)*s.width/2)*f,n=(n.y+s.height/2)*f,s=this.getMetrics(),this.scroll(-(e-s.viewWidth/2),-(n-s.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,t.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDragTargets()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))},t.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},t.WorkspaceSvg.prototype.scroll=function(e,n){t.hideChaff(!0);var s=this.getMetrics();e=Math.min(e,-s.scrollLeft),n=Math.min(n,-s.scrollTop);var f=s.scrollTop+Math.max(0,s.scrollHeight-s.viewHeight);e=Math.max(e,-(s.scrollLeft+Math.max(0,s.scrollWidth-s.viewWidth))),n=Math.max(n,-f),this.scrollX=e,this.scrollY=n,this.scrollbar&&this.scrollbar.set(-(e+s.scrollLeft),-(n+s.scrollTop),!1),this.translate(e+=s.absoluteLeft,n+=s.absoluteTop)},t.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var n=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(n.scrollLeft+(n.scrollWidth-n.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(n.scrollTop+(n.scrollHeight-n.viewHeight)*e.y)),this.translate(this.scrollX+n.absoluteLeft,this.scrollY+n.absoluteTop)},t.WorkspaceSvg.prototype.getBlockById=function(e){return t.WorkspaceSvg.superClass_.getBlockById.call(this,e)},t.WorkspaceSvg.prototype.getTopBlocks=function(e){return t.WorkspaceSvg.superClass_.getTopBlocks.call(this,e)},t.WorkspaceSvg.prototype.addTopBlock=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopBlock.call(this,e)},t.WorkspaceSvg.prototype.removeTopBlock=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopBlock.call(this,e)},t.WorkspaceSvg.prototype.addTopComment=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopComment.call(this,e)},t.WorkspaceSvg.prototype.removeTopComment=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopComment.call(this,e)},t.WorkspaceSvg.prototype.addTopBoundedElement=function(e){this.topBoundedElements_.push(e)},t.WorkspaceSvg.prototype.removeTopBoundedElement=function(e){t.utils.arrayRemove(this.topBoundedElements_,e)},t.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},t.WorkspaceSvg.prototype.setResizesEnabled=function(e){var n=!this.resizesEnabled_&&e;this.resizesEnabled_=e,n&&this.resizeContents()},t.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),t.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.registerButtonCallback=function(e,n){if("function"!=typeof n)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=n},t.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},t.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},t.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,n){if("function"!=typeof n)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=n},t.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},t.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},t.WorkspaceSvg.prototype.getGesture=function(e){var n="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,s=this.currentGesture_;return s?n&&s.hasStarted()?(console.warn("Tried to start the same gesture twice."),s.cancel(),null):s:n?this.currentGesture_=new t.TouchGesture(e,this):null},t.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},t.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},t.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},t.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},t.inject=function(e,n){if(t.checkBlockColourConstants(),"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e||!t.utils.dom.containsNode(document,e))throw Error("Error: container is not in current document.");n=new t.Options(n||{});var s=document.createElement("div");s.className="injectionDiv",s.tabIndex=0,t.utils.aria.setState(s,t.utils.aria.State.LABEL,t.Msg.WORKSPACE_ARIA_LABEL),e.appendChild(s),e=t.createDom_(s,n);var f=new t.BlockDragSurfaceSvg(s),y=new t.WorkspaceDragSurfaceSvg(s),M=t.createMainWorkspace_(e,n,f,y);return t.init_(M),t.mainWorkspace=M,t.svgResize(M),s.addEventListener("focusin",function(){t.mainWorkspace=M}),M},t.createDom_=function(e,n){e.setAttribute("dir","LTR"),t.Css.inject(n.hasCss,n.pathToMedia),e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},e);var s=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),f=String(Math.random()).substring(2);return n.gridPattern=t.Grid.createDom(f,n.gridOptions,s),e},t.createMainWorkspace_=function(e,n,s,f){return n.parentWorkspace=null,(n=new t.WorkspaceSvg(n,s,f)).scale=(s=n.options).zoomOptions.startScale,e.appendChild(n.createDom("blocklyMainBackground")),t.utils.dom.addClass(n.getInjectionDiv(),n.getRenderer().getClassName()),t.utils.dom.addClass(n.getInjectionDiv(),n.getTheme().getClassName()),!s.hasCategories&&s.languageTree&&(f=n.addFlyout(t.utils.Svg.SVG),t.utils.dom.insertAfter(f,e)),s.hasTrashcan&&n.addTrashcan(),s.zoomOptions&&s.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(e,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(t.bumpIntoBoundsHandler_(n)),t.svgResize(n),t.WidgetDiv.createDom(),t.DropDownDiv.createDom(),t.Tooltip.createDom(),n},t.extractObjectFromEvent_=function(e,n){var s=null;switch(n.type){case t.Events.BLOCK_CREATE:case t.Events.BLOCK_MOVE:(s=e.getBlockById(n.blockId))&&(s=s.getRootBlock());break;case t.Events.COMMENT_CREATE:case t.Events.COMMENT_MOVE:s=e.getCommentById(n.commentId)}return s},t.bumpTopObjectsIntoBounds_=function(e){var n=e.getMetricsManager();if(n.hasFixedEdges()&&!e.isDragging()){n=n.getScrollMetrics(!0);for(var y,s=e.getTopBoundedElements(),f=0;y=s[f];f++)t.bumpObjectIntoBounds_(e,n,y)}},t.bumpIntoBoundsHandler_=function(e){return function(n){var s=e.getMetricsManager();if(s.hasFixedEdges()&&!e.isDragging())if(-1!==t.Events.BUMP_EVENTS.indexOf(n.type)){s=s.getScrollMetrics(!0);var f=t.extractObjectFromEvent_(e,n);if(f){var y=t.Events.getGroup();t.Events.setGroup(n.group),t.bumpObjectIntoBounds_(e,s,f)&&!n.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==y&&t.Events.setGroup(y)}}else n.type===t.Events.VIEWPORT_CHANGE&&n.scale>n.oldScale&&t.bumpTopObjectsIntoBounds_(e)}},t.bumpObjectIntoBounds_=function(e,n,s){var f=s.getBoundingRectangle(),y=f.right-f.left,M=t.utils.math.clamp(n.top,f.top,n.top+n.height-(f.bottom-f.top))-f.top,A=n.left;return n=n.left+n.width-y,e.RTL?A=Math.min(n,A):n=Math.max(A,n),!(!(e=t.utils.math.clamp(A,f.left,n)-f.left)&&!M||(s.moveBy(e,M),0))},t.init_=function(e){var n=e.options,s=e.getParentSvg();if(t.browserEvents.conditionalBind(s.parentNode,"contextmenu",null,function(y){t.utils.isTargetInput(y)||y.preventDefault()}),s=t.browserEvents.conditionalBind(window,"resize",null,function(){t.hideChaff(!0),t.svgResize(e),t.bumpTopObjectsIntoBounds_(e)}),e.setResizeHandlerWrapper(s),t.inject.bindDocumentEvents_(),n.languageTree){s=e.getToolbox();var f=e.getFlyout(!0);s?s.init():f&&(f.init(e),f.show(n.languageTree),"function"==typeof f.scrollToStart&&f.scrollToStart())}n.hasTrashcan&&e.trashcan.init(),n.zoomOptions&&n.zoomOptions.controls&&e.zoomControls_.init(),n.moveOptions&&n.moveOptions.scrollbars?(e.scrollbar=new t.ScrollbarPair(e,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.horizontal,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),n.hasSounds&&t.inject.loadSounds_(n.pathToMedia,e)},t.inject.bindDocumentEvents_=function(){t.documentEventsBound_||(t.browserEvents.conditionalBind(document,"scroll",null,function(){for(var s,e=t.Workspace.getAll(),n=0;s=e[n];n++)s.updateInverseScreenCTM&&s.updateInverseScreenCTM()}),t.browserEvents.conditionalBind(document,"keydown",null,t.onKeyDown),t.browserEvents.bind(document,"touchend",null,t.longStop_),t.browserEvents.bind(document,"touchcancel",null,t.longStop_),t.utils.userAgent.IPAD&&t.browserEvents.conditionalBind(window,"orientationchange",document,function(){t.svgResize(t.getMainWorkspace())})),t.documentEventsBound_=!0},t.inject.loadSounds_=function(e,n){var s=n.getAudioManager();s.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),s.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),s.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var f=[];e=function(){for(;f.length;)t.browserEvents.unbind(f.pop());s.preload()},f.push(t.browserEvents.conditionalBind(document,"mousemove",null,e,!0)),f.push(t.browserEvents.conditionalBind(document,"touchstart",null,e,!0))},t.Names=function(e,n){if(this.variablePrefix_=n||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),n=0;n<e.length;n++)this.reservedDict_[e[n]]=!0;this.reset()},t.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",t.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},t.Names.prototype.setVariableMap=function(e){this.variableMap_=e},t.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)},t.Names.prototype.populateVariables=function(e){e=t.Variables.allUsedVarModels(e);for(var n=0;n<e.length;n++)this.getName(e[n].getId(),t.VARIABLE_CATEGORY_NAME)},t.Names.prototype.populateProcedures=function(e){e=(e=t.Procedures.allProcedures(e))[0].concat(e[1]);for(var n=0;n<e.length;n++)this.getName(e[n][0],t.PROCEDURE_CATEGORY_NAME)},t.Names.prototype.getName=function(e,n){var s=e;n==t.VARIABLE_CATEGORY_NAME&&(e=this.getNameForUserVariable_(e))&&(s=e),e=s.toLowerCase();var f=n==t.VARIABLE_CATEGORY_NAME||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";n in this.db_||(this.db_[n]=Object.create(null));var y=this.db_[n];return e in y?f+y[e]:(n=this.getDistinctName(s,n),y[e]=n.substr(f.length),n)},t.Names.prototype.getUserNames=function(e){return Object.keys(this.db_[e]||{})},t.Names.prototype.getDistinctName=function(e,n){e=this.safeName_(e);for(var s="";this.dbReverse_[e+s]||e+s in this.reservedDict_;)s=s?s+1:2;return this.dbReverse_[e+=s]=!0,(n==t.VARIABLE_CATEGORY_NAME||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+e},t.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=t.Msg.UNNAMED_KEY||"unnamed",e},t.Names.equals=function(e,n){return e.toLowerCase()==n.toLowerCase()},t.Procedures={},t.Procedures.NAME_TYPE=t.PROCEDURE_CATEGORY_NAME,t.Procedures.DEFAULT_ARG="x",t.Procedures.allProcedures=function(e){var n=e.getBlocksByType("procedures_defnoreturn",!1).map(function(s){return s.getProcedureDef()});return e=e.getBlocksByType("procedures_defreturn",!1).map(function(s){return s.getProcedureDef()}),n.sort(t.Procedures.procTupleComparator_),e.sort(t.Procedures.procTupleComparator_),[n,e]},t.Procedures.procTupleComparator_=function(e,n){return e[0].localeCompare(n[0],void 0,{sensitivity:"base"})},t.Procedures.findLegalName=function(e,n){if(n.isInFlyout)return e;for(e=e||t.Msg.UNNAMED_KEY||"unnamed";!t.Procedures.isLegalName_(e,n.workspace,n);){var s=e.match(/^(.*?)(\d+)$/);e=s?s[1]+(parseInt(s[2],10)+1):e+"2"}return e},t.Procedures.isLegalName_=function(e,n,s){return!t.Procedures.isNameUsed(e,n,s)},t.Procedures.isNameUsed=function(e,n,s){n=n.getAllBlocks(!1);for(var f=0;f<n.length;f++)if(n[f]!=s&&n[f].getProcedureDef){var y=n[f].getProcedureDef();if(t.Names.equals(y[0],e))return!0}return!1},t.Procedures.rename=function(e){e=e.trim();var n=t.Procedures.findLegalName(e,this.getSourceBlock()),s=this.getValue();if(s!=e&&s!=n){e=this.getSourceBlock().workspace.getAllBlocks(!1);for(var f=0;f<e.length;f++)e[f].renameProcedure&&e[f].renameProcedure(s,n)}return n},t.Procedures.flyoutCategory=function(e){function n(M,A){for(var P=0;P<M.length;P++){var B=M[P][0],ne=M[P][1],te=t.utils.xml.createElement("block");te.setAttribute("type",A),te.setAttribute("gap",16);var se=t.utils.xml.createElement("mutation");for(se.setAttribute("name",B),te.appendChild(se),B=0;B<ne.length;B++){var de=t.utils.xml.createElement("arg");de.setAttribute("name",ne[B]),se.appendChild(de)}s.push(te)}}var s=[];if(t.Blocks.procedures_defnoreturn){var f=t.utils.xml.createElement("block");f.setAttribute("type","procedures_defnoreturn"),f.setAttribute("gap",16);var y=t.utils.xml.createElement("field");y.setAttribute("name","NAME"),y.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),f.appendChild(y),s.push(f)}return t.Blocks.procedures_defreturn&&((f=t.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),f.setAttribute("gap",16),(y=t.utils.xml.createElement("field")).setAttribute("name","NAME"),y.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),f.appendChild(y),s.push(f)),t.Blocks.procedures_ifreturn&&((f=t.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),f.setAttribute("gap",16),s.push(f)),s.length&&s[s.length-1].setAttribute("gap",24),n((e=t.Procedures.allProcedures(e))[0],"procedures_callnoreturn"),n(e[1],"procedures_callreturn"),s},t.Procedures.updateMutatorFlyout_=function(e){for(var y,n=[],s=e.getBlocksByType("procedures_mutatorarg",!1),f=0;y=s[f];f++)n.push(y.getFieldValue("NAME"));s=t.utils.xml.createElement("xml"),(f=t.utils.xml.createElement("block")).setAttribute("type","procedures_mutatorarg"),(y=t.utils.xml.createElement("field")).setAttribute("name","NAME"),n=t.Variables.generateUniqueNameFromOptions(t.Procedures.DEFAULT_ARG,n),n=t.utils.xml.createTextNode(n),y.appendChild(n),f.appendChild(y),s.appendChild(f),e.updateToolbox(s)},t.Procedures.mutatorOpenListener=function(e){if(e.type==t.Events.BUBBLE_OPEN&&"mutator"===e.bubbleType&&e.isOpen){var n=(e=t.Workspace.getById(e.workspaceId).getBlockById(e.blockId)).type;("procedures_defnoreturn"==n||"procedures_defreturn"==n)&&(e=e.mutator.getWorkspace(),t.Procedures.updateMutatorFlyout_(e),e.addChangeListener(t.Procedures.mutatorChangeListener_))}},t.Procedures.mutatorChangeListener_=function(e){(e.type==t.Events.BLOCK_CREATE||e.type==t.Events.BLOCK_DELETE||e.type==t.Events.BLOCK_CHANGE)&&(e=t.Workspace.getById(e.workspaceId),t.Procedures.updateMutatorFlyout_(e))},t.Procedures.getCallers=function(e,n){var s=[];n=n.getAllBlocks(!1);for(var f=0;f<n.length;f++)if(n[f].getProcedureCall){var y=n[f].getProcedureCall();y&&t.Names.equals(y,e)&&s.push(n[f])}return s},t.Procedures.mutateCallers=function(e){var y,n=t.Events.recordUndo,s=e.getProcedureDef()[0],f=e.mutationToDom(!0);for(e=t.Procedures.getCallers(s,e.workspace),s=0;y=e[s];s++){var M=y.mutationToDom();M=M&&t.Xml.domToText(M),y.domToMutation(f);var A=y.mutationToDom();M!=(A=A&&t.Xml.domToText(A))&&(t.Events.recordUndo=!1,t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(y,"mutation",null,M,A)),t.Events.recordUndo=n)}},t.Procedures.getDefinition=function(e,n){n=n.getAllBlocks(!1);for(var s=0;s<n.length;s++)if(n[s].getProcedureDef){var f=n[s].getProcedureDef();if(f&&t.Names.equals(f[0],e))return n[s]}return null},t.ShortcutRegistry=function(){t.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)},t.ShortcutRegistry.modifierKeys={Shift:t.utils.KeyCodes.SHIFT,Control:t.utils.KeyCodes.CTRL,Alt:t.utils.KeyCodes.ALT,Meta:t.utils.KeyCodes.META},t.ShortcutRegistry.prototype.register=function(e,n){if(this.registry_[e.name]&&!n)throw Error('Shortcut with name "'+e.name+'" already exists.');this.registry_[e.name]=e},t.ShortcutRegistry.prototype.unregister=function(e){return this.registry_[e]?(this.removeAllKeyMappings(e),delete this.registry_[e],!0):(console.warn('Keyboard shortcut with name "'+e+'" not found.'),!1)},t.ShortcutRegistry.prototype.addKeyMapping=function(e,n,s){e=String(e);var f=this.keyMap_[e];if(f&&!s)throw Error('Shortcut with name "'+n+'" collides with shortcuts '+f.toString());f&&s?f.unshift(n):this.keyMap_[e]=[n]},t.ShortcutRegistry.prototype.removeKeyMapping=function(e,n,s){var f=this.keyMap_[e];if(!f&&!s)return console.warn('No keyboard shortcut with name "'+n+'" registered with key code "'+e+'"'),!1;var y=f.indexOf(n);return-1<y?(f.splice(y,1),0==f.length&&delete this.keyMap_[e],!0):(s||console.warn('No keyboard shortcut with name "'+n+'" registered with key code "'+e+'"'),!1)},t.ShortcutRegistry.prototype.removeAllKeyMappings=function(e){for(var n in this.keyMap_)this.removeKeyMapping(n,e,!0)},t.ShortcutRegistry.prototype.setKeyMap=function(e){this.keyMap_=e},t.ShortcutRegistry.prototype.getKeyMap=function(){return t.utils.object.deepMerge(Object.create(null),this.keyMap_)},t.ShortcutRegistry.prototype.getRegistry=function(){return t.utils.object.deepMerge(Object.create(null),this.registry_)},t.ShortcutRegistry.prototype.onKeyDown=function(e,n){var s=this.serializeKeyEvent_(n);if(!(s=this.getShortcutNamesByKeyCode(s)))return!1;for(var y,f=0;y=s[f];f++)if((!(y=this.registry_[y]).preconditionFn||y.preconditionFn(e))&&y.callback&&y.callback(e,n,y))return!0;return!1},t.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(e){return this.keyMap_[e]||[]},t.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(e){var s,n=[];for(s in this.keyMap_)-1<this.keyMap_[s].indexOf(e)&&n.push(s);return n},t.ShortcutRegistry.prototype.serializeKeyEvent_=function(e){var s,n="";for(s in t.ShortcutRegistry.modifierKeys)e.getModifierState(s)&&(""!=n&&(n+="+"),n+=s);return""!=n&&e.keyCode?n=n+"+"+e.keyCode:e.keyCode&&(n=e.keyCode.toString()),n},t.ShortcutRegistry.prototype.checkModifiers_=function(e){for(var f,n=t.utils.object.values(t.ShortcutRegistry.modifierKeys),s=0;f=e[s];s++)if(0>n.indexOf(f))throw Error(f+" is not a valid modifier key.")},t.ShortcutRegistry.prototype.createSerializedKey=function(e,n){var s="";if(n)for(var f in this.checkModifiers_(n),t.ShortcutRegistry.modifierKeys)-1<n.indexOf(t.ShortcutRegistry.modifierKeys[f])&&(""!=s&&(s+="+"),s+=f);return""!=s&&e?s=s+"+"+e:e&&(s=e.toString()),s},new t.ShortcutRegistry,t.VariableModel=function(e,n,s,f){this.workspace=e,this.name=n,this.type=s||"",this.id_=f||t.utils.genUid(),t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(this))},t.VariableModel.prototype.getId=function(){return this.id_},t.VariableModel.compareByName=function(e,n){return e.name.localeCompare(n.name,void 0,{sensitivity:"base"})},t.Variables={},t.Variables.NAME_TYPE=t.VARIABLE_CATEGORY_NAME,t.Variables.allUsedVarModels=function(e){var n=e.getAllBlocks(!1);e=Object.create(null);for(var s=0;s<n.length;s++){var f=n[s].getVarModels();if(f)for(var y=0;y<f.length;y++){var M=f[y],A=M.getId();A&&(e[A]=M)}}for(A in n=[],e)n.push(e[A]);return n},t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},t.Variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);for(var f,n=Object.create(null),s=0;f=e[s];s++){var y=f.getDeveloperVariables;if(!y&&f.getDeveloperVars&&(y=f.getDeveloperVars,t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[f.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+f.type+"')"),t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[f.type]=!0)),y)for(f=y(),y=0;y<f.length;y++)n[f[y]]=!0}return Object.keys(n)},t.Variables.flyoutCategory=function(e){var n=[],s=document.createElement("button");return s.setAttribute("text","%{BKY_NEW_VARIABLE}"),s.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(f){t.Variables.createVariableButtonHandler(f.getTargetWorkspace())}),n.push(s),e=t.Variables.flyoutCategoryBlocks(e),n.concat(e)},t.Variables.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getVariablesOfType("")).length){var s=e[e.length-1];if(t.Blocks.variables_set){var f=t.utils.xml.createElement("block");f.setAttribute("type","variables_set"),f.setAttribute("gap",t.Blocks.math_change?8:24),f.appendChild(t.Variables.generateVariableFieldDom(s)),n.push(f)}if(t.Blocks.math_change&&((f=t.utils.xml.createElement("block")).setAttribute("type","math_change"),f.setAttribute("gap",t.Blocks.variables_get?20:8),f.appendChild(t.Variables.generateVariableFieldDom(s)),s=t.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),f.appendChild(s),n.push(f)),t.Blocks.variables_get){e.sort(t.VariableModel.compareByName),s=0;for(var y;y=e[s];s++)(f=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),f.setAttribute("gap",8),f.appendChild(t.Variables.generateVariableFieldDom(y)),n.push(f)}}return n},t.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",t.Variables.generateUniqueName=function(e){return t.Variables.generateUniqueNameFromOptions(t.Variables.VAR_LETTER_OPTIONS.charAt(0),e.getAllVariableNames())},t.Variables.generateUniqueNameFromOptions=function(e,n){if(!n.length)return e;for(var s=t.Variables.VAR_LETTER_OPTIONS,f="",y=s.indexOf(e);;){for(var M=!1,A=0;A<n.length;A++)if(n[A].toLowerCase()==e){M=!0;break}if(!M)return e;++y==s.length&&(y=0,f=Number(f)+1),e=s.charAt(y)+f}},t.Variables.createVariableButtonHandler=function(e,n,s){var f=s||"",y=function(M){t.Variables.promptName(t.Msg.NEW_VARIABLE_TITLE,M,function(A){if(A){var P=t.Variables.nameUsedWithAnyType(A,e);if(P){if(P.type==f)var B=t.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",P.name);else B=(B=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",P.name).replace("%2",P.type);t.alert(B,function(){y(A)})}else e.createVariable(A,f),n&&n(A)}else n&&n(null)})};y("")},t.Variables.createVariable=t.Variables.createVariableButtonHandler,t.Variables.renameVariable=function(e,n,s){var f=function(y){var M=t.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);t.Variables.promptName(M,y,function(A){if(A){var P=t.Variables.nameUsedWithOtherType_(A,n.type,e);P?(P=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",P.name).replace("%2",P.type),t.alert(P,function(){f(A)})):(e.renameVariableById(n.getId(),A),s&&s(A))}else s&&s(null)})};f("")},t.Variables.promptName=function(e,n,s){t.prompt(e,n,function(f){f&&((f=f.replace(/[\s\xa0]+/g," ").trim())==t.Msg.RENAME_VARIABLE||f==t.Msg.NEW_VARIABLE)&&(f=null),s(f)})},t.Variables.nameUsedWithOtherType_=function(e,n,s){s=s.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var y,f=0;y=s[f];f++)if(y.name.toLowerCase()==e&&y.type!=n)return y;return null},t.Variables.nameUsedWithAnyType=function(e,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var f,s=0;f=n[s];s++)if(f.name.toLowerCase()==e)return f;return null},t.Variables.generateVariableFieldDom=function(e){var n=t.utils.xml.createElement("field");return n.setAttribute("name","VAR"),n.setAttribute("id",e.getId()),n.setAttribute("variabletype",e.type),e=t.utils.xml.createTextNode(e.name),n.appendChild(e),n},t.Variables.getOrCreateVariablePackage=function(e,n,s,f){var y=t.Variables.getVariable(e,n,s,f);return y||(y=t.Variables.createVariable_(e,n,s,f)),y},t.Variables.getVariable=function(e,n,s,f){var y=e.getPotentialVariableMap(),M=null;if(n&&(!(M=e.getVariableById(n))&&y&&(M=y.getVariableById(n)),M))return M;if(s){if(null==f)throw Error("Tried to look up a variable by name without a type");!(M=e.getVariable(s,f))&&y&&(M=y.getVariable(s,f))}return M},t.Variables.createVariable_=function(e,n,s,f){var y=e.getPotentialVariableMap();return s||(s=t.Variables.generateUniqueName(e.isFlyout?e.targetWorkspace:e)),y?y.createVariable(s,f,n):e.createVariable(s,f,n)},t.Variables.getAddedVariables=function(e,n){e=e.getAllVariables();var s=[];if(n.length!=e.length)for(var f=0;f<e.length;f++){var y=e[f];-1==n.indexOf(y)&&s.push(y)}return s},t.VERSION="6.20210701.0",t.mainWorkspace=null,t.selected=null,t.draggingConnections=[],t.clipboardXml_=null,t.clipboardSource_=null,t.clipboardTypeCounts_=null,t.cache3dSupported_=null,t.parentContainer=null,t.svgSize=function(e){return t.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new t.utils.Size(e.cachedWidth_,e.cachedHeight_)},t.resizeSvgContents=function(e){e.resizeContents()},t.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var n=e.getParentSvg(),s=e.getCachedParentSvgSize(),f=n.parentNode;if(f){var y=f.offsetWidth;f=f.offsetHeight,s.width!=y&&(n.setAttribute("width",y+"px"),e.setCachedParentSvgSize(y,null)),s.height!=f&&(n.setAttribute("height",f+"px"),e.setCachedParentSvgSize(null,f)),e.resize()}},t.onKeyDown=function(e){var n=t.mainWorkspace;n&&!(t.utils.isTargetInput(e)||n.rendered&&!n.isVisible())&&t.ShortcutRegistry.registry.onKeyDown(n,e)},t.deleteBlock=function(e){e.workspace.isFlyout||(t.Events.setGroup(!0),t.hideChaff(),e.dispose(!e.outputConnection,!0),t.Events.setGroup(!1))},t.copy=function(e){(e=e.toCopyData())&&(t.clipboardXml_=e.xml,t.clipboardSource_=e.source,t.clipboardTypeCounts_=e.typeCounts)},t.paste=function(){if(!t.clipboardXml_)return!1;var e=t.clipboardSource_;return e.isFlyout&&(e=e.targetWorkspace),!(!t.clipboardTypeCounts_||!e.isCapacityAvailable(t.clipboardTypeCounts_)||(t.Events.setGroup(!0),e.paste(t.clipboardXml_),t.Events.setGroup(!1),0))},t.duplicate=function(e){var n=t.clipboardXml_,s=t.clipboardSource_;t.copy(e),e.workspace.paste(t.clipboardXml_),t.clipboardXml_=n,t.clipboardSource_=s},t.onContextMenu_=function(e){t.utils.isTargetInput(e)||e.preventDefault()},t.hideChaff=function(e){t.Tooltip.hide(),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation();var n=!!e;t.getMainWorkspace().getComponentManager().getComponents(t.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach(function(s){s.autoHide(n)})},t.getMainWorkspace=function(){return t.mainWorkspace},t.alert=function(e,n){alert(e),n&&n()},t.confirm=function(e,n){n(confirm(e))},t.prompt=function(e,n,s){s(prompt(e,n))},t.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},t.defineBlocksWithJsonArray=function(e){for(var n=0;n<e.length;n++){var s=e[n];if(s){var f=s.type;null==f||""===f?console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping."):(t.Blocks[f]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+f+'".'),t.Blocks[f]={init:t.jsonInitFactory_(s)})}else console.warn("Block definition #"+n+" in JSON array is "+s+". Skipping.")}},t.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},t.hueToHex=function(e){return t.utils.colour.hsvToHex(e,t.HSV_SATURATION,255*t.HSV_VALUE)},t.checkBlockColourConstants=function(){t.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),t.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),t.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),t.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),t.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),t.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),t.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),t.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),t.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),t.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),t.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),t.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),t.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),t.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),t.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),t.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},t.checkBlockColourConstant_=function(e,n,s){for(var f="Blockly",y=t,M=0;M<n.length;++M)f+="."+n[M],y&&(y=y[n[M]]);y&&y!==s&&(e=(void 0===s?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",f).replace("%2",e),console.warn(e))},t.setParentContainer=function(e){t.parentContainer=e},t.bindEvent_=t.browserEvents.bind,t.unbindEvent_=t.browserEvents.unbind,t.bindEventWithChecks_=t.browserEvents.conditionalBind,t.ALIGN_LEFT=t.constants.ALIGN.LEFT,t.ALIGN_CENTRE=t.constants.ALIGN.CENTRE,t.ALIGN_RIGHT=t.constants.ALIGN.RIGHT,t.INPUT_VALUE=t.connectionTypes.INPUT_VALUE,t.OUTPUT_VALUE=t.connectionTypes.OUTPUT_VALUE,t.NEXT_STATEMENT=t.connectionTypes.NEXT_STATEMENT,t.PREVIOUS_STATEMENT=t.connectionTypes.PREVIOUS_STATEMENT,t.DUMMY_INPUT=t.inputTypes.DUMMY,t.TOOLBOX_AT_TOP=t.utils.toolbox.Position.TOP,t.TOOLBOX_AT_BOTTOM=t.utils.toolbox.Position.BOTTOM,t.TOOLBOX_AT_LEFT=t.utils.toolbox.Position.LEFT,t.TOOLBOX_AT_RIGHT=t.utils.toolbox.Position.RIGHT,t.Events.BubbleOpen=function(e,n,s){t.Events.BubbleOpen.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isOpen=n,this.bubbleType=s},t.utils.object.inherits(t.Events.BubbleOpen,t.Events.UiBase),t.Events.BubbleOpen.prototype.type=t.Events.BUBBLE_OPEN,t.Events.BubbleOpen.prototype.toJson=function(){var e=t.Events.BubbleOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId,e},t.Events.BubbleOpen.prototype.fromJson=function(e){t.Events.BubbleOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.BUBBLE_OPEN,t.Events.BubbleOpen),t.Icon=function(e){this.block_=e,this.iconGroup_=null},t.Icon.prototype.collapseHidden=!0,t.Icon.prototype.SIZE=17,t.Icon.prototype.bubble_=null,t.Icon.prototype.iconXY_=null,t.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),t.browserEvents.conditionalBind(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},t.Icon.prototype.dispose=function(){t.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},t.Icon.prototype.updateEditable=function(){},t.Icon.prototype.isVisible=function(){return!!this.bubble_},t.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||t.utils.isRightButton(e)||this.setVisible(!this.isVisible())},t.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},t.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},t.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),n=t.utils.getRelativeXY(this.iconGroup_);e=new t.utils.Coordinate(e.x+n.x+this.SIZE/2,e.y+n.y+this.SIZE/2),t.utils.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},t.Icon.prototype.getIconLocation=function(){return this.iconXY_},t.Icon.prototype.getCorrectedSize=function(){return new t.utils.Size(t.Icon.prototype.SIZE,t.Icon.prototype.SIZE-2)},t.Warning=function(e){t.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_=Object.create(null)},t.utils.object.inherits(t.Warning,t.Icon),t.Warning.prototype.collapseHidden=!1,t.Warning.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},t.Warning.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"warning")),e?this.createBubble_():this.disposeBubble_())},t.Warning.prototype.createBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.getText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},t.Warning.prototype.setText=function(e,n){this.text_[n]!=e&&(e?this.text_[n]=e:delete this.text_[n],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},t.Warning.prototype.getText=function(){var n,e=[];for(n in this.text_)e.push(this.text_[n]);return e.join("\n")},t.Warning.prototype.dispose=function(){this.block_.warning=null,t.Icon.prototype.dispose.call(this)},t.Comment=function(e){t.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},t.utils.object.inherits(t.Comment,t.Icon),t.Comment.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},t.Comment.prototype.createEditor_=function(){this.foreignObject_=t.utils.dom.createSvgElement(t.utils.Svg.FOREIGNOBJECT,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(t.utils.dom.HTML_NS,"body");e.setAttribute("xmlns",t.utils.dom.HTML_NS),e.className="blocklyMinimalBody";var n=this.textarea_=document.createElementNS(t.utils.dom.HTML_NS,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),n.value=this.model_.text,this.resizeTextarea_(),e.appendChild(n),this.foreignObject_.appendChild(e),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(n,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=t.browserEvents.conditionalBind(n,"wheel",this,function(s){s.stopPropagation()}),this.onChangeWrapper_=t.browserEvents.conditionalBind(n,"change",this,function(s){this.cachedText_!=this.model_.text&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))}),this.onInputWrapper_=t.browserEvents.conditionalBind(n,"input",this,function(s){this.model_.text=n.value}),setTimeout(n.focus.bind(n),0),this.foreignObject_},t.Comment.prototype.updateEditable=function(){t.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},t.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},t.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,n=2*t.Bubble.BORDER_WIDTH,s=e.width-n;e=e.height-n,this.foreignObject_.setAttribute("width",s),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=s-4+"px",this.textarea_.style.height=e-4+"px"},t.Comment.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"comment")),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},t.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||t.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},t.Comment.prototype.createEditableBubble_=function(){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},t.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&(t.browserEvents.unbind(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(t.browserEvents.unbind(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(t.browserEvents.unbind(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(t.browserEvents.unbind(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},t.Comment.prototype.startEdit_=function(e){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},t.Comment.prototype.getBubbleSize=function(){return this.model_.size},t.Comment.prototype.setBubbleSize=function(e,n){this.bubble_?this.bubble_.setBubbleSize(e,n):(this.model_.size.width=e,this.model_.size.height=n)},t.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},t.Comment.prototype.dispose=function(){this.block_.comment=null,t.Icon.prototype.dispose.call(this)},t.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(",")),t.IComponent=function(){},t.IDragTarget=function(){},t.DragTarget=function(){},t.DragTarget.prototype.onDragEnter=function(e){},t.DragTarget.prototype.onDragOver=function(e){},t.DragTarget.prototype.onDragExit=function(e){},t.DragTarget.prototype.onDrop=function(e){},t.DragTarget.prototype.shouldPreventMove=function(e){return!1},t.IDeleteArea=function(){},t.DeleteArea=function(){t.DeleteArea.superClass_.constructor.call(this),this.wouldDelete_=!1},t.utils.object.inherits(t.DeleteArea,t.DragTarget),t.DeleteArea.prototype.wouldDelete=function(e,n){return e instanceof t.BlockSvg?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!n)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_},t.DeleteArea.prototype.updateWouldDelete_=function(e){this.wouldDelete_=e},t.IFlyout=function(){},t.Flyout=function(e){t.Flyout.superClass_.constructor.call(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new t.WorkspaceSvg(e),this.workspace_.setMetricsManager(new t.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=t.utils.genUid(),this.RTL=!!e.RTL,this.horizontalLayout=!1,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},t.utils.object.inherits(t.Flyout,t.DeleteArea),t.Flyout.prototype.autoClose=!0,t.Flyout.prototype.isVisible_=!1,t.Flyout.prototype.containerVisible_=!0,t.Flyout.prototype.CORNER_RADIUS=8,t.Flyout.prototype.MARGIN=t.Flyout.prototype.CORNER_RADIUS,t.Flyout.prototype.GAP_X=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.GAP_Y=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.SCROLLBAR_MARGIN=2.5,t.Flyout.prototype.width_=0,t.Flyout.prototype.height_=0,t.Flyout.prototype.dragAngleRange_=70,t.Flyout.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},t.Flyout.prototype.init=function(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new t.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET]})},t.Flyout.prototype.dispose=function(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),t.browserEvents.unbind(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},t.Flyout.prototype.getWidth=function(){return this.width_},t.Flyout.prototype.getHeight=function(){return this.height_},t.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},t.Flyout.prototype.getWorkspace=function(){return this.workspace_},t.Flyout.prototype.isVisible=function(){return this.isVisible_},t.Flyout.prototype.setVisible=function(e){var n=e!=this.isVisible();this.isVisible_=e,n&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())},t.Flyout.prototype.setContainerVisible=function(e){var n=e!=this.containerVisible_;this.containerVisible_=e,n&&this.updateDisplay_()},t.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.workspace_.scrollbar.setContainerVisible(e)},t.Flyout.prototype.positionAt_=function(e,n,s,f){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",n),this.workspace_.setCachedParentSvgSize(e,n),"svg"==this.svgGroup_.tagName?t.utils.dom.setCssTransform(this.svgGroup_,"translate("+s+"px,"+f+"px)"):this.svgGroup_.setAttribute("transform","translate("+s+","+f+")"),(e=this.workspace_.scrollbar)&&(e.setOrigin(s,f),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))},t.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var n,e=0;n=this.listeners_[e];e++)t.browserEvents.unbind(n);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},t.Flyout.prototype.show=function(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=t.utils.toolbox.convertFlyoutDefToJsonArray(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push(t.browserEvents.conditionalBind(this.svgBackground_,"mouseover",this,function(){for(var f,n=this.workspace_.getTopBlocks(!1),s=0;f=n[s];s++)f.removeSelect()})),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.createFlyoutInfo_=function(e){var n=[],s=[];this.permanentlyDisabled_.length=0;for(var M,f=this.horizontalLayout?this.GAP_X:this.GAP_Y,y=0;M=e[y];y++)switch(M.custom&&(M=this.getDynamicCategoryContents_(M.custom),M=t.utils.toolbox.convertFlyoutDefToJsonArray(M),e.splice.apply(e,[y,1].concat(M)),M=e[y]),M.kind.toUpperCase()){case"BLOCK":var A=M,P=this.getBlockXml_(A);M=this.createBlock_(P),A=parseInt(A.gap||P.getAttribute("gap"),10),s.push(isNaN(A)?f:A),n.push({type:"block",block:M});break;case"SEP":this.addSeparatorGap_(M,s,f);break;case"LABEL":M=this.createButton_(M,!0),n.push({type:"button",button:M}),s.push(f);break;case"BUTTON":M=this.createButton_(M,!1),n.push({type:"button",button:M}),s.push(f)}return{contents:n,gaps:s}},t.Flyout.prototype.getDynamicCategoryContents_=function(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw new TypeError("Result of toolbox category callback must be an array.");return e},t.Flyout.prototype.createButton_=function(e,n){if(!t.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new t.FlyoutButton(this.workspace_,this.targetWorkspace,e,n)},t.Flyout.prototype.createBlock_=function(e){return(e=t.Xml.domToBlock(e,this.workspace_)).isEnabled()||this.permanentlyDisabled_.push(e),e},t.Flyout.prototype.getBlockXml_=function(e){var n=null,s=e.blockxml;if(s&&"string"!=typeof s?n=s:s&&"string"==typeof s?(n=t.Xml.textToDom(s),e.blockxml=n):e.type&&((n=t.utils.xml.createElement("xml")).setAttribute("type",e.type),n.setAttribute("disabled",e.disabled),e.blockxml=n),!n)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return n},t.Flyout.prototype.addSeparatorGap_=function(e,n,s){e=parseInt(e.gap,10),!isNaN(e)&&0<n.length?n[n.length-1]=e:n.push(s)},t.Flyout.prototype.clearOldBlocks_=function(){for(var s,e=this.workspace_.getTopBlocks(!1),n=0;s=e[n];n++)s.workspace==this.workspace_&&s.dispose(!1,!1);for(n=0;n<this.mats_.length;n++)(e=this.mats_[n])&&(t.Tooltip.unbindMouseEvents(e),t.utils.dom.removeNode(e));for(n=this.mats_.length=0;e=this.buttons_[n];n++)e.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},t.Flyout.prototype.addBlockListeners_=function(e,n,s){this.listeners_.push(t.browserEvents.conditionalBind(e,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.browserEvents.conditionalBind(s,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.browserEvents.bind(e,"mouseenter",n,n.addSelect)),this.listeners_.push(t.browserEvents.bind(e,"mouseleave",n,n.removeSelect)),this.listeners_.push(t.browserEvents.bind(s,"mouseenter",n,n.addSelect)),this.listeners_.push(t.browserEvents.bind(s,"mouseleave",n,n.removeSelect))},t.Flyout.prototype.blockMouseDown_=function(e){var n=this;return function(s){var f=n.targetWorkspace.getGesture(s);f&&(f.setStartBlock(e),f.handleFlyoutStart(s,n))}},t.Flyout.prototype.onMouseDown_=function(e){var n=this.targetWorkspace.getGesture(e);n&&n.handleFlyoutStart(e,this)},t.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},t.Flyout.prototype.createBlock=function(e){var n=null;t.Events.disable();var s=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{n=this.placeNewBlock_(e)}finally{t.Events.enable()}if(t.hideChaff(),e=t.Variables.getAddedVariables(this.targetWorkspace,s),t.Events.isEnabled()){for(t.Events.setGroup(!0),s=0;s<e.length;s++){var f=e[s];t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(f))}t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n))}return this.autoClose?this.hide():this.filterForCapacity_(),n},t.Flyout.prototype.initFlyoutButton_=function(e,n,s){var f=e.createDom();e.moveTo(n,s),e.show(),this.listeners_.push(t.browserEvents.conditionalBind(f,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},t.Flyout.prototype.createRect_=function(e,n,s,f,y){return(n=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{"fill-opacity":0,x:n,y:s,height:f.height,width:f.width},null)).tooltip=e,t.Tooltip.bindMouseEvents(n),this.workspace_.getCanvas().insertBefore(n,e.getSvgRoot()),e.flyoutRect_=n,this.mats_[y]=n},t.Flyout.prototype.moveRectToBlock_=function(e,n){var s=n.getHeightWidth();e.setAttribute("width",s.width),e.setAttribute("height",s.height),n=n.getRelativeToSurfaceXY(),e.setAttribute("y",n.y),e.setAttribute("x",this.RTL?n.x-s.width:n.x)},t.Flyout.prototype.filterForCapacity_=function(){for(var s,e=this.workspace_.getTopBlocks(!1),n=0;s=e[n];n++)if(-1==this.permanentlyDisabled_.indexOf(s))for(var f=this.targetWorkspace.isCapacityAvailable(t.utils.getBlockTypeCounts(s));s;)s.setEnabled(f),s=s.getNextBlock()},t.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},t.Flyout.prototype.placeNewBlock_=function(e){var n=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");var s=t.Xml.blockToDom(e,!0);if(n.setResizesEnabled(!1),!(s=t.Xml.domToBlock(s,n)).getSvgRoot())throw Error("block is not rendered.");var f=n.getOriginOffsetInPixels(),y=this.workspace_.getOriginOffsetInPixels();return(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),e=t.utils.Coordinate.sum(y,e),(f=t.utils.Coordinate.difference(e,f)).scale(1/n.scale),s.moveBy(f.x,f.y),s},t.HorizontalFlyout=function(e){t.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout=!0},t.utils.object.inherits(t.HorizontalFlyout,t.Flyout),t.HorizontalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var n=this.workspace_.getMetricsManager(),s=n.getScrollMetrics(),f=n.getViewMetrics();n=n.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(s.left+(s.width-f.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+n.left,this.workspace_.scrollY+n.top)}},t.HorizontalFlyout.prototype.getX=function(){return 0},t.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),n=e.getAbsoluteMetrics(),s=e.getViewMetrics();e=e.getToolboxMetrics();var f=this.toolboxPosition_==t.utils.toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?f?e.height:s.height-this.height_:f?0:s.height:f?0:s.height+n.top-this.height_},t.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var n=this.getY();this.positionAt_(this.width_,this.height_,e,n)}},t.HorizontalFlyout.prototype.setBackgroundPath_=function(e,n){var s=this.toolboxPosition_==t.utils.toolbox.Position.TOP,f=["M 0,"+(s?0:this.CORNER_RADIUS)];s?(f.push("h",e+2*this.CORNER_RADIUS),f.push("v",n),f.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),f.push("h",-e),f.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(f.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),f.push("h",e),f.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),f.push("v",n),f.push("h",-e-2*this.CORNER_RADIUS)),f.push("z"),this.svgBackground_.setAttribute("d",f.join(" "))},t.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},t.HorizontalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n=n.x||n.y){var s=this.workspace_.getMetricsManager(),f=s.getScrollMetrics();n=s.getViewMetrics().left-f.left+n,this.workspace_.scrollbar.setX(n),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.HorizontalFlyout.prototype.layout_=function(e,n){this.workspace_.scale=this.targetWorkspace.scale;var s=this.MARGIN,f=s+this.tabWidth_;this.RTL&&(e=e.reverse());for(var M,y=0;M=e[y];y++)if("block"==M.type){for(var B,A=(M=M.block).getDescendants(!1),P=0;B=A[P];P++)B.isInFlyout=!0;M.render(),A=M.getSvgRoot(),P=M.getHeightWidth(),B=M.outputConnection?this.tabWidth_:0,M.moveBy(B=this.RTL?f+P.width:f-B,s),B=this.createRect_(M,B,s,P,y),f+=P.width+n[y],this.addBlockListeners_(A,M,B)}else"button"==M.type&&(this.initFlyoutButton_(M.button,f,s),f+=M.button.width+n[y])},t.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var n=this.dragAngleRange_;return e<90+n&&e>90-n||e>-90-n&&e<-90+n},t.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top;return this.toolboxPosition_==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e9,n+e.height,-1e9,1e9):new t.utils.Rect(n,1e9,-1e9,1e9)},t.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var f,e=0,n=this.workspace_.getTopBlocks(!1),s=0;f=n[s];s++)e=Math.max(e,f.getHeightWidth().height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,this.height_!=(e+=t.Scrollbar.scrollbarThickness)){for(s=0;f=n[s];s++)f.flyoutRect_&&this.moveRectToBlock_(f.flyoutRect_,f);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.recordDragTargets()}},t.registry.register(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,t.registry.DEFAULT,t.HorizontalFlyout),t.VerticalFlyout=function(e){t.VerticalFlyout.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.VerticalFlyout,t.Flyout),t.VerticalFlyout.registryName="verticalFlyout",t.VerticalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var n=this.workspace_.getMetricsManager(),s=n.getScrollMetrics(),f=n.getViewMetrics();n=n.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(s.top+(s.height-f.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+n.left,this.workspace_.scrollY+n.top)}},t.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),n=e.getAbsoluteMetrics(),s=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_==t.utils.toolbox.Position.LEFT?e.width:s.width-this.width_:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:s.width:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:s.width+n.left-this.width_},t.VerticalFlyout.prototype.getY=function(){return 0},t.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var n=this.getY();this.positionAt_(this.width_,this.height_,e,n)}},t.VerticalFlyout.prototype.setBackgroundPath_=function(e,n){var s=this.toolboxPosition_==t.utils.toolbox.Position.RIGHT,f=e+this.CORNER_RADIUS;(f=["M "+(s?f:0)+",0"]).push("h",s?-e:e),f.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,s?0:1,s?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),f.push("v",Math.max(0,n)),f.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,s?0:1,s?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),f.push("h",s?e:-e),f.push("z"),this.svgBackground_.setAttribute("d",f.join(" "))},t.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},t.VerticalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n.y){var s=this.workspace_.getMetricsManager(),f=s.getScrollMetrics();n=s.getViewMetrics().top-f.top+n.y,this.workspace_.scrollbar.setY(n),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.VerticalFlyout.prototype.layout_=function(e,n){this.workspace_.scale=this.targetWorkspace.scale;for(var M,s=this.MARGIN,f=this.RTL?s:s+this.tabWidth_,y=0;M=e[y];y++)if("block"==M.type){for(var B,A=(M=M.block).getDescendants(!1),P=0;B=A[P];P++)B.isInFlyout=!0;M.render(),A=M.getSvgRoot(),P=M.getHeightWidth(),M.moveBy(B=M.outputConnection?f-this.tabWidth_:f,s),B=this.createRect_(M,this.RTL?B-P.width:B,s,P,y),this.addBlockListeners_(A,M,B),s+=P.height+n[y]}else"button"==M.type&&(this.initFlyoutButton_(M.button,f,s),s+=M.button.height+n[y])},t.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var n=this.dragAngleRange_;return e<n&&e>-n||e<-180+n||e>180-n},t.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.left;return this.toolboxPosition_==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e9,1e9,-1e9,n+e.width):new t.utils.Rect(-1e9,1e9,n,1e9)},t.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var f,e=0,n=this.workspace_.getTopBlocks(!1),s=0;f=n[s];s++){var y=f.getHeightWidth().width;f.outputConnection&&(y-=this.tabWidth_),e=Math.max(e,y)}for(s=0;f=this.buttons_[s];s++)e=Math.max(e,f.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,this.width_!=(e+=t.Scrollbar.scrollbarThickness)){for(s=0;f=n[s];s++){if(this.RTL){y=f.getRelativeToSurfaceXY().x;var M=e/this.workspace_.scale-this.MARGIN;f.outputConnection||(M-=this.tabWidth_),f.moveBy(M-y,0)}f.flyoutRect_&&this.moveRectToBlock_(f.flyoutRect_,f)}if(this.RTL)for(s=0;f=this.buttons_[s];s++)n=f.getPosition().y,f.moveTo(e/this.workspace_.scale-f.width-this.MARGIN-this.tabWidth_,n);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.recordDragTargets()}},t.registry.register(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,t.registry.DEFAULT,t.VerticalFlyout),t.FlyoutButton=function(e,n,s,f){this.workspace_=e,this.targetWorkspace_=n,this.text_=s.text,this.position_=new t.utils.Coordinate(0,0),this.isLabel_=f,this.callbackKey_=s.callbackKey||s.callbackkey,this.cssClass_=s["web-class"]||null,this.onMouseUpWrapper_=null,this.info=s},t.FlyoutButton.MARGIN_X=5,t.FlyoutButton.MARGIN_Y=2,t.FlyoutButton.prototype.width=0,t.FlyoutButton.prototype.height=0,t.FlyoutButton.prototype.createDom=function(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},this.workspace_.getCanvas()),!this.isLabel_)var n=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);e=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var s=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),f=t.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(f+="\u200f"),s.textContent=f,this.isLabel_&&(this.svgText_=s,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var y=t.utils.style.getComputedStyle(s,"fontSize"),M=t.utils.style.getComputedStyle(s,"fontWeight"),A=t.utils.style.getComputedStyle(s,"fontFamily");return this.width=t.utils.dom.getFastTextWidthWithSizeString(s,y,M,A),f=t.utils.dom.measureFontMetrics(f,y,M,A),this.height=f.height,this.isLabel_||(this.width+=2*t.FlyoutButton.MARGIN_X,this.height+=2*t.FlyoutButton.MARGIN_Y,n.setAttribute("width",this.width),n.setAttribute("height",this.height)),e.setAttribute("width",this.width),e.setAttribute("height",this.height),s.setAttribute("x",this.width/2),s.setAttribute("y",this.height/2-f.height/2+f.baseline),this.updateTransform_(),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},t.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},t.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},t.FlyoutButton.prototype.moveTo=function(e,n){this.position_.x=e,this.position_.y=n,this.updateTransform_()},t.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},t.FlyoutButton.prototype.getPosition=function(){return this.position_},t.FlyoutButton.prototype.getButtonText=function(){return this.text_},t.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},t.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&t.browserEvents.unbind(this.onMouseUpWrapper_),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},t.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},t.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(",")),t.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},t.Generator.prototype.INFINITE_LOOP_TRAP=null,t.Generator.prototype.STATEMENT_PREFIX=null,t.Generator.prototype.STATEMENT_SUFFIX=null,t.Generator.prototype.INDENT="  ",t.Generator.prototype.COMMENT_WRAP=60,t.Generator.prototype.ORDER_OVERRIDES=[],t.Generator.prototype.isInitialized=null,t.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=t.getMainWorkspace());var n=[];this.init(e),e=e.getTopBlocks(!0);for(var f,s=0;f=e[s];s++){var y=this.blockToCode(f);Array.isArray(y)&&(y=y[0]),y&&(f.outputConnection&&(y=this.scrubNakedValue(y),this.STATEMENT_PREFIX&&!f.suppressPrefixSuffix&&(y=this.injectId(this.STATEMENT_PREFIX,f)+y),this.STATEMENT_SUFFIX&&!f.suppressPrefixSuffix&&(y+=this.injectId(this.STATEMENT_SUFFIX,f))),n.push(y))}return n=n.join("\n"),(n=(n=(n=this.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},t.Generator.prototype.prefixLines=function(e,n){return n+e.replace(/(?!\n$)\n/g,"\n"+n)},t.Generator.prototype.allNestedComments=function(e){var n=[];e=e.getDescendants(!0);for(var s=0;s<e.length;s++){var f=e[s].getCommentText();f&&n.push(f)}return n.length&&n.push(""),n.join("\n")},t.Generator.prototype.blockToCode=function(e,n){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return n?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return n?"":this.blockToCode(e.getChildren(!1)[0]);var s=this[e.type];if("function"!=typeof s)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(s=s.call(e,e),Array.isArray(s)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,s[0],n),s[1]]}if("string"==typeof s)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(s=this.injectId(this.STATEMENT_PREFIX,e)+s),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(s+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,s,n);if(null===s)return"";throw SyntaxError("Invalid code generated: "+s)},t.Generator.prototype.valueToCode=function(e,n,s){if(isNaN(s))throw TypeError("Expecting valid order from block: "+e.type);var f=e.getInputTargetBlock(n);if(!f||""===(n=this.blockToCode(f)))return"";if(!Array.isArray(n))throw TypeError("Expecting tuple from value block: "+f.type);if(e=n[0],n=n[1],isNaN(n))throw TypeError("Expecting valid order from value block: "+f.type);if(!e)return"";f=!1;var y=Math.floor(s),M=Math.floor(n);if(y<=M&&(y!=M||0!=y&&99!=y))for(f=!0,y=0;y<this.ORDER_OVERRIDES.length;y++)if(this.ORDER_OVERRIDES[y][0]==s&&this.ORDER_OVERRIDES[y][1]==n){f=!1;break}return f&&(e="("+e+")"),e},t.Generator.prototype.statementToCode=function(e,n){if(e=e.getInputTargetBlock(n),"string"!=typeof(n=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return n&&(n=this.prefixLines(n,this.INDENT)),n},t.Generator.prototype.addLoopTrap=function(e,n){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,n),this.INDENT)+e),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,n),this.INDENT)+e),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,n),this.INDENT)),e},t.Generator.prototype.injectId=function(e,n){return n=n.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+n+"'")},t.Generator.prototype.RESERVED_WORDS_="",t.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},t.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Object.defineProperty(t.Generator.prototype,"variableDB_",{get:function(){return t.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_},set:function(e){t.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_=e}}),t.Generator.prototype.provideFunction_=function(e,n){if(!this.definitions_[e]){var f,s=this.nameDB_.getDistinctName(e,t.PROCEDURE_CATEGORY_NAME);for(this.functionNames_[e]=s,n=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,s);f!=n;)f=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[e]=n}return this.functionNames_[e]},t.Generator.prototype.init=function(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)},t.Generator.prototype.scrub_=function(e,n,s){return n},t.Generator.prototype.finish=function(e){return delete this.definitions_,delete this.functionNames_,e},t.Generator.prototype.scrubNakedValue=function(e){return e},t.IToolboxItem=function(){},t.ISelectableToolboxItem=function(){},t.ICollapsibleToolboxItem=function(){},t.ToolboxItem=function(e,n,s){this.id_=e.toolboxitemid||t.utils.IdGenerator.getNextUniqueId(),this.level_=(this.parent_=s||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=n,this.workspace_=this.parentToolbox_.getWorkspace()},t.ToolboxItem.prototype.init=function(){},t.ToolboxItem.prototype.getDiv=function(){return null},t.ToolboxItem.prototype.getId=function(){return this.id_},t.ToolboxItem.prototype.getParent=function(){return null},t.ToolboxItem.prototype.getLevel=function(){return this.level_},t.ToolboxItem.prototype.isSelectable=function(){return!1},t.ToolboxItem.prototype.isCollapsible=function(){return!1},t.ToolboxItem.prototype.dispose=function(){},t.ToolboxCategory=function(e,n,s){t.ToolboxCategory.superClass_.constructor.call(this,e,n,s),this.name_=t.utils.replaceMessageReferences(e.name),this.colour_=this.getColour_(e),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(e)},t.utils.object.inherits(t.ToolboxCategory,t.ToolboxItem),t.ToolboxCategory.registrationName="category",t.ToolboxCategory.nestedPadding=19,t.ToolboxCategory.borderWidth=8,t.ToolboxCategory.defaultBackgroundColour="#57e",t.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},t.ToolboxCategory.prototype.parseContents_=function(e){var n=e.contents;if(e.custom)this.flyoutItems_=e.custom;else if(n){e=0;for(var s;s=n[e];e++)this.flyoutItems_.push(s)}},t.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"==this.toolboxItemDef_.hidden&&this.hide()},t.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),t.utils.aria.setRole(this.htmlDiv_,t.utils.aria.Role.TREEITEM),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,!1),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),t.utils.aria.setRole(this.iconDom_,t.utils.aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},t.ToolboxCategory.prototype.createContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),e},t.ToolboxCategory.prototype.createRowContainer_=function(){var e=document.createElement("div");t.utils.dom.addClass(e,this.cssConfig_.row);var n=t.ToolboxCategory.nestedPadding*this.getLevel();return n=n.toString()+"px",this.workspace_.RTL?e.style.paddingRight=n:e.style.paddingLeft=n,e},t.ToolboxCategory.prototype.createRowContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.rowcontentcontainer),e},t.ToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.display="inline-block",e},t.ToolboxCategory.prototype.createLabelDom_=function(e){var n=document.createElement("span");return n.setAttribute("id",this.getId()+".label"),n.textContent=e,t.utils.dom.addClass(n,this.cssConfig_.label),n},t.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},t.ToolboxCategory.prototype.addColourBorder_=function(e){e&&(e=t.ToolboxCategory.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)},t.ToolboxCategory.prototype.getColour_=function(e){var n=e.categorystyle||e.categoryStyle;return(e=e.colour)&&n?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):n?this.getColourfromStyle_(n):this.parseColour_(e)},t.ToolboxCategory.prototype.getColourfromStyle_=function(e){var n=this.workspace_.getTheme();if(e&&n){if((n=n.categoryStyles[e])&&n.colour)return this.parseColour_(n.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""},t.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},t.ToolboxCategory.prototype.parseColour_=function(e){if(null==(e=t.utils.replaceMessageReferences(e))||""===e)return"";var n=Number(e);return isNaN(n)?(n=t.utils.colour.parse(e))?n:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):t.hueToHex(n)},t.ToolboxCategory.prototype.openIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.closedicon),t.utils.dom.addClass(e,this.cssConfig_.openicon))},t.ToolboxCategory.prototype.closeIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.openicon),t.utils.dom.addClass(e,this.cssConfig_.closedicon))},t.ToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},t.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},t.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},t.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var e=this;e.getParent();)if(!(e=e.getParent()).isExpanded())return!1;return!0},t.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},t.ToolboxCategory.prototype.onClick=function(e){},t.ToolboxCategory.prototype.setSelected=function(e){if(e){var n=this.parseColour_(t.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||n,t.utils.dom.addClass(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",t.utils.dom.removeClass(this.rowDiv_,this.cssConfig_.selected);t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,e)},t.ToolboxCategory.prototype.setDisabled=function(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",e),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},t.ToolboxCategory.prototype.getName=function(){return this.name_},t.ToolboxCategory.prototype.getParent=function(){return this.parent_},t.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},t.ToolboxCategory.prototype.updateFlyoutContents=function(e){this.flyoutItems_=[],"string"==typeof e?this.toolboxItemDef_.custom=e:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=t.utils.toolbox.convertFlyoutDefToJsonArray(e)),this.parseContents_(this.toolboxItemDef_)},t.ToolboxCategory.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxCategory.registrationName,t.ToolboxCategory),t.ToolboxSeparator=function(e,n){t.ToolboxSeparator.superClass_.constructor.call(this,e,n),this.cssConfig_={container:"blocklyTreeSeparator"},t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig)},t.utils.object.inherits(t.ToolboxSeparator,t.ToolboxItem),t.ToolboxSeparator.registrationName="sep",t.ToolboxSeparator.prototype.init=function(){this.createDom_()},t.ToolboxSeparator.prototype.createDom_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),this.htmlDiv_=e},t.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxSeparator.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(",")),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxSeparator.registrationName,t.ToolboxSeparator),t.CollapsibleToolboxCategory=function(e,n,s){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],t.CollapsibleToolboxCategory.superClass_.constructor.call(this,e,n,s)},t.utils.object.inherits(t.CollapsibleToolboxCategory,t.ToolboxCategory),t.CollapsibleToolboxCategory.registrationName="collapsibleCategory",t.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var e=t.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return e.contents="blocklyToolboxContents",e},t.CollapsibleToolboxCategory.prototype.parseContents_=function(e){var n=e.contents,s=!0;if(e.custom)this.flyoutItems_=e.custom;else if(n){e=0;for(var f;f=n[e];e++)!t.registry.hasItem(t.registry.Type.TOOLBOX_ITEM,f.kind)||f.kind.toLowerCase()==t.ToolboxSeparator.registrationName&&s?(this.flyoutItems_.push(f),s=!0):(this.createToolboxItem_(f),s=!1)}},t.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(e){var n=e.kind;"CATEGORY"==n.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(n=t.CollapsibleToolboxCategory.registrationName),e=new(t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,n))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)},t.CollapsibleToolboxCategory.prototype.init=function(){t.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"==this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},t.CollapsibleToolboxCategory.prototype.createDom_=function(){t.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),t.utils.aria.setRole(this.subcategoriesDiv_,t.utils.aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||(t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.visibility="visible"),e.style.display="inline-block",e},t.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(e){var n=document.createElement("div");t.utils.dom.addClass(n,this.cssConfig_.contents);for(var s=0;s<e.length;s++){var f=e[s];f.init();var y=f.getDiv();n.appendChild(y),f.getClickTarget&&f.getClickTarget().setAttribute("id",f.getId())}return n},t.CollapsibleToolboxCategory.prototype.setExpanded=function(e){this.expanded_!=e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())},t.CollapsibleToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none";for(var s,n=0;s=this.getChildToolboxItems()[n];n++)s.setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},t.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},t.CollapsibleToolboxCategory.prototype.onClick=function(e){this.toggleExpanded()},t.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},t.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.CollapsibleToolboxCategory.registrationName,t.CollapsibleToolboxCategory),t.Events.ToolboxItemSelect=function(e,n,s){t.Events.ToolboxItemSelect.superClass_.constructor.call(this,s),this.oldItem=e,this.newItem=n},t.utils.object.inherits(t.Events.ToolboxItemSelect,t.Events.UiBase),t.Events.ToolboxItemSelect.prototype.type=t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect.prototype.toJson=function(){var e=t.Events.ToolboxItemSelect.superClass_.toJson.call(this);return e.oldItem=this.oldItem,e.newItem=this.newItem,e},t.Events.ToolboxItemSelect.prototype.fromJson=function(e){t.Events.ToolboxItemSelect.superClass_.fromJson.call(this,e),this.oldItem=e.oldItem,this.newItem=e.newItem},t.registry.register(t.registry.Type.EVENT,t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect),t.IAutoHideable=function(){},t.IStyleable=function(){},t.IToolbox=function(){},t.Toolbox=function(e){t.Toolbox.superClass_.constructor.call(this),this.workspace_=e,this.id="toolbox",this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.RTL=e.options.RTL,this.flyout_=null,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]},t.utils.object.inherits(t.Toolbox,t.DeleteArea),t.Toolbox.prototype.onShortcut=function(e){return!1},t.Toolbox.prototype.init=function(){var e=this.workspace_,n=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),t.utils.dom.insertAfter(this.flyout_.createDom("svg"),n),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.AUTOHIDEABLE,t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET]})},t.Toolbox.prototype.createDom_=function(e){e=e.getParentSvg();var n=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,t.utils.aria.setRole(this.contentsDiv_,t.utils.aria.Role.TREE),n.appendChild(this.contentsDiv_),e.parentNode.insertBefore(n,e),this.attachEvents_(n,this.contentsDiv_),n},t.Toolbox.prototype.createContainer_=function(){var e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),t.utils.dom.addClass(e,"blocklyToolboxDiv"),t.utils.dom.addClass(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e},t.Toolbox.prototype.createContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e},t.Toolbox.prototype.attachEvents_=function(e,n){e=t.browserEvents.conditionalBind(e,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(e),n=t.browserEvents.conditionalBind(n,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(n)},t.Toolbox.prototype.onClick_=function(e){if(t.utils.isRightButton(e)||e.target==this.HtmlDiv)t.hideChaff(!1);else{var n=e.target.getAttribute("id");n&&(n=this.getToolboxItemById(n)).isSelectable()&&(this.setSelectedItem(n),n.onClick(e)),t.hideChaff(!0)}t.Touch.clearTouchIdentifier()},t.Toolbox.prototype.onKeyDown_=function(e){var n=!1;switch(e.keyCode){case t.utils.KeyCodes.DOWN:n=this.selectNext_();break;case t.utils.KeyCodes.UP:n=this.selectPrevious_();break;case t.utils.KeyCodes.LEFT:n=this.selectParent_();break;case t.utils.KeyCodes.RIGHT:n=this.selectChild_();break;case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),n=!0);break;default:n=!1}!n&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(n=this.selectedItem_.onKeyDown(e)),n&&e.preventDefault()},t.Toolbox.prototype.createFlyout_=function(){var e=this.workspace_,n=new t.Options({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=e.options.toolboxPosition,new(t.registry.getClassFromOptions(e.horizontalLayout?t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX:t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(n)},t.Toolbox.prototype.render=function(e){this.toolboxDef_=e;for(var n=0;n<this.contents_.length;n++){var s=this.contents_[n];s&&s.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()},t.Toolbox.prototype.renderContents_=function(e){for(var f,n=document.createDocumentFragment(),s=0;f=e[s];s++)this.createToolboxItem_(f,n);this.contentsDiv_.appendChild(n)},t.Toolbox.prototype.createToolboxItem_=function(e,n){var s=e.kind;"CATEGORY"==s.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(s=t.CollapsibleToolboxCategory.registrationName),(s=t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,s.toLowerCase()))&&(e=new s(e,this),this.addToolboxItem_(e),e.init(),(s=e.getDiv())&&n.appendChild(s),e.getClickTarget&&e.getClickTarget().setAttribute("id",e.getId()))},t.Toolbox.prototype.addToolboxItem_=function(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible())for(var s,n=0;s=e.getChildToolboxItems()[n];n++)this.addToolboxItem_(s)},t.Toolbox.prototype.getToolboxItems=function(){return this.contents_},t.Toolbox.prototype.addStyle=function(e){t.utils.dom.addClass(this.HtmlDiv,e)},t.Toolbox.prototype.removeStyle=function(e){t.utils.dom.removeClass(this.HtmlDiv,e)},t.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect(),n=e.top,s=n+e.height,f=e.left;return e=f+e.width,this.toolboxPosition==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e7,s,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.BOTTOM?new t.utils.Rect(n,1e7,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e7,1e7,-1e7,e):new t.utils.Rect(-1e7,1e7,f,1e7)},t.Toolbox.prototype.wouldDelete=function(e,n){return this.updateWouldDelete_(e instanceof t.BlockSvg?!e.getParent()&&e.isDeletable():e.isDeletable()),this.wouldDelete_},t.Toolbox.prototype.onDragEnter=function(e){this.updateCursorDeleteStyle_(!0)},t.Toolbox.prototype.onDragExit=function(e){this.updateCursorDeleteStyle_(!1)},t.Toolbox.prototype.onDrop=function(e){this.updateCursorDeleteStyle_(!1)},t.Toolbox.prototype.updateWouldDelete_=function(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))},t.Toolbox.prototype.updateCursorDeleteStyle_=function(e){var n=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(n):this.removeStyle(n)},t.Toolbox.prototype.getToolboxItemById=function(e){return this.contentMap_[e]||null},t.Toolbox.prototype.getWidth=function(){return this.width_},t.Toolbox.prototype.getHeight=function(){return this.height_},t.Toolbox.prototype.getFlyout=function(){return this.flyout_},t.Toolbox.prototype.getWorkspace=function(){return this.workspace_},t.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},t.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},t.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},t.Toolbox.prototype.position=function(){var e=this.workspace_.getMetrics(),n=this.HtmlDiv;n&&(this.horizontalLayout_?(n.style.left="0",n.style.height="auto",n.style.width="100%",this.height_=n.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition==t.utils.toolbox.Position.TOP?n.style.top="0":n.style.bottom="0"):(this.toolboxPosition==t.utils.toolbox.Position.RIGHT?n.style.right="0":n.style.left="0",n.style.height="100%",this.width_=n.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())},t.Toolbox.prototype.handleToolboxItemResize=function(){var e=this.workspace_,n=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition==t.utils.toolbox.Position.LEFT?e.scrollX+n.width:e.scrollX,this.toolboxPosition==t.utils.toolbox.Position.TOP?e.scrollY+n.height:e.scrollY),t.svgResize(e)},t.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},t.Toolbox.prototype.refreshTheme=function(){for(var e=0;e<this.contents_.length;e++){var n=this.contents_[e];n.refreshTheme&&n.refreshTheme()}},t.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},t.Toolbox.prototype.setVisible=function(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())},t.Toolbox.prototype.autoHide=function(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()},t.Toolbox.prototype.setSelectedItem=function(e){var n=this.selectedItem_;!e&&!n||e&&!e.isSelectable()||(this.shouldDeselectItem_(n,e)&&null!=n&&this.deselectItem_(n),this.shouldSelectItem_(n,e)&&null!=e&&this.selectItem_(n,e),this.updateFlyout_(n,e),this.fireSelectEvent_(n,e))},t.Toolbox.prototype.shouldDeselectItem_=function(e,n){return null!=e&&(!e.isCollapsible()||e!=n)},t.Toolbox.prototype.shouldSelectItem_=function(e,n){return null!=n&&n!=e},t.Toolbox.prototype.deselectItem_=function(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,"")},t.Toolbox.prototype.selectItem_=function(e,n){this.selectedItem_=n,this.previouslySelectedItem_=e,n.setSelected(!0),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,n.getId())},t.Toolbox.prototype.selectItemByPosition=function(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)},t.Toolbox.prototype.updateFlyout_=function(e,n){(e!=n||n.isCollapsible())&&n&&n.getContents().length?(this.flyout_.show(n.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},t.Toolbox.prototype.fireSelectEvent_=function(e,n){var s=e&&e.getName(),f=n&&n.getName();e==n&&(f=null),e=new(t.Events.get(t.Events.TOOLBOX_ITEM_SELECT))(s,f,this.workspace_.id),t.Events.fire(e)},t.Toolbox.prototype.selectParent_=function(){return!(!this.selectedItem_||(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),0):!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable()||(this.setSelectedItem(this.selectedItem_.getParent()),0)))},t.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.setExpanded(!0),!0},t.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){for(var n=this.contents_[e];n&&!n.isSelectable();)n=this.contents_[++e];if(n&&n.isSelectable())return this.setSelectedItem(n),!0}return!1},t.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){for(var n=this.contents_[e];n&&!n.isSelectable();)n=this.contents_[--e];if(n&&n.isSelectable())return this.setSelectedItem(n),!0}return!1},t.Toolbox.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)t.browserEvents.unbind(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),t.utils.dom.removeNode(this.HtmlDiv)},t.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;","}",".blocklyToolboxContents:focus {","outline: none;","}"]),t.registry.register(t.registry.Type.TOOLBOX,t.registry.DEFAULT,t.Toolbox),t.Events.TrashcanOpen=function(e,n){t.Events.TrashcanOpen.superClass_.constructor.call(this,n),this.isOpen=e},t.utils.object.inherits(t.Events.TrashcanOpen,t.Events.UiBase),t.Events.TrashcanOpen.prototype.type=t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen.prototype.toJson=function(){var e=t.Events.TrashcanOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e},t.Events.TrashcanOpen.prototype.fromJson=function(e){t.Events.TrashcanOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen},t.registry.register(t.registry.Type.EVENT,t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen),t.IPositionable=function(){},t.uiPosition={},t.uiPosition.verticalPosition={TOP:0,BOTTOM:1},t.uiPosition.horizontalPosition={LEFT:0,RIGHT:1},t.uiPosition.bumpDirection={UP:0,DOWN:1},t.uiPosition.getStartPositionRect=function(e,n,s,f,y,M){var A=M.scrollbar&&M.scrollbar.canScrollVertically();return e.horizontal===t.uiPosition.horizontalPosition.LEFT?(s=y.absoluteMetrics.left+s,A&&M.RTL&&(s+=t.Scrollbar.scrollbarThickness)):(s=y.absoluteMetrics.left+y.viewMetrics.width-n.width-s,A&&!M.RTL&&(s-=t.Scrollbar.scrollbarThickness)),e.vertical===t.uiPosition.verticalPosition.TOP?e=y.absoluteMetrics.top+f:(e=y.absoluteMetrics.top+y.viewMetrics.height-n.height-f,M.scrollbar&&M.scrollbar.canScrollHorizontally()&&(e-=t.Scrollbar.scrollbarThickness)),new t.utils.Rect(e,e+n.height,s,s+n.width)},t.uiPosition.getCornerOppositeToolbox=function(e,n){return{horizontal:n.toolboxMetrics.position===t.utils.toolbox.Position.LEFT||e.horizontalLayout&&!e.RTL?t.uiPosition.horizontalPosition.RIGHT:t.uiPosition.horizontalPosition.LEFT,vertical:n.toolboxMetrics.position===t.utils.toolbox.Position.BOTTOM?t.uiPosition.verticalPosition.TOP:t.uiPosition.verticalPosition.BOTTOM}},t.uiPosition.bumpPositionRect=function(e,n,s,f){for(var B,y=e.left,M=e.right-e.left,A=e.bottom-e.top,P=0;B=f[P];P++)e.intersects(B)&&(e=new t.utils.Rect(e=s===t.uiPosition.bumpDirection.UP?B.top-A-n:B.bottom+n,e+A,y,y+M),P=-1);return e},t.Trashcan=function(e){t.Trashcan.superClass_.constructor.call(this),this.workspace_=e,this.id="trashcan",this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(e=new t.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.TOP?t.utils.toolbox.Position.BOTTOM:t.utils.toolbox.Position.TOP,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(e)):(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT?t.utils.toolbox.Position.LEFT:t.utils.toolbox.Position.RIGHT,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(e)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))},t.utils.object.inherits(t.Trashcan,t.DeleteArea),t.Trashcan.prototype.WIDTH_=47,t.Trashcan.prototype.BODY_HEIGHT_=44,t.Trashcan.prototype.LID_HEIGHT_=16,t.Trashcan.prototype.MARGIN_VERTICAL_=20,t.Trashcan.prototype.MARGIN_HORIZONTAL_=20,t.Trashcan.prototype.MARGIN_HOTSPOT_=10,t.Trashcan.prototype.SPRITE_LEFT_=0,t.Trashcan.prototype.SPRITE_TOP_=32,t.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,t.Trashcan.ANIMATION_LENGTH_=80,t.Trashcan.ANIMATION_FRAMES_=4,t.Trashcan.OPACITY_MIN_=.4,t.Trashcan.OPACITY_MAX_=.8,t.Trashcan.MAX_LID_ANGLE_=45,t.Trashcan.prototype.isLidOpen=!1,t.Trashcan.prototype.minOpenness_=0,t.Trashcan.prototype.svgGroup_=null,t.Trashcan.prototype.svgLid_=null,t.Trashcan.prototype.lidTask_=0,t.Trashcan.prototype.lidOpen_=0,t.Trashcan.prototype.left_=0,t.Trashcan.prototype.top_=0,t.Trashcan.prototype.initialized_=!1,t.Trashcan.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyTrash"},null);var e=String(Math.random()).substring(2),n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},n);var s=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_);return s.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.LID_HEIGHT_},n),this.svgLid_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),t.browserEvents.bind(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),t.browserEvents.bind(this.svgGroup_,"mouseup",this,this.click),t.browserEvents.bind(s,"mouseover",this,this.mouseOver_),t.browserEvents.bind(s,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},t.Trashcan.prototype.init=function(){0<this.workspace_.options.maxTrashcanContents&&(t.utils.dom.insertAfter(this.flyout.createDom(t.utils.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.AUTOHIDEABLE,t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET,t.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)},t.Trashcan.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},t.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},t.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},t.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){var e=this.contents_.map(t.Xml.textToDom);this.flyout.show(e),this.fireUiEvent_(!0)}},t.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1))},t.Trashcan.prototype.autoHide=function(e){!e&&this.flyout&&this.closeFlyout()},t.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},t.Trashcan.prototype.position=function(e,n){if(this.initialized_){var s=t.uiPosition.getCornerOppositeToolbox(this.workspace_,e);e=t.uiPosition.getStartPositionRect(s,new t.utils.Size(this.WIDTH_,this.BODY_HEIGHT_+this.LID_HEIGHT_),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,e,this.workspace_),n=t.uiPosition.bumpPositionRect(e,this.MARGIN_VERTICAL_,s.vertical===t.uiPosition.verticalPosition.TOP?t.uiPosition.bumpDirection.DOWN:t.uiPosition.bumpDirection.UP,n),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.Trashcan.prototype.getBoundingRectangle=function(){return new t.utils.Rect(this.top_,this.top_+this.BODY_HEIGHT_+this.LID_HEIGHT_,this.left_,this.left_+this.WIDTH_)},t.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return new t.utils.Rect(n,n+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,e=e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,e+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},t.Trashcan.prototype.onDragOver=function(e){this.setLidOpen(this.wouldDelete_)},t.Trashcan.prototype.onDragExit=function(e){this.setLidOpen(!1)},t.Trashcan.prototype.onDrop=function(e){setTimeout(this.setLidOpen.bind(this,!1),100)},t.Trashcan.prototype.setLidOpen=function(e){this.isLidOpen!=e&&(clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())},t.Trashcan.prototype.animateLid_=function(){var e=t.Trashcan.ANIMATION_FRAMES_,n=1/(e+1);this.lidOpen_+=this.isLidOpen?n:-n,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*t.Trashcan.MAX_LID_ANGLE_),this.svgGroup_.style.opacity=(n=t.Trashcan.OPACITY_MIN_)+this.lidOpen_*(t.Trashcan.OPACITY_MAX_-n),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),t.Trashcan.ANIMATION_LENGTH_/e))},t.Trashcan.prototype.setLidAngle_=function(e){var n=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(n?-e:e)+","+(n?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},t.Trashcan.prototype.setMinOpenness_=function(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(e*t.Trashcan.MAX_LID_ANGLE_)},t.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},t.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},t.Trashcan.prototype.fireUiEvent_=function(e){e=new(t.Events.get(t.Events.TRASHCAN_OPEN))(e,this.workspace_.id),t.Events.fire(e)},t.Trashcan.prototype.blockMouseDownWhenOpenable_=function(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()},t.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},t.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},t.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents)&&e.type==t.Events.BLOCK_DELETE&&e.oldXml.tagName&&"shadow"!=e.oldXml.tagName.toLowerCase()&&(e=this.cleanBlockXML_(e.oldXml),-1==this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},t.Trashcan.prototype.cleanBlockXML_=function(e){for(var n=e=e.cloneNode(!0);n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var s=n.firstChild||n.nextSibling;if(!s)for(s=n.parentNode;s;){if(s.nextSibling){s=s.nextSibling;break}s=s.parentNode}n=s}return t.Xml.domToText(e)},t.VariablesDynamic={},t.VariablesDynamic.onCreateVariableButtonClick_String=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"String")},t.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Number")},t.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Colour")},t.VariablesDynamic.flyoutCategory=function(e){var n=[],s=document.createElement("button");return s.setAttribute("text",t.Msg.NEW_STRING_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(s),(s=document.createElement("button")).setAttribute("text",t.Msg.NEW_NUMBER_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(s),(s=document.createElement("button")).setAttribute("text",t.Msg.NEW_COLOUR_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(s),e.registerButtonCallback("CREATE_VARIABLE_STRING",t.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",t.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",t.VariablesDynamic.onCreateVariableButtonClick_Colour),e=t.VariablesDynamic.flyoutCategoryBlocks(e),n.concat(e)},t.VariablesDynamic.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getAllVariables()).length){if(t.Blocks.variables_set_dynamic){var s=e[e.length-1],f=t.utils.xml.createElement("block");f.setAttribute("type","variables_set_dynamic"),f.setAttribute("gap",24),f.appendChild(t.Variables.generateVariableFieldDom(s)),n.push(f)}if(t.Blocks.variables_get_dynamic){e.sort(t.VariableModel.compareByName),s=0;for(var y;y=e[s];s++)(f=t.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),f.setAttribute("gap",8),f.appendChild(t.Variables.generateVariableFieldDom(y)),n.push(f)}}return n},t.ZoomControls=function(e){this.workspace_=e,this.id="zoomControls",this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null},t.ZoomControls.prototype.WIDTH_=32,t.ZoomControls.prototype.HEIGHT_=32,t.ZoomControls.prototype.SMALL_SPACING_=2,t.ZoomControls.prototype.LARGE_SPACING_=11,t.ZoomControls.prototype.MARGIN_VERTICAL_=20,t.ZoomControls.prototype.MARGIN_HORIZONTAL_=20,t.ZoomControls.prototype.svgGroup_=null,t.ZoomControls.prototype.left_=0,t.ZoomControls.prototype.top_=0,t.ZoomControls.prototype.initialized_=!1,t.ZoomControls.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var e=String(Math.random()).substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},t.ZoomControls.prototype.init=function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[t.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0},t.ZoomControls.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("zoomControls"),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.onZoomResetWrapper_&&t.browserEvents.unbind(this.onZoomResetWrapper_),this.onZoomInWrapper_&&t.browserEvents.unbind(this.onZoomInWrapper_),this.onZoomOutWrapper_&&t.browserEvents.unbind(this.onZoomOutWrapper_)},t.ZoomControls.prototype.getBoundingRectangle=function(){var e=this.SMALL_SPACING_+2*this.HEIGHT_;return this.zoomResetGroup_&&(e+=this.LARGE_SPACING_+this.HEIGHT_),new t.utils.Rect(this.top_,this.top_+e,this.left_,this.left_+this.WIDTH_)},t.ZoomControls.prototype.position=function(e,n){if(this.initialized_){var s=t.uiPosition.getCornerOppositeToolbox(this.workspace_,e),f=this.SMALL_SPACING_+2*this.HEIGHT_;this.zoomResetGroup_&&(f+=this.LARGE_SPACING_+this.HEIGHT_),e=t.uiPosition.getStartPositionRect(s,new t.utils.Size(this.WIDTH_,f),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,e,this.workspace_),n=t.uiPosition.bumpPositionRect(e,this.MARGIN_VERTICAL_,(s=s.vertical)===t.uiPosition.verticalPosition.TOP?t.uiPosition.bumpDirection.DOWN:t.uiPosition.bumpDirection.UP,n),s===t.uiPosition.verticalPosition.TOP?(this.zoomInGroup_.setAttribute("transform","translate(0, "+(s=this.SMALL_SPACING_+this.HEIGHT_)+")"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, "+(s+this.LARGE_SPACING_+this.HEIGHT_)+")")):(this.zoomInGroup_.setAttribute("transform","translate(0, "+(s=this.zoomResetGroup_?this.LARGE_SPACING_+this.HEIGHT_:0)+")"),this.zoomOutGroup_.setAttribute("transform","translate(0, "+(s+this.SMALL_SPACING_+this.HEIGHT_)+")")),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.ZoomControls.prototype.createZoomOutSvg_=function(e){this.zoomOutGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomOutWrapper_=t.browserEvents.conditionalBind(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},t.ZoomControls.prototype.createZoomInSvg_=function(e){this.zoomInGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomInWrapper_=t.browserEvents.conditionalBind(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},t.ZoomControls.prototype.zoom_=function(e,n){this.workspace_.markFocused(),this.workspace_.zoomCenter(e),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),n.stopPropagation(),n.preventDefault()},t.ZoomControls.prototype.createZoomResetSvg_=function(e){this.zoomResetGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomResetWrapper_=t.browserEvents.conditionalBind(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},t.ZoomControls.prototype.resetZoom_=function(e){this.workspace_.markFocused();var n=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(n),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()},t.ZoomControls.prototype.fireZoomEvent_=function(){var e=new(t.Events.get(t.Events.CLICK))(null,this.workspace_.id,"zoom_controls");t.Events.fire(e)},t.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),t.ShortcutItems={},t.ShortcutItems.names={ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},t.ShortcutItems.registerEscape=function(){var e={name:t.ShortcutItems.names.ESCAPE,preconditionFn:function(n){return!n.options.readOnly},callback:function(){return t.hideChaff(),!0}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.ESC,e.name)},t.ShortcutItems.registerDelete=function(){var e={name:t.ShortcutItems.names.DELETE,preconditionFn:function(n){return!n.options.readOnly&&t.selected&&t.selected.isDeletable()},callback:function(n,s){return s.preventDefault(),!t.Gesture.inProgress()&&(t.deleteBlock(t.selected),!0)}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.DELETE,e.name),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.BACKSPACE,e.name)},t.ShortcutItems.registerCopy=function(){var e={name:t.ShortcutItems.names.COPY,preconditionFn:function(s){return!s.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()},callback:function(s,f){return f.preventDefault(),t.hideChaff(),t.copy(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerCut=function(){var e={name:t.ShortcutItems.names.CUT,preconditionFn:function(s){return!s.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()&&!t.selected.workspace.isFlyout},callback:function(){return t.copy(t.selected),t.deleteBlock(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerPaste=function(){var e={name:t.ShortcutItems.names.PASTE,preconditionFn:function(s){return!s.options.readOnly&&!t.Gesture.inProgress()},callback:function(){return t.paste()}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerUndo=function(){var e={name:t.ShortcutItems.names.UNDO,preconditionFn:function(s){return!s.options.readOnly&&!t.Gesture.inProgress()},callback:function(s){return t.hideChaff(),s.undo(!1),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerRedo=function(){var e={name:t.ShortcutItems.names.REDO,preconditionFn:function(s){return!t.Gesture.inProgress()&&!s.options.readOnly},callback:function(s){return t.hideChaff(),s.undo(!0),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Y,[t.utils.KeyCodes.CTRL]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerDefaultShortcuts=function(){t.ShortcutItems.registerEscape(),t.ShortcutItems.registerDelete(),t.ShortcutItems.registerCopy(),t.ShortcutItems.registerCut(),t.ShortcutItems.registerPaste(),t.ShortcutItems.registerUndo(),t.ShortcutItems.registerRedo()},t.ShortcutItems.registerDefaultShortcuts(),t.ContextMenuItems={},t.ContextMenuItems.registerUndo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.UNDO},preconditionFn:function(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!1)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},t.ContextMenuItems.registerRedo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.REDO},preconditionFn:function(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!0)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},t.ContextMenuItems.registerCleanup=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.CLEAN_UP},preconditionFn:function(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(e){e.workspace.cleanUp()},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},t.ContextMenuItems.toggleOption_=function(e,n){for(var s=0,f=0;f<n.length;f++)for(var y=n[f];y;)setTimeout(y.setCollapsed.bind(y,e),s),y=y.getNextBlock(),s+=10},t.ContextMenuItems.registerCollapse=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.COLLAPSE_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var n=0;n<e.length;n++)for(var s=e[n];s;){if(!s.isCollapsed())return"enabled";s=s.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!0,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},t.ContextMenuItems.registerExpand=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.EXPAND_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var n=0;n<e.length;n++)for(var s=e[n];s;){if(s.isCollapsed())return"enabled";s=s.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!1,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},t.ContextMenuItems.addDeletableBlocks_=function(e,n){if(e.isDeletable())Array.prototype.push.apply(n,e.getDescendants(!1));else{e=e.getChildren(!1);for(var s=0;s<e.length;s++)t.ContextMenuItems.addDeletableBlocks_(e[s],n)}},t.ContextMenuItems.getDeletableBlocks_=function(e){var n=[];e=e.getTopBlocks(!0);for(var s=0;s<e.length;s++)t.ContextMenuItems.addDeletableBlocks_(e[s],n);return n},t.ContextMenuItems.deleteNext_=function(e,n){t.Events.setGroup(n);var s=e.shift();s&&(s.workspace?(s.dispose(!1,!0),setTimeout(t.ContextMenuItems.deleteNext_,10,e,n)):t.ContextMenuItems.deleteNext_(e,n)),t.Events.setGroup(!1)},t.ContextMenuItems.registerDeleteAll=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){if(e.workspace)return 1==(e=t.ContextMenuItems.getDeletableBlocks_(e.workspace).length)?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(e){if(e.workspace)return 0<t.ContextMenuItems.getDeletableBlocks_(e.workspace).length?"enabled":"disabled"},callback:function(e){if(e.workspace){e.workspace.cancelCurrentGesture();var n=t.ContextMenuItems.getDeletableBlocks_(e.workspace),s=t.utils.genUid();2>n.length?t.ContextMenuItems.deleteNext_(n,s):t.confirm(t.Msg.DELETE_ALL_BLOCKS.replace("%1",n.length),function(f){f&&t.ContextMenuItems.deleteNext_(n,s)})}},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},t.ContextMenuItems.registerWorkspaceOptions_=function(){t.ContextMenuItems.registerUndo(),t.ContextMenuItems.registerRedo(),t.ContextMenuItems.registerCleanup(),t.ContextMenuItems.registerCollapse(),t.ContextMenuItems.registerExpand(),t.ContextMenuItems.registerDeleteAll()},t.ContextMenuItems.registerDuplicate=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.DUPLICATE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(e){e.block&&t.duplicate(e.block)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},t.ContextMenuItems.registerComment=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getCommentIcon()?t.Msg.REMOVE_COMMENT:t.Msg.ADD_COMMENT},preconditionFn:function(e){return e=e.block,t.utils.userAgent.IE||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()?"hidden":"enabled"},callback:function(e){(e=e.block).getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},t.ContextMenuItems.registerInline=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getInputsInline()?t.Msg.EXTERNAL_INPUTS:t.Msg.INLINE_INPUTS},preconditionFn:function(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed())for(var n=1;n<e.inputList.length;n++)if(e.inputList[n-1].type!=t.inputTypes.STATEMENT&&e.inputList[n].type!=t.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},t.ContextMenuItems.registerCollapseExpandBlock=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isCollapsed()?t.Msg.EXPAND_BLOCK:t.Msg.COLLAPSE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback:function(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},t.ContextMenuItems.registerDisable=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isEnabled()?t.Msg.DISABLE_BLOCK:t.Msg.ENABLE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(e){e=e.block;var n=t.Events.getGroup();n||t.Events.setGroup(!0),e.setEnabled(!e.isEnabled()),n||t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},t.ContextMenuItems.registerDelete=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){var n=e.block;return e=n.getDescendants(!1).length,(n=n.getNextBlock())&&(e-=n.getDescendants(!1).length),1==e?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback:function(e){t.Events.setGroup(!0),e.block&&t.deleteBlock(e.block),t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},t.ContextMenuItems.registerHelp=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.HELP},preconditionFn:function(e){return("function"==typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback:function(e){e.block.showHelp()},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},t.ContextMenuItems.registerBlockOptions_=function(){t.ContextMenuItems.registerDuplicate(),t.ContextMenuItems.registerComment(),t.ContextMenuItems.registerInline(),t.ContextMenuItems.registerCollapseExpandBlock(),t.ContextMenuItems.registerDisable(),t.ContextMenuItems.registerDelete(),t.ContextMenuItems.registerHelp()},t.ContextMenuItems.registerDefaultOptions=function(){t.ContextMenuItems.registerWorkspaceOptions_(),t.ContextMenuItems.registerBlockOptions_()},t.ContextMenuItems.registerDefaultOptions(),t.Mutator=function(e){t.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},t.utils.object.inherits(t.Mutator,t.Icon),t.Mutator.prototype.workspace_=null,t.Mutator.prototype.workspaceWidth_=0,t.Mutator.prototype.workspaceHeight_=0,t.Mutator.prototype.setBlock=function(e){this.block_=e},t.Mutator.prototype.getWorkspace=function(){return this.workspace_},t.Mutator.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},t.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&t.Icon.prototype.iconClick_.call(this,e)},t.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var s,e=t.utils.xml.createElement("xml"),n=0;s=this.quarkNames_[n];n++){var f=t.utils.xml.createElement("block");f.setAttribute("type",s),e.appendChild(f)}else e=null;return(n=new t.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT,(s=!!e)&&(n.languageTree=t.utils.toolbox.convertToolboxDefToJson(e)),this.workspace_=new t.WorkspaceSvg(n),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(t.Events.disableOrphans),e=s?this.workspace_.addFlyout(t.utils.Svg.G):null,n=this.workspace_.createDom("blocklyMutatorBackground"),e&&n.insertBefore(e,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(n),this.svgDialog_},t.Mutator.prototype.updateEditable=function(){t.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&t.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},t.Mutator.prototype.resizeBubble_=function(){var e=2*t.Bubble.BORDER_WIDTH,n=this.workspace_.getCanvas().getBBox(),s=n.width+n.x,f=n.height+3*e,y=this.workspace_.getFlyout();if(y){var M=y.getWorkspace().getMetricsManager().getScrollMetrics();f=Math.max(f,M.height+20),s+=y.getWidth()}this.block_.RTL&&(s=-n.x),s+=3*e,(Math.abs(this.workspaceWidth_-s)>e||Math.abs(this.workspaceHeight_-f)>e)&&(this.workspaceWidth_=s,this.workspaceHeight_=f,this.bubble_.setBubbleSize(s+e,f+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},t.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDragTargets()},t.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"mutator")),e){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var n=this.workspace_.options.languageTree;e=this.workspace_.getFlyout(),n&&(e.init(this.workspace_),e.show(n)),this.rootBlock_=this.block_.decompose(this.workspace_),n=this.rootBlock_.getDescendants(!1);for(var f,s=0;f=n[s];s++)f.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),e?(n=2*e.CORNER_RADIUS,e=this.rootBlock_.RTL?e.getWidth()+n:n):e=n=16,this.block_.RTL&&(e=-e),this.rootBlock_.moveBy(e,n),this.block_.saveConnections){var y=this,M=this.block_;M.saveConnections(this.rootBlock_),this.sourceListener_=function(){M.saveConnections(y.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},t.Mutator.prototype.workspaceChanged_=function(e){if(!(e.isUiEvent||e.type==t.Events.CHANGE&&"disabled"==e.element)){if(!this.workspace_.isDragging()){e=this.workspace_.getTopBlocks(!1);for(var s,n=0;s=e[n];n++){var f=s.getRelativeToSurfaceXY();if(20>f.y&&s.moveBy(0,20-f.y),s.RTL){var y=-20,M=this.workspace_.getFlyout();M&&(y-=M.getWidth()),f.x>y&&s.moveBy(y-f.x,0)}else 20>f.x&&s.moveBy(20-f.x,0)}}if(this.rootBlock_.workspace==this.workspace_){if(t.Events.setGroup(!0),e=(e=(s=this.block_).mutationToDom())&&t.Xml.domToText(e),n=s.rendered,s.rendered=!1,s.compose(this.rootBlock_),s.rendered=n,s.initSvg(),s.rendered&&s.render(),e!=(n=(n=s.mutationToDom())&&t.Xml.domToText(n))){t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(s,"mutation",null,e,n));var A=t.Events.getGroup();setTimeout(function(){t.Events.setGroup(A),s.bumpNeighbours(),t.Events.setGroup(!1)},t.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),t.Events.setGroup(!1)}}},t.Mutator.prototype.dispose=function(){this.block_.mutator=null,t.Icon.prototype.dispose.call(this)},t.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){for(var f,n=e.getAllBlocks(!1),s=0;f=n[s];s++)f.setStyle(f.getStyleName());if(s=e.getFlyout())for(e=s.workspace_.getAllBlocks(!1),s=0;f=e[s];s++)f.setStyle(f.getStyleName())}},t.Mutator.reconnect=function(e,n,s){if(!e||!e.getSourceBlock().workspace)return!1;s=n.getInput(s).connection;var f=e.targetBlock();return!(f&&f!=n||s.targetConnection==e||(s.isConnected()&&s.disconnect(),s.connect(e),0))},t.Mutator.findParentWs=function(e){var n=null;if(e&&e.options){var s=e.options.parentWorkspace;e.isFlyout?s&&s.options&&(n=s.options.parentWorkspace):s&&(n=s)}return n},t.FieldTextInput=function(e,n,s){this.spellcheck_=!0,t.FieldTextInput.superClass_.constructor.call(this,e,n,s),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},t.utils.object.inherits(t.FieldTextInput,t.Field),t.FieldTextInput.prototype.DEFAULT_VALUE="",t.FieldTextInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldTextInput(n,void 0,e)},t.FieldTextInput.prototype.SERIALIZABLE=!0,t.FieldTextInput.BORDERRADIUS=4,t.FieldTextInput.prototype.CURSOR="text",t.FieldTextInput.prototype.configure_=function(e){t.FieldTextInput.superClass_.configure_.call(this,e),"boolean"==typeof e.spellcheck&&(this.spellcheck_=e.spellcheck)},t.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var f,e=0,n=0,s=0;f=this.sourceBlock_.inputList[s];s++){for(var y=0;f.fieldRow[y];y++)e++;f.connection&&n++}this.fullBlockClickTarget_=1>=e&&this.sourceBlock_.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},t.FieldTextInput.prototype.doClassValidation_=function(e){return null==e?null:String(e)},t.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))},t.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},t.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},t.FieldTextInput.prototype.render_=function(){if(t.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var e=this.htmlInput_;this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0))}},t.FieldTextInput.prototype.setSpellcheck=function(e){e!=this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},t.FieldTextInput.prototype.showEditor_=function(e,n){this.workspace_=this.sourceBlock_.workspace,!(e=n||!1)&&(t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},t.FieldTextInput.prototype.showPromptEditor_=function(){t.prompt(t.Msg.CHANGE_VALUE_TITLE,this.getText(),function(e){this.setValue(this.getValueFromEditorText_(e))}.bind(this))},t.FieldTextInput.prototype.showInlineEditor_=function(e){t.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},t.FieldTextInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV;t.utils.dom.addClass(this.getClickTarget_(),"editing");var n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var s=this.workspace_.getScale(),f=this.getConstants().FIELD_TEXT_FONTSIZE*s+"pt";if(e.style.fontSize=f,n.style.fontSize=f,f=t.FieldTextInput.BORDERRADIUS*s+"px",this.fullBlockClickTarget_){f=((f=this.getScaledBBox()).bottom-f.top)/2+"px";var y=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;n.style.border=1*s+"px solid "+y,e.style.borderRadius=f,e.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(e.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*s+"px")}return n.style.borderRadius=f,e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(n),n},t.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var e=t.WidgetDiv.DIV.style;e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,t.utils.dom.removeClass(this.getClickTarget_(),"editing")},t.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=t.browserEvents.conditionalBind(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=t.browserEvents.conditionalBind(e,"input",this,this.onHtmlInputChange_)},t.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(t.browserEvents.unbind(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},t.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode==t.utils.KeyCodes.ENTER?(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.ESC?(this.setValue(this.htmlInput_.untypedDefaultValue_),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.TAB&&(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},t.FieldTextInput.prototype.onHtmlInputChange_=function(e){(e=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,t.Events.setGroup(!0),e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),this.resizeEditor_(),t.Events.setGroup(!1))},t.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},t.FieldTextInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,n=this.getScaledBBox();e.style.width=n.right-n.left+"px",e.style.height=n.bottom-n.top+"px",n=new t.utils.Coordinate(this.sourceBlock_.RTL?n.right-e.offsetWidth:n.left,n.top),e.style.left=n.x+"px",e.style.top=n.y+"px"},t.FieldTextInput.prototype.isTabNavigable=function(){return!0},t.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},t.FieldTextInput.prototype.getEditorText_=function(e){return String(e)},t.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},t.fieldRegistry.register("field_input",t.FieldTextInput),t.FieldAngle=function(e,n,s){this.clockwise_=t.FieldAngle.CLOCKWISE,this.offset_=t.FieldAngle.OFFSET,this.wrap_=t.FieldAngle.WRAP,this.round_=t.FieldAngle.ROUND,t.FieldAngle.superClass_.constructor.call(this,e,n,s),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=this.editor_=null},t.utils.object.inherits(t.FieldAngle,t.FieldTextInput),t.FieldAngle.prototype.DEFAULT_VALUE=0,t.FieldAngle.fromJson=function(e){return new t.FieldAngle(e.angle,void 0,e)},t.FieldAngle.prototype.SERIALIZABLE=!0,t.FieldAngle.ROUND=15,t.FieldAngle.HALF=50,t.FieldAngle.CLOCKWISE=!1,t.FieldAngle.OFFSET=0,t.FieldAngle.WRAP=360,t.FieldAngle.RADIUS=t.FieldAngle.HALF-1,t.FieldAngle.prototype.configure_=function(e){switch(t.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var n=e.clockwise;"boolean"==typeof n&&(this.clockwise_=n),null!=(n=e.offset)&&(n=Number(n),isNaN(n)||(this.offset_=n)),null!=(n=e.wrap)&&(n=Number(n),isNaN(n)||(this.wrap_=n)),null!=(e=e.round)&&(e=Number(e),isNaN(e)||(this.round_=e))},t.FieldAngle.prototype.initView=function(){t.FieldAngle.superClass_.initView.call(this),this.symbol_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},t.FieldAngle.prototype.render_=function(){t.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},t.FieldAngle.prototype.showEditor_=function(e){t.FieldAngle.superClass_.showEditor_.call(this,e,t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD),this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.editor_),t.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},t.FieldAngle.prototype.dropdownCreate_=function(){var e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",height:2*t.FieldAngle.HALF+"px",width:2*t.FieldAngle.HALF+"px",style:"touch-action: none"},null),n=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:t.FieldAngle.HALF,cy:t.FieldAngle.HALF,r:t.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyAngleGauge"},e),this.line_=t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF,y1:t.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var s=0;360>s;s+=15)t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF+t.FieldAngle.RADIUS,y1:t.FieldAngle.HALF,x2:t.FieldAngle.HALF+t.FieldAngle.RADIUS-(s%45==0?10:5),y2:t.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+s+","+t.FieldAngle.HALF+","+t.FieldAngle.HALF+")"},e);this.clickWrapper_=t.browserEvents.conditionalBind(e,"click",this,this.hide_),this.clickSurfaceWrapper_=t.browserEvents.conditionalBind(n,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=t.browserEvents.conditionalBind(n,"mousemove",this,this.onMouseMove_,!0,!0),this.editor_=e},t.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(t.browserEvents.unbind(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(t.browserEvents.unbind(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(t.browserEvents.unbind(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},t.FieldAngle.prototype.hide_=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hide()},t.FieldAngle.prototype.onMouseMove_=function(e){var n=this.gauge_.ownerSVGElement.getBoundingClientRect(),s=e.clientX-n.left-t.FieldAngle.HALF;e=e.clientY-n.top-t.FieldAngle.HALF,n=Math.atan(-e/s),isNaN(n)||(n=t.utils.math.toDegrees(n),0>s?n+=180:0<e&&(n+=360),this.displayMouseOrKeyboardValue_(n=this.clockwise_?this.offset_+360-n:360-(this.offset_-n)))},t.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!=this.value_&&this.setEditorValue_(e)},t.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+this.offset_,n=t.utils.math.toRadians(e%360);e=["M ",t.FieldAngle.HALF,",",t.FieldAngle.HALF];var s=t.FieldAngle.HALF,f=t.FieldAngle.HALF;if(!isNaN(n)){var y=Number(this.clockwise_),M=t.utils.math.toRadians(this.offset_),A=Math.cos(M)*t.FieldAngle.RADIUS,P=Math.sin(M)*-t.FieldAngle.RADIUS;y&&(n=2*M-n),s+=Math.cos(n)*t.FieldAngle.RADIUS,f-=Math.sin(n)*t.FieldAngle.RADIUS,n=Math.abs(Math.floor((n-M)/Math.PI)%2),y&&(n=1-n),e.push(" l ",A,",",P," A ",t.FieldAngle.RADIUS,",",t.FieldAngle.RADIUS," 0 ",n," ",y," ",s,",",f," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",s),this.line_.setAttribute("y2",f)}},t.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){var n;if(t.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e),e.keyCode===t.utils.KeyCodes.LEFT?n=this.sourceBlock_.RTL?1:-1:e.keyCode===t.utils.KeyCodes.RIGHT?n=this.sourceBlock_.RTL?-1:1:e.keyCode===t.utils.KeyCodes.DOWN?n=-1:e.keyCode===t.utils.KeyCodes.UP&&(n=1),n){var s=this.getValue();this.displayMouseOrKeyboardValue_(s+n*this.round_),e.preventDefault(),e.stopPropagation()}},t.FieldAngle.prototype.doClassValidation_=function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},t.FieldAngle.prototype.wrapValue_=function(e){return 0>(e%=360)&&(e+=360),e>this.wrap_&&(e-=360),e},t.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),t.fieldRegistry.register("field_angle",t.FieldAngle),t.FieldCheckbox=function(e,n,s){this.checkChar_=null,t.FieldCheckbox.superClass_.constructor.call(this,e,n,s)},t.utils.object.inherits(t.FieldCheckbox,t.Field),t.FieldCheckbox.prototype.DEFAULT_VALUE=!1,t.FieldCheckbox.fromJson=function(e){return new t.FieldCheckbox(e.checked,void 0,e)},t.FieldCheckbox.CHECK_CHAR="\u2713",t.FieldCheckbox.prototype.SERIALIZABLE=!0,t.FieldCheckbox.prototype.CURSOR="default",t.FieldCheckbox.prototype.configure_=function(e){t.FieldCheckbox.superClass_.configure_.call(this,e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)},t.FieldCheckbox.prototype.initView=function(){t.FieldCheckbox.superClass_.initView.call(this),t.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},t.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},t.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||t.FieldCheckbox.CHECK_CHAR},t.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.forceRerender()},t.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},t.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},t.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},t.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},t.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},t.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},t.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"==typeof e?"TRUE"==e:!!e},t.fieldRegistry.register("field_checkbox",t.FieldCheckbox),t.FieldColour=function(e,n,s){t.FieldColour.superClass_.constructor.call(this,e,n,s),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},t.utils.object.inherits(t.FieldColour,t.Field),t.FieldColour.fromJson=function(e){return new t.FieldColour(e.colour,void 0,e)},t.FieldColour.prototype.SERIALIZABLE=!0,t.FieldColour.prototype.CURSOR="default",t.FieldColour.prototype.isDirty_=!1,t.FieldColour.prototype.colours_=null,t.FieldColour.prototype.titles_=null,t.FieldColour.prototype.columns_=0,t.FieldColour.prototype.configure_=function(e){t.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},t.FieldColour.prototype.initView=function(){this.size_=new t.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},t.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},t.FieldColour.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:t.utils.colour.parse(e)},t.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},t.FieldColour.prototype.getText=function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},t.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),t.FieldColour.prototype.DEFAULT_VALUE=t.FieldColour.COLOURS[0],t.FieldColour.TITLES=[],t.FieldColour.COLUMNS=7,t.FieldColour.prototype.setColours=function(e,n){return this.colours_=e,n&&(this.titles_=n),this},t.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},t.FieldColour.prototype.showEditor_=function(){this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.picker_),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onClick_=function(e){null!==(e=(e=e.target)&&e.label)&&(this.setValue(e),t.DropDownDiv.hideIfOwner(this))},t.FieldColour.prototype.onKeyDown_=function(e){var n=!1;e.keyCode===t.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),n=!0):e.keyCode===t.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),n=!0):e.keyCode===t.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),n=!0):e.keyCode===t.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),n=!0):e.keyCode===t.utils.KeyCodes.ENTER&&((n=this.getHighlighted_())&&null!==(n=n&&n.label)&&this.setValue(n),t.DropDownDiv.hideWithoutAnimation(),n=!0),n&&e.stopPropagation()},t.FieldColour.prototype.moveHighlightBy_=function(e,n){var s=this.colours_||t.FieldColour.COLOURS,f=this.columns_||t.FieldColour.COLUMNS,y=this.highlightedIndex_%f,M=Math.floor(this.highlightedIndex_/f);y+=e,M+=n,0>e?0>y&&0<M?(y=f-1,M--):0>y&&(y=0):0<e?y>f-1&&M<Math.floor(s.length/f)-1?(y=0,M++):y>f-1&&y--:0>n?0>M&&(M=0):0<n&&M>Math.floor(s.length/f)-1&&(M=Math.floor(s.length/f)-1),this.setHighlightedCell_(this.picker_.childNodes[M].childNodes[y],M*f+y)},t.FieldColour.prototype.onMouseMove_=function(e){var n=(e=e.target)&&Number(e.getAttribute("data-index"));null!==n&&n!==this.highlightedIndex_&&this.setHighlightedCell_(e,n)},t.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&t.utils.dom.removeClass(e,"blocklyColourHighlighted")},t.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return n?n.childNodes[this.highlightedIndex_%e]:null},t.FieldColour.prototype.setHighlightedCell_=function(e,n){var s=this.getHighlighted_();s&&t.utils.dom.removeClass(s,"blocklyColourHighlighted"),t.utils.dom.addClass(e,"blocklyColourHighlighted"),this.highlightedIndex_=n,t.utils.aria.setState(this.picker_,t.utils.aria.State.ACTIVEDESCENDANT,e.getAttribute("id"))},t.FieldColour.prototype.dropdownCreate_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.colours_||t.FieldColour.COLOURS,s=this.titles_||t.FieldColour.TITLES,f=this.getValue(),y=document.createElement("table");y.className="blocklyColourTable",y.tabIndex=0,y.dir="ltr",t.utils.aria.setRole(y,t.utils.aria.Role.GRID),t.utils.aria.setState(y,t.utils.aria.State.EXPANDED,!0),t.utils.aria.setState(y,t.utils.aria.State.ROWCOUNT,Math.floor(n.length/e)),t.utils.aria.setState(y,t.utils.aria.State.COLCOUNT,e);for(var M,A=0;A<n.length;A++){A%e==0&&(M=document.createElement("tr"),t.utils.aria.setRole(M,t.utils.aria.Role.ROW),y.appendChild(M));var P=document.createElement("td");M.appendChild(P),P.label=n[A],P.title=s[A]||n[A],P.id=t.utils.IdGenerator.getNextUniqueId(),P.setAttribute("data-index",A),t.utils.aria.setRole(P,t.utils.aria.Role.GRIDCELL),t.utils.aria.setState(P,t.utils.aria.State.LABEL,n[A]),t.utils.aria.setState(P,t.utils.aria.State.SELECTED,n[A]==f),P.style.backgroundColor=n[A],n[A]==f&&(P.className="blocklyColourSelected",this.highlightedIndex_=A)}this.onClickWrapper_=t.browserEvents.conditionalBind(y,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=t.browserEvents.conditionalBind(y,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=t.browserEvents.conditionalBind(y,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=t.browserEvents.conditionalBind(y,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=t.browserEvents.conditionalBind(y,"keydown",this,this.onKeyDown_),this.picker_=y},t.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(t.browserEvents.unbind(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(t.browserEvents.unbind(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(t.browserEvents.unbind(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(t.browserEvents.unbind(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},t.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),t.fieldRegistry.register("field_colour",t.FieldColour),t.FieldDropdown=function(e,n,s){"function"!=typeof e&&t.FieldDropdown.validateOptions_(e),this.menuGenerator_=e,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],t.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],n,s),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},t.utils.object.inherits(t.FieldDropdown,t.Field),t.FieldDropdown.fromJson=function(e){return new t.FieldDropdown(e.options,void 0,e)},t.FieldDropdown.prototype.fromXml=function(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)},t.FieldDropdown.prototype.SERIALIZABLE=!0,t.FieldDropdown.CHECKMARK_OVERHANG=25,t.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,t.FieldDropdown.IMAGE_Y_OFFSET=5,t.FieldDropdown.IMAGE_Y_PADDING=2*t.FieldDropdown.IMAGE_Y_OFFSET,t.FieldDropdown.ARROW_CHAR=t.utils.userAgent.ANDROID?"\u25bc":"\u25be",t.FieldDropdown.prototype.CURSOR="default",t.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&t.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},t.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},t.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?t.FieldDropdown.ARROW_CHAR+" ":" "+t.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},t.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},t.FieldDropdown.prototype.showEditor_=function(e){if(this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new t.utils.Coordinate(e.clientX,e.clientY):null,this.menu_.render(t.DropDownDiv.getContentDiv()),e=this.menu_.getElement(),t.utils.dom.addClass(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){e=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var n=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;t.DropDownDiv.setColour(e,n)}t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},t.FieldDropdown.prototype.dropdownCreate_=function(){var e=new t.Menu;e.setRole(t.utils.aria.Role.LISTBOX),this.menu_=e;var n=this.getOptions(!1);this.selectedMenuItem_=null;for(var s=0;s<n.length;s++){var f=n[s][0],y=n[s][1];if("object"==typeof f){var M=new Image(f.width,f.height);M.src=f.src,M.alt=f.alt||"",f=M}(f=new t.MenuItem(f,y)).setRole(t.utils.aria.Role.OPTION),f.setRightToLeft(this.sourceBlock_.RTL),f.setCheckable(!0),e.addChild(f),f.setChecked(y==this.value_),y==this.value_&&(this.selectedMenuItem_=f),f.onAction(this.handleMenuActionEvent_,this)}},t.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},t.FieldDropdown.prototype.handleMenuActionEvent_=function(e){t.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,e)},t.FieldDropdown.prototype.onItemSelected_=function(e,n){this.setValue(n.getValue())},t.FieldDropdown.prototype.trimOptions_=function(){var e=this.menuGenerator_;if(Array.isArray(e)){for(var n=!1,s=0;s<e.length;s++){var f=e[s][0];"string"==typeof f?e[s][0]=t.utils.replaceMessageReferences(f):(null!=f.alt&&(e[s][0].alt=t.utils.replaceMessageReferences(f.alt)),n=!0)}if(!(n||2>e.length)){for(n=[],s=0;s<e.length;s++)n.push(e[s][0]);s=t.utils.string.shortestStringLength(n),f=t.utils.string.commonWordPrefix(n,s);var y=t.utils.string.commonWordSuffix(n,s);!f&&!y||s<=f+y||(f&&(this.prefixField=n[0].substring(0,f-1)),y&&(this.suffixField=n[0].substr(1-y)),this.menuGenerator_=t.FieldDropdown.applyTrim_(e,f,y))}}},t.FieldDropdown.applyTrim_=function(e,n,s){for(var f=[],y=0;y<e.length;y++){var M=e[y][0],A=e[y][1];M=M.substring(n,M.length-s),f[y]=[M,A]}return f},t.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},t.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),t.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},t.FieldDropdown.prototype.doClassValidation_=function(e){for(var y,n=!1,s=this.getOptions(!0),f=0;y=s[f];f++)if(y[1]==e){n=!0;break}return n?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)},t.FieldDropdown.prototype.doValueUpdate_=function(e){t.FieldDropdown.superClass_.doValueUpdate_.call(this,e),e=this.getOptions(!0);for(var s,n=0;s=e[n];n++)s[1]==this.value_&&(this.selectedOption_=s)},t.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.borderRect_.setAttribute("fill",this.menu_?this.sourceBlock_.style.colourTertiary:"transparent")),this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.isShadow()?this.sourceBlock_.style.colourSecondary:this.sourceBlock_.style.colourPrimary)},t.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.selectedOption_&&this.selectedOption_[0];e&&"object"==typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()},t.FieldDropdown.prototype.renderSelectedImage_=function(e){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",e.src),this.imageElement_.setAttribute("height",e.height),this.imageElement_.setAttribute("width",e.width);var n=Number(e.height);e=Number(e.width);var s=!!this.borderRect_,f=Math.max(s?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+t.FieldDropdown.IMAGE_Y_PADDING);s=s?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var y=this.svgArrow_?this.positionSVGArrow_(e+s,f/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):t.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=e+y+2*s,this.size_.height=f;var M=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",s+y):(M=e+y,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",s)),this.imageElement_.setAttribute("y",f/2-n/2),this.positionTextElement_(M+s,e+y)},t.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),t.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var e=!!this.borderRect_,n=Math.max(e?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),s=t.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);e=e?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var f=0;this.svgArrow_&&(f=this.positionSVGArrow_(s+e,n/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=s+f+2*e,this.size_.height=n,this.positionTextElement_(e,s)},t.FieldDropdown.prototype.positionSVGArrow_=function(e,n){if(!this.svgArrow_)return 0;var s=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,f=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,y=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?s:e+f)+","+n+")"),y+f},t.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var e=this.selectedOption_[0];return"object"==typeof e?e.alt:e},t.FieldDropdown.validateOptions_=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var n=!1,s=0;s<e.length;++s){var f=e[s];Array.isArray(f)?"string"!=typeof f[1]?(n=!0,console.error("Invalid option["+s+"]: Each FieldDropdown option id must be a string. Found "+f[1]+" in: ",f)):f[0]&&"string"!=typeof f[0]&&"string"!=typeof f[0].src&&(n=!0,console.error("Invalid option["+s+"]: Each FieldDropdown option must have a string label or image description. Found"+f[0]+" in: ",f)):(n=!0,console.error("Invalid option["+s+"]: Each FieldDropdown option must be an array. Found: ",f))}if(n)throw TypeError("Found invalid FieldDropdown options.")},t.fieldRegistry.register("field_dropdown",t.FieldDropdown),t.FieldLabelSerializable=function(e,n,s){t.FieldLabelSerializable.superClass_.constructor.call(this,e,n,s)},t.utils.object.inherits(t.FieldLabelSerializable,t.FieldLabel),t.FieldLabelSerializable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabelSerializable(n,void 0,e)},t.FieldLabelSerializable.prototype.EDITABLE=!1,t.FieldLabelSerializable.prototype.SERIALIZABLE=!0,t.fieldRegistry.register("field_label_serializable",t.FieldLabelSerializable),t.FieldImage=function(e,n,s,f,y,M,A){if(!e)throw Error("Src value of an image field is required");if(e=t.utils.replaceMessageReferences(e),s=Number(t.utils.replaceMessageReferences(s)),n=Number(t.utils.replaceMessageReferences(n)),isNaN(s)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=s||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",t.FieldImage.superClass_.constructor.call(this,e,null,A),A||(this.flipRtl_=!!M,this.altText_=t.utils.replaceMessageReferences(f)||""),this.size_=new t.utils.Size(n,s+t.FieldImage.Y_PADDING),this.imageHeight_=s,this.clickHandler_=null,"function"==typeof y&&(this.clickHandler_=y),this.imageElement_=null},t.utils.object.inherits(t.FieldImage,t.Field),t.FieldImage.prototype.DEFAULT_VALUE="",t.FieldImage.fromJson=function(e){return new t.FieldImage(e.src,e.width,e.height,void 0,void 0,void 0,e)},t.FieldImage.Y_PADDING=1,t.FieldImage.prototype.EDITABLE=!1,t.FieldImage.prototype.isDirty_=!1,t.FieldImage.prototype.configure_=function(e){t.FieldImage.superClass_.configure_.call(this,e),this.flipRtl_=!!e.flipRtl,this.altText_=t.utils.replaceMessageReferences(e.alt)||""},t.FieldImage.prototype.initView=function(){this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},t.FieldImage.prototype.updateSize_=function(){},t.FieldImage.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:e},t.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",String(this.value_))},t.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},t.FieldImage.prototype.setAlt=function(e){e!=this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},t.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},t.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},t.FieldImage.prototype.getText_=function(){return this.altText_},t.fieldRegistry.register("field_image",t.FieldImage),t.FieldMultilineInput=function(e,n,s){t.FieldMultilineInput.superClass_.constructor.call(this,e,n,s),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1},t.utils.object.inherits(t.FieldMultilineInput,t.FieldTextInput),t.FieldMultilineInput.prototype.configure_=function(e){t.FieldMultilineInput.superClass_.configure_.call(this,e),e.maxLines&&this.setMaxLines(e.maxLines)},t.FieldMultilineInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldMultilineInput(n,void 0,e)},t.FieldMultilineInput.prototype.toXml=function(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e},t.FieldMultilineInput.prototype.fromXml=function(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))},t.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},t.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.getText();if(!e)return t.Field.NBSP;var n=e.split("\n");e="";for(var s=this.isOverflowedY_?this.maxLines_:n.length,f=0;f<s;f++){var y=n[f];y.length>this.maxDisplayLength?y=y.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&f===s-1&&(y=y.substring(0,y.length-3)+"..."),e+=y=y.replace(/\s/g,t.Field.NBSP),f!==s-1&&(e+="\n")}return this.sourceBlock_.RTL&&(e+="\u200f"),e},t.FieldMultilineInput.prototype.doValueUpdate_=function(e){t.FieldMultilineInput.superClass_.doValueUpdate_.call(this,e),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},t.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var n=0,s=0;s<e.length;s++){var f=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[s])),n+=f}this.isBeingEdited_&&(e=this.htmlInput_,this.isOverflowedY_?t.utils.dom.addClass(e,"blocklyHtmlTextAreaInputOverflowedY"):t.utils.dom.removeClass(e,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0)))},t.FieldMultilineInput.prototype.updateSize_=function(){for(var e=this.textGroup_.childNodes,n=0,s=0,f=0;f<e.length;f++){var y=t.utils.dom.getTextWidth(e[f]);y>n&&(n=y),s+=this.getConstants().FIELD_TEXT_HEIGHT+(0<f?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){e=this.value_.split("\n"),y=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText"});var M=this.getConstants().FIELD_TEXT_FONTSIZE,A=this.getConstants().FIELD_TEXT_FONTWEIGHT,P=this.getConstants().FIELD_TEXT_FONTFAMILY;for(f=0;f<e.length;f++){e[f].length>this.maxDisplayLength&&(e[f]=e[f].substring(0,this.maxDisplayLength)),y.textContent=e[f];var B=t.utils.dom.getFastTextWidth(y,M,A,P);B>n&&(n=B)}n+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(s+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",n),this.borderRect_.setAttribute("height",s)),this.size_.width=n,this.size_.height=s,this.positionBorderRect_()},t.FieldMultilineInput.prototype.showEditor_=function(e,n){t.FieldMultilineInput.superClass_.showEditor_.call(this,e,n),this.forceRerender()},t.FieldMultilineInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,n=this.workspace_.getScale(),s=document.createElement("textarea");s.className="blocklyHtmlInput blocklyHtmlTextAreaInput",s.setAttribute("spellcheck",this.spellcheck_);var f=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";e.style.fontSize=f,s.style.fontSize=f,s.style.borderRadius=t.FieldTextInput.BORDERRADIUS*n+"px",f=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;var y=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return s.style.padding=y+"px "+f+"px "+y+"px "+f+"px",f=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,s.style.lineHeight=f*n+"px",e.appendChild(s),s.value=s.defaultValue=this.getEditorText_(this.value_),s.untypedDefaultValue_=this.value_,s.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(s),s},t.FieldMultilineInput.prototype.setMaxLines=function(e){"number"==typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())},t.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},t.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==t.utils.KeyCodes.ENTER&&t.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},t.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}".split(",")),t.fieldRegistry.register("field_multilinetext",t.FieldMultilineInput),t.FieldNumber=function(e,n,s,f,y,M){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,t.FieldNumber.superClass_.constructor.call(this,e,y,M),M||this.setConstraints(n,s,f)},t.utils.object.inherits(t.FieldNumber,t.FieldTextInput),t.FieldNumber.prototype.DEFAULT_VALUE=0,t.FieldNumber.fromJson=function(e){return new t.FieldNumber(e.value,void 0,void 0,void 0,void 0,e)},t.FieldNumber.prototype.SERIALIZABLE=!0,t.FieldNumber.prototype.configure_=function(e){t.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},t.FieldNumber.prototype.setConstraints=function(e,n,s){this.setMinInternal_(e),this.setMaxInternal_(n),this.setPrecisionInternal_(s),this.setValue(this.getValue())},t.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))},t.FieldNumber.prototype.getMin=function(){return this.min_},t.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))},t.FieldNumber.prototype.getMax=function(){return this.max_},t.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setPrecisionInternal_=function(e){this.precision_=Number(e)||0;var n=String(this.precision_);-1!=n.indexOf("e")&&(n=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var s=n.indexOf(".");this.decimalPlaces_=-1==s?e?0:null:n.length-s-1},t.FieldNumber.prototype.getPrecision=function(){return this.precision_},t.FieldNumber.prototype.doClassValidation_=function(e){return null===e||(e=(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e)},t.FieldNumber.prototype.widgetCreate_=function(){var e=t.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMAX,this.max_),e},t.fieldRegistry.register("field_number",t.FieldNumber),t.FieldVariable=function(e,n,s,f,y){this.menuGenerator_=t.FieldVariable.dropdownCreate,this.defaultVariableName="string"==typeof e?e:"",this.size_=new t.utils.Size(0,0),y&&this.configure_(y),n&&this.setValidator(n),y||this.setTypes_(s,f)},t.utils.object.inherits(t.FieldVariable,t.FieldDropdown),t.FieldVariable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.variable);return new t.FieldVariable(n,void 0,void 0,void 0,e)},t.FieldVariable.prototype.SERIALIZABLE=!0,t.FieldVariable.prototype.configure_=function(e){t.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},t.FieldVariable.prototype.initModel=function(){if(!this.variable_){var e=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(e.getId())}},t.FieldVariable.prototype.shouldAddBorderRect_=function(){return t.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},t.FieldVariable.prototype.fromXml=function(e){var n=e.getAttribute("id"),s=e.textContent,f=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(n=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,n,s,f),null!=f&&f!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+t.Xml.domToText(e)+".");this.setValue(n.getId())},t.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},t.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");t.FieldVariable.superClass_.setSourceBlock.call(this,e)},t.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},t.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},t.FieldVariable.prototype.getVariable=function(){return this.variable_},t.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},t.FieldVariable.prototype.doClassValidation_=function(e){if(null===e)return null;var n=t.Variables.getVariable(this.sourceBlock_.workspace,e);return n?this.typeIsAllowed_(n=n.type)?e:(console.warn("Variable type doesn't match this field!  Type was "+n),null):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)},t.FieldVariable.prototype.doValueUpdate_=function(e){this.variable_=t.Variables.getVariable(this.sourceBlock_.workspace,e),t.FieldVariable.superClass_.doValueUpdate_.call(this,e)},t.FieldVariable.prototype.typeIsAllowed_=function(e){var n=this.getVariableTypes_();if(!n)return!0;for(var s=0;s<n.length;s++)if(e==n[s])return!0;return!1},t.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},t.FieldVariable.prototype.setTypes_=function(e,n){if(n=n||"",null==e||null==e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var s=!1,f=0;f<e.length;f++)e[f]==n&&(s=!0);if(!s)throw Error("Invalid default type '"+n+"' in the definition of a FieldVariable")}this.defaultType_=n,this.variableTypes=e},t.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},t.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var s=this.getVariableTypes_(),f=0;f<s.length;f++){var y=this.sourceBlock_.workspace.getVariablesOfType(s[f]);n=n.concat(y)}for(n.sort(t.VariableModel.compareByName),s=[],f=0;f<n.length;f++)s[f]=[n[f].name,n[f].getId()];return s.push([t.Msg.RENAME_VARIABLE,t.RENAME_VARIABLE_ID]),t.Msg.DELETE_VARIABLE&&s.push([t.Msg.DELETE_VARIABLE.replace("%1",e),t.DELETE_VARIABLE_ID]),s},t.FieldVariable.prototype.onItemSelected_=function(e,n){if(e=n.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(e==t.RENAME_VARIABLE_ID)return void t.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(e==t.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(e)},t.FieldVariable.prototype.referencesVariables=function(){return!0},t.fieldRegistry.register("field_variable",t.FieldVariable),t.utils.svgPaths={},t.utils.svgPaths.point=function(e,n){return" "+e+","+n+" "},t.utils.svgPaths.curve=function(e,n){return" "+e+n.join("")},t.utils.svgPaths.moveTo=function(e,n){return" M "+e+","+n+" "},t.utils.svgPaths.moveBy=function(e,n){return" m "+e+","+n+" "},t.utils.svgPaths.lineTo=function(e,n){return" l "+e+","+n+" "},t.utils.svgPaths.line=function(e){return" l"+e.join("")},t.utils.svgPaths.lineOnAxis=function(e,n){return" "+e+" "+n+" "},t.utils.svgPaths.arc=function(e,n,s,f){return e+" "+s+" "+s+" "+n+f},t.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=t.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},t.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},t.blockRendering.ConstantProvider.prototype.setTheme=function(e){this.blockStyles=Object.create(null);var s,n=e.blockStyles;for(s in n)this.blockStyles[s]=this.validatedBlockStyle_(n[s]);this.setDynamicProperties_(e)},t.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=null!=e.startHats?e.startHats:this.ADD_START_HATS},t.blockRendering.ConstantProvider.prototype.setFontConstants_=function(e){this.FIELD_TEXT_FONTFAMILY=e.fontStyle&&null!=e.fontStyle.family?e.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=e.fontStyle&&null!=e.fontStyle.weight?e.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=e.fontStyle&&null!=e.fontStyle.size?e.fontStyle.size:this.FIELD_TEXT_FONTSIZE,e=t.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline},t.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},t.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(e){var n="auto_"+e;return this.blockStyles[n]||(this.blockStyles[n]=this.createBlockStyle_(e)),{style:this.blockStyles[n],name:n}},t.blockRendering.ConstantProvider.prototype.getBlockStyle=function(e){return this.blockStyles[e||""]||(e&&0==e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))},t.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(e){return this.validatedBlockStyle_({colourPrimary:e})},t.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(e){var n={};return e&&t.utils.object.mixin(n,e),e=t.utils.parseBlockColour(n.colourPrimary||"#000"),n.colourPrimary=e.hex,n.colourSecondary=n.colourSecondary?t.utils.parseBlockColour(n.colourSecondary).hex:this.generateSecondaryColour_(n.colourPrimary),n.colourTertiary=n.colourTertiary?t.utils.parseBlockColour(n.colourTertiary).hex:this.generateTertiaryColour_(n.colourPrimary),n.hat=n.hat||"",n},t.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#fff",e,.6)||e},t.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#fff",e,.3)||e},t.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&t.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&t.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&t.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},t.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var e=this.JAGGED_TEETH_HEIGHT,n=this.JAGGED_TEETH_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.line([t.utils.svgPaths.point(n,e/4),t.utils.svgPaths.point(2*-n,e/2),t.utils.svgPaths.point(n,e/4)])}},t.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(30,-e),t.utils.svgPaths.point(70,-e),t.utils.svgPaths.point(n,0)])}},t.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function e(M){var A=-(M=M?-1:1),P=s/2,B=P+2.5,ne=P+.5,te=t.utils.svgPaths.point(-n,M*P);return P=t.utils.svgPaths.point(n,M*P),t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(0,M*B),t.utils.svgPaths.point(-n,A*ne),te])+t.utils.svgPaths.curve("s",[t.utils.svgPaths.point(n,2.5*A),P])}var n=this.TAB_WIDTH,s=this.TAB_HEIGHT,f=e(!0),y=e(!1);return{type:this.SHAPES.PUZZLE,width:n,height:s,pathDown:y,pathUp:f}},t.blockRendering.ConstantProvider.prototype.makeNotch=function(){function e(A){return t.utils.svgPaths.line([t.utils.svgPaths.point(A*f,s),t.utils.svgPaths.point(3*A,0),t.utils.svgPaths.point(A*f,-s)])}var n=this.NOTCH_WIDTH,s=this.NOTCH_HEIGHT,f=(n-3)/2,y=e(1),M=e(-1);return{type:this.SHAPES.NOTCH,width:n,height:s,pathLeft:y,pathRight:M}},t.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e))}},t.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var e=this.CORNER_RADIUS,n=t.utils.svgPaths.moveBy(0,e)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,-e)),s=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e)),f=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,-e));return{topLeft:n,topRight:s,bottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e)),bottomLeft:f,rightHeight:e}},t.blockRendering.ConstantProvider.prototype.shapeFor=function(e){switch(e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:return this.PUZZLE_TAB;case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},t.blockRendering.ConstantProvider.prototype.createDom=function(e,n,s){this.injectCSS_(n,s),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},n),s=t.utils.dom.createSvgElement(t.utils.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},s),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},n),this.embossFilterId=n.id,this.embossFilter_=n,n=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:10,height:10,fill:"#aaa"},n),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},n),this.disabledPatternId=n.id,this.disabledPattern_=n,t.blockRendering.Debug&&(e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e)},t.blockRendering.ConstantProvider.prototype.injectCSS_=function(e,n){n=this.getCSS_(n),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);var s=n.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=s:((n=document.createElement("style")).id=e,e=document.createTextNode(s),n.appendChild(e),document.head.insertBefore(n,document.head.firstChild),this.cssNode_=n)},t.blockRendering.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},t.blockRendering.Types.LEFT_CORNER=t.blockRendering.Types.LEFT_SQUARE_CORNER|t.blockRendering.Types.LEFT_ROUND_CORNER,t.blockRendering.Types.RIGHT_CORNER=t.blockRendering.Types.RIGHT_SQUARE_CORNER|t.blockRendering.Types.RIGHT_ROUND_CORNER,t.blockRendering.Types.nextTypeValue_=16777216,t.blockRendering.Types.getType=function(e){return Object.prototype.hasOwnProperty.call(t.blockRendering.Types,e)||(t.blockRendering.Types[e]=t.blockRendering.Types.nextTypeValue_,t.blockRendering.Types.nextTypeValue_<<=1),t.blockRendering.Types[e]},t.blockRendering.Types.isField=function(e){return e.type&t.blockRendering.Types.FIELD},t.blockRendering.Types.isHat=function(e){return e.type&t.blockRendering.Types.HAT},t.blockRendering.Types.isIcon=function(e){return e.type&t.blockRendering.Types.ICON},t.blockRendering.Types.isSpacer=function(e){return e.type&t.blockRendering.Types.SPACER},t.blockRendering.Types.isInRowSpacer=function(e){return e.type&t.blockRendering.Types.IN_ROW_SPACER},t.blockRendering.Types.isInput=function(e){return e.type&t.blockRendering.Types.INPUT},t.blockRendering.Types.isExternalInput=function(e){return e.type&t.blockRendering.Types.EXTERNAL_VALUE_INPUT},t.blockRendering.Types.isInlineInput=function(e){return e.type&t.blockRendering.Types.INLINE_INPUT},t.blockRendering.Types.isStatementInput=function(e){return e.type&t.blockRendering.Types.STATEMENT_INPUT},t.blockRendering.Types.isPreviousConnection=function(e){return e.type&t.blockRendering.Types.PREVIOUS_CONNECTION},t.blockRendering.Types.isNextConnection=function(e){return e.type&t.blockRendering.Types.NEXT_CONNECTION},t.blockRendering.Types.isPreviousOrNextConnection=function(e){return e.type&(t.blockRendering.Types.PREVIOUS_CONNECTION|t.blockRendering.Types.NEXT_CONNECTION)},t.blockRendering.Types.isLeftRoundedCorner=function(e){return e.type&t.blockRendering.Types.LEFT_ROUND_CORNER},t.blockRendering.Types.isRightRoundedCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_ROUND_CORNER},t.blockRendering.Types.isLeftSquareCorner=function(e){return e.type&t.blockRendering.Types.LEFT_SQUARE_CORNER},t.blockRendering.Types.isRightSquareCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_SQUARE_CORNER},t.blockRendering.Types.isCorner=function(e){return e.type&t.blockRendering.Types.CORNER},t.blockRendering.Types.isJaggedEdge=function(e){return e.type&t.blockRendering.Types.JAGGED_EDGE},t.blockRendering.Types.isRow=function(e){return e.type&t.blockRendering.Types.ROW},t.blockRendering.Types.isBetweenRowSpacer=function(e){return e.type&t.blockRendering.Types.BETWEEN_ROW_SPACER},t.blockRendering.Types.isTopRow=function(e){return e.type&t.blockRendering.Types.TOP_ROW},t.blockRendering.Types.isBottomRow=function(e){return e.type&t.blockRendering.Types.BOTTOM_ROW},t.blockRendering.Types.isTopOrBottomRow=function(e){return e.type&(t.blockRendering.Types.TOP_ROW|t.blockRendering.Types.BOTTOM_ROW)},t.blockRendering.Types.isInputRow=function(e){return e.type&t.blockRendering.Types.INPUT_ROW},t.blockRendering.Measurable=function(e){this.height=this.width=0,this.type=t.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Connection=function(e,n){t.blockRendering.Connection.superClass_.constructor.call(this,e),this.connectionModel=n,this.shape=this.constants_.shapeFor(n),this.isDynamicShape=!!this.shape.isDynamic,this.type|=t.blockRendering.Types.CONNECTION},t.utils.object.inherits(t.blockRendering.Connection,t.blockRendering.Measurable),t.blockRendering.OutputConnection=function(e,n){t.blockRendering.OutputConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.OutputConnection,t.blockRendering.Connection),t.blockRendering.PreviousConnection=function(e,n){t.blockRendering.PreviousConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.PreviousConnection,t.blockRendering.Connection),t.blockRendering.NextConnection=function(e,n){t.blockRendering.NextConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.NextConnection,t.blockRendering.Connection),t.blockRendering.InputConnection=function(e,n){t.blockRendering.InputConnection.superClass_.constructor.call(this,e,n.connection),this.type|=t.blockRendering.Types.INPUT,this.input=n,this.align=n.align,(this.connectedBlock=n.connection&&n.connection.targetBlock()?n.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.InputConnection,t.blockRendering.Connection),t.blockRendering.InlineInput=function(e,n){t.blockRendering.InlineInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},t.utils.object.inherits(t.blockRendering.InlineInput,t.blockRendering.InputConnection),t.blockRendering.StatementInput=function(e,n){t.blockRendering.StatementInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},t.utils.object.inherits(t.blockRendering.StatementInput,t.blockRendering.InputConnection),t.blockRendering.ExternalValueInput=function(e,n){t.blockRendering.ExternalValueInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.ExternalValueInput,t.blockRendering.InputConnection),t.blockRendering.Icon=function(e,n){t.blockRendering.Icon.superClass_.constructor.call(this,e),this.icon=n,this.isVisible=n.isVisible(),this.type|=t.blockRendering.Types.ICON,e=n.getCorrectedSize(),this.height=e.height,this.width=e.width},t.utils.object.inherits(t.blockRendering.Icon,t.blockRendering.Measurable),t.blockRendering.JaggedEdge=function(e){t.blockRendering.JaggedEdge.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},t.utils.object.inherits(t.blockRendering.JaggedEdge,t.blockRendering.Measurable),t.blockRendering.Field=function(e,n,s){t.blockRendering.Field.superClass_.constructor.call(this,e),this.field=n,this.isEditable=n.EDITABLE,this.flipRtl=n.getFlipRtl(),this.type|=t.blockRendering.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=s},t.utils.object.inherits(t.blockRendering.Field,t.blockRendering.Measurable),t.blockRendering.Hat=function(e){t.blockRendering.Hat.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},t.utils.object.inherits(t.blockRendering.Hat,t.blockRendering.Measurable),t.blockRendering.SquareCorner=function(e,n){t.blockRendering.SquareCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_SQUARE_CORNER:t.blockRendering.Types.LEFT_SQUARE_CORNER)|t.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},t.utils.object.inherits(t.blockRendering.SquareCorner,t.blockRendering.Measurable),t.blockRendering.RoundCorner=function(e,n){t.blockRendering.RoundCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_ROUND_CORNER:t.blockRendering.Types.LEFT_ROUND_CORNER)|t.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},t.utils.object.inherits(t.blockRendering.RoundCorner,t.blockRendering.Measurable),t.blockRendering.InRowSpacer=function(e,n){t.blockRendering.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.IN_ROW_SPACER,this.width=n,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},t.utils.object.inherits(t.blockRendering.InRowSpacer,t.blockRendering.Measurable),t.blockRendering.Row=function(e){this.type=t.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},t.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},t.blockRendering.Row.prototype.getLastInput=function(){for(var n,e=this.elements.length-1;n=this.elements[e];e--)if(t.blockRendering.Types.isInput(n))return n;return null},t.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.getFirstSpacer=function(){for(var n,e=0;n=this.elements[e];e++)if(t.blockRendering.Types.isSpacer(n))return n;return null},t.blockRendering.Row.prototype.getLastSpacer=function(){for(var n,e=this.elements.length-1;n=this.elements[e];e--)if(t.blockRendering.Types.isSpacer(n))return n;return null},t.blockRendering.TopRow=function(e){t.blockRendering.TopRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},t.utils.object.inherits(t.blockRendering.TopRow,t.blockRendering.Row),t.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var n=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,s=e.getPreviousBlock();return!!e.outputConnection||n||!!s&&s.getNextBlock()==e},t.blockRendering.TopRow.prototype.hasRightSquareCorner=function(e){return!0},t.blockRendering.TopRow.prototype.measure=function(){for(var y,e=0,n=0,s=0,f=0;y=this.elements[f];f++)n+=y.width,t.blockRendering.Types.isSpacer(y)||(t.blockRendering.Types.isHat(y)?s=Math.max(s,y.ascenderHeight):e=Math.max(e,y.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,e)+s,this.capline=this.ascenderHeight=s,this.widthWithConnectedBlocks=this.width},t.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow=function(e){t.blockRendering.BottomRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},t.utils.object.inherits(t.blockRendering.BottomRow,t.blockRendering.Row),t.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},t.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(e){return!0},t.blockRendering.BottomRow.prototype.measure=function(){for(var y,e=0,n=0,s=0,f=0;y=this.elements[f];f++)n+=y.width,t.blockRendering.Types.isSpacer(y)||(t.blockRendering.Types.isNextConnection(y)?s=Math.max(s,y.height):e=Math.max(e,y.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,e)+s,this.descenderHeight=s,this.widthWithConnectedBlocks=this.width},t.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.SpacerRow=function(e,n,s){t.blockRendering.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=s,this.height=n,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new t.blockRendering.InRowSpacer(this.constants_,s)]},t.utils.object.inherits(t.blockRendering.SpacerRow,t.blockRendering.Row),t.blockRendering.SpacerRow.prototype.measure=function(){},t.blockRendering.InputRow=function(e){t.blockRendering.InputRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},t.utils.object.inherits(t.blockRendering.InputRow,t.blockRendering.Row),t.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var s,e=0,n=0;s=this.elements[n];n++)this.width+=s.width,t.blockRendering.Types.isInput(s)&&(t.blockRendering.Types.isStatementInput(s)?e+=s.connectedBlockWidth:t.blockRendering.Types.isExternalInput(s)&&0!=s.connectedBlockWidth&&(e+=s.connectedBlockWidth-s.connectionWidth)),t.blockRendering.Types.isSpacer(s)||(this.height=Math.max(this.height,s.height));this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e},t.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},t.blockRendering.RenderInfo=function(e,n){this.block_=n,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new t.blockRendering.OutputConnection(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new t.blockRendering.TopRow(this.constants_),this.bottomRow=new t.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},t.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new t.blockRendering.InputRow(this.constants_);this.inputRows.push(e);for(var f,n=this.block_.getIcons(),s=0;f=n[s];s++){var y=new t.blockRendering.Icon(this.constants_,f);this.isCollapsed&&f.collapseHidden?this.hiddenIcons.push(y):e.elements.push(y)}for(f=null,s=0;n=this.block_.inputList[s];s++)if(n.isVisible()){for(this.shouldStartNewRow_(n,f)&&(this.rows.push(e),e=new t.blockRendering.InputRow(this.constants_),this.inputRows.push(e)),f=0;y=n.fieldRow[f];f++)e.elements.push(new t.blockRendering.Field(this.constants_,y,n));this.addInput_(n,e),f=n}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new t.blockRendering.JaggedEdge(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)},t.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var e=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e,s=this.topRow.hasLeftSquareCorner(this.block_)?t.blockRendering.SquareCorner:t.blockRendering.RoundCorner;this.topRow.elements.push(new s(this.constants_)),n?(e=new t.blockRendering.Hat(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new t.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.topRow.minHeight=this.block_.inputList.length&&this.block_.inputList[0].type==t.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.constants_.TOP_ROW_MIN_HEIGHT,s=this.topRow.hasRightSquareCorner(this.block_)?t.blockRendering.SquareCorner:t.blockRendering.RoundCorner,this.topRow.elements.push(new s(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new t.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(n.elements.push(new t.blockRendering.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),null==n.align&&(n.align=e.align)},t.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!(!n||e.type!=t.inputTypes.STATEMENT&&n.type!=t.inputTypes.STATEMENT&&(e.type!=t.inputTypes.VALUE&&e.type!=t.inputTypes.DUMMY||this.isInline))},t.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var n,e=0;n=this.rows[e];e++){var s=n.elements;if(n.elements=[],n.startsWithElemSpacer()&&n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(var f=0;f<s.length-1;f++){n.elements.push(s[f]);var y=this.getInRowSpacing_(s[f],s[f+1]);n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,y))}n.elements.push(s[s.length-1]),n.endsWithElemSpacer()&&n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(s[s.length-1],null)))}}},t.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e&&n&&t.blockRendering.Types.isStatementInput(n))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var y,e=0,n=0,s=0,f=0;y=this.rows[f];f++){if(y.measure(),n=Math.max(n,y.width),y.hasStatement){var M=y.getLastInput();e=Math.max(e,y.width-M.width)}s=Math.max(s,y.widthWithConnectedBlocks)}for(this.statementEdge=e,this.width=n,f=0;y=this.rows[f];f++)y.hasStatement&&(y.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,s),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},t.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var n,e=0;n=this.rows[e];e++)if(n.hasStatement)this.alignStatementRow_(n);else{var s=n.width;0<(s=this.getDesiredRowWidth_(n)-s)&&this.addAlignmentPadding_(n,s),t.blockRendering.Types.isTopOrBottomRow(n)&&(n.widthWithConnectedBlocks=n.width)}},t.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(e,n){var s=e.getFirstSpacer(),f=e.getLastSpacer();(e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=n),e.align==t.constants.ALIGN.LEFT?f.width+=n:e.align==t.constants.ALIGN.CENTRE?(s.width+=n/2,f.width+=n/2):e.align==t.constants.ALIGN.RIGHT?s.width+=n:f.width+=n,e.width+=n},t.blockRendering.RenderInfo.prototype.alignStatementRow_=function(e){var n=e.getLastInput(),s=e.width-n.width,f=this.statementEdge;0<(s=f-s)&&this.addAlignmentPadding_(e,s),s=e.width,f=this.getDesiredRowWidth_(e),n.width+=f-s,n.height=Math.max(n.height,e.height),e.width+=f-s,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)},t.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var n=0;n<e.length;n++)this.rows.push(e[n]),n!=e.length-1&&this.rows.push(this.makeSpacerRow_(e[n],e[n+1]))},t.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(e,n){var s=this.getSpacerRowHeight_(e,n),f=this.getSpacerRowWidth_(e,n);return s=new t.blockRendering.SpacerRow(this.constants_,s,f),e.hasStatement&&(s.followsStatement=!0),n.hasStatement&&(s.precedesStatement=!0),s},t.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(e,n){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.getElemCenterline_=function(e,n){return t.blockRendering.Types.isSpacer(n)?e.yPos+n.height/2:t.blockRendering.Types.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2):t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2:e.yPos+e.height/2},t.blockRendering.RenderInfo.prototype.recordElemPositions_=function(e){for(var f,n=e.xPos,s=0;f=e.elements[s];s++)t.blockRendering.Types.isSpacer(f)&&(f.height=e.height),f.xPos=n,f.centerline=this.getElemCenterline_(e,f),n+=f.width},t.blockRendering.RenderInfo.prototype.finalize_=function(){for(var f,e=0,n=0,s=0;f=this.rows[s];s++)f.yPos=n,f.xPos=this.startX,n+=f.height,e=Math.max(e,f.widthWithConnectedBlocks),this.recordElemPositions_(f);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight},t.blockRendering.Debug=function(e){this.debugElements_=[],this.svgRoot_=null,this.constants_=e},t.blockRendering.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},t.blockRendering.Debug.prototype.clearElems=function(){for(var n,e=0;n=this.debugElements_[e];e++)t.utils.dom.removeNode(n);this.debugElements_=[]},t.blockRendering.Debug.prototype.drawSpacerRow=function(e,n,s){if(t.blockRendering.Debug.config.rowSpacers){var f=Math.abs(e.height),y=0>e.height;y&&(n-=f),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:s?-(e.xPos+e.width):e.xPos,y:n,width:e.width,height:f,stroke:y?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawSpacerElem=function(e,n,s){if(t.blockRendering.Debug.config.elemSpacers){n=Math.abs(e.width);var f=0>e.width,y=f?e.xPos-n:e.xPos;s&&(y=-(y+n)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:y,y:e.centerline-e.height/2,width:n,height:e.height,stroke:"pink",fill:f?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedElem=function(e,n){if(t.blockRendering.Debug.config.elems){var s=e.xPos;n&&(s=-(s+e.width)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:s,y:n=e.centerline-e.height/2,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isField(e)&&e.field instanceof t.FieldLabel&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:s,y:n+this.constants_.FIELD_TEXT_BASELINE,width:e.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}t.blockRendering.Types.isInput(e)&&t.blockRendering.Debug.config.connections&&this.drawConnection(e.connectionModel)},t.blockRendering.Debug.prototype.drawConnection=function(e){if(t.blockRendering.Debug.config.connections){if(e.type==t.connectionTypes.INPUT_VALUE)var n=4,s="magenta",f="none";else e.type==t.connectionTypes.OUTPUT_VALUE?(n=2,f=s="magenta"):e.type==t.connectionTypes.NEXT_STATEMENT?(n=4,s="goldenrod",f="none"):e.type==t.connectionTypes.PREVIOUS_STATEMENT&&(n=2,f=s="goldenrod");this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blockRenderDebug",cx:e.offsetInBlock_.x,cy:e.offsetInBlock_.y,r:n,fill:f,stroke:s},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedRow=function(e,n,s){t.blockRendering.Debug.config.rows&&(this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:s?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isTopOrBottomRow(e)||t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:s?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},t.blockRendering.Debug.prototype.drawRowWithElements=function(e,n,s){for(var f=0,y=e.elements.length;f<y;f++){var M=e.elements[f];M?t.blockRendering.Types.isSpacer(M)?this.drawSpacerElem(M,e.height,s):this.drawRenderedElem(M,s):console.warn("A row has an undefined or null element.",e,M)}this.drawRenderedRow(e,n,s)},t.blockRendering.Debug.prototype.drawBoundingBox=function(e){if(t.blockRendering.Debug.config.blockBounds){var n=e.RTL?-e.width:0;this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:n,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockRenderDebug",x:n=e.RTL?-e.widthWithChildren:0,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawDebug=function(e,n){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var y,s=0,f=0;y=n.rows[f];f++)t.blockRendering.Types.isBetweenRowSpacer(y)?this.drawSpacerRow(y,s,n.RTL):this.drawRowWithElements(y,s,n.RTL),s+=y.height;e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),n.rightSide&&this.drawRenderedElem(n.rightSide,n.RTL),this.drawBoundingBox(n),this.drawRender(e.pathObject.svgPath)},t.blockRendering.Debug.prototype.drawRender=function(e){t.blockRendering.Debug.config.render&&(e.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout(function(){e.setAttribute("filter","")},100))},t.blockRendering.Drawer=function(e,n){this.block_=e,this.info_=n,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=n.getRenderer().getConstants()},t.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},t.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var n,e=0;n=this.info_.hiddenIcons[e];e++)n.icon.iconGroup_.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var n=this.info_.rows[e];n.hasJaggedEdge?this.drawJaggedEdge_(n):n.hasStatement?this.drawStatementInput_(n):n.hasExternalInput?this.drawValueInput_(n):this.drawRightSideRow_(n)}this.drawBottom_(),this.drawLeft_()},t.blockRendering.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,n=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var f,s=0;f=n[s];s++)t.blockRendering.Types.isLeftRoundedCorner(f)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:t.blockRendering.Types.isRightRoundedCorner(f)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:t.blockRendering.Types.isPreviousConnection(f)?this.outlinePath_+=f.shape.pathLeft:t.blockRendering.Types.isHat(f)?this.outlinePath_+=this.constants_.START_HAT.path:t.blockRendering.Types.isSpacer(f)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",f.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("v",e.height)},t.blockRendering.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+t.utils.svgPaths.lineOnAxis("v",e.height-this.constants_.JAGGED_TEETH.height)},t.blockRendering.Drawer.prototype.drawValueInput_=function(e){var n=e.getLastInput();this.positionExternalValueConnection_(e);var s="function"==typeof n.shape.pathDown?n.shape.pathDown(n.height):n.shape.pathDown;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",n.xPos+n.width)+s+t.utils.svgPaths.lineOnAxis("v",e.height-n.connectionHeight)},t.blockRendering.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),s=n.xPos+n.notchOffset+n.shape.width;n=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var f=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",s)+n+t.utils.svgPaths.lineOnAxis("v",f)+this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.blockRendering.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.blockRendering.Drawer.prototype.drawBottom_=function(){var e=this.info_.bottomRow,n=e.elements;this.positionNextConnection_();for(var M,s=0,f="",y=n.length-1;M=n[y];y--)t.blockRendering.Types.isNextConnection(M)?f+=M.shape.pathRight:t.blockRendering.Types.isLeftSquareCorner(M)?f+=t.utils.svgPaths.lineOnAxis("H",e.xPos):t.blockRendering.Types.isLeftRoundedCorner(M)?f+=this.constants_.OUTSIDE_CORNERS.bottomLeft:t.blockRendering.Types.isRightRoundedCorner(M)?(f+=this.constants_.OUTSIDE_CORNERS.bottomRight,s=this.constants_.OUTSIDE_CORNERS.rightHeight):t.blockRendering.Types.isSpacer(M)&&(f+=t.utils.svgPaths.lineOnAxis("h",-1*M.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-s),this.outlinePath_+=f},t.blockRendering.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var n=e.connectionOffsetY+e.height;e="function"==typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",n)+e}this.outlinePath_+="z"},t.blockRendering.Drawer.prototype.drawInternals_=function(){for(var n,e=0;n=this.info_.rows[e];e++)for(var f,s=0;f=n.elements[s];s++)t.blockRendering.Types.isInlineInput(f)?this.drawInlineInput_(f):(t.blockRendering.Types.isIcon(f)||t.blockRendering.Types.isField(f))&&this.layoutField_(f)},t.blockRendering.Drawer.prototype.layoutField_=function(e){if(t.blockRendering.Types.isField(e))var n=e.field.getSvgRoot();else t.blockRendering.Types.isIcon(e)&&(n=e.icon.iconGroup_);var s=e.centerline-e.height/2,f=e.xPos,y="";this.info_.RTL&&(f=-(f+e.width),e.flipRtl&&(f+=e.width,y="scale(-1 1)")),t.blockRendering.Types.isIcon(e)?(n.setAttribute("display","block"),n.setAttribute("transform","translate("+f+","+s+")"),e.icon.computeIconLocation()):n.setAttribute("transform","translate("+f+","+s+")"+y),this.info_.isInsertionMarker&&n.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawInlineInput_=function(e){var n=e.width,s=e.height,f=e.connectionOffsetY,y=e.connectionHeight+f;this.inlinePath_+=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-s/2)+t.utils.svgPaths.lineOnAxis("v",f)+e.shape.pathDown+t.utils.svgPaths.lineOnAxis("v",s-y)+t.utils.svgPaths.lineOnAxis("h",n-e.connectionWidth)+t.utils.svgPaths.lineOnAxis("v",-s)+"z",this.positionInlineInputConnection_(e)},t.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(e){if(e.connectionModel){var s=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(s*=-1),e.connectionModel.setOffsetInBlock(s,e.centerline-e.height/2+e.connectionOffsetY)}},t.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var s=e.xPos+e.statementEdge+n.notchOffset;this.info_.RTL&&(s*=-1),n.connectionModel.setOffsetInBlock(s,e.yPos)}},t.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var s=e.xPos+e.width;this.info_.RTL&&(s*=-1),n.connectionModel.setOffsetInBlock(s,e.yPos)}},t.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var n=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,0)}},t.blockRendering.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var n=e.connection,s=n.xPos;n.connectionModel.setOffsetInBlock(this.info_.RTL?-s:s,e.baseline)}},t.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}},t.Events.MarkerMove=function(e,n,s,f){var y=e?e.workspace.id:void 0;f&&f.getType()==t.ASTNode.types.WORKSPACE&&(y=f.getLocation().id),t.Events.MarkerMove.superClass_.constructor.call(this,y),this.blockId=e?e.id:null,this.oldNode=s,this.newNode=f,this.isCursor=n},t.utils.object.inherits(t.Events.MarkerMove,t.Events.UiBase),t.Events.MarkerMove.prototype.type=t.Events.MARKER_MOVE,t.Events.MarkerMove.prototype.toJson=function(){var e=t.Events.MarkerMove.superClass_.toJson.call(this);return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e},t.Events.MarkerMove.prototype.fromJson=function(e){t.Events.MarkerMove.superClass_.fromJson.call(this,e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode},t.registry.register(t.registry.Type.EVENT,t.Events.MARKER_MOVE,t.Events.MarkerMove),t.blockRendering.MarkerSvg=function(e,n,s){this.workspace_=e,this.marker_=s,this.parent_=null,this.constants_=n,this.currentMarkerSvg=null,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=s.colour||e},t.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",t.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,t.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},t.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},t.blockRendering.MarkerSvg.prototype.createDom=function(){var e=this.isCursor()?t.blockRendering.MarkerSvg.CURSOR_CLASS:t.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},null),this.createDomInternal_(),this.svgGroup_},t.blockRendering.MarkerSvg.prototype.setParent_=function(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e},t.blockRendering.MarkerSvg.prototype.draw=function(e,n){if(n){this.constants_=this.workspace_.getRenderer().getConstants();var s=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||s,this.applyColour_(n),this.showAtLocation_(n),this.fireMarkerEvent_(e,n),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()},t.blockRendering.MarkerSvg.prototype.showAtLocation_=function(e){var n=e.getLocation().type;e.getType()==t.ASTNode.types.BLOCK?this.showWithBlock_(e):e.getType()==t.ASTNode.types.OUTPUT?this.showWithOutput_(e):n==t.connectionTypes.INPUT_VALUE?this.showWithInput_(e):n==t.connectionTypes.NEXT_STATEMENT?this.showWithNext_(e):e.getType()==t.ASTNode.types.PREVIOUS?this.showWithPrevious_(e):e.getType()==t.ASTNode.types.FIELD?this.showWithField_(e):e.getType()==t.ASTNode.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()==t.ASTNode.types.STACK&&this.showWithStack_(e)},t.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(e){var n=(e=e.getSourceBlock()).width,s=e.height,f=s*t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,y=this.constants_.CURSOR_BLOCK_PADDING;if(e.previousConnection){var M=this.constants_.shapeFor(e.previousConnection);this.positionPrevious_(n,y,f,M)}else e.outputConnection?(M=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(n,s,M)):this.positionBlock_(n,y,f);this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithBlock_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(e){var n=e.getWsCoordinate();e=n.x,this.workspace_.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,n=n.y,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithField_=function(e){var n=(e=e.getLocation()).getSize().width,s=e.getSize().height;this.positionRect_(0,0,n,s),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithInput_=function(e){var n=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(n),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithNext_=function(e){var n=e.getLocation();e=n.getSourceBlock();var s=0;n=n.getOffsetInBlock().y;var f=e.getHeightWidth().width;this.workspace_.RTL&&(s=-f),this.positionLine_(s,n,f),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithStack_=function(e){var n=(e=e.getLocation()).getHeightWidth(),s=n.width+this.constants_.CURSOR_STACK_PADDING,f=-this.constants_.CURSOR_STACK_PADDING/2,M=f;this.workspace_.RTL&&(M=-(s+f)),this.positionRect_(M,-this.constants_.CURSOR_STACK_PADDING/2,s,n=n.height+this.constants_.CURSOR_STACK_PADDING),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},t.blockRendering.MarkerSvg.prototype.positionBlock_=function(e,n,s){e=t.utils.svgPaths.moveBy(-n,s)+t.utils.svgPaths.lineOnAxis("V",-n)+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",s),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionInput_=function(e){var n=e.getOffsetInBlock().x,s=e.getOffsetInBlock().y;e=t.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+n+","+s+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},t.blockRendering.MarkerSvg.prototype.positionLine_=function(e,n,s){this.markerSvgLine_.setAttribute("x",e),this.markerSvgLine_.setAttribute("y",n),this.markerSvgLine_.setAttribute("width",s),this.currentMarkerSvg=this.markerSvgLine_},t.blockRendering.MarkerSvg.prototype.positionOutput_=function(e,n,s){e=t.utils.svgPaths.moveBy(e,0)+t.utils.svgPaths.lineOnAxis("h",-(e-s.width))+t.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+s.pathDown+t.utils.svgPaths.lineOnAxis("V",n)+t.utils.svgPaths.lineOnAxis("H",e),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionPrevious_=function(e,n,s,f){e=t.utils.svgPaths.moveBy(-n,s)+t.utils.svgPaths.lineOnAxis("V",-n)+t.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+f.pathLeft+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",s),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionRect_=function(e,n,s,f){this.markerSvgRect_.setAttribute("x",e),this.markerSvgRect_.setAttribute("y",n),this.markerSvgRect_.setAttribute("width",s),this.markerSvgRect_.setAttribute("height",f),this.currentMarkerSvg=this.markerSvgRect_},t.blockRendering.MarkerSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},t.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},t.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(e,n){var s=n.getSourceBlock();e=new(t.Events.get(t.Events.MARKER_MOVE))(s,this.isCursor(),e,n),t.Events.fire(e)},t.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},t.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerSvgLine_),t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerInput_),e.attributeName="stroke",t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerBlock_)}return this.markerSvg_},t.blockRendering.MarkerSvg.prototype.applyColour_=function(e){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(this.markerSvgLine_.firstChild.setAttribute("values",e=this.colour_+";transparent;transparent;"),this.markerInput_.firstChild.setAttribute("values",e),this.markerBlock_.firstChild.setAttribute("values",e))},t.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.blockRendering.PathObject=function(e,n,s){this.constants=s,this.svgRoot=e,this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=n,this.markerSvg=this.cursorSvg=null},t.blockRendering.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e)},t.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},t.blockRendering.PathObject.prototype.setCursorSvg=function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null},t.blockRendering.PathObject.prototype.setMarkerSvg=function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null},t.blockRendering.PathObject.prototype.applyColour=function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())},t.blockRendering.PathObject.prototype.setStyle=function(e){this.style=e},t.blockRendering.PathObject.prototype.setClass_=function(e,n){n?t.utils.dom.addClass(this.svgRoot,e):t.utils.dom.removeClass(this.svgRoot,e)},t.blockRendering.PathObject.prototype.updateHighlighted=function(e){this.svgPath.setAttribute("filter",e?"url(#"+this.constants.embossFilterId+")":"none")},t.blockRendering.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.blockRendering.PathObject.prototype.updateDisabled_=function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},t.blockRendering.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e)},t.blockRendering.PathObject.prototype.updateDraggingDelete=function(e){this.setClass_("blocklyDraggingDelete",e)},t.blockRendering.PathObject.prototype.updateInsertionMarker=function(e){this.setClass_("blocklyInsertionMarker",e)},t.blockRendering.PathObject.prototype.updateMovable=function(e){this.setClass_("blocklyDraggable",e)},t.blockRendering.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e)},t.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(e,n){},t.blockRendering.Renderer=function(e){this.name=e,this.overrides=this.constants_=null},t.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},t.blockRendering.Renderer.prototype.init=function(e,n){this.constants_=this.makeConstants_(),n&&(this.overrides=n,t.utils.object.mixin(this.constants_,n)),this.constants_.setTheme(e),this.constants_.init()},t.blockRendering.Renderer.prototype.createDom=function(e,n){this.constants_.createDom(e,this.name+"-"+n.name,"."+this.getClassName()+"."+n.getClassName())},t.blockRendering.Renderer.prototype.refreshDom=function(e,n){var s=this.getConstants();s.dispose(),this.constants_=this.makeConstants_(),this.overrides&&t.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=s.randomIdentifier,this.constants_.setTheme(n),this.constants_.init(),this.createDom(e,n)},t.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},t.blockRendering.Renderer.prototype.makeConstants_=function(){return new t.blockRendering.ConstantProvider},t.blockRendering.Renderer.prototype.makeRenderInfo_=function(e){return new t.blockRendering.RenderInfo(this,e)},t.blockRendering.Renderer.prototype.makeDrawer_=function(e,n){return new t.blockRendering.Drawer(e,n)},t.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!t.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new t.blockRendering.Debug(this.getConstants())},t.blockRendering.Renderer.prototype.makeMarkerDrawer=function(e,n){return new t.blockRendering.MarkerSvg(e,this.getConstants(),n)},t.blockRendering.Renderer.prototype.makePathObject=function(e,n){return new t.blockRendering.PathObject(e,n,this.constants_)},t.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},t.blockRendering.Renderer.prototype.shouldHighlightConnection=function(e){return!0},t.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(e,n,s){return!!t.Connection.getConnectionForOrphanedConnection(e,s===t.connectionTypes.OUTPUT_VALUE?n.outputConnection:n.previousConnection)},t.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(e,n,s){return n.type==t.connectionTypes.OUTPUT_VALUE||n.type==t.connectionTypes.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(s,e.targetBlock(),n.type)?t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},t.blockRendering.Renderer.prototype.render=function(e){t.blockRendering.useDebugger&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var n=this.makeRenderInfo_(e);n.measure(),this.makeDrawer_(e,n).draw()},t.geras={},t.geras.ConstantProvider=function(){t.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2},t.utils.object.inherits(t.geras.ConstantProvider,t.blockRendering.ConstantProvider),t.geras.ConstantProvider.prototype.getCSS_=function(e){return t.geras.ConstantProvider.superClass_.getCSS_.call(this,e).concat([e+" .blocklyInsertionMarker>.blocklyPathLight,",e+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},t.geras.Highlighter=function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},t.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},t.geras.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var s,n=0;s=e.elements[n];n++)t.blockRendering.Types.isLeftSquareCorner(s)?this.steps_+=this.highlightConstants_.START_POINT:t.blockRendering.Types.isLeftRoundedCorner(s)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):t.blockRendering.Types.isPreviousConnection(s)?this.steps_+=this.notchPaths_.pathLeft:t.blockRendering.Types.isHat(s)?this.steps_+=this.startPaths_.path(this.RTL_):t.blockRendering.Types.isSpacer(s)&&0!=s.width&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",s.xPos+s.width-this.highlightOffset_));this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width-this.highlightOffset_)},t.geras.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+t.utils.svgPaths.lineOnAxis("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},t.geras.Highlighter.prototype.drawValueInput=function(e){var n=e.getLastInput();if(this.RTL_){var s=e.height-n.connectionHeight;this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",s)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.Highlighter.prototype.drawStatementInput=function(e){var n=e.getLastInput();if(this.RTL_){var s=e.height-2*this.insideCornerPaths_.height;this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",s)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)},t.geras.Highlighter.prototype.drawRightSideRow=function(e){var n=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n)),this.RTL_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n),e.height>this.highlightOffset_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height-this.highlightOffset_)))},t.geras.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-this.highlightOffset_);else{var n=this.info_.bottomRow.elements[0];t.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=t.utils.svgPaths.moveTo(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):t.blockRendering.Types.isLeftRoundedCorner(n)&&(this.steps_+=t.utils.svgPaths.moveTo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},t.geras.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX,e):(this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=t.utils.svgPaths.lineOnAxis("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t.blockRendering.Types.isLeftRoundedCorner((e=this.info_.topRow).elements[0])?this.steps_+=t.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_))},t.geras.Highlighter.prototype.drawInlineInput=function(e){var n=this.highlightOffset_,s=e.xPos+e.connectionWidth,f=e.centerline-e.height/2,y=e.width-e.connectionWidth,M=f+n;this.RTL_?(f=e.connectionOffsetY-n,e=e.height-(e.connectionOffsetY+e.connectionHeight)+n,this.inlineSteps_+=t.utils.svgPaths.moveTo(s-n,M)+t.utils.svgPaths.lineOnAxis("v",f)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",e)+t.utils.svgPaths.lineOnAxis("h",y)):this.inlineSteps_+=t.utils.svgPaths.moveTo(e.xPos+e.width+n,M)+t.utils.svgPaths.lineOnAxis("v",e.height)+t.utils.svgPaths.lineOnAxis("h",-y)+t.utils.svgPaths.moveTo(s,f+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.InlineInput=function(e,n){t.geras.InlineInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.InlineInput,t.blockRendering.InlineInput),t.geras.StatementInput=function(e,n){t.geras.StatementInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.StatementInput,t.blockRendering.StatementInput),t.geras.RenderInfo=function(e,n){t.geras.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.geras.RenderInfo,t.blockRendering.RenderInfo),t.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.geras.RenderInfo.prototype.populateBottomRow_=function(){t.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},t.geras.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.inputTypes.VALUE?(n.elements.push(new t.geras.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(n.elements.push(new t.geras.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),this.isInline||null!=n.align||(n.align=e.align)},t.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var s,e=!1,n=0;s=this.rows[n];n++)s.hasExternalInput&&(e=!0);for(n=0;s=this.rows[n];n++){var f=s.elements;if(s.elements=[],s.startsWithElemSpacer()&&s.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,f[0]))),f.length){for(var y=0;y<f.length-1;y++){s.elements.push(f[y]);var M=this.getInRowSpacing_(f[y],f[y+1]);s.elements.push(new t.blockRendering.InRowSpacer(this.constants_,M))}s.elements.push(f[f.length-1]),s.endsWithElemSpacer()&&(M=this.getInRowSpacing_(f[f.length-1],null),e&&s.hasDummyInput&&(M+=this.constants_.TAB_WIDTH),s.elements.push(new t.blockRendering.InRowSpacer(this.constants_,M)))}}},t.geras.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&(!n||t.blockRendering.Types.isStatementInput(n)))return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&t.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset;if(t.blockRendering.Types.isNextConnection(n))return n.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(t.blockRendering.Types.isLeftRoundedCorner(e)&&n){if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS;if(t.blockRendering.Types.isNextConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return t.blockRendering.Types.isField(e)&&n&&t.blockRendering.Types.isField(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||!e.hasStatement&&n.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2;var s=e.yPos;return t.blockRendering.Types.isField(n)||t.blockRendering.Types.isIcon(n)?(s+=n.height/2,(e.hasInlineInput||e.hasStatement)&&n.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(s+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):s=t.blockRendering.Types.isInlineInput(n)?s+n.height/2:s+e.height/2,s},t.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var f,e=0,n=null,s=this.rows.length-1;f=this.rows[s];s--)f.nextRightEdge=e,t.blockRendering.Types.isInputRow(f)&&(f.hasStatement&&this.alignStatementRow_(f),n&&n.hasStatement&&f.width<n.width?f.nextRightEdge=n.width:e=f.width,n=f);for(s=e=0;f=this.rows[s];s++)f.hasStatement?e=this.getDesiredRowWidth_(f):t.blockRendering.Types.isSpacer(f)?f.width=Math.max(e,f.nextRightEdge):(0<(e=Math.max(e,f.nextRightEdge)-f.width)&&this.addAlignmentPadding_(f,e),e=f.width)}else t.geras.RenderInfo.superClass_.alignRowElements_.call(this)},t.geras.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:t.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.geras.RenderInfo.prototype.finalize_=function(){for(var f,e=0,n=0,s=0;f=this.rows[s];s++){f.yPos=n,f.xPos=this.startX,n+=f.height,e=Math.max(e,f.widthWithConnectedBlocks);var y=n-this.topRow.ascenderHeight;f==this.bottomRow&&y<this.constants_.MIN_BLOCK_HEIGHT&&(this.bottomRow.height+=y=this.constants_.MIN_BLOCK_HEIGHT-y,n+=y),this.recordElemPositions_(f)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},t.geras.Drawer=function(e,n){t.geras.Drawer.superClass_.constructor.call(this,e,n),this.highlighter_=new t.geras.Highlighter(n)},t.utils.object.inherits(t.geras.Drawer,t.blockRendering.Drawer),t.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),t.geras.Drawer.superClass_.drawTop_.call(this)},t.geras.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),t.geras.Drawer.superClass_.drawJaggedEdge_.call(this,e)},t.geras.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),t.geras.Drawer.superClass_.drawValueInput_.call(this,e)},t.geras.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),t.geras.Drawer.superClass_.drawStatementInput_.call(this,e)},t.geras.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width)+t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),t.geras.Drawer.superClass_.drawBottom_.call(this)},t.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),t.geras.Drawer.superClass_.drawLeft_.call(this)},t.geras.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),t.geras.Drawer.superClass_.drawInlineInput_.call(this,e)},t.geras.Drawer.prototype.positionInlineInputConnection_=function(e){if(e.connectionModel){var s=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(s*=-1),e.connectionModel.setOffsetInBlock(s,e.centerline-e.height/2+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionStatementInputConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var s=e.xPos+e.statementEdge+n.notchOffset;n.connectionModel.setOffsetInBlock(s=this.info_.RTL?-1*s:s+this.constants_.DARK_PATH_OFFSET,e.yPos+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionExternalValueConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var s=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(s*=-1),n.connectionModel.setOffsetInBlock(s,e.yPos)}},t.geras.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var n=e.connection,s=n.xPos;n.connectionModel.setOffsetInBlock((this.info_.RTL?-s:s)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}},t.geras.HighlightConstantProvider=function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=t.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},t.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},t.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,s=(1-Math.SQRT1_2)*(e+n)-n,f=t.utils.svgPaths.moveBy(s,s)+t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-s-n,e-s)),y=t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e+n,e+n)),M=t.utils.svgPaths.moveBy(s,-s)+t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e-s,s+n));return{width:e+n,height:e,pathTop:function(A){return A?f:""},pathBottom:function(A){return A?y:M}}},t.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,s=(1-Math.SQRT1_2)*(e-n)+n,f=t.utils.svgPaths.moveBy(s,s)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e-s,-s+n)),y=t.utils.svgPaths.moveBy(n,e)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e,-e+n)),M=-s,A=t.utils.svgPaths.moveBy(s,M)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(-s+n,-M-e));return{height:e,topLeft:function(P){return P?f:y},bottomLeft:function(){return A}}},t.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var e=this.constantProvider.TAB_WIDTH,n=this.constantProvider.TAB_HEIGHT,s=t.utils.svgPaths.moveBy(-2,3.4-n)+t.utils.svgPaths.lineTo(-.45*e,-2.1),f=t.utils.svgPaths.lineOnAxis("v",2.5)+t.utils.svgPaths.moveBy(.97*-e,2.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(.05*-e,10),t.utils.svgPaths.point(.3*e,9.5)])+t.utils.svgPaths.moveBy(.67*e,-1.9)+t.utils.svgPaths.lineOnAxis("v",2.5),y=t.utils.svgPaths.lineOnAxis("v",-1.5)+t.utils.svgPaths.moveBy(-.92*e,-.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(-.19*e,-5.5),t.utils.svgPaths.point(0,-11)])+t.utils.svgPaths.moveBy(.92*e,1),M=t.utils.svgPaths.moveBy(-5,n-.7)+t.utils.svgPaths.lineTo(.46*e,-2.1);return{width:e,height:n,pathUp:function(A){return A?s:y},pathDown:function(A){return A?f:M}}},t.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:t.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},t.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:t.utils.svgPaths.lineTo(5.1,2.6)+t.utils.svgPaths.moveBy(-10.2,6.8)+t.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},t.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,n=t.utils.svgPaths.moveBy(25,-8.7)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(29.7,-6.2),t.utils.svgPaths.point(57.2,-.5),t.utils.svgPaths.point(75,8.7)]),s=t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(17.8,-9.2),t.utils.svgPaths.point(45.3,-14.9),t.utils.svgPaths.point(75,-8.7)])+t.utils.svgPaths.moveTo(100.5,e+.5);return{path:function(f){return f?n:s}}},t.geras.PathObject=function(e,n,s){this.constants=s,this.svgRoot=e,this.svgPathDark=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=n},t.utils.object.inherits(t.geras.PathObject,t.blockRendering.PathObject),t.geras.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)},t.geras.PathObject.prototype.setHighlightPath=function(e){this.svgPathLight.setAttribute("d",e)},t.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},t.geras.PathObject.prototype.applyColour=function(e){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),t.geras.PathObject.superClass_.applyColour.call(this,e),this.svgPath.setAttribute("stroke","none")},t.geras.PathObject.prototype.setStyle=function(e){this.style=e,this.colourDark=t.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},t.geras.PathObject.prototype.updateHighlighted=function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},t.geras.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.geras.PathObject.prototype.updateDisabled_=function(e){t.geras.PathObject.superClass_.updateDisabled_.call(this,e),e&&this.svgPath.setAttribute("stroke","none")},t.geras.Renderer=function(e){t.geras.Renderer.superClass_.constructor.call(this,e),this.highlightConstants_=null},t.utils.object.inherits(t.geras.Renderer,t.blockRendering.Renderer),t.geras.Renderer.prototype.init=function(e,n){t.geras.Renderer.superClass_.init.call(this,e,n),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},t.geras.Renderer.prototype.refreshDom=function(e,n){t.geras.Renderer.superClass_.refreshDom.call(this,e,n),this.getHighlightConstants().init()},t.geras.Renderer.prototype.makeConstants_=function(){return new t.geras.ConstantProvider},t.geras.Renderer.prototype.makeRenderInfo_=function(e){return new t.geras.RenderInfo(this,e)},t.geras.Renderer.prototype.makeDrawer_=function(e,n){return new t.geras.Drawer(e,n)},t.geras.Renderer.prototype.makePathObject=function(e,n){return new t.geras.PathObject(e,n,this.getConstants())},t.geras.Renderer.prototype.makeHighlightConstants_=function(){return new t.geras.HighlightConstantProvider(this.getConstants())},t.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},t.blockRendering.register("geras",t.geras.Renderer),t.thrasos={},t.thrasos.RenderInfo=function(e,n){t.thrasos.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.thrasos.RenderInfo,t.blockRendering.RenderInfo),t.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var s,e=!1,n=0;s=this.rows[n];n++)s.hasExternalInput&&(e=!0);for(n=0;s=this.rows[n];n++){var f=s.elements;s.elements=[],s.startsWithElemSpacer()&&s.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,f[0])));for(var y=0;y<f.length-1;y++){s.elements.push(f[y]);var M=this.getInRowSpacing_(f[y],f[y+1]);s.elements.push(new t.blockRendering.InRowSpacer(this.constants_,M))}s.elements.push(f[f.length-1]),s.endsWithElemSpacer()&&(M=this.getInRowSpacing_(f[f.length-1],null),e&&s.hasDummyInput&&(M+=this.constants_.TAB_WIDTH),s.elements.push(new t.blockRendering.InRowSpacer(this.constants_,M)))}},t.thrasos.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&!n)return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&t.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))return n.notchOffset}return t.blockRendering.Types.isLeftRoundedCorner(e)&&n?n.notchOffset-this.constants_.CORNER_RADIUS:t.blockRendering.Types.isField(e)&&n&&t.blockRendering.Types.isField(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||e.hasDummyInput||n.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2;var s=e.yPos;return t.blockRendering.Types.isField(n)&&e.hasStatement?s+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+n.height/2):s+e.height/2},t.thrasos.RenderInfo.prototype.finalize_=function(){for(var f,e=0,n=0,s=0;f=this.rows[s];s++){f.yPos=n,f.xPos=this.startX,n+=f.height,e=Math.max(e,f.widthWithConnectedBlocks);var y=n-this.topRow.ascenderHeight;f==this.bottomRow&&y<this.constants_.MIN_BLOCK_HEIGHT&&(this.bottomRow.height+=y=this.constants_.MIN_BLOCK_HEIGHT-y,n+=y),this.recordElemPositions_(f)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline},t.thrasos.Renderer=function(e){t.thrasos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.thrasos.Renderer,t.blockRendering.Renderer),t.thrasos.Renderer.prototype.makeRenderInfo_=function(e){return new t.thrasos.RenderInfo(this,e)},t.blockRendering.register("thrasos",t.thrasos.Renderer),t.zelos={},t.zelos.ConstantProvider=function(){t.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},t.utils.object.inherits(t.zelos.ConstantProvider,t.blockRendering.ConstantProvider),t.zelos.ConstantProvider.prototype.setFontConstants_=function(e){t.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},t.zelos.ConstantProvider.prototype.init=function(){t.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},t.zelos.ConstantProvider.prototype.setDynamicProperties_=function(e){t.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var n=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=n&&!isNaN(n)?n:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE},t.zelos.ConstantProvider.prototype.dispose=function(){t.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&t.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&t.utils.dom.removeNode(this.replacementGlowFilter_)},t.zelos.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(25,-e),t.utils.svgPaths.point(71,-e),t.utils.svgPaths.point(n,0)])}},t.zelos.ConstantProvider.prototype.makeHexagonal=function(){function e(s,f,y){var M=s/2;return t.utils.svgPaths.lineTo(-(y=y?-1:1)*(M=M>n?n:M),s=(f?-1:1)*s/2)+t.utils.svgPaths.lineTo(y*M,s)}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(s){return(s/=2)>n?n:s},height:function(s){return s},connectionOffsetY:function(s){return s/2},connectionOffsetX:function(s){return-s},pathDown:function(s){return e(s,!1,!1)},pathUp:function(s){return e(s,!0,!1)},pathRightDown:function(s){return e(s,!1,!0)},pathRightUp:function(s){return e(s,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeRounded=function(){function e(f,y,M){var A=f>s?f-s:0;return t.utils.svgPaths.arc("a","0 0,1",f=(f>s?s:f)/2,t.utils.svgPaths.point((y?-1:1)*f,(y?-1:1)*f))+t.utils.svgPaths.lineOnAxis("v",(M?1:-1)*A)+t.utils.svgPaths.arc("a","0 0,1",f,t.utils.svgPaths.point((y?1:-1)*f,(y?-1:1)*f))}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,s=2*n;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(f){return(f/=2)>n?n:f},height:function(f){return f},connectionOffsetY:function(f){return f/2},connectionOffsetX:function(f){return-f},pathDown:function(f){return e(f,!1,!1)},pathUp:function(f){return e(f,!0,!1)},pathRightDown:function(f){return e(f,!1,!0)},pathRightUp:function(f){return e(f,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeSquared=function(){function e(s,f,y){return s-=2*n,t.utils.svgPaths.arc("a","0 0,1",n,t.utils.svgPaths.point((f?-1:1)*n,(f?-1:1)*n))+t.utils.svgPaths.lineOnAxis("v",(y?1:-1)*s)+t.utils.svgPaths.arc("a","0 0,1",n,t.utils.svgPaths.point((f?1:-1)*n,(f?-1:1)*n))}var n=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(s){return n},height:function(s){return s},connectionOffsetY:function(s){return s/2},connectionOffsetX:function(s){return-s},pathDown:function(s){return e(s,!1,!1)},pathUp:function(s){return e(s,!0,!1)},pathRightDown:function(s){return e(s,!1,!0)},pathRightUp:function(s){return e(s,!1,!0)}}},t.zelos.ConstantProvider.prototype.shapeFor=function(e){var n=e.getCheck();switch(!n&&e.targetConnection&&(n=e.targetConnection.getCheck()),e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:if(null!=(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return n&&-1!=n.indexOf("Boolean")?this.HEXAGONAL:(n&&-1!=n.indexOf("Number")||n&&n.indexOf("String"),this.ROUNDED);case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},t.zelos.ConstantProvider.prototype.makeNotch=function(){function e(ne){return t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(ne*y/2,0),t.utils.svgPaths.point(ne*y*3/4,A/2),t.utils.svgPaths.point(ne*y,A)])+t.utils.svgPaths.line([t.utils.svgPaths.point(ne*y,M)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(ne*y/4,A/2),t.utils.svgPaths.point(ne*y/2,A),t.utils.svgPaths.point(ne*y,A)])+t.utils.svgPaths.lineOnAxis("h",ne*f)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(ne*y/2,0),t.utils.svgPaths.point(ne*y*3/4,-A/2),t.utils.svgPaths.point(ne*y,-A)])+t.utils.svgPaths.line([t.utils.svgPaths.point(ne*y,-M)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(ne*y/4,-A/2),t.utils.svgPaths.point(ne*y/2,-A),t.utils.svgPaths.point(ne*y,-A)])}var n=this.NOTCH_WIDTH,s=this.NOTCH_HEIGHT,f=n/3,y=f/3,M=s/2,A=M/2,P=e(1),B=e(-1);return{type:this.SHAPES.NOTCH,width:n,height:s,pathLeft:P,pathRight:B}},t.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS,n=t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),s=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e));return{width:e,height:e,pathTop:n,pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e)),rightWidth:e,rightHeight:e,pathTopRight:s,pathBottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e))}},t.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#000",e,.15)||e},t.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#000",e,.25)||e},t.zelos.ConstantProvider.prototype.createDom=function(e,n,s){t.zelos.ConstantProvider.superClass_.createDom.call(this,e,n,s),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},n),s=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},n),this.selectedGlowFilterId=n.id,this.selectedGlowFilter_=n,e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e},t.zelos.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",e+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.zelos.TopRow=function(e){t.zelos.TopRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.TopRow,t.blockRendering.TopRow),t.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.TopRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection},t.zelos.TopRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},t.zelos.BottomRow=function(e){t.zelos.BottomRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.BottomRow,t.blockRendering.BottomRow),t.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection},t.zelos.BottomRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},t.zelos.RightConnectionShape=function(e){t.zelos.RightConnectionShape.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},t.utils.object.inherits(t.zelos.RightConnectionShape,t.blockRendering.Measurable),t.zelos.RenderInfo=function(e,n){t.zelos.RenderInfo.superClass_.constructor.call(this,e,n),this.topRow=new t.zelos.TopRow(this.constants_),this.bottomRow=new t.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!n.getInputsInline()||n.isCollapsed(),this.hasStatementInput=0<n.statementInputCount,this.rightSide=this.outputConnection?new t.zelos.RightConnectionShape(this.constants_):null},t.utils.object.inherits(t.zelos.RenderInfo,t.blockRendering.RenderInfo),t.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.zelos.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!!n&&(e.type==t.inputTypes.STATEMENT||n.type==t.inputTypes.STATEMENT||(e.type==t.inputTypes.VALUE||e.type==t.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},t.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):t.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.zelos.RenderInfo.prototype.getInRowSpacing_=function(e,n){return e&&n||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&t.blockRendering.Types.isHat(n)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){if(t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var s=t.blockRendering.Types.isInputRow(e)&&e.hasStatement,f=t.blockRendering.Types.isInputRow(n)&&n.hasStatement;return f||s?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),f&&s?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):t.blockRendering.Types.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):t.blockRendering.Types.isBottomRow(n)?this.outputConnection?!n.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(e,n){var s=this.width-this.startX;return t.blockRendering.Types.isInputRow(e)&&e.hasStatement||t.blockRendering.Types.isInputRow(n)&&n.hasStatement?Math.max(s,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):s},t.zelos.RenderInfo.prototype.getElemCenterline_=function(e,n){if(e.hasStatement&&!t.blockRendering.Types.isSpacer(n)&&!t.blockRendering.Types.isStatementInput(n))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(t.blockRendering.Types.isInlineInput(n)){var s=n.connectedBlock;if(s&&s.outputConnection&&s.nextConnection)return e.yPos+s.height/2}return t.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,e,n)},t.zelos.RenderInfo.prototype.addInput_=function(e,n){e.type==t.inputTypes.DUMMY&&n.hasDummyInput&&n.align==t.constants.ALIGN.LEFT&&e.align==t.constants.ALIGN.RIGHT&&(n.rightAlignedDummyInput=e),t.zelos.RenderInfo.superClass_.addInput_.call(this,e,n)},t.zelos.RenderInfo.prototype.addAlignmentPadding_=function(e,n){if(e.rightAlignedDummyInput){for(var s,y,f=0;(y=e.elements[f])&&(t.blockRendering.Types.isSpacer(y)&&(s=y),!t.blockRendering.Types.isField(y)||y.parentInput!=e.rightAlignedDummyInput);f++);if(s)return s.width+=n,void(e.width+=n)}t.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,e,n)},t.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,n=e,s=2;s<this.rows.length-1;s+=2){var f=this.rows[s-1],y=this.rows[s],M=this.rows[s+1];if(f=2==s?!!this.topRow.hasPreviousConnection:!!f.followsStatement,M=s+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!M.precedesStatement,t.blockRendering.Types.isInputRow(y)&&y.hasStatement)y.measure(),n=y.width-y.getLastInput().width+e;else if(f&&(2==s||M)&&t.blockRendering.Types.isInputRow(y)&&!y.hasStatement){M=y.xPos,f=null;for(var P,A=0;P=y.elements[A];A++)t.blockRendering.Types.isSpacer(P)&&(f=P),!(f&&(t.blockRendering.Types.isField(P)||t.blockRendering.Types.isInput(P))&&M<n)||t.blockRendering.Types.isField(P)&&(P.field instanceof t.FieldLabel||P.field instanceof t.FieldImage)||(f.width+=n-M),M+=P.width}}},t.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var s,e=0,n=0;s=this.rows[n];n++)s.yPos=e,e+=s.height;this.height=e,e=this.outputConnection.shape.height(n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height),n=this.outputConnection.shape.width(n),this.outputConnection.height=e,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(e),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(n),s=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(s=n,this.rightSide.height=e,this.rightSide.width=s,this.rightSide.centerline=e/2,this.rightSide.xPos=this.width+s),this.startX=n,this.width+=n+s,this.widthWithChildren+=n+s}},t.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var s,e=0,n=0;s=this.rows[n];n++)if(t.blockRendering.Types.isInputRow(s)){e=s.elements[s.elements.length-2];var f=this.getNegativeSpacing_(s.elements[1]),y=this.getNegativeSpacing_(e),M=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-(e=f+y)<M&&(f=(e=this.width-M)/2,y=e/2),s.elements.unshift(new t.blockRendering.InRowSpacer(this.constants_,-f)),s.elements.push(new t.blockRendering.InRowSpacer(this.constants_,-y))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,n=0;s=this.rows[n];n++)t.blockRendering.Types.isTopOrBottomRow(s)&&(s.elements[1].width-=e,s.elements[1].widthWithConnectedBlocks-=e),s.width-=e,s.widthWithConnectedBlocks-=e}},t.zelos.RenderInfo.prototype.getNegativeSpacing_=function(e){if(!e)return 0;var n=this.outputConnection.width,s=this.outputConnection.shape.type,f=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(s){case f.SHAPES.ROUND:return n-(s=this.height/2>(s=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH)?s:this.height/2)*(1-Math.sin(Math.acos((s-this.constants_.SMALL_PADDING)/s)));default:return 0}if(t.blockRendering.Types.isInlineInput(e)){var y=e.connectedBlock;return e=y?y.pathObject.outputShapeType:e.shape.type,y&&y.outputConnection&&(y.statementInputCount||y.nextConnection)||s==f.SHAPES.HEXAGONAL&&s!=e?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[s][e]}return t.blockRendering.Types.isField(e)?s==f.SHAPES.ROUND&&e.field instanceof t.FieldTextInput?n-2.75*f.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[s][0]:t.blockRendering.Types.isIcon(e)?this.constants_.SMALL_PADDING:0},t.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var e=2;e<this.rows.length-1;e+=2){var n=this.rows[e-1],s=this.rows[e],f=this.rows[e+1],y=2==e,M=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!f.precedesStatement;if(y?this.topRow.hasPreviousConnection:n.followsStatement){var A=3==s.elements.length&&(s.elements[1].field instanceof t.FieldLabel||s.elements[1].field instanceof t.FieldImage);if(!y&&A)n.height-=this.constants_.SMALL_PADDING,f.height-=this.constants_.SMALL_PADDING,s.height-=this.constants_.MEDIUM_PADDING;else if(y||M){if(M){for(y=!1,M=0;A=s.elements[M];M++)if(t.blockRendering.Types.isInlineInput(A)&&A.connectedBlock&&!A.connectedBlock.isShadow()&&40<=A.connectedBlock.getHeightWidth().height){y=!0;break}y&&(n.height-=this.constants_.SMALL_PADDING,f.height-=this.constants_.SMALL_PADDING)}}else n.height+=this.constants_.SMALL_PADDING}}},t.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),t.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},t.zelos.Drawer=function(e,n){t.zelos.Drawer.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.zelos.Drawer,t.blockRendering.Drawer),t.zelos.Drawer.prototype.draw=function(){var e=this.block_.pathObject;e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()},t.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):t.zelos.Drawer.superClass_.drawOutline_.call(this)},t.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():t.zelos.Drawer.superClass_.drawLeft_.call(this)},t.zelos.Drawer.prototype.drawRightSideRow_=function(e){if(!(0>=e.height))if(e.precedesStatement||e.followsStatement){var n=this.constants_.INSIDE_CORNERS.rightHeight;this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<(n=e.height-(e.precedesStatement?n:0))?t.utils.svgPaths.lineOnAxis("V",e.yPos+n):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},t.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},t.zelos.Drawer.prototype.drawFlatTop_=function(){var e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",e.width)},t.zelos.Drawer.prototype.drawFlatBottom_=function(){var e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",-e.width)},t.zelos.Drawer.prototype.drawInlineInput_=function(e){this.positionInlineInputConnection_(e);var n=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var s=e.width-2*e.connectionWidth;e=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+t.utils.svgPaths.lineOnAxis("h",s)+e.shape.pathRightDown(e.height)+t.utils.svgPaths.lineOnAxis("h",-s)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(n,e)}},t.zelos.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),s=n.xPos+n.notchOffset+n.shape.width,f=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,y=e.height-2*this.constants_.INSIDE_CORNERS.height;n=this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("h",n.notchOffset-this.constants_.INSIDE_CORNERS.width)+(n.connectedBottomNextConnection?"":n.shape.pathLeft),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",s)+f+t.utils.svgPaths.lineOnAxis("v",y)+n+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.zelos.MarkerSvg=function(e,n,s){t.zelos.MarkerSvg.superClass_.constructor.call(this,e,n,s)},t.utils.object.inherits(t.zelos.MarkerSvg,t.blockRendering.MarkerSvg),t.zelos.MarkerSvg.prototype.showWithInputOutput_=function(e){var n=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(n),this.showCurrent_()},t.zelos.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithInputOutput_(e)},t.zelos.MarkerSvg.prototype.showWithInput_=function(e){this.showWithInputOutput_(e)},t.zelos.MarkerSvg.prototype.showWithBlock_=function(e){var n=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,n.width,n.height),this.setParent_(e),this.showCurrent_()},t.zelos.MarkerSvg.prototype.positionCircle_=function(e,n){this.markerCircle_.setAttribute("cx",e),this.markerCircle_.setAttribute("cy",n),this.currentMarkerSvg=this.markerCircle_},t.zelos.MarkerSvg.prototype.hide=function(){t.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},t.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(t.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerCircle_)}return this.markerSvg_},t.zelos.MarkerSvg.prototype.applyColour_=function(e){t.zelos.MarkerSvg.superClass_.applyColour_.call(this,e),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},t.zelos.PathObject=function(e,n,s){t.zelos.PathObject.superClass_.constructor.call(this,e,n,s),this.constants=s,this.svgPathSelected_=null,this.outlines_=Object.create(null),this.outputShapeType=this.remainingOutlines_=null},t.utils.object.inherits(t.zelos.PathObject,t.blockRendering.PathObject),t.zelos.PathObject.prototype.setPath=function(e){t.zelos.PathObject.superClass_.setPath.call(this,e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)},t.zelos.PathObject.prototype.applyColour=function(e){for(var n in t.zelos.PathObject.superClass_.applyColour.call(this,e),e.isShadow()&&e.getParent()&&this.svgPath.setAttribute("stroke",e.getParent().style.colourTertiary),this.outlines_)this.outlines_[n].setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.flipRTL=function(){for(var e in t.zelos.PathObject.superClass_.flipRTL.call(this),this.outlines_)this.outlines_[e].setAttribute("transform","scale(-1 1)")},t.zelos.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},t.zelos.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},t.zelos.PathObject.prototype.updateShapeForInputHighlight=function(e,n){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(n?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))},t.zelos.PathObject.prototype.beginDrawing=function(){for(var e in this.remainingOutlines_=Object.create(null),this.outlines_)this.remainingOutlines_[e]=1},t.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var e in this.remainingOutlines_)this.removeOutlinePath_(e);this.remainingOutlines_=null},t.zelos.PathObject.prototype.setOutlinePath=function(e,n){(e=this.getOutlinePath_(e)).setAttribute("d",n),e.setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.getOutlinePath_=function(e){return this.outlines_[e]||(this.outlines_[e]=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[e],this.outlines_[e]},t.zelos.PathObject.prototype.removeOutlinePath_=function(e){this.outlines_[e].parentNode.removeChild(this.outlines_[e]),delete this.outlines_[e]},t.zelos.Renderer=function(e){t.zelos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.Renderer,t.blockRendering.Renderer),t.zelos.Renderer.prototype.makeConstants_=function(){return new t.zelos.ConstantProvider},t.zelos.Renderer.prototype.makeRenderInfo_=function(e){return new t.zelos.RenderInfo(this,e)},t.zelos.Renderer.prototype.makeDrawer_=function(e,n){return new t.zelos.Drawer(e,n)},t.zelos.Renderer.prototype.makeMarkerDrawer=function(e,n){return new t.zelos.MarkerSvg(e,this.getConstants(),n)},t.zelos.Renderer.prototype.makePathObject=function(e,n){return new t.zelos.PathObject(e,n,this.getConstants())},t.zelos.Renderer.prototype.shouldHighlightConnection=function(e){return e.type!=t.connectionTypes.INPUT_VALUE&&e.type!==t.connectionTypes.OUTPUT_VALUE},t.zelos.Renderer.prototype.getConnectionPreviewMethod=function(e,n,s){return n.type==t.connectionTypes.OUTPUT_VALUE?e.isConnected()?t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:t.zelos.Renderer.superClass_.getConnectionPreviewMethod(e,n,s)},t.blockRendering.register("zelos",t.zelos.Renderer),t.Themes.Dark=t.Theme.defineTheme("dark",{base:t.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),t.Themes.Deuteranopia={},t.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},t.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},t.Themes.Deuteranopia=new t.Theme("deuteranopia",t.Themes.Deuteranopia.defaultBlockStyles,t.Themes.Deuteranopia.categoryStyles),t.Themes.HighContrast={},t.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},t.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},t.Themes.HighContrast=new t.Theme("highcontrast",t.Themes.HighContrast.defaultBlockStyles,t.Themes.HighContrast.categoryStyles),t.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),t.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),t.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),t.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),t.Themes.Tritanopia={},t.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},t.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},t.Themes.Tritanopia=new t.Theme("tritanopia",t.Themes.Tritanopia.defaultBlockStyles,t.Themes.Tritanopia.categoryStyles),t.requires={},t})?_.apply(U,[]):_)&&(F.exports=o)},81010:function(F,U,_){var E,o,t;o=[_(8100)],void 0!==(t="function"==typeof(E=function(e){"use strict";return e.Blocks={},e.Blocks})?E.apply(U,o):E)&&(F.exports=t)},8100:function(F,U,_){var E,o,t;o=[_(99240)],void 0!==(t="function"==typeof(E=function(e){"use strict";return e.Blocks.colour={},e.Constants={},e.Constants.Colour={},e.Constants.Colour.HUE=20,e.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),e.Constants.Lists={},e.Constants.Lists.HUE=260,e.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),e.Blocks.lists_create_with={init:function(){this.setHelpUrl(e.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.Mutator(["lists_create_with_item"])),this.setTooltip(e.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("items",this.itemCount_),n},domToMutation:function(n){this.itemCount_=parseInt(n.getAttribute("items"),10),this.updateShape_()},decompose:function(n){var s=n.newBlock("lists_create_with_container");s.initSvg();for(var f=s.getInput("STACK").connection,y=0;y<this.itemCount_;y++){var M=n.newBlock("lists_create_with_item");M.initSvg(),f.connect(M.previousConnection),f=M.nextConnection}return s},compose:function(n){var s=n.getInputTargetBlock("STACK");for(n=[];s&&!s.isInsertionMarker();)n.push(s.valueConnection_),s=s.nextConnection&&s.nextConnection.targetBlock();for(s=0;s<this.itemCount_;s++){var f=this.getInput("ADD"+s).connection.targetConnection;f&&-1==n.indexOf(f)&&f.disconnect()}for(this.itemCount_=n.length,this.updateShape_(),s=0;s<this.itemCount_;s++)e.Mutator.reconnect(n[s],this,"ADD"+s)},saveConnections:function(n){n=n.getInputTargetBlock("STACK");for(var s=0;n;){var f=this.getInput("ADD"+s);n.valueConnection_=f&&f.connection.targetConnection,s++,n=n.nextConnection&&n.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg.LISTS_CREATE_EMPTY_TITLE);for(var n=0;n<this.itemCount_;n++)if(!this.getInput("ADD"+n)){var s=this.appendValueInput("ADD"+n).setAlign(e.ALIGN_RIGHT);0==n&&s.appendField(e.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+n);)this.removeInput("ADD"+n),n++}},e.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_indexOf={init:function(){var n=[[e.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(e.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new e.FieldDropdown(n),"END"),this.setInputsInline(!0);var s=this;this.setTooltip(function(){return e.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",s.workspace.options.oneBasedIndex?"0":"-1")})}},e.Blocks.lists_getIndex={init:function(){var n=[[e.Msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),n=new e.FieldDropdown(n,function(f){f="REMOVE"==f,this.getSourceBlock().updateStatement_(f)}),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(n,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var s=this;this.setTooltip(function(){var f=s.getFieldValue("MODE"),y=s.getFieldValue("WHERE"),M="";switch(f+" "+y){case"GET FROM_START":case"GET FROM_END":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":M=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return("FROM_START"==y||"FROM_END"==y)&&(M+="  "+("FROM_START"==y?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",s.workspace.options.oneBasedIndex?"#1":"#0")),M})},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");n.setAttribute("statement",!this.outputConnection);var s=this.getInput("AT").type==e.INPUT_VALUE;return n.setAttribute("at",s),n},domToMutation:function(n){var s="true"==n.getAttribute("statement");this.updateStatement_(s),n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateStatement_:function(n){n!=!this.outputConnection&&(this.unplug(!0,!0),n?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var s=new e.FieldDropdown(this.WHERE_OPTIONS,function(f){var y="FROM_START"==f||"FROM_END"==f;if(y!=n){var M=this.getSourceBlock();return M.updateAt_(y),M.setFieldValue(f,"WHERE"),null}});this.getInput("AT").appendField(s,"WHERE"),e.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_setIndex={init:function(){var n=[[e.Msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new e.FieldDropdown(n),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var s=this;this.setTooltip(function(){var f=s.getFieldValue("MODE"),y=s.getFieldValue("WHERE"),M="";switch(f+" "+y){case"SET FROM_START":case"SET FROM_END":M=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":M=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":M=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":M=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":M=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":M=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":M=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":M=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return("FROM_START"==y||"FROM_END"==y)&&(M+="  "+e.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",s.workspace.options.oneBasedIndex?"#1":"#0")),M})},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),s=this.getInput("AT").type==e.INPUT_VALUE;return n.setAttribute("at",s),n},domToMutation:function(n){n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var s=new e.FieldDropdown(this.WHERE_OPTIONS,function(f){var y="FROM_START"==f||"FROM_END"==f;if(y!=n){var M=this.getSourceBlock();return M.updateAt_(y),M.setFieldValue(f,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(s,"WHERE")}},e.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),s=this.getInput("AT1").type==e.INPUT_VALUE;return n.setAttribute("at1",s),s=this.getInput("AT2").type==e.INPUT_VALUE,n.setAttribute("at2",s),n},domToMutation:function(n){var s="true"==n.getAttribute("at1");n="true"==n.getAttribute("at2"),this.updateAt_(1,s),this.updateAt_(2,n)},updateAt_:function(n,s){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),s?(this.appendValueInput("AT"+n).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n);var f=new e.FieldDropdown(this["WHERE_OPTIONS_"+n],function(y){var M="FROM_START"==y||"FROM_END"==y;if(M!=s){var A=this.getSourceBlock();return A.updateAt_(n,M),A.setFieldValue(y,"WHERE"+n),null}});this.getInput("AT"+n).appendField(f,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_sort={init:function(){this.jsonInit({message0:e.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[e.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[e.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[e.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[e.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[e.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:e.Msg.LISTS_SORT_TOOLTIP,helpUrl:e.Msg.LISTS_SORT_HELPURL})}},e.Blocks.lists_split={init:function(){var n=this,s=new e.FieldDropdown([[e.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(f){n.updateType_(f)});this.setHelpUrl(e.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(s,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var f=n.getFieldValue("MODE");if("SPLIT"==f)return e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==f)return e.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+f)})},updateType_:function(n){if(this.getFieldValue("MODE")!=n){var s=this.getInput("INPUT").connection;s.setShadowDom(null);var f=s.targetBlock();f&&(s.disconnect(),f.isShadow()?f.dispose():this.bumpNeighbours())}"SPLIT"==n?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("mode",this.getFieldValue("MODE")),n},domToMutation:function(n){this.updateType_(n.getAttribute("mode"))}},e.Blocks.logic={},e.Constants.Logic={},e.Constants.Logic.HUE=210,e.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),e.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),e.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},e.Extensions.register("logic_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Logic.TOOLTIPS_BY_OP)),e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var n=e.utils.xml.createElement("mutation");return this.elseifCount_&&n.setAttribute("elseif",this.elseifCount_),this.elseCount_&&n.setAttribute("else",1),n},domToMutation:function(n){this.elseifCount_=parseInt(n.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(n.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(n){var s=n.newBlock("controls_if_if");s.initSvg();for(var f=s.nextConnection,y=1;y<=this.elseifCount_;y++){var M=n.newBlock("controls_if_elseif");M.initSvg(),f.connect(M.previousConnection),f=M.nextConnection}return this.elseCount_&&((n=n.newBlock("controls_if_else")).initSvg(),f.connect(n.previousConnection)),s},compose:function(n){n=n.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var s=[null],f=[null],y=null;n&&!n.isInsertionMarker();){switch(n.type){case"controls_if_elseif":this.elseifCount_++,s.push(n.valueConnection_),f.push(n.statementConnection_);break;case"controls_if_else":this.elseCount_++,y=n.statementConnection_;break;default:throw TypeError("Unknown block type: "+n.type)}n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(s,f,y)},saveConnections:function(n){n=n.nextConnection.targetBlock();for(var s=1;n;){switch(n.type){case"controls_if_elseif":var f=this.getInput("IF"+s),y=this.getInput("DO"+s);n.valueConnection_=f&&f.connection.targetConnection,n.statementConnection_=y&&y.connection.targetConnection,s++;break;case"controls_if_else":y=this.getInput("ELSE"),n.statementConnection_=y&&y.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+n.type)}n=n.nextConnection&&n.nextConnection.targetBlock()}},rebuildShape_:function(){var n=[null],s=[null],f=null;this.getInput("ELSE")&&(f=this.getInput("ELSE").connection.targetConnection);for(var y=1;this.getInput("IF"+y);){var M=this.getInput("IF"+y),A=this.getInput("DO"+y);n.push(M.connection.targetConnection),s.push(A.connection.targetConnection),y++}this.updateShape_(),this.reconnectChildBlocks_(n,s,f)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var n=1;this.getInput("IF"+n);)this.removeInput("IF"+n),this.removeInput("DO"+n),n++;for(n=1;n<=this.elseifCount_;n++)this.appendValueInput("IF"+n).setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+n).appendField(e.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(n,s,f){for(var y=1;y<=this.elseifCount_;y++)e.Mutator.reconnect(n[y],this,"IF"+y),e.Mutator.reconnect(s[y],this,"DO"+y);e.Mutator.reconnect(f,this,"ELSE")}},e.Extensions.registerMutator("controls_if_mutator",e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_4:"":e.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},e.Extensions.register("controls_if_tooltip",e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(n){this.prevBlocks_||(this.prevBlocks_=[null,null]);var s=this.getInputTargetBlock("A"),f=this.getInputTargetBlock("B");s&&f&&!this.workspace.connectionChecker.doTypeChecks(s.outputConnection,f.outputConnection)&&(e.Events.setGroup(n.group),(n=this.prevBlocks_[0])!==s&&(s.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("A").connection.connect(n.outputConnection)),(s=this.prevBlocks_[1])!==f&&(f.unplug(),!s||s.isDisposed()||s.isShadow()||this.getInput("B").connection.connect(s.outputConnection)),this.bumpNeighbours(),e.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},e.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},e.Extensions.register("logic_compare",e.Constants.Logic.LOGIC_COMPARE_EXTENSION),e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(n){var s=this.getInputTargetBlock("THEN"),f=this.getInputTargetBlock("ELSE"),y=this.outputConnection.targetConnection;if((s||f)&&y)for(var M=0;2>M;M++){var A=1==M?s:f;A&&!A.workspace.connectionChecker.doTypeChecks(A.outputConnection,y)&&(e.Events.setGroup(n.group),y===this.prevParentConnection_?(this.unplug(),y.getSourceBlock().bumpNeighbours()):(A.unplug(),A.bumpNeighbours()),e.Events.setGroup(!1))}this.prevParentConnection_=y}},e.Extensions.registerMixin("logic_ternary",e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),e.Blocks.loops={},e.Constants.Loops={},e.Constants.Loops.HUE=120,e.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),e.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},e.Extensions.register("controls_whileUntil_tooltip",e.Extensions.buildTooltipForDropdown("MODE",e.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},e.Extensions.register("controls_flow_tooltip",e.Extensions.buildTooltipForDropdown("FLOW",e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(n){if(!this.isInFlyout){var s=this.getField("VAR").getVariable(),f=s.name;if(!this.isCollapsed()&&null!=f){var y={enabled:!0};y.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",f),s=e.Variables.generateVariableFieldDom(s),(f=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),f.appendChild(s),y.callback=e.ContextMenu.callbackFactory(this,f),n.push(y)}}}},e.Extensions.registerMixin("contextMenu_newGetVariableBlock",e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),e.Extensions.register("controls_for_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.Extensions.register("controls_forEach_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(n){do{if(-1!=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(n.type))return n;n=n.getSurroundParent()}while(n);return null},onchange:function(n){if(this.workspace.isDragging&&!this.workspace.isDragging()&&n.type==e.Events.BLOCK_MOVE){var s=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);if(this.setWarningText(s?null:e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var f=e.Events.getGroup();e.Events.setGroup(n.group),this.setEnabled(s),e.Events.setGroup(f)}}}},e.Extensions.registerMixin("controls_flow_in_loop_check",e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),e.Blocks.math={},e.Constants.Math={},e.Constants.Math.HUE=230,e.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),e.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},e.Extensions.register("math_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Math.TOOLTIPS_BY_OP)),e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),s="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return n.setAttribute("divisor_input",s),n},domToMutation:function(n){n="true"==n.getAttribute("divisor_input"),this.updateShape_(n)},updateShape_:function(n){var s=this.getInput("DIVISOR");n?s||this.appendValueInput("DIVISOR").setCheck("Number"):s&&this.removeInput("DIVISOR")}},e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator(function(n){n="DIVISIBLE_BY"==n,this.getSourceBlock().updateShape_(n)})},e.Extensions.registerMutator("math_is_divisibleby_mutator",e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),e.Extensions.register("math_change_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),e.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(n){this.outputConnection.setCheck("MODE"==n?"Array":"Number")},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("op",this.getFieldValue("OP")),n},domToMutation:function(n){this.updateType_(n.getAttribute("op"))}},e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(n){this.updateType_(n)}.bind(this))},e.Extensions.registerMutator("math_modes_of_list_mutator",e.Constants.Math.LIST_MODES_MUTATOR_MIXIN,e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),e.Blocks.procedures={},e.Blocks.procedures_defnoreturn={init:function(){var n=e.Procedures.findLegalName("",this);(n=new e.FieldTextInput(n,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(n,"NAME").appendField("","PARAMS"),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(n){this.hasStatements_!==n&&(n?(this.appendStatementInput("STACK").appendField(e.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=n)},updateParams_:function(){var n="";this.arguments_.length&&(n=e.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.Events.disable();try{this.setFieldValue(n,"PARAMS")}finally{e.Events.enable()}},mutationToDom:function(n){var s=e.utils.xml.createElement("mutation");n&&s.setAttribute("name",this.getFieldValue("NAME"));for(var f=0;f<this.argumentVarModels_.length;f++){var y=e.utils.xml.createElement("arg"),M=this.argumentVarModels_[f];y.setAttribute("name",M.name),y.setAttribute("varid",M.getId()),n&&this.paramIds_&&y.setAttribute("paramId",this.paramIds_[f]),s.appendChild(y)}return this.hasStatements_||s.setAttribute("statements","false"),s},domToMutation:function(n){this.arguments_=[],this.argumentVarModels_=[];for(var f,s=0;f=n.childNodes[s];s++)if("arg"==f.nodeName.toLowerCase()){var y=f.getAttribute("name");f=f.getAttribute("varid")||f.getAttribute("varId"),this.arguments_.push(y),null!=(f=e.Variables.getOrCreateVariablePackage(this.workspace,f,y,""))?this.argumentVarModels_.push(f):console.log("Failed to create a variable with name "+y+", ignoring.")}this.updateParams_(),e.Procedures.mutateCallers(this),this.setStatements_("false"!==n.getAttribute("statements"))},decompose:function(n){var s=e.utils.xml.createElement("block");s.setAttribute("type","procedures_mutatorcontainer");var f=e.utils.xml.createElement("statement");f.setAttribute("name","STACK"),s.appendChild(f);for(var y=0;y<this.arguments_.length;y++){var M=e.utils.xml.createElement("block");M.setAttribute("type","procedures_mutatorarg");var A=e.utils.xml.createElement("field");A.setAttribute("name","NAME");var P=e.utils.xml.createTextNode(this.arguments_[y]);A.appendChild(P),M.appendChild(A),A=e.utils.xml.createElement("next"),M.appendChild(A),f.appendChild(M),f=A}return n=e.Xml.domToBlock(s,n),"procedures_defreturn"==this.type?n.setFieldValue(this.hasStatements_,"STATEMENTS"):n.removeInput("STATEMENT_INPUT"),e.Procedures.mutateCallers(this),n},compose:function(n){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var s=n.getInputTargetBlock("STACK");s&&!s.isInsertionMarker();){var f=s.getFieldValue("NAME");this.arguments_.push(f),f=this.workspace.getVariable(f,""),this.argumentVarModels_.push(f),this.paramIds_.push(s.id),s=s.nextConnection&&s.nextConnection.targetBlock()}this.updateParams_(),e.Procedures.mutateCallers(this),null!==(n=n.getFieldValue("STATEMENTS"))&&this.hasStatements_!=(n="TRUE"==n)&&(n?(this.setStatements_(!0),e.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(n=this.getInput("STACK").connection,(this.statementConnection_=n.targetConnection)&&((n=n.targetBlock()).unplug(),n.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(n,s){var f=this.workspace.getVariableById(n);if(""==f.type){f=f.name,s=this.workspace.getVariableById(s);for(var y=!1,M=0;M<this.argumentVarModels_.length;M++)this.argumentVarModels_[M].getId()==n&&(this.arguments_[M]=s.name,this.argumentVarModels_[M]=s,y=!0);y&&(this.displayRenamedVar_(f,s.name),e.Procedures.mutateCallers(this))}},updateVarName:function(n){for(var s=n.name,f=!1,y=0;y<this.argumentVarModels_.length;y++)if(this.argumentVarModels_[y].getId()==n.getId()){var M=this.arguments_[y];this.arguments_[y]=s,f=!0}f&&(this.displayRenamedVar_(M,s),e.Procedures.mutateCallers(this))},displayRenamedVar_:function(n,s){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var M,f=this.mutator.workspace_.getAllBlocks(!1),y=0;M=f[y];y++)"procedures_mutatorarg"==M.type&&e.Names.equals(n,M.getFieldValue("NAME"))&&M.setFieldValue(s,"NAME")},customContextMenu:function(n){if(!this.isInFlyout){var s={enabled:!0},f=this.getFieldValue("NAME");s.text=e.Msg.PROCEDURES_CREATE_DO.replace("%1",f);var y=e.utils.xml.createElement("mutation");for(y.setAttribute("name",f),f=0;f<this.arguments_.length;f++){var M=e.utils.xml.createElement("arg");M.setAttribute("name",this.arguments_[f]),y.appendChild(M)}if((f=e.utils.xml.createElement("block")).setAttribute("type",this.callType_),f.appendChild(y),s.callback=e.ContextMenu.callbackFactory(this,f),n.push(s),!this.isCollapsed())for(f=0;f<this.argumentVarModels_.length;f++)(s={enabled:!0}).text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",(y=this.argumentVarModels_[f]).name),y=e.Variables.generateVariableFieldDom(y),(M=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),M.appendChild(y),s.callback=e.ContextMenu.callbackFactory(this,M),n.push(s)}},callType_:"procedures_callnoreturn"},e.Blocks.procedures_defreturn={init:function(){var n=e.Procedures.findLegalName("",this);(n=new e.FieldTextInput(n,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(n,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.ALIGN_RIGHT).appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:e.Blocks.procedures_defnoreturn.setStatements_,updateParams_:e.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:e.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_defnoreturn.domToMutation,decompose:e.Blocks.procedures_defnoreturn.decompose,compose:e.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:e.Blocks.procedures_defnoreturn.getVars,getVarModels:e.Blocks.procedures_defnoreturn.getVarModels,renameVarById:e.Blocks.procedures_defnoreturn.renameVarById,updateVarName:e.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:e.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:e.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},e.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new e.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.procedures_mutatorarg={init:function(){var n=new e.FieldTextInput(e.Procedures.DEFAULT_ARG,this.validator_);n.oldShowEditorFn_=n.showEditor_,n.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(n,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,n.onFinishEditing_=this.deleteIntermediateVars_,n.createdVariables_=[],n.onFinishEditing_("x")},validator_:function(n){var s=this.getSourceBlock(),f=e.Mutator.findParentWs(s.workspace);if(!(n=n.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var y=(s.workspace.targetWorkspace||s.workspace).getAllBlocks(!1),M=n.toLowerCase(),A=0;A<y.length;A++)if(y[A].id!=this.getSourceBlock().id){var P=y[A].getFieldValue("NAME");if(P&&P.toLowerCase()==M)return null}return s.isInFlyout||((s=f.getVariable(n,""))&&s.name!=n&&f.renameVariableById(s.getId(),n),s||(s=f.createVariable(n,""))&&this.createdVariables_&&this.createdVariables_.push(s)),n},deleteIntermediateVars_:function(n){var s=e.Mutator.findParentWs(this.getSourceBlock().workspace);if(s)for(var f=0;f<this.createdVariables_.length;f++){var y=this.createdVariables_[f];y.name!=n&&s.deleteVariableById(y.getId())}}},e.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(n,s){e.Names.equals(n,this.getProcedureCall())&&(this.setFieldValue(s,"NAME"),this.setTooltip((this.outputConnection?e.Msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",s)))},setProcedureParameters_:function(n,s){var f=e.Procedures.getDefinition(this.getProcedureCall(),this.workspace),y=f&&f.mutator&&f.mutator.isVisible();if(y||(this.quarkConnections_={},this.quarkIds_=null),s)if(n.join("\n")==this.arguments_.join("\n"))this.quarkIds_=s;else{if(s.length!=n.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),f=this.rendered,this.rendered=!1;for(var M=0;M<this.arguments_.length;M++){var A=this.getInput("ARG"+M);A&&(this.quarkConnections_[this.quarkIds_[M]]=A=A.connection.targetConnection,y&&A&&-1==s.indexOf(this.quarkIds_[M])&&(A.disconnect(),A.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(n),this.argumentVarModels_=[],M=0;M<this.arguments_.length;M++)n=e.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[M],""),this.argumentVarModels_.push(n);if(this.updateShape_(),this.quarkIds_=s)for(M=0;M<this.arguments_.length;M++)(s=this.quarkIds_[M])in this.quarkConnections_&&(e.Mutator.reconnect(A=this.quarkConnections_[s],this,"ARG"+M)||delete this.quarkConnections_[s]);(this.rendered=f)&&this.render()}},updateShape_:function(){for(var n=0;n<this.arguments_.length;n++){var s=this.getField("ARGNAME"+n);if(s){e.Events.disable();try{s.setValue(this.arguments_[n])}finally{e.Events.enable()}}else s=new e.FieldLabel(this.arguments_[n]),this.appendValueInput("ARG"+n).setAlign(e.ALIGN_RIGHT).appendField(s,"ARGNAME"+n).init()}for(;this.getInput("ARG"+n);)this.removeInput("ARG"+n),n++;(n=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(n.appendField(e.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),n.init()):this.getField("WITH")&&n.removeField("WITH"))},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");n.setAttribute("name",this.getProcedureCall());for(var s=0;s<this.arguments_.length;s++){var f=e.utils.xml.createElement("arg");f.setAttribute("name",this.arguments_[s]),n.appendChild(f)}return n},domToMutation:function(n){var s=n.getAttribute("name");this.renameProcedure(this.getProcedureCall(),s),s=[];for(var M,f=[],y=0;M=n.childNodes[y];y++)"arg"==M.nodeName.toLowerCase()&&(s.push(M.getAttribute("name")),f.push(M.getAttribute("paramId")));this.setProcedureParameters_(s,f)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(n){if(this.workspace&&!this.workspace.isFlyout&&n.recordUndo)if(n.type==e.Events.BLOCK_CREATE&&-1!=n.ids.indexOf(this.id)){var s=this.getProcedureCall();if(!(s=e.Procedures.getDefinition(s,this.workspace))||s.type==this.defType_&&JSON.stringify(s.getVars())==JSON.stringify(this.arguments_)||(s=null),!s){e.Events.setGroup(n.group),n=e.utils.xml.createElement("xml"),(s=e.utils.xml.createElement("block")).setAttribute("type",this.defType_);var f=this.getRelativeToSurfaceXY(),y=f.y+2*e.SNAP_RADIUS;s.setAttribute("x",f.x+e.SNAP_RADIUS*(this.RTL?-1:1)),s.setAttribute("y",y),f=this.mutationToDom(),s.appendChild(f),(f=e.utils.xml.createElement("field")).setAttribute("name","NAME"),(y=this.getProcedureCall())||(y=e.Procedures.findLegalName("",this),this.renameProcedure("",y)),f.appendChild(e.utils.xml.createTextNode(y)),s.appendChild(f),n.appendChild(s),e.Xml.domToWorkspace(n,this.workspace),e.Events.setGroup(!1)}}else n.type==e.Events.BLOCK_DELETE?(s=this.getProcedureCall(),(s=e.Procedures.getDefinition(s,this.workspace))||(e.Events.setGroup(n.group),this.dispose(!0),e.Events.setGroup(!1))):n.type==e.Events.CHANGE&&"disabled"==n.element&&(s=this.getProcedureCall(),(s=e.Procedures.getDefinition(s,this.workspace))&&s.id==n.blockId&&((s=e.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),e.Events.setGroup(n.group),n.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),e.Events.setGroup(s)))},customContextMenu:function(n){if(this.workspace.isMovable()){var s={enabled:!0};s.text=e.Msg.PROCEDURES_HIGHLIGHT_DEF;var f=this.getProcedureCall(),y=this.workspace;s.callback=function(){var M=e.Procedures.getDefinition(f,y);M&&(y.centerOnBlock(M.id),M.select())},n.push(s)}},defType_:"procedures_defnoreturn"},e.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:e.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:e.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:e.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:e.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:e.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_callnoreturn.domToMutation,getVars:e.Blocks.procedures_callnoreturn.getVars,getVarModels:e.Blocks.procedures_callnoreturn.getVarModels,onchange:e.Blocks.procedures_callnoreturn.onchange,customContextMenu:e.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},e.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("value",Number(this.hasReturnValue_)),n},domToMutation:function(n){this.hasReturnValue_=1==n.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(n){if(this.workspace.isDragging&&!this.workspace.isDragging()){n=!1;var s=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(s.type)){n=!0;break}s=s.getSurroundParent()}while(s);n?("procedures_defnoreturn"==s.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=s.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(e.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},e.Blocks.texts={},e.Constants.Text={},e.Constants.Text.HUE=160,e.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),e.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),s=this.getInput("AT1").type==e.INPUT_VALUE;return n.setAttribute("at1",s),s=this.getInput("AT2").type==e.INPUT_VALUE,n.setAttribute("at2",s),n},domToMutation:function(n){var s="true"==n.getAttribute("at1");n="true"==n.getAttribute("at2"),this.updateAt_(1,s),this.updateAt_(2,n)},updateAt_:function(n,s){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),s?(this.appendValueInput("AT"+n).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n),2==n&&e.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL));var f=new e.FieldDropdown(this["WHERE_OPTIONS_"+n],function(y){var M="FROM_START"==y||"FROM_END"==y;if(M!=s){var A=this.getSourceBlock();return A.updateAt_(n,M),A.setFieldValue(y,"WHERE"+n),null}});this.getInput("AT"+n).appendField(f,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},e.Blocks.text_changeCase={init:function(){var n=[[e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(n),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_CHANGECASE_TOOLTIP)}},e.Blocks.text_trim={init:function(){var n=[[e.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(n),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_TRIM_TOOLTIP)}},e.Blocks.text_print={init:function(){this.jsonInit({message0:e.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg.TEXT_PRINT_HELPURL})}},e.Blocks.text_prompt_ext={init:function(){var n=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var s=this;n=new e.FieldDropdown(n,function(f){s.updateType_(f)}),this.appendValueInput("TEXT").appendField(n,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==s.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:function(n){this.outputConnection.setCheck("NUMBER"==n?"Number":"String")},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("type",this.getFieldValue("TYPE")),n},domToMutation:function(n){this.updateType_(n.getAttribute("type"))}},e.Blocks.text_prompt={init:function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN);var n=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],s=this;this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),n=new e.FieldDropdown(n,function(f){s.updateType_(f)}),this.appendDummyInput().appendField(n,"TYPE").appendField(this.newQuote_(!0)).appendField(new e.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==s.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:e.Blocks.text_prompt_ext.updateType_,mutationToDom:e.Blocks.text_prompt_ext.mutationToDom,domToMutation:e.Blocks.text_prompt_ext.domToMutation},e.Blocks.text_count={init:function(){this.jsonInit({message0:e.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg.TEXT_COUNT_HELPURL})}},e.Blocks.text_replace={init:function(){this.jsonInit({message0:e.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg.TEXT_REPLACE_HELPURL})}},e.Blocks.text_reverse={init:function(){this.jsonInit({message0:e.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg.TEXT_REVERSE_HELPURL})}},e.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(n){for(var f,s=0;f=this.inputList[s];s++)for(var M,y=0;M=f.fieldRow[y];y++)if(n==M.name)return f.insertFieldAt(y,this.newQuote_(!0)),void f.insertFieldAt(y+2,this.newQuote_(!1));console.warn('field named "'+n+'" not found in '+this.toDevString())},newQuote_:function(n){return new e.FieldImage((n=this.RTL?!n:n)?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,n?"\u201c":"\u201d")}},e.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("items",this.itemCount_),n},domToMutation:function(n){this.itemCount_=parseInt(n.getAttribute("items"),10),this.updateShape_()},decompose:function(n){var s=n.newBlock("text_create_join_container");s.initSvg();for(var f=s.getInput("STACK").connection,y=0;y<this.itemCount_;y++){var M=n.newBlock("text_create_join_item");M.initSvg(),f.connect(M.previousConnection),f=M.nextConnection}return s},compose:function(n){var s=n.getInputTargetBlock("STACK");for(n=[];s&&!s.isInsertionMarker();)n.push(s.valueConnection_),s=s.nextConnection&&s.nextConnection.targetBlock();for(s=0;s<this.itemCount_;s++){var f=this.getInput("ADD"+s).connection.targetConnection;f&&-1==n.indexOf(f)&&f.disconnect()}for(this.itemCount_=n.length,this.updateShape_(),s=0;s<this.itemCount_;s++)e.Mutator.reconnect(n[s],this,"ADD"+s)},saveConnections:function(n){n=n.getInputTargetBlock("STACK");for(var s=0;n;){var f=this.getInput("ADD"+s);n.valueConnection_=f&&f.connection.targetConnection,s++,n=n.nextConnection&&n.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var n=0;n<this.itemCount_;n++)if(!this.getInput("ADD"+n)){var s=this.appendValueInput("ADD"+n).setAlign(e.ALIGN_RIGHT);0==n&&s.appendField(e.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+n);)this.removeInput("ADD"+n),n++}},e.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.Mutator(["text_create_join_item"]))},e.Extensions.register("text_append_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var n=this;this.setTooltip(function(){return e.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"0":"-1")})},e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("at",!!this.isAt_),n},domToMutation:function(n){n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateAt_:function(n){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),n&&(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)),e.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_CHARAT_TAIL)),this.isAt_=n}},e.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator(function(s){(s="FROM_START"==s||"FROM_END"==s)!=this.isAt_&&this.getSourceBlock().updateAt_(s)}),this.updateAt_(!0);var n=this;this.setTooltip(function(){var s=n.getFieldValue("WHERE"),f=e.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==s||"FROM_END"==s)&&(s="FROM_START"==s?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(f+="  "+s.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),f})},e.Extensions.register("text_indexOf_tooltip",e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),e.Extensions.register("text_quotes",e.Constants.Text.TEXT_QUOTES_EXTENSION),e.Extensions.registerMutator("text_join_mutator",e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,e.Constants.Text.TEXT_JOIN_EXTENSION),e.Extensions.registerMutator("text_charAt_mutator",e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,e.Constants.Text.TEXT_CHARAT_EXTENSION),e.Blocks.variables={},e.Constants.Variables={},e.Constants.Variables.HUE=330,e.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(n){if(this.isInFlyout)("variables_get"==this.type||"variables_get_reporter"==this.type)&&(s={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},M=this.getField("VAR").getText(),y={text:e.Msg.DELETE_VARIABLE.replace("%1",M),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},n.unshift(s),n.unshift(y));else{if("variables_get"==this.type)var s="variables_set",f=e.Msg.VARIABLES_GET_CREATE_SET;else s="variables_get",f=e.Msg.VARIABLES_SET_CREATE_GET;var y={enabled:0<this.workspace.remainingCapacity()},M=this.getField("VAR").getText();y.text=f.replace("%1",M),(f=e.utils.xml.createElement("field")).setAttribute("name","VAR"),f.appendChild(e.utils.xml.createTextNode(M)),(M=e.utils.xml.createElement("block")).setAttribute("type",s),M.appendChild(f),y.callback=e.ContextMenu.callbackFactory(this,M),n.push(y)}}},e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(n){return function(){var s=n.workspace,f=n.getField("VAR").getVariable();e.Variables.renameVariable(s,f)}},e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(n){return function(){var s=n.workspace,f=n.getField("VAR").getVariable();s.deleteVariableById(f.getId()),s.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableSetterGetter",e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Constants.VariablesDynamic={},e.Constants.VariablesDynamic.HUE=310,e.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(n){if(this.isInFlyout)("variables_get_dynamic"==this.type||"variables_get_reporter_dynamic"==this.type)&&(s={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},A=this.getField("VAR").getText(),M={text:e.Msg.DELETE_VARIABLE.replace("%1",A),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},n.unshift(s),n.unshift(M));else{var s=this.getFieldValue("VAR"),f=this.workspace.getVariableById(s).type;if("variables_get_dynamic"==this.type){s="variables_set_dynamic";var y=e.Msg.VARIABLES_GET_CREATE_SET}else s="variables_get_dynamic",y=e.Msg.VARIABLES_SET_CREATE_GET;var M={enabled:0<this.workspace.remainingCapacity()},A=this.getField("VAR").getText();M.text=y.replace("%1",A),(y=e.utils.xml.createElement("field")).setAttribute("name","VAR"),y.setAttribute("variabletype",f),y.appendChild(e.utils.xml.createTextNode(A)),(A=e.utils.xml.createElement("block")).setAttribute("type",s),A.appendChild(y),M.callback=e.ContextMenu.callbackFactory(this,A),n.push(M)}},onchange:function(n){n=this.getFieldValue("VAR"),n=e.Variables.getVariable(this.workspace,n),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(n.type):this.getInput("VALUE").connection.setCheck(n.type)}},e.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(n){return function(){var s=n.workspace,f=n.getField("VAR").getVariable();e.Variables.renameVariable(s,f)}},e.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(n){return function(){var s=n.workspace,f=n.getField("VAR").getVariable();s.deleteVariableById(f.getId()),s.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Blocks})?E.apply(U,o):E)&&(F.exports=t)},72593:function(F,U,_){var E,o,t;o=[_(81846),_(59090),_(81010),_(7148)],void 0!==(t="function"==typeof(E=function(e,n,s,f){"use strict";return e.setLocale(n),e.Blocks=e.Blocks||{},Object.keys(s).forEach(function(y){e.Blocks[y]=s[y]}),e.JavaScript=f,e})?E.apply(U,o):E)&&(F.exports=t)},81846:function(F,U,_){var E,o,t;o=[_(72749)],void 0!==(t="function"==typeof(E=function(e){"use strict";return e.setLocale=function(n){e.Msg=e.Msg||{},Object.keys(n).forEach(function(s){e.Msg[s]=n[s]})},e})?E.apply(U,o):E)&&(F.exports=t)},7832:function(F,U,_){var E,o,t;o=[_(72593)],void 0!==(t="function"==typeof(E=function(e){"use strict";return e})?E.apply(U,o):E)&&(F.exports=t)},7148:function(F,U,_){var E,o,t;o=[_(81846),_(97861)],void 0!==(t="function"==typeof(E=function(e,n){"use strict";return e.JavaScript=n,n})?E.apply(U,o):E)&&(F.exports=t)},97861:function(F,U,_){var E,o,t;o=[_(99240)],void 0!==(t="function"==typeof(E=function(e){"use strict";return e.JavaScript=new e.Generator("JavaScript"),e.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(e.utils.global).join(",")),e.JavaScript.ORDER_ATOMIC=0,e.JavaScript.ORDER_NEW=1.1,e.JavaScript.ORDER_MEMBER=1.2,e.JavaScript.ORDER_FUNCTION_CALL=2,e.JavaScript.ORDER_INCREMENT=3,e.JavaScript.ORDER_DECREMENT=3,e.JavaScript.ORDER_BITWISE_NOT=4.1,e.JavaScript.ORDER_UNARY_PLUS=4.2,e.JavaScript.ORDER_UNARY_NEGATION=4.3,e.JavaScript.ORDER_LOGICAL_NOT=4.4,e.JavaScript.ORDER_TYPEOF=4.5,e.JavaScript.ORDER_VOID=4.6,e.JavaScript.ORDER_DELETE=4.7,e.JavaScript.ORDER_AWAIT=4.8,e.JavaScript.ORDER_EXPONENTIATION=5,e.JavaScript.ORDER_MULTIPLICATION=5.1,e.JavaScript.ORDER_DIVISION=5.2,e.JavaScript.ORDER_MODULUS=5.3,e.JavaScript.ORDER_SUBTRACTION=6.1,e.JavaScript.ORDER_ADDITION=6.2,e.JavaScript.ORDER_BITWISE_SHIFT=7,e.JavaScript.ORDER_RELATIONAL=8,e.JavaScript.ORDER_IN=8,e.JavaScript.ORDER_INSTANCEOF=8,e.JavaScript.ORDER_EQUALITY=9,e.JavaScript.ORDER_BITWISE_AND=10,e.JavaScript.ORDER_BITWISE_XOR=11,e.JavaScript.ORDER_BITWISE_OR=12,e.JavaScript.ORDER_LOGICAL_AND=13,e.JavaScript.ORDER_LOGICAL_OR=14,e.JavaScript.ORDER_CONDITIONAL=15,e.JavaScript.ORDER_ASSIGNMENT=16,e.JavaScript.ORDER_YIELD=17,e.JavaScript.ORDER_COMMA=18,e.JavaScript.ORDER_NONE=99,e.JavaScript.ORDER_OVERRIDES=[[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_LOGICAL_NOT,e.JavaScript.ORDER_LOGICAL_NOT],[e.JavaScript.ORDER_MULTIPLICATION,e.JavaScript.ORDER_MULTIPLICATION],[e.JavaScript.ORDER_ADDITION,e.JavaScript.ORDER_ADDITION],[e.JavaScript.ORDER_LOGICAL_AND,e.JavaScript.ORDER_LOGICAL_AND],[e.JavaScript.ORDER_LOGICAL_OR,e.JavaScript.ORDER_LOGICAL_OR]],e.JavaScript.isInitialized=!1,e.JavaScript.init=function(n){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new e.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(n.getVariableMap()),this.nameDB_.populateVariables(n),this.nameDB_.populateProcedures(n);for(var s=[],f=e.Variables.allDeveloperVariables(n),y=0;y<f.length;y++)s.push(this.nameDB_.getName(f[y],e.Names.DEVELOPER_VARIABLE_TYPE));for(n=e.Variables.allUsedVarModels(n),y=0;y<n.length;y++)s.push(this.nameDB_.getName(n[y].getId(),e.VARIABLE_CATEGORY_NAME));s.length&&(this.definitions_.variables="var "+s.join(", ")+";"),this.isInitialized=!0},e.JavaScript.finish=function(n){var s=e.utils.object.values(this.definitions_);return n=Object.getPrototypeOf(this).finish.call(this,n),this.isInitialized=!1,this.nameDB_.reset(),s.join("\n\n")+"\n\n\n"+n},e.JavaScript.scrubNakedValue=function(n){return n+";\n"},e.JavaScript.quote_=function(n){return"'"+(n=n.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},e.JavaScript.multiline_quote_=function(n){return n.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},e.JavaScript.scrub_=function(n,s,f){var y="";if(!n.outputConnection||!n.outputConnection.targetConnection){var M=n.getCommentText();M&&(M=e.utils.string.wrap(M,this.COMMENT_WRAP-3),y+=this.prefixLines(M+"\n","// "));for(var A=0;A<n.inputList.length;A++)n.inputList[A].type==e.inputTypes.VALUE&&(M=n.inputList[A].connection.targetBlock())&&(M=this.allNestedComments(M))&&(y+=this.prefixLines(M,"// "))}return n=n.nextConnection&&n.nextConnection.targetBlock(),y+s+(f?"":this.blockToCode(n))},e.JavaScript.getAdjusted=function(n,s,f,y,M){f=f||0,M=M||this.ORDER_NONE,n.workspace.options.oneBasedIndex&&f--;var A=n.workspace.options.oneBasedIndex?"1":"0";if(n=0<f?this.valueToCode(n,s,this.ORDER_ADDITION)||A:0>f?this.valueToCode(n,s,this.ORDER_SUBTRACTION)||A:y?this.valueToCode(n,s,this.ORDER_UNARY_NEGATION)||A:this.valueToCode(n,s,M)||A,e.isNumber(n))n=Number(n)+f,y&&(n=-n);else{if(0<f){n=n+" + "+f;var P=this.ORDER_ADDITION}else 0>f&&(n=n+" - "+-f,P=this.ORDER_SUBTRACTION);y&&(n=f?"-("+n+")":"-"+n,P=this.ORDER_UNARY_NEGATION),P=Math.floor(P),M=Math.floor(M),P&&M>=P&&(n="("+n+")")}return n},e.JavaScript.colour={},e.JavaScript.colour_picker=function(n){return[e.JavaScript.quote_(n.getFieldValue("COLOUR")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.colour_random=function(n){return[e.JavaScript.provideFunction_("colourRandom",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_rgb=function(n){var s=e.JavaScript.valueToCode(n,"RED",e.JavaScript.ORDER_NONE)||0,f=e.JavaScript.valueToCode(n,"GREEN",e.JavaScript.ORDER_NONE)||0;return n=e.JavaScript.valueToCode(n,"BLUE",e.JavaScript.ORDER_NONE)||0,[e.JavaScript.provideFunction_("colourRgb",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+s+", "+f+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_blend=function(n){var s=e.JavaScript.valueToCode(n,"COLOUR1",e.JavaScript.ORDER_NONE)||"'#000000'",f=e.JavaScript.valueToCode(n,"COLOUR2",e.JavaScript.ORDER_NONE)||"'#000000'";return n=e.JavaScript.valueToCode(n,"RATIO",e.JavaScript.ORDER_NONE)||.5,[e.JavaScript.provideFunction_("colourBlend",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+s+", "+f+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists={},e.JavaScript.lists_create_empty=function(n){return["[]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_create_with=function(n){for(var s=Array(n.itemCount_),f=0;f<n.itemCount_;f++)s[f]=e.JavaScript.valueToCode(n,"ADD"+f,e.JavaScript.ORDER_NONE)||"null";return["["+s.join(", ")+"]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_repeat=function(n){return[e.JavaScript.provideFunction_("listsRepeat",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(e.JavaScript.valueToCode(n,"ITEM",e.JavaScript.ORDER_NONE)||"null")+", "+(n=e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_NONE)||"0")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_length=function(n){return[(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.lists_isEmpty=function(n){return["!"+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.lists_indexOf=function(n){var s="FIRST"==n.getFieldValue("END")?"indexOf":"lastIndexOf",f=e.JavaScript.valueToCode(n,"FIND",e.JavaScript.ORDER_NONE)||"''";return s=(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+"."+s+"("+f+")",n.workspace.options.oneBasedIndex?[s+" + 1",e.JavaScript.ORDER_ADDITION]:[s,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_getIndex=function(n){var s=n.getFieldValue("MODE")||"GET",f=n.getFieldValue("WHERE")||"FROM_START",y=e.JavaScript.valueToCode(n,"VALUE","RANDOM"==f?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"[]";switch(f){case"FIRST":if("GET"==s)return[y+"[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==s)return[y+".shift()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==s)return y+".shift();\n";break;case"LAST":if("GET"==s)return[y+".slice(-1)[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==s)return[y+".pop()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==s)return y+".pop();\n";break;case"FROM_START":if(n=e.JavaScript.getAdjusted(n,"AT"),"GET"==s)return[y+"["+n+"]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==s)return[y+".splice("+n+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==s)return y+".splice("+n+", 1);\n";break;case"FROM_END":if(n=e.JavaScript.getAdjusted(n,"AT",1,!0),"GET"==s)return[y+".slice("+n+")[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==s)return[y+".splice("+n+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==s)return y+".splice("+n+", 1);";break;case"RANDOM":if(y=e.JavaScript.provideFunction_("listsGetRandomItem",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+y+", "+("GET"!=s)+")","GET"==s||"GET_REMOVE"==s)return[y,e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==s)return y+";\n"}throw Error("Unhandled combination (lists_getIndex).")},e.JavaScript.lists_setIndex=function(n){function s(){if(f.match(/^\w+$/))return"";var P=e.JavaScript.nameDB_.getDistinctName("tmpList",e.VARIABLE_CATEGORY_NAME),B="var "+P+" = "+f+";\n";return f=P,B}var f=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",y=n.getFieldValue("MODE")||"GET",M=n.getFieldValue("WHERE")||"FROM_START",A=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"null";switch(M){case"FIRST":if("SET"==y)return f+"[0] = "+A+";\n";if("INSERT"==y)return f+".unshift("+A+");\n";break;case"LAST":if("SET"==y)return(n=s())+(f+"[")+f+".length - 1] = "+A+";\n";if("INSERT"==y)return f+".push("+A+");\n";break;case"FROM_START":if(M=e.JavaScript.getAdjusted(n,"AT"),"SET"==y)return f+"["+M+"] = "+A+";\n";if("INSERT"==y)return f+".splice("+M+", 0, "+A+");\n";break;case"FROM_END":if(M=e.JavaScript.getAdjusted(n,"AT",1,!1,e.JavaScript.ORDER_SUBTRACTION),n=s(),"SET"==y)return n+(f+"[")+f+".length - "+M+"] = "+A+";\n";if("INSERT"==y)return n+(f+".splice(")+f+".length - "+M+", 0, "+A+");\n";break;case"RANDOM":if(n=s(),n+="var "+(M=e.JavaScript.nameDB_.getDistinctName("tmpX",e.VARIABLE_CATEGORY_NAME))+" = Math.floor(Math.random() * "+f+".length);\n","SET"==y)return n+(f+"[")+M+"] = "+A+";\n";if("INSERT"==y)return n+(f+".splice(")+M+", 0, "+A+");\n"}throw Error("Unhandled combination (lists_setIndex).")},e.JavaScript.lists.getIndex_=function(n,s,f){return"FIRST"==s?"0":"FROM_END"==s?n+".length - 1 - "+f:"LAST"==s?n+".length - 1":f},e.JavaScript.lists_getSublist=function(n){var s=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",f=n.getFieldValue("WHERE1"),y=n.getFieldValue("WHERE2");if("FIRST"==f&&"LAST"==y)s+=".slice(0)";else if(s.match(/^\w+$/)||"FROM_END"!=f&&"FROM_START"==y){switch(f){case"FROM_START":var M=e.JavaScript.getAdjusted(n,"AT1");break;case"FROM_END":M=s+".length - "+(M=e.JavaScript.getAdjusted(n,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":M="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(y){case"FROM_START":n=e.JavaScript.getAdjusted(n,"AT2",1);break;case"FROM_END":n=s+".length - "+(n=e.JavaScript.getAdjusted(n,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":n=s+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}s=s+".slice("+M+", "+n+")"}else{M=e.JavaScript.getAdjusted(n,"AT1"),n=e.JavaScript.getAdjusted(n,"AT2");var A=e.JavaScript.lists.getIndex_,P={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};s=e.JavaScript.provideFunction_("subsequence"+P[f]+P[y],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==f||"FROM_START"==f?", at1":"")+("FROM_END"==y||"FROM_START"==y?", at2":"")+") {","  var start = "+A("sequence",f,"at1")+";","  var end = "+A("sequence",y,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+s+("FROM_END"==f||"FROM_START"==f?", "+M:"")+("FROM_END"==y||"FROM_START"==y?", "+n:"")+")"}return[s,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_sort=function(n){var s=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]",f="1"===n.getFieldValue("DIRECTION")?1:-1;return n=n.getFieldValue("TYPE"),[s+".slice().sort("+e.JavaScript.provideFunction_("listsGetSortCompare",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+n+'", '+f+"))",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_split=function(n){var s=e.JavaScript.valueToCode(n,"INPUT",e.JavaScript.ORDER_MEMBER),f=e.JavaScript.valueToCode(n,"DELIM",e.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(n=n.getFieldValue("MODE")))s||(s="''"),n="split";else{if("JOIN"!=n)throw Error("Unknown mode: "+n);s||(s="[]"),n="join"}return[s+"."+n+"("+f+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_reverse=function(n){return[(e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.logic={},e.JavaScript.controls_if=function(n){var s=0,f="";e.JavaScript.STATEMENT_PREFIX&&(f+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n));do{var y=e.JavaScript.valueToCode(n,"IF"+s,e.JavaScript.ORDER_NONE)||"false",M=e.JavaScript.statementToCode(n,"DO"+s);e.JavaScript.STATEMENT_SUFFIX&&(M=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)+M),f+=(0<s?" else ":"")+"if ("+y+") {\n"+M+"}",++s}while(n.getInput("IF"+s));return(n.getInput("ELSE")||e.JavaScript.STATEMENT_SUFFIX)&&(M=e.JavaScript.statementToCode(n,"ELSE"),e.JavaScript.STATEMENT_SUFFIX&&(M=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)+M),f+=" else {\n"+M+"}"),f+"\n"},e.JavaScript.controls_ifelse=e.JavaScript.controls_if,e.JavaScript.logic_compare=function(n){var s={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[n.getFieldValue("OP")],f="=="==s||"!="==s?e.JavaScript.ORDER_EQUALITY:e.JavaScript.ORDER_RELATIONAL;return[(e.JavaScript.valueToCode(n,"A",f)||"0")+" "+s+" "+(n=e.JavaScript.valueToCode(n,"B",f)||"0"),f]},e.JavaScript.logic_operation=function(n){var s="AND"==n.getFieldValue("OP")?"&&":"||",f="&&"==s?e.JavaScript.ORDER_LOGICAL_AND:e.JavaScript.ORDER_LOGICAL_OR,y=e.JavaScript.valueToCode(n,"A",f);if(n=e.JavaScript.valueToCode(n,"B",f),y||n){var M="&&"==s?"true":"false";y||(y=M),n||(n=M)}else n=y="false";return[y+" "+s+" "+n,f]},e.JavaScript.logic_negate=function(n){var s=e.JavaScript.ORDER_LOGICAL_NOT;return["!"+(e.JavaScript.valueToCode(n,"BOOL",s)||"true"),s]},e.JavaScript.logic_boolean=function(n){return["TRUE"==n.getFieldValue("BOOL")?"true":"false",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_null=function(n){return["null",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_ternary=function(n){return[(e.JavaScript.valueToCode(n,"IF",e.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(e.JavaScript.valueToCode(n,"THEN",e.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(n=e.JavaScript.valueToCode(n,"ELSE",e.JavaScript.ORDER_CONDITIONAL)||"null"),e.JavaScript.ORDER_CONDITIONAL]},e.JavaScript.loops={},e.JavaScript.controls_repeat_ext=function(n){var s=n.getField("TIMES")?String(Number(n.getFieldValue("TIMES"))):e.JavaScript.valueToCode(n,"TIMES",e.JavaScript.ORDER_ASSIGNMENT)||"0",f=e.JavaScript.statementToCode(n,"DO");f=e.JavaScript.addLoopTrap(f,n),n="";var y=e.JavaScript.nameDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME),M=s;return s.match(/^\w+$/)||e.isNumber(s)||(n+="var "+(M=e.JavaScript.nameDB_.getDistinctName("repeat_end",e.VARIABLE_CATEGORY_NAME))+" = "+s+";\n"),n+"for (var "+y+" = 0; "+y+" < "+M+"; "+y+"++) {\n"+f+"}\n"},e.JavaScript.controls_repeat=e.JavaScript.controls_repeat_ext,e.JavaScript.controls_whileUntil=function(n){var s="UNTIL"==n.getFieldValue("MODE"),f=e.JavaScript.valueToCode(n,"BOOL",s?e.JavaScript.ORDER_LOGICAL_NOT:e.JavaScript.ORDER_NONE)||"false",y=e.JavaScript.statementToCode(n,"DO");return s&&(f="!"+f),"while ("+f+") {\n"+(y=e.JavaScript.addLoopTrap(y,n))+"}\n"},e.JavaScript.controls_for=function(n){var s=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),f=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_ASSIGNMENT)||"0",y=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"0",M=e.JavaScript.valueToCode(n,"BY",e.JavaScript.ORDER_ASSIGNMENT)||"1",A=e.JavaScript.statementToCode(n,"DO");if(A=e.JavaScript.addLoopTrap(A,n),e.isNumber(f)&&e.isNumber(y)&&e.isNumber(M)){var P=Number(f)<=Number(y);n="for ("+s+" = "+f+"; "+s+(P?" <= ":" >= ")+y+"; "+s,n=(1==(s=Math.abs(Number(M)))?n+(P?"++":"--"):n+(P?" += ":" -= ")+s)+") {\n"+A+"}\n"}else n="",P=f,f.match(/^\w+$/)||e.isNumber(f)||(n+="var "+(P=e.JavaScript.nameDB_.getDistinctName(s+"_start",e.VARIABLE_CATEGORY_NAME))+" = "+f+";\n"),f=y,y.match(/^\w+$/)||e.isNumber(y)||(n+="var "+(f=e.JavaScript.nameDB_.getDistinctName(s+"_end",e.VARIABLE_CATEGORY_NAME))+" = "+y+";\n"),n+="var "+(y=e.JavaScript.nameDB_.getDistinctName(s+"_inc",e.VARIABLE_CATEGORY_NAME))+" = ",n=(n=e.isNumber(M)?n+(Math.abs(M)+";\n"):n+"Math.abs("+M+");\n")+"if ("+P+" > "+f+") {\n"+(e.JavaScript.INDENT+y)+" = -"+y+";\n",n+="}\n",n+="for ("+s+" = "+P+"; "+y+" >= 0 ? "+s+" <= "+f+" : "+s+" >= "+f+"; "+s+" += "+y+") {\n"+A+"}\n";return n},e.JavaScript.controls_forEach=function(n){var s=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),f=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_ASSIGNMENT)||"[]",y=e.JavaScript.statementToCode(n,"DO");y=e.JavaScript.addLoopTrap(y,n),n="";var M=f;return f.match(/^\w+$/)||(n+="var "+(M=e.JavaScript.nameDB_.getDistinctName(s+"_list",e.VARIABLE_CATEGORY_NAME))+" = "+f+";\n"),n+"for (var "+(f=e.JavaScript.nameDB_.getDistinctName(s+"_index",e.VARIABLE_CATEGORY_NAME))+" in "+M+") {\n"+(y=e.JavaScript.INDENT+s+" = "+M+"["+f+"];\n"+y)+"}\n"},e.JavaScript.controls_flow_statements=function(n){var s="";if(e.JavaScript.STATEMENT_PREFIX&&(s+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n)),e.JavaScript.STATEMENT_SUFFIX&&(s+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n)),e.JavaScript.STATEMENT_PREFIX){var f=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(n);f&&!f.suppressPrefixSuffix&&(s+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,f))}switch(n.getFieldValue("FLOW")){case"BREAK":return s+"break;\n";case"CONTINUE":return s+"continue;\n"}throw Error("Unknown flow statement.")},e.JavaScript.math={},e.JavaScript.math_number=function(n){return[n=Number(n.getFieldValue("NUM")),0<=n?e.JavaScript.ORDER_ATOMIC:e.JavaScript.ORDER_UNARY_NEGATION]},e.JavaScript.math_arithmetic=function(n){var s={ADD:[" + ",e.JavaScript.ORDER_ADDITION],MINUS:[" - ",e.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",e.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",e.JavaScript.ORDER_DIVISION],POWER:[null,e.JavaScript.ORDER_NONE]}[n.getFieldValue("OP")],f=s[0],y=e.JavaScript.valueToCode(n,"A",s=s[1])||"0";return n=e.JavaScript.valueToCode(n,"B",s)||"0",f?[y+f+n,s]:["Math.pow("+y+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_single=function(n){var s=n.getFieldValue("OP");if("NEG"==s)return"-"==(n=e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(n=" "+n),["-"+n,e.JavaScript.ORDER_UNARY_NEGATION];switch(n="SIN"==s||"COS"==s||"TAN"==s?e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_DIVISION)||"0":e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_NONE)||"0",s){case"ABS":var f="Math.abs("+n+")";break;case"ROOT":f="Math.sqrt("+n+")";break;case"LN":f="Math.log("+n+")";break;case"EXP":f="Math.exp("+n+")";break;case"POW10":f="Math.pow(10,"+n+")";break;case"ROUND":f="Math.round("+n+")";break;case"ROUNDUP":f="Math.ceil("+n+")";break;case"ROUNDDOWN":f="Math.floor("+n+")";break;case"SIN":f="Math.sin("+n+" / 180 * Math.PI)";break;case"COS":f="Math.cos("+n+" / 180 * Math.PI)";break;case"TAN":f="Math.tan("+n+" / 180 * Math.PI)"}if(f)return[f,e.JavaScript.ORDER_FUNCTION_CALL];switch(s){case"LOG10":f="Math.log("+n+") / Math.log(10)";break;case"ASIN":f="Math.asin("+n+") / Math.PI * 180";break;case"ACOS":f="Math.acos("+n+") / Math.PI * 180";break;case"ATAN":f="Math.atan("+n+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+s)}return[f,e.JavaScript.ORDER_DIVISION]},e.JavaScript.math_constant=function(n){return{PI:["Math.PI",e.JavaScript.ORDER_MEMBER],E:["Math.E",e.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",e.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",e.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",e.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",e.JavaScript.ORDER_ATOMIC]}[n.getFieldValue("CONSTANT")]},e.JavaScript.math_number_property=function(n){var s=e.JavaScript.valueToCode(n,"NUMBER_TO_CHECK",e.JavaScript.ORDER_MODULUS)||"0",f=n.getFieldValue("PROPERTY");if("PRIME"==f)return[e.JavaScript.provideFunction_("mathIsPrime",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+s+")",e.JavaScript.ORDER_FUNCTION_CALL];switch(f){case"EVEN":var y=s+" % 2 == 0";break;case"ODD":y=s+" % 2 == 1";break;case"WHOLE":y=s+" % 1 == 0";break;case"POSITIVE":y=s+" > 0";break;case"NEGATIVE":y=s+" < 0";break;case"DIVISIBLE_BY":y=s+" % "+(n=e.JavaScript.valueToCode(n,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[y,e.JavaScript.ORDER_EQUALITY]},e.JavaScript.math_change=function(n){var s=e.JavaScript.valueToCode(n,"DELTA",e.JavaScript.ORDER_ADDITION)||"0";return(n=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = (typeof "+n+" == 'number' ? "+n+" : 0) + "+s+";\n"},e.JavaScript.math_round=e.JavaScript.math_single,e.JavaScript.math_trig=e.JavaScript.math_single,e.JavaScript.math_on_list=function(n){var s=n.getFieldValue("OP");switch(s){case"SUM":n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",n+=".reduce(function(x, y) {return x + y;})";break;case"MIN":n="Math.min.apply(null, "+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MAX":n="Math.max.apply(null, "+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"AVERAGE":n=(s=e.JavaScript.provideFunction_("mathMean",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":n=(s=e.JavaScript.provideFunction_("mathMedian",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":n=(s=e.JavaScript.provideFunction_("mathModes",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":n=(s=e.JavaScript.provideFunction_("mathStandardDeviation",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":n=(s=e.JavaScript.provideFunction_("mathRandomList",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+s)}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_modulo=function(n){return[(e.JavaScript.valueToCode(n,"DIVIDEND",e.JavaScript.ORDER_MODULUS)||"0")+" % "+(n=e.JavaScript.valueToCode(n,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0"),e.JavaScript.ORDER_MODULUS]},e.JavaScript.math_constrain=function(n){return["Math.min(Math.max("+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_NONE)||"0")+", "+(e.JavaScript.valueToCode(n,"LOW",e.JavaScript.ORDER_NONE)||"0")+"), "+(n=e.JavaScript.valueToCode(n,"HIGH",e.JavaScript.ORDER_NONE)||"Infinity")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_int=function(n){var s=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_NONE)||"0";return n=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_NONE)||"0",[e.JavaScript.provideFunction_("mathRandomInt",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+s+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_float=function(n){return["Math.random()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_atan2=function(n){var s=e.JavaScript.valueToCode(n,"X",e.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(e.JavaScript.valueToCode(n,"Y",e.JavaScript.ORDER_NONE)||"0")+", "+s+") / Math.PI * 180",e.JavaScript.ORDER_DIVISION]},e.JavaScript.procedures={},e.JavaScript.procedures_defreturn=function(n){var s=e.JavaScript.nameDB_.getName(n.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),f="";e.JavaScript.STATEMENT_PREFIX&&(f+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n)),e.JavaScript.STATEMENT_SUFFIX&&(f+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n)),f&&(f=e.JavaScript.prefixLines(f,e.JavaScript.INDENT));var y="";e.JavaScript.INFINITE_LOOP_TRAP&&(y=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.INFINITE_LOOP_TRAP,n),e.JavaScript.INDENT));var M=e.JavaScript.statementToCode(n,"STACK"),A=e.JavaScript.valueToCode(n,"RETURN",e.JavaScript.ORDER_NONE)||"",P="";M&&A&&(P=f),A&&(A=e.JavaScript.INDENT+"return "+A+";\n");for(var B=[],ne=n.getVars(),te=0;te<ne.length;te++)B[te]=e.JavaScript.nameDB_.getName(ne[te],e.VARIABLE_CATEGORY_NAME);return f="function "+s+"("+B.join(", ")+") {\n"+f+y+M+P+A+"}",f=e.JavaScript.scrub_(n,f),e.JavaScript.definitions_["%"+s]=f,null},e.JavaScript.procedures_defnoreturn=e.JavaScript.procedures_defreturn,e.JavaScript.procedures_callreturn=function(n){for(var s=e.JavaScript.nameDB_.getName(n.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),f=[],y=n.getVars(),M=0;M<y.length;M++)f[M]=e.JavaScript.valueToCode(n,"ARG"+M,e.JavaScript.ORDER_NONE)||"null";return[s+"("+f.join(", ")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.procedures_callnoreturn=function(n){return e.JavaScript.procedures_callreturn(n)[0]+";\n"},e.JavaScript.procedures_ifreturn=function(n){var s="if ("+(e.JavaScript.valueToCode(n,"CONDITION",e.JavaScript.ORDER_NONE)||"false")+") {\n";return e.JavaScript.STATEMENT_SUFFIX&&(s+=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)),n.hasReturnValue_?(n=e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_NONE)||"null",s+=e.JavaScript.INDENT+"return "+n+";\n"):s+=e.JavaScript.INDENT+"return;\n",s+"}\n"},e.JavaScript.texts={},e.JavaScript.text=function(n){return[e.JavaScript.quote_(n.getFieldValue("TEXT")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.text_multiline=function(n){var s=-1!=(n=e.JavaScript.multiline_quote_(n.getFieldValue("TEXT"))).indexOf("+")?e.JavaScript.ORDER_ADDITION:e.JavaScript.ORDER_ATOMIC;return[n,s]},e.JavaScript.text.forceString_=function(n){return e.JavaScript.text.forceString_.strRegExp.test(n)?[n,e.JavaScript.ORDER_ATOMIC]:["String("+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.JavaScript.text_join=function(n){switch(n.itemCount_){case 0:return["''",e.JavaScript.ORDER_ATOMIC];case 1:return n=e.JavaScript.valueToCode(n,"ADD0",e.JavaScript.ORDER_NONE)||"''",e.JavaScript.text.forceString_(n);case 2:var s=e.JavaScript.valueToCode(n,"ADD0",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"ADD1",e.JavaScript.ORDER_NONE)||"''",[n=e.JavaScript.text.forceString_(s)[0]+" + "+e.JavaScript.text.forceString_(n)[0],e.JavaScript.ORDER_ADDITION];default:s=Array(n.itemCount_);for(var f=0;f<n.itemCount_;f++)s[f]=e.JavaScript.valueToCode(n,"ADD"+f,e.JavaScript.ORDER_NONE)||"''";return[n="["+s.join(",")+"].join('')",e.JavaScript.ORDER_FUNCTION_CALL]}},e.JavaScript.text_append=function(n){var s=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return n=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''",s+" += "+e.JavaScript.text.forceString_(n)[0]+";\n"},e.JavaScript.text_length=function(n){return[(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.text_isEmpty=function(n){return["!"+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.text_indexOf=function(n){var s="FIRST"==n.getFieldValue("END")?"indexOf":"lastIndexOf",f=e.JavaScript.valueToCode(n,"FIND",e.JavaScript.ORDER_NONE)||"''";return s=(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+"."+s+"("+f+")",n.workspace.options.oneBasedIndex?[s+" + 1",e.JavaScript.ORDER_ADDITION]:[s,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_charAt=function(n){var s=n.getFieldValue("WHERE")||"FROM_START",f=e.JavaScript.valueToCode(n,"VALUE","RANDOM"==s?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"''";switch(s){case"FIRST":return[f+".charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[f+".slice(-1)",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[f+".charAt("+(n=e.JavaScript.getAdjusted(n,"AT"))+")",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[f+".slice("+(n=e.JavaScript.getAdjusted(n,"AT",1,!0))+").charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[e.JavaScript.provideFunction_("textRandomLetter",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+f+")",e.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.JavaScript.text.getIndex_=function(n,s,f){return"FIRST"==s?"0":"FROM_END"==s?n+".length - 1 - "+f:"LAST"==s?n+".length - 1":f},e.JavaScript.text_getSubstring=function(n){var s=n.getFieldValue("WHERE1"),f=n.getFieldValue("WHERE2"),y="FROM_END"!=s&&"LAST"!=s&&"FROM_END"!=f&&"LAST"!=f,M=e.JavaScript.valueToCode(n,"STRING",y?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''";if("FIRST"==s&&"LAST"==f)return[M,e.JavaScript.ORDER_NONE];if(M.match(/^'?\w+'?$/)||y){switch(s){case"FROM_START":y=e.JavaScript.getAdjusted(n,"AT1");break;case"FROM_END":y=M+".length - "+(y=e.JavaScript.getAdjusted(n,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":y="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(f){case"FROM_START":n=e.JavaScript.getAdjusted(n,"AT2",1);break;case"FROM_END":n=M+".length - "+(n=e.JavaScript.getAdjusted(n,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":n=M+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}s=M+".slice("+y+", "+n+")"}else{y=e.JavaScript.getAdjusted(n,"AT1"),n=e.JavaScript.getAdjusted(n,"AT2");var A=e.JavaScript.text.getIndex_,P={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};s=e.JavaScript.provideFunction_("subsequence"+P[s]+P[f],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==s||"FROM_START"==s?", at1":"")+("FROM_END"==f||"FROM_START"==f?", at2":"")+") {","  var start = "+A("sequence",s,"at1")+";","  var end = "+A("sequence",f,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+M+("FROM_END"==s||"FROM_START"==s?", "+y:"")+("FROM_END"==f||"FROM_START"==f?", "+n:"")+")"}return[s,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_changeCase=function(n){var s={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[n.getFieldValue("CASE")];return n=e.JavaScript.valueToCode(n,"TEXT",s?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''",[s?n+s:e.JavaScript.provideFunction_("textToTitleCase",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_trim=function(n){var s={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[n.getFieldValue("MODE")];return[(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+s,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_print=function(n){return"window.alert("+(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''")+");\n"},e.JavaScript.text_prompt_ext=function(n){var s="window.prompt("+(n.getField("TEXT")?e.JavaScript.quote_(n.getFieldValue("TEXT")):e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==n.getFieldValue("TYPE")&&(s="Number("+s+")"),[s,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_prompt=e.JavaScript.text_prompt_ext,e.JavaScript.text_count=function(n){var s=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"SUB",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textCount",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+s+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_replace=function(n){var s=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''",f=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textReplace",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+s+", "+f+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_reverse=function(n){return[(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.variables={},e.JavaScript.variables_get=function(n){return[e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.variables_set=function(n){var s=e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_ASSIGNMENT)||"0";return e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+s+";\n"},e.JavaScript.variablesDynamic={},e.JavaScript.variables_get_dynamic=e.JavaScript.variables_get,e.JavaScript.variables_set_dynamic=e.JavaScript.variables_set,e.JavaScript})?E.apply(U,o):E)&&(F.exports=t)},59090:function(F,U,_){var E,o,t;o=[_(81846)],void 0!==(t="function"==typeof(E=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.IOS_CANCEL="Cancel",e.Msg.IOS_ERROR="Error",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",e.Msg.IOS_PROCEDURES_INPUTS="INPUTS",e.Msg.IOS_VARIABLES_ADD_BUTTON="Add",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",e.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",e.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?E.apply(U,o):E)&&(F.exports=t)},45149:function(F){F.exports=function(){"use strict";function U(ue){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(ue)}var ue,E=(ue={},function(Ge){var lt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"introjs-stamp";return ue[lt]=ue[lt]||0,void 0===Ge[lt]&&(Ge[lt]=ue[lt]++),Ge[lt]});function o(ue,_e,Ge){if(ue)for(var lt=0,ht=ue.length;lt<ht;lt++)_e(ue[lt],lt);"function"==typeof Ge&&Ge()}var t=new function(){var _e="introjs_event";this._id=function(Ge,lt,ht,Yt){return lt+E(ht)+(Yt?"_".concat(E(Yt)):"")},this.on=function(Ge,lt,ht,Yt,Tt){var Nt=this._id.apply(this,arguments),cn=function(Tn){return ht.call(Yt||Ge,Tn||window.event)};"addEventListener"in Ge?Ge.addEventListener(lt,cn,Tt):"attachEvent"in Ge&&Ge.attachEvent("on".concat(lt),cn),Ge[_e]=Ge[_e]||{},Ge[_e][Nt]=cn},this.off=function(Ge,lt,ht,Yt,Tt){var Nt=this._id.apply(this,arguments),cn=Ge[_e]&&Ge[_e][Nt];!cn||("removeEventListener"in Ge?Ge.removeEventListener(lt,cn,Tt):"detachEvent"in Ge&&Ge.detachEvent("on".concat(lt),cn),Ge[_e][Nt]=null)}},e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(ue,_e){return ue(_e={exports:{}},_e.exports),_e.exports}var Vt,zt,s=function(ue){return ue&&ue.Math==Math&&ue},f=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof e&&e)||function(){return this}()||Function("return this")(),y=function(ue){try{return!!ue()}catch(_e){return!0}},M=!y(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),A=Function.prototype.call,P=A.bind?A.bind(A):function(){return A.apply(A,arguments)},B={}.propertyIsEnumerable,ne=Object.getOwnPropertyDescriptor,de={f:ne&&!B.call({1:2},1)?function(_e){var Ge=ne(this,_e);return!!Ge&&Ge.enumerable}:B},ae=function(ue,_e){return{enumerable:!(1&ue),configurable:!(2&ue),writable:!(4&ue),value:_e}},Me=Function.prototype,xe=Me.bind,we=Me.call,ke=xe&&xe.bind(we),fe=xe?function(ue){return ue&&ke(we,ue)}:function(ue){return ue&&function(){return we.apply(ue,arguments)}},pe=fe({}.toString),ie=fe("".slice),ee=function(ue){return ie(pe(ue),8,-1)},ye=f.Object,Ce=fe("".split),Te=y(function(){return!ye("z").propertyIsEnumerable(0)})?function(ue){return"String"==ee(ue)?Ce(ue,""):ye(ue)}:ye,me=f.TypeError,ve=function(ue){if(null==ue)throw me("Can't call method on "+ue);return ue},Ze=function(ue){return Te(ve(ue))},Be=function(ue){return"function"==typeof ue},ot=function(ue){return"object"==typeof ue?null!==ue:Be(ue)},Lt=function(ue){return Be(ue)?ue:void 0},Jt=function(ue,_e){return arguments.length<2?Lt(f[ue]):f[ue]&&f[ue][_e]},wt=fe({}.isPrototypeOf),tn=Jt("navigator","userAgent")||"",Et=f.process,sn=f.Deno,rt=Et&&Et.versions||sn&&sn.version,at=rt&&rt.v8;at&&(zt=(Vt=at.split("."))[0]>0&&Vt[0]<4?1:+(Vt[0]+Vt[1])),!zt&&tn&&(!(Vt=tn.match(/Edge\/(\d+)/))||Vt[1]>=74)&&(Vt=tn.match(/Chrome\/(\d+)/))&&(zt=+Vt[1]);var $t=zt,xn=!!Object.getOwnPropertySymbols&&!y(function(){var ue=Symbol();return!String(ue)||!(Object(ue)instanceof Symbol)||!Symbol.sham&&$t&&$t<41}),Kn=xn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Yn=f.Object,dn=Kn?function(ue){return"symbol"==typeof ue}:function(ue){var _e=Jt("Symbol");return Be(_e)&&wt(_e.prototype,Yn(ue))},It=f.String,Bt=function(ue){try{return It(ue)}catch(_e){return"Object"}},Fe=f.TypeError,it=function(ue){if(Be(ue))return ue;throw Fe(Bt(ue)+" is not a function")},un=function(ue,_e){var Ge=ue[_e];return null==Ge?void 0:it(Ge)},ft=f.TypeError,mt=Object.defineProperty,Ht=function(ue,_e){try{mt(f,ue,{value:_e,configurable:!0,writable:!0})}catch(Ge){f[ue]=_e}return _e},Je="__core-js_shared__",re=f[Je]||Ht(Je,{}),ze=n(function(ue){(ue.exports=function(_e,Ge){return re[_e]||(re[_e]=void 0!==Ge?Ge:{})})("versions",[]).push({version:"3.19.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),Qe=f.Object,Ct=function(ue){return Qe(ve(ue))},yt=fe({}.hasOwnProperty),Zt=Object.hasOwn||function(_e,Ge){return yt(Ct(_e),Ge)},wn=0,En=Math.random(),bn=fe(1..toString),fn=function(ue){return"Symbol("+(void 0===ue?"":ue)+")_"+bn(++wn+En,36)},Ut=ze("wks"),on=f.Symbol,tt=on&&on.for,xt=Kn?on:on&&on.withoutSetter||fn,rn=function(ue){if(!Zt(Ut,ue)||!xn&&"string"!=typeof Ut[ue]){var _e="Symbol."+ue;Ut[ue]=xn&&Zt(on,ue)?on[ue]:Kn&&tt?tt(_e):xt(_e)}return Ut[ue]},Cn=f.TypeError,qn=rn("toPrimitive"),zn=function(ue,_e){if(!ot(ue)||dn(ue))return ue;var lt,Ge=un(ue,qn);if(Ge){if(void 0===_e&&(_e="default"),lt=P(Ge,ue,_e),!ot(lt)||dn(lt))return lt;throw Cn("Can't convert object to primitive value")}return void 0===_e&&(_e="number"),function(ue,_e){var Ge,lt;if("string"===_e&&Be(Ge=ue.toString)&&!ot(lt=P(Ge,ue))||Be(Ge=ue.valueOf)&&!ot(lt=P(Ge,ue))||"string"!==_e&&Be(Ge=ue.toString)&&!ot(lt=P(Ge,ue)))return lt;throw ft("Can't convert object to primitive value")}(ue,_e)},Vn=function(ue){var _e=zn(ue,"string");return dn(_e)?_e:_e+""},jn=f.document,Dt=ot(jn)&&ot(jn.createElement),At=function(ue){return Dt?jn.createElement(ue):{}},Oe=!M&&!y(function(){return 7!=Object.defineProperty(At("div"),"a",{get:function(){return 7}}).a}),je=Object.getOwnPropertyDescriptor,bt={f:M?je:function(_e,Ge){if(_e=Ze(_e),Ge=Vn(Ge),Oe)try{return je(_e,Ge)}catch(lt){}if(Zt(_e,Ge))return ae(!P(de.f,_e,Ge),_e[Ge])}},Qt=f.String,Nn=f.TypeError,An=function(ue){if(ot(ue))return ue;throw Nn(Qt(ue)+" is not an object")},Fi=f.TypeError,Ki=Object.defineProperty,Bi={f:M?Ki:function(_e,Ge,lt){if(An(_e),Ge=Vn(Ge),An(lt),Oe)try{return Ki(_e,Ge,lt)}catch(ht){}if("get"in lt||"set"in lt)throw Fi("Accessors not supported");return"value"in lt&&(_e[Ge]=lt.value),_e}},Di=M?function(ue,_e,Ge){return Bi.f(ue,_e,ae(1,Ge))}:function(ue,_e,Ge){return ue[_e]=Ge,ue},Cr=fe(Function.toString);Be(re.inspectSource)||(re.inspectSource=function(ue){return Cr(ue)});var kr,Xi,uo,Tr=re.inspectSource,Qr=f.WeakMap,sr=Be(Qr)&&/native code/.test(Tr(Qr)),Pn=ze("keys"),gi=function(ue){return Pn[ue]||(Pn[ue]=fn(ue))},Vi={},Gr="Object already initialized",qr=f.TypeError;if(sr||re.state){var Gt=re.state||(re.state=new(0,f.WeakMap)),Pt=fe(Gt.get),pt=fe(Gt.has),qt=fe(Gt.set);kr=function(ue,_e){if(pt(Gt,ue))throw new qr(Gr);return _e.facade=ue,qt(Gt,ue,_e),_e},Xi=function(ue){return Pt(Gt,ue)||{}},uo=function(ue){return pt(Gt,ue)}}else{var _n=gi("state");Vi[_n]=!0,kr=function(ue,_e){if(Zt(ue,_n))throw new qr(Gr);return _e.facade=ue,Di(ue,_n,_e),_e},Xi=function(ue){return Zt(ue,_n)?ue[_n]:{}},uo=function(ue){return Zt(ue,_n)}}var ii={set:kr,get:Xi,has:uo,enforce:function(ue){return uo(ue)?Xi(ue):kr(ue,{})},getterFor:function(ue){return function(_e){var Ge;if(!ot(_e)||(Ge=Xi(_e)).type!==ue)throw qr("Incompatible receiver, "+ue+" required");return Ge}}},fi=Function.prototype,Ii=M&&Object.getOwnPropertyDescriptor,ai=Zt(fi,"name"),ho={EXISTS:ai,PROPER:ai&&"something"===function(){}.name,CONFIGURABLE:ai&&(!M||M&&Ii(fi,"name").configurable)},po=n(function(ue){var _e=ho.CONFIGURABLE,Ge=ii.get,lt=ii.enforce,ht=String(String).split("String");(ue.exports=function(Yt,Tt,Nt,cn){var Li,mn=!!cn&&!!cn.unsafe,Tn=!!cn&&!!cn.enumerable,vi=!!cn&&!!cn.noTargetGet,ui=cn&&void 0!==cn.name?cn.name:Tt;Be(Nt)&&("Symbol("===String(ui).slice(0,7)&&(ui="["+String(ui).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Zt(Nt,"name")||_e&&Nt.name!==ui)&&Di(Nt,"name",ui),(Li=lt(Nt)).source||(Li.source=ht.join("string"==typeof ui?ui:""))),Yt!==f?(mn?!vi&&Yt[Tt]&&(Tn=!0):delete Yt[Tt],Tn?Yt[Tt]=Nt:Di(Yt,Tt,Nt)):Tn?Yt[Tt]=Nt:Ht(Tt,Nt)})(Function.prototype,"toString",function(){return Be(this)&&Ge(this).source||Tr(this)})}),di=Math.ceil,ko=Math.floor,Pr=function(ue){var _e=+ue;return _e!=_e||0===_e?0:(_e>0?ko:di)(_e)},Mr=Math.max,xo=Math.min,zr=function(ue,_e){var Ge=Pr(ue);return Ge<0?Mr(Ge+_e,0):xo(Ge,_e)},ur=Math.min,Yr=function(ue){return ue>0?ur(Pr(ue),9007199254740991):0},Lr=function(ue){return Yr(ue.length)},fo=function(ue){return function(_e,Ge,lt){var Nt,ht=Ze(_e),Yt=Lr(ht),Tt=zr(lt,Yt);if(ue&&Ge!=Ge){for(;Yt>Tt;)if((Nt=ht[Tt++])!=Nt)return!0}else for(;Yt>Tt;Tt++)if((ue||Tt in ht)&&ht[Tt]===Ge)return ue||Tt||0;return!ue&&-1}},wo={includes:fo(!0),indexOf:fo(!1)},oo=wo.indexOf,ar=fe([].push),$s=function(ue,_e){var Yt,Ge=Ze(ue),lt=0,ht=[];for(Yt in Ge)!Zt(Vi,Yt)&&Zt(Ge,Yt)&&ar(ht,Yt);for(;_e.length>lt;)Zt(Ge,Yt=_e[lt++])&&(~oo(ht,Yt)||ar(ht,Yt));return ht},Ps=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Po=Ps.concat("length","prototype"),na={f:Object.getOwnPropertyNames||function(_e){return $s(_e,Po)}},fa={f:Object.getOwnPropertySymbols},vs=fe([].concat),ga=Jt("Reflect","ownKeys")||function(_e){var Ge=na.f(An(_e)),lt=fa.f;return lt?vs(Ge,lt(_e)):Ge},Wr=function(ue,_e){for(var Ge=ga(_e),lt=Bi.f,ht=bt.f,Yt=0;Yt<Ge.length;Yt++){var Tt=Ge[Yt];Zt(ue,Tt)||lt(ue,Tt,ht(_e,Tt))}},lr=/#|\.prototype\./,_r=function(ue,_e){var Ge=as[Ls(ue)];return Ge==ls||Ge!=Lo&&(Be(_e)?y(_e):!!_e)},Ls=_r.normalize=function(ue){return String(ue).replace(lr,".").toLowerCase()},as=_r.data={},Lo=_r.NATIVE="N",ls=_r.POLYFILL="P",so=_r,bs=bt.f,Go=function(ue,_e){var Tt,Nt,cn,mn,Tn,Ge=ue.target,lt=ue.global,ht=ue.stat;if(Tt=lt?f:ht?f[Ge]||Ht(Ge,{}):(f[Ge]||{}).prototype)for(Nt in _e){if(mn=_e[Nt],cn=ue.noTargetGet?(Tn=bs(Tt,Nt))&&Tn.value:Tt[Nt],!so(lt?Nt:Ge+(ht?".":"#")+Nt,ue.forced)&&void 0!==cn){if(typeof mn==typeof cn)continue;Wr(mn,cn)}(ue.sham||cn&&cn.sham)&&Di(mn,"sham",!0),po(Tt,Nt,mn,ue)}},ia={};ia[rn("toStringTag")]="z";var Wt,Io="[object z]"===String(ia),ra=rn("toStringTag"),No=f.Object,pr="Arguments"==ee(function(){return arguments}()),vr=Io?ee:function(ue){var _e,Ge,lt;return void 0===ue?"Undefined":null===ue?"Null":"string"==typeof(Ge=function(ue,_e){try{return ue[_e]}catch(Ge){}}(_e=No(ue),ra))?Ge:pr?ee(_e):"Object"==(lt=ee(_e))&&Be(_e.callee)?"Arguments":lt},Fo=f.String,br=function(ue){if("Symbol"===vr(ue))throw TypeError("Cannot convert a Symbol value to a string");return Fo(ue)},Ia=function(){var ue=An(this),_e="";return ue.global&&(_e+="g"),ue.ignoreCase&&(_e+="i"),ue.multiline&&(_e+="m"),ue.dotAll&&(_e+="s"),ue.unicode&&(_e+="u"),ue.sticky&&(_e+="y"),_e},Ns=f.RegExp,ys={UNSUPPORTED_Y:y(function(){var ue=Ns("a","y");return ue.lastIndex=2,null!=ue.exec("abcd")}),BROKEN_CARET:y(function(){var ue=Ns("^r","gy");return ue.lastIndex=2,null!=ue.exec("str")})},Bs=Object.keys||function(_e){return $s(_e,Ps)},Wo=M?Object.defineProperties:function(_e,Ge){An(_e);for(var Nt,lt=Ze(Ge),ht=Bs(Ge),Yt=ht.length,Tt=0;Yt>Tt;)Bi.f(_e,Nt=ht[Tt++],lt[Nt]);return _e},ma=Jt("document","documentElement"),be="prototype",Ye="script",Se=gi("IE_PROTO"),K=function(){},$=function(ue){return"<script>"+ue+"</"+Ye+">"},q=function(ue){ue.write($("")),ue.close();var _e=ue.parentWindow.Object;return ue=null,_e},Rn=function(){try{Wt=new ActiveXObject("htmlfile")}catch(_e){}Rn="undefined"!=typeof document?document.domain&&Wt?q(Wt):function(){var Ge,ue=At("iframe");return ue.style.display="none",ma.appendChild(ue),ue.src=String("javascript:"),(Ge=ue.contentWindow.document).open(),Ge.write($("document.F=Object")),Ge.close(),Ge.F}():q(Wt);for(var ue=Ps.length;ue--;)delete Rn[be][Ps[ue]];return Rn()};Vi[Se]=!0;var Si=Object.create||function(_e,Ge){var lt;return null!==_e?(K[be]=An(_e),lt=new K,K[be]=null,lt[Se]=_e):lt=Rn(),void 0===Ge?lt:Wo(lt,Ge)},Ui=f.RegExp,Ei=y(function(){var ue=Ui(".","s");return!(ue.dotAll&&ue.exec("\n")&&"s"===ue.flags)}),cr=f.RegExp,fr=y(function(){var ue=cr("(?<a>b)","g");return"b"!==ue.exec("b").groups.a||"bc"!=="b".replace(ue,"$<a>c")}),Br=ii.get,Hs=ze("native-string-replace",String.prototype.replace),Hr=RegExp.prototype.exec,cs=Hr,us=fe("".charAt),ci=fe("".indexOf),_a=fe("".replace),ds=fe("".slice),tl=function(){var ue=/a/,_e=/b*/g;return P(Hr,ue,"a"),P(Hr,_e,"a"),0!==ue.lastIndex||0!==_e.lastIndex}(),nl=ys.UNSUPPORTED_Y||ys.BROKEN_CARET,Ua=void 0!==/()??/.exec("")[1];(tl||Ua||nl||Ei||fr)&&(cs=function(_e){var Tt,Nt,cn,mn,Tn,vi,ui,Ge=this,lt=Br(Ge),ht=br(_e),Yt=lt.raw;if(Yt)return Yt.lastIndex=Ge.lastIndex,Tt=P(cs,Yt,ht),Ge.lastIndex=Yt.lastIndex,Tt;var Li=lt.groups,Er=nl&&Ge.sticky,xi=P(Ia,Ge),qi=Ge.source,$r=0,Ro=ht;if(Er&&(xi=_a(xi,"y",""),-1===ci(xi,"g")&&(xi+="g"),Ro=ds(ht,Ge.lastIndex),Ge.lastIndex>0&&(!Ge.multiline||Ge.multiline&&"\n"!==us(ht,Ge.lastIndex-1))&&(qi="(?: "+qi+")",Ro=" "+Ro,$r++),Nt=new RegExp("^(?:"+qi+")",xi)),Ua&&(Nt=new RegExp("^"+qi+"$(?!\\s)",xi)),tl&&(cn=Ge.lastIndex),mn=P(Hr,Er?Nt:Ge,Ro),Er?mn?(mn.input=ds(mn.input,$r),mn[0]=ds(mn[0],$r),mn.index=Ge.lastIndex,Ge.lastIndex+=mn[0].length):Ge.lastIndex=0:tl&&mn&&(Ge.lastIndex=Ge.global?mn.index+mn[0].length:cn),Ua&&mn&&mn.length>1&&P(Hs,mn[0],Nt,function(){for(Tn=1;Tn<arguments.length-2;Tn++)void 0===arguments[Tn]&&(mn[Tn]=void 0)}),mn&&Li)for(mn.groups=vi=Si(null),Tn=0;Tn<Li.length;Tn++)vi[(ui=Li[Tn])[0]]=mn[ui[1]];return mn});var Es=cs;Go({target:"RegExp",proto:!0,forced:/./.exec!==Es},{exec:Es});var In=rn("species"),Mi=RegExp.prototype,qo=function(ue,_e,Ge,lt){var ht=rn(ue),Yt=!y(function(){var mn={};return mn[ht]=function(){return 7},7!=""[ue](mn)}),Tt=Yt&&!y(function(){var mn=!1,Tn=/a/;return"split"===ue&&((Tn={}).constructor={},Tn.constructor[In]=function(){return Tn},Tn.flags="",Tn[ht]=/./[ht]),Tn.exec=function(){return mn=!0,null},Tn[ht](""),!mn});if(!Yt||!Tt||Ge){var Nt=fe(/./[ht]),cn=_e(ht,""[ue],function(mn,Tn,vi,ui,Li){var Er=fe(mn),xi=Tn.exec;return xi===Es||xi===Mi.exec?Yt&&!Li?{done:!0,value:Nt(Tn,vi,ui)}:{done:!0,value:Er(vi,Tn,ui)}:{done:!1}});po(String.prototype,ue,cn[0]),po(Mi,ht,cn[1])}lt&&Di(Mi[ht],"sham",!0)},Kr=fe("".charAt),Cs=fe("".charCodeAt),va=fe("".slice),Zs=function(ue){return function(_e,Ge){var Tt,Nt,lt=br(ve(_e)),ht=Pr(Ge),Yt=lt.length;return ht<0||ht>=Yt?ue?"":void 0:(Tt=Cs(lt,ht))<55296||Tt>56319||ht+1===Yt||(Nt=Cs(lt,ht+1))<56320||Nt>57343?ue?Kr(lt,ht):Tt:ue?va(lt,ht,ht+2):Nt-56320+(Tt-55296<<10)+65536}},V=(Zs(!1),Zs(!0)),W=function(ue,_e,Ge){return _e+(Ge?V(ue,_e).length:1)},he=f.TypeError,Ue=function(ue,_e){var Ge=ue.exec;if(Be(Ge)){var lt=P(Ge,ue,_e);return null!==lt&&An(lt),lt}if("RegExp"===ee(ue))return P(Es,ue,_e);throw he("RegExp#exec called on incompatible receiver")};qo("match",function(ue,_e,Ge){return[function(ht){var Yt=ve(this),Tt=null==ht?void 0:un(ht,ue);return Tt?P(Tt,ht,Yt):new RegExp(ht)[ue](br(Yt))},function(lt){var ht=An(this),Yt=br(lt),Tt=Ge(_e,ht,Yt);if(Tt.done)return Tt.value;if(!ht.global)return Ue(ht,Yt);var Nt=ht.unicode;ht.lastIndex=0;for(var Tn,cn=[],mn=0;null!==(Tn=Ue(ht,Yt));){var vi=br(Tn[0]);cn[mn]=vi,""===vi&&(ht.lastIndex=W(Yt,Yr(ht.lastIndex),Nt)),mn++}return 0===mn?null:cn}]});var et=Array.isArray||function(_e){return"Array"==ee(_e)},gt=function(ue,_e,Ge){var lt=Vn(_e);lt in ue?Bi.f(ue,lt,ae(0,Ge)):ue[lt]=Ge},St=function(){},nn=[],vn=Jt("Reflect","construct"),Hn=/^\s*(?:class|function)\b/,li=fe(Hn.exec),Ri=!Hn.exec(St),Pi=function(ue){if(!Be(ue))return!1;try{return vn(St,nn,ue),!0}catch(_e){return!1}},yi=!vn||y(function(){var ue;return Pi(Pi.call)||!Pi(Object)||!Pi(function(){ue=!0})||ue})?function(ue){if(!Be(ue))return!1;switch(vr(ue)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Ri||!!li(Hn,Tr(ue))}:Pi,Hi=rn("species"),Rr=f.Array,xr=function(ue,_e){return new(function(ue){var _e;return et(ue)&&(yi(_e=ue.constructor)&&(_e===Rr||et(_e.prototype))||ot(_e)&&null===(_e=_e[Hi]))&&(_e=void 0),void 0===_e?Rr:_e}(ue))(0===_e?0:_e)},nr=rn("species"),hs=function(ue){return $t>=51||!y(function(){var _e=[];return(_e.constructor={})[nr]=function(){return{foo:1}},1!==_e[ue](Boolean).foo})},Ts=rn("isConcatSpreadable"),go=9007199254740991,es="Maximum allowed index exceeded",ws=f.TypeError,So=$t>=51||!y(function(){var ue=[];return ue[Ts]=!1,ue.concat()[0]!==ue}),$l=hs("concat"),oa=function(ue){if(!ot(ue))return!1;var _e=ue[Ts];return void 0!==_e?!!_e:et(ue)};Go({target:"Array",proto:!0,forced:!So||!$l},{concat:function(_e){var Yt,Tt,Nt,cn,mn,Ge=Ct(this),lt=xr(Ge,0),ht=0;for(Yt=-1,Nt=arguments.length;Yt<Nt;Yt++)if(oa(mn=-1===Yt?Ge:arguments[Yt])){if(ht+(cn=Lr(mn))>go)throw ws(es);for(Tt=0;Tt<cn;Tt++,ht++)Tt in mn&&gt(lt,ht,mn[Tt])}else{if(ht>=go)throw ws(es);gt(lt,ht++,mn)}return lt.length=ht,lt}}),Io||po(Object.prototype,"toString",Io?{}.toString:function(){return"[object "+vr(this)+"]"},{unsafe:!0});var dr=ho.PROPER,ei="toString",hi=RegExp.prototype,Ci=hi[ei],Qi=fe(Ia);(y(function(){return"/a/b"!=Ci.call({source:"a",flags:"b"})})||dr&&Ci.name!=ei)&&po(RegExp.prototype,ei,function(){var _e=An(this),Ge=br(_e.source),lt=_e.flags;return"/"+Ge+"/"+br(void 0===lt&&wt(hi,_e)&&!("flags"in hi)?Qi(_e):lt)},{unsafe:!0});var ao=Function.prototype,Ir=ao.apply,qs=ao.call,zo="object"==typeof Reflect&&Reflect.apply||(ao.bind?qs.bind(Ir):function(){return qs.apply(Ir,arguments)}),ps=rn("match"),eo=function(ue){var _e;return ot(ue)&&(void 0!==(_e=ue[ps])?!!_e:"RegExp"==ee(ue))},ts=f.TypeError,gl=rn("species"),fs=function(ue,_e){var lt,Ge=An(ue).constructor;return void 0===Ge||null==(lt=An(Ge)[gl])?_e:function(ue){if(yi(ue))return ue;throw ts(Bt(ue)+" is not a constructor")}(lt)},ba=fe([].slice),Wa=ys.UNSUPPORTED_Y,Ml=4294967295,mc=Math.min,Jl=[].push,Rl=fe(/./.exec),ns=fe(Jl),Ao=fe("".slice);function Ss(ue,_e){if(ue instanceof SVGElement){var Ge=ue.getAttribute("class")||"";Ge.match(_e)||ue.setAttribute("class","".concat(Ge," ").concat(_e))}else void 0!==ue.classList?o(_e.split(" "),function(ht){ue.classList.add(ht)}):ue.className.match(_e)||(ue.className+=" ".concat(_e))}function Il(ue,_e){var Ge="";return ue.currentStyle?Ge=ue.currentStyle[_e]:document.defaultView&&document.defaultView.getComputedStyle&&(Ge=document.defaultView.getComputedStyle(ue,null).getPropertyValue(_e)),Ge&&Ge.toLowerCase?Ge.toLowerCase():Ge}function ya(ue){var _e=ue.element;if(this._options.scrollToElement){var Ge=function(ue){var _e=window.getComputedStyle(ue),Ge="absolute"===_e.position,lt=/(auto|scroll)/;if("fixed"===_e.position)return document.body;for(var ht=ue;ht=ht.parentElement;)if(_e=window.getComputedStyle(ht),(!Ge||"static"!==_e.position)&&lt.test(_e.overflow+_e.overflowY+_e.overflowX))return ht;return document.body}(_e);Ge!==document.body&&(Ge.scrollTop=_e.offsetTop-Ge.offsetTop)}}function Al(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var ue=document.documentElement;return{width:ue.clientWidth,height:ue.clientHeight}}function gu(ue,_e,Ge){var ht,lt=_e.element;if("off"!==ue&&this._options.scrollToElement&&(ht="tooltip"===ue?Ge.getBoundingClientRect():lt.getBoundingClientRect(),!function(ue){var _e=ue.getBoundingClientRect();return _e.top>=0&&_e.left>=0&&_e.bottom+80<=window.innerHeight&&_e.right<=window.innerWidth}(lt))){var Yt=Al().height;ht.bottom-(ht.bottom-ht.top)<0||lt.clientHeight>Yt?window.scrollBy(0,ht.top-(Yt/2-ht.height/2)-this._options.scrollPadding):window.scrollBy(0,ht.top-(Yt/2-ht.height/2)+this._options.scrollPadding)}}function ml(ue){ue.setAttribute("role","button"),ue.tabIndex=0}qo("split",function(ue,_e,Ge){var lt;return lt="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(ht,Yt){var Tt=br(ve(this)),Nt=void 0===Yt?Ml:Yt>>>0;if(0===Nt)return[];if(void 0===ht)return[Tt];if(!eo(ht))return P(_e,Tt,ht,Nt);for(var ui,Li,Er,cn=[],Tn=0,vi=new RegExp(ht.source,(ht.ignoreCase?"i":"")+(ht.multiline?"m":"")+(ht.unicode?"u":"")+(ht.sticky?"y":"")+"g");(ui=P(Es,vi,Tt))&&!((Li=vi.lastIndex)>Tn&&(ns(cn,Ao(Tt,Tn,ui.index)),ui.length>1&&ui.index<Tt.length&&zo(Jl,cn,ba(ui,1)),Er=ui[0].length,Tn=Li,cn.length>=Nt));)vi.lastIndex===ui.index&&vi.lastIndex++;return Tn===Tt.length?(Er||!Rl(vi,""))&&ns(cn,""):ns(cn,Ao(Tt,Tn)),cn.length>Nt?ba(cn,0,Nt):cn}:"0".split(void 0,0).length?function(ht,Yt){return void 0===ht&&0===Yt?[]:P(_e,this,ht,Yt)}:_e,[function(Yt,Tt){var Nt=ve(this),cn=null==Yt?void 0:un(Yt,ue);return cn?P(cn,Yt,Nt,Tt):P(lt,br(Nt),Yt,Tt)},function(ht,Yt){var Tt=An(this),Nt=br(ht),cn=Ge(lt,Tt,Nt,Yt,lt!==_e);if(cn.done)return cn.value;var mn=fs(Tt,RegExp),Tn=Tt.unicode,ui=new mn(Wa?"^(?:"+Tt.source+")":Tt,(Tt.ignoreCase?"i":"")+(Tt.multiline?"m":"")+(Tt.unicode?"u":"")+(Wa?"g":"y")),Li=void 0===Yt?Ml:Yt>>>0;if(0===Li)return[];if(0===Nt.length)return null===Ue(ui,Nt)?[Nt]:[];for(var Er=0,xi=0,qi=[];xi<Nt.length;){ui.lastIndex=Wa?0:xi;var Ro,$r=Ue(ui,Wa?Ao(Nt,xi):Nt);if(null===$r||(Ro=mc(Yr(ui.lastIndex+(Wa?xi:0)),Nt.length))===Er)xi=W(Nt,xi,Tn);else{if(ns(qi,Ao(Nt,Er,xi)),qi.length===Li)return qi;for(var Oo=1;Oo<=$r.length-1;Oo++)if(ns(qi,$r[Oo]),qi.length===Li)return qi;xi=Er=Ro}}return ns(qi,Ao(Nt,Er)),qi}]},!!y(function(){var ue=/(?:)/,_e=ue.exec;ue.exec=function(){return _e.apply(this,arguments)};var Ge="ab".split(ue);return 2!==Ge.length||"a"!==Ge[0]||"b"!==Ge[1]}),Wa);var za=Object.assign,kl=Object.defineProperty,mu=fe([].concat),_l=!za||y(function(){if(M&&1!==za({b:1},za(kl({},"a",{enumerable:!0,get:function(){kl(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var ue={},_e={},Ge=Symbol(),lt="abcdefghijklmnopqrst";return ue[Ge]=7,lt.split("").forEach(function(ht){_e[ht]=ht}),7!=za({},ue)[Ge]||Bs(za({},_e)).join("")!=lt})?function(_e,Ge){for(var lt=Ct(_e),ht=arguments.length,Yt=1,Tt=fa.f,Nt=de.f;ht>Yt;)for(var ui,cn=Te(arguments[Yt++]),mn=Tt?mu(Bs(cn),Tt(cn)):Bs(cn),Tn=mn.length,vi=0;Tn>vi;)ui=mn[vi++],(!M||P(Nt,cn,ui))&&(lt[ui]=cn[ui]);return lt}:za;function vl(ue){var _e=ue.parentNode;return!(!_e||"HTML"===_e.nodeName)&&("fixed"===Il(ue,"position")||vl(_e))}function il(ue,_e){var Ge=document.body,lt=document.documentElement,ht=window.pageYOffset||lt.scrollTop||Ge.scrollTop,Yt=window.pageXOffset||lt.scrollLeft||Ge.scrollLeft;_e=_e||Ge;var Tt=ue.getBoundingClientRect(),Nt=_e.getBoundingClientRect(),cn=Il(_e,"position"),mn={width:Tt.width,height:Tt.height};return"body"!==_e.tagName.toLowerCase()&&"relative"===cn||"sticky"===cn?Object.assign(mn,{top:Tt.top-Nt.top,left:Tt.left-Nt.left}):vl(ue)?Object.assign(mn,{top:Tt.top,left:Tt.left}):Object.assign(mn,{top:Tt.top+ht,left:Tt.left+Yt})}Go({target:"Object",stat:!0,forced:Object.assign!==_l},{assign:_l});var Uc=Math.floor,oe=fe("".charAt),J=fe("".replace),z=fe("".slice),Ee=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Re=/\$([$&'`]|\d{1,2})/g,$e=function(ue,_e,Ge,lt,ht,Yt){var Tt=Ge+ue.length,Nt=lt.length,cn=Re;return void 0!==ht&&(ht=Ct(ht),cn=Ee),J(Yt,cn,function(mn,Tn){var vi;switch(oe(Tn,0)){case"$":return"$";case"&":return ue;case"`":return z(_e,0,Ge);case"'":return z(_e,Tt);case"<":vi=ht[z(Tn,1,-1)];break;default:var ui=+Tn;if(0===ui)return mn;if(ui>Nt){var Li=Uc(ui/10);return 0===Li?mn:Li<=Nt?void 0===lt[Li-1]?oe(Tn,1):lt[Li-1]+oe(Tn,1):mn}vi=lt[ui-1]}return void 0===vi?"":vi})},vt=rn("replace"),kt=Math.max,yn=Math.min,Zn=fe([].concat),Ji=fe([].push),_i=fe("".indexOf),ir=fe("".slice),zi=function(ue){return void 0===ue?ue:String(ue)},_o="$0"==="a".replace(/./,"$0"),Yo=!!/./[vt]&&""===/./[vt]("a","$0");function lo(ue,_e){if(ue instanceof SVGElement){var Ge=ue.getAttribute("class")||"";ue.setAttribute("class",Ge.replace(_e,"").replace(/^\s+|\s+$/g,""))}else ue.className=ue.className.replace(_e,"").replace(/^\s+|\s+$/g,"")}function to(ue,_e){var Ge="";if(ue.style.cssText&&(Ge+=ue.style.cssText),"string"==typeof _e)Ge+=_e;else for(var lt in _e)Ge+="".concat(lt,":").concat(_e[lt],";");ue.style.cssText=Ge}function vo(ue){if(ue){if(!this._introItems[this._currentStep])return;var _e=this._introItems[this._currentStep],Ge=il(_e.element,this._targetElement),lt=this._options.helperElementPadding;vl(_e.element)?Ss(ue,"introjs-fixedTooltip"):lo(ue,"introjs-fixedTooltip"),"floating"===_e.position&&(lt=0),to(ue,{width:"".concat(Ge.width+lt,"px"),height:"".concat(Ge.height+lt,"px"),top:"".concat(Ge.top-lt/2,"px"),left:"".concat(Ge.left-lt/2,"px")})}}qo("replace",function(ue,_e,Ge){var lt=Yo?"$":"$0";return[function(Yt,Tt){var Nt=ve(this),cn=null==Yt?void 0:un(Yt,vt);return cn?P(cn,Yt,Nt,Tt):P(_e,br(Nt),Yt,Tt)},function(ht,Yt){var Tt=An(this),Nt=br(ht);if("string"==typeof Yt&&-1===_i(Yt,lt)&&-1===_i(Yt,"$<")){var cn=Ge(_e,Tt,Nt,Yt);if(cn.done)return cn.value}var mn=Be(Yt);mn||(Yt=br(Yt));var Tn=Tt.global;if(Tn){var vi=Tt.unicode;Tt.lastIndex=0}for(var ui=[];;){var Li=Ue(Tt,Nt);if(null===Li||(Ji(ui,Li),!Tn))break;""===br(Li[0])&&(Tt.lastIndex=W(Nt,Yr(Tt.lastIndex),vi))}for(var xi="",qi=0,$r=0;$r<ui.length;$r++){for(var Ro=br((Li=ui[$r])[0]),Oo=kt(yn(Pr(Li.index),Nt.length),0),zs=[],xs=1;xs<Li.length;xs++)Ji(zs,zi(Li[xs]));var ms=Li.groups;if(mn){var wa=Zn([Ro],zs,Oo,Nt);void 0!==ms&&Ji(wa,ms);var qa=br(zo(Yt,void 0,wa))}else qa=$e(Ro,Nt,Oo,zs,ms,Yt);Oo>=qi&&(xi+=ir(Nt,qi,Oo)+qa,qi=Oo+Ro.length)}return xi+ir(Nt,qi)}]},!!y(function(){var ue=/./;return ue.exec=function(){var _e=[];return _e.groups={a:"7"},_e},"7"!=="".replace(ue,"$<a>")})||!_o||Yo);var sa=rn("unscopables"),Pl=Array.prototype;null==Pl[sa]&&Bi.f(Pl,sa,{configurable:!0,value:Si(null)});var ld=wo.includes;Go({target:"Array",proto:!0},{includes:function(_e){return ld(this,_e,arguments.length>1?arguments[1]:void 0)}}),function(ue){Pl[sa][ue]=!0}("includes");var _u=hs("slice"),_c=rn("species"),vc=f.Array,bl=Math.max;Go({target:"Array",proto:!0,forced:!_u},{slice:function(_e,Ge){var Nt,cn,mn,lt=Ze(this),ht=Lr(lt),Yt=zr(_e,ht),Tt=zr(void 0===Ge?ht:Ge,ht);if(et(lt)&&((yi(Nt=lt.constructor)&&(Nt===vc||et(Nt.prototype))||ot(Nt)&&null===(Nt=Nt[_c]))&&(Nt=void 0),Nt===vc||void 0===Nt))return ba(lt,Yt,Tt);for(cn=new(void 0===Nt?vc:Nt)(bl(Tt-Yt,0)),mn=0;Yt<Tt;Yt++,mn++)Yt in lt&&gt(cn,mn,lt[Yt]);return cn.length=mn,cn}});var Xr=f.TypeError,bc=function(ue){if(eo(ue))throw Xr("The method doesn't accept regular expressions");return ue},is=rn("match"),bu=fe("".indexOf);Go({target:"String",proto:!0,forced:!function(ue){var _e=/./;try{"/./"[ue](_e)}catch(Ge){try{return _e[is]=!1,"/./"[ue](_e)}catch(lt){}}return!1}("includes")},{includes:function(_e){return!!~bu(br(ve(this)),br(bc(_e)),arguments.length>1?arguments[1]:void 0)}});var Zl=function(ue,_e){var Ge=[][ue];return!!Ge&&y(function(){Ge.call(null,_e||function(){throw 1},1)})},jd=fe([].join),cd=Te!=Object,zd=Zl("join",",");Go({target:"Array",proto:!0,forced:cd||!zd},{join:function(_e){return jd(Ze(this),void 0===_e?",":_e)}});var Gc=fe(fe.bind),yu=fe([].push),ea=function(ue){var _e=1==ue,Ge=2==ue,lt=3==ue,ht=4==ue,Yt=6==ue,Tt=7==ue,Nt=5==ue||Yt;return function(cn,mn,Tn,vi){for(var Oo,zs,ui=Ct(cn),Li=Te(ui),Er=function(ue,_e){return it(ue),void 0===_e?ue:Gc?Gc(ue,_e):function(){return ue.apply(_e,arguments)}}(mn,Tn),xi=Lr(Li),qi=0,$r=vi||xr,Ro=_e?$r(cn,xi):Ge||Tt?$r(cn,0):void 0;xi>qi;qi++)if((Nt||qi in Li)&&(zs=Er(Oo=Li[qi],qi,ui),ue))if(_e)Ro[qi]=zs;else if(zs)switch(ue){case 3:return!0;case 5:return Oo;case 6:return qi;case 2:yu(Ro,Oo)}else switch(ue){case 4:return!1;case 7:yu(Ro,Oo)}return Yt?-1:lt||ht?ht:Ro}},Do=[ea(0),ea(1),ea(2),ea(3),ea(4),ea(5),ea(6),ea(7)][2];function rl(ue,_e,Ge,lt,ht){return ue.left+_e+Ge.width>lt.width?(ht.style.left="".concat(lt.width-Ge.width-ue.left,"px"),!1):(ht.style.left="".concat(_e,"px"),!0)}function aa(ue,_e,Ge,lt){return ue.left+ue.width-_e-Ge.width<0?(lt.style.left="".concat(-ue.left,"px"),!1):(lt.style.right="".concat(_e,"px"),!0)}Go({target:"Array",proto:!0,forced:!hs("filter")},{filter:function(_e){return Do(this,_e,arguments.length>1?arguments[1]:void 0)}});var Eu=hs("splice"),Vs=f.TypeError,Mo=Math.max,Ll=Math.min,yl=9007199254740991,ol="Maximum allowed length exceeded";function sl(ue,_e){ue.includes(_e)&&ue.splice(ue.indexOf(_e),1)}function yc(ue,_e,Ge){var lt=this._options.positionPrecedence.slice(),ht=Al(),Yt=il(_e).height+10,Tt=il(_e).width+20,Nt=ue.getBoundingClientRect(),cn="floating";Nt.bottom+Yt>ht.height&&sl(lt,"bottom"),Nt.top-Yt<0&&sl(lt,"top"),Nt.right+Tt>ht.width&&sl(lt,"right"),Nt.left-Tt<0&&sl(lt,"left");var Tn,vi,mn=-1!==(vi=(Tn=Ge||"").indexOf("-"))?Tn.substr(vi):"";return Ge&&(Ge=Ge.split("-")[0]),lt.length&&(cn=lt.includes(Ge)?Ge:lt[0]),["top","bottom"].includes(cn)&&(cn+=function(ue,_e,Ge,lt){var Yt=_e/2,Tt=Math.min(Ge.width,window.screen.width),Nt=["-left-aligned","-middle-aligned","-right-aligned"];return Tt-ue<_e&&sl(Nt,"-left-aligned"),(ue<Yt||Tt-ue<Yt)&&sl(Nt,"-middle-aligned"),ue<_e&&sl(Nt,"-right-aligned"),Nt.length?Nt.includes(lt)?lt:Nt[0]:"-middle-aligned"}(Nt.left,Tt,ht,mn)),cn}function Ds(ue,_e,Ge,lt){var Yt,Tt,Nt,cn,mn;if(lt=lt||!1,_e.style.top=null,_e.style.right=null,_e.style.bottom=null,_e.style.left=null,_e.style.marginLeft=null,_e.style.marginTop=null,Ge.style.display="inherit",this._introItems[this._currentStep])switch(_e.className=["introjs-tooltip","string"==typeof(Yt=this._introItems[this._currentStep]).tooltipClass?Yt.tooltipClass:this._options.tooltipClass].filter(Boolean).join(" "),_e.setAttribute("role","dialog"),"floating"!==(mn=this._introItems[this._currentStep].position)&&this._options.autoPosition&&(mn=yc.call(this,ue,_e,mn)),Nt=il(ue),Tt=il(_e),cn=Al(),Ss(_e,"introjs-".concat(mn)),mn){case"top-right-aligned":Ge.className="introjs-arrow bottom-right";var vi=0;aa(Nt,vi,Tt,_e),_e.style.bottom="".concat(Nt.height+20,"px");break;case"top-middle-aligned":Ge.className="introjs-arrow bottom-middle";var ui=Nt.width/2-Tt.width/2;lt&&(ui+=5),aa(Nt,ui,Tt,_e)&&(_e.style.right=null,rl(Nt,ui,Tt,cn,_e)),_e.style.bottom="".concat(Nt.height+20,"px");break;case"top-left-aligned":case"top":Ge.className="introjs-arrow bottom",rl(Nt,lt?0:15,Tt,cn,_e),_e.style.bottom="".concat(Nt.height+20,"px");break;case"right":_e.style.left="".concat(Nt.width+20,"px"),Nt.top+Tt.height>cn.height?(Ge.className="introjs-arrow left-bottom",_e.style.top="-".concat(Tt.height-Nt.height-20,"px")):Ge.className="introjs-arrow left";break;case"left":!lt&&!0===this._options.showStepNumbers&&(_e.style.top="15px"),Nt.top+Tt.height>cn.height?(_e.style.top="-".concat(Tt.height-Nt.height-20,"px"),Ge.className="introjs-arrow right-bottom"):Ge.className="introjs-arrow right",_e.style.right="".concat(Nt.width+20,"px");break;case"floating":Ge.style.display="none",_e.style.left="50%",_e.style.top="50%",_e.style.marginLeft="-".concat(Tt.width/2,"px"),_e.style.marginTop="-".concat(Tt.height/2,"px");break;case"bottom-right-aligned":Ge.className="introjs-arrow top-right",aa(Nt,vi=0,Tt,_e),_e.style.top="".concat(Nt.height+20,"px");break;case"bottom-middle-aligned":Ge.className="introjs-arrow top-middle",ui=Nt.width/2-Tt.width/2,lt&&(ui+=5),aa(Nt,ui,Tt,_e)&&(_e.style.right=null,rl(Nt,ui,Tt,cn,_e)),_e.style.top="".concat(Nt.height+20,"px");break;default:Ge.className="introjs-arrow top",rl(Nt,0,Tt,cn,_e),_e.style.top="".concat(Nt.height+20,"px")}}function Nl(){o(document.querySelectorAll(".introjs-showElement"),function(_e){lo(_e,/introjs-[a-zA-Z]+/g)})}function $i(ue,_e){var Ge=document.createElement(ue);_e=_e||{};var lt=/^(?:role|data-|aria-)/;for(var ht in _e){var Yt=_e[ht];"style"===ht?to(Ge,Yt):ht.match(lt)?Ge.setAttribute(ht,Yt):Ge[ht]=Yt}return Ge}function Ms(ue,_e,Ge){if(Ge){var lt=_e.style.opacity||"1";to(_e,{opacity:"0"}),window.setTimeout(function(){to(_e,{opacity:lt})},10)}ue.appendChild(_e)}function El(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}function Ql(){var ue=document.querySelector(".introjs-disableInteraction");null===ue&&(ue=$i("div",{className:"introjs-disableInteraction"}),this._targetElement.appendChild(ue)),vo.call(this,ue)}function Wc(ue){var _e=this,Ge=$i("div",{className:"introjs-bullets"});!1===this._options.showBullets&&(Ge.style.display="none");var lt=$i("ul");lt.setAttribute("role","tablist");var ht=function(){_e.goToStep(this.getAttribute("data-stepnumber"))};return o(this._introItems,function(Yt,Tt){var Nt=Yt.step,cn=$i("li"),mn=$i("a");cn.setAttribute("role","presentation"),mn.setAttribute("role","tab"),mn.onclick=ht,Tt===ue.step-1&&(mn.className="active"),ml(mn),mn.innerHTML="&nbsp;",mn.setAttribute("data-stepnumber",Nt),cn.appendChild(mn),lt.appendChild(cn)}),Ge.appendChild(lt),Ge}function Fl(ue,_e){if(this._options.showBullets){var Ge=document.querySelector(".introjs-bullets");Ge.parentNode.replaceChild(Wc.call(this,_e),Ge)}}function Cu(ue,_e){this._options.showBullets&&(ue.querySelector(".introjs-bullets li > a.active").className="",ue.querySelector('.introjs-bullets li > a[data-stepnumber="'.concat(_e.step,'"]')).className="active")}function bo(){var ue=$i("div");ue.className="introjs-progress",!1===this._options.showProgress&&(ue.style.display="none");var _e=$i("div",{className:"introjs-progressbar"});return this._options.progressBarAdditionalClass&&(_e.className+=" "+this._options.progressBarAdditionalClass),_e.setAttribute("role","progress"),_e.setAttribute("aria-valuemin",0),_e.setAttribute("aria-valuemax",100),_e.setAttribute("aria-valuenow",El.call(this)),_e.style.cssText="width:".concat(El.call(this),"%;"),ue.appendChild(_e),ue}function jc(ue){ue.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:".concat(El.call(this),"%;"),ue.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",El.call(this))}function Xa(ue){var _e=this;void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,ue.element);var Tt,Nt,cn,Ge=this,lt=document.querySelector(".introjs-helperLayer"),ht=document.querySelector(".introjs-tooltipReferenceLayer"),Yt="introjs-helperLayer";if("string"==typeof ue.highlightClass&&(Yt+=" ".concat(ue.highlightClass)),"string"==typeof this._options.highlightClass&&(Yt+=" ".concat(this._options.highlightClass)),null!==lt&&null!==ht){var mn=ht.querySelector(".introjs-helperNumberLayer"),Tn=ht.querySelector(".introjs-tooltiptext"),vi=ht.querySelector(".introjs-tooltip-title"),ui=ht.querySelector(".introjs-arrow"),Li=ht.querySelector(".introjs-tooltip");cn=ht.querySelector(".introjs-skipbutton"),Nt=ht.querySelector(".introjs-prevbutton"),Tt=ht.querySelector(".introjs-nextbutton"),lt.className=Yt,Li.style.opacity=0,Li.style.display="none",ya.call(Ge,ue),vo.call(Ge,lt),vo.call(Ge,ht),Nl(),Ge._lastShowElementTimer&&window.clearTimeout(Ge._lastShowElementTimer),Ge._lastShowElementTimer=window.setTimeout(function(){null!==mn&&(mn.innerHTML="".concat(ue.step," of ").concat(_e._introItems.length)),Tn.innerHTML=ue.intro,vi.innerHTML=ue.title,Li.style.display="block",Ds.call(Ge,ue.element,Li,ui),Cu.call(Ge,ht,ue),jc.call(Ge,ht),Li.style.opacity=1,(null!=Tt&&/introjs-donebutton/gi.test(Tt.className)||null!=Tt)&&Tt.focus(),gu.call(Ge,ue.scrollTo,ue,Tn)},350)}else{var Er=$i("div",{className:Yt}),xi=$i("div",{className:"introjs-tooltipReferenceLayer"}),qi=$i("div",{className:"introjs-arrow"}),$r=$i("div",{className:"introjs-tooltip"}),Ro=$i("div",{className:"introjs-tooltiptext"}),Oo=$i("div",{className:"introjs-tooltip-header"}),zs=$i("h1",{className:"introjs-tooltip-title"}),xs=$i("div");to(Er,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(Ge._options.overlayOpacity.toString(),") 0 0 0 5000px")}),ya.call(Ge,ue),vo.call(Ge,Er),vo.call(Ge,xi),Ms(this._targetElement,Er,!0),Ms(this._targetElement,xi),Ro.innerHTML=ue.intro,zs.innerHTML=ue.title,xs.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(xs.style.display="none"),Oo.appendChild(zs),$r.appendChild(Oo),$r.appendChild(Ro),$r.appendChild(Wc.call(this,ue)),$r.appendChild(bo.call(this));var ms=$i("div");!0===this._options.showStepNumbers&&(ms.className="introjs-helperNumberLayer",ms.innerHTML="".concat(ue.step," of ").concat(this._introItems.length),$r.appendChild(ms)),$r.appendChild(qi),xi.appendChild($r),(Tt=$i("a")).onclick=function(){Ge._introItems.length-1!==Ge._currentStep?Bo.call(Ge):/introjs-donebutton/gi.test(Tt.className)&&("function"==typeof Ge._introCompleteCallback&&Ge._introCompleteCallback.call(Ge,Ge._currentStep,"done"),Ko.call(Ge,Ge._targetElement))},ml(Tt),Tt.innerHTML=this._options.nextLabel,(Nt=$i("a")).onclick=function(){0!==Ge._currentStep&&Gs.call(Ge)},ml(Nt),Nt.innerHTML=this._options.prevLabel,ml(cn=$i("a",{className:"introjs-skipbutton"})),cn.innerHTML=this._options.skipLabel,cn.onclick=function(){Ge._introItems.length-1===Ge._currentStep&&"function"==typeof Ge._introCompleteCallback&&Ge._introCompleteCallback.call(Ge,Ge._currentStep,"skip"),"function"==typeof Ge._introSkipCallback&&Ge._introSkipCallback.call(Ge),Ko.call(Ge,Ge._targetElement)},Oo.appendChild(cn),this._introItems.length>1&&xs.appendChild(Nt),xs.appendChild(Tt),$r.appendChild(xs),Ds.call(Ge,ue.element,$r,qi),gu.call(this,ue.scrollTo,ue,$r)}var wa=Ge._targetElement.querySelector(".introjs-disableInteraction");wa&&wa.parentNode.removeChild(wa),ue.disableInteraction&&Ql.call(Ge),0===this._currentStep&&this._introItems.length>1?(null!=Tt&&(Tt.className="".concat(this._options.buttonClass," introjs-nextbutton"),Tt.innerHTML=this._options.nextLabel),!0===this._options.hidePrev?(null!=Nt&&(Nt.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=Tt&&Ss(Tt,"introjs-fullbutton")):null!=Nt&&(Nt.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-disabled"))):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=Nt&&(Nt.className="".concat(this._options.buttonClass," introjs-prevbutton")),!0===this._options.hideNext?(null!=Tt&&(Tt.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=Nt&&Ss(Nt,"introjs-fullbutton")):null!=Tt&&(!0===this._options.nextToDone?(Tt.innerHTML=this._options.doneLabel,Ss(Tt,"".concat(this._options.buttonClass," introjs-nextbutton introjs-donebutton"))):Tt.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=Nt&&(Nt.className="".concat(this._options.buttonClass," introjs-prevbutton")),null!=Tt&&(Tt.className="".concat(this._options.buttonClass," introjs-nextbutton"),Tt.innerHTML=this._options.nextLabel)),null!=Nt&&Nt.setAttribute("role","button"),null!=Tt&&Tt.setAttribute("role","button"),null!=cn&&cn.setAttribute("role","button"),null!=Tt&&Tt.focus(),function(ue){var _e=ue.element;Ss(_e,"introjs-showElement");var Ge=Il(_e,"position");"absolute"!==Ge&&"relative"!==Ge&&"sticky"!==Ge&&"fixed"!==Ge&&Ss(_e,"introjs-relativePosition")}(ue),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,ue.element)}function dd(ue){this._currentStep=ue-2,void 0!==this._introItems&&Bo.call(this)}function $a(ue){this._currentStepNumber=ue,void 0!==this._introItems&&Bo.call(this)}function Bo(){var ue=this;this._direction="forward",void 0!==this._currentStepNumber&&o(this._introItems,function(lt,ht){lt.step===ue._currentStepNumber&&(ue._currentStep=ht-1,ue._currentStepNumber=void 0)}),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var _e=this._introItems[this._currentStep],Ge=!0;return void 0!==this._introBeforeChangeCallback&&(Ge=this._introBeforeChangeCallback.call(this,_e&&_e.element)),!1===Ge?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this,this._currentStep,"end"),void Ko.call(this,this._targetElement)):void Xa.call(this,_e)}function Gs(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var ue=this._introItems[this._currentStep],_e=!0;if(void 0!==this._introBeforeChangeCallback&&(_e=this._introBeforeChangeCallback.call(this,ue&&ue.element)),!1===_e)return++this._currentStep,!1;Xa.call(this,ue)}function Kd(){return this._currentStep}function Ja(ue){var _e=void 0===ue.code?ue.which:ue.code;if(null===_e&&(_e=null===ue.charCode?ue.keyCode:ue.charCode),"Escape"!==_e&&27!==_e||!0!==this._options.exitOnEsc){if("ArrowLeft"===_e||37===_e)Gs.call(this);else if("ArrowRight"===_e||39===_e)Bo.call(this);else if("Enter"===_e||"NumpadEnter"===_e||13===_e){var Ge=ue.target||ue.srcElement;Ge&&Ge.className.match("introjs-prevbutton")?Gs.call(this):Ge&&Ge.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this,this._currentStep,"skip"),Ko.call(this,this._targetElement)):Ge&&Ge.getAttribute("data-stepnumber")?Ge.click():Bo.call(this),ue.preventDefault?ue.preventDefault():ue.returnValue=!1}}else Ko.call(this,this._targetElement)}function al(ue){if(null===ue||"object"!==U(ue)||void 0!==ue.nodeType)return ue;var _e={};for(var Ge in ue)_e[Ge]=void 0!==window.jQuery&&ue[Ge]instanceof window.jQuery?ue[Ge]:al(ue[Ge]);return _e}function Ws(ue){var _e=document.querySelector(".introjs-hints");return _e?_e.querySelectorAll(ue):[]}function Bl(ue){var _e=Ws('.introjs-hint[data-step="'.concat(ue,'"]'))[0];ec.call(this),_e&&Ss(_e,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,ue)}function hd(){var ue=this;o(Ws(".introjs-hint"),function(Ge){Bl.call(ue,Ge.getAttribute("data-step"))})}function Ec(){var ue=this,_e=Ws(".introjs-hint");_e&&_e.length?o(_e,function(Ge){Tu.call(ue,Ge.getAttribute("data-step"))}):pd.call(this,this._targetElement)}function Tu(ue){var _e=Ws('.introjs-hint[data-step="'.concat(ue,'"]'))[0];_e&&lo(_e,/introjs-hidehint/g)}function zc(){var ue=this;o(Ws(".introjs-hint"),function(Ge){js.call(ue,Ge.getAttribute("data-step"))}),t.off(document,"click",ec,this,!1),t.off(window,"resize",Ea,this,!0),this._hintsAutoRefreshFunction&&t.off(window,"scroll",this._hintsAutoRefreshFunction,this,!0)}function js(ue){var _e=Ws('.introjs-hint[data-step="'.concat(ue,'"]'))[0];_e&&_e.parentNode.removeChild(_e)}function Hl(){var ue=this,_e=this,Ge=document.querySelector(".introjs-hints");null===Ge&&(Ge=$i("div",{className:"introjs-hints"}));o(this._introItems,function(ht,Yt){if(!document.querySelector('.introjs-hint[data-step="'.concat(Yt,'"]'))){var Tt=$i("a",{className:"introjs-hint"});ml(Tt),Tt.onclick=function(Yt){return function(Tt){var Nt=Tt||window.event;Nt.stopPropagation&&Nt.stopPropagation(),null!==Nt.cancelBubble&&(Nt.cancelBubble=!0),no.call(_e,Yt)}}(Yt),ht.hintAnimation||Ss(Tt,"introjs-hint-no-anim"),vl(ht.element)&&Ss(Tt,"introjs-fixedhint");var Nt=$i("div",{className:"introjs-hint-dot"}),cn=$i("div",{className:"introjs-hint-pulse"});Tt.appendChild(Nt),Tt.appendChild(cn),Tt.setAttribute("data-step",Yt),ht.targetElement=ht.element,ht.element=Tt,ql.call(ue,ht.hintPosition,Tt,ht.targetElement),Ge.appendChild(Tt)}}),document.body.appendChild(Ge),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this),this._options.hintAutoRefreshInterval>=0&&(this._hintsAutoRefreshFunction=function(ue,_e){var lt,Ge=this;return function(){for(var ht=arguments.length,Yt=new Array(ht),Tt=0;Tt<ht;Tt++)Yt[Tt]=arguments[Tt];clearTimeout(lt),lt=setTimeout(function(){ue.apply(Ge,Yt)},_e)}}(function(){return Ea.call(ue)},this._options.hintAutoRefreshInterval),t.on(window,"scroll",this._hintsAutoRefreshFunction,this,!0))}function ql(ue,_e,Ge){var lt=_e.style,ht=il.call(this,Ge);switch(ue){default:case"top-left":lt.left="".concat(ht.left,"px"),lt.top="".concat(ht.top,"px");break;case"top-right":lt.left="".concat(ht.left+ht.width-20,"px"),lt.top="".concat(ht.top,"px");break;case"bottom-left":lt.left="".concat(ht.left,"px"),lt.top="".concat(ht.top+ht.height-20,"px");break;case"bottom-right":lt.left="".concat(ht.left+ht.width-20,"px"),lt.top="".concat(ht.top+ht.height-20,"px");break;case"middle-left":lt.left="".concat(ht.left,"px"),lt.top="".concat(ht.top+(ht.height-20)/2,"px");break;case"middle-right":lt.left="".concat(ht.left+ht.width-20,"px"),lt.top="".concat(ht.top+(ht.height-20)/2,"px");break;case"middle-middle":lt.left="".concat(ht.left+(ht.width-20)/2,"px"),lt.top="".concat(ht.top+(ht.height-20)/2,"px");break;case"bottom-middle":lt.left="".concat(ht.left+(ht.width-20)/2,"px"),lt.top="".concat(ht.top+ht.height-20,"px");break;case"top-middle":lt.left="".concat(ht.left+(ht.width-20)/2,"px"),lt.top="".concat(ht.top,"px")}}function no(ue){var _e=document.querySelector('.introjs-hint[data-step="'.concat(ue,'"]')),Ge=this._introItems[ue];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,_e,Ge,ue);var lt=ec.call(this);if(parseInt(lt,10)!==ue){var ht=$i("div",{className:"introjs-tooltip"}),Yt=$i("div"),Tt=$i("div"),Nt=$i("div");ht.onclick=function(Tn){Tn.stopPropagation?Tn.stopPropagation():Tn.cancelBubble=!0},Yt.className="introjs-tooltiptext";var cn=$i("p");if(cn.innerHTML=Ge.hint,Yt.appendChild(cn),this._options.hintShowButton){var mn=$i("a");mn.className=this._options.buttonClass,mn.setAttribute("role","button"),mn.innerHTML=this._options.hintButtonLabel,mn.onclick=Bl.bind(this,ue),Yt.appendChild(mn)}Tt.className="introjs-arrow",ht.appendChild(Tt),ht.appendChild(Yt),this._currentStep=_e.getAttribute("data-step"),Nt.className="introjs-tooltipReferenceLayer introjs-hintReference",Nt.setAttribute("data-step",_e.getAttribute("data-step")),vo.call(this,Nt),Nt.appendChild(ht),document.body.appendChild(Nt),Ds.call(this,_e,ht,Tt,!0)}}function ec(){var ue=document.querySelector(".introjs-hintReference");if(ue){var _e=ue.getAttribute("data-step");return ue.parentNode.removeChild(ue),_e}}function pd(ue){var _e=this;if(this._introItems=[],this._options.hints)o(this._options.hints,function(lt){var ht=al(lt);"string"==typeof ht.element&&(ht.element=document.querySelector(ht.element)),ht.hintPosition=ht.hintPosition||_e._options.hintPosition,ht.hintAnimation=ht.hintAnimation||_e._options.hintAnimation,null!==ht.element&&_e._introItems.push(ht)});else{var Ge=ue.querySelectorAll("*[data-hint]");if(!Ge||!Ge.length)return!1;o(Ge,function(lt){var ht=lt.getAttribute("data-hintanimation");ht=ht?"true"===ht:_e._options.hintAnimation,_e._introItems.push({element:lt,hint:lt.getAttribute("data-hint"),hintPosition:lt.getAttribute("data-hintposition")||_e._options.hintPosition,hintAnimation:ht,tooltipClass:lt.getAttribute("data-tooltipclass"),position:lt.getAttribute("data-position")||_e._options.tooltipPosition})})}Hl.call(this),t.on(document,"click",ec,this,!1),t.on(window,"resize",Ea,this,!0)}function Ea(){var ue=this;o(this._introItems,function(_e){var Ge=_e.targetElement;void 0!==Ge&&ql.call(ue,_e.hintPosition,_e.element,Ge)})}Go({target:"Array",proto:!0,forced:!Eu},{splice:function(_e,Ge){var Nt,cn,mn,Tn,vi,ui,lt=Ct(this),ht=Lr(lt),Yt=zr(_e,ht),Tt=arguments.length;if(0===Tt?Nt=cn=0:1===Tt?(Nt=0,cn=ht-Yt):(Nt=Tt-2,cn=Ll(Mo(Pr(Ge),0),ht-Yt)),ht+Nt-cn>yl)throw Vs(ol);for(mn=xr(lt,cn),Tn=0;Tn<cn;Tn++)(vi=Yt+Tn)in lt&&gt(mn,Tn,lt[vi]);if(mn.length=cn,Nt<cn){for(Tn=Yt;Tn<ht-cn;Tn++)ui=Tn+Nt,(vi=Tn+cn)in lt?lt[ui]=lt[vi]:delete lt[ui];for(Tn=ht;Tn>ht-cn+Nt;Tn--)delete lt[Tn-1]}else if(Nt>cn)for(Tn=ht-cn;Tn>Yt;Tn--)ui=Tn+Nt-1,(vi=Tn+cn-1)in lt?lt[ui]=lt[vi]:delete lt[ui];for(Tn=0;Tn<Nt;Tn++)lt[Tn+Yt]=arguments[Tn+2];return lt.length=ht-cn+Nt,mn}});var Cc=Math.floor,Yc=function(ue,_e){var Ge=ue.length,lt=Cc(Ge/2);return Ge<8?wu(ue,_e):yr(ue,Yc(ba(ue,0,lt),_e),Yc(ba(ue,lt),_e),_e)},wu=function(ue,_e){for(var ht,Yt,Ge=ue.length,lt=1;lt<Ge;){for(Yt=lt,ht=ue[lt];Yt&&_e(ue[Yt-1],ht)>0;)ue[Yt]=ue[--Yt];Yt!==lt++&&(ue[Yt]=ht)}return ue},yr=function(ue,_e,Ge,lt){for(var ht=_e.length,Yt=Ge.length,Tt=0,Nt=0;Tt<ht||Nt<Yt;)ue[Tt+Nt]=Tt<ht&&Nt<Yt?lt(_e[Tt],Ge[Nt])<=0?_e[Tt++]:Ge[Nt++]:Tt<ht?_e[Tt++]:Ge[Nt++];return ue},fd=Yc,Aa=tn.match(/firefox\/(\d+)/i),Oa=!!Aa&&+Aa[1],Vl=/MSIE|Trident/.test(tn),Ca=tn.match(/AppleWebKit\/(\d+)\./),Su=!!Ca&&+Ca[1],Ta=[],Za=fe(Ta.sort),Tc=fe(Ta.push),Kc=y(function(){Ta.sort(void 0)}),Du=y(function(){Ta.sort(null)}),Mu=Zl("sort"),Qa=!y(function(){if($t)return $t<70;if(!(Oa&&Oa>3)){if(Vl)return!0;if(Su)return Su<603;var _e,Ge,lt,ht,ue="";for(_e=65;_e<76;_e++){switch(Ge=String.fromCharCode(_e),_e){case 66:case 69:case 70:case 72:lt=3;break;case 68:case 71:lt=4;break;default:lt=2}for(ht=0;ht<47;ht++)Ta.push({k:Ge+ht,v:lt})}for(Ta.sort(function(Yt,Tt){return Tt.v-Yt.v}),ht=0;ht<Ta.length;ht++)Ge=Ta[ht].k.charAt(0),ue.charAt(ue.length-1)!==Ge&&(ue+=Ge);return"DGBEFHACIJK"!==ue}});function xu(ue){var _e=this,Ge=ue.querySelectorAll("*[data-intro]"),lt=[];if(this._options.steps)o(this._options.steps,function(mn){var Tn=al(mn);if(Tn.step=lt.length+1,Tn.title=Tn.title||"","string"==typeof Tn.element&&(Tn.element=document.querySelector(Tn.element)),null==Tn.element){var vi=document.querySelector(".introjsFloatingElement");null===vi&&(vi=$i("div",{className:"introjsFloatingElement"}),document.body.appendChild(vi)),Tn.element=vi,Tn.position="floating"}Tn.position=Tn.position||_e._options.tooltipPosition,Tn.scrollTo=Tn.scrollTo||_e._options.scrollTo,void 0===Tn.disableInteraction&&(Tn.disableInteraction=_e._options.disableInteraction),null!==Tn.element&&lt.push(Tn)});else{var Yt;if(Ge.length<1)return[];o(Ge,function(mn){if((!_e._options.group||mn.getAttribute("data-intro-group")===_e._options.group)&&"none"!==mn.style.display){var Tn=parseInt(mn.getAttribute("data-step"),10);Yt=mn.hasAttribute("data-disable-interaction")?!!mn.getAttribute("data-disable-interaction"):_e._options.disableInteraction,Tn>0&&(lt[Tn-1]={element:mn,title:mn.getAttribute("data-title")||"",intro:mn.getAttribute("data-intro"),step:parseInt(mn.getAttribute("data-step"),10),tooltipClass:mn.getAttribute("data-tooltipclass"),highlightClass:mn.getAttribute("data-highlightclass"),position:mn.getAttribute("data-position")||_e._options.tooltipPosition,scrollTo:mn.getAttribute("data-scrollto")||_e._options.scrollTo,disableInteraction:Yt})}});var Tt=0;o(Ge,function(mn){if((!_e._options.group||mn.getAttribute("data-intro-group")===_e._options.group)&&null===mn.getAttribute("data-step")){for(;void 0!==lt[Tt];)Tt++;Yt=mn.hasAttribute("data-disable-interaction")?!!mn.getAttribute("data-disable-interaction"):_e._options.disableInteraction,lt[Tt]={element:mn,title:mn.getAttribute("data-title")||"",intro:mn.getAttribute("data-intro"),step:Tt+1,tooltipClass:mn.getAttribute("data-tooltipclass"),highlightClass:mn.getAttribute("data-highlightclass"),position:mn.getAttribute("data-position")||_e._options.tooltipPosition,scrollTo:mn.getAttribute("data-scrollto")||_e._options.scrollTo,disableInteraction:Yt}}})}for(var Nt=[],cn=0;cn<lt.length;cn++)lt[cn]&&Nt.push(lt[cn]);return(lt=Nt).sort(function(mn,Tn){return mn.step-Tn.step}),lt}function nc(ue){var _e=document.querySelector(".introjs-tooltipReferenceLayer"),Ge=document.querySelector(".introjs-helperLayer"),lt=document.querySelector(".introjs-disableInteraction");if(vo.call(this,Ge),vo.call(this,_e),vo.call(this,lt),ue&&(this._introItems=xu.call(this,this._targetElement),Fl.call(this,_e,this._introItems[this._currentStep]),jc.call(this,_e)),null!=this._currentStep){var ht=document.querySelector(".introjs-arrow"),Yt=document.querySelector(".introjs-tooltip");Yt&&ht&&Ds.call(this,this._introItems[this._currentStep].element,Yt,ht)}return Ea.call(this),this}function Ul(){nc.call(this)}function Gl(ue,_e){if(ue&&ue.parentElement){var Ge=ue.parentElement;_e?(to(ue,{opacity:"0"}),window.setTimeout(function(){try{Ge.removeChild(ue)}catch(lt){}},500)):Ge.removeChild(ue)}}function Ko(ue,_e){var Ge=!0;if(void 0!==this._introBeforeExitCallback&&(Ge=this._introBeforeExitCallback.call(this)),_e||!1!==Ge){var lt=ue.querySelectorAll(".introjs-overlay");lt&&lt.length&&o(lt,function(cn){return Gl(cn)}),Gl(ue.querySelector(".introjs-helperLayer"),!0),Gl(ue.querySelector(".introjs-tooltipReferenceLayer")),Gl(ue.querySelector(".introjs-disableInteraction")),Gl(document.querySelector(".introjsFloatingElement")),Nl(),t.off(window,"keydown",Ja,this,!0),t.off(window,"resize",Ul,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function Iu(ue){var _e=this,Ge=$i("div",{className:"introjs-overlay"});return to(Ge,{top:0,bottom:0,left:0,right:0,position:"fixed"}),ue.appendChild(Ge),!0===this._options.exitOnOverlayClick&&(to(Ge,{cursor:"pointer"}),Ge.onclick=function(){Ko.call(_e,ue)}),!0}function ic(ue){void 0!==this._introStartCallback&&this._introStartCallback.call(this,ue);var _e=xu.call(this,ue);return 0===_e.length||(this._introItems=_e,Iu.call(this,ue)&&(Bo.call(this),this._options.keyboardNavigation&&t.on(window,"keydown",Ja,this,!0),t.on(window,"resize",Ul,this,!0))),!1}function Rs(ue){this._targetElement=ue,this._introItems=[],this._options={nextLabel:"Next",prevLabel:"Back",skipLabel:"\xd7",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}Go({target:"Array",proto:!0,forced:Kc||!Du||!Mu||!Qa},{sort:function(_e){void 0!==_e&&it(_e);var Ge=Ct(this);if(Qa)return void 0===_e?Za(Ge):Za(Ge,_e);var Yt,Tt,lt=[],ht=Lr(Ge);for(Tt=0;Tt<ht;Tt++)Tt in Ge&&Tc(lt,Ge[Tt]);for(fd(lt,function(ue){return function(_e,Ge){return void 0===Ge?-1:void 0===_e?1:void 0!==ue?+ue(_e,Ge)||0:br(_e)>br(Ge)?1:-1}}(_e)),Yt=lt.length,Tt=0;Tt<Yt;)Ge[Tt]=lt[Tt++];for(;Tt<ht;)delete Ge[Tt++];return Ge}});var ka=function ue(_e){var Ge;if("object"===U(_e))Ge=new Rs(_e);else if("string"==typeof _e){var lt=document.querySelector(_e);if(!lt)throw new Error("There is no element with given selector.");Ge=new Rs(lt)}else Ge=new Rs(document.body);return ue.instances[E(Ge,"introjs-instance")]=Ge,Ge};return ka.version="4.3.0",ka.instances={},ka.fn=Rs.prototype={clone:function(){return new Rs(this)},setOption:function(_e,Ge){return this._options[_e]=Ge,this},setOptions:function(_e){return this._options=function(ue,_e){var lt,Ge={};for(lt in ue)Ge[lt]=ue[lt];for(lt in _e)Ge[lt]=_e[lt];return Ge}(this._options,_e),this},start:function(){return ic.call(this,this._targetElement),this},goToStep:function(_e){return dd.call(this,_e),this},addStep:function(_e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(_e),this},addSteps:function(_e){if(_e.length){for(var Ge=0;Ge<_e.length;Ge++)this.addStep(_e[Ge]);return this}},goToStepNumber:function(_e){return $a.call(this,_e),this},nextStep:function(){return Bo.call(this),this},previousStep:function(){return Gs.call(this),this},currentStep:function(){return Kd.call(this)},exit:function(_e){return Ko.call(this,this._targetElement,_e),this},refresh:function(_e){return nc.call(this,_e),this},onbeforechange:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=_e,this},onchange:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=_e,this},onafterchange:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=_e,this},oncomplete:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=_e,this},onhintsadded:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=_e,this},onhintclick:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=_e,this},onhintclose:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=_e,this},onstart:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=_e,this},onexit:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=_e,this},onskip:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=_e,this},onbeforeexit:function(_e){if("function"!=typeof _e)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=_e,this},addHints:function(){return pd.call(this,this._targetElement),this},hideHint:function(_e){return Bl.call(this,_e),this},hideHints:function(){return hd.call(this),this},showHint:function(_e){return Tu.call(this,_e),this},showHints:function(){return Ec.call(this),this},removeHints:function(){return zc.call(this),this},removeHint:function(_e){return js().call(this,_e),this},showHintDialog:function(_e){return no.call(this,_e),this}},ka}()},30142:(F,U,_)=>{"use strict";_.d(U,{PG:()=>A,nm:()=>B});var E=_(42741),o=_(93324),t=_(54958),e=_(16274);const n=["editorContainer"],s=new E.OlP("NGX_MONACO_EDITOR_CONFIG");let y,f=!1,M=(()=>{class ne{constructor(se){this.config=se,this.onInit=new E.vpe}ngAfterViewInit(){f?y.then(()=>{this.initMonaco(this._options)}):(f=!0,y=new Promise(se=>{const de=(this.config.baseUrl||"./assets")+"/monaco-editor/min/vs";if("object"==typeof window.monaco)return void se();const ae=()=>{window.require.config({paths:{vs:`${de}`}}),window.require(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options),se()})};if(window.require)ae();else{const Me=document.createElement("script");Me.type="text/javascript",Me.src=`${de}/loader.js`,Me.addEventListener("load",ae),document.body.appendChild(Me)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return ne.\u0275fac=function(se){return new(se||ne)(E.Y36(s))},ne.\u0275cmp=E.Xpm({type:ne,selectors:[["ng-component"]],viewQuery:function(se,de){if(1&se&&E.Gf(n,7),2&se){let ae;E.iGM(ae=E.CRH())&&(de._editorContainer=ae.first)}},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(se,de){},encapsulation:2}),ne})(),A=(()=>{class ne extends M{constructor(se,de){super(de),this.zone=se,this.editorConfig=de,this._value="",this.propagateChange=ae=>{},this.onTouched=()=>{}}set options(se){this._options=Object.assign({},this.config.defaultOptions,se),this._editor&&(this._editor.dispose(),this.initMonaco(se))}get options(){return this._options}set model(se){this.options.model=se,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(se){this._value=se||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(se){this.propagateChange=se}registerOnTouched(se){this.onTouched=se}initMonaco(se){const de=!!se.model;if(de){const ae=monaco.editor.getModel(se.model.uri||"");ae?(se.model=ae,se.model.setValue(this._value)):se.model=monaco.editor.createModel(se.model.value,se.model.language,se.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,se),de||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(ae=>{const Me=this._editor.getValue();this.zone.run(()=>{this.propagateChange(Me),this._value=Me})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,t.R)(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return ne.\u0275fac=function(se){return new(se||ne)(E.Y36(E.R0b),E.Y36(s))},ne.\u0275cmp=E.Xpm({type:ne,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[E._Bn([{provide:o.JU,useExisting:(0,E.Gpc)(()=>ne),multi:!0}]),E.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(se,de){1&se&&E._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%] {\n          display: block;\n          height: 200px;\n      }\n\n      .editor-container[_ngcontent-%COMP%] {\n          width: 100%;\n          height: 98%;\n      }"]}),ne})(),B=(()=>{class ne{static forRoot(se={}){return{ngModule:ne,providers:[{provide:s,useValue:se}]}}}return ne.\u0275fac=function(se){return new(se||ne)},ne.\u0275mod=E.oAB({type:ne}),ne.\u0275inj=E.cJS({imports:[[e.ez]]}),ne})()},29923:(F,U,_)=>{"use strict";_.d(U,{X:()=>t});var E=_(6006),o=_(67078);class t extends E.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const s=super._subscribe(n);return s&&!s.closed&&n.next(this._value),s}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value}next(n){super.next(this._value=n)}}},33585:(F,U,_)=>{"use strict";_.d(U,{P:()=>n});var E=_(23974),o=_(267),t=_(7535);class n{constructor(f,y,M){this.kind=f,this.value=y,this.error=M,this.hasValue="N"===f}observe(f){switch(this.kind){case"N":return f.next&&f.next(this.value);case"E":return f.error&&f.error(this.error);case"C":return f.complete&&f.complete()}}do(f,y,M){switch(this.kind){case"N":return f&&f(this.value);case"E":return y&&y(this.error);case"C":return M&&M()}}accept(f,y,M){return f&&"function"==typeof f.next?this.observe(f):this.do(f,y,M)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,t._)(this.error);case"C":return(0,E.c)()}throw new Error("unexpected notification kind value")}static createNext(f){return void 0!==f?new n("N",f):n.undefinedValueNotification}static createError(f){return new n("E",void 0,f)}static createComplete(){return n.completeNotification}}n.completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0)},93948:(F,U,_)=>{"use strict";_.d(U,{y:()=>P});var E=_(28744),t=_(59754),e=_(45669),s=_(27631),f=_(37846);var A=_(16633);let P=(()=>{class ne{constructor(se){this._isScalar=!1,se&&(this._subscribe=se)}lift(se){const de=new ne;return de.source=this,de.operator=se,de}subscribe(se,de,ae){const{operator:Me}=this,xe=function(ne,te,se){if(ne){if(ne instanceof E.L)return ne;if(ne[t.b])return ne[t.b]()}return ne||te||se?new E.L(ne,te,se):new E.L(e.c)}(se,de,ae);if(xe.add(Me?Me.call(xe,this.source):this.source||A.v.useDeprecatedSynchronousErrorHandling&&!xe.syncErrorThrowable?this._subscribe(xe):this._trySubscribe(xe)),A.v.useDeprecatedSynchronousErrorHandling&&xe.syncErrorThrowable&&(xe.syncErrorThrowable=!1,xe.syncErrorThrown))throw xe.syncErrorValue;return xe}_trySubscribe(se){try{return this._subscribe(se)}catch(de){A.v.useDeprecatedSynchronousErrorHandling&&(se.syncErrorThrown=!0,se.syncErrorValue=de),function(ne){for(;ne;){const{closed:te,destination:se,isStopped:de}=ne;if(te||de)return!1;ne=se&&se instanceof E.L?se:null}return!0}(se)?se.error(de):console.warn(de)}}forEach(se,de){return new(de=B(de))((ae,Me)=>{let xe;xe=this.subscribe(we=>{try{se(we)}catch(ke){Me(ke),xe&&xe.unsubscribe()}},Me,ae)})}_subscribe(se){const{source:de}=this;return de&&de.subscribe(se)}[s.L](){return this}pipe(...se){return 0===se.length?this:function(ne){return 0===ne.length?f.y:1===ne.length?ne[0]:function(se){return ne.reduce((de,ae)=>ae(de),se)}}(se)(this)}toPromise(se){return new(se=B(se))((de,ae)=>{let Me;this.subscribe(xe=>Me=xe,xe=>ae(xe),()=>de(Me))})}}return ne.create=te=>new ne(te),ne})();function B(ne){if(ne||(ne=A.v.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},45669:(F,U,_)=>{"use strict";_.d(U,{c:()=>t});var E=_(16633),o=_(63863);const t={closed:!0,next(e){},error(e){if(E.v.useDeprecatedSynchronousErrorHandling)throw e;(0,o.z)(e)},complete(){}}},6006:(F,U,_)=>{"use strict";_.d(U,{Yc:()=>f,xQ:()=>y});var E=_(93948),o=_(28744),t=_(39734),e=_(67078),n=_(2417),s=_(59754);class f extends o.L{constructor(P){super(P),this.destination=P}}let y=(()=>{class A extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[s.b](){return new f(this)}lift(B){const ne=new M(this,this);return ne.operator=B,ne}next(B){if(this.closed)throw new e.N;if(!this.isStopped){const{observers:ne}=this,te=ne.length,se=ne.slice();for(let de=0;de<te;de++)se[de].next(B)}}error(B){if(this.closed)throw new e.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:ne}=this,te=ne.length,se=ne.slice();for(let de=0;de<te;de++)se[de].error(B);this.observers.length=0}complete(){if(this.closed)throw new e.N;this.isStopped=!0;const{observers:B}=this,ne=B.length,te=B.slice();for(let se=0;se<ne;se++)te[se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new e.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new e.N;return this.hasError?(B.error(this.thrownError),t.w.EMPTY):this.isStopped?(B.complete(),t.w.EMPTY):(this.observers.push(B),new n.W(this,B))}asObservable(){const B=new E.y;return B.source=this,B}}return A.create=(P,B)=>new M(P,B),A})();class M extends y{constructor(P,B){super(),this.destination=P,this.source=B}next(P){const{destination:B}=this;B&&B.next&&B.next(P)}error(P){const{destination:B}=this;B&&B.error&&this.destination.error(P)}complete(){const{destination:P}=this;P&&P.complete&&this.destination.complete()}_subscribe(P){const{source:B}=this;return B?this.source.subscribe(P):t.w.EMPTY}}},2417:(F,U,_)=>{"use strict";_.d(U,{W:()=>o});var E=_(39734);class o extends E.w{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const s=n.indexOf(this.subscriber);-1!==s&&n.splice(s,1)}}},28744:(F,U,_)=>{"use strict";_.d(U,{L:()=>f});var E=_(13673),o=_(45669),t=_(39734),e=_(59754),n=_(16633),s=_(63863);class f extends t.w{constructor(A,P,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.c;break;case 1:if(!A){this.destination=o.c;break}if("object"==typeof A){A instanceof f?(this.syncErrorThrowable=A.syncErrorThrowable,this.destination=A,A.add(this)):(this.syncErrorThrowable=!0,this.destination=new y(this,A));break}default:this.syncErrorThrowable=!0,this.destination=new y(this,A,P,B)}}[e.b](){return this}static create(A,P,B){const ne=new f(A,P,B);return ne.syncErrorThrowable=!1,ne}next(A){this.isStopped||this._next(A)}error(A){this.isStopped||(this.isStopped=!0,this._error(A))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(A){this.destination.next(A)}_error(A){this.destination.error(A),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:A}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=A,this}}class y extends f{constructor(A,P,B,ne){super(),this._parentSubscriber=A;let te,se=this;(0,E.m)(P)?te=P:P&&(te=P.next,B=P.error,ne=P.complete,P!==o.c&&(se=Object.create(P),(0,E.m)(se.unsubscribe)&&this.add(se.unsubscribe.bind(se)),se.unsubscribe=this.unsubscribe.bind(this))),this._context=se,this._next=te,this._error=B,this._complete=ne}next(A){if(!this.isStopped&&this._next){const{_parentSubscriber:P}=this;n.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?this.__tryOrSetError(P,this._next,A)&&this.unsubscribe():this.__tryOrUnsub(this._next,A)}}error(A){if(!this.isStopped){const{_parentSubscriber:P}=this,{useDeprecatedSynchronousErrorHandling:B}=n.v;if(this._error)B&&P.syncErrorThrowable?(this.__tryOrSetError(P,this._error,A),this.unsubscribe()):(this.__tryOrUnsub(this._error,A),this.unsubscribe());else if(P.syncErrorThrowable)B?(P.syncErrorValue=A,P.syncErrorThrown=!0):(0,s.z)(A),this.unsubscribe();else{if(this.unsubscribe(),B)throw A;(0,s.z)(A)}}}complete(){if(!this.isStopped){const{_parentSubscriber:A}=this;if(this._complete){const P=()=>this._complete.call(this._context);n.v.useDeprecatedSynchronousErrorHandling&&A.syncErrorThrowable?(this.__tryOrSetError(A,P),this.unsubscribe()):(this.__tryOrUnsub(P),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(A,P){try{A.call(this._context,P)}catch(B){if(this.unsubscribe(),n.v.useDeprecatedSynchronousErrorHandling)throw B;(0,s.z)(B)}}__tryOrSetError(A,P,B){if(!n.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{P.call(this._context,B)}catch(ne){return n.v.useDeprecatedSynchronousErrorHandling?(A.syncErrorValue=ne,A.syncErrorThrown=!0,!0):((0,s.z)(ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:A}=this;this._context=null,this._parentSubscriber=null,A.unsubscribe()}}},39734:(F,U,_)=>{"use strict";_.d(U,{w:()=>s});var E=_(69622),o=_(20153),t=_(13673);const n=(()=>{function y(M){return Error.call(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((A,P)=>`${P+1}) ${A.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M,this}return y.prototype=Object.create(Error.prototype),y})();class s{constructor(M){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,M&&(this._ctorUnsubscribe=!0,this._unsubscribe=M)}unsubscribe(){let M;if(this.closed)return;let{_parentOrParents:A,_ctorUnsubscribe:P,_unsubscribe:B,_subscriptions:ne}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,A instanceof s)A.remove(this);else if(null!==A)for(let te=0;te<A.length;++te)A[te].remove(this);if((0,t.m)(B)){P&&(this._unsubscribe=void 0);try{B.call(this)}catch(te){M=te instanceof n?f(te.errors):[te]}}if((0,E.k)(ne)){let te=-1,se=ne.length;for(;++te<se;){const de=ne[te];if((0,o.K)(de))try{de.unsubscribe()}catch(ae){M=M||[],ae instanceof n?M=M.concat(f(ae.errors)):M.push(ae)}}}if(M)throw new n(M)}add(M){let A=M;if(!M)return s.EMPTY;switch(typeof M){case"function":A=new s(M);case"object":if(A===this||A.closed||"function"!=typeof A.unsubscribe)return A;if(this.closed)return A.unsubscribe(),A;if(!(A instanceof s)){const ne=A;A=new s,A._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+M+" added to Subscription.")}let{_parentOrParents:P}=A;if(null===P)A._parentOrParents=this;else if(P instanceof s){if(P===this)return A;A._parentOrParents=[P,this]}else{if(-1!==P.indexOf(this))return A;P.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[A]:B.push(A),A}remove(M){const A=this._subscriptions;if(A){const P=A.indexOf(M);-1!==P&&A.splice(P,1)}}}var y;function f(y){return y.reduce((M,A)=>M.concat(A instanceof n?A.errors:A),[])}s.EMPTY=((y=new s).closed=!0,y)},16633:(F,U,_)=>{"use strict";_.d(U,{v:()=>o});let E=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=t},get useDeprecatedSynchronousErrorHandling(){return E}}},86790:(F,U,_)=>{"use strict";_.d(U,{IY:()=>e,Ds:()=>s,ft:()=>y});var E=_(28744),o=_(93948),t=_(77040);class e extends E.L{constructor(A){super(),this.parent=A}_next(A){this.parent.notifyNext(A)}_error(A){this.parent.notifyError(A),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class s extends E.L{notifyNext(A){this.destination.next(A)}notifyError(A){this.destination.error(A)}notifyComplete(){this.destination.complete()}}function y(M,A){if(A.closed)return;if(M instanceof o.y)return M.subscribe(A);let P;try{P=(0,t.s)(M)(A)}catch(B){A.error(B)}return P}},30955:(F,U,_)=>{"use strict";_.d(U,{c:()=>n,N:()=>s});var E=_(6006),o=_(93948),t=_(39734),e=_(95290);class n extends o.y{constructor(P,B){super(),this.source=P,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let P=this._connection;return P||(this._isComplete=!1,P=this._connection=new t.w,P.add(this.source.subscribe(new f(this.getSubject(),this))),P.closed&&(this._connection=null,P=t.w.EMPTY)),P}refCount(){return(0,e.x)()(this)}}const s=(()=>{const A=n.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:A._subscribe},_isComplete:{value:A._isComplete,writable:!0},getSubject:{value:A.getSubject},connect:{value:A.connect},refCount:{value:A.refCount}}})();class f extends E.Yc{constructor(P,B){super(P),this.connectable=B}_error(P){this._unsubscribe(),super._error(P)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const P=this.connectable;if(P){this.connectable=null;const B=P._connection;P._refCount=0,P._subject=null,P._connection=null,B&&B.unsubscribe()}}}},52032:(F,U,_)=>{"use strict";_.d(U,{aj:()=>P});var E=_(97204),o=_(69622),t=_(28744);class e extends t.L{notifyNext(se,de,ae,Me,xe){this.destination.next(de)}notifyError(se,de){this.destination.error(se)}notifyComplete(se){this.destination.complete()}}class n extends t.L{constructor(se,de,ae){super(),this.parent=se,this.outerValue=de,this.outerIndex=ae,this.index=0}_next(se){this.parent.notifyNext(this.outerValue,se,this.outerIndex,this.index++,this)}_error(se){this.parent.notifyError(se,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=_(77040),f=_(93948);function y(te,se,de,ae,Me=new n(te,de,ae)){if(!Me.closed)return se instanceof f.y?se.subscribe(Me):(0,s.s)(se)(Me)}var M=_(36431);const A={};function P(...te){let se,de;return(0,E.K)(te[te.length-1])&&(de=te.pop()),"function"==typeof te[te.length-1]&&(se=te.pop()),1===te.length&&(0,o.k)(te[0])&&(te=te[0]),(0,M.n)(te,de).lift(new B(se))}class B{constructor(se){this.resultSelector=se}call(se,de){return de.subscribe(new ne(se,this.resultSelector))}}class ne extends e{constructor(se,de){super(se),this.resultSelector=de,this.active=0,this.values=[],this.observables=[]}_next(se){this.values.push(A),this.observables.push(se)}_complete(){const se=this.observables,de=se.length;if(0===de)this.destination.complete();else{this.active=de,this.toRespond=de;for(let ae=0;ae<de;ae++)this.add(y(this,se[ae],void 0,ae))}}notifyComplete(se){0==(this.active-=1)&&this.destination.complete()}notifyNext(se,de,ae){const Me=this.values,we=this.toRespond?Me[ae]===A?--this.toRespond:this.toRespond:0;Me[ae]=de,0===we&&(this.resultSelector?this._tryResultSelector(Me):this.destination.next(Me.slice()))}_tryResultSelector(se){let de;try{de=this.resultSelector.apply(this,se)}catch(ae){return void this.destination.error(ae)}this.destination.next(de)}}},38895:(F,U,_)=>{"use strict";_.d(U,{z:()=>e});var E=_(267),o=_(4540);function e(...n){return(0,o.J)(1)((0,E.of)(...n))}},59765:(F,U,_)=>{"use strict";_.d(U,{P:()=>e});var E=_(93948),o=_(72850),t=_(23974);function e(n){return new E.y(s=>{let f;try{f=n()}catch(M){return void s.error(M)}return(f?(0,o.D)(f):(0,t.c)()).subscribe(s)})}},23974:(F,U,_)=>{"use strict";_.d(U,{E:()=>o,c:()=>t});var E=_(93948);const o=new E.y(n=>n.complete());function t(n){return n?function(n){return new E.y(s=>n.schedule(()=>s.complete()))}(n):o}},90714:(F,U,_)=>{"use strict";_.d(U,{D:()=>s});var E=_(93948),o=_(69622),t=_(88561),e=_(20153),n=_(72850);function s(...y){if(1===y.length){const M=y[0];if((0,o.k)(M))return f(M,null);if((0,e.K)(M)&&Object.getPrototypeOf(M)===Object.prototype){const A=Object.keys(M);return f(A.map(P=>M[P]),A)}}if("function"==typeof y[y.length-1]){const M=y.pop();return f(y=1===y.length&&(0,o.k)(y[0])?y[0]:y,null).pipe((0,t.U)(A=>M(...A)))}return f(y,null)}function f(y,M){return new E.y(A=>{const P=y.length;if(0===P)return void A.complete();const B=new Array(P);let ne=0,te=0;for(let se=0;se<P;se++){const de=(0,n.D)(y[se]);let ae=!1;A.add(de.subscribe({next:Me=>{ae||(ae=!0,te++),B[se]=Me},error:Me=>A.error(Me),complete:()=>{ne++,(ne===P||!ae)&&(te===P&&A.next(M?M.reduce((Me,xe,we)=>(Me[xe]=B[we],Me),{}):B),A.complete())}}))}})}},72850:(F,U,_)=>{"use strict";_.d(U,{D:()=>se});var E=_(93948),o=_(77040),t=_(39734),e=_(27631),f=_(59112),y=_(65389),P=_(58253),B=_(1292);function se(de,ae){return ae?function(de,ae){if(null!=de){if(function(de){return de&&"function"==typeof de[e.L]}(de))return function(de,ae){return new E.y(Me=>{const xe=new t.w;return xe.add(ae.schedule(()=>{const we=de[e.L]();xe.add(we.subscribe({next(ke){xe.add(ae.schedule(()=>Me.next(ke)))},error(ke){xe.add(ae.schedule(()=>Me.error(ke)))},complete(){xe.add(ae.schedule(()=>Me.complete()))}}))})),xe})}(de,ae);if((0,P.t)(de))return function(de,ae){return new E.y(Me=>{const xe=new t.w;return xe.add(ae.schedule(()=>de.then(we=>{xe.add(ae.schedule(()=>{Me.next(we),xe.add(ae.schedule(()=>Me.complete()))}))},we=>{xe.add(ae.schedule(()=>Me.error(we)))}))),xe})}(de,ae);if((0,B.z)(de))return(0,f.r)(de,ae);if(function(de){return de&&"function"==typeof de[y.hZ]}(de)||"string"==typeof de)return function(de,ae){if(!de)throw new Error("Iterable cannot be null");return new E.y(Me=>{const xe=new t.w;let we;return xe.add(()=>{we&&"function"==typeof we.return&&we.return()}),xe.add(ae.schedule(()=>{we=de[y.hZ](),xe.add(ae.schedule(function(){if(Me.closed)return;let ke,fe;try{const pe=we.next();ke=pe.value,fe=pe.done}catch(pe){return void Me.error(pe)}fe?Me.complete():(Me.next(ke),this.schedule())}))})),xe})}(de,ae)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,ae):de instanceof E.y?de:new E.y((0,o.s)(de))}},36431:(F,U,_)=>{"use strict";_.d(U,{n:()=>e});var E=_(93948),o=_(54537),t=_(59112);function e(n,s){return s?(0,t.r)(n,s):new E.y((0,o.V)(n))}},54958:(F,U,_)=>{"use strict";_.d(U,{R:()=>s});var E=_(93948),o=_(69622),t=_(13673),e=_(88561);function s(P,B,ne,te){return(0,t.m)(ne)&&(te=ne,ne=void 0),te?s(P,B,ne).pipe((0,e.U)(se=>(0,o.k)(se)?te(...se):te(se))):new E.y(se=>{f(P,B,function(ae){se.next(arguments.length>1?Array.prototype.slice.call(arguments):ae)},se,ne)})}function f(P,B,ne,te,se){let de;if(function(P){return P&&"function"==typeof P.addEventListener&&"function"==typeof P.removeEventListener}(P)){const ae=P;P.addEventListener(B,ne,se),de=()=>ae.removeEventListener(B,ne,se)}else if(function(P){return P&&"function"==typeof P.on&&"function"==typeof P.off}(P)){const ae=P;P.on(B,ne),de=()=>ae.off(B,ne)}else if(function(P){return P&&"function"==typeof P.addListener&&"function"==typeof P.removeListener}(P)){const ae=P;P.addListener(B,ne),de=()=>ae.removeListener(B,ne)}else{if(!P||!P.length)throw new TypeError("Invalid event target");for(let ae=0,Me=P.length;ae<Me;ae++)f(P[ae],B,ne,te,se)}te.add(de)}},30636:(F,U,_)=>{"use strict";_.d(U,{T:()=>n});var E=_(93948),o=_(97204),t=_(4540),e=_(36431);function n(...s){let f=Number.POSITIVE_INFINITY,y=null,M=s[s.length-1];return(0,o.K)(M)?(y=s.pop(),s.length>1&&"number"==typeof s[s.length-1]&&(f=s.pop())):"number"==typeof M&&(f=s.pop()),null===y&&1===s.length&&s[0]instanceof E.y?s[0]:(0,t.J)(f)((0,e.n)(s,y))}},267:(F,U,_)=>{"use strict";_.d(U,{of:()=>e});var E=_(97204),o=_(36431),t=_(59112);function e(...n){let s=n[n.length-1];return(0,E.K)(s)?(n.pop(),(0,t.r)(n,s)):(0,o.n)(n)}},7535:(F,U,_)=>{"use strict";_.d(U,{_:()=>o});var E=_(93948);function o(e,n){return new E.y(n?s=>n.schedule(t,0,{error:e,subscriber:s}):s=>s.error(e))}function t({error:e,subscriber:n}){n.error(e)}},78862:(F,U,_)=>{"use strict";_.d(U,{H:()=>s});var E=_(93948),o=_(98846),t=_(69622);function e(y){return!(0,t.k)(y)&&y-parseFloat(y)+1>=0}var n=_(97204);function s(y=0,M,A){let P=-1;return e(M)?P=Number(M)<1?1:Number(M):(0,n.K)(M)&&(A=M),(0,n.K)(A)||(A=o.P),new E.y(B=>{const ne=e(y)?y:+y-A.now();return A.schedule(f,ne,{index:0,period:P,subscriber:B})})}function f(y){const{index:M,period:A,subscriber:P}=y;if(P.next(M),!P.closed){if(-1===A)return P.complete();y.index=M+1,this.schedule(y,A)}}},64337:(F,U,_)=>{"use strict";_.d(U,{e:()=>f});var E=_(98846),o=_(86790);class e{constructor(M){this.durationSelector=M}call(M,A){return A.subscribe(new n(M,this.durationSelector))}}class n extends o.Ds{constructor(M,A){super(M),this.durationSelector=A,this.hasValue=!1}_next(M){if(this.value=M,this.hasValue=!0,!this.throttled){let A;try{const{durationSelector:B}=this;A=B(M)}catch(B){return this.destination.error(B)}const P=(0,o.ft)(A,new o.IY(this));!P||P.closed?this.clearThrottle():this.add(this.throttled=P)}}clearThrottle(){const{value:M,hasValue:A,throttled:P}=this;P&&(this.remove(P),this.throttled=void 0,P.unsubscribe()),A&&(this.value=void 0,this.hasValue=!1,this.destination.next(M))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var s=_(78862);function f(y,M=E.P){return function(y){return function(A){return A.lift(new e(y))}}(()=>(0,s.H)(y,M))}},72072:(F,U,_)=>{"use strict";_.d(U,{K:()=>o});var E=_(86790);function o(n){return function(f){const y=new t(n),M=f.lift(y);return y.caught=M}}class t{constructor(s){this.selector=s}call(s,f){return f.subscribe(new e(s,this.selector,this.caught))}}class e extends E.Ds{constructor(s,f,y){super(s),this.selector=f,this.caught=y}error(s){if(!this.isStopped){let f;try{f=this.selector(s,this.caught)}catch(A){return void super.error(A)}this._unsubscribeAndRecycle();const y=new E.IY(this);this.add(y);const M=(0,E.ft)(f,y);M!==y&&this.add(M)}}}},23748:(F,U,_)=>{"use strict";_.d(U,{b:()=>o});var E=_(16513);function o(t,e){return(0,E.zg)(t,e,1)}},89006:(F,U,_)=>{"use strict";_.d(U,{b:()=>t});var E=_(28744),o=_(98846);function t(f,y=o.P){return M=>M.lift(new e(f,y))}class e{constructor(y,M){this.dueTime=y,this.scheduler=M}call(y,M){return M.subscribe(new n(y,this.dueTime,this.scheduler))}}class n extends E.L{constructor(y,M,A){super(y),this.dueTime=M,this.scheduler=A,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(y){this.clearDebounce(),this.lastValue=y,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:y}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(y)}}clearDebounce(){const y=this.debouncedSubscription;null!==y&&(this.remove(y),y.unsubscribe(),this.debouncedSubscription=null)}}function s(f){f.debouncedNext()}},62615:(F,U,_)=>{"use strict";_.d(U,{g:()=>n});var E=_(98846),t=_(28744),e=_(33585);function n(M,A=E.P){const B=function(M){return M instanceof Date&&!isNaN(+M)}(M)?+M-A.now():Math.abs(M);return ne=>ne.lift(new s(B,A))}class s{constructor(A,P){this.delay=A,this.scheduler=P}call(A,P){return P.subscribe(new f(A,this.delay,this.scheduler))}}class f extends t.L{constructor(A,P,B){super(A),this.delay=P,this.scheduler=B,this.queue=[],this.active=!1,this.errored=!1}static dispatch(A){const P=A.source,B=P.queue,ne=A.scheduler,te=A.destination;for(;B.length>0&&B[0].time-ne.now()<=0;)B.shift().notification.observe(te);if(B.length>0){const se=Math.max(0,B[0].time-ne.now());this.schedule(A,se)}else this.unsubscribe(),P.active=!1}_schedule(A){this.active=!0,this.destination.add(A.schedule(f.dispatch,this.delay,{source:this,destination:this.destination,scheduler:A}))}scheduleNotification(A){if(!0===this.errored)return;const P=this.scheduler,B=new y(P.now()+this.delay,A);this.queue.push(B),!1===this.active&&this._schedule(P)}_next(A){this.scheduleNotification(e.P.createNext(A))}_error(A){this.errored=!0,this.queue=[],this.destination.error(A),this.unsubscribe()}_complete(){this.scheduleNotification(e.P.createComplete()),this.unsubscribe()}}class y{constructor(A,P){this.time=A,this.notification=P}}},57689:(F,U,_)=>{"use strict";_.d(U,{x:()=>o});var E=_(28744);function o(n,s){return f=>f.lift(new t(n,s))}class t{constructor(s,f){this.compare=s,this.keySelector=f}call(s,f){return f.subscribe(new e(s,this.compare,this.keySelector))}}class e extends E.L{constructor(s,f,y){super(s),this.keySelector=y,this.hasKey=!1,"function"==typeof f&&(this.compare=f)}compare(s,f){return s===f}_next(s){let f;try{const{keySelector:M}=this;f=M?M(s):s}catch(M){return this.destination.error(M)}let y=!1;if(this.hasKey)try{const{compare:M}=this;y=M(this.key,f)}catch(M){return this.destination.error(M)}else this.hasKey=!0;y||(this.key=f,this.destination.next(s))}}},63305:(F,U,_)=>{"use strict";_.d(U,{h:()=>o});var E=_(28744);function o(n,s){return function(y){return y.lift(new t(n,s))}}class t{constructor(s,f){this.predicate=s,this.thisArg=f}call(s,f){return f.subscribe(new e(s,this.predicate,this.thisArg))}}class e extends E.L{constructor(s,f,y){super(s),this.predicate=f,this.thisArg=y,this.count=0}_next(s){let f;try{f=this.predicate.call(this.thisArg,s,this.count++)}catch(y){return void this.destination.error(y)}f&&this.destination.next(s)}}},27813:(F,U,_)=>{"use strict";_.d(U,{x:()=>t});var E=_(28744),o=_(39734);function t(s){return f=>f.lift(new e(s))}class e{constructor(f){this.callback=f}call(f,y){return y.subscribe(new n(f,this.callback))}}class n extends E.L{constructor(f,y){super(f),this.add(new o.w(y))}}},88561:(F,U,_)=>{"use strict";_.d(U,{U:()=>o});var E=_(28744);function o(n,s){return function(y){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return y.lift(new t(n,s))}}class t{constructor(s,f){this.project=s,this.thisArg=f}call(s,f){return f.subscribe(new e(s,this.project,this.thisArg))}}class e extends E.L{constructor(s,f,y){super(s),this.project=f,this.count=0,this.thisArg=y||this}_next(s){let f;try{f=this.project.call(this.thisArg,s,this.count++)}catch(y){return void this.destination.error(y)}this.destination.next(f)}}},4540:(F,U,_)=>{"use strict";_.d(U,{J:()=>t});var E=_(16513),o=_(37846);function t(e=Number.POSITIVE_INFINITY){return(0,E.zg)(o.y,e)}},16513:(F,U,_)=>{"use strict";_.d(U,{zg:()=>e});var E=_(88561),o=_(72850),t=_(86790);function e(y,M,A=Number.POSITIVE_INFINITY){return"function"==typeof M?P=>P.pipe(e((B,ne)=>(0,o.D)(y(B,ne)).pipe((0,E.U)((te,se)=>M(B,te,ne,se))),A)):("number"==typeof M&&(A=M),P=>P.lift(new n(y,A)))}class n{constructor(M,A=Number.POSITIVE_INFINITY){this.project=M,this.concurrent=A}call(M,A){return A.subscribe(new s(M,this.project,this.concurrent))}}class s extends t.Ds{constructor(M,A,P=Number.POSITIVE_INFINITY){super(M),this.project=A,this.concurrent=P,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(M){this.active<this.concurrent?this._tryNext(M):this.buffer.push(M)}_tryNext(M){let A;const P=this.index++;try{A=this.project(M,P)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(A)}_innerSub(M){const A=new t.IY(this),P=this.destination;P.add(A);const B=(0,t.ft)(M,A);B!==A&&P.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(M){this.destination.next(M)}notifyComplete(){const M=this.buffer;this.active--,M.length>0?this._next(M.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},95290:(F,U,_)=>{"use strict";_.d(U,{x:()=>o});var E=_(28744);function o(){return function(s){return s.lift(new t(s))}}class t{constructor(s){this.connectable=s}call(s,f){const{connectable:y}=this;y._refCount++;const M=new e(s,y),A=f.subscribe(M);return M.closed||(M.connection=y.connect()),A}}class e extends E.L{constructor(s,f){super(s),this.connectable=f}_unsubscribe(){const{connectable:s}=this;if(!s)return void(this.connection=null);this.connectable=null;const f=s._refCount;if(f<=0)return void(this.connection=null);if(s._refCount=f-1,f>1)return void(this.connection=null);const{connection:y}=this,M=s._connection;this.connection=null,M&&(!y||M===y)&&M.unsubscribe()}}},82564:(F,U,_)=>{"use strict";_.d(U,{B:()=>f});var E=_(30955);var e=_(95290),n=_(6006);function s(){return new n.xQ}function f(){return y=>(0,e.x)()(function(y,M){return function(P){let B;B="function"==typeof y?y:function(){return y};const ne=Object.create(P,E.N);return ne.source=P,ne.subjectFactory=B,ne}}(s)(y))}},41001:(F,U,_)=>{"use strict";_.d(U,{d:()=>xe});var E=_(6006),o=_(25464),e=_(20708);const f=new class extends e.v{}(class extends o.o{constructor(fe,pe){super(fe,pe),this.scheduler=fe,this.work=pe}schedule(fe,pe=0){return pe>0?super.schedule(fe,pe):(this.delay=pe,this.state=fe,this.scheduler.flush(this),this)}execute(fe,pe){return pe>0||this.closed?super.execute(fe,pe):this._execute(fe,pe)}requestAsyncId(fe,pe,ie=0){return null!==ie&&ie>0||null===ie&&this.delay>0?super.requestAsyncId(fe,pe,ie):fe.flush(this)}});var y=_(39734),M=_(28744),A=_(33585);class ne extends M.L{constructor(fe,pe,ie=0){super(fe),this.scheduler=pe,this.delay=ie}static dispatch(fe){const{notification:pe,destination:ie}=fe;pe.observe(ie),this.unsubscribe()}scheduleMessage(fe){this.destination.add(this.scheduler.schedule(ne.dispatch,this.delay,new te(fe,this.destination)))}_next(fe){this.scheduleMessage(A.P.createNext(fe))}_error(fe){this.scheduleMessage(A.P.createError(fe)),this.unsubscribe()}_complete(){this.scheduleMessage(A.P.createComplete()),this.unsubscribe()}}class te{constructor(fe,pe){this.notification=fe,this.destination=pe}}var se=_(67078),de=_(2417);class ae extends E.xQ{constructor(fe=Number.POSITIVE_INFINITY,pe=Number.POSITIVE_INFINITY,ie){super(),this.scheduler=ie,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=fe<1?1:fe,this._windowTime=pe<1?1:pe,pe===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(fe){if(!this.isStopped){const pe=this._events;pe.push(fe),pe.length>this._bufferSize&&pe.shift()}super.next(fe)}nextTimeWindow(fe){this.isStopped||(this._events.push(new Me(this._getNow(),fe)),this._trimBufferThenGetEvents()),super.next(fe)}_subscribe(fe){const pe=this._infiniteTimeWindow,ie=pe?this._events:this._trimBufferThenGetEvents(),ee=this.scheduler,ye=ie.length;let Ce;if(this.closed)throw new se.N;if(this.isStopped||this.hasError?Ce=y.w.EMPTY:(this.observers.push(fe),Ce=new de.W(this,fe)),ee&&fe.add(fe=new ne(fe,ee)),pe)for(let Te=0;Te<ye&&!fe.closed;Te++)fe.next(ie[Te]);else for(let Te=0;Te<ye&&!fe.closed;Te++)fe.next(ie[Te].value);return this.hasError?fe.error(this.thrownError):this.isStopped&&fe.complete(),Ce}_getNow(){return(this.scheduler||f).now()}_trimBufferThenGetEvents(){const fe=this._getNow(),pe=this._bufferSize,ie=this._windowTime,ee=this._events,ye=ee.length;let Ce=0;for(;Ce<ye&&!(fe-ee[Ce].time<ie);)Ce++;return ye>pe&&(Ce=Math.max(Ce,ye-pe)),Ce>0&&ee.splice(0,Ce),ee}}class Me{constructor(fe,pe){this.time=fe,this.value=pe}}function xe(ke,fe,pe){let ie;return ie=ke&&"object"==typeof ke?ke:{bufferSize:ke,windowTime:fe,refCount:!1,scheduler:pe},ee=>ee.lift(function({bufferSize:ke=Number.POSITIVE_INFINITY,windowTime:fe=Number.POSITIVE_INFINITY,refCount:pe,scheduler:ie}){let ee,Ce,ye=0,Te=!1,me=!1;return function(Ze){let Be;ye++,!ee||Te?(Te=!1,ee=new ae(ke,fe,ie),Be=ee.subscribe(this),Ce=Ze.subscribe({next(ot){ee.next(ot)},error(ot){Te=!0,ee.error(ot)},complete(){me=!0,Ce=void 0,ee.complete()}}),me&&(Ce=void 0)):Be=ee.subscribe(this),this.add(()=>{ye--,Be.unsubscribe(),Be=void 0,Ce&&!me&&pe&&0===ye&&(Ce.unsubscribe(),Ce=void 0,ee=void 0)})}}(ie))}},8055:(F,U,_)=>{"use strict";_.d(U,{T:()=>o});var E=_(28744);function o(n){return s=>s.lift(new t(n))}class t{constructor(s){this.total=s}call(s,f){return f.subscribe(new e(s,this.total))}}class e extends E.L{constructor(s,f){super(s),this.total=f,this.count=0}_next(s){++this.count>this.total&&this.destination.next(s)}}},63543:(F,U,_)=>{"use strict";_.d(U,{O:()=>t});var E=_(38895),o=_(97204);function t(...e){const n=e[e.length-1];return(0,o.K)(n)?(e.pop(),s=>(0,E.z)(e,s,n)):s=>(0,E.z)(e,s)}},32812:(F,U,_)=>{"use strict";_.d(U,{w:()=>e});var E=_(88561),o=_(72850),t=_(86790);function e(f,y){return"function"==typeof y?M=>M.pipe(e((A,P)=>(0,o.D)(f(A,P)).pipe((0,E.U)((B,ne)=>y(A,B,P,ne))))):M=>M.lift(new n(f))}class n{constructor(y){this.project=y}call(y,M){return M.subscribe(new s(y,this.project))}}class s extends t.Ds{constructor(y,M){super(y),this.project=M,this.index=0}_next(y){let M;const A=this.index++;try{M=this.project(y,A)}catch(P){return void this.destination.error(P)}this._innerSub(M)}_innerSub(y){const M=this.innerSubscription;M&&M.unsubscribe();const A=new t.IY(this),P=this.destination;P.add(A),this.innerSubscription=(0,t.ft)(y,A),this.innerSubscription!==A&&P.add(this.innerSubscription)}_complete(){const{innerSubscription:y}=this;(!y||y.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(y){this.destination.next(y)}}},59917:(F,U,_)=>{"use strict";_.d(U,{q:()=>e});var E=_(28744),o=_(49862),t=_(23974);function e(f){return y=>0===f?(0,t.c)():y.lift(new n(f))}class n{constructor(y){if(this.total=y,this.total<0)throw new o.W}call(y,M){return M.subscribe(new s(y,this.total))}}class s extends E.L{constructor(y,M){super(y),this.total=M,this.count=0}_next(y){const M=this.total,A=++this.count;A<=M&&(this.destination.next(y),A===M&&(this.destination.complete(),this.unsubscribe()))}}},27194:(F,U,_)=>{"use strict";_.d(U,{R:()=>o});var E=_(86790);function o(n){return s=>s.lift(new t(n))}class t{constructor(s){this.notifier=s}call(s,f){const y=new e(s),M=(0,E.ft)(this.notifier,new E.IY(y));return M&&!y.seenValue?(y.add(M),f.subscribe(y)):y}}class e extends E.Ds{constructor(s){super(s),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},96286:(F,U,_)=>{"use strict";_.d(U,{b:()=>e});var E=_(28744);function o(){}var t=_(13673);function e(f,y,M){return function(P){return P.lift(new n(f,y,M))}}class n{constructor(y,M,A){this.nextOrObserver=y,this.error=M,this.complete=A}call(y,M){return M.subscribe(new s(y,this.nextOrObserver,this.error,this.complete))}}class s extends E.L{constructor(y,M,A,P){super(y),this._tapNext=o,this._tapError=o,this._tapComplete=o,this._tapError=A||o,this._tapComplete=P||o,(0,t.m)(M)?(this._context=this,this._tapNext=M):M&&(this._context=M,this._tapNext=M.next||o,this._tapError=M.error||o,this._tapComplete=M.complete||o)}_next(y){try{this._tapNext.call(this._context,y)}catch(M){return void this.destination.error(M)}this.destination.next(y)}_error(y){try{this._tapError.call(this._context,y)}catch(M){return void this.destination.error(M)}this.destination.error(y)}_complete(){try{this._tapComplete.call(this._context)}catch(y){return void this.destination.error(y)}return this.destination.complete()}}},59112:(F,U,_)=>{"use strict";_.d(U,{r:()=>t});var E=_(93948),o=_(39734);function t(e,n){return new E.y(s=>{const f=new o.w;let y=0;return f.add(n.schedule(function(){y!==e.length?(s.next(e[y++]),s.closed||f.add(this.schedule())):s.complete()})),f})}},25464:(F,U,_)=>{"use strict";_.d(U,{o:()=>t});var E=_(39734);class o extends E.w{constructor(n,s){super()}schedule(n,s=0){return this}}class t extends o{constructor(n,s){super(n,s),this.scheduler=n,this.work=s,this.pending=!1}schedule(n,s=0){if(this.closed)return this;this.state=n;const f=this.id,y=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(y,f,s)),this.pending=!0,this.delay=s,this.id=this.id||this.requestAsyncId(y,this.id,s),this}requestAsyncId(n,s,f=0){return setInterval(n.flush.bind(n,this),f)}recycleAsyncId(n,s,f=0){if(null!==f&&this.delay===f&&!1===this.pending)return s;clearInterval(s)}execute(n,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(n,s);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,s){let y,f=!1;try{this.work(n)}catch(M){f=!0,y=!!M&&M||new Error(M)}if(f)return this.unsubscribe(),y}_unsubscribe(){const n=this.id,s=this.scheduler,f=s.actions,y=f.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==y&&f.splice(y,1),null!=n&&(this.id=this.recycleAsyncId(s,n,null)),this.delay=null}}},20708:(F,U,_)=>{"use strict";_.d(U,{v:()=>o});let E=(()=>{class t{constructor(n,s=t.now){this.SchedulerAction=n,this.now=s}schedule(n,s=0,f){return new this.SchedulerAction(this,n).schedule(f,s)}}return t.now=()=>Date.now(),t})();class o extends E{constructor(e,n=E.now){super(e,()=>o.delegate&&o.delegate!==this?o.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,n=0,s){return o.delegate&&o.delegate!==this?o.delegate.schedule(e,n,s):super.schedule(e,n,s)}flush(e){const{actions:n}=this;if(this.active)return void n.push(e);let s;this.active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,s){for(;e=n.shift();)e.unsubscribe();throw s}}}},13438:(F,U,_)=>{"use strict";_.d(U,{E:()=>P});let E=1;const o=Promise.resolve(),t={};function e(ne){return ne in t&&(delete t[ne],!0)}const n={setImmediate(ne){const te=E++;return t[te]=!0,o.then(()=>e(te)&&ne()),te},clearImmediate(ne){e(ne)}};var f=_(25464),M=_(20708);const P=new class extends M.v{flush(te){this.active=!0,this.scheduled=void 0;const{actions:se}=this;let de,ae=-1,Me=se.length;te=te||se.shift();do{if(de=te.execute(te.state,te.delay))break}while(++ae<Me&&(te=se.shift()));if(this.active=!1,de){for(;++ae<Me&&(te=se.shift());)te.unsubscribe();throw de}}}(class extends f.o{constructor(te,se){super(te,se),this.scheduler=te,this.work=se}requestAsyncId(te,se,de=0){return null!==de&&de>0?super.requestAsyncId(te,se,de):(te.actions.push(this),te.scheduled||(te.scheduled=n.setImmediate(te.flush.bind(te,null))))}recycleAsyncId(te,se,de=0){if(null!==de&&de>0||null===de&&this.delay>0)return super.recycleAsyncId(te,se,de);0===te.actions.length&&(n.clearImmediate(se),te.scheduled=void 0)}})},98846:(F,U,_)=>{"use strict";_.d(U,{P:()=>e});var E=_(25464);const e=new(_(20708).v)(E.o)},65389:(F,U,_)=>{"use strict";_.d(U,{hZ:()=>o});const o="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},27631:(F,U,_)=>{"use strict";_.d(U,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},59754:(F,U,_)=>{"use strict";_.d(U,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},49862:(F,U,_)=>{"use strict";_.d(U,{W:()=>o});const o=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},67078:(F,U,_)=>{"use strict";_.d(U,{N:()=>o});const o=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},63863:(F,U,_)=>{"use strict";function E(o){setTimeout(()=>{throw o},0)}_.d(U,{z:()=>E})},37846:(F,U,_)=>{"use strict";function E(o){return o}_.d(U,{y:()=>E})},69622:(F,U,_)=>{"use strict";_.d(U,{k:()=>E});const E=Array.isArray||(o=>o&&"number"==typeof o.length)},1292:(F,U,_)=>{"use strict";_.d(U,{z:()=>E});const E=o=>o&&"number"==typeof o.length&&"function"!=typeof o},13673:(F,U,_)=>{"use strict";function E(o){return"function"==typeof o}_.d(U,{m:()=>E})},20153:(F,U,_)=>{"use strict";function E(o){return null!==o&&"object"==typeof o}_.d(U,{K:()=>E})},15648:(F,U,_)=>{"use strict";_.d(U,{b:()=>o});var E=_(93948);function o(t){return!!t&&(t instanceof E.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},58253:(F,U,_)=>{"use strict";function E(o){return!!o&&"function"!=typeof o.subscribe&&"function"==typeof o.then}_.d(U,{t:()=>E})},97204:(F,U,_)=>{"use strict";function E(o){return o&&"function"==typeof o.schedule}_.d(U,{K:()=>E})},77040:(F,U,_)=>{"use strict";_.d(U,{s:()=>P});var E=_(54537),o=_(63863),e=_(65389),s=_(27631),y=_(1292),M=_(58253),A=_(20153);const P=B=>{if(B&&"function"==typeof B[s.L])return(B=>ne=>{const te=B[s.L]();if("function"!=typeof te.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return te.subscribe(ne)})(B);if((0,y.z)(B))return(0,E.V)(B);if((0,M.t)(B))return(B=>ne=>(B.then(te=>{ne.closed||(ne.next(te),ne.complete())},te=>ne.error(te)).then(null,o.z),ne))(B);if(B&&"function"==typeof B[e.hZ])return(B=>ne=>{const te=B[e.hZ]();for(;;){let se;try{se=te.next()}catch(de){return ne.error(de),ne}if(se.done){ne.complete();break}if(ne.next(se.value),ne.closed)break}return"function"==typeof te.return&&ne.add(()=>{te.return&&te.return()}),ne})(B);{const te=`You provided ${(0,A.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(te)}}},54537:(F,U,_)=>{"use strict";_.d(U,{V:()=>E});const E=o=>t=>{for(let e=0,n=o.length;e<n&&!t.closed;e++)t.next(o[e]);t.complete()}},970:(F,U,_)=>{"use strict";_.d(U,{d:()=>pe});var E=_(36431),o=_(69622),t=_(28744),e=_(65389),n=_(86790);class f{constructor(ee){this.resultSelector=ee}call(ee,ye){return ye.subscribe(new y(ee,this.resultSelector))}}class y extends t.L{constructor(ee,ye,Ce=Object.create(null)){super(ee),this.resultSelector=ye,this.iterators=[],this.active=0,this.resultSelector="function"==typeof ye?ye:void 0}_next(ee){const ye=this.iterators;(0,o.k)(ee)?ye.push(new A(ee)):ye.push("function"==typeof ee[e.hZ]?new M(ee[e.hZ]()):new P(this.destination,this,ee))}_complete(){const ee=this.iterators,ye=ee.length;if(this.unsubscribe(),0!==ye){this.active=ye;for(let Ce=0;Ce<ye;Ce++){let Te=ee[Ce];Te.stillUnsubscribed?this.destination.add(Te.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const ee=this.iterators,ye=ee.length,Ce=this.destination;for(let ve=0;ve<ye;ve++){let Ze=ee[ve];if("function"==typeof Ze.hasValue&&!Ze.hasValue())return}let Te=!1;const me=[];for(let ve=0;ve<ye;ve++){let Ze=ee[ve],Be=Ze.next();if(Ze.hasCompleted()&&(Te=!0),Be.done)return void Ce.complete();me.push(Be.value)}this.resultSelector?this._tryresultSelector(me):Ce.next(me),Te&&Ce.complete()}_tryresultSelector(ee){let ye;try{ye=this.resultSelector.apply(this,ee)}catch(Ce){return void this.destination.error(Ce)}this.destination.next(ye)}}class M{constructor(ee){this.iterator=ee,this.nextResult=ee.next()}hasValue(){return!0}next(){const ee=this.nextResult;return this.nextResult=this.iterator.next(),ee}hasCompleted(){const ee=this.nextResult;return Boolean(ee&&ee.done)}}class A{constructor(ee){this.array=ee,this.index=0,this.length=0,this.length=ee.length}[e.hZ](){return this}next(ee){const ye=this.index++;return ye<this.length?{value:this.array[ye],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class P extends n.Ds{constructor(ee,ye,Ce){super(ee),this.parent=ye,this.observable=Ce,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[e.hZ](){return this}next(){const ee=this.buffer;return 0===ee.length&&this.isComplete?{value:null,done:!0}:{value:ee.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(ee){this.buffer.push(ee),this.parent.checkIterators()}subscribe(){return(0,n.ft)(this.observable,new n.IY(this))}}var B=_(267),ne=_(90714),te=_(72850),se=_(62615),de=_(96286),ae=_(32812),Me=_(88561),xe=_(76894),we=_(42741),ke=_(31887),fe=_(93124);let pe=(()=>{class ie{constructor(ye,Ce){this.http=ye,this.loadShowUsageService=Ce,this.settings=null,this.linksSwagger=[],this.demoBlocks=[],this.swaggersDict=new Map,this.Init()}Init(){return function(...ie){const ee=ie[ie.length-1];return"function"==typeof ee&&ie.pop(),(0,E.n)(ie,void 0).lift(new f(ee))}(this.getSettings(),this.loadShowUsageService.getSwaggerLinks(),this.loadShowUsageService.getDemoBlocks()).pipe((0,se.g)(2e3),(0,de.b)(([ye,Ce,Te])=>{this.settings=ye,this.linksSwagger=Ce,this.demoBlocks=Te}),(0,ae.w)(()=>this.obtainSwaggers(this.linksSwagger)),(0,ae.w)(()=>(0,B.of)("")))}obtainSwaggers(ye){var Ce=ye.map(me=>this.LoadSwaggersFromUrl(me));return(0,ne.D)(Ce)}LoadSwaggersFromUrl(ye){var Ce=ye.link,Te=ye.id||ye.link,me=new xe.parseData(Ce);return(0,te.D)(me.ParseSwagger()).pipe((0,de.b)(Ze=>{console.log("swagger loaded:"+Ce,Ze),Ze.name=Te,this.swaggersDict.set(Ce,Ze)},Ze=>{console.error("swagger error:"+Ce,Ze)}))}getSettings(){var ye=(new Date).toISOString();return this.http.get(`assets/settings.json?${ye}`,{responseType:"text"}).pipe((0,Me.U)(Ce=>JSON.parse(Ce)))}}return ie.\u0275fac=function(ye){return new(ye||ie)(we.LFG(ke.eN),we.LFG(fe.F))},ie.\u0275prov=we.Yz7({token:ie,factory:ie.\u0275fac}),ie})()},45725:(F,U,_)=>{"use strict";_.d(U,{v:()=>t});var E=_(6006),o=_(42741);let t=(()=>{class e{constructor(){this.sendData=new E.xQ}receiveData(){return this.sendData.asObservable()}sendDataToServer(s,f){this.sendData.next([s,f])}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},80643:(F,U,_)=>{"use strict";_.r(U),_.d(U,{DisplayBlocklyComponent:()=>Xf});var E=_(61921),o=_(7832),t=_(7148),e=_(57470),n=_(39855),s=_(76894),f=_(45149);const M="undefined"==typeof window?function(g){return g()}:window.requestAnimationFrame;function A(g,d,r){const c=r||(C=>Array.prototype.slice.call(C));let h=!1,m=[];return function(...C){m=c(C),h||(h=!0,M.call(window,()=>{h=!1,g.apply(d,m)}))}}const B=g=>"start"===g?"left":"end"===g?"right":"center",ne=(g,d,r)=>"start"===g?d:"end"===g?r:(d+r)/2;function se(){}const de=function(){let g=0;return function(){return g++}}();function ae(g){return null==g}function Me(g){if(Array.isArray&&Array.isArray(g))return!0;const d=Object.prototype.toString.call(g);return"[object"===d.substr(0,7)&&"Array]"===d.substr(-6)}function xe(g){return null!==g&&"[object Object]"===Object.prototype.toString.call(g)}const we=g=>("number"==typeof g||g instanceof Number)&&isFinite(+g);function ke(g,d){return we(g)?g:d}function fe(g,d){return void 0===g?d:g}const ie=(g,d)=>"string"==typeof g&&g.endsWith("%")?parseFloat(g)/100*d:+g;function ee(g,d,r){if(g&&"function"==typeof g.call)return g.apply(r,d)}function ye(g,d,r,c){let h,m,C;if(Me(g))if(m=g.length,c)for(h=m-1;h>=0;h--)d.call(r,g[h],h);else for(h=0;h<m;h++)d.call(r,g[h],h);else if(xe(g))for(C=Object.keys(g),m=C.length,h=0;h<m;h++)d.call(r,g[C[h]],C[h])}function Ce(g,d){let r,c,h,m;if(!g||!d||g.length!==d.length)return!1;for(r=0,c=g.length;r<c;++r)if(h=g[r],m=d[r],h.datasetIndex!==m.datasetIndex||h.index!==m.index)return!1;return!0}function Te(g){if(Me(g))return g.map(Te);if(xe(g)){const d=Object.create(null),r=Object.keys(g),c=r.length;let h=0;for(;h<c;++h)d[r[h]]=Te(g[r[h]]);return d}return g}function me(g){return-1===["__proto__","prototype","constructor"].indexOf(g)}function ve(g,d,r,c){if(!me(g))return;const h=d[g],m=r[g];xe(h)&&xe(m)?Ze(h,m,c):d[g]=Te(m)}function Ze(g,d,r){const c=Me(d)?d:[d],h=c.length;if(!xe(g))return g;const m=(r=r||{}).merger||ve;for(let C=0;C<h;++C){if(!xe(d=c[C]))continue;const D=Object.keys(d);for(let x=0,N=D.length;x<N;++x)m(D[x],g,d,r)}return g}function Be(g,d){return Ze(g,d,{merger:ot})}function ot(g,d,r){if(!me(g))return;const c=d[g],h=r[g];xe(c)&&xe(h)?Be(c,h):Object.prototype.hasOwnProperty.call(d,g)||(d[g]=Te(h))}function tn(g,d){const r=g.indexOf(".",d);return-1===r?g.length:r}function Et(g,d){if(""===d)return g;let r=0,c=tn(d,r);for(;g&&c>r;)g=g[d.substr(r,c-r)],r=c+1,c=tn(d,r);return g}function sn(g){return g.charAt(0).toUpperCase()+g.slice(1)}const rt=g=>void 0!==g,at=g=>"function"==typeof g,zt=Math.PI,$t=2*zt,xn=$t+zt,Kn=Number.POSITIVE_INFINITY,Yn=zt/180,dn=zt/2,It=zt/4,Bt=2*zt/3,Fe=Math.log10,it=Math.sign;function un(g){const d=Math.round(g);g=mt(g,d,g/1e3)?d:g;const r=Math.pow(10,Math.floor(Fe(g))),c=g/r;return(c<=1?1:c<=2?2:c<=5?5:10)*r}function hn(g){return!isNaN(parseFloat(g))&&isFinite(g)}function mt(g,d,r){return Math.abs(g-d)<r}function Je(g,d,r){let c,h,m;for(c=0,h=g.length;c<h;c++)m=g[c][r],isNaN(m)||(d.min=Math.min(d.min,m),d.max=Math.max(d.max,m))}function X(g){return g*(zt/180)}function re(g){return g*(180/zt)}function ze(g){if(!we(g))return;let d=1,r=0;for(;Math.round(g*d)/d!==g;)d*=10,r++;return r}function Ct(g,d){return Math.sqrt(Math.pow(d.x-g.x,2)+Math.pow(d.y-g.y,2))}function yt(g,d){return(g-d+xn)%$t-zt}function Zt(g){return(g%$t+$t)%$t}function wn(g,d,r,c){const h=Zt(g),m=Zt(d),C=Zt(r),D=Zt(m-h),x=Zt(C-h),N=Zt(h-m),Y=Zt(h-C);return h===m||h===C||c&&m===C||D>x&&N<Y}function En(g,d,r){return Math.max(d,Math.min(r,g))}const fn=g=>0===g||1===g,Ut=(g,d,r)=>-Math.pow(2,10*(g-=1))*Math.sin((g-d)*$t/r),on=(g,d,r)=>Math.pow(2,-10*g)*Math.sin((g-d)*$t/r)+1,tt={linear:g=>g,easeInQuad:g=>g*g,easeOutQuad:g=>-g*(g-2),easeInOutQuad:g=>(g/=.5)<1?.5*g*g:-.5*(--g*(g-2)-1),easeInCubic:g=>g*g*g,easeOutCubic:g=>(g-=1)*g*g+1,easeInOutCubic:g=>(g/=.5)<1?.5*g*g*g:.5*((g-=2)*g*g+2),easeInQuart:g=>g*g*g*g,easeOutQuart:g=>-((g-=1)*g*g*g-1),easeInOutQuart:g=>(g/=.5)<1?.5*g*g*g*g:-.5*((g-=2)*g*g*g-2),easeInQuint:g=>g*g*g*g*g,easeOutQuint:g=>(g-=1)*g*g*g*g+1,easeInOutQuint:g=>(g/=.5)<1?.5*g*g*g*g*g:.5*((g-=2)*g*g*g*g+2),easeInSine:g=>1-Math.cos(g*dn),easeOutSine:g=>Math.sin(g*dn),easeInOutSine:g=>-.5*(Math.cos(zt*g)-1),easeInExpo:g=>0===g?0:Math.pow(2,10*(g-1)),easeOutExpo:g=>1===g?1:1-Math.pow(2,-10*g),easeInOutExpo:g=>fn(g)?g:g<.5?.5*Math.pow(2,10*(2*g-1)):.5*(2-Math.pow(2,-10*(2*g-1))),easeInCirc:g=>g>=1?g:-(Math.sqrt(1-g*g)-1),easeOutCirc:g=>Math.sqrt(1-(g-=1)*g),easeInOutCirc:g=>(g/=.5)<1?-.5*(Math.sqrt(1-g*g)-1):.5*(Math.sqrt(1-(g-=2)*g)+1),easeInElastic:g=>fn(g)?g:Ut(g,.075,.3),easeOutElastic:g=>fn(g)?g:on(g,.075,.3),easeInOutElastic(g){const d=.1125;return fn(g)?g:g<.5?.5*Ut(2*g,d,.45):.5+.5*on(2*g-1,d,.45)},easeInBack(g){const d=1.70158;return g*g*((d+1)*g-d)},easeOutBack(g){const d=1.70158;return(g-=1)*g*((d+1)*g+d)+1},easeInOutBack(g){let d=1.70158;return(g/=.5)<1?g*g*((1+(d*=1.525))*g-d)*.5:.5*((g-=2)*g*((1+(d*=1.525))*g+d)+2)},easeInBounce:g=>1-tt.easeOutBounce(1-g),easeOutBounce(g){const d=7.5625,r=2.75;return g<1/r?d*g*g:g<2/r?d*(g-=1.5/r)*g+.75:g<2.5/r?d*(g-=2.25/r)*g+.9375:d*(g-=2.625/r)*g+.984375},easeInOutBounce:g=>g<.5?.5*tt.easeInBounce(2*g):.5*tt.easeOutBounce(2*g-1)+.5},xt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rn="0123456789ABCDEF",Cn=g=>rn[15&g],qn=g=>rn[(240&g)>>4]+rn[15&g],zn=g=>(240&g)>>4==(15&g);function At(g){return g+.5|0}const Oe=(g,d,r)=>Math.max(Math.min(g,r),d);function je(g){return Oe(At(2.55*g),0,255)}function We(g){return Oe(At(255*g),0,255)}function bt(g){return Oe(At(g/2.55)/100,0,1)}function Qt(g){return Oe(At(100*g),0,100)}const Nn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Ki=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tr(g,d,r){const c=d*Math.min(r,1-r),h=(m,C=(m+g/30)%12)=>r-c*Math.max(Math.min(C-3,9-C,1),-1);return[h(0),h(8),h(4)]}function Bi(g,d,r){const c=(h,m=(h+g/60)%6)=>r-r*d*Math.max(Math.min(m,4-m,1),0);return[c(5),c(3),c(1)]}function Di(g,d,r){const c=tr(g,1,.5);let h;for(d+r>1&&(h=1/(d+r),d*=h,r*=h),h=0;h<3;h++)c[h]*=1-d-r,c[h]+=d;return c}function Cr(g){const r=g.r/255,c=g.g/255,h=g.b/255,m=Math.max(r,c,h),C=Math.min(r,c,h),D=(m+C)/2;let x,N,Y;return m!==C&&(Y=m-C,N=D>.5?Y/(2-m-C):Y/(m+C),x=m===r?(c-h)/Y+(c<h?6:0):m===c?(h-r)/Y+2:(r-c)/Y+4,x=60*x+.5),[0|x,N||0,D]}function Tr(g,d,r,c){return(Array.isArray(d)?g(d[0],d[1],d[2]):g(d,r,c)).map(We)}function Qr(g,d,r){return Tr(tr,g,d,r)}function gi(g){return(g%360+360)%360}const Ai={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let uo;function pi(g,d,r){if(g){let c=Cr(g);c[d]=Math.max(0,Math.min(c[d]+c[d]*r,0===d?360:1)),c=Qr(c),g.r=c[0],g.g=c[1],g.b=c[2]}}function Gt(g,d){return g&&Object.assign(d||{},g)}function Pt(g){var d={r:0,g:0,b:0,a:255};return Array.isArray(g)?g.length>=3&&(d={r:g[0],g:g[1],b:g[2],a:255},g.length>3&&(d.a=We(g[3]))):(d=Gt(g,{r:0,g:0,b:0,a:1})).a=We(d.a),d}function pt(g){return"r"===g.charAt(0)?function(g){const d=Nn.exec(g);let c,h,m,r=255;if(d){if(d[7]!==c){const C=+d[7];r=255&(d[8]?je(C):255*C)}return c=+d[1],h=+d[3],m=+d[5],c=255&(d[2]?je(c):c),h=255&(d[4]?je(h):h),m=255&(d[6]?je(m):m),{r:c,g:h,b:m,a:r}}}(g):function(g){const d=Ki.exec(g);let c,r=255;if(!d)return;d[5]!==c&&(r=d[6]?je(+d[5]):We(+d[5]));const h=gi(+d[2]),m=+d[3]/100,C=+d[4]/100;return c="hwb"===d[1]?function(g,d,r){return Tr(Di,g,d,r)}(h,m,C):"hsv"===d[1]?function(g,d,r){return Tr(Bi,g,d,r)}(h,m,C):Qr(h,m,C),{r:c[0],g:c[1],b:c[2],a:r}}(g)}class qt{constructor(d){if(d instanceof qt)return d;const r=typeof d;let c;"object"===r?c=Pt(d):"string"===r&&(c=function(g){var r,d=g.length;return"#"===g[0]&&(4===d||5===d?r={r:255&17*xt[g[1]],g:255&17*xt[g[2]],b:255&17*xt[g[3]],a:5===d?17*xt[g[4]]:255}:(7===d||9===d)&&(r={r:xt[g[1]]<<4|xt[g[2]],g:xt[g[3]]<<4|xt[g[4]],b:xt[g[5]]<<4|xt[g[6]],a:9===d?xt[g[7]]<<4|xt[g[8]]:255})),r}(d)||function(g){uo||(uo=function(){const g={},d=Object.keys(kr),r=Object.keys(Ai);let c,h,m,C,D;for(c=0;c<d.length;c++){for(C=D=d[c],h=0;h<r.length;h++)m=r[h],D=D.replace(m,Ai[m]);m=parseInt(kr[C],16),g[D]=[m>>16&255,m>>8&255,255&m]}return g}(),uo.transparent=[0,0,0,0]);const d=uo[g.toLowerCase()];return d&&{r:d[0],g:d[1],b:d[2],a:4===d.length?d[3]:255}}(d)||pt(d)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var d=Gt(this._rgb);return d&&(d.a=bt(d.a)),d}set rgb(d){this._rgb=Pt(d)}rgbString(){return this._valid?(g=this._rgb)&&(g.a<255?`rgba(${g.r}, ${g.g}, ${g.b}, ${bt(g.a)})`:`rgb(${g.r}, ${g.g}, ${g.b})`):this._rgb;var g}hexString(){return this._valid?(d=function(g){return zn(g.r)&&zn(g.g)&&zn(g.b)&&zn(g.a)}(g=this._rgb)?Cn:qn,g&&"#"+d(g.r)+d(g.g)+d(g.b)+(g.a<255?d(g.a):"")):this._rgb;var g,d}hslString(){return this._valid?function(g){if(!g)return;const d=Cr(g),r=d[0],c=Qt(d[1]),h=Qt(d[2]);return g.a<255?`hsla(${r}, ${c}%, ${h}%, ${bt(g.a)})`:`hsl(${r}, ${c}%, ${h}%)`}(this._rgb):this._rgb}mix(d,r){const c=this;if(d){const h=c.rgb,m=d.rgb;let C;const D=r===C?.5:r,x=2*D-1,N=h.a-m.a,Y=((x*N==-1?x:(x+N)/(1+x*N))+1)/2;C=1-Y,h.r=255&Y*h.r+C*m.r+.5,h.g=255&Y*h.g+C*m.g+.5,h.b=255&Y*h.b+C*m.b+.5,h.a=D*h.a+(1-D)*m.a,c.rgb=h}return c}clone(){return new qt(this.rgb)}alpha(d){return this._rgb.a=We(d),this}clearer(d){return this._rgb.a*=1-d,this}greyscale(){const d=this._rgb,r=At(.3*d.r+.59*d.g+.11*d.b);return d.r=d.g=d.b=r,this}opaquer(d){return this._rgb.a*=1+d,this}negate(){const d=this._rgb;return d.r=255-d.r,d.g=255-d.g,d.b=255-d.b,this}lighten(d){return pi(this._rgb,2,d),this}darken(d){return pi(this._rgb,2,-d),this}saturate(d){return pi(this._rgb,1,d),this}desaturate(d){return pi(this._rgb,1,-d),this}rotate(d){return function(g,d){var r=Cr(g);r[0]=gi(r[0]+d),r=Qr(r),g.r=r[0],g.g=r[1],g.b=r[2]}(this._rgb,d),this}}function _n(g){return new qt(g)}const ii=g=>g instanceof CanvasGradient||g instanceof CanvasPattern;function fi(g){return ii(g)?g:_n(g)}function Ii(g){return ii(g)?g:_n(g).saturate(.5).darken(.1).hexString()}const ai=Object.create(null),ro=Object.create(null);function Uo(g,d){if(!d)return g;const r=d.split(".");for(let c=0,h=r.length;c<h;++c){const m=r[c];g=g[m]||(g[m]=Object.create(null))}return g}function ho(g,d,r){return"string"==typeof d?Ze(Uo(g,d),r):Ze(Uo(g,""),d)}var di=new class{constructor(d){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,c)=>Ii(c.backgroundColor),this.hoverBorderColor=(r,c)=>Ii(c.borderColor),this.hoverColor=(r,c)=>Ii(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(d)}set(d,r){return ho(this,d,r)}get(d){return Uo(this,d)}describe(d,r){return ho(ro,d,r)}override(d,r){return ho(ai,d,r)}route(d,r,c,h){const m=Uo(this,d),C=Uo(this,c),D="_"+r;Object.defineProperties(m,{[D]:{value:m[r],writable:!0},[r]:{enumerable:!0,get(){const x=this[D],N=C[h];return xe(x)?Object.assign({},N,x):fe(x,N)},set(x){this[D]=x}}})}}({_scriptable:g=>!g.startsWith("on"),_indexable:g=>"events"!==g,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Pr(g,d,r,c,h){let m=d[h];return m||(m=d[h]=g.measureText(h).width,r.push(h)),m>c&&(c=m),c}function Mr(g,d,r,c){let h=(c=c||{}).data=c.data||{},m=c.garbageCollect=c.garbageCollect||[];c.font!==d&&(h=c.data={},m=c.garbageCollect=[],c.font=d),g.save(),g.font=d;let C=0;const D=r.length;let x,N,Y,le,De;for(x=0;x<D;x++)if(le=r[x],null!=le&&!0!==Me(le))C=Pr(g,h,m,C,le);else if(Me(le))for(N=0,Y=le.length;N<Y;N++)De=le[N],null!=De&&!Me(De)&&(C=Pr(g,h,m,C,De));g.restore();const Ve=m.length/2;if(Ve>r.length){for(x=0;x<Ve;x++)delete h[m[x]];m.splice(0,Ve)}return C}function xo(g,d,r){const c=g.currentDevicePixelRatio,h=0!==r?Math.max(r/2,.5):0;return Math.round((d-h)*c)/c+h}function zr(g,d){(d=d||g.getContext("2d")).save(),d.resetTransform(),d.clearRect(0,0,g.width,g.height),d.restore()}function ur(g,d,r,c){let h,m,C,D,x;const N=d.pointStyle,Y=d.rotation,le=d.radius;let De=(Y||0)*Yn;if(N&&"object"==typeof N&&(h=N.toString(),"[object HTMLImageElement]"===h||"[object HTMLCanvasElement]"===h))return g.save(),g.translate(r,c),g.rotate(De),g.drawImage(N,-N.width/2,-N.height/2,N.width,N.height),void g.restore();if(!(isNaN(le)||le<=0)){switch(g.beginPath(),N){default:g.arc(r,c,le,0,$t),g.closePath();break;case"triangle":g.moveTo(r+Math.sin(De)*le,c-Math.cos(De)*le),De+=Bt,g.lineTo(r+Math.sin(De)*le,c-Math.cos(De)*le),De+=Bt,g.lineTo(r+Math.sin(De)*le,c-Math.cos(De)*le),g.closePath();break;case"rectRounded":x=.516*le,D=le-x,m=Math.cos(De+It)*D,C=Math.sin(De+It)*D,g.arc(r-m,c-C,x,De-zt,De-dn),g.arc(r+C,c-m,x,De-dn,De),g.arc(r+m,c+C,x,De,De+dn),g.arc(r-C,c+m,x,De+dn,De+zt),g.closePath();break;case"rect":if(!Y){D=Math.SQRT1_2*le,g.rect(r-D,c-D,2*D,2*D);break}De+=It;case"rectRot":m=Math.cos(De)*le,C=Math.sin(De)*le,g.moveTo(r-m,c-C),g.lineTo(r+C,c-m),g.lineTo(r+m,c+C),g.lineTo(r-C,c+m),g.closePath();break;case"crossRot":De+=It;case"cross":m=Math.cos(De)*le,C=Math.sin(De)*le,g.moveTo(r-m,c-C),g.lineTo(r+m,c+C),g.moveTo(r+C,c-m),g.lineTo(r-C,c+m);break;case"star":m=Math.cos(De)*le,C=Math.sin(De)*le,g.moveTo(r-m,c-C),g.lineTo(r+m,c+C),g.moveTo(r+C,c-m),g.lineTo(r-C,c+m),De+=It,m=Math.cos(De)*le,C=Math.sin(De)*le,g.moveTo(r-m,c-C),g.lineTo(r+m,c+C),g.moveTo(r+C,c-m),g.lineTo(r-C,c+m);break;case"line":m=Math.cos(De)*le,C=Math.sin(De)*le,g.moveTo(r-m,c-C),g.lineTo(r+m,c+C);break;case"dash":g.moveTo(r,c),g.lineTo(r+Math.cos(De)*le,c+Math.sin(De)*le)}g.fill(),d.borderWidth>0&&g.stroke()}}function Yr(g,d,r){return r=r||.5,!d||g&&g.x>d.left-r&&g.x<d.right+r&&g.y>d.top-r&&g.y<d.bottom+r}function Lr(g,d){g.save(),g.beginPath(),g.rect(d.left,d.top,d.right-d.left,d.bottom-d.top),g.clip()}function fo(g){g.restore()}function wo(g,d,r,c,h){if(!d)return g.lineTo(r.x,r.y);if("middle"===h){const m=(d.x+r.x)/2;g.lineTo(m,d.y),g.lineTo(m,r.y)}else"after"===h!=!!c?g.lineTo(d.x,r.y):g.lineTo(r.x,d.y);g.lineTo(r.x,r.y)}function oo(g,d,r,c){if(!d)return g.lineTo(r.x,r.y);g.bezierCurveTo(c?d.cp1x:d.cp2x,c?d.cp1y:d.cp2y,c?r.cp2x:r.cp1x,c?r.cp2y:r.cp1y,r.x,r.y)}function ar(g,d,r,c,h,m={}){const C=Me(d)?d:[d],D=m.strokeWidth>0&&""!==m.strokeColor;let x,N;for(g.save(),g.font=h.string,function(g,d){d.translation&&g.translate(d.translation[0],d.translation[1]),ae(d.rotation)||g.rotate(d.rotation),d.color&&(g.fillStyle=d.color),d.textAlign&&(g.textAlign=d.textAlign),d.textBaseline&&(g.textBaseline=d.textBaseline)}(g,m),x=0;x<C.length;++x)N=C[x],D&&(m.strokeColor&&(g.strokeStyle=m.strokeColor),ae(m.strokeWidth)||(g.lineWidth=m.strokeWidth),g.strokeText(N,r,c,m.maxWidth)),g.fillText(N,r,c,m.maxWidth),Ps(g,r,c,N,m),c+=h.lineHeight;g.restore()}function Ps(g,d,r,c,h){if(h.strikethrough||h.underline){const m=g.measureText(c),C=d-m.actualBoundingBoxLeft,D=d+m.actualBoundingBoxRight,x=r-m.actualBoundingBoxAscent,N=r+m.actualBoundingBoxDescent,Y=h.strikethrough?(x+N)/2:N;g.strokeStyle=g.fillStyle,g.beginPath(),g.lineWidth=h.decorationWidth||2,g.moveTo(C,Y),g.lineTo(D,Y),g.stroke()}}function Po(g,d){const{x:r,y:c,w:h,h:m,radius:C}=d;g.arc(r+C.topLeft,c+C.topLeft,C.topLeft,-dn,zt,!0),g.lineTo(r,c+m-C.bottomLeft),g.arc(r+C.bottomLeft,c+m-C.bottomLeft,C.bottomLeft,zt,dn,!0),g.lineTo(r+h-C.bottomRight,c+m),g.arc(r+h-C.bottomRight,c+m-C.bottomRight,C.bottomRight,dn,0,!0),g.lineTo(r+h,c+C.topRight),g.arc(r+h-C.topRight,c+C.topRight,C.topRight,0,-dn,!0),g.lineTo(r+C.topLeft,c)}const ss=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),na=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function pa(g,d){const r=(""+g).match(ss);if(!r||"normal"===r[1])return 1.2*d;switch(g=+r[2],r[3]){case"px":return g;case"%":g/=100}return d*g}const fa=g=>+g||0;function vs(g,d){const r={},c=xe(d),h=c?Object.keys(d):d,m=xe(g)?c?C=>fe(g[C],g[d[C]]):C=>g[C]:()=>g;for(const C of h)r[C]=fa(m(C));return r}function ga(g){return vs(g,{top:"y",right:"x",bottom:"y",left:"x"})}function Wr(g){return vs(g,["topLeft","topRight","bottomLeft","bottomRight"])}function lr(g){const d=ga(g);return d.width=d.left+d.right,d.height=d.top+d.bottom,d}function _r(g,d){let r=fe((g=g||{}).size,(d=d||di.font).size);"string"==typeof r&&(r=parseInt(r,10));let c=fe(g.style,d.style);c&&!(""+c).match(na)&&(console.warn('Invalid font style specified: "'+c+'"'),c="");const h={family:fe(g.family,d.family),lineHeight:pa(fe(g.lineHeight,d.lineHeight),r),size:r,style:c,weight:fe(g.weight,d.weight),string:""};return h.string=function(g){return!g||ae(g.size)||ae(g.family)?null:(g.style?g.style+" ":"")+(g.weight?g.weight+" ":"")+g.size+"px "+g.family}(h),h}function Ls(g,d,r,c){let m,C,D,h=!0;for(m=0,C=g.length;m<C;++m)if(D=g[m],void 0!==D&&(void 0!==d&&"function"==typeof D&&(D=D(d),h=!1),void 0!==r&&Me(D)&&(D=D[r%D.length],h=!1),void 0!==D))return c&&!h&&(c.cacheable=!1),D}function Lo(g,d){return Object.assign(Object.create(g),d)}function ls(g,d,r){r=r||(C=>g[C]<d);let m,c=g.length-1,h=0;for(;c-h>1;)m=h+c>>1,r(m)?h=m:c=m;return{lo:h,hi:c}}const so=(g,d,r)=>ls(g,r,c=>g[c][d]<r),bs=(g,d,r)=>ls(g,r,c=>g[c][d]>=r),Js=["push","pop","shift","splice","unshift"];function Io(g,d){const r=g._chartjs;if(!r)return;const c=r.listeners,h=c.indexOf(d);-1!==h&&c.splice(h,1),!(c.length>0)&&(Js.forEach(m=>{delete g[m]}),delete g._chartjs)}function ra(g){const d=new Set;let r,c;for(r=0,c=g.length;r<c;++r)d.add(g[r]);return d.size===c?g:Array.from(d)}function No(g,d=[""],r=g,c,h=(()=>g[0])){rt(c)||(c=be("_fallback",g));const m={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:g,_rootScopes:r,_fallback:c,_getTarget:h,override:C=>No([C,...g],d,r,c)};return new Proxy(m,{deleteProperty:(C,D)=>(delete C[D],delete C._keys,delete g[0][D],!0),get:(C,D)=>br(C,D,()=>function(g,d,r,c){let h;for(const m of d)if(h=be(vr(m,g),r),rt(h))return Fo(g,h)?Wo(r,c,g,h):h}(D,d,g,C)),getOwnPropertyDescriptor:(C,D)=>Reflect.getOwnPropertyDescriptor(C._scopes[0],D),getPrototypeOf:()=>Reflect.getPrototypeOf(g[0]),has:(C,D)=>Ye(C).includes(D),ownKeys:C=>Ye(C),set:(C,D,x)=>((C._storage||(C._storage=h()))[D]=x,delete C[D],delete C._keys,!0)})}function pr(g,d,r,c){const h={_cacheable:!1,_proxy:g,_context:d,_subProxy:r,_stack:new Set,_descriptors:Zo(g,c),setContext:m=>pr(g,m,r,c),override:m=>pr(g.override(m),d,r,c)};return new Proxy(h,{deleteProperty:(m,C)=>(delete m[C],delete g[C],!0),get:(m,C,D)=>br(m,C,()=>function(g,d,r){const{_proxy:c,_context:h,_subProxy:m,_descriptors:C}=g;let D=c[d];return at(D)&&C.isScriptable(d)&&(D=function(g,d,r,c){const{_proxy:h,_context:m,_subProxy:C,_stack:D}=r;if(D.has(g))throw new Error("Recursion detected: "+Array.from(D).join("->")+"->"+g);return D.add(g),d=d(m,C||c),D.delete(g),xe(d)&&(d=Wo(h._scopes,h,g,d)),d}(d,D,g,r)),Me(D)&&D.length&&(D=function(g,d,r,c){const{_proxy:h,_context:m,_subProxy:C,_descriptors:D}=r;if(rt(m.index)&&c(g))d=d[m.index%d.length];else if(xe(d[0])){const x=d,N=h._scopes.filter(Y=>Y!==x);d=[];for(const Y of x){const le=Wo(N,h,g,Y);d.push(pr(le,m,C&&C[g],D))}}return d}(d,D,g,C.isIndexable)),Fo(d,D)&&(D=pr(D,h,m&&m[d],C)),D}(m,C,D)),getOwnPropertyDescriptor:(m,C)=>m._descriptors.allKeys?Reflect.has(g,C)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(g,C),getPrototypeOf:()=>Reflect.getPrototypeOf(g),has:(m,C)=>Reflect.has(g,C),ownKeys:()=>Reflect.ownKeys(g),set:(m,C,D)=>(g[C]=D,delete m[C],!0)})}function Zo(g,d={scriptable:!0,indexable:!0}){const{_scriptable:r=d.scriptable,_indexable:c=d.indexable,_allKeys:h=d.allKeys}=g;return{allKeys:h,scriptable:r,indexable:c,isScriptable:at(r)?r:()=>r,isIndexable:at(c)?c:()=>c}}const vr=(g,d)=>g?g+sn(d):d,Fo=(g,d)=>xe(d)&&"adapters"!==g;function br(g,d,r){if(Object.prototype.hasOwnProperty.call(g,d))return g[d];const c=r();return g[d]=c,c}function Nr(g,d,r){return at(g)?g(d,r):g}const ys=(g,d)=>!0===g?d:"string"==typeof g?Et(d,g):void 0;function Bs(g,d,r,c){for(const h of d){const m=ys(r,h);if(m){g.add(m);const C=Nr(m._fallback,r,m);if(rt(C)&&C!==r&&C!==c)return C}else if(!1===m&&rt(c)&&r!==c)return null}return!1}function Wo(g,d,r,c){const h=d._rootScopes,m=Nr(d._fallback,r,c),C=[...g,...h],D=new Set;D.add(c);let x=ma(D,C,r,m||r);return!(null===x||rt(m)&&m!==r&&(x=ma(D,C,m,x),null===x))&&No(Array.from(D),[""],h,m,()=>function(g,d,r){const c=g._getTarget();d in c||(c[d]={});const h=c[d];return Me(h)&&xe(r)?r:h}(d,r,c))}function ma(g,d,r,c){for(;r;)r=Bs(g,d,r,c);return r}function be(g,d){for(const r of d){if(!r)continue;const c=r[g];if(rt(c))return c}}function Ye(g){let d=g._keys;return d||(d=g._keys=function(g){const d=new Set;for(const r of g)for(const c of Object.keys(r).filter(h=>!h.startsWith("_")))d.add(c);return Array.from(d)}(g._scopes)),d}const K=Number.EPSILON||1e-14,$=(g,d)=>d<g.length&&!g[d].skip&&g[d],q=g=>"x"===g?"y":"x";function Pe(g,d,r,c){const h=g.skip?d:g,m=d,C=r.skip?d:r,D=Ct(m,h),x=Ct(C,m);let N=D/(D+x),Y=x/(D+x);N=isNaN(N)?0:N,Y=isNaN(Y)?0:Y;const le=c*N,De=c*Y;return{previous:{x:m.x-le*(C.x-h.x),y:m.y-le*(C.y-h.y)},next:{x:m.x+De*(C.x-h.x),y:m.y+De*(C.y-h.y)}}}function Ui(g,d,r){return Math.max(Math.min(g,r),d)}function cr(g,d,r,c,h){let m,C,D,x;if(d.spanGaps&&(g=g.filter(N=>!N.skip)),"monotone"===d.cubicInterpolationMode)!function(g,d="x"){const r=q(d),c=g.length,h=Array(c).fill(0),m=Array(c);let C,D,x,N=$(g,0);for(C=0;C<c;++C)if(D=x,x=N,N=$(g,C+1),x){if(N){const Y=N[d]-x[d];h[C]=0!==Y?(N[r]-x[r])/Y:0}m[C]=D?N?it(h[C-1])!==it(h[C])?0:(h[C-1]+h[C])/2:h[C-1]:h[C]}(function(g,d,r){const c=g.length;let h,m,C,D,x,N=$(g,0);for(let Y=0;Y<c-1;++Y)if(x=N,N=$(g,Y+1),x&&N){if(mt(d[Y],0,K)){r[Y]=r[Y+1]=0;continue}h=r[Y]/d[Y],m=r[Y+1]/d[Y],D=Math.pow(h,2)+Math.pow(m,2),!(D<=9)&&(C=3/Math.sqrt(D),r[Y]=h*C*d[Y],r[Y+1]=m*C*d[Y])}})(g,h,m),function(g,d,r="x"){const c=q(r),h=g.length;let m,C,D,x=$(g,0);for(let N=0;N<h;++N){if(C=D,D=x,x=$(g,N+1),!D)continue;const Y=D[r],le=D[c];C&&(m=(Y-C[r])/3,D[`cp1${r}`]=Y-m,D[`cp1${c}`]=le-m*d[N]),x&&(m=(x[r]-Y)/3,D[`cp2${r}`]=Y+m,D[`cp2${c}`]=le+m*d[N])}}(g,m,d)}(g,h);else{let N=c?g[g.length-1]:g[0];for(m=0,C=g.length;m<C;++m)D=g[m],x=Pe(N,D,g[Math.min(m+1,C-(c?0:1))%C],d.tension),D.cp1x=x.previous.x,D.cp1y=x.previous.y,D.cp2x=x.next.x,D.cp2y=x.next.y,N=D}d.capBezierPoints&&function(g,d){let r,c,h,m,C,D=Yr(g[0],d);for(r=0,c=g.length;r<c;++r)C=m,m=D,D=r<c-1&&Yr(g[r+1],d),m&&(h=g[r],C&&(h.cp1x=Ui(h.cp1x,d.left,d.right),h.cp1y=Ui(h.cp1y,d.top,d.bottom)),D&&(h.cp2x=Ui(h.cp2x,d.left,d.right),h.cp2y=Ui(h.cp2y,d.top,d.bottom)))}(g,r)}function fr(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Br(g){let d=g.parentNode;return d&&"[object ShadowRoot]"===d.toString()&&(d=d.host),d}function Hs(g,d,r){let c;return"string"==typeof g?(c=parseInt(g,10),-1!==g.indexOf("%")&&(c=c/100*d.parentNode[r])):c=g,c}const Hr=g=>window.getComputedStyle(g,null),us=["top","right","bottom","left"];function ci(g,d,r){const c={};r=r?"-"+r:"";for(let h=0;h<4;h++){const m=us[h];c[m]=parseFloat(g[d+"-"+m+r])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}function tl(g,d){const{canvas:r,currentDevicePixelRatio:c}=d,h=Hr(r),m="border-box"===h.boxSizing,C=ci(h,"padding"),D=ci(h,"border","width"),{x,y:N,box:Y}=function(g,d){const r=g.native||g,c=r.touches,h=c&&c.length?c[0]:r,{offsetX:m,offsetY:C}=h;let x,N,D=!1;if(((g,d,r)=>(g>0||d>0)&&(!r||!r.shadowRoot))(m,C,r.target))x=m,N=C;else{const Y=d.getBoundingClientRect();x=h.clientX-Y.left,N=h.clientY-Y.top,D=!0}return{x,y:N,box:D}}(g,r),le=C.left+(Y&&D.left),De=C.top+(Y&&D.top);let{width:Ve,height:nt}=d;return m&&(Ve-=C.width+D.width,nt-=C.height+D.height),{x:Math.round((x-le)/Ve*r.width/c),y:Math.round((N-De)/nt*r.height/c)}}const Ua=g=>Math.round(10*g)/10;function Es(g,d,r){const c=d||1,h=Math.floor(g.height*c),m=Math.floor(g.width*c);g.height=h/c,g.width=m/c;const C=g.canvas;return C.style&&(r||!C.style.height&&!C.style.width)&&(C.style.height=`${g.height}px`,C.style.width=`${g.width}px`),(g.currentDevicePixelRatio!==c||C.height!==h||C.width!==m)&&(g.currentDevicePixelRatio=c,C.height=h,C.width=m,g.ctx.setTransform(c,0,0,c,0,0),!0)}const In=function(){let g=!1;try{const d={get passive(){return g=!0,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch(d){}return g}();function Mi(g,d){const r=function(g,d){return Hr(g).getPropertyValue(d)}(g,d),c=r&&r.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function qo(g,d,r,c){return{x:g.x+r*(d.x-g.x),y:g.y+r*(d.y-g.y)}}function Kr(g,d,r,c){return{x:g.x+r*(d.x-g.x),y:"middle"===c?r<.5?g.y:d.y:"after"===c?r<1?g.y:d.y:r>0?d.y:g.y}}function Cs(g,d,r,c){const h={x:g.cp2x,y:g.cp2y},m={x:d.cp1x,y:d.cp1y},C=qo(g,h,r),D=qo(h,m,r),x=qo(m,d,r),N=qo(C,D,r),Y=qo(D,x,r);return qo(N,Y,r)}const va=new Map;function He(g,d,r){return function(g,d){d=d||{};const r=g+JSON.stringify(d);let c=va.get(r);return c||(c=new Intl.NumberFormat(g,d),va.set(r,c)),c}(d,r).format(g)}function he(g,d,r){return g?function(g,d){return{x:r=>g+g+d-r,setWidth(r){d=r},textAlign:r=>"center"===r?r:"right"===r?"left":"right",xPlus:(r,c)=>r-c,leftForLtr:(r,c)=>r-c}}(d,r):{x:g=>g,setWidth(g){},textAlign:g=>g,xPlus:(g,d)=>g+d,leftForLtr:(g,d)=>g}}function Ue(g,d){let r,c;("ltr"===d||"rtl"===d)&&(r=g.canvas.style,c=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",d,"important"),g.prevTextDirection=c)}function et(g,d){void 0!==d&&(delete g.prevTextDirection,g.canvas.style.setProperty("direction",d[0],d[1]))}function gt(g){return"angle"===g?{between:wn,compare:yt,normalize:Zt}:{between:(d,r,c)=>d>=Math.min(r,c)&&d<=Math.max(c,r),compare:(d,r)=>d-r,normalize:d=>d}}function St({start:g,end:d,count:r,loop:c,style:h}){return{start:g%r,end:d%r,loop:c&&(d-g+1)%r==0,style:h}}function vn(g,d,r){if(!r)return[g];const{property:c,start:h,end:m}=r,C=d.length,{compare:D,between:x,normalize:N}=gt(c),{start:Y,end:le,loop:De,style:Ve}=function(g,d,r){const{property:c,start:h,end:m}=r,{between:C,normalize:D}=gt(c),x=d.length;let De,Ve,{start:N,end:Y,loop:le}=g;if(le){for(N+=x,Y+=x,De=0,Ve=x;De<Ve&&C(D(d[N%x][c]),h,m);++De)N--,Y--;N%=x,Y%=x}return Y<N&&(Y+=x),{start:N,end:Y,loop:le,style:g.style}}(g,d,r),nt=[];let Mt,ln,Un,dt=!1,_t=null;for(let Jn=Y,si=Y;Jn<=le;++Jn)ln=d[Jn%C],!ln.skip&&(Mt=N(ln[c]),Mt!==Un&&(dt=x(Mt,h,m),null===_t&&(dt||x(h,Un,Mt)&&0!==D(h,Un))&&(_t=0===D(Mt,h)?Jn:si),null!==_t&&(!dt||0===D(m,Mt)||x(m,Un,Mt))&&(nt.push(St({start:_t,end:Jn,loop:De,count:C,style:Ve})),_t=null),si=Jn,Un=Mt));return null!==_t&&nt.push(St({start:_t,end:le,loop:De,count:C,style:Ve})),nt}function Hn(g,d){const r=[],c=g.segments;for(let h=0;h<c.length;h++){const m=vn(c[h],g.points,d);m.length&&r.push(...m)}return r}function Hi(g){return{backgroundColor:g.backgroundColor,borderCapStyle:g.borderCapStyle,borderDash:g.borderDash,borderDashOffset:g.borderDashOffset,borderJoinStyle:g.borderJoinStyle,borderWidth:g.borderWidth,borderColor:g.borderColor}}function Rr(g,d){return d&&JSON.stringify(g)!==JSON.stringify(d)}var xr=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(d,r,c,h){const C=r.duration;r.listeners[h].forEach(D=>D({chart:d,initial:r.initial,numSteps:C,currentStep:Math.min(c-r.start,C)}))}_refresh(){this._request||(this._running=!0,this._request=M.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(d=Date.now()){let r=0;this._charts.forEach((c,h)=>{if(!c.running||!c.items.length)return;const m=c.items;let x,C=m.length-1,D=!1;for(;C>=0;--C)x=m[C],x._active?(x._total>c.duration&&(c.duration=x._total),x.tick(d),D=!0):(m[C]=m[m.length-1],m.pop());D&&(h.draw(),this._notify(h,c,d,"progress")),m.length||(c.running=!1,this._notify(h,c,d,"complete"),c.initial=!1),r+=m.length}),this._lastDate=d,0===r&&(this._running=!1)}_getAnims(d){const r=this._charts;let c=r.get(d);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(d,c)),c}listen(d,r,c){this._getAnims(d).listeners[r].push(c)}add(d,r){!r||!r.length||this._getAnims(d).items.push(...r)}has(d){return this._getAnims(d).items.length>0}start(d){const r=this._charts.get(d);!r||(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((c,h)=>Math.max(c,h._duration),0),this._refresh())}running(d){if(!this._running)return!1;const r=this._charts.get(d);return!(!r||!r.running||!r.items.length)}stop(d){const r=this._charts.get(d);if(!r||!r.items.length)return;const c=r.items;let h=c.length-1;for(;h>=0;--h)c[h].cancel();r.items=[],this._notify(d,r,Date.now(),"complete")}remove(d){return this._charts.delete(d)}};const nr="transparent",hs={boolean:(g,d,r)=>r>.5?d:g,color(g,d,r){const c=fi(g||nr),h=c.valid&&fi(d||nr);return h&&h.valid?h.mix(c,r).hexString():d},number:(g,d,r)=>g+(d-g)*r};class Ts{constructor(d,r,c,h){const m=r[c];h=Ls([d.to,h,m,d.from]);const C=Ls([d.from,m,h]);this._active=!0,this._fn=d.fn||hs[d.type||typeof C],this._easing=tt[d.easing]||tt.linear,this._start=Math.floor(Date.now()+(d.delay||0)),this._duration=this._total=Math.floor(d.duration),this._loop=!!d.loop,this._target=r,this._prop=c,this._from=C,this._to=h,this._promises=void 0}active(){return this._active}update(d,r,c){if(this._active){this._notify(!1);const h=this._target[this._prop],m=c-this._start,C=this._duration-m;this._start=c,this._duration=Math.floor(Math.max(C,d.duration)),this._total+=m,this._loop=!!d.loop,this._to=Ls([d.to,r,h,d.from]),this._from=Ls([d.from,h,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(d){const r=d-this._start,c=this._duration,h=this._prop,m=this._from,C=this._loop,D=this._to;let x;if(this._active=m!==D&&(C||r<c),!this._active)return this._target[h]=D,void this._notify(!0);r<0?this._target[h]=m:(x=r/c%2,x=C&&x>1?2-x:x,x=this._easing(Math.min(1,Math.max(0,x))),this._target[h]=this._fn(m,D,x))}wait(){const d=this._promises||(this._promises=[]);return new Promise((r,c)=>{d.push({res:r,rej:c})})}_notify(d){const r=d?"res":"rej",c=this._promises||[];for(let h=0;h<c.length;h++)c[h][r]()}}di.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const ws=Object.keys(di.animation);di.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:g=>"onProgress"!==g&&"onComplete"!==g&&"fn"!==g}),di.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),di.describe("animations",{_fallback:"animation"}),di.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:g=>0|g}}}});class So{constructor(d,r){this._chart=d,this._properties=new Map,this.configure(r)}configure(d){if(!xe(d))return;const r=this._properties;Object.getOwnPropertyNames(d).forEach(c=>{const h=d[c];if(!xe(h))return;const m={};for(const C of ws)m[C]=h[C];(Me(h.properties)&&h.properties||[c]).forEach(C=>{(C===c||!r.has(C))&&r.set(C,m)})})}_animateOptions(d,r){const c=r.options,h=function(g,d){if(!d)return;let r=g.options;if(r)return r.$shared&&(g.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r;g.options=d}(d,c);if(!h)return[];const m=this._createAnimations(h,c);return c.$shared&&function(g,d){const r=[],c=Object.keys(d);for(let h=0;h<c.length;h++){const m=g[c[h]];m&&m.active()&&r.push(m.wait())}return Promise.all(r)}(d.options.$animations,c).then(()=>{d.options=c},()=>{}),m}_createAnimations(d,r){const c=this._properties,h=[],m=d.$animations||(d.$animations={}),C=Object.keys(r),D=Date.now();let x;for(x=C.length-1;x>=0;--x){const N=C[x];if("$"===N.charAt(0))continue;if("options"===N){h.push(...this._animateOptions(d,r));continue}const Y=r[N];let le=m[N];const De=c.get(N);if(le){if(De&&le.active()){le.update(De,Y,D);continue}le.cancel()}De&&De.duration?(m[N]=le=new Ts(De,d,N,Y),h.push(le)):d[N]=Y}return h}update(d,r){if(0===this._properties.size)return void Object.assign(d,r);const c=this._createAnimations(d,r);return c.length?(xr.add(this._chart,c),!0):void 0}}function Ar(g,d){const r=g&&g.options||{},c=r.reverse,h=void 0===r.min?d:0,m=void 0===r.max?d:0;return{start:c?m:h,end:c?h:m}}function ei(g,d){const r=[],c=g._getSortedDatasetMetas(d);let h,m;for(h=0,m=c.length;h<m;++h)r.push(c[h].index);return r}function hi(g,d,r,c={}){const h=g.keys,m="single"===c.mode;let C,D,x,N;if(null!==d){for(C=0,D=h.length;C<D;++C){if(x=+h[C],x===r){if(c.all)continue;break}N=g.values[x],we(N)&&(m||0===d||it(d)===it(N))&&(d+=N)}return d}}function Qi(g,d){const r=g&&g.options.stacked;return r||void 0===r&&void 0!==d.stack}function ao(g,d,r){const c=g[d]||(g[d]={});return c[r]||(c[r]={})}function Ir(g,d,r,c){for(const h of d.getMatchingVisibleMetas(c).reverse()){const m=g[h.index];if(r&&m>0||!r&&m<0)return h.index}return null}function wr(g,d){const{chart:r,_cachedMeta:c}=g,h=r._stacks||(r._stacks={}),{iScale:m,vScale:C,index:D}=c,x=m.axis,N=C.axis,Y=function(g,d,r){return`${g.id}.${d.id}.${r.stack||r.type}`}(m,C,c),le=d.length;let De;for(let Ve=0;Ve<le;++Ve){const nt=d[Ve],{[x]:dt,[N]:_t}=nt;De=(nt._stacks||(nt._stacks={}))[N]=ao(h,Y,dt),De[D]=_t,De._top=Ir(De,C,!0,c.type),De._bottom=Ir(De,C,!1,c.type)}}function qs(g,d){const r=g.scales;return Object.keys(r).filter(c=>r[c].axis===d).shift()}function eo(g,d){const r=g.controller.index,c=g.vScale&&g.vScale.axis;if(c){d=d||g._parsed;for(const h of d){const m=h._stacks;if(!m||void 0===m[c]||void 0===m[c][r])return;delete m[c][r]}}}const ts=g=>"reset"===g||"none"===g,Ga=(g,d)=>d?g:Object.assign({},g);let fs=(()=>{class g{constructor(r,c){this.chart=r,this._ctx=r.ctx,this.index=c,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=Qi(r.vScale,r),this.addElements()}updateIndex(r){this.index!==r&&eo(this._cachedMeta),this.index=r}linkScales(){const r=this.chart,c=this._cachedMeta,h=this.getDataset(),m=(De,Ve,nt,dt)=>"x"===De?Ve:"r"===De?dt:nt,C=c.xAxisID=fe(h.xAxisID,qs(r,"x")),D=c.yAxisID=fe(h.yAxisID,qs(r,"y")),x=c.rAxisID=fe(h.rAxisID,qs(r,"r")),N=c.indexAxis,Y=c.iAxisID=m(N,C,D,x),le=c.vAxisID=m(N,D,C,x);c.xScale=this.getScaleForId(C),c.yScale=this.getScaleForId(D),c.rScale=this.getScaleForId(x),c.iScale=this.getScaleForId(Y),c.vScale=this.getScaleForId(le)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(r){return this.chart.scales[r]}_getOtherScale(r){const c=this._cachedMeta;return r===c.iScale?c.vScale:c.iScale}reset(){this._update("reset")}_destroy(){const r=this._cachedMeta;this._data&&Io(this._data,this),r._stacked&&eo(r)}_dataCheck(){const r=this.getDataset(),c=r.data||(r.data=[]),h=this._data;if(xe(c))this._data=function(g){const d=Object.keys(g),r=new Array(d.length);let c,h,m;for(c=0,h=d.length;c<h;++c)m=d[c],r[c]={x:m,y:g[m]};return r}(c);else if(h!==c){if(h){Io(h,this);const m=this._cachedMeta;eo(m),m._parsed=[]}c&&Object.isExtensible(c)&&function(g,d){g._chartjs?g._chartjs.listeners.push(d):(Object.defineProperty(g,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[d]}}),Js.forEach(r=>{const c="_onData"+sn(r),h=g[r];Object.defineProperty(g,r,{configurable:!0,enumerable:!1,value(...m){const C=h.apply(this,m);return g._chartjs.listeners.forEach(D=>{"function"==typeof D[c]&&D[c](...m)}),C}})}))}(c,this),this._syncList=[],this._data=c}}addElements(){const r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}buildOrUpdateElements(r){const c=this._cachedMeta,h=this.getDataset();let m=!1;this._dataCheck();const C=c._stacked;c._stacked=Qi(c.vScale,c),c.stack!==h.stack&&(m=!0,eo(c),c.stack=h.stack),this._resyncElements(r),(m||C!==c._stacked)&&wr(this,c._parsed)}configure(){const r=this.chart.config,c=r.datasetScopeKeys(this._type),h=r.getOptionScopes(this.getDataset(),c,!0);this.options=r.createResolver(h,this.getContext()),this._parsing=this.options.parsing}parse(r,c){const{_cachedMeta:h,_data:m}=this,{iScale:C,_stacked:D}=h,x=C.axis;let le,De,Ve,N=0===r&&c===m.length||h._sorted,Y=r>0&&h._parsed[r-1];if(!1===this._parsing)h._parsed=m,h._sorted=!0,Ve=m;else{Ve=Me(m[r])?this.parseArrayData(h,m,r,c):xe(m[r])?this.parseObjectData(h,m,r,c):this.parsePrimitiveData(h,m,r,c);const nt=()=>null===De[x]||Y&&De[x]<Y[x];for(le=0;le<c;++le)h._parsed[le+r]=De=Ve[le],N&&(nt()&&(N=!1),Y=De);h._sorted=N}D&&wr(this,Ve)}parsePrimitiveData(r,c,h,m){const{iScale:C,vScale:D}=r,x=C.axis,N=D.axis,Y=C.getLabels(),le=C===D,De=new Array(m);let Ve,nt,dt;for(Ve=0,nt=m;Ve<nt;++Ve)dt=Ve+h,De[Ve]={[x]:le||C.parse(Y[dt],dt),[N]:D.parse(c[dt],dt)};return De}parseArrayData(r,c,h,m){const{xScale:C,yScale:D}=r,x=new Array(m);let N,Y,le,De;for(N=0,Y=m;N<Y;++N)le=N+h,De=c[le],x[N]={x:C.parse(De[0],le),y:D.parse(De[1],le)};return x}parseObjectData(r,c,h,m){const{xScale:C,yScale:D}=r,{xAxisKey:x="x",yAxisKey:N="y"}=this._parsing,Y=new Array(m);let le,De,Ve,nt;for(le=0,De=m;le<De;++le)Ve=le+h,nt=c[Ve],Y[le]={x:C.parse(Et(nt,x),Ve),y:D.parse(Et(nt,N),Ve)};return Y}getParsed(r){return this._cachedMeta._parsed[r]}getDataElement(r){return this._cachedMeta.data[r]}applyStack(r,c,h){const C=this._cachedMeta,D=c[r.axis];return hi({keys:ei(this.chart,!0),values:c._stacks[r.axis]},D,C.index,{mode:h})}updateRangeFromParsed(r,c,h,m){const C=h[c.axis];let D=null===C?NaN:C;const x=m&&h._stacks[c.axis];m&&x&&(m.values=x,D=hi(m,C,this._cachedMeta.index)),r.min=Math.min(r.min,D),r.max=Math.max(r.max,D)}getMinMax(r,c){const h=this._cachedMeta,m=h._parsed,C=h._sorted&&r===h.iScale,D=m.length,x=this._getOtherScale(r),N=((g,d,r)=>g&&!d.hidden&&d._stacked&&{keys:ei(this.chart,!0),values:null})(c,h),Y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:le,max:De}=function(g){const{min:d,max:r,minDefined:c,maxDefined:h}=g.getUserBounds();return{min:c?d:Number.NEGATIVE_INFINITY,max:h?r:Number.POSITIVE_INFINITY}}(x);let Ve,nt;function dt(){nt=m[Ve];const _t=nt[x.axis];return!we(nt[r.axis])||le>_t||De<_t}for(Ve=0;Ve<D&&(dt()||(this.updateRangeFromParsed(Y,r,nt,N),!C));++Ve);if(C)for(Ve=D-1;Ve>=0;--Ve)if(!dt()){this.updateRangeFromParsed(Y,r,nt,N);break}return Y}getAllParsedValues(r){const c=this._cachedMeta._parsed,h=[];let m,C,D;for(m=0,C=c.length;m<C;++m)D=c[m][r.axis],we(D)&&h.push(D);return h}getMaxOverflow(){return!1}getLabelAndValue(r){const c=this._cachedMeta,h=c.iScale,m=c.vScale,C=this.getParsed(r);return{label:h?""+h.getLabelForValue(C[h.axis]):"",value:m?""+m.getLabelForValue(C[m.axis]):""}}_update(r){const c=this._cachedMeta;this.configure(),this._cachedDataOpts={},this.update(r||"default"),c._clip=function(g){let d,r,c,h;return xe(g)?(d=g.top,r=g.right,c=g.bottom,h=g.left):d=r=c=h=g,{top:d,right:r,bottom:c,left:h,disabled:!1===g}}(fe(this.options.clip,function(g,d,r){if(!1===r)return!1;const c=Ar(g,r),h=Ar(d,r);return{top:h.end,right:c.end,bottom:h.start,left:c.start}}(c.xScale,c.yScale,this.getMaxOverflow())))}update(r){}draw(){const r=this._ctx,h=this._cachedMeta,m=h.data||[],C=this.chart.chartArea,D=[],x=this._drawStart||0,N=this._drawCount||m.length-x;let Y;for(h.dataset&&h.dataset.draw(r,C,x,N),Y=x;Y<x+N;++Y){const le=m[Y];le.hidden||(le.active?D.push(le):le.draw(r,C))}for(Y=0;Y<D.length;++Y)D[Y].draw(r,C)}getStyle(r,c){const h=c?"active":"default";return void 0===r&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(h):this.resolveDataElementOptions(r||0,h)}getContext(r,c,h){const m=this.getDataset();let C;if(r>=0&&r<this._cachedMeta.data.length){const D=this._cachedMeta.data[r];C=D.$context||(D.$context=function(g,d,r){return Lo(g,{active:!1,dataIndex:d,parsed:void 0,raw:void 0,element:r,index:d,mode:"default",type:"data"})}(this.getContext(),r,D)),C.parsed=this.getParsed(r),C.raw=m.data[r],C.index=C.dataIndex=r}else C=this.$context||(this.$context=function(g,d){return Lo(g,{active:!1,dataset:void 0,datasetIndex:d,index:d,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),C.dataset=m,C.index=C.datasetIndex=this.index;return C.active=!!c,C.mode=h,C}resolveDatasetElementOptions(r){return this._resolveElementOptions(this.datasetElementType.id,r)}resolveDataElementOptions(r,c){return this._resolveElementOptions(this.dataElementType.id,c,r)}_resolveElementOptions(r,c="default",h){const m="active"===c,C=this._cachedDataOpts,D=r+"-"+c,x=C[D],N=this.enableOptionSharing&&rt(h);if(x)return Ga(x,N);const Y=this.chart.config,le=Y.datasetElementScopeKeys(this._type,r),De=m?[`${r}Hover`,"hover",r,""]:[r,""],Ve=Y.getOptionScopes(this.getDataset(),le),nt=Object.keys(di.elements[r]),_t=Y.resolveNamedOptions(Ve,nt,()=>this.getContext(h,m),De);return _t.$shared&&(_t.$shared=N,C[D]=Object.freeze(Ga(_t,N))),_t}_resolveAnimations(r,c,h){const m=this.chart,C=this._cachedDataOpts,D=`animation-${c}`,x=C[D];if(x)return x;let N;if(!1!==m.options.animation){const le=this.chart.config,De=le.datasetAnimationScopeKeys(this._type,c),Ve=le.getOptionScopes(this.getDataset(),De);N=le.createResolver(Ve,this.getContext(r,h,c))}const Y=new So(m,N&&N.animations);return N&&N._cacheable&&(C[D]=Object.freeze(Y)),Y}getSharedOptions(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}includeOptions(r,c){return!c||ts(r)||this.chart._animationsDisabled}updateElement(r,c,h,m){ts(m)?Object.assign(r,h):this._resolveAnimations(c,m).update(r,h)}updateSharedOptions(r,c,h){r&&!ts(c)&&this._resolveAnimations(void 0,c).update(r,h)}_setStyle(r,c,h,m){r.active=m;const C=this.getStyle(c,m);this._resolveAnimations(c,h,m).update(r,{options:!m&&this.getSharedOptions(C)||C})}removeHoverStyle(r,c,h){this._setStyle(r,h,"active",!1)}setHoverStyle(r,c,h){this._setStyle(r,h,"active",!0)}_removeDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}_setDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}_resyncElements(r){const c=this._data,h=this._cachedMeta.data;for(const[x,N,Y]of this._syncList)this[x](N,Y);this._syncList=[];const m=h.length,C=c.length,D=Math.min(C,m);D&&this.parse(0,D),C>m?this._insertElements(m,C-m,r):C<m&&this._removeElements(C,m-C)}_insertElements(r,c,h=!0){const m=this._cachedMeta,C=m.data,D=r+c;let x;const N=Y=>{for(Y.length+=c,x=Y.length-1;x>=D;x--)Y[x]=Y[x-c]};for(N(C),x=r;x<D;++x)C[x]=new this.dataElementType;this._parsing&&N(m._parsed),this.parse(r,c),h&&this.updateElements(C,r,c,"reset")}updateElements(r,c,h,m){}_removeElements(r,c){const h=this._cachedMeta;if(this._parsing){const m=h._parsed.splice(r,c);h._stacked&&eo(h,m)}h.data.splice(r,c)}_sync(r){if(this._parsing)this._syncList.push(r);else{const[c,h,m]=r;this[c](h,m)}}_onDataPush(){const r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(r,c){this._sync(["_removeElements",r,c]),this._sync(["_insertElements",r,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return g.defaults={},g})();function Wa(g){const d=g.iScale,r=function(g,d){if(!g._cache.$bar){const r=g.getMatchingVisibleMetas(d);let c=[];for(let h=0,m=r.length;h<m;h++)c=c.concat(r[h].controller.getAllParsedValues(g));g._cache.$bar=ra(c.sort((h,m)=>h-m))}return g._cache.$bar}(d,g.type);let h,m,C,D,c=d._length;const x=()=>{32767===C||-32768===C||(rt(D)&&(c=Math.min(c,Math.abs(C-D)||c)),D=C)};for(h=0,m=r.length;h<m;++h)C=d.getPixelForValue(r[h]),x();for(D=void 0,h=0,m=d.ticks.length;h<m;++h)C=d.getPixelForTick(h),x();return c}function Rl(g,d,r,c){return Me(g)?function(g,d,r,c){const h=r.parse(g[0],c),m=r.parse(g[1],c),C=Math.min(h,m),D=Math.max(h,m);let x=C,N=D;Math.abs(C)>Math.abs(D)&&(x=D,N=C),d[r.axis]=N,d._custom={barStart:x,barEnd:N,start:h,end:m,min:C,max:D}}(g,d,r,c):d[r.axis]=r.parse(g,c),d}function ns(g,d,r,c){const h=g.iScale,m=g.vScale,C=h.getLabels(),D=h===m,x=[];let N,Y,le,De;for(N=r,Y=r+c;N<Y;++N)De=d[N],le={},le[h.axis]=D||h.parse(C[N],N),x.push(Rl(De,le,m,N));return x}function Ao(g){return g&&void 0!==g.barStart&&void 0!==g.barEnd}function Il(g,d,r,c){let h=d.borderSkipped;const m={};if(!h)return void(g.borderSkipped=m);const{start:C,end:D,reverse:x,top:N,bottom:Y}=function(g){let d,r,c,h,m;return g.horizontal?(d=g.base>g.x,r="left",c="right"):(d=g.base<g.y,r="bottom",c="top"),d?(h="end",m="start"):(h="start",m="end"),{start:r,end:c,reverse:d,top:h,bottom:m}}(g);"middle"===h&&r&&(g.enableBorderRadius=!0,(r._top||0)===c?h=N:(r._bottom||0)===c?h=Y:(m[ja(Y,C,D,x)]=!0,h=N)),m[ja(h,C,D,x)]=!0,g.borderSkipped=m}function ja(g,d,r,c){return g=c?ya(g=function(g,d,r){return g===d?r:g===r?d:g}(g,d,r),r,d):ya(g,d,r)}function ya(g,d,r){return"start"===g?d:"end"===g?r:g}function Al(g,{inflateAmount:d},r){g.inflateAmount="auto"===d?1===r?.33:0:d}fs.prototype.datasetElementType=null,fs.prototype.dataElementType=null;let Ol=(()=>{class g extends fs{parsePrimitiveData(r,c,h,m){return ns(r,c,h,m)}parseArrayData(r,c,h,m){return ns(r,c,h,m)}parseObjectData(r,c,h,m){const{iScale:C,vScale:D}=r,{xAxisKey:x="x",yAxisKey:N="y"}=this._parsing,Y="x"===C.axis?x:N,le="x"===D.axis?x:N,De=[];let Ve,nt,dt,_t;for(Ve=h,nt=h+m;Ve<nt;++Ve)_t=c[Ve],dt={},dt[C.axis]=C.parse(Et(_t,Y),Ve),De.push(Rl(Et(_t,le),dt,D,Ve));return De}updateRangeFromParsed(r,c,h,m){super.updateRangeFromParsed(r,c,h,m);const C=h._custom;C&&c===this._cachedMeta.vScale&&(r.min=Math.min(r.min,C.min),r.max=Math.max(r.max,C.max))}getMaxOverflow(){return 0}getLabelAndValue(r){const c=this._cachedMeta,{iScale:h,vScale:m}=c,C=this.getParsed(r),D=C._custom,x=Ao(D)?"["+D.start+", "+D.end+"]":""+m.getLabelForValue(C[m.axis]);return{label:""+h.getLabelForValue(C[h.axis]),value:x}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(r){const c=this._cachedMeta;this.updateElements(c.data,0,c.data.length,r)}updateElements(r,c,h,m){const C="reset"===m,{index:D,_cachedMeta:{vScale:x}}=this,N=x.getBasePixel(),Y=x.isHorizontal(),le=this._getRuler(),De=this.resolveDataElementOptions(c,m),Ve=this.getSharedOptions(De),nt=this.includeOptions(m,Ve);this.updateSharedOptions(Ve,m,De);for(let dt=c;dt<c+h;dt++){const _t=this.getParsed(dt),Mt=C||ae(_t[x.axis])?{base:N,head:N}:this._calculateBarValuePixels(dt),ln=this._calculateBarIndexPixels(dt,le),Un=(_t._stacks||{})[x.axis],Sn={horizontal:Y,base:Mt.base,enableBorderRadius:!Un||Ao(_t._custom)||D===Un._top||D===Un._bottom,x:Y?Mt.head:ln.center,y:Y?ln.center:Mt.head,height:Y?ln.size:Math.abs(Mt.size),width:Y?Math.abs(Mt.size):ln.size};nt&&(Sn.options=Ve||this.resolveDataElementOptions(dt,r[dt].active?"active":m));const Dn=Sn.options||r[dt].options;Il(Sn,Dn,Un,D),Al(Sn,Dn,le.ratio),this.updateElement(r[dt],dt,Sn,m)}}_getStacks(r,c){const m=this._cachedMeta.iScale,C=m.getMatchingVisibleMetas(this._type),D=m.options.stacked,x=C.length,N=[];let Y,le;for(Y=0;Y<x;++Y)if(le=C[Y],le.controller.options.grouped){if(void 0!==c){const De=le.controller.getParsed(c)[le.controller._cachedMeta.vScale.axis];if(ae(De)||isNaN(De))continue}if((!1===D||-1===N.indexOf(le.stack)||void 0===D&&void 0===le.stack)&&N.push(le.stack),le.index===r)break}return N.length||N.push(void 0),N}_getStackCount(r){return this._getStacks(void 0,r).length}_getStackIndex(r,c,h){const m=this._getStacks(r,h),C=void 0!==c?m.indexOf(c):-1;return-1===C?m.length-1:C}_getRuler(){const r=this.options,c=this._cachedMeta,h=c.iScale,m=[];let C,D;for(C=0,D=c.data.length;C<D;++C)m.push(h.getPixelForValue(this.getParsed(C)[h.axis],C));const x=r.barThickness;return{min:x||Wa(c),pixels:m,start:h._startPixel,end:h._endPixel,stackCount:this._getStackCount(),scale:h,grouped:r.grouped,ratio:x?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(r){const{_cachedMeta:{vScale:c,_stacked:h},options:{base:m,minBarLength:C}}=this,D=m||0,x=this.getParsed(r),N=x._custom,Y=Ao(N);let nt,dt,le=x[c.axis],De=0,Ve=h?this.applyStack(c,x,h):le;Ve!==le&&(De=Ve-le,Ve=le),Y&&(le=N.barStart,Ve=N.barEnd-N.barStart,0!==le&&it(le)!==it(N.barEnd)&&(De=0),De+=le);const _t=ae(m)||Y?De:m;let Mt=c.getPixelForValue(_t);if(nt=this.chart.getDataVisibility(r)?c.getPixelForValue(De+Ve):Mt,dt=nt-Mt,Math.abs(dt)<C&&(dt=function(g,d,r){return 0!==g?it(g):(d.isHorizontal()?1:-1)*(d.min>=r?1:-1)}(dt,c,D)*C,le===D&&(Mt-=dt/2),nt=Mt+dt),Mt===c.getPixelForValue(D)){const ln=it(dt)*c.getLineWidthForValue(D)/2;Mt+=ln,dt-=ln}return{size:dt,base:Mt,head:nt,center:nt+dt/2}}_calculateBarIndexPixels(r,c){const h=c.scale,m=this.options,C=m.skipNull,D=fe(m.maxBarThickness,1/0);let x,N;if(c.grouped){const Y=C?this._getStackCount(r):c.stackCount,le="flex"===m.barThickness?function(g,d,r,c){const h=d.pixels,m=h[g];let C=g>0?h[g-1]:null,D=g<h.length-1?h[g+1]:null;const x=r.categoryPercentage;null===C&&(C=m-(null===D?d.end-d.start:D-m)),null===D&&(D=m+m-C);const N=m-(m-Math.min(C,D))/2*x;return{chunk:Math.abs(D-C)/2*x/c,ratio:r.barPercentage,start:N}}(r,c,m,Y):function(g,d,r,c){const h=r.barThickness;let m,C;return ae(h)?(m=d.min*r.categoryPercentage,C=r.barPercentage):(m=h*c,C=1),{chunk:m/c,ratio:C,start:d.pixels[g]-m/2}}(r,c,m,Y),De=this._getStackIndex(this.index,this._cachedMeta.stack,C?r:void 0);x=le.start+le.chunk*De+le.chunk/2,N=Math.min(D,le.chunk*le.ratio)}else x=h.getPixelForValue(this.getParsed(r)[h.axis],r),N=Math.min(D,c.min*c.ratio);return{base:x-N/2,head:x+N/2,center:x,size:N}}draw(){const r=this._cachedMeta,c=r.vScale,h=r.data,m=h.length;let C=0;for(;C<m;++C)null!==this.getParsed(C)[c.axis]&&h[C].draw(this._ctx)}}return g.id="bar",g.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},g.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},g})(),gu=(()=>{class g extends fs{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(r,c,h,m){const C=super.parsePrimitiveData(r,c,h,m);for(let D=0;D<C.length;D++)C[D]._custom=this.resolveDataElementOptions(D+h).radius;return C}parseArrayData(r,c,h,m){const C=super.parseArrayData(r,c,h,m);for(let D=0;D<C.length;D++)C[D]._custom=fe(c[h+D][2],this.resolveDataElementOptions(D+h).radius);return C}parseObjectData(r,c,h,m){const C=super.parseObjectData(r,c,h,m);for(let D=0;D<C.length;D++){const x=c[h+D];C[D]._custom=fe(x&&x.r&&+x.r,this.resolveDataElementOptions(D+h).radius)}return C}getMaxOverflow(){const r=this._cachedMeta.data;let c=0;for(let h=r.length-1;h>=0;--h)c=Math.max(c,r[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}getLabelAndValue(r){const c=this._cachedMeta,{xScale:h,yScale:m}=c,C=this.getParsed(r),D=h.getLabelForValue(C.x),x=m.getLabelForValue(C.y),N=C._custom;return{label:c.label,value:"("+D+", "+x+(N?", "+N:"")+")"}}update(r){const c=this._cachedMeta.data;this.updateElements(c,0,c.length,r)}updateElements(r,c,h,m){const C="reset"===m,{iScale:D,vScale:x}=this._cachedMeta,N=this.resolveDataElementOptions(c,m),Y=this.getSharedOptions(N),le=this.includeOptions(m,Y),De=D.axis,Ve=x.axis;for(let nt=c;nt<c+h;nt++){const dt=r[nt],_t=!C&&this.getParsed(nt),Mt={},ln=Mt[De]=C?D.getPixelForDecimal(.5):D.getPixelForValue(_t[De]),Un=Mt[Ve]=C?x.getBasePixel():x.getPixelForValue(_t[Ve]);Mt.skip=isNaN(ln)||isNaN(Un),le&&(Mt.options=this.resolveDataElementOptions(nt,dt.active?"active":m),C&&(Mt.options.radius=0)),this.updateElement(dt,nt,Mt,m)}this.updateSharedOptions(Y,m,N)}resolveDataElementOptions(r,c){const h=this.getParsed(r);let m=super.resolveDataElementOptions(r,c);m.$shared&&(m=Object.assign({},m,{$shared:!1}));const C=m.radius;return"active"!==c&&(m.radius=0),m.radius+=fe(h&&h._custom,C),m}}return g.id="bubble",g.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},g.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},g})(),za=(()=>{class g extends fs{constructor(r,c){super(r,c),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,c){const h=this.getDataset().data,m=this._cachedMeta;if(!1===this._parsing)m._parsed=h;else{let D,x,C=N=>+h[N];if(xe(h[r])){const{key:N="value"}=this._parsing;C=Y=>+Et(h[Y],N)}for(D=r,x=r+c;D<x;++D)m._parsed[D]=C(D)}}_getRotation(){return X(this.options.rotation-90)}_getCircumference(){return X(this.options.circumference)}_getRotationExtents(){let r=$t,c=-$t;for(let h=0;h<this.chart.data.datasets.length;++h)if(this.chart.isDatasetVisible(h)){const m=this.chart.getDatasetMeta(h).controller,C=m._getRotation(),D=m._getCircumference();r=Math.min(r,C),c=Math.max(c,C+D)}return{rotation:r,circumference:c-r}}update(r){const c=this.chart,{chartArea:h}=c,m=this._cachedMeta,C=m.data,D=this.getMaxBorderWidth()+this.getMaxOffset(C)+this.options.spacing,x=Math.max((Math.min(h.width,h.height)-D)/2,0),N=Math.min(((g,d)=>"string"==typeof g&&g.endsWith("%")?parseFloat(g)/100:g/d)(this.options.cutout,x),1),Y=this._getRingWeight(this.index),{circumference:le,rotation:De}=this._getRotationExtents(),{ratioX:Ve,ratioY:nt,offsetX:dt,offsetY:_t}=function(g,d,r){let c=1,h=1,m=0,C=0;if(d<$t){const D=g,x=D+d,N=Math.cos(D),Y=Math.sin(D),le=Math.cos(x),De=Math.sin(x),Ve=(Un,Sn,Dn)=>wn(Un,D,x,!0)?1:Math.max(Sn,Sn*r,Dn,Dn*r),nt=(Un,Sn,Dn)=>wn(Un,D,x,!0)?-1:Math.min(Sn,Sn*r,Dn,Dn*r),dt=Ve(0,N,le),_t=Ve(dn,Y,De),Mt=nt(zt,N,le),ln=nt(zt+dn,Y,De);c=(dt-Mt)/2,h=(_t-ln)/2,m=-(dt+Mt)/2,C=-(_t+ln)/2}return{ratioX:c,ratioY:h,offsetX:m,offsetY:C}}(De,le,N),Un=Math.max(Math.min((h.width-D)/Ve,(h.height-D)/nt)/2,0),Sn=ie(this.options.radius,Un),Xn=(Sn-Math.max(Sn*N,0))/this._getVisibleDatasetWeightTotal();this.offsetX=dt*Sn,this.offsetY=_t*Sn,m.total=this.calculateTotal(),this.outerRadius=Sn-Xn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Xn*Y,0),this.updateElements(C,0,C.length,r)}_circumference(r,c){const h=this.options,m=this._cachedMeta,C=this._getCircumference();return c&&h.animation.animateRotate||!this.chart.getDataVisibility(r)||null===m._parsed[r]||m.data[r].hidden?0:this.calculateCircumference(m._parsed[r]*C/$t)}updateElements(r,c,h,m){const C="reset"===m,D=this.chart,x=D.chartArea,le=(x.left+x.right)/2,De=(x.top+x.bottom)/2,Ve=C&&D.options.animation.animateScale,nt=Ve?0:this.innerRadius,dt=Ve?0:this.outerRadius,_t=this.resolveDataElementOptions(c,m),Mt=this.getSharedOptions(_t),ln=this.includeOptions(m,Mt);let Sn,Un=this._getRotation();for(Sn=0;Sn<c;++Sn)Un+=this._circumference(Sn,C);for(Sn=c;Sn<c+h;++Sn){const Dn=this._circumference(Sn,C),Xn=r[Sn],$n={x:le+this.offsetX,y:De+this.offsetY,startAngle:Un,endAngle:Un+Dn,circumference:Dn,outerRadius:dt,innerRadius:nt};ln&&($n.options=Mt||this.resolveDataElementOptions(Sn,Xn.active?"active":m)),Un+=Dn,this.updateElement(Xn,Sn,$n,m)}this.updateSharedOptions(Mt,m,_t)}calculateTotal(){const r=this._cachedMeta,c=r.data;let m,h=0;for(m=0;m<c.length;m++){const C=r._parsed[m];null!==C&&!isNaN(C)&&this.chart.getDataVisibility(m)&&!c[m].hidden&&(h+=Math.abs(C))}return h}calculateCircumference(r){const c=this._cachedMeta.total;return c>0&&!isNaN(r)?$t*(Math.abs(r)/c):0}getLabelAndValue(r){const h=this.chart,m=h.data.labels||[],C=He(this._cachedMeta._parsed[r],h.options.locale);return{label:m[r]||"",value:C}}getMaxBorderWidth(r){let c=0;const h=this.chart;let m,C,D,x,N;if(!r)for(m=0,C=h.data.datasets.length;m<C;++m)if(h.isDatasetVisible(m)){D=h.getDatasetMeta(m),r=D.data,x=D.controller,x!==this&&x.configure();break}if(!r)return 0;for(m=0,C=r.length;m<C;++m)N=x.resolveDataElementOptions(m),"inner"!==N.borderAlign&&(c=Math.max(c,N.borderWidth||0,N.hoverBorderWidth||0));return c}getMaxOffset(r){let c=0;for(let h=0,m=r.length;h<m;++h){const C=this.resolveDataElementOptions(h);c=Math.max(c,C.offset||0,C.hoverOffset||0)}return c}_getRingWeightOffset(r){let c=0;for(let h=0;h<r;++h)this.chart.isDatasetVisible(h)&&(c+=this._getRingWeight(h));return c}_getRingWeight(r){return Math.max(fe(this.chart.data.datasets[r].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return g.id="doughnut",g.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},g.descriptors={_scriptable:d=>"spacing"!==d,_indexable:d=>"spacing"!==d},g.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(d){const r=d.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:c}}=d.legend.options;return r.labels.map((h,m)=>{const D=d.getDatasetMeta(0).controller.getStyle(m);return{text:h,fillStyle:D.backgroundColor,strokeStyle:D.borderColor,lineWidth:D.borderWidth,pointStyle:c,hidden:!d.getDataVisibility(m),index:m}})}return[]}},onClick(d,r,c){c.chart.toggleDataVisibility(r.index),c.chart.update()}},tooltip:{callbacks:{title:()=>"",label(d){let r=d.label;const c=": "+d.formattedValue;return Me(r)?(r=r.slice(),r[0]+=c):r+=c,r}}}}},g})(),kl=(()=>{class g extends fs{initialize(){this.enableOptionSharing=!0,super.initialize()}update(r){const c=this._cachedMeta,{dataset:h,data:m=[],_dataset:C}=c,D=this.chart._animationsDisabled;let{start:x,count:N}=function(g,d,r){const c=d.length;let h=0,m=c;if(g._sorted){const{iScale:C,_parsed:D}=g,x=C.axis,{min:N,max:Y,minDefined:le,maxDefined:De}=C.getUserBounds();le&&(h=En(Math.min(so(D,C.axis,N).lo,r?c:so(d,x,C.getPixelForValue(N)).lo),0,c-1)),m=De?En(Math.max(so(D,C.axis,Y).hi+1,r?0:so(d,x,C.getPixelForValue(Y)).hi+1),h,c)-h:c-h}return{start:h,count:m}}(c,m,D);this._drawStart=x,this._drawCount=N,function(g){const{xScale:d,yScale:r,_scaleRanges:c}=g,h={xmin:d.min,xmax:d.max,ymin:r.min,ymax:r.max};if(!c)return g._scaleRanges=h,!0;const m=c.xmin!==d.min||c.xmax!==d.max||c.ymin!==r.min||c.ymax!==r.max;return Object.assign(c,h),m}(c)&&(x=0,N=m.length),h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!C._decimated,h.points=m;const Y=this.resolveDatasetElementOptions(r);this.options.showLine||(Y.borderWidth=0),Y.segment=this.options.segment,this.updateElement(h,void 0,{animated:!D,options:Y},r),this.updateElements(m,x,N,r)}updateElements(r,c,h,m){const C="reset"===m,{iScale:D,vScale:x,_stacked:N,_dataset:Y}=this._cachedMeta,le=this.resolveDataElementOptions(c,m),De=this.getSharedOptions(le),Ve=this.includeOptions(m,De),nt=D.axis,dt=x.axis,{spanGaps:_t,segment:Mt}=this.options,ln=hn(_t)?_t:Number.POSITIVE_INFINITY,Un=this.chart._animationsDisabled||C||"none"===m;let Sn=c>0&&this.getParsed(c-1);for(let Dn=c;Dn<c+h;++Dn){const Xn=r[Dn],$n=this.getParsed(Dn),Jn=Un?Xn:{},si=ae($n[dt]),Zi=Jn[nt]=D.getPixelForValue($n[nt],Dn),oi=Jn[dt]=C||si?x.getBasePixel():x.getPixelForValue(N?this.applyStack(x,$n,N):$n[dt],Dn);Jn.skip=isNaN(Zi)||isNaN(oi)||si,Jn.stop=Dn>0&&$n[nt]-Sn[nt]>ln,Mt&&(Jn.parsed=$n,Jn.raw=Y.data[Dn]),Ve&&(Jn.options=De||this.resolveDataElementOptions(Dn,Xn.active?"active":m)),Un||this.updateElement(Xn,Dn,Jn,m),Sn=$n}this.updateSharedOptions(De,m,le)}getMaxOverflow(){const r=this._cachedMeta,c=r.dataset,h=c.options&&c.options.borderWidth||0,m=r.data||[];if(!m.length)return h;const C=m[0].size(this.resolveDataElementOptions(0)),D=m[m.length-1].size(this.resolveDataElementOptions(m.length-1));return Math.max(h,C,D)/2}draw(){const r=this._cachedMeta;r.dataset.updateControlPoints(this.chart.chartArea,r.iScale.axis),super.draw()}}return g.id="line",g.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},g.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},g})();var J=Object.freeze({__proto__:null,BarController:Ol,BubbleController:gu,DoughnutController:za,LineController:kl,PolarAreaController:(()=>{class g extends fs{constructor(r,c){super(r,c),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(r){const h=this.chart,m=h.data.labels||[],C=He(this._cachedMeta._parsed[r].r,h.options.locale);return{label:m[r]||"",value:C}}update(r){const c=this._cachedMeta.data;this._updateRadius(),this.updateElements(c,0,c.length,r)}_updateRadius(){const r=this.chart,c=r.chartArea,h=r.options,m=Math.min(c.right-c.left,c.bottom-c.top),C=Math.max(m/2,0),x=(C-Math.max(h.cutoutPercentage?C/100*h.cutoutPercentage:1,0))/r.getVisibleDatasetCount();this.outerRadius=C-x*this.index,this.innerRadius=this.outerRadius-x}updateElements(r,c,h,m){const C="reset"===m,D=this.chart,x=this.getDataset(),Y=D.options.animation,le=this._cachedMeta.rScale,De=le.xCenter,Ve=le.yCenter,nt=le.getIndexAngle(0)-.5*zt;let _t,dt=nt;const Mt=360/this.countVisibleElements();for(_t=0;_t<c;++_t)dt+=this._computeAngle(_t,m,Mt);for(_t=c;_t<c+h;_t++){const ln=r[_t];let Un=dt,Sn=dt+this._computeAngle(_t,m,Mt),Dn=D.getDataVisibility(_t)?le.getDistanceFromCenterForValue(x.data[_t]):0;dt=Sn,C&&(Y.animateScale&&(Dn=0),Y.animateRotate&&(Un=Sn=nt));const Xn={x:De,y:Ve,innerRadius:0,outerRadius:Dn,startAngle:Un,endAngle:Sn,options:this.resolveDataElementOptions(_t,ln.active?"active":m)};this.updateElement(ln,_t,Xn,m)}}countVisibleElements(){const r=this.getDataset();let h=0;return this._cachedMeta.data.forEach((m,C)=>{!isNaN(r.data[C])&&this.chart.getDataVisibility(C)&&h++}),h}_computeAngle(r,c,h){return this.chart.getDataVisibility(r)?X(this.resolveDataElementOptions(r,c).angle||h):0}}return g.id="polarArea",g.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},g.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(d){const r=d.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:c}}=d.legend.options;return r.labels.map((h,m)=>{const D=d.getDatasetMeta(0).controller.getStyle(m);return{text:h,fillStyle:D.backgroundColor,strokeStyle:D.borderColor,lineWidth:D.borderWidth,pointStyle:c,hidden:!d.getDataVisibility(m),index:m}})}return[]}},onClick(d,r,c){c.chart.toggleDataVisibility(r.index),c.chart.update()}},tooltip:{callbacks:{title:()=>"",label:d=>d.chart.data.labels[d.dataIndex]+": "+d.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},g})(),PieController:(()=>{class g extends za{}return g.id="pie",g.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},g})(),RadarController:(()=>{class g extends fs{getLabelAndValue(r){const c=this._cachedMeta.vScale,h=this.getParsed(r);return{label:c.getLabels()[r],value:""+c.getLabelForValue(h[c.axis])}}update(r){const c=this._cachedMeta,h=c.dataset,m=c.data||[],C=c.iScale.getLabels();if(h.points=m,"resize"!==r){const D=this.resolveDatasetElementOptions(r);this.options.showLine||(D.borderWidth=0),this.updateElement(h,void 0,{_loop:!0,_fullLoop:C.length===m.length,options:D},r)}this.updateElements(m,0,m.length,r)}updateElements(r,c,h,m){const C=this.getDataset(),D=this._cachedMeta.rScale,x="reset"===m;for(let N=c;N<c+h;N++){const Y=r[N],le=this.resolveDataElementOptions(N,Y.active?"active":m),De=D.getPointPositionForValue(N,C.data[N]),Ve=x?D.xCenter:De.x,nt=x?D.yCenter:De.y,dt={x:Ve,y:nt,angle:De.angle,skip:isNaN(Ve)||isNaN(nt),options:le};this.updateElement(Y,N,dt,m)}}}return g.id="radar",g.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},g.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},g})(),ScatterController:(()=>{class g extends kl{}return g.id="scatter",g.defaults={showLine:!1,fill:!1},g.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:d=>"("+d.label+", "+d.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},g})()});function z(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Re={_date:(()=>{class g{constructor(r){this.options=r||{}}formats(){return z()}parse(r,c){return z()}format(r,c){return z()}add(r,c,h){return z()}diff(r,c,h){return z()}startOf(r,c,h){return z()}endOf(r,c){return z()}}return g.override=function(d){Object.assign(g.prototype,d)},g})()};function $e(g,d){return"native"in g?{x:g.x,y:g.y}:tl(g,d)}function kt(g,d,r,c){const{controller:h,data:m,_sorted:C}=g,D=h._cachedMeta.iScale;if(D&&d===D.axis&&C&&m.length){const x=D._reversePixels?bs:so;if(!c)return x(m,d,r);if(h._sharedOptions){const N=m[0],Y="function"==typeof N.getRange&&N.getRange(d);if(Y){const le=x(m,d,r-Y),De=x(m,d,r+Y);return{lo:le.lo,hi:De.hi}}}}return{lo:0,hi:m.length-1}}function yn(g,d,r,c,h){const m=g.getSortedVisibleDatasetMetas(),C=r[d];for(let D=0,x=m.length;D<x;++D){const{index:N,data:Y}=m[D],{lo:le,hi:De}=kt(m[D],d,C,h);for(let Ve=le;Ve<=De;++Ve){const nt=Y[Ve];nt.skip||c(nt,N,Ve)}}}function Ji(g,d,r,c){const h=[];return Yr(d,g.chartArea,g._minPadding)&&yn(g,r,d,function(C,D,x){C.inRange(d.x,d.y,c)&&h.push({element:C,datasetIndex:D,index:x})},!0),h}function _i(g,d,r,c,h){const m=function(g){const d=-1!==g.indexOf("x"),r=-1!==g.indexOf("y");return function(c,h){const m=d?Math.abs(c.x-h.x):0,C=r?Math.abs(c.y-h.y):0;return Math.sqrt(Math.pow(m,2)+Math.pow(C,2))}}(r);let C=Number.POSITIVE_INFINITY,D=[];return Yr(d,g.chartArea,g._minPadding)&&yn(g,r,d,function(N,Y,le){if(c&&!N.inRange(d.x,d.y,h))return;const De=N.getCenterPoint(h);if(!Yr(De,g.chartArea,g._minPadding)&&!N.inRange(d.x,d.y,h))return;const Ve=m(d,De);Ve<C?(D=[{element:N,datasetIndex:Y,index:le}],C=Ve):Ve===C&&D.push({element:N,datasetIndex:Y,index:le})}),D}function ir(g,d,r,c){const h=$e(d,g),m=[],C=r.axis,D="x"===C?"inXRange":"inYRange";let x=!1;return function(g,d){const r=g.getSortedVisibleDatasetMetas();let c,h,m;for(let C=0,D=r.length;C<D;++C){({index:c,data:h}=r[C]);for(let x=0,N=h.length;x<N;++x)m=h[x],m.skip||d(m,c,x)}}(g,(N,Y,le)=>{N[D](h[C],c)&&m.push({element:N,datasetIndex:Y,index:le}),N.inRange(h.x,h.y,c)&&(x=!0)}),r.intersect&&!x?[]:m}var zi={modes:{index(g,d,r,c){const h=$e(d,g),m=r.axis||"x",C=r.intersect?Ji(g,h,m,c):_i(g,h,m,!1,c),D=[];return C.length?(g.getSortedVisibleDatasetMetas().forEach(x=>{const N=C[0].index,Y=x.data[N];Y&&!Y.skip&&D.push({element:Y,datasetIndex:x.index,index:N})}),D):[]},dataset(g,d,r,c){const h=$e(d,g),m=r.axis||"xy";let C=r.intersect?Ji(g,h,m,c):_i(g,h,m,!1,c);if(C.length>0){const D=C[0].datasetIndex,x=g.getDatasetMeta(D).data;C=[];for(let N=0;N<x.length;++N)C.push({element:x[N],datasetIndex:D,index:N})}return C},point:(g,d,r,c)=>Ji(g,$e(d,g),r.axis||"xy",c),nearest:(g,d,r,c)=>_i(g,$e(d,g),r.axis||"xy",r.intersect,c),x:(g,d,r,c)=>(r.axis="x",ir(g,d,r,c)),y:(g,d,r,c)=>(r.axis="y",ir(g,d,r,c))}};const _o=["left","top","right","bottom"];function Yo(g,d){return g.filter(r=>r.pos===d)}function gs(g,d){return g.filter(r=>-1===_o.indexOf(r.pos)&&r.box.axis===d)}function lo(g,d){return g.sort((r,c)=>{const h=d?c:r,m=d?r:c;return h.weight===m.weight?h.index-m.index:h.weight-m.weight})}function Ya(g,d,r,c){return Math.max(g[r],d[r])+Math.max(g[c],d[c])}function ld(g,d){g.top=Math.max(g.top,d.top),g.left=Math.max(g.left,d.left),g.bottom=Math.max(g.bottom,d.bottom),g.right=Math.max(g.right,d.right)}function _u(g,d,r,c){const{pos:h,box:m}=r,C=g.maxPadding;if(!xe(h)){r.size&&(g[h]-=r.size);const le=c[r.stack]||{size:0,count:1};le.size=Math.max(le.size,r.horizontal?m.height:m.width),r.size=le.size/le.count,g[h]+=r.size}m.getPadding&&ld(C,m.getPadding());const D=Math.max(0,d.outerWidth-Ya(C,g,"left","right")),x=Math.max(0,d.outerHeight-Ya(C,g,"top","bottom")),N=D!==g.w,Y=x!==g.h;return g.w=D,g.h=x,r.horizontal?{same:N,other:Y}:{same:Y,other:N}}function vc(g,d){const r=d.maxPadding;return function(h){const m={left:0,top:0,right:0,bottom:0};return h.forEach(C=>{m[C]=Math.max(d[C],r[C])}),m}(g?["left","right"]:["top","bottom"])}function bl(g,d,r,c){const h=[];let m,C,D,x,N,Y;for(m=0,C=g.length,N=0;m<C;++m){D=g[m],x=D.box,x.update(D.width||d.w,D.height||d.h,vc(D.horizontal,d));const{same:le,other:De}=_u(d,r,D,c);N|=le&&h.length,Y=Y||De,x.fullSize||h.push(D)}return N&&bl(h,d,r,c)||Y}function Xr(g,d,r,c,h){g.top=r,g.left=d,g.right=d+c,g.bottom=r+h,g.width=c,g.height=h}function bc(g,d,r,c){const h=r.padding;let{x:m,y:C}=d;for(const D of g){const x=D.box,N=c[D.stack]||{count:1,placed:0,weight:1},Y=D.stackWeight/N.weight||1;if(D.horizontal){const le=d.w*Y,De=N.size||x.height;rt(N.start)&&(C=N.start),x.fullSize?Xr(x,h.left,C,r.outerWidth-h.right-h.left,De):Xr(x,d.left+N.placed,C,le,De),N.start=C,N.placed+=le,C=x.bottom}else{const le=d.h*Y,De=N.size||x.width;rt(N.start)&&(m=N.start),x.fullSize?Xr(x,m,h.top,De,r.outerHeight-h.bottom-h.top):Xr(x,m,d.top+N.placed,De,le),N.start=m,N.placed+=le,m=x.right}}d.x=m,d.y=C}di.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var is={addBox(g,d){g.boxes||(g.boxes=[]),d.fullSize=d.fullSize||!1,d.position=d.position||"top",d.weight=d.weight||0,d._layers=d._layers||function(){return[{z:0,draw(r){d.draw(r)}}]},g.boxes.push(d)},removeBox(g,d){const r=g.boxes?g.boxes.indexOf(d):-1;-1!==r&&g.boxes.splice(r,1)},configure(g,d,r){d.fullSize=r.fullSize,d.position=r.position,d.weight=r.weight},update(g,d,r,c){if(!g)return;const h=lr(g.options.layout.padding),m=Math.max(d-h.width,0),C=Math.max(r-h.height,0),D=function(g){const d=function(g){const d=[];let r,c,h,m,C,D;for(r=0,c=(g||[]).length;r<c;++r)h=g[r],({position:m,options:{stack:C,stackWeight:D=1}}=h),d.push({index:r,box:h,pos:m,horizontal:h.isHorizontal(),weight:h.weight,stack:C&&m+C,stackWeight:D});return d}(g),r=lo(d.filter(N=>N.box.fullSize),!0),c=lo(Yo(d,"left"),!0),h=lo(Yo(d,"right")),m=lo(Yo(d,"top"),!0),C=lo(Yo(d,"bottom")),D=gs(d,"x"),x=gs(d,"y");return{fullSize:r,leftAndTop:c.concat(m),rightAndBottom:h.concat(x).concat(C).concat(D),chartArea:Yo(d,"chartArea"),vertical:c.concat(h).concat(x),horizontal:m.concat(C).concat(D)}}(g.boxes),x=D.vertical,N=D.horizontal;ye(g.boxes,dt=>{"function"==typeof dt.beforeLayout&&dt.beforeLayout()});const Y=x.reduce((dt,_t)=>_t.box.options&&!1===_t.box.options.display?dt:dt+1,0)||1,le=Object.freeze({outerWidth:d,outerHeight:r,padding:h,availableWidth:m,availableHeight:C,vBoxMaxWidth:m/2/Y,hBoxMaxHeight:C/2}),De=Object.assign({},h);ld(De,lr(c));const Ve=Object.assign({maxPadding:De,w:m,h:C,x:h.left,y:h.top},h),nt=function(g,d){const r=function(g){const d={};for(const r of g){const{stack:c,pos:h,stackWeight:m}=r;if(!c||!_o.includes(h))continue;const C=d[c]||(d[c]={count:0,placed:0,weight:0,size:0});C.count++,C.weight+=m}return d}(g),{vBoxMaxWidth:c,hBoxMaxHeight:h}=d;let m,C,D;for(m=0,C=g.length;m<C;++m){D=g[m];const{fullSize:x}=D.box,N=r[D.stack],Y=N&&D.stackWeight/N.weight;D.horizontal?(D.width=Y?Y*c:x&&d.availableWidth,D.height=h):(D.width=c,D.height=Y?Y*h:x&&d.availableHeight)}return r}(x.concat(N),le);bl(D.fullSize,Ve,le,nt),bl(x,Ve,le,nt),bl(N,Ve,le,nt)&&bl(x,Ve,le,nt),function(g){const d=g.maxPadding;function r(c){const h=Math.max(d[c]-g[c],0);return g[c]+=h,h}g.y+=r("top"),g.x+=r("left"),r("right"),r("bottom")}(Ve),bc(D.leftAndTop,Ve,le,nt),Ve.x+=Ve.w,Ve.y+=Ve.h,bc(D.rightAndBottom,Ve,le,nt),g.chartArea={left:Ve.left,top:Ve.top,right:Ve.left+Ve.w,bottom:Ve.top+Ve.h,height:Ve.h,width:Ve.w},ye(D.chartArea,dt=>{const _t=dt.box;Object.assign(_t,g.chartArea),_t.update(Ve.w,Ve.h)})}};class vu{acquireContext(d,r){}releaseContext(d){return!1}addEventListener(d,r,c){}removeEventListener(d,r,c){}getDevicePixelRatio(){return 1}getMaximumSize(d,r,c,h){return r=Math.max(0,r||d.width),c=c||d.height,{width:r,height:Math.max(0,h?Math.floor(r/h):c)}}isAttached(d){return!0}updateConfig(d){}}class bu extends vu{acquireContext(d){return d&&d.getContext&&d.getContext("2d")||null}updateConfig(d){d.options.animation=!1}}const Zl="$chartjs",jd={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cd=g=>null===g||""===g,Gc=!!In&&{passive:!0};function yu(g,d,r){g.canvas.removeEventListener(d,r,Gc)}function ud(g,d,r){const c=g.canvas,h=new MutationObserver(m=>{for(const C of m)for(const D of C.addedNodes)if(D===c||D.contains(c))return r()});return h.observe(document,{childList:!0,subtree:!0}),h}function Do(g,d,r){const c=g.canvas,h=new MutationObserver(m=>{for(const C of m)for(const D of C.removedNodes)if(D===c||D.contains(c))return r()});return h.observe(document,{childList:!0,subtree:!0}),h}const Ka=new Map;let rl=0;function aa(){const g=window.devicePixelRatio;g!==rl&&(rl=g,Ka.forEach((d,r)=>{r.currentDevicePixelRatio!==g&&d()}))}function Mo(g,d,r){const c=g.canvas,h=c&&Br(c);if(!h)return;const m=A((D,x)=>{const N=h.clientWidth;r(D,x),N<h.clientWidth&&r()},window),C=new ResizeObserver(D=>{const x=D[0],N=x.contentRect.width,Y=x.contentRect.height;0===N&&0===Y||m(N,Y)});return C.observe(h),function(g,d){Ka.size||window.addEventListener("resize",aa),Ka.set(g,d)}(g,m),C}function Ll(g,d,r){r&&r.disconnect(),"resize"===d&&function(g){Ka.delete(g),Ka.size||window.removeEventListener("resize",aa)}(g)}function yl(g,d,r){const c=g.canvas,h=A(m=>{null!==g.ctx&&r(function(g,d){const r=jd[g.type]||g.type,{x:c,y:h}=tl(g,d);return{type:r,chart:d,native:g,x:void 0!==c?c:null,y:void 0!==h?h:null}}(m,g))},g,m=>{const C=m[0];return[C,C.offsetX,C.offsetY]});return function(g,d,r){g.addEventListener(d,r,Gc)}(c,d,h),h}class ol extends vu{acquireContext(d,r){const c=d&&d.getContext&&d.getContext("2d");return c&&c.canvas===d?(function(g,d){const r=g.style,c=g.getAttribute("height"),h=g.getAttribute("width");if(g[Zl]={initial:{height:c,width:h,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",cd(h)){const m=Mi(g,"width");void 0!==m&&(g.width=m)}if(cd(c))if(""===g.style.height)g.height=g.width/(d||2);else{const m=Mi(g,"height");void 0!==m&&(g.height=m)}}(d,r),c):null}releaseContext(d){const r=d.canvas;if(!r[Zl])return!1;const c=r[Zl].initial;["height","width"].forEach(m=>{const C=c[m];ae(C)?r.removeAttribute(m):r.setAttribute(m,C)});const h=c.style||{};return Object.keys(h).forEach(m=>{r.style[m]=h[m]}),r.width=r.width,delete r[Zl],!0}addEventListener(d,r,c){this.removeEventListener(d,r),(d.$proxies||(d.$proxies={}))[r]=({attach:ud,detach:Do,resize:Mo}[r]||yl)(d,r,c)}removeEventListener(d,r){const c=d.$proxies||(d.$proxies={}),h=c[r];h&&(({attach:Ll,detach:Ll,resize:Ll}[r]||yu)(d,r,h),c[r]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(d,r,c,h){return function(g,d,r,c){const h=Hr(g),m=ci(h,"margin"),C=Hs(h.maxWidth,g,"clientWidth")||Kn,D=Hs(h.maxHeight,g,"clientHeight")||Kn,x=function(g,d,r){let c,h;if(void 0===d||void 0===r){const m=Br(g);if(m){const C=m.getBoundingClientRect(),D=Hr(m),x=ci(D,"border","width"),N=ci(D,"padding");d=C.width-N.width-x.width,r=C.height-N.height-x.height,c=Hs(D.maxWidth,m,"clientWidth"),h=Hs(D.maxHeight,m,"clientHeight")}else d=g.clientWidth,r=g.clientHeight}return{width:d,height:r,maxWidth:c||Kn,maxHeight:h||Kn}}(g,d,r);let{width:N,height:Y}=x;if("content-box"===h.boxSizing){const le=ci(h,"border","width"),De=ci(h,"padding");N-=De.width+le.width,Y-=De.height+le.height}return N=Math.max(0,N-m.width),Y=Math.max(0,c?Math.floor(N/c):Y-m.height),N=Ua(Math.min(N,C,x.maxWidth)),Y=Ua(Math.min(Y,D,x.maxHeight)),N&&!Y&&(Y=Ua(N/2)),{width:N,height:Y}}(d,r,c,h)}isAttached(d){const r=Br(d);return!(!r||!r.isConnected)}}class Us{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(d){const{x:r,y:c}=this.getProps(["x","y"],d);return{x:r,y:c}}hasValue(){return hn(this.x)&&hn(this.y)}getProps(d,r){const c=this.$animations;if(!r||!c)return this;const h={};return d.forEach(m=>{h[m]=c[m]&&c[m].active()?c[m]._to:this[m]}),h}}Us.defaults={},Us.defaultRoutes=void 0;const yc={values:g=>Me(g)?g:""+g,numeric(g,d,r){if(0===g)return"0";const c=this.chart.options.locale;let h,m=g;if(r.length>1){const N=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(N<1e-4||N>1e15)&&(h="scientific"),m=function(g,d){let r=d.length>3?d[2].value-d[1].value:d[1].value-d[0].value;return Math.abs(r)>=1&&g!==Math.floor(g)&&(r=g-Math.floor(g)),r}(g,r)}const C=Fe(Math.abs(m)),D=Math.max(Math.min(-1*Math.floor(C),20),0),x={notation:h,minimumFractionDigits:D,maximumFractionDigits:D};return Object.assign(x,this.options.ticks.format),He(g,c,x)},logarithmic(g,d,r){if(0===g)return"0";const c=g/Math.pow(10,Math.floor(Fe(g)));return 1===c||2===c||5===c?yc.numeric.call(this,g,d,r):""}};var Nl={formatters:yc};function Fl(g,d,r,c,h){const m=fe(c,0),C=Math.min(fe(h,g.length),g.length);let x,N,Y,D=0;for(r=Math.ceil(r),h&&(x=h-c,r=x/Math.floor(x/r)),Y=m;Y<0;)D++,Y=Math.round(m+D*r);for(N=Math.max(m,0);N<C;N++)N===Y&&(d.push(g[N]),D++,Y=Math.round(m+D*r))}di.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(g,d)=>d.lineWidth,tickColor:(g,d)=>d.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Nl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),di.route("scale.ticks","color","","color"),di.route("scale.grid","color","","borderColor"),di.route("scale.grid","borderColor","","borderColor"),di.route("scale.title","color","","color"),di.describe("scale",{_fallback:!1,_scriptable:g=>!g.startsWith("before")&&!g.startsWith("after")&&"callback"!==g&&"parser"!==g,_indexable:g=>"borderDash"!==g&&"tickBorderDash"!==g}),di.describe("scales",{_fallback:"scale"}),di.describe("scale.ticks",{_scriptable:g=>"backdropPadding"!==g&&"callback"!==g,_indexable:g=>"backdropPadding"!==g});const jc=(g,d,r)=>"top"===d||"left"===d?g[d]+r:g[d]-r;function Xa(g,d){const r=[],c=g.length/d,h=g.length;let m=0;for(;m<h;m+=c)r.push(g[Math.floor(m)]);return r}function dd(g,d,r){const c=g.ticks.length,h=Math.min(d,c-1),m=g._startPixel,C=g._endPixel,D=1e-6;let N,x=g.getPixelForTick(h);if(!(r&&(N=1===c?Math.max(x-m,C-x):0===d?(g.getPixelForTick(1)-x)/2:(x-g.getPixelForTick(h-1))/2,x+=h<d?N:-N,x<m-D||x>C+D)))return x}function Bo(g){return g.drawTicks?g.tickLength:0}function Gs(g,d){if(!g.display)return 0;const r=_r(g.font,d),c=lr(g.padding);return(Me(g.text)?g.text.length:1)*r.lineHeight+c.height}function al(g,d,r){let c=B(g);return(r&&"right"!==d||!r&&"right"===d)&&(c=(g=>"left"===g?"right":"right"===g?"left":g)(c)),c}class Ws extends Us{constructor(d){super(),this.id=d.id,this.type=d.type,this.options=void 0,this.ctx=d.ctx,this.chart=d.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(d){this.options=d.setContext(this.getContext()),this.axis=d.axis,this._userMin=this.parse(d.min),this._userMax=this.parse(d.max),this._suggestedMin=this.parse(d.suggestedMin),this._suggestedMax=this.parse(d.suggestedMax)}parse(d,r){return d}getUserBounds(){let{_userMin:d,_userMax:r,_suggestedMin:c,_suggestedMax:h}=this;return d=ke(d,Number.POSITIVE_INFINITY),r=ke(r,Number.NEGATIVE_INFINITY),c=ke(c,Number.POSITIVE_INFINITY),h=ke(h,Number.NEGATIVE_INFINITY),{min:ke(d,c),max:ke(r,h),minDefined:we(d),maxDefined:we(r)}}getMinMax(d){let C,{min:r,max:c,minDefined:h,maxDefined:m}=this.getUserBounds();if(h&&m)return{min:r,max:c};const D=this.getMatchingVisibleMetas();for(let x=0,N=D.length;x<N;++x)C=D[x].controller.getMinMax(this,d),h||(r=Math.min(r,C.min)),m||(c=Math.max(c,C.max));return r=m&&r>c?c:r,c=h&&r>c?r:c,{min:ke(r,ke(c,r)),max:ke(c,ke(r,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const d=this.chart.data;return this.options.labels||(this.isHorizontal()?d.xLabels:d.yLabels)||d.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ee(this.options.beforeUpdate,[this])}update(d,r,c){const{beginAtZero:h,grace:m,ticks:C}=this.options,D=C.sampleSize;this.beforeUpdate(),this.maxWidth=d,this.maxHeight=r,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(g,d,r){const{min:c,max:h}=g,m=ie(d,(h-c)/2),C=(D,x)=>r&&0===D?0:D+x;return{min:C(c,-Math.abs(m)),max:C(h,m)}}(this,m,h),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const x=D<this.ticks.length;this._convertTicksToLabels(x?Xa(this.ticks,D):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),C.display&&(C.autoSkip||"auto"===C.source)&&(this.ticks=function(g,d){const r=g.options.ticks,c=r.maxTicksLimit||function(g){const d=g.options.offset,r=g._tickSize();return Math.floor(Math.min(g._length/r+(d?0:1),g._maxLength/r))}(g),h=r.major.enabled?function(g){const d=[];let r,c;for(r=0,c=g.length;r<c;r++)g[r].major&&d.push(r);return d}(d):[],m=h.length,C=h[0],D=h[m-1],x=[];if(m>c)return function(g,d,r,c){let C,h=0,m=r[0];for(c=Math.ceil(c),C=0;C<g.length;C++)C===m&&(d.push(g[C]),h++,m=r[h*c])}(d,x,h,m/c),x;const N=function(g,d,r){const c=function(g){const d=g.length;let r,c;if(d<2)return!1;for(c=g[0],r=1;r<d;++r)if(g[r]-g[r-1]!==c)return!1;return c}(g),h=d.length/r;if(!c)return Math.max(h,1);const m=function(g){const d=[],r=Math.sqrt(g);let c;for(c=1;c<r;c++)g%c==0&&(d.push(c),d.push(g/c));return r===(0|r)&&d.push(r),d.sort((h,m)=>h-m).pop(),d}(c);for(let C=0,D=m.length-1;C<D;C++){const x=m[C];if(x>h)return x}return Math.max(h,1)}(h,d,c);if(m>0){let Y,le;const De=m>1?Math.round((D-C)/(m-1)):null;for(Fl(d,x,N,ae(De)?0:C-De,C),Y=0,le=m-1;Y<le;Y++)Fl(d,x,N,h[Y],h[Y+1]);return Fl(d,x,N,D,ae(De)?d.length:D+De),x}return Fl(d,x,N),x}(this,this.ticks),this._labelSizes=null),x&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let r,c,d=this.options.reverse;this.isHorizontal()?(r=this.left,c=this.right):(r=this.top,c=this.bottom,d=!d),this._startPixel=r,this._endPixel=c,this._reversePixels=d,this._length=c-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ee(this.options.afterUpdate,[this])}beforeSetDimensions(){ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ee(this.options.afterSetDimensions,[this])}_callHooks(d){this.chart.notifyPlugins(d,this.getContext()),ee(this.options[d],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(d){const r=this.options.ticks;let c,h,m;for(c=0,h=d.length;c<h;c++)m=d[c],m.label=ee(r.callback,[m.value,c,d],this)}afterTickToLabelConversion(){ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const d=this.options,r=d.ticks,c=this.ticks.length,h=r.minRotation||0,m=r.maxRotation;let D,x,N,C=h;if(!this._isVisible()||!r.display||h>=m||c<=1||!this.isHorizontal())return void(this.labelRotation=h);const Y=this._getLabelSizes(),le=Y.widest.width,De=Y.highest.height,Ve=En(this.chart.width-le,0,this.maxWidth);D=d.offset?this.maxWidth/c:Ve/(c-1),le+6>D&&(D=Ve/(c-(d.offset?.5:1)),x=this.maxHeight-Bo(d.grid)-r.padding-Gs(d.title,this.chart.options.font),N=Math.sqrt(le*le+De*De),C=re(Math.min(Math.asin(En((Y.highest.height+6)/D,-1,1)),Math.asin(En(x/N,-1,1))-Math.asin(En(De/N,-1,1)))),C=Math.max(h,Math.min(m,C))),this.labelRotation=C}afterCalculateLabelRotation(){ee(this.options.afterCalculateLabelRotation,[this])}beforeFit(){ee(this.options.beforeFit,[this])}fit(){const d={width:0,height:0},{chart:r,options:{ticks:c,title:h,grid:m}}=this,C=this._isVisible(),D=this.isHorizontal();if(C){const x=Gs(h,r.options.font);if(D?(d.width=this.maxWidth,d.height=Bo(m)+x):(d.height=this.maxHeight,d.width=Bo(m)+x),c.display&&this.ticks.length){const{first:N,last:Y,widest:le,highest:De}=this._getLabelSizes(),Ve=2*c.padding,nt=X(this.labelRotation),dt=Math.cos(nt),_t=Math.sin(nt);D?d.height=Math.min(this.maxHeight,d.height+(c.mirror?0:_t*le.width+dt*De.height)+Ve):d.width=Math.min(this.maxWidth,d.width+(c.mirror?0:dt*le.width+_t*De.height)+Ve),this._calculatePadding(N,Y,_t,dt)}}this._handleMargins(),D?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=d.height):(this.width=d.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(d,r,c,h){const{ticks:{align:m,padding:C},position:D}=this.options,x=0!==this.labelRotation,N="top"!==D&&"x"===this.axis;if(this.isHorizontal()){const Y=this.getPixelForTick(0)-this.left,le=this.right-this.getPixelForTick(this.ticks.length-1);let De=0,Ve=0;x?N?(De=h*d.width,Ve=c*r.height):(De=c*d.height,Ve=h*r.width):"start"===m?Ve=r.width:"end"===m?De=d.width:(De=d.width/2,Ve=r.width/2),this.paddingLeft=Math.max((De-Y+C)*this.width/(this.width-Y),0),this.paddingRight=Math.max((Ve-le+C)*this.width/(this.width-le),0)}else{let Y=r.height/2,le=d.height/2;"start"===m?(Y=0,le=d.height):"end"===m&&(Y=r.height,le=0),this.paddingTop=Y+C,this.paddingBottom=le+C}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ee(this.options.afterFit,[this])}isHorizontal(){const{axis:d,position:r}=this.options;return"top"===r||"bottom"===r||"x"===d}isFullSize(){return this.options.fullSize}_convertTicksToLabels(d){let r,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(d),r=0,c=d.length;r<c;r++)ae(d[r].label)&&(d.splice(r,1),c--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let d=this._labelSizes;if(!d){const r=this.options.ticks.sampleSize;let c=this.ticks;r<c.length&&(c=Xa(c,r)),this._labelSizes=d=this._computeLabelSizes(c,c.length)}return d}_computeLabelSizes(d,r){const{ctx:c,_longestTextCache:h}=this,m=[],C=[];let N,Y,le,De,Ve,nt,dt,_t,Mt,ln,Un,D=0,x=0;for(N=0;N<r;++N){if(De=d[N].label,Ve=this._resolveTickFontOptions(N),c.font=nt=Ve.string,dt=h[nt]=h[nt]||{data:{},gc:[]},_t=Ve.lineHeight,Mt=ln=0,ae(De)||Me(De)){if(Me(De))for(Y=0,le=De.length;Y<le;++Y)Un=De[Y],!ae(Un)&&!Me(Un)&&(Mt=Pr(c,dt.data,dt.gc,Mt,Un),ln+=_t)}else Mt=Pr(c,dt.data,dt.gc,Mt,De),ln=_t;m.push(Mt),C.push(ln),D=Math.max(Mt,D),x=Math.max(ln,x)}!function(g,d){ye(g,r=>{const c=r.gc,h=c.length/2;let m;if(h>d){for(m=0;m<h;++m)delete r.data[c[m]];c.splice(0,h)}})}(h,r);const Sn=m.indexOf(D),Dn=C.indexOf(x),Xn=$n=>({width:m[$n]||0,height:C[$n]||0});return{first:Xn(0),last:Xn(r-1),widest:Xn(Sn),highest:Xn(Dn),widths:m,heights:C}}getLabelForValue(d){return d}getPixelForValue(d,r){return NaN}getValueForPixel(d){}getPixelForTick(d){const r=this.ticks;return d<0||d>r.length-1?null:this.getPixelForValue(r[d].value)}getPixelForDecimal(d){this._reversePixels&&(d=1-d);const r=this._startPixel+d*this._length;return En(this._alignToPixels?xo(this.chart,r,0):r,-32768,32767)}getDecimalForPixel(d){const r=(d-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:d,max:r}=this;return d<0&&r<0?r:d>0&&r>0?d:0}getContext(d){const r=this.ticks||[];if(d>=0&&d<r.length){const c=r[d];return c.$context||(c.$context=function(g,d,r){return Lo(g,{tick:r,index:d,type:"tick"})}(this.getContext(),d,c))}return this.$context||(this.$context=function(g,d){return Lo(g,{scale:d,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const d=this.options.ticks,r=X(this.labelRotation),c=Math.abs(Math.cos(r)),h=Math.abs(Math.sin(r)),m=this._getLabelSizes(),C=d.autoSkipPadding||0,D=m?m.widest.width+C:0,x=m?m.highest.height+C:0;return this.isHorizontal()?x*c>D*h?D/c:x/h:x*h<D*c?x/c:D/h}_isVisible(){const d=this.options.display;return"auto"!==d?!!d:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(d){const r=this.axis,c=this.chart,h=this.options,{grid:m,position:C}=h,D=m.offset,x=this.isHorizontal(),Y=this.ticks.length+(D?1:0),le=Bo(m),De=[],Ve=m.setContext(this.getContext()),nt=Ve.drawBorder?Ve.borderWidth:0,dt=nt/2,_t=function(ti){return xo(c,ti,nt)};let Mt,ln,Un,Sn,Dn,Xn,$n,Jn,si,Zi,oi,Wi;if("top"===C)Mt=_t(this.bottom),Xn=this.bottom-le,Jn=Mt-dt,Zi=_t(d.top)+dt,Wi=d.bottom;else if("bottom"===C)Mt=_t(this.top),Zi=d.top,Wi=_t(d.bottom)-dt,Xn=Mt+dt,Jn=this.top+le;else if("left"===C)Mt=_t(this.right),Dn=this.right-le,$n=Mt-dt,si=_t(d.left)+dt,oi=d.right;else if("right"===C)Mt=_t(this.left),si=d.left,oi=_t(d.right)-dt,Dn=Mt+dt,$n=this.left+le;else if("x"===r){if("center"===C)Mt=_t((d.top+d.bottom)/2+.5);else if(xe(C)){const ti=Object.keys(C)[0];Mt=_t(this.chart.scales[ti].getPixelForValue(C[ti]))}Zi=d.top,Wi=d.bottom,Xn=Mt+dt,Jn=Xn+le}else if("y"===r){if("center"===C)Mt=_t((d.left+d.right)/2);else if(xe(C)){const ti=Object.keys(C)[0];Mt=_t(this.chart.scales[ti].getPixelForValue(C[ti]))}Dn=Mt-dt,$n=Dn-le,si=d.left,oi=d.right}const io=fe(h.ticks.maxTicksLimit,Y),Qn=Math.max(1,Math.ceil(Y/io));for(ln=0;ln<Y;ln+=Qn){const ti=m.setContext(this.getContext(ln)),Oi=ti.lineWidth,Dr=ti.color,ji=m.borderDash||[],Ur=ti.borderDashOffset,Jr=ti.tickWidth,On=ti.tickColor,bi=ti.tickBorderDash||[],mr=ti.tickBorderDashOffset;Un=dd(this,ln,D),void 0!==Un&&(Sn=xo(c,Un,Oi),x?Dn=$n=si=oi=Sn:Xn=Jn=Zi=Wi=Sn,De.push({tx1:Dn,ty1:Xn,tx2:$n,ty2:Jn,x1:si,y1:Zi,x2:oi,y2:Wi,width:Oi,color:Dr,borderDash:ji,borderDashOffset:Ur,tickWidth:Jr,tickColor:On,tickBorderDash:bi,tickBorderDashOffset:mr}))}return this._ticksLength=Y,this._borderValue=Mt,De}_computeLabelItems(d){const r=this.axis,c=this.options,{position:h,ticks:m}=c,C=this.isHorizontal(),D=this.ticks,{align:x,crossAlign:N,padding:Y,mirror:le}=m,De=Bo(c.grid),Ve=De+Y,nt=le?-Y:Ve,dt=-X(this.labelRotation),_t=[];let Mt,ln,Un,Sn,Dn,Xn,$n,Jn,si,Zi,oi,Wi,io="middle";if("top"===h)Xn=this.bottom-nt,$n=this._getXAxisLabelAlignment();else if("bottom"===h)Xn=this.top+nt,$n=this._getXAxisLabelAlignment();else if("left"===h){const ti=this._getYAxisLabelAlignment(De);$n=ti.textAlign,Dn=ti.x}else if("right"===h){const ti=this._getYAxisLabelAlignment(De);$n=ti.textAlign,Dn=ti.x}else if("x"===r){if("center"===h)Xn=(d.top+d.bottom)/2+Ve;else if(xe(h)){const ti=Object.keys(h)[0];Xn=this.chart.scales[ti].getPixelForValue(h[ti])+Ve}$n=this._getXAxisLabelAlignment()}else if("y"===r){if("center"===h)Dn=(d.left+d.right)/2-Ve;else if(xe(h)){const ti=Object.keys(h)[0];Dn=this.chart.scales[ti].getPixelForValue(h[ti])}$n=this._getYAxisLabelAlignment(De).textAlign}"y"===r&&("start"===x?io="top":"end"===x&&(io="bottom"));const Qn=this._getLabelSizes();for(Mt=0,ln=D.length;Mt<ln;++Mt){Un=D[Mt],Sn=Un.label;const ti=m.setContext(this.getContext(Mt));Jn=this.getPixelForTick(Mt)+m.labelOffset,si=this._resolveTickFontOptions(Mt),Zi=si.lineHeight,oi=Me(Sn)?Sn.length:1;const Oi=oi/2,Dr=ti.color,ji=ti.textStrokeColor,Ur=ti.textStrokeWidth;let Jr;if(C?(Dn=Jn,Wi="top"===h?"near"===N||0!==dt?-oi*Zi+Zi/2:"center"===N?-Qn.highest.height/2-Oi*Zi+Zi:Zi/2-Qn.highest.height:"near"===N||0!==dt?Zi/2:"center"===N?Qn.highest.height/2-Oi*Zi:Qn.highest.height-oi*Zi,le&&(Wi*=-1)):(Xn=Jn,Wi=(1-oi)*Zi/2),ti.showLabelBackdrop){const On=lr(ti.backdropPadding),bi=Qn.heights[Mt],mr=Qn.widths[Mt];let Vo=Xn+Wi-On.top,pc=Dn-On.left;switch(io){case"middle":Vo-=bi/2;break;case"bottom":Vo-=bi}switch($n){case"center":pc-=mr/2;break;case"right":pc-=mr}Jr={left:pc,top:Vo,width:mr+On.width,height:bi+On.height,color:ti.backdropColor}}_t.push({rotation:dt,label:Sn,font:si,color:Dr,strokeColor:ji,strokeWidth:Ur,textOffset:Wi,textAlign:$n,textBaseline:io,translation:[Dn,Xn],backdrop:Jr})}return _t}_getXAxisLabelAlignment(){const{position:d,ticks:r}=this.options;if(-X(this.labelRotation))return"top"===d?"left":"right";let h="center";return"start"===r.align?h="left":"end"===r.align&&(h="right"),h}_getYAxisLabelAlignment(d){const{position:r,ticks:{crossAlign:c,mirror:h,padding:m}}=this.options,D=d+m,x=this._getLabelSizes().widest.width;let N,Y;return"left"===r?h?(Y=this.right+m,"near"===c?N="left":"center"===c?(N="center",Y+=x/2):(N="right",Y+=x)):(Y=this.right-D,"near"===c?N="right":"center"===c?(N="center",Y-=x/2):(N="left",Y=this.left)):"right"===r?h?(Y=this.left+m,"near"===c?N="right":"center"===c?(N="center",Y-=x/2):(N="left",Y-=x)):(Y=this.left+D,"near"===c?N="left":"center"===c?(N="center",Y+=x/2):(N="right",Y=this.right)):N="right",{textAlign:N,x:Y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const d=this.chart,r=this.options.position;return"left"===r||"right"===r?{top:0,left:this.left,bottom:d.height,right:this.right}:"top"===r||"bottom"===r?{top:this.top,left:0,bottom:this.bottom,right:d.width}:void 0}drawBackground(){const{ctx:d,options:{backgroundColor:r},left:c,top:h,width:m,height:C}=this;r&&(d.save(),d.fillStyle=r,d.fillRect(c,h,m,C),d.restore())}getLineWidthForValue(d){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const h=this.ticks.findIndex(m=>m.value===d);return h>=0?r.setContext(this.getContext(h)).lineWidth:0}drawGrid(d){const r=this.options.grid,c=this.ctx,h=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(d));let m,C;const D=(x,N,Y)=>{!Y.width||!Y.color||(c.save(),c.lineWidth=Y.width,c.strokeStyle=Y.color,c.setLineDash(Y.borderDash||[]),c.lineDashOffset=Y.borderDashOffset,c.beginPath(),c.moveTo(x.x,x.y),c.lineTo(N.x,N.y),c.stroke(),c.restore())};if(r.display)for(m=0,C=h.length;m<C;++m){const x=h[m];r.drawOnChartArea&&D({x:x.x1,y:x.y1},{x:x.x2,y:x.y2},x),r.drawTicks&&D({x:x.tx1,y:x.ty1},{x:x.tx2,y:x.ty2},{color:x.tickColor,width:x.tickWidth,borderDash:x.tickBorderDash,borderDashOffset:x.tickBorderDashOffset})}}drawBorder(){const{chart:d,ctx:r,options:{grid:c}}=this,h=c.setContext(this.getContext()),m=c.drawBorder?h.borderWidth:0;if(!m)return;const C=c.setContext(this.getContext(0)).lineWidth,D=this._borderValue;let x,N,Y,le;this.isHorizontal()?(x=xo(d,this.left,m)-m/2,N=xo(d,this.right,C)+C/2,Y=le=D):(Y=xo(d,this.top,m)-m/2,le=xo(d,this.bottom,C)+C/2,x=N=D),r.save(),r.lineWidth=h.borderWidth,r.strokeStyle=h.borderColor,r.beginPath(),r.moveTo(x,Y),r.lineTo(N,le),r.stroke(),r.restore()}drawLabels(d){if(!this.options.ticks.display)return;const c=this.ctx,h=this._computeLabelArea();h&&Lr(c,h);const m=this._labelItems||(this._labelItems=this._computeLabelItems(d));let C,D;for(C=0,D=m.length;C<D;++C){const x=m[C],N=x.font,Y=x.label;x.backdrop&&(c.fillStyle=x.backdrop.color,c.fillRect(x.backdrop.left,x.backdrop.top,x.backdrop.width,x.backdrop.height)),ar(c,Y,0,x.textOffset,N,x)}h&&fo(c)}drawTitle(){const{ctx:d,options:{position:r,title:c,reverse:h}}=this;if(!c.display)return;const m=_r(c.font),C=lr(c.padding),D=c.align;let x=m.lineHeight/2;"bottom"===r||"center"===r||xe(r)?(x+=C.bottom,Me(c.text)&&(x+=m.lineHeight*(c.text.length-1))):x+=C.top;const{titleX:N,titleY:Y,maxWidth:le,rotation:De}=function(g,d,r,c){const{top:h,left:m,bottom:C,right:D,chart:x}=g,{chartArea:N,scales:Y}=x;let De,Ve,nt,le=0;const dt=C-h,_t=D-m;if(g.isHorizontal()){if(Ve=ne(c,m,D),xe(r)){const Mt=Object.keys(r)[0];nt=Y[Mt].getPixelForValue(r[Mt])+dt-d}else nt="center"===r?(N.bottom+N.top)/2+dt-d:jc(g,r,d);De=D-m}else{if(xe(r)){const Mt=Object.keys(r)[0];Ve=Y[Mt].getPixelForValue(r[Mt])-_t+d}else Ve="center"===r?(N.left+N.right)/2-_t+d:jc(g,r,d);nt=ne(c,C,h),le="left"===r?-dn:dn}return{titleX:Ve,titleY:nt,maxWidth:De,rotation:le}}(this,x,r,D);ar(d,c.text,0,0,m,{color:c.color,maxWidth:le,rotation:De,textAlign:al(D,r,h),textBaseline:"middle",translation:[N,Y]})}draw(d){!this._isVisible()||(this.drawBackground(),this.drawGrid(d),this.drawBorder(),this.drawTitle(),this.drawLabels(d))}_layers(){const d=this.options,r=d.ticks&&d.ticks.z||0,c=fe(d.grid&&d.grid.z,-1);return this._isVisible()&&this.draw===Ws.prototype.draw?[{z:c,draw:h=>{this.drawBackground(),this.drawGrid(h),this.drawTitle()}},{z:c+1,draw:()=>{this.drawBorder()}},{z:r,draw:h=>{this.drawLabels(h)}}]:[{z:r,draw:h=>{this.draw(h)}}]}getMatchingVisibleMetas(d){const r=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",h=[];let m,C;for(m=0,C=r.length;m<C;++m){const D=r[m];D[c]===this.id&&(!d||D.type===d)&&h.push(D)}return h}_resolveTickFontOptions(d){return _r(this.options.ticks.setContext(this.getContext(d)).font)}_maxDigits(){const d=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/d}}class Bl{constructor(d,r,c){this.type=d,this.scope=r,this.override=c,this.items=Object.create(null)}isForType(d){return Object.prototype.isPrototypeOf.call(this.type.prototype,d.prototype)}register(d){const r=Object.getPrototypeOf(d);let c;var g;"id"in(g=r)&&"defaults"in g&&(c=this.register(r));const h=this.items,m=d.id,C=this.scope+"."+m;if(!m)throw new Error("class does not have id: "+d);return m in h||(h[m]=d,function(g,d,r){const c=Ze(Object.create(null),[r?di.get(r):{},di.get(d),g.defaults]);di.set(d,c),g.defaultRoutes&&function(g,d){Object.keys(d).forEach(r=>{const c=r.split("."),h=c.pop(),m=[g].concat(c).join("."),C=d[r].split("."),D=C.pop(),x=C.join(".");di.route(m,h,x,D)})}(d,g.defaultRoutes),g.descriptors&&di.describe(d,g.descriptors)}(d,C,c),this.override&&di.override(d.id,d.overrides)),C}get(d){return this.items[d]}unregister(d){const r=this.items,c=d.id,h=this.scope;c in r&&delete r[c],h&&c in di[h]&&(delete di[h][c],this.override&&delete ai[c])}}var js=new class{constructor(){this.controllers=new Bl(fs,"datasets",!0),this.elements=new Bl(Us,"elements"),this.plugins=new Bl(Object,"plugins"),this.scales=new Bl(Ws,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...d){this._each("register",d)}remove(...d){this._each("unregister",d)}addControllers(...d){this._each("register",d,this.controllers)}addElements(...d){this._each("register",d,this.elements)}addPlugins(...d){this._each("register",d,this.plugins)}addScales(...d){this._each("register",d,this.scales)}getController(d){return this._get(d,this.controllers,"controller")}getElement(d){return this._get(d,this.elements,"element")}getPlugin(d){return this._get(d,this.plugins,"plugin")}getScale(d){return this._get(d,this.scales,"scale")}removeControllers(...d){this._each("unregister",d,this.controllers)}removeElements(...d){this._each("unregister",d,this.elements)}removePlugins(...d){this._each("unregister",d,this.plugins)}removeScales(...d){this._each("unregister",d,this.scales)}_each(d,r,c){[...r].forEach(h=>{const m=c||this._getRegistryForType(h);c||m.isForType(h)||m===this.plugins&&h.id?this._exec(d,m,h):ye(h,C=>{const D=c||this._getRegistryForType(C);this._exec(d,D,C)})})}_exec(d,r,c){const h=sn(d);ee(c["before"+h],[],c),r[d](c),ee(c["after"+h],[],c)}_getRegistryForType(d){for(let r=0;r<this._typedRegistries.length;r++){const c=this._typedRegistries[r];if(c.isForType(d))return c}return this.plugins}_get(d,r,c){const h=r.get(d);if(void 0===h)throw new Error('"'+d+'" is not a registered '+c+".");return h}};class Hl{constructor(){this._init=[]}notify(d,r,c,h){"beforeInit"===r&&(this._init=this._createDescriptors(d,!0),this._notify(this._init,d,"install"));const m=h?this._descriptors(d).filter(h):this._descriptors(d),C=this._notify(m,d,r,c);return"destroy"===r&&(this._notify(m,d,"stop"),this._notify(this._init,d,"uninstall")),C}_notify(d,r,c,h){h=h||{};for(const m of d){const C=m.plugin;if(!1===ee(C[c],[r,h,m.options],C)&&h.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(d){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(d);return this._notifyStateChanges(d),r}_createDescriptors(d,r){const c=d&&d.config,h=fe(c.options&&c.options.plugins,{}),m=function(g){const d=[],r=Object.keys(js.plugins.items);for(let h=0;h<r.length;h++)d.push(js.getPlugin(r[h]));const c=g.plugins||[];for(let h=0;h<c.length;h++){const m=c[h];-1===d.indexOf(m)&&d.push(m)}return d}(c);return!1!==h||r?function(g,d,r,c){const h=[],m=g.getContext();for(let C=0;C<d.length;C++){const D=d[C],N=no(r[D.id],c);null!==N&&h.push({plugin:D,options:pd(g.config,D,N,m)})}return h}(d,m,h,r):[]}_notifyStateChanges(d){const r=this._oldCache||[],c=this._cache,h=(m,C)=>m.filter(D=>!C.some(x=>D.plugin.id===x.plugin.id));this._notify(h(r,c),d,"stop"),this._notify(h(c,r),d,"start")}}function no(g,d){return d||!1!==g?!0===g?{}:g:null}function pd(g,d,r,c){const h=g.pluginScopeKeys(d),m=g.getOptionScopes(r,h);return g.createResolver(m,c,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ea(g,d){return((d.datasets||{})[g]||{}).indexAxis||d.indexAxis||(di.datasets[g]||{}).indexAxis||"x"}function yr(g,d){return"x"===g||"y"===g?g:d.axis||function(g){return"top"===g||"bottom"===g?"x":"left"===g||"right"===g?"y":void 0}(d.position)||g.charAt(0).toLowerCase()}function Aa(g){const d=g.options||(g.options={});d.plugins=fe(d.plugins,{}),d.scales=function(g,d){const r=ai[g.type]||{scales:{}},c=d.scales||{},h=Ea(g.type,d),m=Object.create(null),C=Object.create(null);return Object.keys(c).forEach(D=>{const x=c[D];if(!xe(x))return console.error(`Invalid scale configuration for scale: ${D}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${D}`);const N=yr(D,x),Y=function(g,d){return g===d?"_index_":"_value_"}(N,h),le=r.scales||{};m[N]=m[N]||D,C[D]=Be(Object.create(null),[{axis:N},x,le[N],le[Y]])}),g.data.datasets.forEach(D=>{const x=D.type||g.type,N=D.indexAxis||Ea(x,d),le=(ai[x]||{}).scales||{};Object.keys(le).forEach(De=>{const Ve=function(g,d){let r=g;return"_index_"===g?r=d:"_value_"===g&&(r="x"===d?"y":"x"),r}(De,N),nt=D[Ve+"AxisID"]||m[Ve]||Ve;C[nt]=C[nt]||Object.create(null),Be(C[nt],[{axis:Ve},c[nt],le[De]])})}),Object.keys(C).forEach(D=>{const x=C[D];Be(x,[di.scales[x.type],di.scale])}),C}(g,d)}function Oa(g){return(g=g||{}).datasets=g.datasets||[],g.labels=g.labels||[],g}const Ca=new Map,Su=new Set;function Ta(g,d){let r=Ca.get(g);return r||(r=d(),Ca.set(g,r),Su.add(r)),r}const Za=(g,d,r)=>{const c=Et(d,r);void 0!==c&&g.add(c)};class Tc{constructor(d){var g;this._config=((g=(g=d)||{}).data=Oa(g.data),Aa(g),g),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(d){this._config.type=d}get data(){return this._config.data}set data(d){this._config.data=Oa(d)}get options(){return this._config.options}set options(d){this._config.options=d}get plugins(){return this._config.plugins}update(){const d=this._config;this.clearCache(),Aa(d)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(d){return Ta(d,()=>[[`datasets.${d}`,""]])}datasetAnimationScopeKeys(d,r){return Ta(`${d}.transition.${r}`,()=>[[`datasets.${d}.transitions.${r}`,`transitions.${r}`],[`datasets.${d}`,""]])}datasetElementScopeKeys(d,r){return Ta(`${d}-${r}`,()=>[[`datasets.${d}.elements.${r}`,`datasets.${d}`,`elements.${r}`,""]])}pluginScopeKeys(d){const r=d.id;return Ta(`${this.type}-plugin-${r}`,()=>[[`plugins.${r}`,...d.additionalOptionScopes||[]]])}_cachedScopes(d,r){const c=this._scopeCache;let h=c.get(d);return(!h||r)&&(h=new Map,c.set(d,h)),h}getOptionScopes(d,r,c){const{options:h,type:m}=this,C=this._cachedScopes(d,c),D=C.get(r);if(D)return D;const x=new Set;r.forEach(Y=>{d&&(x.add(d),Y.forEach(le=>Za(x,d,le))),Y.forEach(le=>Za(x,h,le)),Y.forEach(le=>Za(x,ai[m]||{},le)),Y.forEach(le=>Za(x,di,le)),Y.forEach(le=>Za(x,ro,le))});const N=Array.from(x);return 0===N.length&&N.push(Object.create(null)),Su.has(r)&&C.set(r,N),N}chartOptionScopes(){const{options:d,type:r}=this;return[d,ai[r]||{},di.datasets[r]||{},{type:r},di,ro]}resolveNamedOptions(d,r,c,h=[""]){const m={$shared:!0},{resolver:C,subPrefixes:D}=Kc(this._resolverCache,d,h);let x=C;(function(g,d){const{isScriptable:r,isIndexable:c}=Zo(g);for(const h of d){const m=r(h),C=c(h),D=(C||m)&&g[h];if(m&&(at(D)||Du(D))||C&&Me(D))return!0}return!1})(C,r)&&(m.$shared=!1,x=pr(C,c=at(c)?c():c,this.createResolver(d,c,D)));for(const N of r)m[N]=x[N];return m}createResolver(d,r,c=[""],h){const{resolver:m}=Kc(this._resolverCache,d,c);return xe(r)?pr(m,r,void 0,h):m}}function Kc(g,d,r){let c=g.get(d);c||(c=new Map,g.set(d,c));const h=r.join();let m=c.get(h);return m||(m={resolver:No(d,r),subPrefixes:r.filter(D=>!D.toLowerCase().includes("hover"))},c.set(h,m)),m}const Du=g=>xe(g)&&Object.getOwnPropertyNames(g).reduce((d,r)=>d||at(g[r]),!1),tc=["top","bottom","left","right","chartArea"];function Ru(g,d){return"top"===g||"bottom"===g||-1===tc.indexOf(g)&&"x"===d}function xu(g,d){return function(r,c){return r[g]===c[g]?r[d]-c[d]:r[g]-c[g]}}function nc(g){const d=g.chart,r=d.options.animation;d.notifyPlugins("afterRender"),ee(r&&r.onComplete,[g],d)}function Ul(g){const d=g.chart,r=d.options.animation;ee(r&&r.onProgress,[g],d)}function Gl(g){return fr()&&"string"==typeof g?g=document.getElementById(g):g&&g.length&&(g=g[0]),g&&g.canvas&&(g=g.canvas),g}const Ko={},Iu=g=>{const d=Gl(g);return Object.values(Ko).filter(r=>r.canvas===d).pop()};class ic{constructor(d,r){const c=this.config=new Tc(r),h=Gl(d),m=Iu(h);if(m)throw new Error("Canvas is already in use. Chart with ID '"+m.id+"' must be destroyed before the canvas can be reused.");const C=c.createResolver(c.chartOptionScopes(),this.getContext());var g;this.platform=new(c.platform||(g=h,!fr()||"undefined"!=typeof OffscreenCanvas&&g instanceof OffscreenCanvas?bu:ol)),this.platform.updateConfig(c);const D=this.platform.acquireContext(h,C.aspectRatio),x=D&&D.canvas,N=x&&x.height,Y=x&&x.width;this.id=de(),this.ctx=D,this.canvas=x,this.width=Y,this.height=N,this._options=C,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Hl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(g,d){let r;return function(...c){return d?(clearTimeout(r),r=setTimeout(g,d,c)):g.apply(this,c),d}}(le=>this.update(le),C.resizeDelay||0),Ko[this.id]=this,D&&x?(xr.listen(this,"complete",nc),xr.listen(this,"progress",Ul),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:d,maintainAspectRatio:r},width:c,height:h,_aspectRatio:m}=this;return ae(d)?r&&m?m:h?c/h:null:d}get data(){return this.config.data}set data(d){this.config.data=d}get options(){return this._options}set options(d){this.config.options=d}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Es(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zr(this.canvas,this.ctx),this}stop(){return xr.stop(this),this}resize(d,r){xr.running(this)?this._resizeBeforeDraw={width:d,height:r}:this._resize(d,r)}_resize(d,r){const c=this.options,C=this.platform.getMaximumSize(this.canvas,d,r,c.maintainAspectRatio&&this.aspectRatio),D=c.devicePixelRatio||this.platform.getDevicePixelRatio(),x=this.width?"resize":"attach";this.width=C.width,this.height=C.height,this._aspectRatio=this.aspectRatio,Es(this,D,!0)&&(this.notifyPlugins("resize",{size:C}),ee(c.onResize,[this,C],this),this.attached&&this._doResize(x)&&this.render())}ensureScalesHaveIDs(){ye(this.options.scales||{},(c,h)=>{c.id=h})}buildOrUpdateScales(){const d=this.options,r=d.scales,c=this.scales,h=Object.keys(c).reduce((C,D)=>(C[D]=!1,C),{});let m=[];r&&(m=m.concat(Object.keys(r).map(C=>{const D=r[C],x=yr(C,D),N="r"===x,Y="x"===x;return{options:D,dposition:N?"chartArea":Y?"bottom":"left",dtype:N?"radialLinear":Y?"category":"linear"}}))),ye(m,C=>{const D=C.options,x=D.id,N=yr(x,D),Y=fe(D.type,C.dtype);(void 0===D.position||Ru(D.position,N)!==Ru(C.dposition))&&(D.position=C.dposition),h[x]=!0;let le=null;x in c&&c[x].type===Y?le=c[x]:(le=new(js.getScale(Y))({id:x,type:Y,ctx:this.ctx,chart:this}),c[le.id]=le),le.init(D,d)}),ye(h,(C,D)=>{C||delete c[D]}),ye(c,C=>{is.configure(this,C,C.options),is.addBox(this,C)})}_updateMetasets(){const d=this._metasets,r=this.data.datasets.length,c=d.length;if(d.sort((h,m)=>h.index-m.index),c>r){for(let h=r;h<c;++h)this._destroyDatasetMeta(h);d.splice(r,c-r)}this._sortedMetasets=d.slice(0).sort(xu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:d,data:{datasets:r}}=this;d.length>r.length&&delete this._stacks,d.forEach((c,h)=>{0===r.filter(m=>m===c._dataset).length&&this._destroyDatasetMeta(h)})}buildOrUpdateControllers(){const d=[],r=this.data.datasets;let c,h;for(this._removeUnreferencedMetasets(),c=0,h=r.length;c<h;c++){const m=r[c];let C=this.getDatasetMeta(c);const D=m.type||this.config.type;if(C.type&&C.type!==D&&(this._destroyDatasetMeta(c),C=this.getDatasetMeta(c)),C.type=D,C.indexAxis=m.indexAxis||Ea(D,this.options),C.order=m.order||0,C.index=c,C.label=""+m.label,C.visible=this.isDatasetVisible(c),C.controller)C.controller.updateIndex(c),C.controller.linkScales();else{const x=js.getController(D),{datasetElementType:N,dataElementType:Y}=di.datasets[D];Object.assign(x.prototype,{dataElementType:js.getElement(Y),datasetElementType:N&&js.getElement(N)}),C.controller=new x(this,c),d.push(C.controller)}}return this._updateMetasets(),d}_resetElements(){ye(this.data.datasets,(d,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(d){const r=this.config;r.update();const c=this._options=r.createResolver(r.chartOptionScopes(),this.getContext());ye(this.scales,N=>{is.removeBox(this,N)});const h=this._animationsDisabled=!c.animation;if(this.ensureScalesHaveIDs(),this.buildOrUpdateScales(),(!((g,d)=>{if(g.size!==d.size)return!1;for(const r of g)if(!d.has(r))return!1;return!0})(new Set(Object.keys(this._listeners)),new Set(c.events))||!!this._responsiveListeners!==c.responsive)&&(this.unbindEvents(),this.bindEvents()),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:d,cancelable:!0}))return;const D=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let x=0;for(let N=0,Y=this.data.datasets.length;N<Y;N++){const{controller:le}=this.getDatasetMeta(N),De=!h&&-1===D.indexOf(le);le.buildOrUpdateElements(De),x=Math.max(+le.getMaxOverflow(),x)}x=this._minPadding=c.layout.autoPadding?x:0,this._updateLayout(x),h||ye(D,N=>{N.reset()}),this._updateDatasets(d),this.notifyPlugins("afterUpdate",{mode:d}),this._layers.sort(xu("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateLayout(d){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;is.update(this,this.width,this.height,d);const r=this.chartArea,c=r.width<=0||r.height<=0;this._layers=[],ye(this.boxes,h=>{c&&"chartArea"===h.position||(h.configure&&h.configure(),this._layers.push(...h._layers()))},this),this._layers.forEach((h,m)=>{h._idx=m}),this.notifyPlugins("afterLayout")}_updateDatasets(d){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:d,cancelable:!0})){for(let r=0,c=this.data.datasets.length;r<c;++r)this._updateDataset(r,at(d)?d({datasetIndex:r}):d);this.notifyPlugins("afterDatasetsUpdate",{mode:d})}}_updateDataset(d,r){const c=this.getDatasetMeta(d),h={meta:c,index:d,mode:r,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",h)&&(c.controller._update(r),h.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",h))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(xr.has(this)?this.attached&&!xr.running(this)&&xr.start(this):(this.draw(),nc({chart:this})))}draw(){let d;if(this._resizeBeforeDraw){const{width:c,height:h}=this._resizeBeforeDraw;this._resize(c,h),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const r=this._layers;for(d=0;d<r.length&&r[d].z<=0;++d)r[d].draw(this.chartArea);for(this._drawDatasets();d<r.length;++d)r[d].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(d){const r=this._sortedMetasets,c=[];let h,m;for(h=0,m=r.length;h<m;++h){const C=r[h];(!d||C.visible)&&c.push(C)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const d=this.getSortedVisibleDatasetMetas();for(let r=d.length-1;r>=0;--r)this._drawDataset(d[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(d){const r=this.ctx,c=d._clip,h=!c.disabled,m=this.chartArea,C={meta:d,index:d.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",C)&&(h&&Lr(r,{left:!1===c.left?0:m.left-c.left,right:!1===c.right?this.width:m.right+c.right,top:!1===c.top?0:m.top-c.top,bottom:!1===c.bottom?this.height:m.bottom+c.bottom}),d.controller.draw(),h&&fo(r),C.cancelable=!1,this.notifyPlugins("afterDatasetDraw",C))}getElementsAtEventForMode(d,r,c,h){const m=zi.modes[r];return"function"==typeof m?m(this,d,c,h):[]}getDatasetMeta(d){const r=this.data.datasets[d],c=this._metasets;let h=c.filter(m=>m&&m._dataset===r).pop();return h||(h={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:d,_dataset:r,_parsed:[],_sorted:!1},c.push(h)),h}getContext(){return this.$context||(this.$context=Lo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(d){const r=this.data.datasets[d];if(!r)return!1;const c=this.getDatasetMeta(d);return"boolean"==typeof c.hidden?!c.hidden:!r.hidden}setDatasetVisibility(d,r){this.getDatasetMeta(d).hidden=!r}toggleDataVisibility(d){this._hiddenIndices[d]=!this._hiddenIndices[d]}getDataVisibility(d){return!this._hiddenIndices[d]}_updateVisibility(d,r,c){const h=c?"show":"hide",m=this.getDatasetMeta(d),C=m.controller._resolveAnimations(void 0,h);rt(r)?(m.data[r].hidden=!c,this.update()):(this.setDatasetVisibility(d,c),C.update(m,{visible:c}),this.update(D=>D.datasetIndex===d?h:void 0))}hide(d,r){this._updateVisibility(d,r,!1)}show(d,r){this._updateVisibility(d,r,!0)}_destroyDatasetMeta(d){const r=this._metasets[d];r&&r.controller&&r.controller._destroy(),delete this._metasets[d]}_stop(){let d,r;for(this.stop(),xr.remove(this),d=0,r=this.data.datasets.length;d<r;++d)this._destroyDatasetMeta(d)}destroy(){const{canvas:d,ctx:r}=this;this._stop(),this.config.clearCache(),d&&(this.unbindEvents(),zr(d,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Ko[this.id]}toBase64Image(...d){return this.canvas.toDataURL(...d)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const d=this._listeners,r=this.platform,c=(m,C)=>{r.addEventListener(this,m,C),d[m]=C},h=(m,C,D)=>{m.offsetX=C,m.offsetY=D,this._eventHandler(m)};ye(this.options.events,m=>c(m,h))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const d=this._responsiveListeners,r=this.platform,c=(x,N)=>{r.addEventListener(this,x,N),d[x]=N},h=(x,N)=>{d[x]&&(r.removeEventListener(this,x,N),delete d[x])},m=(x,N)=>{this.canvas&&this.resize(x,N)};let C;const D=()=>{h("attach",D),this.attached=!0,this.resize(),c("resize",m),c("detach",C)};C=()=>{this.attached=!1,h("resize",m),this._stop(),this._resize(0,0),c("attach",D)},r.isAttached(this.canvas)?D():C()}unbindEvents(){ye(this._listeners,(d,r)=>{this.platform.removeEventListener(this,r,d)}),this._listeners={},ye(this._responsiveListeners,(d,r)=>{this.platform.removeEventListener(this,r,d)}),this._responsiveListeners=void 0}updateHoverStyle(d,r,c){const h=c?"set":"remove";let m,C,D,x;for("dataset"===r&&(m=this.getDatasetMeta(d[0].datasetIndex),m.controller["_"+h+"DatasetHoverStyle"]()),D=0,x=d.length;D<x;++D){C=d[D];const N=C&&this.getDatasetMeta(C.datasetIndex).controller;N&&N[h+"HoverStyle"](C.element,C.datasetIndex,C.index)}}getActiveElements(){return this._active||[]}setActiveElements(d){const r=this._active||[],c=d.map(({datasetIndex:m,index:C})=>{const D=this.getDatasetMeta(m);if(!D)throw new Error("No dataset found at index "+m);return{datasetIndex:m,element:D.data[C],index:C}});!Ce(c,r)&&(this._active=c,this._updateHoverStyles(c,r))}notifyPlugins(d,r,c){return this._plugins.notify(this,d,r,c)}_updateHoverStyles(d,r,c){const h=this.options.hover,m=(x,N)=>x.filter(Y=>!N.some(le=>Y.datasetIndex===le.datasetIndex&&Y.index===le.index)),C=m(r,d),D=c?d:m(d,r);C.length&&this.updateHoverStyle(C,h.mode,!1),D.length&&h.mode&&this.updateHoverStyle(D,h.mode,!0)}_eventHandler(d,r){const c={event:d,replay:r,cancelable:!0},h=C=>(C.options.events||this.options.events).includes(d.native.type);if(!1===this.notifyPlugins("beforeEvent",c,h))return;const m=this._handleEvent(d,r);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,h),(m||c.changed)&&this.render(),this}_handleEvent(d,r){const{_active:c=[],options:h}=this,m=h.hover;let D=[],x=!1,N=null;return"mouseout"!==d.type&&(D=this.getElementsAtEventForMode(d,m.mode,m,r),N="click"===d.type?this._lastEvent:d),this._lastEvent=null,Yr(d,this.chartArea,this._minPadding)&&(ee(h.onHover,[d,D,this],this),("mouseup"===d.type||"click"===d.type||"contextmenu"===d.type)&&ee(h.onClick,[d,D,this],this)),x=!Ce(D,c),(x||r)&&(this._active=D,this._updateHoverStyles(D,c,r)),this._lastEvent=N,x}}const rc=()=>ye(ic.instances,g=>g._plugins.invalidate()),Rs=!0;function ka(g,d,r){const{startAngle:c,pixelMargin:h,x:m,y:C,outerRadius:D,innerRadius:x}=d;let N=h/D;g.beginPath(),g.arc(m,C,D,c-N,r+N),x>h?(N=h/x,g.arc(m,C,x,r+N,c-N,!0)):g.arc(m,C,h,r+dn,c-dn),g.closePath(),g.clip()}function Ge(g,d,r,c){return{x:r+g*Math.cos(d),y:c+g*Math.sin(d)}}function lt(g,d,r,c,h){const{x:m,y:C,startAngle:D,pixelMargin:x,innerRadius:N}=d,Y=Math.max(d.outerRadius+c+r-x,0),le=N>0?N+c+r+x:0;let De=0;const Ve=h-D;if(c){const ji=((N>0?N-c:0)+(Y>0?Y-c:0))/2;De=(Ve-(0!==ji?Ve*ji/(ji+c):Ve))/2}const dt=(Ve-Math.max(.001,Ve*Y-r/zt)/Y)/2,_t=D+dt+De,Mt=h-dt-De,{outerStart:ln,outerEnd:Un,innerStart:Sn,innerEnd:Dn}=function(g,d,r,c){const h=function(g){return vs(g,["outerStart","outerEnd","innerStart","innerEnd"])}(g.options.borderRadius),m=(r-d)/2,C=Math.min(m,c*d/2),D=x=>{const N=(r-Math.min(m,x))*c/2;return En(x,0,Math.min(m,N))};return{outerStart:D(h.outerStart),outerEnd:D(h.outerEnd),innerStart:En(h.innerStart,0,C),innerEnd:En(h.innerEnd,0,C)}}(d,le,Y,Mt-_t),Xn=Y-ln,$n=Y-Un,Jn=_t+ln/Xn,si=Mt-Un/$n,Zi=le+Sn,oi=le+Dn,Wi=_t+Sn/Zi,io=Mt-Dn/oi;if(g.beginPath(),g.arc(m,C,Y,Jn,si),Un>0){const Oi=Ge($n,si,m,C);g.arc(Oi.x,Oi.y,Un,si,Mt+dn)}const Qn=Ge(oi,Mt,m,C);if(g.lineTo(Qn.x,Qn.y),Dn>0){const Oi=Ge(oi,io,m,C);g.arc(Oi.x,Oi.y,Dn,Mt+dn,io+Math.PI)}if(g.arc(m,C,le,Mt-Dn/le,_t+Sn/le,!0),Sn>0){const Oi=Ge(Zi,Wi,m,C);g.arc(Oi.x,Oi.y,Sn,Wi+Math.PI,_t-dn)}const ti=Ge(Xn,_t,m,C);if(g.lineTo(ti.x,ti.y),ln>0){const Oi=Ge(Xn,Jn,m,C);g.arc(Oi.x,Oi.y,ln,_t-dn,Jn)}g.closePath()}Object.defineProperties(ic,{defaults:{enumerable:Rs,value:di},instances:{enumerable:Rs,value:Ko},overrides:{enumerable:Rs,value:ai},registry:{enumerable:Rs,value:js},version:{enumerable:Rs,value:"3.6.0"},getChart:{enumerable:Rs,value:Iu},register:{enumerable:Rs,value:(...g)=>{js.add(...g),rc()}},unregister:{enumerable:Rs,value:(...g)=>{js.remove(...g),rc()}}});class Nt extends Us{constructor(d){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,d&&Object.assign(this,d)}inRange(d,r,c){const h=this.getProps(["x","y"],c),{angle:m,distance:C}=function(g,d){const r=d.x-g.x,c=d.y-g.y,h=Math.sqrt(r*r+c*c);let m=Math.atan2(c,r);return m<-.5*zt&&(m+=$t),{angle:m,distance:h}}(h,{x:d,y:r}),{startAngle:D,endAngle:x,innerRadius:N,outerRadius:Y,circumference:le}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),De=this.options.spacing/2;return(le>=$t||wn(m,D,x))&&C>=N+De&&C<=Y+De}getCenterPoint(d){const{x:r,y:c,startAngle:h,endAngle:m,innerRadius:C,outerRadius:D}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],d),{offset:x,spacing:N}=this.options,Y=(h+m)/2,le=(C+D+N+x)/2;return{x:r+Math.cos(Y)*le,y:c+Math.sin(Y)*le}}tooltipPosition(d){return this.getCenterPoint(d)}draw(d){const{options:r,circumference:c}=this,h=(r.offset||0)/2,m=(r.spacing||0)/2;if(this.pixelMargin="inner"===r.borderAlign?.33:0,this.fullCircles=c>$t?Math.floor(c/$t):0,0===c||this.innerRadius<0||this.outerRadius<0)return;d.save();let C=0;if(h){C=h/2;const x=(this.startAngle+this.endAngle)/2;d.translate(Math.cos(x)*C,Math.sin(x)*C),this.circumference>=zt&&(C=h)}d.fillStyle=r.backgroundColor,d.strokeStyle=r.borderColor,function(g,d,r,c,h){const{options:m}=d,C="inner"===m.borderAlign;!m.borderWidth||(C?(g.lineWidth=2*m.borderWidth,g.lineJoin="round"):(g.lineWidth=m.borderWidth,g.lineJoin="bevel"),d.fullCircles&&function(g,d,r){const{x:c,y:h,startAngle:m,pixelMargin:C,fullCircles:D}=d,x=Math.max(d.outerRadius-C,0),N=d.innerRadius+C;let Y;for(r&&ka(g,d,m+$t),g.beginPath(),g.arc(c,h,N,m+$t,m,!0),Y=0;Y<D;++Y)g.stroke();for(g.beginPath(),g.arc(c,h,x,m,m+$t),Y=0;Y<D;++Y)g.stroke()}(g,d,C),C&&ka(g,d,h),lt(g,d,r,c,h),g.stroke())}(d,this,C,m,function(g,d,r,c){const{fullCircles:h,startAngle:m,circumference:C}=d;let D=d.endAngle;if(h){lt(g,d,r,c,m+$t);for(let x=0;x<h;++x)g.fill();isNaN(C)||(D=m+C%$t,C%$t==0&&(D+=$t))}return lt(g,d,r,c,D),g.fill(),D}(d,this,C,m)),d.restore()}}function cn(g,d,r=d){g.lineCap=fe(r.borderCapStyle,d.borderCapStyle),g.setLineDash(fe(r.borderDash,d.borderDash)),g.lineDashOffset=fe(r.borderDashOffset,d.borderDashOffset),g.lineJoin=fe(r.borderJoinStyle,d.borderJoinStyle),g.lineWidth=fe(r.borderWidth,d.borderWidth),g.strokeStyle=fe(r.borderColor,d.borderColor)}function mn(g,d,r){g.lineTo(r.x,r.y)}function vi(g,d,r={}){const c=g.length,{start:h=0,end:m=c-1}=r,{start:C,end:D}=d,x=Math.max(h,C),N=Math.min(m,D);return{count:c,start:x,loop:d.loop,ilen:N<x&&!(h<C&&m<C||h>D&&m>D)?c+N-x:N-x}}function ui(g,d,r,c){const{points:h,options:m}=d,{count:C,start:D,loop:x,ilen:N}=vi(h,r,c),Y=function(g){return g.stepped?wo:g.tension||"monotone"===g.cubicInterpolationMode?oo:mn}(m);let Ve,nt,dt,{move:le=!0,reverse:De}=c||{};for(Ve=0;Ve<=N;++Ve)nt=h[(D+(De?N-Ve:Ve))%C],!nt.skip&&(le?(g.moveTo(nt.x,nt.y),le=!1):Y(g,dt,nt,De,m.stepped),dt=nt);return x&&(nt=h[(D+(De?N:0))%C],Y(g,dt,nt,De,m.stepped)),!!x}function Li(g,d,r,c){const h=d.points,{count:m,start:C,ilen:D}=vi(h,r,c),{move:x=!0,reverse:N}=c||{};let De,Ve,nt,dt,_t,Mt,Y=0,le=0;const ln=Sn=>(C+(N?D-Sn:Sn))%m,Un=()=>{dt!==_t&&(g.lineTo(Y,_t),g.lineTo(Y,dt),g.lineTo(Y,Mt))};for(x&&(Ve=h[ln(0)],g.moveTo(Ve.x,Ve.y)),De=0;De<=D;++De){if(Ve=h[ln(De)],Ve.skip)continue;const Sn=Ve.x,Dn=Ve.y,Xn=0|Sn;Xn===nt?(Dn<dt?dt=Dn:Dn>_t&&(_t=Dn),Y=(le*Y+Sn)/++le):(Un(),g.lineTo(Sn,Dn),nt=Xn,le=0,dt=_t=Dn),Mt=Dn}Un()}function Er(g){const d=g.options;return g._decimated||g._loop||d.tension||"monotone"===d.cubicInterpolationMode||d.stepped||d.borderDash&&d.borderDash.length?ui:Li}Nt.id="arc",Nt.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Nt.defaultRoutes={backgroundColor:"backgroundColor"};const Ro="function"==typeof Path2D;let zs=(()=>{class g extends Us{constructor(r){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,r&&Object.assign(this,r)}updateControlPoints(r,c){const h=this.options;!h.tension&&"monotone"!==h.cubicInterpolationMode||h.stepped||this._pointsUpdated||(cr(this._points,h,r,h.spanGaps?this._loop:this._fullLoop,c),this._pointsUpdated=!0)}set points(r){this._points=r,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(g,d){const r=g.points,c=g.options.spanGaps,h=r.length;if(!h)return[];const m=!!g._loop,{start:C,end:D}=function(g,d,r,c){let h=0,m=d-1;if(r&&!c)for(;h<d&&!g[h].skip;)h++;for(;h<d&&g[h].skip;)h++;for(h%=d,r&&(m+=h);m>h&&g[m%d].skip;)m--;return m%=d,{start:h,end:m}}(r,h,m,c);return function(g,d,r,c){return c&&c.setContext&&r?function(g,d,r,c){const h=g._chart.getContext(),m=Hi(g.options),{_datasetIndex:C,options:{spanGaps:D}}=g,x=r.length,N=[];let Y=m,le=d[0].start,De=le;function Ve(nt,dt,_t,Mt){const ln=D?-1:1;if(nt!==dt){for(nt+=x;r[nt%x].skip;)nt-=ln;for(;r[dt%x].skip;)dt+=ln;nt%x!=dt%x&&(N.push({start:nt%x,end:dt%x,loop:_t,style:Mt}),Y=Mt,le=dt%x)}}for(const nt of d){le=D?le:nt.start;let _t,dt=r[le%x];for(De=le+1;De<=nt.end;De++){const Mt=r[De%x];_t=Hi(c.setContext(Lo(h,{type:"segment",p0:dt,p1:Mt,p0DataIndex:(De-1)%x,p1DataIndex:De%x,datasetIndex:C}))),Rr(_t,Y)&&Ve(le,De-1,nt.loop,Y),dt=Mt,Y=_t}le<De-1&&Ve(le,De-1,nt.loop,Y)}return N}(g,d,r,c):d}(g,!0===c?[{start:C,end:D,loop:m}]:function(g,d,r,c){const h=g.length,m=[];let x,C=d,D=g[d];for(x=d+1;x<=r;++x){const N=g[x%h];N.skip||N.stop?D.skip||(m.push({start:d%h,end:(x-1)%h,loop:c=!1}),d=C=N.stop?x:null):(C=x,D.skip&&(d=x)),D=N}return null!==C&&m.push({start:d%h,end:C%h,loop:c}),m}(r,C,D<C?D+h:D,!!g._fullLoop&&0===C&&D===h-1),r,d)}(this,this.options.segment))}first(){const r=this.segments;return r.length&&this.points[r[0].start]}last(){const r=this.segments,h=r.length;return h&&this.points[r[h-1].end]}interpolate(r,c){const h=this.options,m=r[c],C=this.points,D=Hn(this,{property:c,start:m,end:m});if(!D.length)return;const x=[],N=function(g){return g.stepped?Kr:g.tension||"monotone"===g.cubicInterpolationMode?Cs:qo}(h);let Y,le;for(Y=0,le=D.length;Y<le;++Y){const{start:De,end:Ve}=D[Y],nt=C[De],dt=C[Ve];if(nt===dt){x.push(nt);continue}const Mt=N(nt,dt,Math.abs((m-nt[c])/(dt[c]-nt[c])),h.stepped);Mt[c]=r[c],x.push(Mt)}return 1===x.length?x[0]:x}pathSegment(r,c,h){return Er(this)(r,this,c,h)}path(r,c,h){const m=this.segments,C=Er(this);let D=this._loop;c=c||0,h=h||this.points.length-c;for(const x of m)D&=C(r,this,x,{start:c,end:c+h-1});return!!D}draw(r,c,h,m){(this.points||[]).length&&(this.options||{}).borderWidth&&(r.save(),function(g,d,r,c){Ro&&!d.options.segment?function(g,d,r,c){let h=d._path;h||(h=d._path=new Path2D,d.path(h,r,c)&&h.closePath()),cn(g,d.options),g.stroke(h)}(g,d,r,c):function(g,d,r,c){const{segments:h,options:m}=d,C=Er(d);for(const D of h)cn(g,m,D.style),g.beginPath(),C(g,d,D,{start:r,end:r+c-1})&&g.closePath(),g.stroke()}(g,d,r,c)}(r,this,h,m),r.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return g.id="line",g.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},g.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},g.descriptors={_scriptable:!0,_indexable:d=>"borderDash"!==d&&"fill"!==d},g})();function xs(g,d,r,c){const h=g.options,{[r]:m}=g.getProps([r],c);return Math.abs(d-m)<h.radius+h.hitRadius}let ms=(()=>{class g extends Us{constructor(r){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,c,h){const m=this.options,{x:C,y:D}=this.getProps(["x","y"],h);return Math.pow(r-C,2)+Math.pow(c-D,2)<Math.pow(m.hitRadius+m.radius,2)}inXRange(r,c){return xs(this,r,"x",c)}inYRange(r,c){return xs(this,r,"y",c)}getCenterPoint(r){const{x:c,y:h}=this.getProps(["x","y"],r);return{x:c,y:h}}size(r){let c=(r=r||this.options||{}).radius||0;return c=Math.max(c,c&&r.hoverRadius||0),2*(c+(c&&r.borderWidth||0))}draw(r,c){const h=this.options;this.skip||h.radius<.1||!Yr(this,c,this.size(h)/2)||(r.strokeStyle=h.borderColor,r.lineWidth=h.borderWidth,r.fillStyle=h.backgroundColor,ur(r,h,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}return g.id="point",g.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},g.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},g})();function wa(g,d){const{x:r,y:c,base:h,width:m,height:C}=g.getProps(["x","y","base","width","height"],d);let D,x,N,Y,le;return g.horizontal?(le=C/2,D=Math.min(r,h),x=Math.max(r,h),N=c-le,Y=c+le):(le=m/2,D=r-le,x=r+le,N=Math.min(c,h),Y=Math.max(c,h)),{left:D,top:N,right:x,bottom:Y}}function qa(g,d,r,c){return g?0:En(d,r,c)}function Au(g,d,r,c){const h=null===d,m=null===r,D=g&&!(h&&m)&&wa(g,c);return D&&(h||d>=D.left&&d<=D.right)&&(m||r>=D.top&&r<=D.bottom)}function wc(g,d){g.rect(d.x,d.y,d.w,d.h)}function la(g,d,r={}){const c=g.x!==r.x?-d:0,h=g.y!==r.y?-d:0;return{x:g.x+c,y:g.y+h,w:g.w+((g.x+g.w!==r.x+r.w?d:0)-c),h:g.h+((g.y+g.h!==r.y+r.h?d:0)-h),radius:g.radius}}class ll extends Us{constructor(d){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,d&&Object.assign(this,d)}draw(d){const{inflateAmount:r,options:{borderColor:c,backgroundColor:h}}=this,{inner:m,outer:C}=function(g){const d=wa(g),r=d.right-d.left,c=d.bottom-d.top,h=function(g,d,r){const h=g.borderSkipped,m=ga(g.options.borderWidth);return{t:qa(h.top,m.top,0,r),r:qa(h.right,m.right,0,d),b:qa(h.bottom,m.bottom,0,r),l:qa(h.left,m.left,0,d)}}(g,r/2,c/2),m=function(g,d,r){const{enableBorderRadius:c}=g.getProps(["enableBorderRadius"]),h=g.options.borderRadius,m=Wr(h),C=Math.min(d,r),D=g.borderSkipped,x=c||xe(h);return{topLeft:qa(!x||D.top||D.left,m.topLeft,0,C),topRight:qa(!x||D.top||D.right,m.topRight,0,C),bottomLeft:qa(!x||D.bottom||D.left,m.bottomLeft,0,C),bottomRight:qa(!x||D.bottom||D.right,m.bottomRight,0,C)}}(g,r/2,c/2);return{outer:{x:d.left,y:d.top,w:r,h:c,radius:m},inner:{x:d.left+h.l,y:d.top+h.t,w:r-h.l-h.r,h:c-h.t-h.b,radius:{topLeft:Math.max(0,m.topLeft-Math.max(h.t,h.l)),topRight:Math.max(0,m.topRight-Math.max(h.t,h.r)),bottomLeft:Math.max(0,m.bottomLeft-Math.max(h.b,h.l)),bottomRight:Math.max(0,m.bottomRight-Math.max(h.b,h.r))}}}}(this),D=(g=C.radius).topLeft||g.topRight||g.bottomLeft||g.bottomRight?Po:wc;var g;d.save(),(C.w!==m.w||C.h!==m.h)&&(d.beginPath(),D(d,la(C,r,m)),d.clip(),D(d,la(m,-r,C)),d.fillStyle=c,d.fill("evenodd")),d.beginPath(),D(d,la(m,r)),d.fillStyle=h,d.fill(),d.restore()}inRange(d,r,c){return Au(this,d,r,c)}inXRange(d,r){return Au(this,d,null,r)}inYRange(d,r){return Au(this,null,d,r)}getCenterPoint(d){const{x:r,y:c,base:h,horizontal:m}=this.getProps(["x","y","base","horizontal"],d);return{x:m?(r+h)/2:r,y:m?c:(c+h)/2}}getRange(d){return"x"===d?this.width/2:this.height/2}}ll.id="bar",ll.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ll.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Sc=Object.freeze({__proto__:null,ArcElement:Nt,LineElement:zs,PointElement:ms,BarElement:ll});function ku(g){if(g._decimated){const d=g._data;delete g._decimated,delete g._data,Object.defineProperty(g,"data",{value:d})}}function md(g){g.data.datasets.forEach(d=>{ku(d)})}var Dc={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(g,d,r)=>{if(!r.enabled)return void md(g);const c=g.width;g.data.datasets.forEach((h,m)=>{const{_data:C,indexAxis:D}=h,x=g.getDatasetMeta(m),N=C||h.data;if("y"===Ls([D,g.options.indexAxis])||"line"!==x.type)return;const Y=g.scales[x.xAxisID];if("linear"!==Y.type&&"time"!==Y.type||g.options.parsing)return;let nt,{start:le,count:De}=function(g,d){const r=d.length;let h,c=0;const{iScale:m}=g,{min:C,max:D,minDefined:x,maxDefined:N}=m.getUserBounds();return x&&(c=En(so(d,m.axis,C).lo,0,r-1)),h=N?En(so(d,m.axis,D).hi+1,c,r)-c:r-c,{start:c,count:h}}(x,N);if(De<=(r.threshold||4*c))ku(h);else{switch(ae(C)&&(h._data=N,delete h.data,Object.defineProperty(h,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(dt){this._data=dt}})),r.algorithm){case"lttb":nt=function(g,d,r,c,h){const m=h.samples||c;if(m>=r)return g.slice(d,d+r);const C=[],D=(r-2)/(m-2);let x=0;const N=d+r-1;let le,De,Ve,nt,dt,Y=d;for(C[x++]=g[Y],le=0;le<m-2;le++){let ln,_t=0,Mt=0;const Un=Math.floor((le+1)*D)+1+d,Sn=Math.min(Math.floor((le+2)*D)+1,r)+d,Dn=Sn-Un;for(ln=Un;ln<Sn;ln++)_t+=g[ln].x,Mt+=g[ln].y;_t/=Dn,Mt/=Dn;const Xn=Math.floor(le*D)+1+d,$n=Math.min(Math.floor((le+1)*D)+1,r)+d,{x:Jn,y:si}=g[Y];for(Ve=nt=-1,ln=Xn;ln<$n;ln++)nt=.5*Math.abs((Jn-_t)*(g[ln].y-si)-(Jn-g[ln].x)*(Mt-si)),nt>Ve&&(Ve=nt,De=g[ln],dt=ln);C[x++]=De,Y=dt}return C[x++]=g[N],C}(N,le,De,c,r);break;case"min-max":nt=function(g,d,r,c){let C,D,x,N,Y,le,De,Ve,nt,dt,h=0,m=0;const _t=[],ln=g[d].x,Sn=g[d+r-1].x-ln;for(C=d;C<d+r;++C){D=g[C],x=(D.x-ln)/Sn*c,N=D.y;const Dn=0|x;if(Dn===Y)N<nt?(nt=N,le=C):N>dt&&(dt=N,De=C),h=(m*h+D.x)/++m;else{const Xn=C-1;if(!ae(le)&&!ae(De)){const $n=Math.min(le,De),Jn=Math.max(le,De);$n!==Ve&&$n!==Xn&&_t.push(Tv(Cv({},g[$n]),{x:h})),Jn!==Ve&&Jn!==Xn&&_t.push(Tv(Cv({},g[Jn]),{x:h}))}C>0&&Xn!==Ve&&_t.push(g[Xn]),_t.push(D),Y=Dn,m=0,nt=dt=N,le=De=Ve=C}}return _t}(N,le,De,c);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}h._decimated=nt}})},destroy(g){md(g)}};function vd(g,d,r){const c=function(g){const d=g.options,r=d.fill;let c=fe(r&&r.target,r);return void 0===c&&(c=!!d.backgroundColor),!1!==c&&null!==c&&(!0===c?"origin":c)}(g);if(xe(c))return!isNaN(c.value)&&c;let h=parseFloat(c);return we(h)&&Math.floor(h)===h?(("-"===c[0]||"+"===c[0])&&(h=d+h),!(h===d||h<0||h>=r)&&h):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}class bd{constructor(d){this.x=d.x,this.y=d.y,this.radius=d.radius}pathSegment(d,r,c){const{x:h,y:m,radius:C}=this;return d.arc(h,m,C,(r=r||{start:0,end:$t}).end,r.start,!0),!c.bounds}interpolate(d){const{x:r,y:c,radius:h}=this,m=d.angle;return{x:r+Math.cos(m)*h,y:c+Math.sin(m)*h,angle:m}}}function Wl(g,d,r){for(;d>g;d--){const c=r[d];if(!isNaN(c.x)&&!isNaN(c.y))break}return d}function Jc(g,d,r){const c=[];for(let h=0;h<r.length;h++){const m=r[h],{first:C,last:D,point:x}=Mc(m,d,"x");if(!(!x||C&&D))if(C)c.unshift(x);else if(g.push(x),!D)break}g.push(...c)}function Mc(g,d,r){const c=g.interpolate(d,r);if(!c)return{};const h=c[r],m=g.segments,C=g.points;let D=!1,x=!1;for(let N=0;N<m.length;N++){const Y=m[N],le=C[Y.start][r],De=C[Y.end][r];if(h>=le&&h<=De){D=h===le,x=h===De;break}}return{first:D,last:x,point:c}}function $d(g){const{chart:d,fill:r,line:c}=g;if(we(r))return function(g,d){const r=g.getDatasetMeta(d);return r&&g.isDatasetVisible(d)?r.dataset:null}(d,r);if("stack"===r)return function(g){const{scale:d,index:r,line:c}=g,h=[],m=c.segments,C=c.points,D=function(g,d){const r=[],c=g.getMatchingVisibleMetas("line");for(let h=0;h<c.length;h++){const m=c[h];if(m.index===d)break;m.hidden||r.unshift(m.dataset)}return r}(d,r);D.push(co({x:null,y:d.bottom},c));for(let x=0;x<m.length;x++){const N=m[x];for(let Y=N.start;Y<=N.end;Y++)Jc(h,C[Y],D)}return new zs({points:h,options:{}})}(g);if("shape"===r)return!0;const h=function(g){return(g.scale||{}).getPointPositionForValue?function(g){const{scale:d,fill:r}=g,c=d.options,h=d.getLabels().length,m=[],C=c.reverse?d.max:d.min;let x,N,Y;if(Y="start"===r?C:"end"===r?c.reverse?d.min:d.max:xe(r)?r.value:d.getBaseValue(),c.grid.circular)return N=d.getPointPositionForValue(0,C),new bd({x:N.x,y:N.y,radius:d.getDistanceFromCenterForValue(Y)});for(x=0;x<h;++x)m.push(d.getPointPositionForValue(x,Y));return m}(g):function(g){const{scale:d={},fill:r}=g;let h,c=null;return"start"===r?c=d.bottom:"end"===r?c=d.top:xe(r)?c=d.getPixelForValue(r.value):d.getBasePixel&&(c=d.getBasePixel()),we(c)?(h=d.isHorizontal(),{x:h?c:null,y:h?null:c}):null}(g)}(g);return h instanceof bd?h:co(h,c)}function co(g,d){let r=[],c=!1;return Me(g)?(c=!0,r=g):r=function(g,d){const{x:r=null,y:c=null}=g||{},h=d.points,m=[];return d.segments.forEach(({start:C,end:D})=>{D=Wl(C,D,h);const x=h[C],N=h[D];null!==c?(m.push({x:x.x,y:c}),m.push({x:N.x,y:c})):null!==r&&(m.push({x:r,y:x.y}),m.push({x:r,y:N.y}))}),m}(g,d),r.length?new zs({points:r,options:{tension:0},_loop:c,_fullLoop:c}):null}function Dh(g,d,r){let h=g[d].fill;const m=[d];let C;if(!r)return h;for(;!1!==h&&-1===m.indexOf(h);){if(!we(h))return h;if(C=g[h],!C)return!1;if(C.visible)return h;m.push(h),h=C.fill}return!1}function Mh(g,d,r){g.beginPath(),d.path(g),g.lineTo(d.last().x,r),g.lineTo(d.first().x,r),g.closePath(),g.clip()}function ca(g,d,r,c){if(c)return;let h=d[g],m=r[g];return"angle"===g&&(h=Zt(h),m=Zt(m)),{property:g,start:h,end:m}}function yd(g,d,r,c){return g&&d?c(g[r],d[r]):g?g[r]:d?d[r]:0}function Jd(g,d,r){const{top:c,bottom:h}=d.chart.chartArea,{property:m,start:C,end:D}=r||{};"x"===m&&(g.beginPath(),g.rect(C,c,D-C,h-c),g.clip())}function Cd(g,d,r,c){const h=d.interpolate(r,c);h&&g.lineTo(h.x,h.y)}function Td(g,d){const{line:r,target:c,property:h,color:m,scale:C}=d,D=function(g,d,r){const c=g.segments,h=g.points,m=d.points,C=[];for(const D of c){let{start:x,end:N}=D;N=Wl(x,N,h);const Y=ca(r,h[x],h[N],D.loop);if(!d.segments){C.push({source:D,target:Y,start:h[x],end:h[N]});continue}const le=Hn(d,Y);for(const De of le){const Ve=ca(r,m[De.start],m[De.end],De.loop),nt=vn(D,h,Ve);for(const dt of nt)C.push({source:dt,target:De,start:{[r]:yd(Y,Ve,"start",Math.max)},end:{[r]:yd(Y,Ve,"end",Math.min)}})}}return C}(r,c,h);for(const{source:x,target:N,start:Y,end:le}of D){const{style:{backgroundColor:De=m}={}}=x,Ve=!0!==c;g.save(),g.fillStyle=De,Jd(g,C,Ve&&ca(h,Y,le)),g.beginPath();const nt=!!r.pathSegment(g,x);let dt;if(Ve){nt?g.closePath():Cd(g,c,le,h);const _t=!!c.pathSegment(g,N,{move:nt,reverse:!0});dt=nt&&_t,dt||Cd(g,c,Y,h)}g.closePath(),g.fill(dt?"evenodd":"nonzero"),g.restore()}}function Lu(g,d,r){const c=$d(d),{line:h,scale:m,axis:C}=d,D=h.options,x=D.fill,N=D.backgroundColor,{above:Y=N,below:le=N}=x||{};c&&h.points.length&&(Lr(g,r),function(g,d){const{line:r,target:c,above:h,below:m,area:C,scale:D}=d,x=r._loop?"angle":d.axis;g.save(),"x"===x&&m!==h&&(Mh(g,c,C.top),Td(g,{line:r,target:c,color:h,scale:D,property:x}),g.restore(),g.save(),Mh(g,c,C.bottom)),Td(g,{line:r,target:c,color:m,scale:D,property:x}),g.restore()}(g,{line:h,target:c,above:Y,below:le,area:r,scale:m,axis:C}),fo(g))}var Ef={id:"filler",afterDatasetsUpdate(g,d,r){const c=(g.data.datasets||[]).length,h=[];let m,C,D,x;for(C=0;C<c;++C)m=g.getDatasetMeta(C),D=m.dataset,x=null,D&&D.options&&D instanceof zs&&(x={visible:g.isDatasetVisible(C),index:C,fill:vd(D,C,c),chart:g,axis:m.controller.options.indexAxis,scale:m.vScale,line:D}),m.$filler=x,h.push(x);for(C=0;C<c;++C)x=h[C],x&&!1!==x.fill&&(x.fill=Dh(h,C,r.propagate))},beforeDraw(g,d,r){const c="beforeDraw"===r.drawTime,h=g.getSortedVisibleDatasetMetas(),m=g.chartArea;for(let C=h.length-1;C>=0;--C){const D=h[C].$filler;!D||(D.line.updateControlPoints(m,D.axis),c&&Lu(g.ctx,D,m))}},beforeDatasetsDraw(g,d,r){if("beforeDatasetsDraw"!==r.drawTime)return;const c=g.getSortedVisibleDatasetMetas();for(let h=c.length-1;h>=0;--h){const m=c[h].$filler;m&&Lu(g.ctx,m,g.chartArea)}},beforeDatasetDraw(g,d,r){const c=d.meta.$filler;!c||!1===c.fill||"beforeDatasetDraw"!==r.drawTime||Lu(g.ctx,c,g.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Rc=(g,d)=>{let{boxHeight:r=d,boxWidth:c=d}=g;return g.usePointStyle&&(r=Math.min(r,d),c=Math.min(c,d)),{boxWidth:c,boxHeight:r,itemHeight:Math.max(d,r)}};class Nu extends Us{constructor(d){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=d.chart,this.options=d.options,this.ctx=d.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(d,r,c){this.maxWidth=d,this.maxHeight=r,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const d=this.options.labels||{};let r=ee(d.generateLabels,[this.chart],this)||[];d.filter&&(r=r.filter(c=>d.filter(c,this.chart.data))),d.sort&&(r=r.sort((c,h)=>d.sort(c,h,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:d,ctx:r}=this;if(!d.display)return void(this.width=this.height=0);const c=d.labels,h=_r(c.font),m=h.size,C=this._computeTitleHeight(),{boxWidth:D,itemHeight:x}=Rc(c,m);let N,Y;r.font=h.string,this.isHorizontal()?(N=this.maxWidth,Y=this._fitRows(C,m,D,x)+10):(Y=this.maxHeight,N=this._fitCols(C,m,D,x)+10),this.width=Math.min(N,d.maxWidth||this.maxWidth),this.height=Math.min(Y,d.maxHeight||this.maxHeight)}_fitRows(d,r,c,h){const{ctx:m,maxWidth:C,options:{labels:{padding:D}}}=this,x=this.legendHitBoxes=[],N=this.lineWidths=[0],Y=h+D;let le=d;m.textAlign="left",m.textBaseline="middle";let De=-1,Ve=-Y;return this.legendItems.forEach((nt,dt)=>{const _t=c+r/2+m.measureText(nt.text).width;(0===dt||N[N.length-1]+_t+2*D>C)&&(le+=Y,N[N.length-(dt>0?0:1)]=0,Ve+=Y,De++),x[dt]={left:0,top:Ve,row:De,width:_t,height:h},N[N.length-1]+=_t+D}),le}_fitCols(d,r,c,h){const{ctx:m,maxHeight:C,options:{labels:{padding:D}}}=this,x=this.legendHitBoxes=[],N=this.columnSizes=[],Y=C-d;let le=D,De=0,Ve=0,nt=0,dt=0;return this.legendItems.forEach((_t,Mt)=>{const ln=c+r/2+m.measureText(_t.text).width;Mt>0&&Ve+h+2*D>Y&&(le+=De+D,N.push({width:De,height:Ve}),nt+=De+D,dt++,De=Ve=0),x[Mt]={left:nt,top:Ve,col:dt,width:ln,height:h},De=Math.max(De,ln),Ve+=h+D}),le+=De,N.push({width:De,height:Ve}),le}adjustHitBoxes(){if(!this.options.display)return;const d=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:c,labels:{padding:h},rtl:m}}=this,C=he(m,this.left,this.width);if(this.isHorizontal()){let D=0,x=ne(c,this.left+h,this.right-this.lineWidths[D]);for(const N of r)D!==N.row&&(D=N.row,x=ne(c,this.left+h,this.right-this.lineWidths[D])),N.top+=this.top+d+h,N.left=C.leftForLtr(C.x(x),N.width),x+=N.width+h}else{let D=0,x=ne(c,this.top+d+h,this.bottom-this.columnSizes[D].height);for(const N of r)N.col!==D&&(D=N.col,x=ne(c,this.top+d+h,this.bottom-this.columnSizes[D].height)),N.top=x,N.left+=this.left+h,N.left=C.leftForLtr(C.x(N.left),N.width),x+=N.height+h}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const d=this.ctx;Lr(d,this),this._draw(),fo(d)}}_draw(){const{options:d,columnSizes:r,lineWidths:c,ctx:h}=this,{align:m,labels:C}=d,D=di.color,x=he(d.rtl,this.left,this.width),N=_r(C.font),{color:Y,padding:le}=C,De=N.size,Ve=De/2;let nt;this.drawTitle(),h.textAlign=x.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.font=N.string;const{boxWidth:dt,boxHeight:_t,itemHeight:Mt}=Rc(C,De),Sn=this.isHorizontal(),Dn=this._computeTitleHeight();nt=Sn?{x:ne(m,this.left+le,this.right-c[0]),y:this.top+le+Dn,line:0}:{x:this.left+le,y:ne(m,this.top+Dn+le,this.bottom-r[0].height),line:0},Ue(this.ctx,d.textDirection);const Xn=Mt+le;this.legendItems.forEach(($n,Jn)=>{h.strokeStyle=$n.fontColor||Y,h.fillStyle=$n.fontColor||Y;const si=h.measureText($n.text).width,Zi=x.textAlign($n.textAlign||($n.textAlign=C.textAlign)),oi=dt+Ve+si;let Wi=nt.x,io=nt.y;x.setWidth(this.width),Sn?Jn>0&&Wi+oi+le>this.right&&(io=nt.y+=Xn,nt.line++,Wi=nt.x=ne(m,this.left+le,this.right-c[nt.line])):Jn>0&&io+Xn>this.bottom&&(Wi=nt.x=Wi+r[nt.line].width+le,nt.line++,io=nt.y=ne(m,this.top+Dn+le,this.bottom-r[nt.line].height)),function($n,Jn,si){if(isNaN(dt)||dt<=0||isNaN(_t)||_t<0)return;h.save();const Zi=fe(si.lineWidth,1);if(h.fillStyle=fe(si.fillStyle,D),h.lineCap=fe(si.lineCap,"butt"),h.lineDashOffset=fe(si.lineDashOffset,0),h.lineJoin=fe(si.lineJoin,"miter"),h.lineWidth=Zi,h.strokeStyle=fe(si.strokeStyle,D),h.setLineDash(fe(si.lineDash,[])),C.usePointStyle){const oi={radius:dt*Math.SQRT2/2,pointStyle:si.pointStyle,rotation:si.rotation,borderWidth:Zi},Wi=x.xPlus($n,dt/2);ur(h,oi,Wi,Jn+Ve)}else{const oi=Jn+Math.max((De-_t)/2,0),Wi=x.leftForLtr($n,dt),io=Wr(si.borderRadius);h.beginPath(),Object.values(io).some(Qn=>0!==Qn)?Po(h,{x:Wi,y:oi,w:dt,h:_t,radius:io}):h.rect(Wi,oi,dt,_t),h.fill(),0!==Zi&&h.stroke()}h.restore()}(x.x(Wi),io,$n),Wi=((g,d,r,c)=>g===(c?"left":"right")?r:"center"===g?(d+r)/2:d)(Zi,Wi+dt+Ve,Sn?Wi+oi:this.right,d.rtl),function($n,Jn,si){ar(h,si.text,$n,Jn+Mt/2,N,{strikethrough:si.hidden,textAlign:x.textAlign(si.textAlign)})}(x.x(Wi),io,$n),Sn?nt.x+=oi+le:nt.y+=Xn}),et(this.ctx,d.textDirection)}drawTitle(){const d=this.options,r=d.title,c=_r(r.font),h=lr(r.padding);if(!r.display)return;const m=he(d.rtl,this.left,this.width),C=this.ctx,D=r.position,N=h.top+c.size/2;let Y,le=this.left,De=this.width;if(this.isHorizontal())De=Math.max(...this.lineWidths),Y=this.top+N,le=ne(d.align,le,this.right-De);else{const nt=this.columnSizes.reduce((dt,_t)=>Math.max(dt,_t.height),0);Y=N+ne(d.align,this.top,this.bottom-nt-d.labels.padding-this._computeTitleHeight())}const Ve=ne(D,le,le+De);C.textAlign=m.textAlign(B(D)),C.textBaseline="middle",C.strokeStyle=r.color,C.fillStyle=r.color,C.font=c.string,ar(C,r.text,Ve,Y,c)}_computeTitleHeight(){const d=this.options.title,r=_r(d.font),c=lr(d.padding);return d.display?r.lineHeight+c.height:0}_getLegendItemAt(d,r){let c,h,m;if(d>=this.left&&d<=this.right&&r>=this.top&&r<=this.bottom)for(m=this.legendHitBoxes,c=0;c<m.length;++c)if(h=m[c],d>=h.left&&d<=h.left+h.width&&r>=h.top&&r<=h.top+h.height)return this.legendItems[c];return null}handleEvent(d){const r=this.options;if(!function(g,d){return!!("mousemove"===g&&(d.onHover||d.onLeave)||d.onClick&&("click"===g||"mouseup"===g))}(d.type,r))return;const c=this._getLegendItemAt(d.x,d.y);if("mousemove"===d.type){const h=this._hoveredItem,m=((g,d)=>null!==g&&null!==d&&g.datasetIndex===d.datasetIndex&&g.index===d.index)(h,c);h&&!m&&ee(r.onLeave,[d,h,this],this),this._hoveredItem=c,c&&!m&&ee(r.onHover,[d,c,this],this)}else c&&ee(r.onClick,[d,c,this],this)}}var Zc={id:"legend",_element:Nu,start(g,d,r){const c=g.legend=new Nu({ctx:g.ctx,options:r,chart:g});is.configure(g,c,r),is.addBox(g,c)},stop(g){is.removeBox(g,g.legend),delete g.legend},beforeUpdate(g,d,r){const c=g.legend;is.configure(g,c,r),c.options=r},afterUpdate(g){const d=g.legend;d.buildLabels(),d.adjustHitBoxes()},afterEvent(g,d){d.replay||g.legend.handleEvent(d.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(g,d,r){const c=d.datasetIndex,h=r.chart;h.isDatasetVisible(c)?(h.hide(c),d.hidden=!0):(h.show(c),d.hidden=!1)},onHover:null,onLeave:null,labels:{color:g=>g.chart.options.color,boxWidth:40,padding:10,generateLabels(g){const d=g.data.datasets,{labels:{usePointStyle:r,pointStyle:c,textAlign:h,color:m}}=g.legend.options;return g._getSortedDatasetMetas().map(C=>{const D=C.controller.getStyle(r?0:void 0),x=lr(D.borderWidth);return{text:d[C.index].label,fillStyle:D.backgroundColor,fontColor:m,hidden:!C.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(x.width+x.height)/4,strokeStyle:D.borderColor,pointStyle:c||D.pointStyle,rotation:D.rotation,textAlign:h||D.textAlign,borderRadius:0,datasetIndex:C.index}},this)}},title:{color:g=>g.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:g=>!g.startsWith("on"),labels:{_scriptable:g=>!["generateLabels","filter","sort"].includes(g)}}};class rs extends Us{constructor(d){super(),this.chart=d.chart,this.options=d.options,this.ctx=d.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(d,r){const c=this.options;if(this.left=0,this.top=0,!c.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=d,this.height=this.bottom=r;const h=Me(c.text)?c.text.length:1;this._padding=lr(c.padding);const m=h*_r(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=m:this.width=m}isHorizontal(){const d=this.options.position;return"top"===d||"bottom"===d}_drawArgs(d){const{top:r,left:c,bottom:h,right:m,options:C}=this,D=C.align;let N,Y,le,x=0;return this.isHorizontal()?(Y=ne(D,c,m),le=r+d,N=m-c):("left"===C.position?(Y=c+d,le=ne(D,h,r),x=-.5*zt):(Y=m-d,le=ne(D,r,h),x=.5*zt),N=h-r),{titleX:Y,titleY:le,maxWidth:N,rotation:x}}draw(){const d=this.ctx,r=this.options;if(!r.display)return;const c=_r(r.font),m=c.lineHeight/2+this._padding.top,{titleX:C,titleY:D,maxWidth:x,rotation:N}=this._drawArgs(m);ar(d,r.text,0,0,c,{color:r.color,maxWidth:x,rotation:N,textAlign:B(r.align),textBaseline:"middle",translation:[C,D]})}}var Bu={id:"title",_element:rs,start(g,d,r){!function(g,d){const r=new rs({ctx:g.ctx,options:d,chart:g});is.configure(g,r,d),is.addBox(g,r),g.titleBlock=r}(g,r)},stop(g){is.removeBox(g,g.titleBlock),delete g.titleBlock},beforeUpdate(g,d,r){const c=g.titleBlock;is.configure(g,c,r),c.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hu=new WeakMap;var Qc={id:"subtitle",start(g,d,r){const c=new rs({ctx:g.ctx,options:r,chart:g});is.configure(g,c,r),is.addBox(g,c),Hu.set(g,c)},stop(g){is.removeBox(g,Hu.get(g)),Hu.delete(g)},beforeUpdate(g,d,r){const c=Hu.get(g);is.configure(g,c,r),c.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jl={average(g){if(!g.length)return!1;let d,r,c=0,h=0,m=0;for(d=0,r=g.length;d<r;++d){const C=g[d].element;if(C&&C.hasValue()){const D=C.tooltipPosition();c+=D.x,h+=D.y,++m}}return{x:c/m,y:h/m}},nearest(g,d){if(!g.length)return!1;let m,C,D,r=d.x,c=d.y,h=Number.POSITIVE_INFINITY;for(m=0,C=g.length;m<C;++m){const x=g[m].element;if(x&&x.hasValue()){const Y=Ct(d,x.getCenterPoint());Y<h&&(h=Y,D=x)}}if(D){const x=D.tooltipPosition();r=x.x,c=x.y}return{x:r,y:c}}};function da(g,d){return d&&(Me(d)?Array.prototype.push.apply(g,d):g.push(d)),g}function cl(g){return("string"==typeof g||g instanceof String)&&g.indexOf("\n")>-1?g.split("\n"):g}function Rh(g,d){const{element:r,datasetIndex:c,index:h}=d,m=g.getDatasetMeta(c).controller,{label:C,value:D}=m.getLabelAndValue(h);return{chart:g,label:C,parsed:m.getParsed(h),raw:g.data.datasets[c].data[h],formattedValue:D,dataset:m.getDataset(),dataIndex:h,datasetIndex:c,element:r}}function oc(g,d){const r=g._chart.ctx,{body:c,footer:h,title:m}=g,{boxWidth:C,boxHeight:D}=d,x=_r(d.bodyFont),N=_r(d.titleFont),Y=_r(d.footerFont),le=m.length,De=h.length,Ve=c.length,nt=lr(d.padding);let dt=nt.height,_t=0,Mt=c.reduce((Sn,Dn)=>Sn+Dn.before.length+Dn.lines.length+Dn.after.length,0);Mt+=g.beforeBody.length+g.afterBody.length,le&&(dt+=le*N.lineHeight+(le-1)*d.titleSpacing+d.titleMarginBottom),Mt&&(dt+=Ve*(d.displayColors?Math.max(D,x.lineHeight):x.lineHeight)+(Mt-Ve)*x.lineHeight+(Mt-1)*d.bodySpacing),De&&(dt+=d.footerMarginTop+De*Y.lineHeight+(De-1)*d.footerSpacing);let ln=0;const Un=function(Sn){_t=Math.max(_t,r.measureText(Sn).width+ln)};return r.save(),r.font=N.string,ye(g.title,Un),r.font=x.string,ye(g.beforeBody.concat(g.afterBody),Un),ln=d.displayColors?C+2+d.boxPadding:0,ye(c,Sn=>{ye(Sn.before,Un),ye(Sn.lines,Un),ye(Sn.after,Un)}),ln=0,r.font=Y.string,ye(g.footer,Un),r.restore(),_t+=nt.width,{width:_t,height:dt}}function xh(g,d,r,c){const{x:h,width:m}=r,{width:C,chartArea:{left:D,right:x}}=g;let N="center";return"center"===c?N=h<=(D+x)/2?"left":"right":h<=m/2?N="left":h>=C-m/2&&(N="right"),function(g,d,r,c){const{x:h,width:m}=c,C=r.caretSize+r.caretPadding;if("left"===g&&h+m+C>d.width||"right"===g&&h-m-C<0)return!0}(N,g,d,r)&&(N="center"),N}function Sd(g,d,r){const c=d.yAlign||function(g,d){const{y:r,height:c}=d;return r<c/2?"top":r>g.height-c/2?"bottom":"center"}(g,r);return{xAlign:d.xAlign||xh(g,d,r,c),yAlign:c}}function Qd(g,d,r,c){const{caretSize:h,caretPadding:m,cornerRadius:C}=g,{xAlign:D,yAlign:x}=r,N=h+m,{topLeft:Y,topRight:le,bottomLeft:De,bottomRight:Ve}=Wr(C);let nt=function(g,d){let{x:r,width:c}=g;return"right"===d?r-=c:"center"===d&&(r-=c/2),r}(d,D);const dt=function(g,d,r){let{y:c,height:h}=g;return"top"===d?c+=r:c-="bottom"===d?h+r:h/2,c}(d,x,N);return"center"===x?"left"===D?nt+=N:"right"===D&&(nt-=N):"left"===D?nt-=Math.max(Y,De)+m:"right"===D&&(nt+=Math.max(le,Ve)+m),{x:En(nt,0,c.width-d.width),y:En(dt,0,c.height-d.height)}}function qd(g,d,r){const c=lr(r.padding);return"center"===d?g.x+g.width/2:"right"===d?g.x+g.width-c.right:g.x+c.left}function Dd(g){return da([],cl(g))}function Ih(g,d){const r=d&&d.dataset&&d.dataset.tooltip&&d.dataset.tooltip.callbacks;return r?g.override(r):g}let Rd=(()=>{class g extends Us{constructor(r){super(),this.opacity=0,this._active=[],this._chart=r._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=r.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(r){this.options=r,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const r=this._cachedAnimations;if(r)return r;const c=this._chart,h=this.options.setContext(this.getContext()),m=h.enabled&&c.options.animation&&h.animations,C=new So(this._chart,m);return m._cacheable&&(this._cachedAnimations=Object.freeze(C)),C}getContext(){return this.$context||(this.$context=function(g,d,r){return Lo(g,{tooltip:d,tooltipItems:r,type:"tooltip"})}(this._chart.getContext(),this,this._tooltipItems))}getTitle(r,c){const{callbacks:h}=c,m=h.beforeTitle.apply(this,[r]),C=h.title.apply(this,[r]),D=h.afterTitle.apply(this,[r]);let x=[];return x=da(x,cl(m)),x=da(x,cl(C)),x=da(x,cl(D)),x}getBeforeBody(r,c){return Dd(c.callbacks.beforeBody.apply(this,[r]))}getBody(r,c){const{callbacks:h}=c,m=[];return ye(r,C=>{const D={before:[],lines:[],after:[]},x=Ih(h,C);da(D.before,cl(x.beforeLabel.call(this,C))),da(D.lines,x.label.call(this,C)),da(D.after,cl(x.afterLabel.call(this,C))),m.push(D)}),m}getAfterBody(r,c){return Dd(c.callbacks.afterBody.apply(this,[r]))}getFooter(r,c){const{callbacks:h}=c,m=h.beforeFooter.apply(this,[r]),C=h.footer.apply(this,[r]),D=h.afterFooter.apply(this,[r]);let x=[];return x=da(x,cl(m)),x=da(x,cl(C)),x=da(x,cl(D)),x}_createItems(r){const c=this._active,h=this._chart.data,m=[],C=[],D=[];let N,Y,x=[];for(N=0,Y=c.length;N<Y;++N)x.push(Rh(this._chart,c[N]));return r.filter&&(x=x.filter((le,De,Ve)=>r.filter(le,De,Ve,h))),r.itemSort&&(x=x.sort((le,De)=>r.itemSort(le,De,h))),ye(x,le=>{const De=Ih(r.callbacks,le);m.push(De.labelColor.call(this,le)),C.push(De.labelPointStyle.call(this,le)),D.push(De.labelTextColor.call(this,le))}),this.labelColors=m,this.labelPointStyles=C,this.labelTextColors=D,this.dataPoints=x,x}update(r,c){const h=this.options.setContext(this.getContext()),m=this._active;let C,D=[];if(m.length){const x=jl[h.position].call(this,m,this._eventPosition);D=this._createItems(h),this.title=this.getTitle(D,h),this.beforeBody=this.getBeforeBody(D,h),this.body=this.getBody(D,h),this.afterBody=this.getAfterBody(D,h),this.footer=this.getFooter(D,h);const N=this._size=oc(this,h),Y=Object.assign({},x,N),le=Sd(this._chart,h,Y),De=Qd(h,Y,le,this._chart);this.xAlign=le.xAlign,this.yAlign=le.yAlign,C={opacity:1,x:De.x,y:De.y,width:N.width,height:N.height,caretX:x.x,caretY:x.y}}else 0!==this.opacity&&(C={opacity:0});this._tooltipItems=D,this.$context=void 0,C&&this._resolveAnimations().update(this,C),r&&h.external&&h.external.call(this,{chart:this._chart,tooltip:this,replay:c})}drawCaret(r,c,h,m){const C=this.getCaretPosition(r,h,m);c.lineTo(C.x1,C.y1),c.lineTo(C.x2,C.y2),c.lineTo(C.x3,C.y3)}getCaretPosition(r,c,h){const{xAlign:m,yAlign:C}=this,{caretSize:D,cornerRadius:x}=h,{topLeft:N,topRight:Y,bottomLeft:le,bottomRight:De}=Wr(x),{x:Ve,y:nt}=r,{width:dt,height:_t}=c;let Mt,ln,Un,Sn,Dn,Xn;return"center"===C?(Dn=nt+_t/2,"left"===m?(Mt=Ve,ln=Mt-D,Sn=Dn+D,Xn=Dn-D):(Mt=Ve+dt,ln=Mt+D,Sn=Dn-D,Xn=Dn+D),Un=Mt):(ln="left"===m?Ve+Math.max(N,le)+D:"right"===m?Ve+dt-Math.max(Y,De)-D:this.caretX,"top"===C?(Sn=nt,Dn=Sn-D,Mt=ln-D,Un=ln+D):(Sn=nt+_t,Dn=Sn+D,Mt=ln+D,Un=ln-D),Xn=Sn),{x1:Mt,x2:ln,x3:Un,y1:Sn,y2:Dn,y3:Xn}}drawTitle(r,c,h){const m=this.title,C=m.length;let D,x,N;if(C){const Y=he(h.rtl,this.x,this.width);for(r.x=qd(this,h.titleAlign,h),c.textAlign=Y.textAlign(h.titleAlign),c.textBaseline="middle",D=_r(h.titleFont),x=h.titleSpacing,c.fillStyle=h.titleColor,c.font=D.string,N=0;N<C;++N)c.fillText(m[N],Y.x(r.x),r.y+D.lineHeight/2),r.y+=D.lineHeight+x,N+1===C&&(r.y+=h.titleMarginBottom-x)}}_drawColorBox(r,c,h,m,C){const D=this.labelColors[h],x=this.labelPointStyles[h],{boxHeight:N,boxWidth:Y,boxPadding:le}=C,De=_r(C.bodyFont),Ve=qd(this,"left",C),nt=m.x(Ve),_t=c.y+(N<De.lineHeight?(De.lineHeight-N)/2:0);if(C.usePointStyle){const Mt={radius:Math.min(Y,N)/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:1},ln=m.leftForLtr(nt,Y)+Y/2,Un=_t+N/2;r.strokeStyle=C.multiKeyBackground,r.fillStyle=C.multiKeyBackground,ur(r,Mt,ln,Un),r.strokeStyle=D.borderColor,r.fillStyle=D.backgroundColor,ur(r,Mt,ln,Un)}else{r.lineWidth=D.borderWidth||1,r.strokeStyle=D.borderColor,r.setLineDash(D.borderDash||[]),r.lineDashOffset=D.borderDashOffset||0;const Mt=m.leftForLtr(nt,Y-le),ln=m.leftForLtr(m.xPlus(nt,1),Y-le-2),Un=Wr(D.borderRadius);Object.values(Un).some(Sn=>0!==Sn)?(r.beginPath(),r.fillStyle=C.multiKeyBackground,Po(r,{x:Mt,y:_t,w:Y,h:N,radius:Un}),r.fill(),r.stroke(),r.fillStyle=D.backgroundColor,r.beginPath(),Po(r,{x:ln,y:_t+1,w:Y-2,h:N-2,radius:Un}),r.fill()):(r.fillStyle=C.multiKeyBackground,r.fillRect(Mt,_t,Y,N),r.strokeRect(Mt,_t,Y,N),r.fillStyle=D.backgroundColor,r.fillRect(ln,_t+1,Y-2,N-2))}r.fillStyle=this.labelTextColors[h]}drawBody(r,c,h){const{body:m}=this,{bodySpacing:C,bodyAlign:D,displayColors:x,boxHeight:N,boxWidth:Y,boxPadding:le}=h,De=_r(h.bodyFont);let Ve=De.lineHeight,nt=0;const dt=he(h.rtl,this.x,this.width),_t=function(si){c.fillText(si,dt.x(r.x+nt),r.y+Ve/2),r.y+=Ve+C},Mt=dt.textAlign(D);let ln,Un,Sn,Dn,Xn,$n,Jn;for(c.textAlign=D,c.textBaseline="middle",c.font=De.string,r.x=qd(this,Mt,h),c.fillStyle=h.bodyColor,ye(this.beforeBody,_t),nt=x&&"right"!==Mt?"center"===D?Y/2+le:Y+2+le:0,Dn=0,$n=m.length;Dn<$n;++Dn){for(ln=m[Dn],Un=this.labelTextColors[Dn],c.fillStyle=Un,ye(ln.before,_t),Sn=ln.lines,x&&Sn.length&&(this._drawColorBox(c,r,Dn,dt,h),Ve=Math.max(De.lineHeight,N)),Xn=0,Jn=Sn.length;Xn<Jn;++Xn)_t(Sn[Xn]),Ve=De.lineHeight;ye(ln.after,_t)}nt=0,Ve=De.lineHeight,ye(this.afterBody,_t),r.y-=C}drawFooter(r,c,h){const m=this.footer,C=m.length;let D,x;if(C){const N=he(h.rtl,this.x,this.width);for(r.x=qd(this,h.footerAlign,h),r.y+=h.footerMarginTop,c.textAlign=N.textAlign(h.footerAlign),c.textBaseline="middle",D=_r(h.footerFont),c.fillStyle=h.footerColor,c.font=D.string,x=0;x<C;++x)c.fillText(m[x],N.x(r.x),r.y+D.lineHeight/2),r.y+=D.lineHeight+h.footerSpacing}}drawBackground(r,c,h,m){const{xAlign:C,yAlign:D}=this,{x,y:N}=r,{width:Y,height:le}=h,{topLeft:De,topRight:Ve,bottomLeft:nt,bottomRight:dt}=Wr(m.cornerRadius);c.fillStyle=m.backgroundColor,c.strokeStyle=m.borderColor,c.lineWidth=m.borderWidth,c.beginPath(),c.moveTo(x+De,N),"top"===D&&this.drawCaret(r,c,h,m),c.lineTo(x+Y-Ve,N),c.quadraticCurveTo(x+Y,N,x+Y,N+Ve),"center"===D&&"right"===C&&this.drawCaret(r,c,h,m),c.lineTo(x+Y,N+le-dt),c.quadraticCurveTo(x+Y,N+le,x+Y-dt,N+le),"bottom"===D&&this.drawCaret(r,c,h,m),c.lineTo(x+nt,N+le),c.quadraticCurveTo(x,N+le,x,N+le-nt),"center"===D&&"left"===C&&this.drawCaret(r,c,h,m),c.lineTo(x,N+De),c.quadraticCurveTo(x,N,x+De,N),c.closePath(),c.fill(),m.borderWidth>0&&c.stroke()}_updateAnimationTarget(r){const c=this._chart,h=this.$animations,m=h&&h.x,C=h&&h.y;if(m||C){const D=jl[r.position].call(this,this._active,this._eventPosition);if(!D)return;const x=this._size=oc(this,r),N=Object.assign({},D,this._size),Y=Sd(c,r,N),le=Qd(r,N,Y,c);(m._to!==le.x||C._to!==le.y)&&(this.xAlign=Y.xAlign,this.yAlign=Y.yAlign,this.width=x.width,this.height=x.height,this.caretX=D.x,this.caretY=D.y,this._resolveAnimations().update(this,le))}}draw(r){const c=this.options.setContext(this.getContext());let h=this.opacity;if(!h)return;this._updateAnimationTarget(c);const m={width:this.width,height:this.height},C={x:this.x,y:this.y};h=Math.abs(h)<.001?0:h;const D=lr(c.padding);c.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(r.save(),r.globalAlpha=h,this.drawBackground(C,r,m,c),Ue(r,c.textDirection),C.y+=D.top,this.drawTitle(C,r,c),this.drawBody(C,r,c),this.drawFooter(C,r,c),et(r,c.textDirection),r.restore())}getActiveElements(){return this._active||[]}setActiveElements(r,c){const h=this._active,m=r.map(({datasetIndex:x,index:N})=>{const Y=this._chart.getDatasetMeta(x);if(!Y)throw new Error("Cannot find a dataset at index "+x);return{datasetIndex:x,element:Y.data[N],index:N}}),C=!Ce(h,m),D=this._positionChanged(m,c);(C||D)&&(this._active=m,this._eventPosition=c,this.update(!0))}handleEvent(r,c){const h=this.options,m=this._active||[];let C=!1,D=[];"mouseout"!==r.type&&(D=this._chart.getElementsAtEventForMode(r,h.mode,h,c),h.reverse&&D.reverse());const x=this._positionChanged(D,r);return C=c||!Ce(D,m)||x,C&&(this._active=D,(h.enabled||h.external)&&(this._eventPosition={x:r.x,y:r.y},this.update(!0,c))),C}_positionChanged(r,c){const{caretX:h,caretY:m,options:C}=this,D=jl[C.position].call(this,r,c);return!1!==D&&(h!==D.x||m!==D.y)}}return g.positioners=jl,g})();var Ah=Object.freeze({__proto__:null,Decimation:Dc,Filler:Ef,Legend:Zc,SubTitle:Qc,Title:Bu,Tooltip:{id:"tooltip",_element:Rd,positioners:jl,afterInit(g,d,r){r&&(g.tooltip=new Rd({_chart:g,options:r}))},beforeUpdate(g,d,r){g.tooltip&&g.tooltip.initialize(r)},reset(g,d,r){g.tooltip&&g.tooltip.initialize(r)},afterDraw(g){const d=g.tooltip,r={tooltip:d};!1!==g.notifyPlugins("beforeTooltipDraw",r)&&(d&&d.draw(g.ctx),g.notifyPlugins("afterTooltipDraw",r))},afterEvent(g,d){g.tooltip&&g.tooltip.handleEvent(d.event,d.replay)&&(d.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(g,d)=>d.bodyFont.size,boxWidth:(g,d)=>d.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:se,title(g){if(g.length>0){const d=g[0],r=d.chart.data.labels,c=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return d.dataset.label||"";if(d.label)return d.label;if(c>0&&d.dataIndex<c)return r[d.dataIndex]}return""},afterTitle:se,beforeBody:se,beforeLabel:se,label(g){if(this&&this.options&&"dataset"===this.options.mode)return g.label+": "+g.formattedValue||g.formattedValue;let d=g.dataset.label||"";d&&(d+=": ");const r=g.formattedValue;return ae(r)||(d+=r),d},labelColor(g){const r=g.chart.getDatasetMeta(g.datasetIndex).controller.getStyle(g.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(g){const r=g.chart.getDatasetMeta(g.datasetIndex).controller.getStyle(g.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:se,afterBody:se,beforeFooter:se,footer:se,afterFooter:se}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:g=>"filter"!==g&&"itemSort"!==g&&"external"!==g,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class Uu extends Ws{constructor(d){super(d),this._startValue=void 0,this._valueRange=0}parse(d,r){if(ae(d))return null;const c=this.getLabels();return((g,d)=>null===g?null:En(Math.round(g),0,d))(r=isFinite(r)&&c[r]===d?r:function(g,d,r){const c=g.indexOf(d);return-1===c?((g,d,r)=>"string"==typeof d?g.push(d)-1:isNaN(d)?null:r)(g,d,r):c!==g.lastIndexOf(d)?r:c}(c,d,fe(r,d)),c.length-1)}determineDataLimits(){const{minDefined:d,maxDefined:r}=this.getUserBounds();let{min:c,max:h}=this.getMinMax(!0);"ticks"===this.options.bounds&&(d||(c=0),r||(h=this.getLabels().length-1)),this.min=c,this.max=h}buildTicks(){const d=this.min,r=this.max,c=this.options.offset,h=[];let m=this.getLabels();m=0===d&&r===m.length-1?m:m.slice(d,r+1),this._valueRange=Math.max(m.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let C=d;C<=r;C++)h.push({value:C});return h}getLabelForValue(d){const r=this.getLabels();return d>=0&&d<r.length?r[d]:d}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(d){return"number"!=typeof d&&(d=this.parse(d)),null===d?NaN:this.getPixelForDecimal((d-this._startValue)/this._valueRange)}getPixelForTick(d){const r=this.ticks;return d<0||d>r.length-1?null:this.getPixelForValue(r[d].value)}getValueForPixel(d){return Math.round(this._startValue+this.getDecimalForPixel(d)*this._valueRange)}getBasePixel(){return this.bottom}}function Sa(g,d,{horizontal:r,minRotation:c}){const h=X(c),m=(r?Math.sin(h):Math.cos(h))||.001;return Math.min(d/m,.75*d*(""+g).length)}Uu.id="category",Uu.defaults={ticks:{callback:Uu.prototype.getLabelForValue}};class qc extends Ws{constructor(d){super(d),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(d,r){return ae(d)||("number"==typeof d||d instanceof Number)&&!isFinite(+d)?null:+d}handleTickRangeOptions(){const{beginAtZero:d}=this.options,{minDefined:r,maxDefined:c}=this.getUserBounds();let{min:h,max:m}=this;const C=x=>h=r?h:x,D=x=>m=c?m:x;if(d){const x=it(h),N=it(m);x<0&&N<0?D(0):x>0&&N>0&&C(0)}if(h===m){let x=1;(m>=Number.MAX_SAFE_INTEGER||h<=Number.MIN_SAFE_INTEGER)&&(x=Math.abs(.05*m)),D(m+x),d||C(h-x)}this.min=h,this.max=m}getTickLimit(){const d=this.options.ticks;let h,{maxTicksLimit:r,stepSize:c}=d;return c?(h=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,h>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${h} ticks. Limiting to 1000.`),h=1e3)):(h=this.computeTickLimit(),r=r||11),r&&(h=Math.min(r,h)),h}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const d=this.options,r=d.ticks;let c=this.getTickLimit();c=Math.max(2,c);const C=function(g,d){const r=[],{bounds:h,step:m,min:C,max:D,precision:x,count:N,maxTicks:Y,maxDigits:le,includeBounds:De}=g,Ve=m||1,nt=Y-1,{min:dt,max:_t}=d,Mt=!ae(C),ln=!ae(D),Un=!ae(N),Sn=(_t-dt)/(le+1);let Xn,$n,Jn,si,Dn=un((_t-dt)/nt/Ve)*Ve;if(Dn<1e-14&&!Mt&&!ln)return[{value:dt},{value:_t}];si=Math.ceil(_t/Dn)-Math.floor(dt/Dn),si>nt&&(Dn=un(si*Dn/nt/Ve)*Ve),ae(x)||(Xn=Math.pow(10,x),Dn=Math.ceil(Dn*Xn)/Xn),"ticks"===h?($n=Math.floor(dt/Dn)*Dn,Jn=Math.ceil(_t/Dn)*Dn):($n=dt,Jn=_t),Mt&&ln&&m&&function(g,d){const r=Math.round(g);return r-d<=g&&r+d>=g}((D-C)/m,Dn/1e3)?(si=Math.round(Math.min((D-C)/Dn,Y)),Dn=(D-C)/si,$n=C,Jn=D):Un?($n=Mt?C:$n,Jn=ln?D:Jn,si=N-1,Dn=(Jn-$n)/si):(si=(Jn-$n)/Dn,si=mt(si,Math.round(si),Dn/1e3)?Math.round(si):Math.ceil(si));const Zi=Math.max(ze(Dn),ze($n));Xn=Math.pow(10,ae(x)?Zi:x),$n=Math.round($n*Xn)/Xn,Jn=Math.round(Jn*Xn)/Xn;let oi=0;for(Mt&&(De&&$n!==C?(r.push({value:C}),$n<C&&oi++,mt(Math.round(($n+oi*Dn)*Xn)/Xn,C,Sa(C,Sn,g))&&oi++):$n<C&&oi++);oi<si;++oi)r.push({value:Math.round(($n+oi*Dn)*Xn)/Xn});return ln&&De&&Jn!==D?r.length&&mt(r[r.length-1].value,D,Sa(D,Sn,g))?r[r.length-1].value=D:r.push({value:D}):(!ln||Jn===D)&&r.push({value:Jn}),r}({maxTicks:c,bounds:d.bounds,min:d.min,max:d.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:!1!==r.includeBounds},this._range||this);return"ticks"===d.bounds&&Je(C,this,"value"),d.reverse?(C.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),C}configure(){const d=this.ticks;let r=this.min,c=this.max;if(super.configure(),this.options.offset&&d.length){const h=(c-r)/Math.max(d.length-1,1)/2;r-=h,c+=h}this._startValue=r,this._endValue=c,this._valueRange=c-r}getLabelForValue(d){return He(d,this.chart.options.locale)}}class xd extends qc{determineDataLimits(){const{min:d,max:r}=this.getMinMax(!0);this.min=we(d)?d:0,this.max=we(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const d=this.isHorizontal(),r=d?this.width:this.height,c=X(this.options.ticks.minRotation),h=(d?Math.sin(c):Math.cos(c))||.001,m=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,m.lineHeight/h))}getPixelForValue(d){return null===d?NaN:this.getPixelForDecimal((d-this._startValue)/this._valueRange)}getValueForPixel(d){return this._startValue+this.getDecimalForPixel(d)*this._valueRange}}function eh(g){return g/Math.pow(10,Math.floor(Fe(g)))==1}xd.id="linear",xd.defaults={ticks:{callback:Nl.formatters.numeric}};class Ph extends Ws{constructor(d){super(d),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(d,r){const c=qc.prototype.parse.apply(this,[d,r]);if(0!==c)return we(c)&&c>0?c:null;this._zero=!0}determineDataLimits(){const{min:d,max:r}=this.getMinMax(!0);this.min=we(d)?Math.max(0,d):null,this.max=we(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:d,maxDefined:r}=this.getUserBounds();let c=this.min,h=this.max;const m=x=>c=d?c:x,C=x=>h=r?h:x,D=(x,N)=>Math.pow(10,Math.floor(Fe(x))+N);c===h&&(c<=0?(m(1),C(10)):(m(D(c,-1)),C(D(h,1)))),c<=0&&m(D(h,-1)),h<=0&&C(D(c,1)),this._zero&&this.min!==this._suggestedMin&&c===D(this.min,0)&&m(D(c,-1)),this.min=c,this.max=h}buildTicks(){const d=this.options,c=function(g,d){const r=Math.floor(Fe(d.max)),c=Math.ceil(d.max/Math.pow(10,r)),h=[];let m=ke(g.min,Math.pow(10,Math.floor(Fe(d.min)))),C=Math.floor(Fe(m)),D=Math.floor(m/Math.pow(10,C)),x=C<0?Math.pow(10,Math.abs(C)):1;do{h.push({value:m,major:eh(m)}),++D,10===D&&(D=1,++C,x=C>=0?1:x),m=Math.round(D*Math.pow(10,C)*x)/x}while(C<r||C===r&&D<c);const N=ke(g.max,m);return h.push({value:N,major:eh(m)}),h}({min:this._userMin,max:this._userMax},this);return"ticks"===d.bounds&&Je(c,this,"value"),d.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(d){return void 0===d?"0":He(d,this.chart.options.locale)}configure(){const d=this.min;super.configure(),this._startValue=Fe(d),this._valueRange=Fe(this.max)-Fe(d)}getPixelForValue(d){return(void 0===d||0===d)&&(d=this.min),null===d||isNaN(d)?NaN:this.getPixelForDecimal(d===this.min?0:(Fe(d)-this._startValue)/this._valueRange)}getValueForPixel(d){const r=this.getDecimalForPixel(d);return Math.pow(10,this._startValue+r*this._valueRange)}}function Id(g){const d=g.ticks;if(d.display&&g.display){const r=lr(d.backdropPadding);return fe(d.font&&d.font.size,di.font.size)+r.height}return 0}function gp(g,d,r){return r=Me(r)?r:[r],{w:Mr(g,d.string,r),h:r.length*d.lineHeight}}function Ad(g,d,r,c,h){return g===c||g===h?{start:d-r/2,end:d+r/2}:g<c||g>h?{start:d-r,end:d}:{start:d,end:d+r}}function ul(g){return 0===g||180===g?"center":g<180?"left":"right"}function mp(g,d,r){return"right"===r?g-=d:"center"===r&&(g-=d/2),g}function Lh(g,d,r){return 90===r||270===r?g-=d/2:(r>270||r<90)&&(g-=d),g}function th(g,d,r,c){const{ctx:h}=g;if(r)h.arc(g.xCenter,g.yCenter,d,0,$t);else{let m=g.getPointPosition(0,d);h.moveTo(m.x,m.y);for(let C=1;C<c;C++)m=g.getPointPosition(C,d),h.lineTo(m.x,m.y)}}function zl(g){return hn(g)?g:0}Ph.id="logarithmic",Ph.defaults={ticks:{callback:Nl.formatters.logarithmic,major:{enabled:!0}}};class nu extends qc{constructor(d){super(d),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=Id(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:d,max:r}=this.getMinMax(!1);this.min=we(d)&&!isNaN(d)?d:0,this.max=we(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Id(this.options))}generateTickLabels(d){qc.prototype.generateTickLabels.call(this,d),this._pointLabels=this.getLabels().map((r,c)=>{const h=ee(this.options.pointLabels.callback,[r,c],this);return h||0===h?h:""})}fit(){const d=this.options;d.display&&d.pointLabels.display?function(g){const d={l:0,r:g.width,t:0,b:g.height-g.paddingTop},r={},c=[],h=[],m=g.getLabels().length;for(let C=0;C<m;C++){const D=g.options.pointLabels.setContext(g.getPointLabelContext(C));h[C]=D.padding;const x=g.getPointPosition(C,g.drawingArea+h[C]),N=_r(D.font),Y=gp(g.ctx,N,g._pointLabels[C]);c[C]=Y;const le=g.getIndexAngle(C),De=re(le),Ve=Ad(De,x.x,Y.w,0,180),nt=Ad(De,x.y,Y.h,90,270);Ve.start<d.l&&(d.l=Ve.start,r.l=le),Ve.end>d.r&&(d.r=Ve.end,r.r=le),nt.start<d.t&&(d.t=nt.start,r.t=le),nt.end>d.b&&(d.b=nt.end,r.b=le)}g._setReductions(g.drawingArea,d,r),g._pointLabelItems=function(g,d,r){const c=[],h=g.getLabels().length,m=g.options,C=Id(m),D=g.getDistanceFromCenterForValue(m.ticks.reverse?g.min:g.max);for(let x=0;x<h;x++){const Y=g.getPointPosition(x,D+(0===x?C/2:0)+r[x]),le=re(g.getIndexAngle(x)),De=d[x],Ve=Lh(Y.y,De.h,le),nt=ul(le),dt=mp(Y.x,De.w,nt);c.push({x:Y.x,y:Ve,textAlign:nt,left:dt,top:Ve,right:dt+De.w,bottom:Ve+De.h})}return c}(g,c,h)}(this):this.setCenterPoint(0,0,0,0)}_setReductions(d,r,c){let h=r.l/Math.sin(c.l),m=Math.max(r.r-this.width,0)/Math.sin(c.r),C=-r.t/Math.cos(c.t),D=-Math.max(r.b-(this.height-this.paddingTop),0)/Math.cos(c.b);h=zl(h),m=zl(m),C=zl(C),D=zl(D),this.drawingArea=Math.max(d/2,Math.min(Math.floor(d-(h+m)/2),Math.floor(d-(C+D)/2))),this.setCenterPoint(h,m,C,D)}setCenterPoint(d,r,c,h){const D=c+this.drawingArea,x=this.height-this.paddingTop-h-this.drawingArea;this.xCenter=Math.floor((d+this.drawingArea+(this.width-r-this.drawingArea))/2+this.left),this.yCenter=Math.floor((D+x)/2+this.top+this.paddingTop)}getIndexAngle(d){return Zt(d*($t/this.getLabels().length)+X(this.options.startAngle||0))}getDistanceFromCenterForValue(d){if(ae(d))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-d)*r:(d-this.min)*r}getValueForDistanceFromCenter(d){if(ae(d))return NaN;const r=d/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(d){const r=this._pointLabels||[];if(d>=0&&d<r.length){const c=r[d];return function(g,d,r){return Lo(g,{label:r,index:d,type:"pointLabel"})}(this.getContext(),d,c)}}getPointPosition(d,r){const c=this.getIndexAngle(d)-dn;return{x:Math.cos(c)*r+this.xCenter,y:Math.sin(c)*r+this.yCenter,angle:c}}getPointPositionForValue(d,r){return this.getPointPosition(d,this.getDistanceFromCenterForValue(r))}getBasePosition(d){return this.getPointPositionForValue(d||0,this.getBaseValue())}getPointLabelPosition(d){const{left:r,top:c,right:h,bottom:m}=this._pointLabelItems[d];return{left:r,top:c,right:h,bottom:m}}drawBackground(){const{backgroundColor:d,grid:{circular:r}}=this.options;if(d){const c=this.ctx;c.save(),c.beginPath(),th(this,this.getDistanceFromCenterForValue(this._endValue),r,this.getLabels().length),c.closePath(),c.fillStyle=d,c.fill(),c.restore()}}drawGrid(){const d=this.ctx,r=this.options,{angleLines:c,grid:h}=r,m=this.getLabels().length;let C,D,x;if(r.pointLabels.display&&function(g,d){const{ctx:r,options:{pointLabels:c}}=g;for(let h=d-1;h>=0;h--){const m=c.setContext(g.getPointLabelContext(h)),C=_r(m.font),{x:D,y:x,textAlign:N,left:Y,top:le,right:De,bottom:Ve}=g._pointLabelItems[h],{backdropColor:nt}=m;if(!ae(nt)){const dt=lr(m.backdropPadding);r.fillStyle=nt,r.fillRect(Y-dt.left,le-dt.top,De-Y+dt.width,Ve-le+dt.height)}ar(r,g._pointLabels[h],D,x+C.lineHeight/2,C,{color:m.color,textAlign:N,textBaseline:"middle"})}}(this,m),h.display&&this.ticks.forEach((N,Y)=>{0!==Y&&(D=this.getDistanceFromCenterForValue(N.value),function(g,d,r,c){const h=g.ctx,m=d.circular,{color:C,lineWidth:D}=d;!m&&!c||!C||!D||r<0||(h.save(),h.strokeStyle=C,h.lineWidth=D,h.setLineDash(d.borderDash),h.lineDashOffset=d.borderDashOffset,h.beginPath(),th(g,r,m,c),h.closePath(),h.stroke(),h.restore())}(this,h.setContext(this.getContext(Y-1)),D,m))}),c.display){for(d.save(),C=this.getLabels().length-1;C>=0;C--){const N=c.setContext(this.getPointLabelContext(C)),{color:Y,lineWidth:le}=N;!le||!Y||(d.lineWidth=le,d.strokeStyle=Y,d.setLineDash(N.borderDash),d.lineDashOffset=N.borderDashOffset,D=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),x=this.getPointPosition(C,D),d.beginPath(),d.moveTo(this.xCenter,this.yCenter),d.lineTo(x.x,x.y),d.stroke())}d.restore()}}drawBorder(){}drawLabels(){const d=this.ctx,r=this.options,c=r.ticks;if(!c.display)return;const h=this.getIndexAngle(0);let m,C;d.save(),d.translate(this.xCenter,this.yCenter),d.rotate(h),d.textAlign="center",d.textBaseline="middle",this.ticks.forEach((D,x)=>{if(0===x&&!r.reverse)return;const N=c.setContext(this.getContext(x)),Y=_r(N.font);if(m=this.getDistanceFromCenterForValue(this.ticks[x].value),N.showLabelBackdrop){d.font=Y.string,C=d.measureText(D.label).width,d.fillStyle=N.backdropColor;const le=lr(N.backdropPadding);d.fillRect(-C/2-le.left,-m-Y.size/2-le.top,C+le.width,Y.size+le.height)}ar(d,D.label,0,-m,Y,{color:N.color})}),d.restore()}drawTitle(){}}nu.id="radialLinear",nu.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Nl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:g=>g,padding:5}},nu.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},nu.descriptors={angleLines:{_fallback:"grid"}};const iu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},os=Object.keys(iu);function Nh(g,d){return g-d}function yo(g,d){if(ae(d))return null;const r=g._adapter,{parser:c,round:h,isoWeekday:m}=g._parseOpts;let C=d;return"function"==typeof c&&(C=c(C)),we(C)||(C="string"==typeof c?r.parse(C,c):r.parse(C)),null===C?null:(h&&(C="week"!==h||!hn(m)&&!0!==m?r.startOf(C,h):r.startOf(C,"isoWeek",m)),+C)}function zu(g,d,r,c){const h=os.length;for(let m=os.indexOf(g);m<h-1;++m){const C=iu[os[m]],D=C.steps?C.steps:Number.MAX_SAFE_INTEGER;if(C.common&&Math.ceil((r-d)/(D*C.size))<=c)return os[m]}return os[h-1]}function L(g,d,r){if(r){if(r.length){const{lo:c,hi:h}=ls(r,d);g[r[c]>=d?r[c]:r[h]]=!0}}else g[d]=!0}function Z(g,d,r){const c=[],h={},m=d.length;let C,D;for(C=0;C<m;++C)D=d[C],h[D]=C,c.push({value:D,major:!1});return 0!==m&&r?function(g,d,r,c){const h=g._adapter,m=+h.startOf(d[0].value,c),C=d[d.length-1].value;let D,x;for(D=m;D<=C;D=+h.add(D,1,c))x=r[D],x>=0&&(d[x].major=!0);return d}(g,c,h,r):c}let ce=(()=>{class g extends Ws{constructor(r){super(r),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(r,c){const h=r.time||(r.time={}),m=this._adapter=new Re._date(r.adapters.date);Be(h.displayFormats,m.formats()),this._parseOpts={parser:h.parser,round:h.round,isoWeekday:h.isoWeekday},super.init(r),this._normalized=c.normalized}parse(r,c){return void 0===r?null:yo(this,r)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const r=this.options,c=this._adapter,h=r.time.unit||"day";let{min:m,max:C,minDefined:D,maxDefined:x}=this.getUserBounds();function N(Y){!D&&!isNaN(Y.min)&&(m=Math.min(m,Y.min)),!x&&!isNaN(Y.max)&&(C=Math.max(C,Y.max))}(!D||!x)&&(N(this._getLabelBounds()),("ticks"!==r.bounds||"labels"!==r.ticks.source)&&N(this.getMinMax(!1))),m=we(m)&&!isNaN(m)?m:+c.startOf(Date.now(),h),C=we(C)&&!isNaN(C)?C:+c.endOf(Date.now(),h)+1,this.min=Math.min(m,C-1),this.max=Math.max(m+1,C)}_getLabelBounds(){const r=this.getLabelTimestamps();let c=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;return r.length&&(c=r[0],h=r[r.length-1]),{min:c,max:h}}buildTicks(){const r=this.options,c=r.time,h=r.ticks,m="labels"===h.source?this.getLabelTimestamps():this._generate();"ticks"===r.bounds&&m.length&&(this.min=this._userMin||m[0],this.max=this._userMax||m[m.length-1]);const C=this.min,x=function(g,d,r){let c=0,h=g.length;for(;c<h&&g[c]<d;)c++;for(;h>c&&g[h-1]>r;)h--;return c>0||h<g.length?g.slice(c,h):g}(m,C,this.max);return this._unit=c.unit||(h.autoSkip?zu(c.minUnit,this.min,this.max,this._getLabelCapacity(C)):function(g,d,r,c,h){for(let m=os.length-1;m>=os.indexOf(r);m--){const C=os[m];if(iu[C].common&&g._adapter.diff(h,c,C)>=d-1)return C}return os[r?os.indexOf(r):0]}(this,x.length,c.minUnit,this.min,this.max)),this._majorUnit=h.major.enabled&&"year"!==this._unit?function(g){for(let d=os.indexOf(g)+1,r=os.length;d<r;++d)if(iu[os[d]].common)return os[d]}(this._unit):void 0,this.initOffsets(m),r.reverse&&x.reverse(),Z(this,x,this._majorUnit)}initOffsets(r){let m,C,c=0,h=0;this.options.offset&&r.length&&(m=this.getDecimalForValue(r[0]),c=1===r.length?1-m:(this.getDecimalForValue(r[1])-m)/2,C=this.getDecimalForValue(r[r.length-1]),h=1===r.length?C:(C-this.getDecimalForValue(r[r.length-2]))/2);const D=r.length<3?.5:.25;c=En(c,0,D),h=En(h,0,D),this._offsets={start:c,end:h,factor:1/(c+1+h)}}_generate(){const r=this._adapter,c=this.min,h=this.max,m=this.options,C=m.time,D=C.unit||zu(C.minUnit,c,h,this._getLabelCapacity(c)),x=fe(C.stepSize,1),N="week"===D&&C.isoWeekday,Y=hn(N)||!0===N,le={};let Ve,nt,De=c;if(Y&&(De=+r.startOf(De,"isoWeek",N)),De=+r.startOf(De,Y?"day":D),r.diff(h,c,D)>1e5*x)throw new Error(c+" and "+h+" are too far apart with stepSize of "+x+" "+D);const dt="data"===m.ticks.source&&this.getDataTimestamps();for(Ve=De,nt=0;Ve<h;Ve=+r.add(Ve,x,D),nt++)L(le,Ve,dt);return(Ve===h||"ticks"===m.bounds||1===nt)&&L(le,Ve,dt),Object.keys(le).sort((_t,Mt)=>_t-Mt).map(_t=>+_t)}getLabelForValue(r){const h=this.options.time;return this._adapter.format(r,h.tooltipFormat?h.tooltipFormat:h.displayFormats.datetime)}_tickFormatFunction(r,c,h,m){const C=this.options,D=C.time.displayFormats,x=this._unit,N=this._majorUnit,le=N&&D[N],De=h[c],nt=this._adapter.format(r,m||(N&&le&&De&&De.major?le:x&&D[x])),dt=C.ticks.callback;return dt?ee(dt,[nt,c,h],this):nt}generateTickLabels(r){let c,h,m;for(c=0,h=r.length;c<h;++c)m=r[c],m.label=this._tickFormatFunction(m.value,c,r)}getDecimalForValue(r){return null===r?NaN:(r-this.min)/(this.max-this.min)}getPixelForValue(r){const c=this._offsets,h=this.getDecimalForValue(r);return this.getPixelForDecimal((c.start+h)*c.factor)}getValueForPixel(r){const c=this._offsets,h=this.getDecimalForPixel(r)/c.factor-c.end;return this.min+h*(this.max-this.min)}_getLabelSize(r){const c=this.options.ticks,h=this.ctx.measureText(r).width,m=X(this.isHorizontal()?c.maxRotation:c.minRotation),C=Math.cos(m),D=Math.sin(m),x=this._resolveTickFontOptions(0).size;return{w:h*C+x*D,h:h*D+x*C}}_getLabelCapacity(r){const c=this.options.time,h=c.displayFormats,m=h[c.unit]||h.millisecond,C=this._tickFormatFunction(r,0,Z(this,[r],this._majorUnit),m),D=this._getLabelSize(C),x=Math.floor(this.isHorizontal()?this.width/D.w:this.height/D.h)-1;return x>0?x:1}getDataTimestamps(){let c,h,r=this._cache.data||[];if(r.length)return r;const m=this.getMatchingVisibleMetas();if(this._normalized&&m.length)return this._cache.data=m[0].controller.getAllParsedValues(this);for(c=0,h=m.length;c<h;++c)r=r.concat(m[c].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const r=this._cache.labels||[];let c,h;if(r.length)return r;const m=this.getLabels();for(c=0,h=m.length;c<h;++c)r.push(yo(this,m[c]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(r){return ra(r.sort(Nh))}}return g.id="time",g.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},g})();function Ne(g,d,r){let m,C,D,x,c=0,h=g.length-1;r?(d>=g[c].pos&&d<=g[h].pos&&({lo:c,hi:h}=so(g,"pos",d)),({pos:m,time:D}=g[c]),({pos:C,time:x}=g[h])):(d>=g[c].time&&d<=g[h].time&&({lo:c,hi:h}=so(g,"time",d)),({time:m,pos:D}=g[c]),({time:C,pos:x}=g[h]));const N=C-m;return N?D+(x-D)*(d-m)/N:D}class Le extends ce{constructor(d){super(d),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const d=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(d);this._minPos=Ne(r,this.min),this._tableRange=Ne(r,this.max)-this._minPos,super.initOffsets(d)}buildLookupTable(d){const{min:r,max:c}=this,h=[],m=[];let C,D,x,N,Y;for(C=0,D=d.length;C<D;++C)N=d[C],N>=r&&N<=c&&h.push(N);if(h.length<2)return[{time:r,pos:0},{time:c,pos:1}];for(C=0,D=h.length;C<D;++C)Y=h[C+1],x=h[C-1],N=h[C],Math.round((Y+x)/2)!==N&&m.push({time:N,pos:C/(D-1)});return m}_getTimestampsForTable(){let d=this._cache.all||[];if(d.length)return d;const r=this.getDataTimestamps(),c=this.getLabelTimestamps();return d=r.length&&c.length?this.normalize(r.concat(c)):r.length?r:c,d=this._cache.all=d,d}getDecimalForValue(d){return(Ne(this._table,d)-this._minPos)/this._tableRange}getValueForPixel(d){const r=this._offsets,c=this.getDecimalForPixel(d)/r.factor-r.end;return Ne(this._table,c*this._tableRange+this._minPos,!0)}}Le.id="timeseries",Le.defaults=ce.defaults,ic.register(J,Sc,Ah,Object.freeze({__proto__:null,CategoryScale:Uu,LinearScale:xd,LogarithmicScale:Ph,RadialLinearScale:nu,TimeScale:ce,TimeSeriesScale:Le}));const ut=ic;var Ft=_(54958),Ie=_(42741);class Xt{constructor(d){this.table=d}reloadData(d,r){return this.table.dataLoader.load(d,void 0,void 0,void 0,r)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(){return this.table.modules.layout.layout()}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(d){return this.table.eventBus.subscribed(d)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(d){return this.table.externalEvents.subscribed(d)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(d,r){return void 0!==r&&(this.table.options[d]=r),this.table.options[d]}setOption(d,r){return void 0!==r&&(this.table.options[d]=r),this.table.options[d]}module(d){return this.table.module(d)}}class Kt extends Xt{constructor(d,r){super(d),this._handler=null}initialize(){}registerTableOption(d,r){this.table.optionsList.register(d,r)}registerColumnOption(d,r){this.table.columnManager.optionsList.register(d,r)}registerTableFunction(d,r){void 0===this.table[d]?this.table[d]=r:console.warn("Unable to bind table function, name already in use",d)}registerComponentFunction(d,r,c){return this.table.componentFunctionBinder.bind(d,r,c)}registerDataHandler(d,r){this.table.rowManager.registerDataPipelineHandler(d,r),this._handler=d}registerDisplayHandler(d,r){this.table.rowManager.registerDisplayPipelineHandler(d,r),this._handler=d}refreshData(d,r){r||(r=this._handler),r&&this.table.rowManager.refreshActiveData(r,!1,d)}}class pn{static elVisible(d){return!(d.offsetWidth<=0&&d.offsetHeight<=0)}static elOffset(d){var r=d.getBoundingClientRect();return{top:r.top+window.pageYOffset-document.documentElement.clientTop,left:r.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(d,r,c=[]){var h={}.__proto__,m=[].__proto__;for(var C in r||(r=Object.assign(Array.isArray(d)?[]:{},d)),d){let x,N,D=d[C];null!=D&&"object"==typeof D&&(D.__proto__===h||D.__proto__===m)&&(x=c.findIndex(Y=>Y.subject===D),x>-1?r[C]=c[x].copy:(N=Object.assign(Array.isArray(D)?[]:{},D),c.unshift({subject:D,copy:N}),r[C]=this.deepClone(D,N,c)))}return r}}var Ln={};let Bn=(()=>{class g extends Kt{constructor(r){super(r),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(r){var c=!1,h={};this.allowedTypes.forEach(m=>{var D,C="accessor"+(m.charAt(0).toUpperCase()+m.slice(1));r.definition[C]&&(D=this.lookupAccessor(r.definition[C]))&&(c=!0,h[C]={accessor:D,params:r.definition[C+"Params"]||{}})}),c&&(r.modules.accessor=h)}lookupAccessor(r){var c=!1;switch(typeof r){case"string":g.accessors[r]?c=g.accessors[r]:console.warn("Accessor Error - No such accessor found, ignoring: ",r);break;case"function":c=r}return c}transformRow(r,c){var h="accessor"+(c.charAt(0).toUpperCase()+c.slice(1)),m=r.getComponent(),C=pn.deepClone(r.data||{});return this.table.columnManager.traverse(function(D){var x,N,Y,le;D.modules.accessor&&(N=D.modules.accessor[h]||D.modules.accessor.accessor||!1)&&"undefined"!=(x=D.getFieldValue(C))&&(le=D.getComponent(),Y="function"==typeof N.params?N.params(x,C,c,le,m):N.params,D.setFieldValue(C,N.accessor(x,C,c,Y,le,m)))}),C}}return g.moduleName="accessor",g.accessors=Ln,g})();var ri={method:"GET"};function kn(g,d){var r=[];if(d=d||"",Array.isArray(g))g.forEach((h,m)=>{r=r.concat(kn(h,d?d+"["+m+"]":m))});else if("object"==typeof g)for(var c in g)r=r.concat(kn(g[c],d?d+"["+c+"]":c));else r.push({key:d,value:g});return r}function hr(g){var d=kn(g),r=[];return d.forEach(function(c){r.push(encodeURIComponent(c.key)+"="+encodeURIComponent(c.value))}),r.join("&")}function rr(g,d,r){return g&&r&&Object.keys(r).length&&(!d.method||"get"==d.method.toLowerCase())&&(d.method="get",g+=(g.includes("?")?"&":"?")+hr(r)),g}function jr(g,d,r){var c;return new Promise((h,m)=>{if(g=this.urlGenerator.call(this.table,g,d,r),"GET"!=d.method.toUpperCase())if(c="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var C in c.headers)d.headers||(d.headers={}),void 0===d.headers[C]&&(d.headers[C]=c.headers[C]);d.body=c.body.call(this,g,d,r)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);g?(void 0===d.headers&&(d.headers={}),void 0===d.headers.Accept&&(d.headers.Accept="application/json"),void 0===d.headers["X-Requested-With"]&&(d.headers["X-Requested-With"]="XMLHttpRequest"),void 0===d.mode&&(d.mode="cors"),"cors"==d.mode?(void 0===d.headers.Origin&&(d.headers.Origin=window.location.origin),void 0===d.credentials&&(d.credentials="same-origin")):void 0===d.credentials&&(d.credentials="include"),fetch(g,d).then(D=>{D.ok?D.json().then(x=>{h(x)}).catch(x=>{m(x),console.warn("Ajax Load Error - Invalid JSON returned",x)}):(console.error("Ajax Load Error - Connection Error: "+D.status,D.statusText),m(D))}).catch(D=>{console.error("Ajax Load Error - Connection Error: ",D),m(D)})):(console.warn("Ajax Load Error - No URL Set"),h([]))})}function Vr(g,d){var r=[];if(d=d||"",Array.isArray(g))g.forEach((h,m)=>{r=r.concat(Vr(h,d?d+"["+m+"]":m))});else if("object"==typeof g)for(var c in g)r=r.concat(Vr(g[c],d?d+"["+c+"]":c));else r.push({key:d,value:g});return r}var Sr={json:{headers:{"Content-Type":"application/json"},body:function(g,d,r){return JSON.stringify(r)}},form:{headers:{},body:function(g,d,r){var c=Vr(r),h=new FormData;return c.forEach(function(m){h.append(m.key,m.value)}),h}}};let Ys=(()=>{class g extends Kt{constructor(r){super(r),this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=g.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||g.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||g.defaultURLGenerator,this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestDataCheck(r,c,h,m){return!((r||!this.url)&&"string"!=typeof r)}requestData(r,c,h,m,C){return this.requestDataCheck(r)?(r&&this.setUrl(r),c&&this.setParams(c,!0),h&&this.setConfig(h),this.sendRequest()):C}setParams(r,c){if(c){this.params=this.params||{};for(let h in r)this.params[h]=r[h]}else this.params=r}getParams(){return this.params||{}}setConfig(r){if(this._loadDefaultConfig(),"string"==typeof r)this.config.method=r;else for(let c in r)this.config[c]=r[c]}_loadDefaultConfig(r){if(!this.config||r){this.config={};for(let c in g.defaultConfig)this.config[c]=g.defaultConfig[c]}}setUrl(r){this.url=r}getUrl(){return this.url}sendRequest(r){var c=this.url;return this._loadDefaultConfig(),!1!==this.table.options.ajaxRequesting.call(this.table,this.url,this.params)?this.loaderPromise(c,this.config,this.params).then(h=>(this.table.options.ajaxResponse&&(h=this.table.options.ajaxResponse.call(this.table,this.url,this.params,h)),h)):Promise.reject()}}return g.moduleName="ajax",g.defaultConfig=ri,g.defaultURLGenerator=rr,g.defaultLoaderPromise=jr,g.contentTypeFormatters=Sr,g})();var Is={replace:function(g){return this.table.setData(g)},update:function(g){return this.table.updateOrAddData(g)},insert:function(g){return this.table.addData(g)}},Xo={table:function(g){var d=[],r=!0,c=this.table.columnManager.columns,h=[],m=[];return(g=g.split("\n")).forEach(function(C){d.push(C.split("\t"))}),!(!d.length||1===d.length&&d[0].length<2)&&(d[0].forEach(function(C){var D=c.find(function(x){return C&&x.definition.title&&C.trim()&&x.definition.title.trim()===C.trim()});D?h.push(D):r=!1}),r||(r=!0,h=[],d[0].forEach(function(C){var D=c.find(function(x){return C&&x.field&&C.trim()&&x.field.trim()===C.trim()});D?h.push(D):r=!1}),r||(h=this.table.columnManager.columnsByIndex)),r&&d.shift(),d.forEach(function(C){var D={};C.forEach(function(x,N){h[N]&&(D[h[N].field]=x)}),m.push(D)}),m)}};let $o=(()=>{class g extends Kt{constructor(r){super(r),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(!0===this.mode||"copy"===this.mode)&&this.table.element.addEventListener("copy",r=>{var c,h;if(!this.blocked){if(r.preventDefault(),this.customSelection)c=this.customSelection,this.table.options.clipboardCopyFormatter&&(c=this.table.options.clipboardCopyFormatter("plain",c));else{var m=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard");c=(h=this.table.modules.export.genereateHTMLTable(m))?this.generatePlainContent(m):"",this.table.options.clipboardCopyFormatter&&(c=this.table.options.clipboardCopyFormatter("plain",c),h=this.table.options.clipboardCopyFormatter("html",h))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",c):r.clipboardData&&r.clipboardData.setData?(r.clipboardData.setData("text/plain",c),h&&r.clipboardData.setData("text/html",h)):r.originalEvent&&r.originalEvent.clipboardData.setData&&(r.originalEvent.clipboardData.setData("text/plain",c),h&&r.originalEvent.clipboardData.setData("text/html",h)),this.dispatchExternal("clipboardCopied",c,h),this.reset()}}),(!0===this.mode||"paste"===this.mode)&&this.table.element.addEventListener("paste",r=>{this.paste(r)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(r){var c=[];return r.forEach(h=>{var m=[];h.columns.forEach(C=>{var D="";if(C)if("group"===h.type&&(C.value=C.component.getKey()),null===C.value)D="";else switch(typeof C.value){case"object":D=JSON.stringify(C.value);break;case"undefined":D="";break;default:D=C.value}m.push(D)}),c.push(m.join("\t"))}),c.join("\n")}copy(r,c){var h,m;this.blocked=!1,this.customSelection=!1,(!0===this.mode||"copy"===this.mode)&&(this.rowRange=r||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((r=document.createRange()).selectNodeContents(this.table.element),(h=window.getSelection()).toString()&&c&&(this.customSelection=h.toString()),h.removeAllRanges(),h.addRange(r)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((m=document.body.createTextRange()).moveToElementText(this.table.element),m.select()),document.execCommand("copy"),h&&h.removeAllRanges())}setPasteAction(r){switch(typeof r){case"string":this.pasteAction=g.pasteActions[r],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",r);break;case"function":this.pasteAction=r}}setPasteParser(r){switch(typeof r){case"string":this.pasteParser=g.pasteParsers[r],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",r);break;case"function":this.pasteParser=r}}paste(r){var c,h,m;this.checkPaseOrigin(r)&&(c=this.getPasteData(r),(h=this.pasteParser.call(this,c))?(r.preventDefault(),this.table.modExists("mutator")&&(h=this.mutateData(h)),m=this.pasteAction.call(this,h),this.dispatchExternal("clipboardPasted",c,h,m)):this.dispatchExternal("clipboardPasteError",c))}mutateData(r){var c=[];return Array.isArray(r)?r.forEach(h=>{c.push(this.table.modules.mutator.transformRow(h,"clipboard"))}):c=r,c}checkPaseOrigin(r){var c=!0;return("DIV"!=r.target.tagName||this.table.modules.edit.currentCell)&&(c=!1),c}getPasteData(r){var c;return window.clipboardData&&window.clipboardData.getData?c=window.clipboardData.getData("Text"):r.clipboardData&&r.clipboardData.getData?c=r.clipboardData.getData("text/plain"):r.originalEvent&&r.originalEvent.clipboardData.getData&&(c=r.originalEvent.clipboardData.getData("text/plain")),c}}return g.moduleName="clipboard",g.pasteActions=Is,g.pasteParsers=Xo,g})();class gr{constructor(d){return this._row=d,new Proxy(this,{get:function(r,c,h){return void 0!==r[c]?r[c]:r._row.table.componentFunctionBinder.handle("row",r._row,c)}})}getData(d){return this._row.getData(d)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var d=[];return this._row.getCells().forEach(function(r){d.push(r.getComponent())}),d}getCell(d){var r=this._row.getCell(d);return!!r&&r.getComponent()}_getSelf(){return this._row}}class Ho{constructor(d){return this._cell=d,new Proxy(this,{get:function(r,c,h){return void 0!==r[c]?r[c]:r._cell.table.componentFunctionBinder.handle("cell",r._cell,c)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(d,r){void 0===r&&(r=!0),this._cell.setValue(d,r)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class Eo extends Xt{constructor(d,r){super(d.table),this.table=d.table,this.column=d,this.row=r,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element}_configureCell(){var d=this.element,r=this.column.getField();d.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(d.style.display="inline-flex",d.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(d.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),r&&d.setAttribute("tabulator-field",r),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(C=>{d.classList.add(C)}),"hover"===this.table.options.tooltipGenerationMode&&d.addEventListener("mouseenter",C=>{this._generateTooltip()}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var d;switch(typeof(d=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(d instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(d)}else this.element.innerHTML="",null!=d&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",d);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=d}}cellRendered(){this.dispatch("cell-rendered",this)}_generateTooltip(){var d=this.column.tooltip;d?(!0===d?d=this.value:"function"==typeof d&&!1===(d=d(this.getComponent()))&&(d=""),void 0===d&&(d=""),this.element.setAttribute("title",d)):this.element.setAttribute("title","")}getElement(d){return this.loaded||(this.loaded=!0,d||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(d,r){this.setValueProcessData(d,r)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(d,r){var c=!1;return this.value!=d&&(c=!0,r&&(d=this.chain("cell-value-changing",[this,d],null,d))),this.setValueActual(d),c&&this.dispatch("cell-value-changed",this),c}setValueActual(d){this.oldValue=this.value,this.value=d,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,d),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this._generateTooltip(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new Ho(this)),this.component}}class Cl{constructor(d){return this._column=d,this.type="ColumnComponent",new Proxy(this,{get:function(r,c,h){return void 0!==r[c]?r[c]:r._column.table.componentFunctionBinder.handle("column",r._column,c)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getCells(){var d=[];return this._column.cells.forEach(function(r){d.push(r.getComponent())}),d}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(d){d.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(d){d.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var d=[];return this._column.columns.length&&this._column.columns.forEach(function(r){d.push(r.getComponent())}),d}getParentColumn(){return this._column.parent instanceof Column&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(d,r){var c=this._column.table.columnManager.findColumn(d);c?this._column.table.columnManager.moveColumn(this._column,c,r):console.warn("Move Error - No matching column found:",c)}getNextColumn(){var d=this._column.nextColumn();return!!d&&d.getComponent()}getPrevColumn(){var d=this._column.prevColumn();return!!d&&d.getComponent()}updateDefinition(d){return this._column.updateDefinition(d)}getWidth(){return this._column.getWidth()}setWidth(d){var r;return r=!0===d?this._column.reinitializeWidth(!0):this._column.setWidth(d),this._column.table.columnManager.renderer.rerenderColumns(!0),r}}var Da={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,tooltip:void 0,cssClass:void 0,variableHeight:void 0,headerTooltip:void 0,headerVertical:void 0,headerHozAlign:void 0,editableTitle:void 0};let La=(()=>{class g extends Xt{constructor(r,c){super(c.table),this.definition=r,this.parent=c,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((h,m)=>{var C=new g(h,this);this.attachColumn(C)}),this.checkColumnVisibility()):c.registerColumnField(this),this._initialize(),this.bindModuleColumns()}createElement(){var r=document.createElement("div");return r.classList.add("tabulator-col"),r.setAttribute("role","columnheader"),r.setAttribute("aria-sort","none"),r}createGroupElement(){var r=document.createElement("div");return r.classList.add("tabulator-col-group-cols"),r}mapDefinitions(){var r=this.table.options.columnDefaults;if(r)for(let c in r)void 0===this.definition[c]&&(this.definition[c]=r[c]);this.definition=this.table.columnManager.optionsList.generate(g.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(r=>{-1===g.defaultOptionList.indexOf(r)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",r)})}setField(r){this.field=r,this.fieldStructure=r?this.table.options.nestedFieldSeparator?r.split(this.table.options.nestedFieldSeparator):[r]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(r){this.parent.registerColumnPosition(r)}registerColumnField(r){this.parent.registerColumnField(r)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(r){r.reRegisterPosition()}):this.registerColumnPosition(this)}_mapDepricatedFunctionality(){}setTooltip(){var r=this.definition,c=void 0===r.headerTooltip?r.tooltip:r.headerTooltip;c?!0===c?r.field?this.langBind("columns|"+r.field,h=>{this.element.setAttribute("title",h||r.title)}):this.element.setAttribute("title",r.title):("function"==typeof c&&!1===(c=c(this.getComponent()))&&(c=""),this.element.setAttribute("title",c)):this.element.setAttribute("title","")}_initialize(){for(var r=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);r.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===r.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._bindEvents(),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.setTooltip(),this.dispatch("column-init",this),this.element.addEventListener("mouseenter",c=>{this.setTooltip()})}_bindEvents(){var c,h,m,r=this.definition;"function"==typeof r.headerClick&&this.element.addEventListener("click",C=>{r.headerClick(C,this.getComponent())}),"function"==typeof r.headerDblClick&&this.element.addEventListener("dblclick",C=>{r.headerDblClick(C,this.getComponent())}),"function"==typeof r.headerContext&&this.element.addEventListener("contextmenu",C=>{r.headerContext(C,this.getComponent())}),"function"==typeof r.headerTap&&(m=!1,this.element.addEventListener("touchstart",C=>{m=!0},{passive:!0}),this.element.addEventListener("touchend",C=>{m&&r.headerTap(C,this.getComponent()),m=!1})),"function"==typeof r.headerDblTap&&(c=null,this.element.addEventListener("touchend",C=>{c?(clearTimeout(c),c=null,r.headerDblTap(C,this.getComponent())):c=setTimeout(()=>{clearTimeout(c),c=null},300)})),"function"==typeof r.headerTapHold&&(h=null,this.element.addEventListener("touchstart",C=>{clearTimeout(h),h=setTimeout(function(){clearTimeout(h),h=null,m=!1,r.headerTapHold(C,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",C=>{clearTimeout(h),h=null}))}_buildColumnHeader(){var r=this.definition;this.dispatch("column-layout",this),void 0!==r.visible&&(r.visible?this.show(!0):this.hide(!0)),r.cssClass&&r.cssClass.split(" ").forEach(m=>{this.element.classList.add(m)}),r.field&&this.element.setAttribute("tabulator-field",r.field),this.setMinWidth(parseInt(r.minWidth)),r.maxWidth&&this.setMaxWidth(parseInt(r.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip,this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var h=document.createElement("div");return h.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),h.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),h}_buildColumnHeaderTitle(){var r=this.definition,c=document.createElement("div");if(c.classList.add("tabulator-col-title"),r.editableTitle){var h=document.createElement("input");h.classList.add("tabulator-title-editor"),h.addEventListener("click",m=>{m.stopPropagation(),h.focus()}),h.addEventListener("change",()=>{r.title=h.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),c.appendChild(h),r.field?this.langBind("columns|"+r.field,m=>{h.value=m||r.title||"&nbsp;"}):h.value=r.title||"&nbsp;"}else r.field?this.langBind("columns|"+r.field,m=>{this._formatColumnHeaderTitle(c,m||r.title||"&nbsp;")}):this._formatColumnHeaderTitle(c,r.title||"&nbsp;");return c}_formatColumnHeaderTitle(r,c){var h=this.chain("column-format",[this,c,r],null,()=>c);switch(typeof h){case"object":h instanceof Node?r.appendChild(h):(r.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",h));break;case"undefined":case"null":r.innerHTML="";break;default:r.innerHTML=h}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(c=>{this.element.classList.add(c)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(r){return r[this.field]}_getNestedData(r){var C,c=r,h=this.fieldStructure,m=h.length;for(let D=0;D<m&&(C=c=c[h[D]],c);D++);return C}_setFlatData(r,c){this.field&&(r[this.field]=c)}_setNestedData(r,c){var h=r,m=this.fieldStructure,C=m.length;for(let D=0;D<C;D++)if(D==C-1)h[m[D]]=c;else{if(!h[m[D]]){if(void 0===c)break;h[m[D]]={}}h=h[m[D]]}}attachColumn(r){this.groupElement?(this.columns.push(r),this.groupElement.appendChild(r.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(r,c){var h=this.parent.isGroup?this.parent.getGroupElement().clientHeight:c||this.parent.getHeadersElement().clientHeight;this.element.style.height=h+"px",this.isGroup&&(this.groupElement.style.minHeight=h-this.contentElement.offsetHeight+"px"),!this.isGroup&&"top"!==r&&(this.element.style.paddingTop="bottom"===r?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(m){m.verticalAlign(r)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(r){r.clearVerticalAlign()})}bindModuleColumns(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(){return this.columns}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(r){var c=[];return this.isGroup&&r&&(this.columns.forEach(function(h){c.push(h.getDefinition(!0))}),this.definition.columns=c),this.definition}checkColumnVisibility(){var r=!1;this.columns.forEach(function(c){c.visible&&(r=!0)}),r?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(r,c){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(h){h.show()}),!this.isGroup&&null===this.width&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,c),r||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}hide(r,c){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(h){h.hide()}),this.dispatch("column-hide",this),r||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}matchChildWidths(){var r=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(c){c.visible&&(r+=c.getWidth())}),this.contentElement.style.maxWidth=r-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(r){var c=this.columns.indexOf(r);c>-1&&this.columns.splice(c,1),this.columns.length||this.delete()}setWidth(r){this.widthFixed=!0,this.setWidthActual(r)}setWidthActual(r){isNaN(r)&&(r=Math.floor(this.table.element.clientWidth/100*parseInt(r))),r=Math.max(this.minWidth,r),this.maxWidth&&(r=Math.min(this.maxWidth,r)),this.width=r,this.widthStyled=r?r+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(c){c.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var r=[];this.cells.forEach(function(c){c.row.heightInitialized&&(null!==c.row.getElement().offsetParent?(r.push(c.row),c.row.clearCellHeight()):c.row.heightInitialized=!1)}),r.forEach(function(c){c.calcHeight()}),r.forEach(function(c){c.setCellHeight()})}getWidth(){var r=0;return this.isGroup?this.columns.forEach(function(c){c.visible&&(r+=c.getWidth())}):r=this.width,r}getHeight(){return this.element.offsetHeight}setMinWidth(r){this.minWidth=r,this.minWidthStyled=r?r+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(c){c.setMinWidth()})}setMaxWidth(r){this.maxWidth=r,this.maxWidthStyled=r?r+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(c){c.setMaxWidth()})}delete(){return new Promise((r,c)=>{this.isGroup&&this.columns.forEach(function(m){m.delete()}),this.dispatch("column-delete",this);var h=this.cells.length;for(let m=0;m<h;m++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.renderer.rerenderColumns(!0),r()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered()}generateCell(r){var c=new Eo(this,r);return this.cells.push(c),c}nextColumn(){var r=this.table.columnManager.findColumnIndex(this);return r>-1&&this._nextVisibleColumn(r+1)}_nextVisibleColumn(r){var c=this.table.columnManager.getColumnByIndex(r);return!c||c.visible?c:this._nextVisibleColumn(r+1)}prevColumn(){var r=this.table.columnManager.findColumnIndex(this);return r>-1&&this._prevVisibleColumn(r-1)}_prevVisibleColumn(r){var c=this.table.columnManager.getColumnByIndex(r);return!c||c.visible?c:this._prevVisibleColumn(r-1)}reinitializeWidth(r){this.widthFixed=!1,void 0!==this.definition.width&&!r&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(),this.dispatch("column-width-fit-after",this)}fitToData(){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(c=>{c.clearWidth()}));var r=this.element.offsetWidth;(!this.width||!this.widthFixed)&&(this.cells.forEach(c=>{var h=c.getWidth();h>r&&(r=h)}),r&&this.setWidthActual(r+1))}}updateDefinition(r){var c;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(c=Object.assign({},this.getDefinition()),c=Object.assign(c,r),this.table.columnManager.addColumn(c,!1,this).then(h=>(c.field==this.field&&(this.field=!1),this.delete().then(()=>h.getComponent()))))}deleteCell(r){var c=this.cells.indexOf(r);c>-1&&this.cells.splice(c,1)}getComponent(){return this.component||(this.component=new Cl(this)),this.component}}return g.defaultOptionList=Da,g})();class Ac{constructor(d){return this._row=d,new Proxy(this,{get:function(r,c,h){return void 0!==r[c]?r[c]:r._row.table.componentFunctionBinder.handle("row",r._row,c)}})}getData(d){return this._row.getData(d)}getElement(){return this._row.getElement()}getCells(){var d=[];return this._row.getCells().forEach(function(r){d.push(r.getComponent())}),d}getCell(d){var r=this._row.getCell(d);return!!r&&r.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(d){return this._row.table.rowManager.getRowPosition(this._row,d)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(d,r){this._row.moveToRow(d,r)}update(d){return this._row.updateData(d)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var d=this._row.nextRow();return d&&d.getComponent()}getPrevRow(){var d=this._row.prevRow();return d&&d.getComponent()}}class As extends Xt{constructor(d,r,c="row"){super(r.table),this.parent=r,this.data={},this.type=c,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(d)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var d=document.createElement("div");d.classList.add("tabulator-row"),d.setAttribute("role","row"),this.element=d}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(d){if(this.create(),!this.initialized||d){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.table.columnManager.renderer.renderRowCells(this),d&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.initialized=!0,this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitializeHeight(){this.heightInitialized=!1}reinitialize(d){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(d){var r=0,c=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(h){var m=h.getHeight();m>r&&(r=m)}),this.height=d?Math.max(r,c):this.manualHeight?this.height:Math.max(r,c),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(d){d.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(d){d.clearHeight()})}normalizeHeight(d){d&&this.clearCellHeight(),this.calcHeight(d),this.setCellHeight()}setHeight(d,r){(this.height!=d||r)&&(this.manualHeight=!0,this.height=d,this.heightStyled=d?d+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(d){var r=this.cells.indexOf(d);r>-1&&this.cells.splice(r,1)}setData(d){this.data=this.chain("row-data-init-before",[this,d],void 0,d),this.dispatch("row-data-init-after",this)}updateData(d){var h,r=this.element&&pn.elVisible(this.element),c={};return new Promise((m,C)=>{for(var D in"string"==typeof d&&(d=JSON.parse(d)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(c=Object.assign(c,this.data),c=Object.assign(c,d)),h=this.chain("row-data-changing",[this,c,d],null,d))this.data[D]=h[D];for(var D in this.dispatch("row-data-save-after",this),d)this.table.columnManager.getColumnsByFieldRoot(D).forEach(Y=>{let le=this.getCell(Y.getField());if(le){let De=Y.getFieldValue(h);le.getValue()!=De&&(le.setValueProcessData(De),r&&le.cellRendered())}});r?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,r,d),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),m()})}getData(d){return d?this.chain("row-data-retrieve",[this,d],null,this.data):this.data}getCell(d){return d=this.table.columnManager.findColumn(d),this.initialized||this.generateCells(),this.cells.find(function(c){return c.column===d})}getCellIndex(d){return this.cells.findIndex(function(r){return r===d})}findCell(d){return this.cells.find(r=>r.element===d)}getCells(){return this.initialized||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(d,r){var c=this.table.rowManager.findRow(d);c?(this.table.rowManager.moveRowActual(this,c,!r),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",d)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(d){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.rowManager.deleteRow(this,d),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detatchModules(){this.dispatch("row-deleting",this)}deleteCells(){var d=this.cells.length;for(let r=0;r<d;r++)this.cells[0].delete()}wipe(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Ac(this)),this.component}}var Ku={avg:function(g,d,r){var c=0,h=void 0!==r.precision?r.precision:2;return g.length&&(c=g.reduce(function(m,C){return Number(m)+Number(C)}),c/=g.length,c=!1!==h?c.toFixed(h):c),parseFloat(c).toString()},max:function(g,d,r){var c=null,h=void 0!==r.precision&&r.precision;return g.forEach(function(m){((m=Number(m))>c||null===c)&&(c=m)}),null!==c?!1!==h?c.toFixed(h):c:""},min:function(g,d,r){var c=null,h=void 0!==r.precision&&r.precision;return g.forEach(function(m){((m=Number(m))<c||null===c)&&(c=m)}),null!==c?!1!==h?c.toFixed(h):c:""},sum:function(g,d,r){var c=0,h=void 0!==r.precision&&r.precision;return g.length&&g.forEach(function(m){m=Number(m),c+=isNaN(m)?0:Number(m)}),!1!==h?c.toFixed(h):c},concat:function(g,d,r){var c=0;return g.length&&(c=g.reduce(function(h,m){return String(h)+String(m)})),c},count:function(g,d,r){var c=0;return g.length&&g.forEach(function(h){h&&c++}),c}};let Xu=(()=>{class g extends Kt{constructor(r){super(r),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var r=document.createElement("div");return r.classList.add("tabulator-calcs-holder"),r}initialize(){this.genColumn=new La({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refeshed",this.recalcActiveRows.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this))}tableRedraw(r){this.recalc(this.table.rowManager.activeRows),r&&this.redraw()}userRecalc(){this.recalc(this.table.rowManager.activeRows)}rowsUpdated(r){this.table.options.groupBy?this.recalcRowGroup(this):this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(r){(r.column.definition.topCalc||r.column.definition.bottomCalc)&&(this.table.options.groupBy?(("table"==this.table.options.columnCalcs||"both"==this.table.options.columnCalcs)&&this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(r.row)):this.recalcActiveRows())}initializeColumnCheck(r){(r.definition.topCalc||r.definition.bottomCalc)&&this.initializeColumn(r)}initializeColumn(r){var c=r.definition,h={topCalcParams:c.topCalcParams||{},botCalcParams:c.bottomCalcParams||{}};if(c.topCalc){switch(typeof c.topCalc){case"string":g.calculations[c.topCalc]?h.topCalc=g.calculations[c.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",c.topCalc);break;case"function":h.topCalc=c.topCalc}h.topCalc&&(r.modules.columnCalcs=h,this.topCalcs.push(r),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(c.bottomCalc){switch(typeof c.bottomCalc){case"string":g.calculations[c.bottomCalc]?h.botCalc=g.calculations[c.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",c.bottomCalc);break;case"function":h.botCalc=c.bottomCalc}h.botCalc&&(r.modules.columnCalcs=h,this.botCalcs.push(r),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var r=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),r=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),r=!0),r&&this.table.rowManager.adjustTableSize()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(r){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-r+"px")}recalc(r){var c;if(this.topInitialized||this.botInitialized){if(this.rowsToData(r),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),c=this.generateRow("top",this.rowsToData(r)),this.topRow=c;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(c.getElement()),c.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),c=this.generateRow("bottom",this.rowsToData(r)),this.botRow=c;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(c.getElement()),c.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(r){this.recalcGroup(this.table.modules.groupRows.getRowGroup(r))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&this.table.modules.groupRows.getChildGroups().forEach(c=>{this.recalcGroup(c)})}recalcGroup(r){var c,h;r&&r.calcs&&(r.calcs.bottom&&(c=this.rowsToData(r.rows),h=this.generateRowData("bottom",c),r.calcs.bottom.updateData(h),r.calcs.bottom.reinitialize()),r.calcs.top&&(c=this.rowsToData(r.rows),h=this.generateRowData("top",c),r.calcs.top.updateData(h),r.calcs.top.reinitialize()))}generateTopRow(r){return this.generateRow("top",this.rowsToData(r))}generateBottomRow(r){return this.generateRow("bottom",this.rowsToData(r))}rowsToData(r){var c=[];return r.forEach(h=>{if(c.push(h.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&h.modules.dataTree.open){var m=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(h));c=c.concat(m)}}),c}generateRow(r,c){var m,h=this.generateRowData(r,c);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),m=new As(h,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),m.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+r),m.component=!1,m.getComponent=()=>(m.component||(m.component=new gr(this)),m.component),m.generateCells=()=>{var C=[];this.table.columnManager.columnsByIndex.forEach(D=>{this.genColumn.setField(D.getField()),this.genColumn.hozAlign=D.hozAlign,this.genColumn.modules.format=D.definition[r+"CalcFormatter"]&&this.table.modExists("format")?{formatter:this.table.modules.format.getFormatter(D.definition[r+"CalcFormatter"]),params:D.definition[r+"CalcFormatterParams"]||{}}:{formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=D.definition.cssClass;var x=new Eo(this.genColumn,m);x.getElement(),x.column=D,x.setWidth(),D.cells.push(x),C.push(x),D.visible||x.hide()}),m.cells=C},m}generateRowData(r,c){var D,x,h={},C="top"==r?"topCalc":"botCalc";return("top"==r?this.topCalcs:this.botCalcs).forEach(function(N){var Y=[];N.modules.columnCalcs&&N.modules.columnCalcs[C]&&(c.forEach(function(le){Y.push(N.getFieldValue(le))}),D="function"==typeof N.modules.columnCalcs[x=C+"Params"]?N.modules.columnCalcs[x](Y,c):N.modules.columnCalcs[x],N.setFieldValue(h,N.modules.columnCalcs[C](Y,c,D)))}),h}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var r={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(h=>{r[h.getKey()]=this.getGroupResults(h)}):r={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},r}getGroupResults(r){var c=r._getSelf(),h=r.getSubGroups(),m={};return h.forEach(D=>{m[D.getKey()]=this.getGroupResults(D)}),{top:c.calcs.top?c.calcs.top.getData():{},bottom:c.calcs.bottom?c.calcs.bottom.getData():{},groups:m}}}return g.moduleName="columnCalcs",g.calculations=Ku,g})(),Od=(()=>{class g extends Kt{constructor(r){super(r),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0,this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this))}initialize(){if(this.table.options.dataTree){var r=null,c=this.table.columnManager.getFirstVisibileColumn(),h=this.table.options;switch(this.field=h.dataTreeChildField,this.indent=h.dataTreeChildIndent,this.elementField=h.dataTreeElementColumn||!!c&&c.field,h.dataTreeBranchElement&&(!0===h.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof h.dataTreeBranchElement?((r=document.createElement("div")).innerHTML=h.dataTreeBranchElement,this.branchEl=r.firstChild):this.branchEl=h.dataTreeBranchElement),h.dataTreeCollapseElement?"string"==typeof h.dataTreeCollapseElement?((r=document.createElement("div")).innerHTML=h.dataTreeCollapseElement,this.collapseEl=r.firstChild):this.collapseEl=h.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),h.dataTreeExpandElement?"string"==typeof h.dataTreeExpandElement?((r=document.createElement("div")).innerHTML=h.dataTreeExpandElement,this.expandEl=r.firstChild):this.expandEl=h.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof h.dataTreeStartExpanded){case"boolean":this.startOpen=function(m,C){return h.dataTreeStartExpanded};break;case"function":this.startOpen=h.dataTreeStartExpanded;break;default:this.startOpen=function(m,C){return h.dataTreeStartExpanded[C]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-relayout",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}getRowChildren(r){return this.getTreeChildren(r,!0)}columnMoving(){var r=[];return this.table.rowManager.rows.forEach(c=>{r=r.concat(this.getTreeChildren(c,!1,!0))}),r}rowDataChanged(r,c,h){this.redrawNeeded(h)&&(this.initializeRow(r),c&&(this.layoutRow(r),this.refreshData(!0)))}initializeRow(r){var c=r.getData()[this.field],h=Array.isArray(c),m=h||!h&&"object"==typeof c&&null!==c;!m&&r.modules.dataTree&&r.modules.dataTree.branchEl&&r.modules.dataTree.branchEl.parentNode.removeChild(r.modules.dataTree.branchEl),!m&&r.modules.dataTree&&r.modules.dataTree.controlEl&&r.modules.dataTree.controlEl.parentNode.removeChild(r.modules.dataTree.controlEl),r.modules.dataTree={index:r.modules.dataTree?r.modules.dataTree.index:0,open:!!m&&(r.modules.dataTree?r.modules.dataTree.open:this.startOpen(r.getComponent(),0)),controlEl:!(!r.modules.dataTree||!m)&&r.modules.dataTree.controlEl,branchEl:!(!r.modules.dataTree||!m)&&r.modules.dataTree.branchEl,parent:!!r.modules.dataTree&&r.modules.dataTree.parent,children:m}}reinitializeRowChildren(r){this.getTreeChildren(r,!1,!0).forEach(function(h){h.reinitialize(!0)})}layoutRow(r){var h=(this.elementField?r.getCell(this.elementField):r.getCells()[0]).getElement(),m=r.modules.dataTree;m.branchEl&&(m.branchEl.parentNode&&m.branchEl.parentNode.removeChild(m.branchEl),m.branchEl=!1),m.controlEl&&(m.controlEl.parentNode&&m.controlEl.parentNode.removeChild(m.controlEl),m.controlEl=!1),this.generateControlElement(r,h),r.getElement().classList.add("tabulator-tree-level-"+m.index),m.index&&(this.branchEl?(m.branchEl=this.branchEl.cloneNode(!0),h.insertBefore(m.branchEl,h.firstChild),this.table.rtl?m.branchEl.style.marginRight=(m.branchEl.offsetWidth+m.branchEl.style.marginLeft)*(m.index-1)+m.index*this.indent+"px":m.branchEl.style.marginLeft=(m.branchEl.offsetWidth+m.branchEl.style.marginRight)*(m.index-1)+m.index*this.indent+"px"):this.table.rtl?h.style.paddingRight=parseInt(window.getComputedStyle(h,null).getPropertyValue("padding-right"))+m.index*this.indent+"px":h.style.paddingLeft=parseInt(window.getComputedStyle(h,null).getPropertyValue("padding-left"))+m.index*this.indent+"px")}generateControlElement(r,c){var h=r.modules.dataTree,m=(c=c||r.getCells()[0].getElement(),h.controlEl);!1!==h.children&&(h.open?(h.controlEl=this.collapseEl.cloneNode(!0),h.controlEl.addEventListener("click",C=>{C.stopPropagation(),this.collapseRow(r)})):(h.controlEl=this.expandEl.cloneNode(!0),h.controlEl.addEventListener("click",C=>{C.stopPropagation(),this.expandRow(r)})),h.controlEl.addEventListener("mousedown",C=>{C.stopPropagation()}),m&&m.parentNode===c?m.parentNode.replaceChild(h.controlEl,m):c.insertBefore(h.controlEl,c.firstChild))}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}getRows(r){var c=[];return r.forEach((h,m)=>{var C;c.push(h),h instanceof As&&(h.create(),!(C=h.modules.dataTree.children).index&&!1!==C.children&&this.getChildren(h).forEach(x=>{x.create(),c.push(x)}))}),c}getChildren(r,c){var h=r.modules.dataTree,m=[],C=[];return!1!==h.children&&(h.open||c)&&(Array.isArray(h.children)||(h.children=this.generateChildren(r)),m=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(h.children):h.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(m),m.forEach(D=>{C.push(D),this.getChildren(D).forEach(N=>{C.push(N)})})),C}generateChildren(r){var c=[],h=r.getData()[this.field];return Array.isArray(h)||(h=[h]),h.forEach(m=>{var C=new As(m||{},this.table.rowManager);C.create(),C.modules.dataTree.index=r.modules.dataTree.index+1,C.modules.dataTree.parent=r,C.modules.dataTree.children&&(C.modules.dataTree.open=this.startOpen(C.getComponent(),C.modules.dataTree.index)),c.push(C)}),c}expandRow(r,c){var h=r.modules.dataTree;!1!==h.children&&(h.open=!0,r.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",r.getComponent(),r.modules.dataTree.index))}collapseRow(r){var c=r.modules.dataTree;!1!==c.children&&(c.open=!1,r.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",r.getComponent(),r.modules.dataTree.index))}toggleRow(r){var c=r.modules.dataTree;!1!==c.children&&(c.open?this.collapseRow(r):this.expandRow(r))}getTreeParent(r){return!!r.modules.dataTree.parent&&r.modules.dataTree.parent.getComponent()}getFilteredTreeChildren(r){var c=r.modules.dataTree,h=[];return c.children&&(Array.isArray(c.children)||(c.children=this.generateChildren(r)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(c.children):c.children).forEach(C=>{C instanceof As&&h.push(C)})),h}rowDelete(r){var h,c=r.modules.dataTree.parent;c&&(!1!==(h=this.findChildIndex(r,c))&&c.data[this.field].splice(h,1),c.data[this.field].length||delete c.data[this.field],this.initializeRow(c),this.layoutRow(c)),this.refreshData(!0)}addTreeChildRow(r,c,h,m){var C=!1;"string"==typeof c&&(c=JSON.parse(c)),Array.isArray(r.data[this.field])||(r.data[this.field]=[],r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),void 0!==m&&!1!==(C=this.findChildIndex(m,r))&&r.data[this.field].splice(h?C:C+1,0,c),!1===C&&(h?r.data[this.field].unshift(c):r.data[this.field].push(c)),this.initializeRow(r),this.layoutRow(r),this.refreshData(!0)}findChildIndex(r,c){var h=!1;return"object"==typeof r?r instanceof As?h=r.data:r instanceof RowComponent?h=r._getSelf().data:"undefined"!=typeof HTMLElement&&r instanceof HTMLElement&&c.modules.dataTree&&(h=c.modules.dataTree.children.find(m=>m instanceof As&&m.element===r))&&(h=h.data):h=null!=r&&c.data[this.field].find(m=>m.data[this.table.options.index]==r),h&&(Array.isArray(c.data[this.field])&&(h=c.data[this.field].indexOf(h)),-1==h&&(h=!1)),h}getTreeChildren(r,c,h){var m=r.modules.dataTree,C=[];return m.children&&(Array.isArray(m.children)||(m.children=this.generateChildren(r)),m.children.forEach(D=>{D instanceof As&&(C.push(c?D.getComponent():D),h&&(C=C.concat(this.getTreeChildren(D,c,h))))})),C}checkForRestyle(r){r.row.cells.indexOf(r)||this.layoutRow(r.row)}getChildField(){return this.field}redrawNeeded(r){return!!this.field&&void 0!==r[this.field]||!!this.elementField&&void 0!==r[this.elementField]}}return g.moduleName="dataTree",g})();var Fh={csv:function(g,d,r){var c=d&&d.delimiter?d.delimiter:",",h=[],m=[];g.forEach(C=>{var D=[];switch(C.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":C.columns.forEach((x,N)=>{x&&1===x.depth&&(m[N]=null==x.value?"":'"'+String(x.value).split('"').join('""')+'"')});break;case"row":C.columns.forEach(x=>{if(x){switch(typeof x.value){case"object":x.value=JSON.stringify(x.value);break;case"undefined":case"null":x.value=""}D.push('"'+String(x.value).split('"').join('""')+'"')}}),h.push(D.join(c))}}),m.length&&h.unshift(m.join(c)),h=h.join("\n"),d.bom&&(h="\ufeff"+h),r(h,"text/csv")},json:function(g,d,r){var c=[];g.forEach(h=>{var m={};switch(h.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":h.columns.forEach(C=>{C&&(m[C.component.getField()]=C.value)}),c.push(m)}}),r(c=JSON.stringify(c,null,"\t"),"application/json")},pdf:function(g,d,r){var c=[],h=[],m={},C=d.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},D=d.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},x=d.jsPDF||{},N=d&&d.title?d.title:"";function Y(De,Ve){var nt=[];return De.columns.forEach(dt=>{var _t;if(dt){switch(typeof dt.value){case"object":dt.value=JSON.stringify(dt.value);break;case"undefined":case"null":dt.value=""}_t={content:dt.value,colSpan:dt.width,rowSpan:dt.height},Ve&&(_t.styles=Ve),nt.push(_t)}else nt.push("")}),nt}x.orientation||(x.orientation=d.orientation||"landscape"),x.unit||(x.unit="pt"),g.forEach(De=>{switch(De.type){case"header":c.push(Y(De));break;case"group":h.push(Y(De,C));break;case"calc":h.push(Y(De,D));break;case"row":h.push(Y(De))}});var le=new jspdf.jsPDF(x);d&&d.autoTable&&(m="function"==typeof d.autoTable?d.autoTable(le)||{}:d.autoTable),N&&(m.didDrawPage=function(De){le.text(N,40,30)}),m.head=c,m.body=h,le.autoTable(m),d&&d.documentProcessing&&d.documentProcessing(le),r(le.output("arraybuffer"),"application/pdf")},xlsx:function(g,d,r){var h=d.sheetName||"Sheet1",m=XLSX.utils.book_new(),C=new Xt(this);function x(){var le=[],De=[],Ve={},nt={s:{c:0,r:0},e:{c:g[0]?g[0].columns.reduce((dt,_t)=>dt+(_t&&_t.width?_t.width:1),0):0,r:g.length}};return g.forEach((dt,_t)=>{var Mt=[];dt.columns.forEach(function(ln,Un){ln?(Mt.push(ln.value instanceof Date||"object"!=typeof ln.value?ln.value:JSON.stringify(ln.value)),(ln.width>1||ln.height>-1)&&De.push({s:{r:_t,c:Un},e:{r:_t+ln.height-1,c:Un+ln.width-1}})):Mt.push("")}),le.push(Mt)}),XLSX.utils.sheet_add_aoa(Ve,le),Ve["!ref"]=XLSX.utils.encode_range(nt),De.length&&(Ve["!merges"]=De),Ve}if(m.SheetNames=[],m.Sheets={},d.sheetOnly)r(x());else{if(d.sheets)for(var N in d.sheets)!0===d.sheets[N]?(m.SheetNames.push(N),m.Sheets[N]=x()):(m.SheetNames.push(N),C.commsSend(d.sheets[N],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(le){m.Sheets[N]=le}}));else m.SheetNames.push(h),m.Sheets[h]=x();d.documentProcessing&&(m=d.documentProcessing(m)),r(function(le){for(var De=new ArrayBuffer(le.length),Ve=new Uint8Array(De),nt=0;nt!=le.length;++nt)Ve[nt]=255&le.charCodeAt(nt);return De}(XLSX.write(m,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function(g,d,r){this.modExists("export",!0)&&r(this.modules.export.genereateHTMLTable(g),"text/html")}};let nh=(()=>{class g extends Kt{constructor(r){super(r),this.registerTableOption("downloadReady",function(c,h){return h}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}downloadToTab(r,c,h,m){this.download(r,c,h,m,!0)}download(r,c,h,m,C){var D=!1;if("function"==typeof r?D=r:g.downloaders[r]?D=g.downloaders[r]:console.warn("Download Error - No such download type found: ",r),D){var N=this.generateExportList(m);D.call(this.table,N,h||{},function(Y,le){C?!0===C?this.triggerDownload(Y,le,r,c,!0):C(Y):this.triggerDownload(Y,le,r,c)}.bind(this))}}generateExportList(r){var c=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,r||this.table.options.downloadRowRange,"download"),h=this.table.options.groupHeaderDownload;return h&&!Array.isArray(h)&&(h=[h]),c.forEach(m=>{var C;"group"===m.type&&(C=m.columns[0],h&&h[m.indent]&&(C.value=h[m.indent](C.value,m.component._group.getRowCount(),m.component._group.getData(),m.component)))}),c}triggerDownload(r,c,h,m,C){var D=document.createElement("a"),x=new Blob([r],{type:c});m=m||"Tabulator."+("function"==typeof h?"txt":h),(x=this.table.options.downloadReady(r,x))&&(C?window.open(window.URL.createObjectURL(x)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(x,m):(D.setAttribute("href",window.URL.createObjectURL(x)),D.setAttribute("download",m),D.style.display="none",document.body.appendChild(D),D.click(),document.body.removeChild(D)),this.dispatchExternal("downloadComplete"))}commsReceived(r,c,h){switch(c){case"intercept":this.download(h.type,"",h.options,h.active,h.intercept)}}}return g.moduleName="download",g.downloaders=Fh,g})();function kd(g,d){var r=d.mask,c=void 0!==d.maskLetterChar?d.maskLetterChar:"A",h=void 0!==d.maskNumberChar?d.maskNumberChar:"9",m=void 0!==d.maskWildcardChar?d.maskWildcardChar:"*";function C(D){var x=r[D];void 0!==x&&x!==m&&x!==c&&x!==h&&(g.value=g.value+""+x,C(D+1))}g.addEventListener("keydown",D=>{var x=g.value.length,N=D.key;if(D.keyCode>46){if(x>=r.length)return D.preventDefault(),D.stopPropagation(),!1;switch(r[x]){case c:if(N.toUpperCase()==N.toLowerCase())return D.preventDefault(),D.stopPropagation(),!1;break;case h:if(isNaN(N))return D.preventDefault(),D.stopPropagation(),!1;break;case m:break;default:if(N!==r[x])return D.preventDefault(),D.stopPropagation(),!1}}}),g.addEventListener("keyup",D=>{D.keyCode>46&&d.maskAutoFill&&C(g.value.length)}),g.placeholder||(g.placeholder=r),d.maskAutoFill&&C(g.value.length)}var Rf={input:function(g,d,r,c,h){var m=g.getValue(),C=document.createElement("input");if(C.setAttribute("type",h.search?"search":"text"),C.style.padding="4px",C.style.width="100%",C.style.boxSizing="border-box",h.elementAttributes&&"object"==typeof h.elementAttributes)for(let x in h.elementAttributes)"+"==x.charAt(0)?(x=x.slice(1),C.setAttribute(x,C.getAttribute(x)+h.elementAttributes["+"+x])):C.setAttribute(x,h.elementAttributes[x]);function D(x){null==m&&""!==C.value||C.value!==m?r(C.value)&&(m=C.value):c()}return C.value=void 0!==m?m:"",d(function(){C.focus({preventScroll:!0}),C.style.height="100%"}),C.addEventListener("change",D),C.addEventListener("blur",D),C.addEventListener("keydown",function(x){switch(x.keyCode){case 13:D();break;case 27:c();break;case 35:case 36:x.stopPropagation()}}),h.mask&&kd(C,h),C},textarea:function(g,d,r,c,h){var m=g.getValue(),C=h.verticalNavigation||"hybrid",D=String(null!=m?m:""),N=(D.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),Y=0;if(N.style.display="block",N.style.padding="2px",N.style.height="100%",N.style.width="100%",N.style.boxSizing="border-box",N.style.whiteSpace="pre-wrap",N.style.resize="none",h.elementAttributes&&"object"==typeof h.elementAttributes)for(let De in h.elementAttributes)"+"==De.charAt(0)?(De=De.slice(1),N.setAttribute(De,N.getAttribute(De)+h.elementAttributes["+"+De])):N.setAttribute(De,h.elementAttributes[De]);function le(De){null==m&&""!==N.value||N.value!==m?(r(N.value)&&(m=N.value),setTimeout(function(){g.getRow().normalizeHeight()},300)):c()}return N.value=D,d(function(){N.focus({preventScroll:!0}),N.style.height="100%",N.style.height=N.scrollHeight+"px",g.getRow().normalizeHeight()}),N.addEventListener("change",le),N.addEventListener("blur",le),N.addEventListener("keyup",function(){N.style.height="";var De=N.scrollHeight;N.style.height=De+"px",De!=Y&&(Y=De,g.getRow().normalizeHeight())}),N.addEventListener("keydown",function(De){switch(De.keyCode){case 27:c();break;case 38:("editor"==C||"hybrid"==C&&N.selectionStart)&&(De.stopImmediatePropagation(),De.stopPropagation());break;case 40:("editor"==C||"hybrid"==C&&N.selectionStart!==N.value.length)&&(De.stopImmediatePropagation(),De.stopPropagation());break;case 35:case 36:De.stopPropagation()}}),h.mask&&kd(N,h),N},number:function(g,d,r,c,h){var m=g.getValue(),C=h.verticalNavigation||"editor",D=document.createElement("input");if(D.setAttribute("type","number"),void 0!==h.max&&D.setAttribute("max",h.max),void 0!==h.min&&D.setAttribute("min",h.min),void 0!==h.step&&D.setAttribute("step",h.step),D.style.padding="4px",D.style.width="100%",D.style.boxSizing="border-box",h.elementAttributes&&"object"==typeof h.elementAttributes)for(let Y in h.elementAttributes)"+"==Y.charAt(0)?(Y=Y.slice(1),D.setAttribute(Y,D.getAttribute(Y)+h.elementAttributes["+"+Y])):D.setAttribute(Y,h.elementAttributes[Y]);D.value=m;var x=function(Y){N()};function N(){var Y=D.value;!isNaN(Y)&&""!==Y&&(Y=Number(Y)),Y!==m?r(Y)&&(m=Y):c()}return d(function(){D.removeEventListener("blur",x),D.focus({preventScroll:!0}),D.style.height="100%",D.addEventListener("blur",x)}),D.addEventListener("keydown",function(Y){switch(Y.keyCode){case 13:N();break;case 27:c();break;case 38:case 40:"editor"==C&&(Y.stopImmediatePropagation(),Y.stopPropagation());break;case 35:case 36:Y.stopPropagation()}}),h.mask&&kd(D,h),D},range:function(g,d,r,c,h){var m=g.getValue(),C=document.createElement("input");if(C.setAttribute("type","range"),void 0!==h.max&&C.setAttribute("max",h.max),void 0!==h.min&&C.setAttribute("min",h.min),void 0!==h.step&&C.setAttribute("step",h.step),C.style.padding="4px",C.style.width="100%",C.style.boxSizing="border-box",h.elementAttributes&&"object"==typeof h.elementAttributes)for(let x in h.elementAttributes)"+"==x.charAt(0)?(x=x.slice(1),C.setAttribute(x,C.getAttribute(x)+h.elementAttributes["+"+x])):C.setAttribute(x,h.elementAttributes[x]);function D(){var x=C.value;!isNaN(x)&&""!==x&&(x=Number(x)),x!=m?r(x)&&(m=x):c()}return C.value=m,d(function(){C.focus({preventScroll:!0}),C.style.height="100%"}),C.addEventListener("blur",function(x){D()}),C.addEventListener("keydown",function(x){switch(x.keyCode){case 13:D();break;case 27:c()}}),C},select:function(g,d,r,c,h){var m=this,C=g.getElement(),D=g.getValue(),x=h.verticalNavigation||"editor",N=void 0!==D||null===D?Array.isArray(D)?D:[D]:void 0!==h.defaultValue?h.defaultValue:[],Y=document.createElement("input"),le=document.createElement("div"),De=h.multiselect,Ve=[],nt={},dt=[],_t=[],Mt=!0,ln=!1,Un="",Sn=null;function Dn(On){var Vo,bi={},mr=m.table.getData();return(Vo=On?m.table.columnManager.getColumnByField(On):g.getColumn()._getSelf())?mr.forEach(function(pc){var nd=Vo.getFieldValue(pc);null!=nd&&""!==nd&&(bi[nd]=!0)}):console.warn("unable to find matching column to create select lookup list:",On),Object.keys(bi)}function Jn(On,bi){!De&&nt&&nt.element&&nt.element.classList.remove("active"),nt&&nt.element&&nt.element.classList.remove("focused"),nt=On,On.element&&(On.element.classList.add("focused"),bi&&On.element.classList.add("active")),On&&On.element&&On.element.scrollIntoView&&On.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function si(On){-1==_t.indexOf(On)&&(_t.push(On),Jn(On,!0)),Qn()}function Zi(On){var bi=_t[On];On>-1&&(_t.splice(On,1),bi.element&&bi.element.classList.remove("active"))}function oi(On){On||(On=nt);var bi=_t.indexOf(On);bi>-1?Zi(bi):(!0!==De&&_t.length>=De&&Zi(0),si(On)),Qn()}function Wi(On){ji(),On||(On=nt),On&&(Y.value=On.label,r(On.value)),N=[On.value]}function io(On){On||ji();var bi=[];_t.forEach(mr=>{bi.push(mr.value)}),N=bi,r(bi)}function Qn(){var On=[];_t.forEach(bi=>{On.push(bi.label)}),Y.value=On.join(", "),!1===m.currentCell&&io(!0)}function Oi(){ji(),c()}function ji(){le.parentNode&&le.parentNode.removeChild(le),m.table.rowManager.element.removeEventListener("scroll",Oi)}if((Array.isArray(h)||!Array.isArray(h)&&"object"==typeof h&&!h.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),h={values:h}),Y.setAttribute("type","text"),Y.style.padding="4px",Y.style.width="100%",Y.style.boxSizing="border-box",Y.style.cursor="default",Y.readOnly=0!=this.currentCell,h.elementAttributes&&"object"==typeof h.elementAttributes)for(let On in h.elementAttributes)"+"==On.charAt(0)?(On=On.slice(1),Y.setAttribute(On,Y.getAttribute(On)+h.elementAttributes["+"+On])):Y.setAttribute(On,h.elementAttributes[On]);return Y.value=void 0!==D||null===D?D:"",Y.addEventListener("search",function(On){Y.value||(function(){var On=_t.length;for(let bi=0;bi<On;bi++)Zi(0)}(),io())}),Y.addEventListener("keydown",function(On){var bi;switch(On.keyCode){case 38:bi=Ve.indexOf(nt),("editor"==x||"hybrid"==x&&bi)&&(On.stopImmediatePropagation(),On.stopPropagation(),On.preventDefault(),bi>0&&Jn(Ve[bi-1],!De));break;case 40:bi=Ve.indexOf(nt),("editor"==x||"hybrid"==x&&bi<Ve.length-1)&&(On.stopImmediatePropagation(),On.stopPropagation(),On.preventDefault(),bi<Ve.length-1&&Jn(-1==bi?Ve[0]:Ve[bi+1],!De));break;case 37:case 39:On.stopImmediatePropagation(),On.stopPropagation(),On.preventDefault();break;case 13:De?oi():Wi();break;case 27:Oi();break;case 9:break;default:!1===m.currentCell&&On.preventDefault(),On.keyCode>=38&&On.keyCode<=90&&function(On){clearTimeout(Sn);var bi=String.fromCharCode(event.keyCode).toLowerCase();Un+=bi.toLowerCase();var mr=Ve.find(Vo=>void 0!==Vo.label&&Vo.label.toLowerCase().startsWith(Un));mr&&Jn(mr,!De),Sn=setTimeout(()=>{Un=""},800)}()}}),Y.addEventListener("blur",function(On){Mt&&(De?io():Oi())}),Y.addEventListener("focus",function(On){ln||function(){if(_t=[],!le.parentNode){!function(On,bi){var mr=[],Vo=[];function pc(Co){return bi.indexOf((Co={label:Co.label,value:Co.value,itemParams:Co.itemParams,elementAttributes:Co.elementAttributes,element:!1}).value)>-1&&si(Co),mr.push(Co),Vo.push(Co),Co}if("function"==typeof On&&(On=On(g)),Array.isArray(On))On.forEach(function(Co){var Fa;"object"==typeof Co?Co.options?(Vo.push(Fa={label:Co.label,group:!0,itemParams:Co.itemParams,elementAttributes:Co.elementAttributes,element:!1}),Co.options.forEach(function(Vp){pc(Vp)})):pc(Co):(bi.indexOf((Fa={label:Co,value:Co,element:!1}).value)>-1&&si(Fa),mr.push(Fa),Vo.push(Fa))});else for(var nd in On){var vh={label:On[nd],value:nd,element:!1};bi.indexOf(vh.value)>-1&&si(vh),mr.push(vh),Vo.push(vh)}h.sortValuesList&&(mr.sort((Co,Fa)=>Co.label<Fa.label?-1:Co.label>Fa.label?1:0),Vo.sort((Co,Fa)=>Co.label<Fa.label?-1:Co.label>Fa.label?1:0),"asc"!==h.sortValuesList&&(mr.reverse(),Vo.reverse())),Ve=mr,dt=Vo,function(){for(;le.firstChild;)le.removeChild(le.firstChild);dt.forEach(function(On){var bi=On.element;if(!bi){if(bi=document.createElement("div"),On.label=h.listItemFormatter?h.listItemFormatter(On.value,On.label,g,bi,On.itemParams):On.label,On.group?(bi.classList.add("tabulator-edit-select-list-group"),bi.tabIndex=0,bi.innerHTML=""===On.label?"&nbsp;":On.label):(bi.classList.add("tabulator-edit-select-list-item"),bi.tabIndex=0,bi.innerHTML=""===On.label?"&nbsp;":On.label,bi.addEventListener("click",function(){ln=!0,setTimeout(()=>{ln=!1},10),De?(oi(On),Y.focus()):Wi(On)}),_t.indexOf(On)>-1&&bi.classList.add("active")),On.elementAttributes&&"object"==typeof On.elementAttributes)for(let mr in On.elementAttributes)"+"==mr.charAt(0)?(mr=mr.slice(1),bi.setAttribute(mr,Y.getAttribute(mr)+On.elementAttributes["+"+mr])):bi.setAttribute(mr,On.elementAttributes[mr]);bi.addEventListener("mousedown",function(){Mt=!1,setTimeout(function(){Mt=!0},10)}),On.element=bi}le.appendChild(bi)})}()}(!0===h.values?Dn():"string"==typeof h.values?Dn(h.values):h.values||[],N);var On=pn.elOffset(C);le.style.minWidth=C.offsetWidth+"px",le.style.top=On.top+C.offsetHeight+"px",le.style.left=On.left+"px",le.addEventListener("mousedown",function(bi){Mt=!1,setTimeout(function(){Mt=!0},10)}),document.body.appendChild(le)}}()}),(le=document.createElement("div")).classList.add("tabulator-edit-select-list"),d(function(){Y.style.height="100%",Y.focus({preventScroll:!0})}),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",Oi)},10),Y},autocomplete:function(g,d,r,c,h){var m=this,C=g.getElement(),D=g.getValue(),x=h.verticalNavigation||"editor",N=void 0!==D||null===D?D:void 0!==h.defaultValue?h.defaultValue:"",Y=document.createElement("input"),le=document.createElement("div"),De=[],Ve=!1,nt=!0,dt=!1;if(Y.setAttribute("type","search"),Y.style.padding="4px",Y.style.width="100%",Y.style.boxSizing="border-box",h.elementAttributes&&"object"==typeof h.elementAttributes)for(let Qn in h.elementAttributes)"+"==Qn.charAt(0)?(Qn=Qn.slice(1),Y.setAttribute(Qn,Y.getAttribute(Qn)+h.elementAttributes["+"+Qn])):Y.setAttribute(Qn,h.elementAttributes[Qn]);function _t(){!0===h.values?dt=Mt():"string"==typeof h.values&&(dt=Mt(h.values))}function Mt(Qn){var Dr,ti={},Oi=m.table.getData();return(Dr=Qn?m.table.columnManager.getColumnByField(Qn):g.getColumn()._getSelf())?(Oi.forEach(function(ji){var Ur=Dr.getFieldValue(ji);null!=Ur&&""!==Ur&&(ti[Ur]=!0)}),ti=h.sortValuesList?"asc"==h.sortValuesList?Object.keys(ti).sort():Object.keys(ti).sort().reverse():Object.keys(ti)):console.warn("unable to find matching column to create autocomplete lookup list:",Qn),ti}function ln(Qn,ti){var Dr,ji,Oi=[];Dr=dt||h.values||[],h.searchFunc?(Oi=h.searchFunc(Qn,Dr))instanceof Promise?(Un(void 0!==h.searchingPlaceholder?h.searchingPlaceholder:"Searching..."),Oi.then(Ur=>{Xn(Sn(Ur),ti)}).catch(Ur=>{console.err("error in autocomplete search promise:",Ur)})):Xn(Sn(Oi),ti):(ji=Sn(Dr),""===Qn?h.showListOnEmpty&&(Oi=ji):ji.forEach(function(Ur){(null!==Ur.value||void 0!==Ur.value)&&(String(Ur.value).toLowerCase().indexOf(String(Qn).toLowerCase())>-1||String(Ur.title).toLowerCase().indexOf(String(Qn).toLowerCase())>-1)&&Oi.push(Ur)}),Xn(Oi,ti))}function Un(Qn){var ti=document.createElement("div");Dn(),!1!==Qn&&(ti.classList.add("tabulator-edit-select-list-notice"),ti.tabIndex=0,Qn instanceof Node?ti.appendChild(Qn):ti.innerHTML=Qn,le.appendChild(ti))}function Sn(Qn){var ti=[];if(Array.isArray(Qn))Qn.forEach(function(ji){var Ur={};"object"==typeof ji?(Ur.title=h.listItemFormatter?h.listItemFormatter(ji.value,ji.label):ji.label,Ur.value=ji.value):(Ur.title=h.listItemFormatter?h.listItemFormatter(ji,ji):ji,Ur.value=ji),ti.push(Ur)});else for(var Oi in Qn){var Dr={title:h.listItemFormatter?h.listItemFormatter(Oi,Qn[Oi]):Qn[Oi],value:Oi};ti.push(Dr)}return ti}function Dn(){for(;le.firstChild;)le.removeChild(le.firstChild)}function Xn(Qn,ti){Qn.length?function(Qn,ti){var Oi=!1;Dn(),(De=Qn).forEach(function(Dr){var ji=Dr.element;ji||((ji=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),ji.tabIndex=0,ji.innerHTML=Dr.title,ji.addEventListener("click",function(Ur){Zi(Dr),Jn()}),ji.addEventListener("mousedown",function(Ur){nt=!1,setTimeout(function(){nt=!0},10)}),Dr.element=ji,ti&&Dr.value==D&&(Y.value=Dr.title,Dr.element.classList.add("active"),Oi=!0),Dr===Ve&&(Dr.element.classList.add("active"),Oi=!0)),le.appendChild(ji)}),Oi||Zi(!1)}(Qn,ti):h.emptyPlaceholder&&Un(h.emptyPlaceholder)}function Jn(){oi(),Ve?D!==Ve.value?(D=Ve.value,Y.value=Ve.title,r(Ve.value)):c():h.freetext||h.allowEmpty&&""===Y.value?(D=Y.value,r(Y.value)):c()}function Zi(Qn,ti){Ve&&Ve.element&&Ve.element.classList.remove("active"),Ve=Qn,Qn&&Qn.element&&Qn.element.classList.add("active"),Qn&&Qn.element&&Qn.element.scrollIntoView&&Qn.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function oi(){le.parentNode&&le.parentNode.removeChild(le),m.table.rowManager.element.removeEventListener("scroll",Wi)}function Wi(){oi(),c()}return le.classList.add("tabulator-edit-select-list"),le.addEventListener("mousedown",function(Qn){nt=!1,setTimeout(function(){nt=!0},10)}),Y.addEventListener("keydown",function(Qn){var ti;switch(Qn.keyCode){case 38:ti=De.indexOf(Ve),("editor"==x||"hybrid"==x&&ti)&&(Qn.stopImmediatePropagation(),Qn.stopPropagation(),Qn.preventDefault(),Zi(ti>0&&De[ti-1]));break;case 40:ti=De.indexOf(Ve),("editor"==x||"hybrid"==x&&ti<De.length-1)&&(Qn.stopImmediatePropagation(),Qn.stopPropagation(),Qn.preventDefault(),ti<De.length-1&&Zi(-1==ti?De[0]:De[ti+1]));break;case 37:case 39:Qn.stopImmediatePropagation(),Qn.stopPropagation();break;case 13:Jn();break;case 27:Wi();break;case 36:case 35:Qn.stopImmediatePropagation()}}),Y.addEventListener("keyup",function(Qn){switch(Qn.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:ln(Y.value)}}),Y.addEventListener("search",function(Qn){ln(Y.value)}),Y.addEventListener("blur",function(Qn){nt&&Jn()}),Y.addEventListener("focus",function(Qn){var ti=N;_t(),function(){if(!le.parentNode){for(;le.firstChild;)le.removeChild(le.firstChild);var Qn=pn.elOffset(C);le.style.minWidth=C.offsetWidth+"px",le.style.top=Qn.top+C.offsetHeight+"px",le.style.left=Qn.left+"px",document.body.appendChild(le)}}(),Y.value=ti,ln(ti,!0)}),d(function(){Y.style.height="100%",Y.focus({preventScroll:!0})}),h.mask&&kd(Y,h),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",Wi)},10),_t(),Y.value=N,ln(N,!0),Y},star:function(g,d,r,c,h){var m=this,C=g.getElement(),D=g.getValue(),x=C.getElementsByTagName("svg").length||5,N=C.getElementsByTagName("svg")[0]?C.getElementsByTagName("svg")[0].getAttribute("width"):14,Y=[],le=document.createElement("div"),De=document.createElementNS("http://www.w3.org/2000/svg","svg");function Ve(Mt){Y.forEach(function(ln,Un){Un<Mt?("ie"==m.table.browser?ln.setAttribute("class","tabulator-star-active"):ln.classList.replace("tabulator-star-inactive","tabulator-star-active"),ln.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==m.table.browser?ln.setAttribute("class","tabulator-star-inactive"):ln.classList.replace("tabulator-star-active","tabulator-star-inactive"),ln.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function nt(Mt){var ln=document.createElement("span"),Un=De.cloneNode(!0);Y.push(Un),ln.addEventListener("mouseenter",function(Sn){Sn.stopPropagation(),Sn.stopImmediatePropagation(),Ve(Mt)}),ln.addEventListener("mousemove",function(Sn){Sn.stopPropagation(),Sn.stopImmediatePropagation()}),ln.addEventListener("click",function(Sn){Sn.stopPropagation(),Sn.stopImmediatePropagation(),r(Mt),C.blur()}),ln.appendChild(Un),le.appendChild(ln)}function dt(Mt){D=Mt,Ve(Mt)}if(C.style.whiteSpace="nowrap",C.style.overflow="hidden",C.style.textOverflow="ellipsis",le.style.verticalAlign="middle",le.style.display="inline-block",le.style.padding="4px",De.setAttribute("width",N),De.setAttribute("height",N),De.setAttribute("viewBox","0 0 512 512"),De.setAttribute("xml:space","preserve"),De.style.padding="0 1px",h.elementAttributes&&"object"==typeof h.elementAttributes)for(let Mt in h.elementAttributes)"+"==Mt.charAt(0)?(Mt=Mt.slice(1),le.setAttribute(Mt,le.getAttribute(Mt)+h.elementAttributes["+"+Mt])):le.setAttribute(Mt,h.elementAttributes[Mt]);for(var _t=1;_t<=x;_t++)nt(_t);return Ve(D=Math.min(parseInt(D),x)),le.addEventListener("mousemove",function(Mt){Ve(0)}),le.addEventListener("click",function(Mt){r(0)}),C.addEventListener("blur",function(Mt){c()}),C.addEventListener("keydown",function(Mt){switch(Mt.keyCode){case 39:dt(D+1);break;case 37:dt(D-1);break;case 13:r(D);break;case 27:c()}}),le},progress:function(g,d,r,c,h){var dt,_t,De,Ve,m=g.getElement(),C=void 0===h.max?(null==(dt=m.getElementsByTagName("div")[0])?void 0:dt.getAttribute("max"))||100:h.max,D=void 0===h.min?(null==(_t=m.getElementsByTagName("div")[0])?void 0:_t.getAttribute("min"))||0:h.min,x=(C-D)/100,N=g.getValue()||0,Y=document.createElement("div"),le=document.createElement("div");function nt(){var Mt=window.getComputedStyle(m,null),ln=x*Math.round(le.offsetWidth/((m.clientWidth-parseInt(Mt.getPropertyValue("padding-left"))-parseInt(Mt.getPropertyValue("padding-right")))/100))+D;r(ln),m.setAttribute("aria-valuenow",ln),m.setAttribute("aria-label",N)}if(Y.style.position="absolute",Y.style.right="0",Y.style.top="0",Y.style.bottom="0",Y.style.width="5px",Y.classList.add("tabulator-progress-handle"),le.style.display="inline-block",le.style.position="relative",le.style.height="100%",le.style.backgroundColor="#488CE9",le.style.maxWidth="100%",le.style.minWidth="0%",h.elementAttributes&&"object"==typeof h.elementAttributes)for(let Mt in h.elementAttributes)"+"==Mt.charAt(0)?(Mt=Mt.slice(1),le.setAttribute(Mt,le.getAttribute(Mt)+h.elementAttributes["+"+Mt])):le.setAttribute(Mt,h.elementAttributes[Mt]);return m.style.padding="4px 4px",N=Math.min(parseFloat(N),C),N=Math.max(parseFloat(N),D),N=Math.round((N-D)/x),le.style.width=N+"%",m.setAttribute("aria-valuemin",D),m.setAttribute("aria-valuemax",C),le.appendChild(Y),Y.addEventListener("mousedown",function(Mt){De=Mt.screenX,Ve=le.offsetWidth}),Y.addEventListener("mouseover",function(){Y.style.cursor="ew-resize"}),m.addEventListener("mousemove",function(Mt){De&&(le.style.width=Ve+Mt.screenX-De+"px")}),m.addEventListener("mouseup",function(Mt){De&&(Mt.stopPropagation(),Mt.stopImmediatePropagation(),De=!1,Ve=!1,nt())}),m.addEventListener("keydown",function(Mt){switch(Mt.keyCode){case 39:Mt.preventDefault(),le.style.width=le.clientWidth+m.clientWidth/100+"px";break;case 37:Mt.preventDefault(),le.style.width=le.clientWidth-m.clientWidth/100+"px";break;case 9:case 13:nt();break;case 27:c()}}),m.addEventListener("blur",function(){c()}),le},tickCross:function(g,d,r,c,h){var m=g.getValue(),C=document.createElement("input"),D=h.tristate,x=void 0===h.indeterminateValue?null:h.indeterminateValue,N=!1;if(C.setAttribute("type","checkbox"),C.style.marginTop="5px",C.style.boxSizing="border-box",h.elementAttributes&&"object"==typeof h.elementAttributes)for(let le in h.elementAttributes)"+"==le.charAt(0)?(le=le.slice(1),C.setAttribute(le,C.getAttribute(le)+h.elementAttributes["+"+le])):C.setAttribute(le,h.elementAttributes[le]);function Y(le){return D?le?N?x:C.checked:C.checked&&!N?(C.checked=!1,C.indeterminate=!0,N=!0,x):(N=!1,C.checked):C.checked}return C.value=m,D&&(void 0===m||m===x||""===m)&&(N=!0,C.indeterminate=!0),"firefox"!=this.table.browser&&d(function(){C.focus({preventScroll:!0})}),C.checked=!0===m||"true"===m||"True"===m||1===m,d(function(){C.focus()}),C.addEventListener("change",function(le){r(Y())}),C.addEventListener("blur",function(le){r(Y(!0))}),C.addEventListener("keydown",function(le){13==le.keyCode&&r(Y()),27==le.keyCode&&c()}),C}};let xf=(()=>{class g extends Kt{constructor(r){super(r),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=g.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellisEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("data-refeshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this))}keybindingNavigateNext(r){var c=this.currentCell,h=this.options("tabEndNewRow");c&&(this.navigateNext(r)||h&&(c.getElement().firstChild.blur(),(h=this.table.addRow(!0===h?{}:"function"==typeof h?h(c.row.getComponent()):Object.assign({},h))).then(()=>{setTimeout(()=>{nav.next()})})))}cellisEdited(r){return!!r.modules.edit&&r.modules.edit.edited}cellCancelEdit(r){r===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}clearCellEdited(r){r||(r=this.modules.edit.getEditedCells()),Array.isArray(r)||(r=[r]),r.forEach(c=>{this.modules.edit.clearEdited(c._getSelf())})}navigatePrev(r){var h,m,c=this.currentCell;if(c){if(r&&r.preventDefault(),h=this.navigateLeft())return!0;if((m=this.table.rowManager.prevDisplayRow(c.row,!0))&&(h=this.findNextEditableCell(m,m.cells.length)))return h.getComponent().edit(),!0}return!1}navigateNext(r){var h,m,c=this.currentCell;if(c){if(r&&r.preventDefault(),h=this.navigateRight())return!0;if((m=this.table.rowManager.nextDisplayRow(c.row,!0))&&(h=this.findNextEditableCell(m,-1)))return h.getComponent().edit(),!0}return!1}navigateLeft(r){var h,m,c=this.currentCell;return!(!c||(r&&r.preventDefault(),h=c.getIndex(),m=this.findPrevEditableCell(c.row,h),!m)||(m.getComponent().edit(),0))}navigateRight(r){var h,m,c=this.currentCell;return!(!c||(r&&r.preventDefault(),h=c.getIndex(),m=this.findNextEditableCell(c.row,h),!m)||(m.getComponent().edit(),0))}navigateUp(r){var h,m,c=this.currentCell;return!(!c||(r&&r.preventDefault(),h=c.getIndex(),m=this.table.rowManager.prevDisplayRow(c.row,!0),!m)||(m.cells[h].getComponent().edit(),0))}navigateDown(r){var h,m,c=this.currentCell;return!(!c||(r&&r.preventDefault(),h=c.getIndex(),m=this.table.rowManager.nextDisplayRow(c.row,!0),!m)||(m.cells[h].getComponent().edit(),0))}findNextEditableCell(r,c){var h=!1;if(c<r.cells.length-1)for(var m=c+1;m<r.cells.length;m++){let C=r.cells[m];if(C.column.modules.edit&&pn.elVisible(C.getElement())){let D=!0;if("function"==typeof C.column.modules.edit.check&&(D=C.column.modules.edit.check(C.getComponent())),D){h=C;break}}}return h}findPrevEditableCell(r,c){var h=!1;if(c>0)for(var m=c-1;m>=0;m--){let C=r.cells[m],D=!0;if(C.column.modules.edit&&pn.elVisible(C.getElement())&&("function"==typeof C.column.modules.edit.check&&(D=C.column.modules.edit.check(C.getComponent())),D)){h=C;break}}return h}initializeColumnCheck(r){void 0!==r.definition.editor&&this.initializeColumn(r)}columnDeleteCheck(r){this.currentCell&&this.currentCell.column===r&&this.cancelEdit()}rowDeleteCheck(r){this.currentCell&&this.currentCell.row===r&&this.cancelEdit()}initializeColumn(r){var c={editor:!1,blocked:!1,check:r.definition.editable,params:r.definition.editorParams||{}};switch(typeof r.definition.editor){case"string":this.editors[r.definition.editor]?c.editor=this.editors[r.definition.editor]:console.warn("Editor Error - No such editor found: ",r.definition.editor);break;case"function":c.editor=r.definition.editor;break;case"boolean":!0===r.definition.editor&&("function"!=typeof r.definition.formatter?c.editor=this.editors[r.definition.formatter]?this.editors[r.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",r.definition.formatter))}c.editor&&(r.modules.edit=c)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(r){var h,c=this.currentCell;if(this.invalidEdit=!1,c){for(this.currentCell=!1,h=c.getElement(),r?c.validate&&c.validate():h.classList.remove("tabulator-validation-fail"),h.classList.remove("tabulator-editing");h.firstChild;)h.removeChild(h.firstChild);c.row.getElement().classList.remove("tabulator-row-editing")}}cancelEdit(){if(this.currentCell){var r=this.currentCell,c=this.currentCell.getComponent();this.clearEditor(!0),r.setValueActual(r.getValue()),r.cellRendered(),("textarea"==r.column.definition.editor||r.column.definition.variableHeight)&&r.row.normalizeHeight(!0),r.column.definition.cellEditCancelled&&r.column.definition.cellEditCancelled.call(this.table,c),this.dispatchExternal("cellEditCancelled",c)}}bindEditor(r){if(r.column.modules.edit){var c=this,h=r.getElement(!0);h.setAttribute("tabindex",0),h.addEventListener("click",function(m){h.classList.contains("tabulator-editing")||h.focus({preventScroll:!0})}),h.addEventListener("mousedown",function(m){2===m.button?m.preventDefault():c.mouseClick=!0}),h.addEventListener("focus",function(m){c.recursionBlock||c.edit(r,m,!1)})}}focusCellNoEvent(r,c){this.recursionBlock=!0,c&&"ie"===this.table.browser||r.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(r,c){this.focusCellNoEvent(r),this.edit(r,!1,c)}focusScrollAdjust(r){if("virtual"==this.table.rowManager.getRenderMode()){var c=this.table.rowManager.element.scrollTop,h=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,m=r.row.getElement();m.offsetTop<c?this.table.rowManager.element.scrollTop-=c-m.offsetTop:m.offsetTop+m.offsetHeight>h&&(this.table.rowManager.element.scrollTop+=m.offsetTop+m.offsetHeight-h);var D=this.table.rowManager.element.scrollLeft,x=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,N=r.getElement();this.table.modExists("frozenColumns")&&(D+=parseInt(this.table.modules.frozenColumns.leftMargin),x-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(D-=parseInt(this.table.columnManager.renderer.vDomPadLeft),x-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),N.offsetLeft<D?this.table.rowManager.element.scrollLeft-=D-N.offsetLeft:N.offsetLeft+N.offsetWidth>x&&(this.table.rowManager.element.scrollLeft+=N.offsetLeft+N.offsetWidth-x)}}edit(r,c,h){var N,Y,le,m=this,C=!0,D=function(){},x=r.getElement();if(!this.currentCell){if(r.column.modules.edit.blocked)return this.mouseClick=!1,x.blur(),!1;switch(c&&c.stopPropagation(),typeof r.column.modules.edit.check){case"function":C=r.column.modules.edit.check(r.getComponent());break;case"boolean":C=r.column.modules.edit.check}if(C||h){if(m.cancelEdit(),m.currentCell=r,this.focusScrollAdjust(r),Y=r.getComponent(),this.mouseClick&&(this.mouseClick=!1,r.column.definition.cellClick&&r.column.definition.cellClick.call(this.table,c,Y)),r.column.definition.cellEditing&&r.column.definition.cellEditing.call(this.table,Y),this.dispatchExternal("cellEditing",Y),le="function"==typeof r.column.modules.edit.params?r.column.modules.edit.params(Y):r.column.modules.edit.params,!1===(N=r.column.modules.edit.editor.call(m,Y,function(Mt){D=Mt},function(Mt){if(m.currentCell===r){var ln=!0;return r.column.modules.validate&&m.table.modExists("validate")&&"manual"!=m.table.options.validationMode&&(ln=m.table.modules.validate.validate(r.column.modules.validate,r,Mt)),!0===ln||"highlight"===m.table.options.validationMode?(m.clearEditor(),r.modules.edit||(r.modules.edit={}),r.modules.edit.edited=!0,-1==m.editedCells.indexOf(r)&&m.editedCells.push(r),r.setValue(Mt,!0),m.table.options.dataTree&&m.table.modExists("dataTree")&&m.table.modules.dataTree.checkForRestyle(r),!0===ln||(x.classList.add("tabulator-validation-fail"),m.table.externalEvents.dispatch("validationFailed",r.getComponent(),Mt,ln),!1)):(m.invalidEdit=!0,x.classList.add("tabulator-validation-fail"),m.focusCellNoEvent(r,!0),D(),m.table.externalEvents.dispatch("validationFailed",r.getComponent(),Mt,ln),!1)}},function(){m.currentCell===r&&(m.cancelEdit(),m.table.options.dataTree&&m.table.modExists("dataTree")&&m.table.modules.dataTree.checkForRestyle(r))},le)))return x.blur(),!1;if(!(N instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",N),x.blur(),!1;for(x.classList.add("tabulator-editing"),r.row.getElement().classList.add("tabulator-row-editing");x.firstChild;)x.removeChild(x.firstChild);x.appendChild(N),D();for(var dt=x.children,_t=0;_t<dt.length;_t++)dt[_t].addEventListener("click",function(Mt){Mt.stopPropagation()});return!0}return this.mouseClick=!1,x.blur(),!1}this.invalidEdit||this.cancelEdit()}getEditedCells(){var r=[];return this.editedCells.forEach(c=>{r.push(c.getComponent())}),r}clearEdited(r){var c;r.modules.edit&&r.modules.edit.edited&&(r.modules.edit.edited=!1,r.modules.validate&&(r.modules.validate.invalid=!1)),(c=this.editedCells.indexOf(r))>-1&&this.editedCells.splice(c,1)}}return g.moduleName="edit",g.editors=Rf,g})();class Ep{constructor(d,r,c,h){this.type=d,this.columns=r,this.component=c||!1,this.indent=h||0}}class ih{constructor(d,r,c,h,m){this.value=d,this.component=r||!1,this.width=c,this.height=h,this.depth=m}}let Cp=(()=>{class g extends Kt{constructor(r){super(r),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(r,c,h,m){this.cloneTableStyle=c,this.config=r||{},this.colVisProp=m;var C=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],D=this.bodyToExportRows(this.rowLookup(h));return C.concat(D)}genereateTable(r,c,h,m){var C=this.generateExportList(r,c,h,m);return this.genereateTableElement(C)}rowLookup(r){var c=[];if("function"==typeof r)r.call(this.table).forEach(h=>{(h=this.table.rowManager.findRow(h))&&c.push(h)});else switch(r){case!0:case"visible":c=this.table.rowManager.getVisibleRows(!0);break;case"all":c=this.table.rowManager.rows;break;case"selected":c=this.table.modules.selectRow.selectedRows;break;case"active":default:c=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],c)}generateColumnGroupHeaders(){var r=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach(h=>{var m=this.processColumnGroup(h);m&&r.push(m)}),r}processColumnGroup(r){var c=r.columns,h=0,C={title:r.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||r.definition.title,column:r,depth:1};if(c.length){if(C.subGroups=[],C.width=0,c.forEach(D=>{var x=this.processColumnGroup(D);x&&(C.width+=x.width,C.subGroups.push(x),x.depth>h&&(h=x.depth))}),C.depth+=h,!C.width)return!1}else{if(!this.columnVisCheck(r))return!1;C.width=1}return C}columnVisCheck(r){return!1!==r.definition[this.colVisProp]&&(r.visible||!r.visible&&r.definition[this.colVisProp])}headersToExportRows(r){var c=[],h=0,m=[];function C(D,x){var N=h-x;if(void 0===c[x]&&(c[x]=[]),D.height=D.subGroups?1:N-D.depth+1,c[x].push(D),D.height>1)for(let Y=1;Y<D.height;Y++)void 0===c[x+Y]&&(c[x+Y]=[]),c[x+Y].push(!1);if(D.width>1)for(let Y=1;Y<D.width;Y++)c[x].push(!1);D.subGroups&&D.subGroups.forEach(function(Y){C(Y,x+1)})}return r.forEach(function(D){D.depth>h&&(h=D.depth)}),r.forEach(function(D){C(D,0)}),c.forEach(D=>{var x=[];D.forEach(N=>{x.push(N?new ih(N.title,N.column.getComponent(),N.width,N.height,N.depth):null)}),m.push(new Ep("header",x))}),m}bodyToExportRows(r){var c=[],h=[];return this.table.columnManager.columnsByIndex.forEach(m=>{this.columnVisCheck(m)&&c.push(m.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&r.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&r.push(this.table.modules.columnCalcs.botRow)),(r=r.filter(m=>{switch(m.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&m.modules.dataTree.parent)}return!0})).forEach((m,C)=>{var D=m.getData(this.colVisProp),x=[],N=0;switch(m.type){case"group":N=m.level,x.push(new ih(m.key,m.getComponent(),c.length,1));break;case"calc":case"row":c.forEach(Y=>{x.push(new ih(Y._column.getFieldValue(D),Y,1,1))}),this.table.options.dataTree&&!1!==this.config.dataTree&&(N=m.modules.dataTree.index)}h.push(new Ep(m.type,x,m.getComponent(),N))}),h}genereateTableElement(r){var c=document.createElement("table"),h=document.createElement("thead"),m=document.createElement("tbody"),C=this.lookupTableStyles(),D=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],x={};return x.rowFormatter=null!==D?D:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(x.treeElementField=this.table.modules.dataTree.elementField),x.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],x.groupHeader&&!Array.isArray(x.groupHeader)&&(x.groupHeader=[x.groupHeader]),c.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),h,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),r.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),r.forEach((N,Y)=>{switch(N.type){case"header":h.appendChild(this.genereateHeaderElement(N,x,C));break;case"group":m.appendChild(this.genereateGroupElement(N,x,C));break;case"calc":m.appendChild(this.genereateCalcElement(N,x,C));break;case"row":let le=this.genereateRowElement(N,x,C);this.mapElementStyles(Y%2&&C.evenRow?C.evenRow:C.oddRow,le,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),m.appendChild(le)}}),h.innerHTML&&c.appendChild(h),c.appendChild(m),this.mapElementStyles(this.table.element,c,["border-top","border-left","border-right","border-bottom"]),c}lookupTableStyles(){var r={};return this.cloneTableStyle&&window.getComputedStyle&&(r.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),r.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),r.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),r.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),r.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],r.firstRow&&(r.styleCells=r.firstRow.getElementsByClassName("tabulator-cell"),r.firstCell=r.styleCells[0],r.lastCell=r.styleCells[r.styleCells.length-1])),r}genereateHeaderElement(r,c,h){var m=document.createElement("tr");return r.columns.forEach(C=>{if(C){var D=document.createElement("th"),x=C.component._column.definition.cssClass?C.component._column.definition.cssClass.split(" "):[];D.colSpan=C.width,D.rowSpan=C.height,D.innerHTML=C.value,this.cloneTableStyle&&(D.style.boxSizing="border-box"),x.forEach(function(N){D.classList.add(N)}),this.mapElementStyles(C.component.getElement(),D,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(C.component._column.contentElement,D,["padding-top","padding-left","padding-right","padding-bottom"]),C.component._column.visible?this.mapElementStyles(C.component.getElement(),D,["width"]):C.component._column.definition.width&&(D.style.width=C.component._column.definition.width+"px"),C.component._column.parent&&this.mapElementStyles(C.component._column.parent.groupElement,D,["border-top"]),m.appendChild(D)}}),m}genereateGroupElement(r,c,h){var m=document.createElement("tr"),C=document.createElement("td"),D=r.columns[0];return m.classList.add("tabulator-print-table-row"),D.value=c.groupHeader&&c.groupHeader[r.indent]?c.groupHeader[r.indent](D.value,r.component._group.getRowCount(),r.component._group.getData(),r.component):!1===c.groupHeader?D.value:r.component._group.generator(D.value,r.component._group.getRowCount(),r.component._group.getData(),r.component),C.colSpan=D.width,C.innerHTML=D.value,m.classList.add("tabulator-print-table-group"),m.classList.add("tabulator-group-level-"+r.indent),D.component.isVisible()&&m.classList.add("tabulator-group-visible"),this.mapElementStyles(h.firstGroup,m,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(h.firstGroup,C,["padding-top","padding-left","padding-right","padding-bottom"]),m.appendChild(C),m}genereateCalcElement(r,c,h){var m=this.genereateRowElement(r,c,h);return m.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(h.calcRow,m,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),m}genereateRowElement(r,c,h){var m=document.createElement("tr");return m.classList.add("tabulator-print-table-row"),r.columns.forEach(C=>{if(C){var D=document.createElement("td"),x=C.component._column,N=C.value,Y={modules:{},getValue:function(){return N},getField:function(){return x.definition.field},getElement:function(){return D},getColumn:function(){return x.getComponent()},getData:function(){return r.component.getData()},getRow:function(){return r.component},getComponent:function(){return Y},column:x};if((x.definition.cssClass?x.definition.cssClass.split(" "):[]).forEach(function(De){D.classList.add(De)}),this.table.modExists("format")&&!1!==this.config.formatCells)N=this.table.modules.format.formatExportValue(Y,this.colVisProp);else switch(typeof N){case"object":N=JSON.stringify(N);break;case"undefined":case"null":N="";break;default:N=N}N instanceof Node?D.appendChild(N):D.innerHTML=N,h.firstCell&&(this.mapElementStyles(h.firstCell,D,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),x.definition.align&&(D.style.textAlign=x.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(c.treeElementField&&c.treeElementField==x.field||!c.treeElementField&&0==i)&&(r.component._row.modules.dataTree.controlEl&&D.insertBefore(r.component._row.modules.dataTree.controlEl.cloneNode(!0),D.firstChild),r.component._row.modules.dataTree.branchEl&&D.insertBefore(r.component._row.modules.dataTree.branchEl.cloneNode(!0),D.firstChild)),m.appendChild(D),Y.modules.format&&Y.modules.format.renderedCallback&&Y.modules.format.renderedCallback(),c.rowFormatter&&!1!==this.config.formatCells&&c.rowFormatter(r.component)}}),m}genereateHTMLTable(r){var c=document.createElement("div");return c.appendChild(this.genereateTableElement(r)),c.innerHTML}getHtml(r,c,h,m){var C=this.generateExportList(h||this.table.options.htmlOutputConfig,c,r,m||"htmlOutput");return this.genereateHTMLTable(C)}mapElementStyles(r,c,h){if(this.cloneTableStyle&&r&&c){var m={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var C=window.getComputedStyle(r);h.forEach(function(D){c.style[m[D]]=C.getPropertyValue(D)})}}}}return g.moduleName="export",g})();var If={"=":function(g,d,r,c){return d==g},"<":function(g,d,r,c){return d<g},"<=":function(g,d,r,c){return d<=g},">":function(g,d,r,c){return d>g},">=":function(g,d,r,c){return d>=g},"!=":function(g,d,r,c){return d!=g},regex:function(g,d,r,c){return"string"==typeof g&&(g=new RegExp(g)),g.test(d)},like:function(g,d,r,c){return null==g?d===g:null!=d&&String(d).toLowerCase().indexOf(g.toLowerCase())>-1},keywords:function(g,d,r,c){var h=g.toLowerCase().split(void 0===c.separator?" ":c.separator),m=String(null==d?"":d).toLowerCase(),C=[];return h.forEach(D=>{m.includes(D)&&C.push(!0)}),c.matchAll?C.length===h.length:!!C.length},starts:function(g,d,r,c){return null==g?d===g:null!=d&&String(d).toLowerCase().startsWith(g.toLowerCase())},ends:function(g,d,r,c){return null==g?d===g:null!=d&&String(d).toLowerCase().endsWith(g.toLowerCase())},in:function(g,d,r,c){return Array.isArray(g)?!g.length||g.indexOf(d)>-1:(console.warn("Filter Error - filter value is not an array:",g),!1)}};let Tp=(()=>{class g extends Kt{constructor(r){super(r),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(r=>{var c=this.table.columnManager.findColumn(r.field);if(!c)return console.warn("Column Filter Error - No matching column found:",r.field),!1;this.setHeaderFilterValue(c,r.value)}),this.tableInitialized=!0}remoteFilterParams(r,c,h,m){return m.filter=this.getFilters(!0,!0),m}userSetFilter(r,c,h,m){this.setFilter(r,c,h,m),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(r,c,h,m){this.addFilter(r,c,h,m),this.refreshFilter()}userSetHeaderFilterFocus(r){var c=this.table.columnManager.findColumn(r);if(!c)return console.warn("Column Filter Focus Error - No matching column found:",r),!1;this.setHeaderFilterFocus(c)}userGetHeaderFilterValue(r){var c=this.table.columnManager.findColumn(r);if(c)return this.getHeaderFilterValue(c);console.warn("Column Filter Error - No matching column found:",r)}userSetHeaderFilterValue(r,c){var h=this.table.columnManager.findColumn(r);if(!h)return console.warn("Column Filter Error - No matching column found:",r),!1;this.setHeaderFilterValue(h,c)}userRemoveFilter(r,c,h){this.removeFilter(r,c,h),this.refreshFilter()}userClearFilter(r){this.clearFilter(r),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(r,c,h){return this.search("rows",r,c,h)}searchData(r,c,h){return this.search("data",r,c,h)}initializeColumnHeaderFilter(r){var c=r.definition;c.headerFilter&&(void 0!==c.headerFilterPlaceholder&&c.field&&this.module("localize").setHeaderFilterColumnPlaceholder(c.field,c.headerFilterPlaceholder),this.initializeColumn(r))}initializeColumn(r,c){var h=this,m=r.getField();r.modules.filter={success:function(D){var le,x="input"==r.modules.filter.tagType&&"text"==r.modules.filter.attrType||"textarea"==r.modules.filter.tagType?"partial":"match",N="",Y="";if(void 0===r.modules.filter.prevSuccess||r.modules.filter.prevSuccess!==D){if(r.modules.filter.prevSuccess=D,r.modules.filter.emptyFunc(D))delete h.headerFilters[m];else{switch(r.modules.filter.value=D,typeof r.definition.headerFilterFunc){case"string":g.filters[r.definition.headerFilterFunc]?(N=r.definition.headerFilterFunc,le=function(De){var Ve=r.definition.headerFilterFuncParams||{},nt=r.getFieldValue(De);return Ve="function"==typeof Ve?Ve(D,nt,De):Ve,g.filters[r.definition.headerFilterFunc](D,nt,De,Ve)}):console.warn("Header Filter Error - Matching filter function not found: ",r.definition.headerFilterFunc);break;case"function":N=le=function(De){var Ve=r.definition.headerFilterFuncParams||{},nt=r.getFieldValue(De);return Ve="function"==typeof Ve?Ve(D,nt,De):Ve,r.definition.headerFilterFunc(D,nt,De,Ve)}}if(!le)switch(x){case"partial":le=function(De){var Ve=r.getFieldValue(De);return null!=Ve&&String(Ve).toLowerCase().indexOf(String(D).toLowerCase())>-1},N="like";break;default:le=function(De){return r.getFieldValue(De)==D},N="="}h.headerFilters[m]={value:D,func:le,type:N,params:{}}}Y=JSON.stringify(h.headerFilters),h.prevHeaderFilterChangeCheck!==Y&&(h.prevHeaderFilterChangeCheck=Y,h.trackChanges(),h.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(r)}generateHeaderFilterElement(r,c,h){var x,N,Y,le,De,Ve,nt,m=this,C=r.modules.filter.success,D=r.getField();if(r.modules.filter.headerElement&&r.modules.filter.headerElement.parentNode&&r.contentElement.removeChild(r.modules.filter.headerElement.parentNode),D){switch(r.modules.filter.emptyFunc=r.definition.headerFilterEmptyCheck||function(_t){return!_t&&"0"!==_t&&0!==_t},(x=document.createElement("div")).classList.add("tabulator-header-filter"),typeof r.definition.headerFilter){case"string":m.table.modules.edit.editors[r.definition.headerFilter]?(N=m.table.modules.edit.editors[r.definition.headerFilter],("tick"===r.definition.headerFilter||"tickCross"===r.definition.headerFilter)&&!r.definition.headerFilterEmptyCheck&&(r.modules.filter.emptyFunc=function(_t){return!0!==_t&&!1!==_t})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",r.definition.editor);break;case"function":N=r.definition.headerFilter;break;case"boolean":r.modules.edit&&r.modules.edit.editor?N=r.modules.edit.editor:r.definition.formatter&&m.table.modules.edit.editors[r.definition.formatter]?(N=m.table.modules.edit.editors[r.definition.formatter],("tick"===r.definition.formatter||"tickCross"===r.definition.formatter)&&!r.definition.headerFilterEmptyCheck&&(r.modules.filter.emptyFunc=function(_t){return!0!==_t&&!1!==_t})):N=m.table.modules.edit.editors.input}if(N){if(le={getValue:function(){return void 0!==c?c:""},getField:function(){return r.definition.field},getElement:function(){return x},getColumn:function(){return r.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},nt="function"==typeof(nt=r.definition.headerFilterParams||{})?nt.call(m.table):nt,!(Y=N.call(this.table.modules.edit,le,function(){},C,function(){},nt)))return void console.warn("Filter Error - Cannot add filter to "+D+" column, editor returned a value of false");if(!(Y instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+D+" column, editor should return an instance of Node, the editor returned:",Y);D?m.langBind("headerFilters|columns|"+r.definition.field,function(_t){Y.setAttribute("placeholder",void 0!==_t&&_t?_t:m.langText("headerFilters|default"))}):m.langBind("headerFilters|default",function(_t){Y.setAttribute("placeholder",_t)}),Y.addEventListener("click",function(_t){_t.stopPropagation(),Y.focus()}),Y.addEventListener("focus",_t=>{var Mt=this.table.columnManager.element.scrollLeft;Mt!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(Mt),this.table.columnManager.scrollHorizontal(Mt))}),De=!1,Ve=function(_t){De&&clearTimeout(De),De=setTimeout(function(){C(Y.value)},m.table.options.headerFilterLiveFilterDelay)},r.modules.filter.headerElement=Y,r.modules.filter.attrType=Y.hasAttribute("type")?Y.getAttribute("type").toLowerCase():"",r.modules.filter.tagType=Y.tagName.toLowerCase(),!1!==r.definition.headerFilterLiveFilter&&("autocomplete"===r.definition.headerFilter||"tickCross"===r.definition.headerFilter||("autocomplete"===r.definition.editor||"tickCross"===r.definition.editor)&&!0===r.definition.headerFilter||(Y.addEventListener("keyup",Ve),Y.addEventListener("search",Ve),"number"==r.modules.filter.attrType&&Y.addEventListener("change",function(_t){C(Y.value)}),"text"==r.modules.filter.attrType&&"ie"!==this.table.browser&&Y.setAttribute("type","search")),("input"==r.modules.filter.tagType||"select"==r.modules.filter.tagType||"textarea"==r.modules.filter.tagType)&&Y.addEventListener("mousedown",function(_t){_t.stopPropagation()})),x.appendChild(Y),r.contentElement.appendChild(x),h||m.headerFilterColumns.push(r)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",r.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(r){r.modules.filter&&r.modules.filter.headerElement&&(r.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(r){r.modules.filter&&r.modules.filter.headerElement&&(r.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(r){r.modules.filter&&r.modules.filter.headerElement?r.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",r.getField())}getHeaderFilterValue(r){if(r.modules.filter&&r.modules.filter.headerElement)return r.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",r.getField())}setHeaderFilterValue(r,c){r&&(r.modules.filter&&r.modules.filter.headerElement?(this.generateHeaderFilterElement(r,c,!0),r.modules.filter.success(c)):console.warn("Column Filter Error - No header filter set on column:",r.getField()))}reloadHeaderFilter(r){r&&(r.modules.filter&&r.modules.filter.headerElement?this.generateHeaderFilterElement(r,r.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",r.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData():this.refreshData())}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var r=this.changed;return this.changed=!1,r}setFilter(r,c,h,m){this.filterList=[],Array.isArray(r)||(r=[{field:r,type:c,value:h,params:m}]),this.addFilter(r)}addFilter(r,c,h,m){Array.isArray(r)||(r=[{field:r,type:c,value:h,params:m}]),r.forEach(C=>{(C=this.findFilter(C))&&(this.filterList.push(C),this.changed=!0)})}findFilter(r){var c;if(Array.isArray(r))return this.findSubFilters(r);var h=!1;return"function"==typeof r.field?h=function(m){return r.field(m,r.type||{})}:g.filters[r.type]?h=(c=this.table.columnManager.getColumnByField(r.field))?function(m){return g.filters[r.type](r.value,c.getFieldValue(m),m,r.params||{})}:function(m){return g.filters[r.type](r.value,m[r.field],m,r.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",r.type),r.func=h,!!r.func&&r}findSubFilters(r){var c=[];return r.forEach(h=>{(h=this.findFilter(h))&&c.push(h)}),!!c.length&&c}getFilters(r,c){var h=[];return r&&(h=this.getHeaderFilters()),c&&h.forEach(function(m){"function"==typeof m.type&&(m.type="function")}),h.concat(this.filtersToArray(this.filterList,c))}filtersToArray(r,c){var h=[];return r.forEach(m=>{var C;Array.isArray(m)?h.push(this.filtersToArray(m,c)):(C={field:m.field,type:m.type,value:m.value},c&&"function"==typeof C.type&&(C.type="function"),h.push(C))}),h}getHeaderFilters(){var r=[];for(var c in this.headerFilters)r.push({field:c,type:this.headerFilters[c].type,value:this.headerFilters[c].value});return r}removeFilter(r,c,h){Array.isArray(r)||(r=[{field:r,type:c,value:h}]),r.forEach(m=>{var C;(C=this.filterList.findIndex("object"==typeof m.field?D=>m===D:D=>m.field===D.field&&m.type===D.type&&m.value===D.value))>-1?this.filterList.splice(C,1):console.warn("Filter Error - No matching filter type found, ignoring: ",m.type)}),this.trackChanges()}clearFilter(r){this.filterList=[],r&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(r=>{void 0!==r.modules.filter.value&&delete r.modules.filter.value,r.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(r)}),this.trackChanges()}search(r,c,h,m){var C=[],D=[];return Array.isArray(c)||(c=[{field:c,type:h,value:m}]),c.forEach(x=>{(x=this.findFilter(x))&&D.push(x)}),this.table.rowManager.rows.forEach(x=>{var N=!0;D.forEach(Y=>{this.filterRecurse(Y,x.getData())||(N=!1)}),N&&C.push("data"===r?x.getData("data"):x.getComponent())}),C}filter(r,c){var h=[],m=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters()),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?r.forEach(C=>{this.filterRow(C)&&h.push(C)}):h=r.slice(0),this.subscribedExternal("dataFiltered")&&(h.forEach(C=>{m.push(C.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(),m)),h}filterRow(r,c){var h=!0,m=r.getData();for(var C in this.filterList.forEach(D=>{this.filterRecurse(D,m)||(h=!1)}),this.headerFilters)this.headerFilters[C].func(m)||(h=!1);return h}filterRecurse(r,c){var h=!1;return Array.isArray(r)?r.forEach(m=>{this.filterRecurse(m,c)&&(h=!0)}):h=r.func(c),h}}return g.moduleName="filter",g.filters=If,g})();var Gh={plaintext:function(g,d,r){return this.emptyToSpace(this.sanitizeHTML(g.getValue()))},html:function(g,d,r){return g.getValue()},textarea:function(g,d,r){return g.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(g.getValue()))},money:function(g,d,r){var m,C,D,x,c=parseFloat(g.getValue()),h="",N=d.decimal||".",Y=d.thousand||",",le=d.negativeSign||"-",De=d.symbol||"",Ve=!!d.symbolAfter,nt=void 0!==d.precision?d.precision:2;if(isNaN(c))return this.emptyToSpace(this.sanitizeHTML(g.getValue()));for(c<0&&(c=Math.abs(c),h=le),m=!1!==nt?c.toFixed(nt):c,C=(m=String(m).split("."))[0],D=m.length>1?N+m[1]:"",x=/(\d+)(\d{3})/;x.test(C);)C=C.replace(x,"$1"+Y+"$2");return Ve?h+C+D+De:h+De+C+D},link:function(g,d,r){var c=g.getValue(),h=d.urlPrefix||"",m=d.download,C=c,D=document.createElement("a");if(d.labelField&&(C=g.getData()[d.labelField]),d.label)switch(typeof d.label){case"string":C=d.label;break;case"function":C=d.label(g)}if(C){if(d.urlField&&(c=g.getData()[d.urlField]),d.url)switch(typeof d.url){case"string":c=d.url;break;case"function":c=d.url(g)}return D.setAttribute("href",h+c),d.target&&D.setAttribute("target",d.target),d.download&&(m="function"==typeof m?m(g):!0===m?"":m,D.setAttribute("download",m)),D.innerHTML=this.emptyToSpace(this.sanitizeHTML(C)),D}return"&nbsp;"},image:function(g,d,r){var c=document.createElement("img"),h=g.getValue();switch(d.urlPrefix&&(h=d.urlPrefix+g.getValue()),d.urlSuffix&&(h+=d.urlSuffix),c.setAttribute("src",h),typeof d.height){case"number":c.style.height=d.height+"px";break;case"string":c.style.height=d.height}switch(typeof d.width){case"number":c.style.width=d.width+"px";break;case"string":c.style.width=d.width}return c.addEventListener("load",function(){g.getRow().normalizeHeight()}),c},tickCross:function(g,d,r){var c=g.getValue(),h=g.getElement(),m=d.allowEmpty,D=void 0!==d.tickElement?d.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',x=void 0!==d.crossElement?d.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return d.allowTruthy&&c||!0===c||"true"===c||"True"===c||1===c||"1"===c?(h.setAttribute("aria-checked",!0),D||""):!m||"null"!==c&&""!==c&&null!=c?(h.setAttribute("aria-checked",!1),x||""):(h.setAttribute("aria-checked","mixed"),"")},datetime:function(g,d,r){var c=window.DateTime||luxon.DateTime,h=d.inputFormat||"yyyy-MM-dd HH:mm:ss",m=d.outputFormat||"dd/MM/yyyy HH:mm:ss",C=void 0!==d.invalidPlaceholder?d.invalidPlaceholder:"",D=g.getValue();if(void 0!==c){var x=(window.DateTime||luxon.DateTime).fromFormat(D,h);return x.isValid?(d.timezone&&(x=x.shiftTimezone(d.timezone)),x.toFormat(m)):!0===C?D:"function"==typeof C?C(D):C}console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function(g,d,r){var c=window.DateTime||luxon.DateTime,h=d.inputFormat||"yyyy-MM-dd HH:mm:ss",m=void 0!==d.invalidPlaceholder?d.invalidPlaceholder:"",C=void 0!==d.suffix&&d.suffix,D=void 0!==d.unit?d.unit:"days",x=void 0!==d.humanize&&d.humanize,N=void 0!==d.date?d.date:c.now(),Y=g.getValue();if(void 0!==c){var le=c.fromFormat(Y,h);if(!le.isValid)return!0===m?Y:"function"==typeof m?m(Y):m;if(!x)return parseInt(le.diff(N,D)[D])+(C?" "+C:"")}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function(g,d,r){var c=g.getValue();return void 0===d[c]?(console.warn("Missing display value for "+c),c):d[c]},star:function(g,d,r){var c=g.getValue(),h=g.getElement(),m=d&&d.stars?d.stars:5,C=document.createElement("span"),D=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.verticalAlign="middle",D.setAttribute("width","14"),D.setAttribute("height","14"),D.setAttribute("viewBox","0 0 512 512"),D.setAttribute("xml:space","preserve"),D.style.padding="0 1px",c=c&&!isNaN(c)?parseInt(c):0,c=Math.max(0,Math.min(c,m));for(var Y=1;Y<=m;Y++){var le=D.cloneNode(!0);le.innerHTML=Y<=c?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',C.appendChild(le)}return h.style.whiteSpace="nowrap",h.style.overflow="hidden",h.style.textOverflow="ellipsis",h.setAttribute("aria-label",c),C},traffic:function(g,d,r){var Y,c=this.sanitizeHTML(g.getValue())||0,h=document.createElement("span"),m=d&&d.max?d.max:100,C=d&&d.min?d.min:0,D=d&&void 0!==d.color?d.color:["red","orange","green"],x="#666666";if(!isNaN(c)&&void 0!==g.getValue()){switch(h.classList.add("tabulator-traffic-light"),Y=parseFloat(c)<=m?parseFloat(c):m,Y=parseFloat(Y)>=C?parseFloat(Y):C,Y=Math.round((Y-C)/((m-C)/100)),typeof D){case"string":x=D;break;case"function":x=D(c);break;case"object":if(Array.isArray(D)){var De=Math.floor(Y/(100/D.length));De=Math.min(De,D.length-1),x=D[De=Math.max(De,0)];break}}return h.style.backgroundColor=x,h}},progress:function(g,d,r){var N,Y,le,De,c=this.sanitizeHTML(g.getValue())||0,h=g.getElement(),m=d&&d.max?d.max:100,C=d&&d.min?d.min:0,D=d&&d.legendAlign?d.legendAlign:"center";switch(N=parseFloat(c)<=m?parseFloat(c):m,N=parseFloat(N)>=C?parseFloat(N):C,N=Math.round((N-C)/((m-C)/100)),typeof d.color){case"string":Y=d.color;break;case"function":Y=d.color(c);break;case"object":if(Array.isArray(d.color)){var Ve=100/d.color.length,nt=Math.floor(N/Ve);nt=Math.min(nt,d.color.length-1),nt=Math.max(nt,0),Y=d.color[nt];break}default:Y="#2DC214"}switch(typeof d.legend){case"string":le=d.legend;break;case"function":le=d.legend(c);break;case"boolean":le=c;break;default:le=!1}switch(typeof d.legendColor){case"string":De=d.legendColor;break;case"function":De=d.legendColor(c);break;case"object":Array.isArray(d.legendColor)&&(Ve=100/d.legendColor.length,nt=Math.floor(N/Ve),nt=Math.min(nt,d.legendColor.length-1),nt=Math.max(nt,0),De=d.legendColor[nt]);break;default:De="#000"}h.style.minWidth="30px",h.style.position="relative",h.setAttribute("aria-label",N);var dt=document.createElement("div");dt.style.display="inline-block",dt.style.position="absolute",dt.style.width=N+"%",dt.style.backgroundColor=Y,dt.style.height="100%",dt.setAttribute("data-max",m),dt.setAttribute("data-min",C);var _t=document.createElement("div");if(_t.style.position="relative",_t.style.width="100%",_t.style.height="100%",le){var Mt=document.createElement("div");Mt.style.position="absolute",Mt.style.top=0,Mt.style.left=0,Mt.style.textAlign=D,Mt.style.width="100%",Mt.style.color=De,Mt.innerHTML=le}return r(function(){if(!(g instanceof Ho)){var ln=document.createElement("div");ln.style.position="absolute",ln.style.top="4px",ln.style.bottom="4px",ln.style.left="4px",ln.style.right="4px",h.appendChild(ln),h=ln}h.appendChild(_t),_t.appendChild(dt),le&&_t.appendChild(Mt)}),""},color:function(g,d,r){return g.getElement().style.backgroundColor=this.sanitizeHTML(g.getValue()),""},buttonTick:function(g,d,r){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(g,d,r){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(g,d,r){return this.table.rowManager.activeRows.indexOf(g.getRow()._getSelf())+1},handle:function(g,d,r){return g.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(g,d,r){var c=document.createElement("div"),h=g.getRow()._row.modules.responsiveLayout;function m(C){var D=h.element;h.open=C,D&&(h.open?(c.classList.add("open"),D.style.display=""):(c.classList.remove("open"),D.style.display="none"))}return c.classList.add("tabulator-responsive-collapse-toggle"),c.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",g.getElement().classList.add("tabulator-row-handle"),c.addEventListener("click",function(C){C.stopImmediatePropagation(),m(!h.open)}),m(h.open),c},rowSelection:function(g,d,r){var c=document.createElement("input");if(c.type="checkbox",this.table.modExists("selectRow",!0))if(c.addEventListener("click",m=>{m.stopPropagation()}),"function"==typeof g.getRow){var h=g.getRow();h instanceof Ac?(c.addEventListener("change",m=>{h.toggleSelect()}),c.checked=h.isSelected&&h.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(h,c)):c=""}else c.addEventListener("change",m=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(d.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(c);return c}};let Wh=(()=>{class g extends Kt{constructor(r){super(r),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(r){r.modules.format=this.lookupFormatter(r,""),void 0!==r.definition.formatterPrint&&(r.modules.format.print=this.lookupFormatter(r,"Print")),void 0!==r.definition.formatterClipboard&&(r.modules.format.clipboard=this.lookupFormatter(r,"Clipboard")),void 0!==r.definition.formatterHtmlOutput&&(r.modules.format.htmlOutput=this.lookupFormatter(r,"HtmlOutput"))}lookupFormatter(r,c){var h={params:r.definition["formatter"+c+"Params"]||{}},m=r.definition["formatter"+c];switch(typeof m){case"string":g.formatters[m]?h.formatter=g.formatters[m]:(console.warn("Formatter Error - No such formatter found: ",m),h.formatter=g.formatters.plaintext);break;case"function":h.formatter=m;break;default:h.formatter=g.formatters.plaintext}return h}cellRendered(r){r.modules.format&&r.modules.format.renderedCallback&&!r.modules.format.rendered&&(r.modules.format.renderedCallback(),r.modules.format.rendered=!0)}formatHeader(r,c,h){var m,C,D,x;return r.definition.titleFormatter?(m=this.getFormatter(r.definition.titleFormatter),D=N=>{r.titleFormatterRendered=N},x={getValue:function(){return c},getElement:function(){return h}},C="function"==typeof(C=r.definition.titleFormatterParams||{})?C():C,m.call(this,x,C,D)):c}formatValue(r){var c=r.getComponent(),h="function"==typeof r.column.modules.format.params?r.column.modules.format.params(c):r.column.modules.format.params;return r.column.modules.format.formatter.call(this,c,h,function(C){r.modules.format||(r.modules.format={}),r.modules.format.renderedCallback=C,r.modules.format.rendered=!1})}formatExportValue(r,c){var m,h=r.column.modules.format[c];if(h){let C=function(D){r.modules.format||(r.modules.format={}),r.modules.format.renderedCallback=D,r.modules.format.rendered=!1};return m="function"==typeof h.params?h.params(component):h.params,h.formatter.call(this,r.getComponent(),m,C)}return this.formatValue(r)}sanitizeHTML(r){if(r){var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(r).replace(/[&<>"'`=\/]/g,function(h){return c[h]})}return r}emptyToSpace(r){return null==r||""===r?"&nbsp;":r}getFormatter(r){switch(typeof r){case"string":g.formatters[r]?r=g.formatters[r]:(console.warn("Formatter Error - No such formatter found: ",r),r=g.formatters.plaintext);break;case"function":r=r;break;default:r=g.formatters.plaintext}return r}}return g.moduleName="format",g.formatters=Gh,g})(),kf=(()=>{class g extends Kt{constructor(r){super(r),this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-before",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("table-redraw",this.layout.bind(this))}layoutCell(r){this.layoutElement(r.element,r.column)}initializeColumn(r){var c={margin:0,edge:!1};r.isGroup||(this.frozenCheck(r)?(c.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(r):this.rightColumns.unshift(r),this.active=!0,r.modules.frozen=c):this.initializationMode="right")}frozenCheck(r){return r.parent.isGroup&&r.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),r.parent.isGroup?this.frozenCheck(r.parent):r.definition.frozen}scrollHorizontal(){var r;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.layout()},100),r=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),r.forEach(c=>{"row"===c.type&&this.layoutRow(c)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}calcMargins(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(r){r.forEach(c=>{c.calcs.top&&this.layoutRow(c.calcs.top),c.calcs.bottom&&this.layoutRow(c.calcs.bottom),c.groupList&&c.groupList.length&&this.layoutGroupCalcs(c.groupList&&c.groupList)})}layoutColumnPosition(r){var c=[];this.leftColumns.forEach((h,m)=>{if(h.modules.frozen.margin=this._calcSpace(this.leftColumns,m)+this.table.columnManager.scrollLeft+"px",h.modules.frozen.edge=m==this.leftColumns.length-1,h.parent.isGroup){var C=this.getColGroupParentElement(h);c.includes(C)||(this.layoutElement(C,h),c.push(C)),h.modules.frozen.edge&&C.classList.add("tabulator-frozen-"+h.modules.frozen.position)}else this.layoutElement(h.getElement(),h);r&&h.cells.forEach(D=>{this.layoutElement(D.getElement(!0),h)})}),this.rightColumns.forEach((h,m)=>{h.modules.frozen.margin=this.rightPadding-this._calcSpace(this.rightColumns,m+1)+"px",h.modules.frozen.edge=m==this.rightColumns.length-1,this.layoutElement(h.parent.isGroup?this.getColGroupParentElement(h):h.getElement(),h),r&&h.cells.forEach(C=>{this.layoutElement(C.getElement(!0),h)})})}getColGroupParentElement(r){return r.parent.isGroup?this.getColGroupParentElement(r.parent):r.getElement()}layout(){this.active&&(this.calcMargins(),this.table.rowManager.getDisplayRows().forEach(r=>{"row"===r.type&&this.layoutRow(r)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}layoutRow(r){r.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach(h=>{var m=r.getCell(h);m&&this.layoutElement(m.getElement(!0),h)}),this.rightColumns.forEach(h=>{var m=r.getCell(h);m&&this.layoutElement(m.getElement(!0),h)})}layoutElement(r,c){c.modules.frozen&&(r.style.position="absolute",r.style.left=c.modules.frozen.margin,r.classList.add("tabulator-frozen"),c.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+c.modules.frozen.position))}_calcSpace(r,c){var h=0;for(let m=0;m<c;m++)r[m].visible&&(h+=r[m].getWidth());return h}}return g.moduleName="frozenColumns",g})(),Pf=(()=>{class g extends Kt{constructor(r){super(r),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this))}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10)}isRowFrozen(r){return this.rows.indexOf(r)>-1}isFrozen(){return!!this.rows.length}getRows(r){var c=r.slice(0);return this.rows.forEach(function(h){var m=c.indexOf(h);m>-1&&c.splice(m,1)}),c}freezeRow(r){r.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(r.modules.frozen=!0,this.topElement.appendChild(r.getElement()),r.initialize(),r.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(r),this.refreshData(!1,"display"),this.styleRows())}unfreezeRow(r){this.rows.indexOf(r),r.modules.frozen?(r.modules.frozen=!1,this.detachRow(r),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(r){var c=this.rows.indexOf(r);if(c>-1){var h=r.getElement();h.parentNode&&h.parentNode.removeChild(h),this.rows.splice(c,1)}}styleRows(r){this.rows.forEach((c,h)=>{this.table.rowManager.styleRow(c,h)})}}return g.moduleName="frozenRows",g})();class xg{constructor(d){return this._group=d,this.type="GroupComponent",new Proxy(this,{get:function(r,c,h){return void 0!==r[c]?r[c]:r._group.table.componentFunctionBinder.handle("row",r._group,c)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class ou{constructor(d,r,c,h,m,C,D){this.groupManager=d,this.parent=r,this.key=h,this.level=c,this.field=m,this.hasSubGroups=c<d.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=D,this.rows=[],this.groups=[],this.groupList=[],this.generator=C,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=D?D.visible:void 0!==d.startOpen[c]?d.startOpen[c]:d.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(){this.groupList.length?this.groupList.forEach(function(d){d.wipe()}):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)}createElements(){var d=document.createElement("div");d.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(d),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var d=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[d]&&this.groupManager.allowedValues[d].forEach(r=>{this._createGroup(r,d)})}addBindings(){var d,r,c;(this.groupManager.table.options.groupContextMenu||this.groupManager.table.options.groupClickMenu)&&this.groupManager.table.modExists("menu")&&this.groupManager.table.modules.menu.initializeGroup.call(this.groupManager.table.modules.menu,this),this.groupManager.table.options.groupTap&&(c=!1,this.element.addEventListener("touchstart",m=>{c=!0},{passive:!0}),this.element.addEventListener("touchend",m=>{c&&this.groupManager.table.options.groupTap(m,this.getComponent()),c=!1})),this.groupManager.table.options.groupDblTap&&(d=null,this.element.addEventListener("touchend",m=>{d?(clearTimeout(d),d=null,this.groupManager.table.options.groupDblTap(m,this.getComponent())):d=setTimeout(()=>{clearTimeout(d),d=null},300)})),this.groupManager.table.options.groupTapHold&&(r=null,this.element.addEventListener("touchstart",m=>{clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),r=null,c=!1,this.groupManager.table.options.groupTapHold(m,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",m=>{clearTimeout(r),r=null})),this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",m=>{m.stopPropagation(),m.stopImmediatePropagation(),this.toggleVisibility()})}_createGroup(d,r){var c=r+"_"+d,h=new ou(this.groupManager,this,r,d,this.groupManager.groupIDLookups[r].field,this.groupManager.headerGenerator[r]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[c]);this.groups[c]=h,this.groupList.push(h)}_addRowToGroup(d){var r=this.level+1;if(this.hasSubGroups){var c=this.groupManager.groupIDLookups[r].func(d.getData()),h=r+"_"+c;this.groupManager.allowedValues&&this.groupManager.allowedValues[r]?this.groups[h]&&this.groups[h].addRow(d):(this.groups[h]||this._createGroup(c,r),this.groups[h].addRow(d))}}_addRow(d){this.rows.push(d),d.modules.group=this}insertRow(d,r,c){var h=this.conformRowData({});d.updateData(h);var m=this.rows.indexOf(r);m>-1?this.rows.splice(c?m+1:m,0,d):c?this.rows.push(d):this.rows.unshift(d),d.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(d){this.arrowElement.style.marginLeft=d,this.groupList.forEach(function(r){r.scrollHeader(d)})}getRowIndex(d){}conformRowData(d){return this.field?d[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(d=this.parent.conformRowData(d)),d}removeRow(d){var r=this.rows.indexOf(d),c=d.getElement();r>-1&&this.rows.splice(r,1),this.groupManager.table.options.groupValues||this.rows.length?(c.parentNode&&c.parentNode.removeChild(c),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(d){var c,r=d.level+"_"+d.key;this.groups[r]&&(delete this.groups[r],(c=this.groupList.indexOf(d))>-1&&this.groupList.splice(c,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(d){var r=[];return r.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(c){r=r.concat(c.getHeadersAndRows(d))}):(!d&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),r.push(this.calcs.top)),r=r.concat(this.rows),!d&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),r.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!d&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),r.push(this.calcs.top))),!d&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),r.push(this.calcs.bottom)))),r}getData(d,r){var c=[];return this._visSet(),(!d||d&&this.visible)&&this.rows.forEach(h=>{c.push(h.getData(r||"data"))}),c}getRowCount(){var d=0;return this.groupList.length?this.groupList.forEach(r=>{d+=r.getRowCount()}):d=this.rows.length,d}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(d=>{d.getHeadersAndRows().forEach(c=>{c.detachElement()})}):this.rows.forEach(d=>{var r=d.getElement();r.parentNode.removeChild(r)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var d=this.getElement();this.groupList.length?this.groupList.forEach(r=>{r.getHeadersAndRows().forEach(h=>{var m=h.getElement();d.parentNode.insertBefore(m,d.nextSibling),h.initialize(),d=m})}):this.rows.forEach(r=>{var c=r.getElement();d.parentNode.insertBefore(c,d.nextSibling),r.initialize(),d=c}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var d=[];"function"==typeof this.visible&&(this.rows.forEach(function(r){d.push(r.getData())}),this.visible=this.visible(this.key,this.getRowCount(),d,this.getComponent()))}getRowGroup(d){var r=!1;return this.groupList.length?this.groupList.forEach(function(c){var h=c.getRowGroup(d);h&&(r=h)}):this.rows.find(function(c){return c===d})&&(r=this),r}getSubGroups(d){var r=[];return this.groupList.forEach(function(c){r.push(d?c.getComponent():c)}),r}getRows(d){var r=[];return this.rows.forEach(function(c){r.push(d?c.getComponent():c)}),r}generateGroupHeaderContents(){var d=[];for(this.rows.forEach(function(r){d.push(r.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),d,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(d=[]){return d.unshift(this.key),this.parent&&this.parent.getPath(d),d}getElement(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var d=0;d<this.element.childNodes.length;++d)this.element.childNodes[d].parentNode.removeChild(this.element.childNodes[d]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(d){(!this.initialized||d)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,pn.elVisible(this.element)&&this.initialize(!0)}setHeight(d){this.height!=d&&(this.height=d,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new xg(this)),this.component}}let Rp=(()=>{class g extends Kt{constructor(r){super(r),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0,this.displayHandler=this.getRows.bind(this),this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.table.options.groupBy&&(this.configureGroupSetup(),this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}configureGroupSetup(){if(this.table.options.groupBy){var r=this.table.options.groupBy,c=this.table.options.groupStartOpen,h=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(r)&&Array.isArray(h)&&r.length>h.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(C,D)=>{this.headerGenerator[0]=(x,N,Y)=>(void 0===x?"":x)+"<span>("+N+" "+(1===N?C:D.groups.items)+")</span>"}),this.groupIDLookups=[],Array.isArray(r)||r?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(C=>{C.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),C.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(r)||(r=[r]),r.forEach((C,D)=>{var x,N;x="function"==typeof C?C:(N=this.table.columnManager.getColumnByField(C))?function(Y){return N.getFieldValue(Y)}:function(Y){return Y[C]},this.groupIDLookups.push({field:"function"!=typeof C&&C,func:x,values:!!this.allowedValues&&this.allowedValues[D]})}),c&&(Array.isArray(c)||(c=[c]),c.forEach(C=>{}),this.startOpen=c),h&&(this.headerGenerator=Array.isArray(h)?h:[h])}}rowSample(r,c){var h=this.getGroups(!1)[0];return c.push(h.getRows(!1)[0]),c}virtualRenderFill(){var r=this.table.rowManager.tableElement,c=this.table.rowManager.getVisibleRows();c=c.filter(h=>"group"!==h.type),r.style.minWidth=c.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(r,c,h){this.assignRowToGroup(r);var m=r.modules.group.rows;return m.length>1&&(!c||c&&-1==m.indexOf(c)?h?m[0]!==r&&this.table.rowManager.moveRowInArray(r.modules.group.rows,r,c=m[0],!h):m[m.length-1]!==r&&this.table.rowManager.moveRowInArray(r.modules.group.rows,r,c=m[m.length-1],!h):this.table.rowManager.moveRowInArray(r.modules.group.rows,r,c,!h)),c}trackChanges(){this.dispatch("group-changed")}setGroupBy(r){this.table.options.groupBy=r,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupValues(r){this.table.options.groupValues=r,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(r){this.table.options.groupStartOpen=r,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(r){this.table.options.groupHeader=r,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(r){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(r){return!!r.modules.group&&r.modules.group.getComponent()}rowMoving(r,c,h){!h&&c instanceof ou&&(c=this.table.rowManager.prevDisplayRow(r)||c);var m=c instanceof ou?c:c.modules.group,C=r instanceof ou?r:r.modules.group;m===C?this.table.rowManager.moveRowInArray(m.rows,r,c,h):(C&&C.removeRow(r),m.insertRow(r,c,h))}rowDeleting(r){r.modules.group&&r.modules.group.removeRow(r)}rowsUpdated(r){this.updateGroupRows(!0)}cellUpdated(r){this.reassignRowToGroup(r.row)}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}getRows(r){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(r),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):r.slice(0)}getGroups(r){var c=[];return this.groupList.forEach(function(h){c.push(r?h.getComponent():h)}),c}getChildGroups(r){var c=[];return r||(r=this),r.groupList.forEach(h=>{h.groupList.length?c=c.concat(this.getChildGroups(h)):c.push(h)}),c}wipe(){this.groupList.forEach(function(r){r.wipe()})}pullGroupListData(r){var c=[];return r.forEach(h=>{var m={level:0,rowCount:0,headerContent:""},C=[];h.hasSubGroups?(C=this.pullGroupListData(h.groupList),m.level=h.level,m.rowCount=C.length-h.groupList.length,m.headerContent=h.generator(h.key,m.rowCount,h.rows,h),c.push(m),c=c.concat(C)):(m.level=h.level,m.headerContent=h.generator(h.key,h.rows.length,h.rows,h),m.rowCount=h.getRows().length,c.push(m),h.getRows().forEach(D=>{c.push(D.getData("data"))}))}),c}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(r){var c=!1;return this.groupList.forEach(h=>{var m=h.getRowGroup(r);m&&(c=m)}),c}countGroups(){return this.groupList.length}generateGroups(r){var c=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(h=>{this.createGroup(h,0,c)}),r.forEach(h=>{this.assignRowToExistingGroup(h,c)})):r.forEach(h=>{this.assignRowToGroup(h,c)})}createGroup(r,c,h){var C,m=c+"_"+r;C=new ou(this,!1,c,r,this.groupIDLookups[0].field,this.headerGenerator[0],(h=h||[])[m]),this.groups[m]=C,this.groupList.push(C)}assignRowToExistingGroup(r,c){var m="0_"+this.groupIDLookups[0].func(r.getData());this.groups[m]&&this.groups[m].addRow(r)}assignRowToGroup(r,c){var h=this.groupIDLookups[0].func(r.getData()),m=!this.groups["0_"+h];return m&&this.createGroup(h,0,c),this.groups["0_"+h].addRow(r),!m}reassignRowToGroup(r){if("row"===r.type){var c=r.modules.group,h=c.getPath(),m=this.getExpectedPath(r);h.length==m.length&&h.every((D,x)=>D===m[x])||(c.removeRow(r),this.assignRowToGroup(r,this.groups),this.refreshData(!0))}}getExpectedPath(r){var c=[],h=r.getData();return this.groupIDLookups.forEach(m=>{c.push(m.func(h))}),c}updateGroupRows(r){var c=[];return this.groupList.forEach(h=>{c=c.concat(h.getHeadersAndRows())}),r&&this.refreshData(!0,this.displayHandler),c}scrollHeaders(r){"virtual"===this.table.options.renderHorizontal&&(r-=this.table.columnManager.renderer.vDomPadLeft),r+="px",this.groupList.forEach(c=>{c.scrollHeader(r)})}removeGroup(r){var h,c=r.level+"_"+r.key;this.groups[c]&&(delete this.groups[c],(h=this.groupList.indexOf(r))>-1&&this.groupList.splice(h,1))}}return g.moduleName="groupRows",g})();var Lf={cellEdit:function(g){g.component.setValueProcessData(g.data.oldValue),g.component.cellRendered()},rowAdd:function(g){g.component.deleteActual()},rowDelete:function(g){var d=this.table.rowManager.addRowActual(g.data.data,g.data.pos,g.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(g.component,d)},rowMove:function(g){this.table.rowManager.moveRowActual(g.component,this.table.rowManager.rows[g.data.posFrom],!g.data.after),this.table.rowManager.redraw()}},jh={cellEdit:function(g){g.component.setValueProcessData(g.data.newValue),g.component.cellRendered()},rowAdd:function(g){var d=this.table.rowManager.addRowActual(g.data.data,g.data.pos,g.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(g.component,d)},rowDelete:function(g){g.component.deleteActual()},rowMove:function(g){this.table.rowManager.moveRowActual(g.component,this.table.rowManager.rows[g.data.posTo],g.data.after),this.table.rowManager.redraw()}};let Ig=(()=>{class g extends Kt{constructor(r){super(r),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(r,c,h){this.action("rowMove",r,{posFrom:this.table.rowManager.getRowPosition(r),posTo:this.table.rowManager.getRowPosition(c),to:c,after:h})}rowAdded(r,c,h,m){this.action("rowAdd",r,{data:c,pos:h,index:m})}rowDeleted(r){var c,h;this.table.options.groupBy?(c=(h=r.getComponent().getGroup().rows).indexOf(r))&&(c=h[c-1]):(c=r.table.rowManager.getRowIndex(r))&&(c=r.table.rowManager.rows[c-1]),this.action("rowDelete",r,{data:r.getData(),pos:!c,index:c})}cellUpdated(r){this.action("cellEdit",r,{oldValue:r.oldValue,newValue:r.value})}clear(){this.history=[],this.index=-1}action(r,c,h){this.history=this.history.slice(0,this.index+1),this.history.push({type:r,component:c,data:h}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(r){var c=this.history.findIndex(function(h){return h.component===r});c>-1&&(this.history.splice(c,1),c<=this.index&&this.index--,this.clearComponentHistory(r))}undo(){if(this.index>-1){let r=this.history[this.index];return g.undoers[r.type].call(this,r),this.index--,this.dispatchExternal("historyUndo",r.type,r.component.getComponent(),r.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let r=this.history[this.index];return g.redoers[r.type].call(this,r),this.dispatchExternal("historyRedo",r.type,r.component.getComponent(),r.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(r,c){this.history.forEach(function(h){if(h.component instanceof As)h.component===r&&(h.component=c);else if(h.component instanceof Eo&&h.component.row===r){var m=h.component.column.getField();m&&(h.component=c.getCell(m))}})}}return g.moduleName="history",g.undoers=Lf,g.redoers=jh,g})(),Ag=(()=>{class g extends Kt{constructor(r){super(r),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.parseTable()}parseTable(){var r=this.table.originalElement,c=this.table.options,m=r.getElementsByTagName("th"),C=r.getElementsByTagName("tbody")[0],D=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),C=C?C.getElementsByTagName("tr"):[],this._extractOptions(r,c),m.length?this._extractHeaders(m,C):this._generateBlankHeaders(m,C);for(var x=0;x<C.length;x++){var Y=C[x].getElementsByTagName("td"),le={};this.hasIndex||(le[c.index]=x);for(var De=0;De<Y.length;De++)void 0!==this.fieldIndex[De]&&(le[this.fieldIndex[De]]=Y[De].innerHTML);D.push(le)}c.data=D,this.dispatchExternal("htmlImported")}_extractOptions(r,c,h){var m=r.attributes,C=h?Object.assign([],h):Object.keys(c),D={};for(var x in C.forEach(le=>{D[le.toLowerCase()]=le}),m){var Y,N=m[x];N&&"object"==typeof N&&N.name&&0===N.name.indexOf("tabulator-")&&(Y=N.name.replace("tabulator-",""),void 0!==D[Y]&&(c[D[Y]]=this._attribValue(N.value)))}}_attribValue(r){return"true"===r||"false"!==r&&r}_findCol(r){return this.table.options.columns.find(h=>h.title===r)||!1}_extractHeaders(r,c){for(var h=0;h<r.length;h++){var x,m=r[h],C=!1,D=this._findCol(m.textContent);D?C=!0:D={title:m.textContent.trim()},D.field||(D.field=m.textContent.trim().toLowerCase().replace(" ","_")),(x=m.getAttribute("width"))&&!D.width&&(D.width=x),this._extractOptions(m,D,La.prototype.defaultOptionList),this.fieldIndex[h]=D.field,D.field==this.table.options.index&&(this.hasIndex=!0),C||this.table.options.columns.push(D)}}_generateBlankHeaders(r,c){for(var h=0;h<r.length;h++){var m=r[h],C={title:"",field:"col"+h};this.fieldIndex[h]=C.field;var D=m.getAttribute("width");D&&(C.width=D),this.table.options.columns.push(C)}}}return g.moduleName="htmlTableImport",g})(),Og=(()=>{class g extends Kt{constructor(r){super(r),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(r,c){if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==this){r.preventDefault();try{if(document.selection)(h=document.body.createTextRange()).moveToElementText(this.element),h.select();else if(window.getSelection){var h;(h=document.createRange()).selectNode(this.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(h)}}catch(m){}}}initializeExternalEvents(){for(let r in this.eventMap)this.subscriptionChangeExternal(r,this.subscriptionChanged.bind(this,r))}subscriptionChanged(r,c){c?this.subscribers[r]||(this.eventMap[r].includes("-")?(this.subscribers[r]=this.handle.bind(this,r),this.subscribe(this.eventMap[r],this.subscribers[r])):this.subscribeTouchEvents(r)):this.eventMap[r].includes("-")?this.subscribers[r]&&!this.columnSubscribers[r]&&!this.subscribedExternal(r)&&(this.unsubscribe(this.eventMap[r],this.subscribers[r]),delete this.subscribers[r]):this.unsubscribeTouchEvents(r)}subscribeTouchEvents(r){var c=this.eventMap[r];this.touchSubscribers[c+"-touchstart"]||(this.touchSubscribers[c+"-touchstart"]=this.handleTouch.bind(this,c,"start"),this.touchSubscribers[c+"-touchend"]=this.handleTouch.bind(this,c,"end"),this.subscribe(c+"-touchstart",this.touchSubscribers[c+"-touchstart"]),this.subscribe(c+"-touchend",this.touchSubscribers[c+"-touchend"])),this.subscribers[r]=!0}unsubscribeTouchEvents(r){var c=!0,h=this.eventMap[r];if(this.subscribers[r]&&!this.subscribedExternal(r)){delete this.subscribers[r];for(let m in this.eventMap)this.eventMap[m]===h&&this.subscribers[m]&&(c=!1);c&&(this.unsubscribe(h+"-touchstart",this.touchSubscribers[h+"-touchstart"]),this.unsubscribe(h+"-touchend",this.touchSubscribers[h+"-touchend"]),delete this.touchSubscribers[h+"-touchstart"],delete this.touchSubscribers[h+"-touchend"])}}initializeColumn(r){var c=r.definition;for(let h in this.eventMap)c[h]&&(this.subscriptionChanged(h,!0),this.columnSubscribers[h]||(this.columnSubscribers[h]=[]),this.columnSubscribers[h].push(r))}handle(r,c,h){this.dispatchEvent(r,c,h)}handleTouch(r,c,h,m){var C=this.touchWatchers[r];switch("column"===r&&(r="header"),c){case"start":C.tap=!0,clearTimeout(C.tapHold),C.tapHold=setTimeout(()=>{clearTimeout(C.tapHold),C.tapHold=null,C.tap=null,clearTimeout(C.tapDbl),C.tapDbl=null,this.dispatchEvent(r+"TapHold",h,m)},1e3);break;case"end":C.tap&&(C.tap=null,this.dispatchEvent(r+"Tap",h,m)),C.tapDbl?(clearTimeout(C.tapDbl),C.tapDbl=null,this.dispatchEvent(r+"DblTap",h,m)):C.tapDbl=setTimeout(()=>{clearTimeout(C.tapDbl),C.tapDbl=null},300),clearTimeout(C.tapHold),C.tapHold=null}}dispatchEvent(r,c,h){var C,m=h.getComponent();this.columnSubscribers[r]&&(h instanceof Eo?C=h.column.definition[r]:h instanceof La&&(C=h.definition[r]),C&&C(c,m)),this.dispatchExternal(r,c,m)}}return g.moduleName="interaction",g})();var kg={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},Pg={keyBlock:function(g){g.stopPropagation(),g.preventDefault()},scrollPageUp:function(g){var d=this.table.rowManager,r=d.scrollTop-d.element.clientHeight;g.preventDefault(),d.displayRowsCount&&(r>=0?d.element.scrollTop=r:d.scrollToRow(d.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(g){var d=this.table.rowManager,r=d.scrollTop+d.element.clientHeight,c=d.element.scrollHeight;g.preventDefault(),d.displayRowsCount&&(r<=c?d.element.scrollTop=r:d.scrollToRow(d.getDisplayRows()[d.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(g){var d=this.table.rowManager;g.preventDefault(),d.displayRowsCount&&d.scrollToRow(d.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(g){var d=this.table.rowManager;g.preventDefault(),d.displayRowsCount&&d.scrollToRow(d.getDisplayRows()[d.displayRowsCount-1]),this.table.element.focus()},navPrev:function(g){this.dispatch("keybinding-nav-prev",g)},navNext:function(g){this.dispatch("keybinding-nav-next",g)},navLeft:function(g){this.dispatch("keybinding-nav-left",g)},navRight:function(g){this.dispatch("keybinding-nav-right",g)},navUp:function(g){this.dispatch("keybinding-nav-up",g)},navDown:function(g){this.dispatch("keybinding-nav-down",g)},undo:function(g){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(g.preventDefault(),this.table.modules.history.undo()))},redo:function(g){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(g.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(g){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};let Lg=(()=>{class g extends Kt{constructor(r){super(r),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",[]),this.registerTableOption("tabEndNewRow",!1)}initialize(){var r=this.table.options.keybindings,c={};if(this.watchKeys={},this.pressedKeys=[],!1!==r){for(let h in g.bindings)c[h]=g.bindings[h];if(Object.keys(r).length)for(let h in r)c[h]=r[h];this.mapBindings(c),this.bindEvents()}this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(r){for(let c in r)g.actions[c]?r[c]&&("object"!=typeof r[c]&&(r[c]=[r[c]]),r[c].forEach(h=>{this.mapBinding(c,h)})):console.warn("Key Binding Error - no such action:",c)}mapBinding(r,c){var h={action:g.actions[r],keys:[],ctrl:!1,shift:!1,meta:!1};c.toString().toLowerCase().split(" ").join("").split("+").forEach(C=>{switch(C){case"ctrl":h.ctrl=!0;break;case"shift":h.shift=!0;break;case"meta":h.meta=!0;break;default:C=parseInt(C),h.keys.push(C),this.watchKeys[C]||(this.watchKeys[C]=[]),this.watchKeys[C].push(h)}})}bindEvents(){var r=this;this.keyupBinding=function(c){var h=c.keyCode,m=r.watchKeys[h];m&&(r.pressedKeys.push(h),m.forEach(function(C){r.checkBinding(c,C)}))},this.keydownBinding=function(c){var h=c.keyCode;if(r.watchKeys[h]){var C=r.pressedKeys.indexOf(h);C>-1&&r.pressedKeys.splice(C,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(r,c){var h=!0;return r.ctrlKey==c.ctrl&&r.shiftKey==c.shift&&r.metaKey==c.meta&&(c.keys.forEach(m=>{-1==this.pressedKeys.indexOf(m)&&(h=!1)}),h&&c.action.call(this,r),!0)}}return g.moduleName="keybindings",g.bindings=kg,g.actions=Pg,g})(),Ng=(()=>{class g extends Kt{constructor(r){super(r),this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1,this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu")}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this))}layoutCell(r){(r.column.definition.contextMenu||r.column.definition.clickMenu)&&this.initializeCell(r)}initializeColumn(r){var c=r.definition;(c.headerContextMenu||c.headerClickMenu||c.headerMenu)&&this.initializeColumnHeader(r)}initializeColumnHeader(r){var c;r.definition.headerContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,r.definition.headerContextMenu)),this.tapHold(r,r.definition.headerContextMenu)),r.definition.headerMenu&&((c=document.createElement("span")).classList.add("tabulator-header-menu-button"),c.innerHTML="&vellip;",c.addEventListener("click",h=>{h.stopPropagation(),h.preventDefault(),this.LoadMenuEvent(r,r.definition.headerMenu,h)}),r.titleElement.insertBefore(c,r.titleElement.firstChild))}LoadMenuEvent(r,c,h){c="function"==typeof c?c.call(this.table,r.getComponent(),h):c,this.loadMenu(h,r,c)}tapHold(r,c){var h=r.getElement(),m=null,C=!1;h.addEventListener("touchstart",D=>{clearTimeout(m),C=!1,m=setTimeout(()=>{clearTimeout(m),m=null,C=!0,this.LoadMenuEvent(r,c,D)},1e3)},{passive:!0}),h.addEventListener("touchend",D=>{clearTimeout(m),m=null,C&&D.preventDefault()})}initializeCell(r){r.column.definition.contextMenu&&(r.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,r.column.definition.contextMenu)),this.tapHold(r,r.column.definition.contextMenu)),r.column.definition.clickMenu&&r.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,r,r.column.definition.clickMenu))}initializeRow(r){this.table.options.rowContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,this.table.options.rowContextMenu)),this.tapHold(r,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&r.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,r,this.table.options.rowClickMenu))}initializeGroup(r){this.table.options.groupContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,this.table.options.groupContextMenu)),this.tapHold(r,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&r.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,r,this.table.options.groupClickMenu))}loadMenu(r,c,h,m){var C=!(r instanceof MouseEvent),D=document.createElement("div");if(D.classList.add("tabulator-menu"),C||r.preventDefault(),h&&h.length){if(!m){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.hideMenu(),this.menuElements=[]}h.forEach(x=>{var N=document.createElement("div"),Y=x.label,le=x.disabled;x.separator?N.classList.add("tabulator-menu-separator"):(N.classList.add("tabulator-menu-item"),"function"==typeof Y&&(Y=Y.call(this.table,c.getComponent())),Y instanceof Node?N.appendChild(Y):N.innerHTML=Y,"function"==typeof le&&(le=le.call(this.table,c.getComponent())),le?(N.classList.add("tabulator-menu-item-disabled"),N.addEventListener("click",De=>{De.stopPropagation()})):x.menu&&x.menu.length?N.addEventListener("click",De=>{De.stopPropagation(),this.hideOldSubMenus(D),this.loadMenu(De,c,x.menu,N)}):x.action&&N.addEventListener("click",De=>{x.action(De,c.getComponent())}),x.menu&&x.menu.length&&N.classList.add("tabulator-menu-item-submenu")),D.appendChild(N)}),D.addEventListener("click",x=>{this.hideMenu()}),this.menuElements.push(D),this.positionMenu(D,m,C,r)}}hideOldSubMenus(r){var c=this.menuElements.indexOf(r);if(c>-1)for(let m=this.menuElements.length-1;m>c;m--){var h=this.menuElements[m];h.parentNode&&h.parentNode.removeChild(h),this.menuElements.pop()}}positionMenu(r,c,h,m){var D,x,N,C=Math.max(document.body.offsetHeight,window.innerHeight);c?(D=(N=pn.elOffset(c)).left+c.offsetWidth,x=N.top-1):(D=h?m.touches[0].pageX:m.pageX,x=h?m.touches[0].pageY:m.pageY,this.positionReversedX=!1),r.style.top=x+"px",r.style.left=D+"px",setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent)},100),document.body.appendChild(r),x+r.offsetHeight>=C&&(r.style.top="",r.style.bottom=c?C-N.top-c.offsetHeight-1+"px":C-x+"px"),(D+r.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(r.style.left="",r.style.right=c?document.documentElement.offsetWidth-N.left+"px":document.documentElement.offsetWidth-D+"px",this.positionReversedX=!0)}isOpen(){return!!this.menuElements.length}escMenu(r){27==r.keyCode&&this.hideMenu()}hideMenu(){this.menuElements.forEach(r=>{r.parentNode&&r.parentNode.removeChild(r)}),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)}}return g.moduleName="menu",g})(),Nf=(()=>{class g extends Kt{constructor(r){super(r),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var r=document.createElement("div");return r.classList.add("tabulator-col"),r.classList.add("tabulator-col-placeholder"),r}initialize(){this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(r){var m,c=this,h={};r.modules.frozen||(m=r.getElement(),h.mousemove=function(C){r.parent===c.moving.parent&&((c.touchMove?C.touches[0].pageX:C.pageX)-pn.elOffset(m).left+c.table.columnManager.element.scrollLeft>r.getWidth()/2?(c.toCol!==r||!c.toColAfter)&&(m.parentNode.insertBefore(c.placeholderElement,m.nextSibling),c.moveColumn(r,!0)):(c.toCol!==r||c.toColAfter)&&(m.parentNode.insertBefore(c.placeholderElement,m),c.moveColumn(r,!1)))}.bind(c),m.addEventListener("mousedown",function(C){c.touchMove=!1,1===C.which&&(c.checkTimeout=setTimeout(function(){c.startMove(C,r)},c.checkPeriod))}),m.addEventListener("mouseup",function(C){1===C.which&&c.checkTimeout&&clearTimeout(c.checkTimeout)}),c.bindTouchEvents(r)),r.modules.moveColumn=h}bindTouchEvents(r){var m,C,D,x,N,Y,c=r.getElement(),h=!1;c.addEventListener("touchstart",le=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,m=r.nextColumn(),D=m?m.getWidth()/2:0,C=r.prevColumn(),x=C?C.getWidth()/2:0,N=0,Y=0,h=!1,this.startMove(le,r)},this.checkPeriod)},{passive:!0}),c.addEventListener("touchmove",le=>{var De,Ve;this.moving&&(this.moveHover(le),h||(h=le.touches[0].pageX),(De=le.touches[0].pageX-h)>0?m&&De-N>D&&(Ve=m)!==r&&(h=le.touches[0].pageX,Ve.getElement().parentNode.insertBefore(this.placeholderElement,Ve.getElement().nextSibling),this.moveColumn(Ve,!0)):C&&-De-Y>x&&(Ve=C)!==r&&(h=le.touches[0].pageX,Ve.getElement().parentNode.insertBefore(this.placeholderElement,Ve.getElement()),this.moveColumn(Ve,!1)),Ve&&(m=Ve.nextColumn(),N=D,D=m?m.getWidth()/2:0,C=Ve.prevColumn(),Y=x,x=C?C.getWidth()/2:0))},{passive:!0}),c.addEventListener("touchend",le=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(le)})}startMove(r,c){var h=c.getElement(),m=this.table.columnManager.getElement(),C=this.table.columnManager.getHeadersElement();this.moving=c,this.startX=(this.touchMove?r.touches[0].pageX:r.pageX)-pn.elOffset(h).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=c.getWidth()+"px",this.placeholderElement.style.height=c.getHeight()+"px",h.parentNode.insertBefore(this.placeholderElement,h),h.parentNode.removeChild(h),this.hoverElement=h.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=m.clientHeight-C.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(r)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(r){r.modules.moveColumn.mousemove&&r.getElement().addEventListener("mousemove",r.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(r){r.modules.moveColumn.mousemove&&r.getElement().removeEventListener("mousemove",r.modules.moveColumn.mousemove)})}moveColumn(r,c){var h=this.moving.getCells();this.toCol=r,this.toColAfter=c,c?r.getCells().forEach(function(m,C){var D=m.getElement(!0);D.parentNode&&h[C]&&D.parentNode.insertBefore(h[C].getElement(),D.nextSibling)}):r.getCells().forEach(function(m,C){var D=m.getElement(!0);D.parentNode&&h[C]&&D.parentNode.insertBefore(h[C].getElement(),D)})}endMove(r){(1===r.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(r){var C,c=this.table.columnManager.getElement(),h=c.scrollLeft,m=(this.touchMove?r.touches[0].pageX:r.pageX)-pn.elOffset(c).left+h;this.hoverElement.style.left=m-this.startX+"px",m-h<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{C=Math.max(0,h-5),this.table.rowManager.getElement().scrollLeft=C,this.autoScrollTimeout=!1},1))),h+c.clientWidth-m<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{C=Math.min(c.clientWidth,h+5),this.table.rowManager.getElement().scrollLeft=C,this.autoScrollTimeout=!1},1)))}}return g.moduleName="moveColumn",g})();class zh extends Kt{constructor(d){super(d),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var d=document.createElement("div");return d.classList.add("tabulator-row"),d.classList.add("tabulator-row-placeholder"),d}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(d){var r=this,c={};c.mouseup=function(h){r.tableRowDrop(h,row)}.bind(r),c.mousemove=function(h){if(h.pageY-pn.elOffset(d.element).top+r.table.rowManager.element.scrollTop>d.getHeight()/2)r.toRow===d&&r.toRowAfter||((m=d.getElement()).parentNode.insertBefore(r.placeholderElement,m.nextSibling),r.moveRow(d,!0));else if(r.toRow!==d||r.toRowAfter){var m;(m=d.getElement()).previousSibling&&(m.parentNode.insertBefore(r.placeholderElement,m),r.moveRow(d,!1))}}.bind(r),d.modules.moveRow=c}initializeRow(d){var h,r=this,c={};c.mouseup=function(m){r.tableRowDrop(m,d)}.bind(r),c.mousemove=function(m){var C=d.getElement();m.pageY-pn.elOffset(C).top+r.table.rowManager.element.scrollTop>d.getHeight()/2?(r.toRow!==d||!r.toRowAfter)&&(C.parentNode.insertBefore(r.placeholderElement,C.nextSibling),r.moveRow(d,!0)):(r.toRow!==d||r.toRowAfter)&&(C.parentNode.insertBefore(r.placeholderElement,C),r.moveRow(d,!1))}.bind(r),this.hasHandle||((h=d.getElement()).addEventListener("mousedown",function(m){1===m.which&&(r.checkTimeout=setTimeout(function(){r.startMove(m,d)},r.checkPeriod))}),h.addEventListener("mouseup",function(m){1===m.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),this.bindTouchEvents(d,d.getElement())),d.modules.moveRow=c}initializeColumn(d){d.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(d){if(d.column.definition.rowHandle&&!1!==this.table.options.movableRows){var r=this,c=d.getElement(!0);c.addEventListener("mousedown",function(h){1===h.which&&(r.checkTimeout=setTimeout(function(){r.startMove(h,d.row)},r.checkPeriod))}),c.addEventListener("mouseup",function(h){1===h.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),this.bindTouchEvents(d.row,c)}}bindTouchEvents(d,r){var h,m,C,D,x,N,c=!1;r.addEventListener("touchstart",Y=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,h=d.nextRow(),C=h?h.getHeight()/2:0,m=d.prevRow(),D=m?m.getHeight()/2:0,x=0,N=0,c=!1,this.startMove(Y,d)},this.checkPeriod)},{passive:!0}),r.addEventListener("touchmove",Y=>{var le,De;this.moving&&(Y.preventDefault(),this.moveHover(Y),c||(c=Y.touches[0].pageY),(le=Y.touches[0].pageY-c)>0?h&&le-x>C&&(De=h)!==d&&(c=Y.touches[0].pageY,De.getElement().parentNode.insertBefore(this.placeholderElement,De.getElement().nextSibling),this.moveRow(De,!0)):m&&-le-N>D&&(De=m)!==d&&(c=Y.touches[0].pageY,De.getElement().parentNode.insertBefore(this.placeholderElement,De.getElement()),this.moveRow(De,!1)),De&&(h=De.nextRow(),x=C,C=h?h.getHeight()/2:0,m=De.prevRow(),N=D,D=m?m.getHeight()/2:0))}),r.addEventListener("touchend",Y=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(Y),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(d=>{("row"===d.type||"group"===d.type)&&d.modules.moveRow&&d.modules.moveRow.mousemove&&d.getElement().addEventListener("mousemove",d.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(d=>{("row"===d.type||"group"===d.type)&&d.modules.moveRow&&d.modules.moveRow.mousemove&&d.getElement().removeEventListener("mousemove",d.modules.moveRow.mousemove)})}startMove(d,r){var c=r.getElement();this.setStartPosition(d,r),this.moving=r,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=r.getWidth()+"px",this.placeholderElement.style.height=r.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(r)):(c.parentNode.insertBefore(this.placeholderElement,c),c.parentNode.removeChild(c)),this.hoverElement=c.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(d)}setStartPosition(d,r){var m,C,c=this.touchMove?d.touches[0].pageX:d.pageX,h=this.touchMove?d.touches[0].pageY:d.pageY;m=r.getElement(),this.connection?(C=m.getBoundingClientRect(),this.startX=C.left-c+window.pageXOffset,this.startY=C.top-h+window.pageYOffset):this.startY=h-m.getBoundingClientRect().top}endMove(d){(!d||1===d.which||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(d,r){this.toRow=d,this.toRowAfter=r}moveHover(d){this.connection?this.moveHoverConnections.call(this,d):this.moveHoverTable.call(this,d)}moveHoverTable(d){var r=this.table.rowManager.getElement(),c=r.scrollTop,h=(this.touchMove?d.touches[0].pageY:d.pageY)-r.getBoundingClientRect().top+c;this.hoverElement.style.top=h-this.startY+"px"}moveHoverConnections(d){this.hoverElement.style.left=this.startX+(this.touchMove?d.touches[0].pageX:d.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?d.touches[0].pageY:d.pageY)+"px"}elementRowDrop(d,r,c){this.dispatchExternal("movableRowsElementDrop",d,r,!!c&&c.getComponent())}connectToTables(d){var r;this.connectionSelectorsTables&&(r=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",r),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:d})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(c=>{"string"==typeof c?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(c))):this.connectionElements.push(c)}),this.connectionElements.forEach(c=>{var h=m=>{this.elementRowDrop(m,c,this.moving)};c.addEventListener("mouseup",h),c.tabulatorElementDropEvent=h,c.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var d;this.connectionSelectorsTables&&(d=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",d),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(r=>{r.classList.remove("tabulator-movingrow-receiving"),r.removeEventListener("mouseup",r.tabulatorElementDropEvent),delete r.tabulatorElementDropEvent})}connect(d,r){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=d,this.connectedRow=r,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(c=>{"row"===c.type&&c.modules.moveRow&&c.modules.moveRow.mouseup&&c.getElement().addEventListener("mouseup",c.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",r,d),!0)}disconnect(d){d===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(r=>{"row"===r.type&&r.modules.moveRow&&r.modules.moveRow.mouseup&&r.getElement().removeEventListener("mouseup",r.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",d)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(d,r,c){var h=!1;if(c){switch(typeof this.table.options.movableRowsSender){case"string":h=this.senders[this.table.options.movableRowsSender];break;case"function":h=this.table.options.movableRowsSender}h?h.call(this,this.moving.getComponent(),r?r.getComponent():void 0,d):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),r?r.getComponent():void 0,d)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),r?r.getComponent():void 0,d);this.endMove()}tableRowDrop(d,r){var c=!1,h=!1;switch(d.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":c=this.receivers[this.table.options.movableRowsReceiver];break;case"function":c=this.table.options.movableRowsReceiver}c?h=c.call(this,this.connectedRow.getComponent(),r?r.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),this.dispatchExternal(h?"movableRowsReceived":"movableRowsReceivedFailed",this.connectedRow.getComponent(),r?r.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:r,success:h})}commsReceived(d,r,c){switch(r){case"connect":return this.connect(d,c.row);case"disconnect":return this.disconnect(d);case"dropcomplete":return this.dropComplete(d,c.row,c.success)}}}zh.prototype.receivers={insert:function(g,d,r){return this.table.addRow(g.getData(),void 0,d),!0},add:function(g,d,r){return this.table.addRow(g.getData()),!0},update:function(g,d,r){return!!d&&(d.update(g.getData()),!0)},replace:function(g,d,r){return!!d&&(this.table.addRow(g.getData(),void 0,d),d.delete(),!0)}},zh.prototype.senders={delete:function(g,d,r){g.delete()}},zh.moduleName="moveRow";var Fg={};let Bg=(()=>{class g extends Kt{constructor(r){super(r),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(r,c,h){return this.transformRow(c,"data",h)}initializeColumn(r){var c=!1,h={};this.allowedTypes.forEach(m=>{var D,C="mutator"+(m.charAt(0).toUpperCase()+m.slice(1));r.definition[C]&&(D=this.lookupMutator(r.definition[C]))&&(c=!0,h[C]={mutator:D,params:r.definition[C+"Params"]||{}})}),c&&(r.modules.mutate=h)}lookupMutator(r){var c=!1;switch(typeof r){case"string":g.mutators[r]?c=g.mutators[r]:console.warn("Mutator Error - No such mutator found, ignoring: ",r);break;case"function":c=r}return c}transformRow(r,c,h){var C,m="mutator"+(c.charAt(0).toUpperCase()+c.slice(1));return this.enabled&&this.table.columnManager.traverse(D=>{var x,N,Y;D.modules.mutate&&(x=D.modules.mutate[m]||D.modules.mutate.mutator||!1)&&(C=D.getFieldValue(void 0!==h?h:r),("data"==c||void 0!==C)&&(Y=D.getComponent(),N="function"==typeof x.params?x.params(C,r,c,Y):x.params,D.setFieldValue(r,x.mutator(C,r,c,N,Y))))}),r}transformCell(r,c){if(r.column.modules.mutate){var h=r.column.modules.mutate.mutatorEdit||r.column.modules.mutate.mutator||!1,m={};if(h)return m=Object.assign(m,r.row.getData()),r.column.setFieldValue(m,c),h.mutator(c,m,"edit",h.params,r.getComponent())}return c}enable(){this.enabled=!0}disable(){this.enabled=!1}}return g.moduleName="mutator",g.mutators=Fg,g})(),Oc=(()=>{class g extends Kt{constructor(r){super(r),this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(r,c){var C,h=this.table.rowManager,m=h.getDisplayRows();return c?m.length?C=m[0]:h.activeRows.length&&(C=h.activeRows[h.activeRows.length-1],c=!1):m.length&&(C=m[m.length-1],c=!(m.length<this.size)),{index:C,top:c}}calculatePageSizes(){var r,c;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((r=document.createElement("div")).classList.add("tabulator-row"),r.style.visibility="hidden",(c=document.createElement("div")).classList.add("tabulator-cell"),c.innerHTML="Page Row Test",r.appendChild(c),this.table.rowManager.getTableElement().appendChild(r),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/r.offsetHeight),this.table.rowManager.getTableElement().removeChild(r)),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(r,c,h,m){return this.initialLoad||(this.progressiveLoad&&!h||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),m.page=this.page,this.size&&(m.size=this.size),m}userSetPageToRow(r){return this.table.options.pagination&&(r=this.rowManager.findRow(r))?this.setPageToRow(r):Promise.reject()}userSetPageSize(r){return!!this.table.options.pagination&&(this.setPageSize(r),this.setPage(1))}scrollVertical(r,c){var h;!c&&!this.table.dataLoader.loading&&(h=this.table.rowManager.getElement()).scrollHeight-h.clientHeight-r<(this.table.options.progressiveLoadScrollMargin||2*h.clientHeight)&&this.nextPage()}restOnRenderBefore(r,c){return c||"local"===this.mode&&this.reset(),r}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var r;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(r=document.createElement("button")).classList.add("tabulator-page"),r.setAttribute("type","button"),r.setAttribute("role","button"),r.setAttribute("aria-label",""),r.setAttribute("title",""),this.firstBut=r.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=r.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=r.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=r.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var r=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=r=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&r.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){r=[];for(let c=1;c<5;c++)r.push(this.size*c);this.pageSizes=r}else r=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);r.forEach(c=>{var h=document.createElement("option");h.value=c,!0===c?this.langBind("pagination|all",function(m){h.innerHTML=m}):h.innerHTML=c,this.pageSizeSelect.appendChild(h)}),this.pageSizeSelect.value=this.size}}initializePaginator(r){var c;r||(this.langBind("pagination|first",h=>{this.firstBut.innerHTML=h}),this.langBind("pagination|first_title",h=>{this.firstBut.setAttribute("aria-label",h),this.firstBut.setAttribute("title",h)}),this.langBind("pagination|prev",h=>{this.prevBut.innerHTML=h}),this.langBind("pagination|prev_title",h=>{this.prevBut.setAttribute("aria-label",h),this.prevBut.setAttribute("title",h)}),this.langBind("pagination|next",h=>{this.nextBut.innerHTML=h}),this.langBind("pagination|next_title",h=>{this.nextBut.setAttribute("aria-label",h),this.nextBut.setAttribute("title",h)}),this.langBind("pagination|last",h=>{this.lastBut.innerHTML=h}),this.langBind("pagination|last_title",h=>{this.lastBut.setAttribute("aria-label",h),this.lastBut.setAttribute("title",h)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(c=document.createElement("label"),this.langBind("pagination|page_size",h=>{this.pageSizeSelect.setAttribute("aria-label",h),this.pageSizeSelect.setAttribute("title",h),c.innerHTML=h}),this.element.appendChild(c),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",h=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),!this.table.options.paginationElement&&!r&&this.table.footerManager.append(this.element,this),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(r){this.initializePaginator(!0),this.mode="progressive_"+r,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}setMaxRows(r){this.max=r?!0===this.size?1:Math.ceil(r/this.size):1,this.page>this.max&&(this.page=this.max)}reset(r){this.initialLoad||("local"==this.mode||r)&&(this.page=1)}setMaxPage(r){r=parseInt(r),this.max=r||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(r){switch(r){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(r=parseInt(r))>0&&r<=this.max||"local"!==this.mode?(this.page=r,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",r),Promise.reject())}setPageToRow(r){var h=this.table.rowManager.getDisplayRows(this.displayIndex-1).indexOf(r);if(h>-1){var m=!0===this.size?1:Math.ceil((h+1)/this.size);return this.setPage(m)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(r){!0!==r&&(r=parseInt(r)),r>0&&(this.size=r),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageButtons(){let r=Math.floor((this.count-1)/2),c=Math.ceil((this.count-1)/2),h=this.max-this.page+r+1<this.count?this.max-this.count+1:Math.max(this.page-r,1),m=this.page<=c?Math.min(this.count,this.max):Math.min(this.page+c,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let C=h;C<=m;C++)C>0&&C<=this.max&&this.pagesElement.appendChild(this._generatePageButton(C));this.footerRedraw()}_generatePageButton(r){var c=document.createElement("button");return c.classList.add("tabulator-page"),r==this.page&&c.classList.add("active"),c.setAttribute("type","button"),c.setAttribute("role","button"),this.langBind("pagination|page_title",h=>{c.setAttribute("aria-label",h+" "+r),c.setAttribute("title",h+" "+r)}),c.setAttribute("data-page",r),c.textContent=r,c.addEventListener("click",h=>{this.setPage(r)}),c}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(r){return this.size}getMode(){return this.mode}getRows(r){var c,h,m;if("local"==this.mode){c=[],this.setMaxRows(r.length),!0===this.size?(h=0,m=r.length):m=(h=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let C=h;C<m;C++)r[C]&&c.push(r[C]);return c}return this._setPageButtons(),r.slice(0)}trigger(){var r;switch(this.mode){case"local":return r=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(r),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(r){if(void 0===r.last_page&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),r.data){if(this.max=parseInt(r.last_page)||1,this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(r.data,!1,1==this.page):this.table.rowManager.addRows(r.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":r=this.table.rowManager.getData().concat(r.data),this.table.rowManager.setData(r,1!==this.page,1==this.page),this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+(this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&setTimeout(()=>{this.nextPage()})}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property");return r.data}footerRedraw(){var r=this.table.footerManager.element;Math.ceil(r.clientWidth)-r.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(r.clientWidth)-r.scrollWidth<0&&(this.pagesElement.style.display="none"))}}return g.moduleName="page",g})();var Yh={local:function(g,d){var r=localStorage.getItem(g+"-"+d);return!!r&&JSON.parse(r)},cookie:function(g,d){var m,C,r=document.cookie,c=g+"-"+d,h=r.indexOf(c+"=");return h>-1&&((m=(r=r.substr(h)).indexOf(";"))>-1&&(r=r.substr(0,m)),C=r.replace(c+"=","")),!!C&&JSON.parse(C)}},Hg={local:function(g,d,r){localStorage.setItem(g+"-"+d,JSON.stringify(r))},cookie:function(g,d,r){var c=new Date;c.setDate(c.getDate()+1e4),document.cookie=g+"-"+d+"="+JSON.stringify(r)+"; expires="+c.toUTCString()}};let Ff=(()=>{class g extends Kt{constructor(r){super(r),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var r="_tabulator_test";try{return window.localStorage.setItem(r,r),window.localStorage.removeItem(r),!0}catch(c){return!1}}initialize(){if(this.table.options.persistence){var h,r=this.table.options.persistenceMode,c=this.table.options.persistenceID;this.mode=!0!==r?r:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:g.readers[this.table.options.persistenceReaderFunc]?this.readFunc=g.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):g.readers[this.mode]?this.readFunc=g.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:g.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=g.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):g.writers[this.mode]?this.writeFunc=g.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(c||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(h=this.retreiveData("page"))&&(void 0!==h.paginationSize&&(!0===this.config.page||this.config.page.size)&&(this.table.options.paginationSize=h.paginationSize),void 0!==h.paginationInitialPage&&(!0===this.config.page||this.config.page.page)&&(this.table.options.paginationInitialPage=h.paginationInitialPage)),this.config.group&&(h=this.retreiveData("group"))&&(void 0!==h.groupBy&&(!0===this.config.group||this.config.group.groupBy)&&(this.table.options.groupBy=h.groupBy),void 0!==h.groupStartOpen&&(!0===this.config.group||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=h.groupStartOpen),void 0!==h.groupHeader&&(!0===this.config.group||this.config.group.groupHeader)&&(this.table.options.groupHeader=h.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns")),this.subscribe("table-built",this.tableBuilt.bind(this),0)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(r){this.config[r]&&this.save(r)}tableBuilt(){var c,h;this.config.sort&&(c=this.load("sort"))&&(this.table.initialSort=c),this.config.filter&&(h=this.load("filter"))&&(this.table.initialFilter=h)}tableRedraw(r){r&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(r){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,r)),!0}initializeColumn(r){var c;this.config.columns&&(this.defWatcherBlock=!0,c=r.getDefinition(),(!0===this.config.columns?Object.keys(c):this.config.columns).forEach(m=>{var C=Object.getOwnPropertyDescriptor(c,m),D=c[m];C&&Object.defineProperty(c,m,{set:function(x){D=x,this.defWatcherBlock||this.save("columns"),C.set&&C.set(x)},get:function(){return C.get&&C.get(),D}})}),this.defWatcherBlock=!1)}load(r,c){var h=this.retreiveData(r);return c&&(h=h?this.mergeDefinition(c,h):c),h}retreiveData(r){return!!this.readFunc&&this.readFunc(this.id,r)}mergeDefinition(r,c){var h=[];return(c=c||[]).forEach((m,C)=>{var x,D=this._findColumn(r,m);D&&(!0===this.config.columns||null==this.config.columns?(x=Object.keys(D)).push("width"):x=this.config.columns,x.forEach(N=>{"columns"!==N&&void 0!==m[N]&&(D[N]=m[N])}),D.columns&&(D.columns=this.mergeDefinition(D.columns,m.columns)),h.push(D))}),r.forEach((m,C)=>{this._findColumn(c,m)||(h.length>C?h.splice(C,0,m):h.push(m))}),h}_findColumn(r,c){var h=c.columns?"group":c.field?"field":"object";return r.find(function(m){switch(h){case"group":return m.title===c.title&&m.columns.length===c.columns.length;case"field":return m.field===c.field;case"object":return m===c}})}save(r){var c={};switch(r){case"columns":c=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":c=this.table.modules.filter.getFilters();break;case"sort":c=this.validateSorters(this.table.modules.sort.getSort());break;case"group":c=this.getGroupConfig();break;case"page":c=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,r,c)}validateSorters(r){return r.forEach(function(c){c.column=c.field,delete c.field}),r}getGroupConfig(){var r={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(r.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(r.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(r.groupHeader=this.table.options.groupHeader)),r}getPageConfig(){var r={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(r.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(r.paginationInitialPage=this.table.modules.page.getPage())),r}parseColumns(r){var c=[],h=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return r.forEach(m=>{var x,C={},D=m.getDefinition();m.isGroup?(C.title=D.title,C.columns=this.parseColumns(m.getColumns())):(C.field=m.getField(),!0===this.config.columns||null==this.config.columns?(x=Object.keys(D)).push("width"):x=this.config.columns,x.forEach(N=>{switch(N){case"width":C.width=m.getWidth();break;case"visible":C.visible=m.visible;break;default:"function"!=typeof D[N]&&-1===h.indexOf(N)&&(C[N]=D[N])}})),c.push(C)}),c}}return g.moduleName="persistence",g.readers=Yh,g.writers=Hg,g})(),xp=(()=>{class g extends Kt{constructor(r){super(r),this.element=!1,this.manualBlock=!1,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(r,c,h){var Y,le,m=window.scrollX,C=window.scrollY,D=document.createElement("div"),x=document.createElement("div"),N=this.table.modules.export.genereateTable(void 0!==h?h:this.table.options.printConfig,void 0!==c?c:this.table.options.printStyled,r||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(D.classList.add("tabulator-print-header"),"string"==typeof(Y="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?D.innerHTML=Y:D.appendChild(Y),this.element.appendChild(D)),this.element.appendChild(N),this.table.options.printFooter&&(x.classList.add("tabulator-print-footer"),"string"==typeof(le="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?x.innerHTML=le:x.appendChild(le),this.element.appendChild(x)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,N),window.print(),this.cleanup(),window.scrollTo(m,C),this.manualBlock=!1}}return g.moduleName="print",g})(),Bf=(()=>{class g extends Kt{constructor(r){super(r),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this)),this.subscribe("cell-value-save-after",this.unblock.bind(this)),this.subscribe("row-data-save-before",this.block.bind(this)),this.subscribe("row-data-save-after",this.unblock.bind(this)),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(r){var h,c=this;this.currentVersion++,h=this.currentVersion,this.unwatchData(),this.data=r,this.origFuncs.push=r.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var m=Array.from(arguments);return!c.blocked&&h===c.currentVersion&&m.forEach(C=>{c.table.rowManager.addRowActual(C,!1)}),c.origFuncs.push.apply(r,arguments)}}),this.origFuncs.unshift=r.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var m=Array.from(arguments);return!c.blocked&&h===c.currentVersion&&m.forEach(C=>{c.table.rowManager.addRowActual(C,!0)}),c.origFuncs.unshift.apply(r,arguments)}}),this.origFuncs.shift=r.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var m;return!c.blocked&&h===c.currentVersion&&c.data.length&&(m=c.table.rowManager.getRowFromDataObject(c.data[0]))&&m.deleteActual(),c.origFuncs.shift.call(r)}}),this.origFuncs.pop=r.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var m;return!c.blocked&&h===c.currentVersion&&c.data.length&&(m=c.table.rowManager.getRowFromDataObject(c.data[c.data.length-1]))&&m.deleteActual(),c.origFuncs.pop.call(r)}}),this.origFuncs.splice=r.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var N,m=Array.from(arguments),C=m[0]<0?r.length+m[0]:m[0],D=m[1],x=!!m[2]&&m.slice(2);if(!c.blocked&&h===c.currentVersion){if(x&&((N=!!r[C]&&c.table.rowManager.getRowFromDataObject(r[C]))?x.forEach(le=>{c.table.rowManager.addRowActual(le,!0,N,!0)}):(x=x.slice().reverse()).forEach(le=>{c.table.rowManager.addRowActual(le,!0,!1,!0)})),0!==D){var Y=r.slice(C,void 0===m[1]?m[1]:C+D);Y.forEach((le,De)=>{var Ve=c.table.rowManager.getRowFromDataObject(le);Ve&&Ve.deleteActual(De!==Y.length-1)})}(x||0!==D)&&c.table.rowManager.reRenderInPosition()}return c.origFuncs.splice.apply(r,arguments)}})}unwatchData(){if(!1!==this.data)for(var r in this.origFuncs)Object.defineProperty(this.data,r,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(r){var c=r.getData();for(var h in this.blocked=!0,c)this.watchKey(r,c,h);this.table.options.dataTree&&this.watchTreeChildren(r),this.blocked=!1}watchTreeChildren(r){var c=r.getData()[this.table.options.dataTreeChildField],h={};function m(){this.table.modules.dataTree.initializeRow(r),this.table.modules.dataTree.layoutRow(r),this.table.rowManager.refreshActiveData("tree",!1,!0)}c&&(h.push=c.push,Object.defineProperty(c,"push",{enumerable:!1,configurable:!0,value:()=>{var C=h.push.apply(c,arguments);return m(),C}}),h.unshift=c.unshift,Object.defineProperty(c,"unshift",{enumerable:!1,configurable:!0,value:()=>{var C=h.unshift.apply(c,arguments);return m(),C}}),h.shift=c.shift,Object.defineProperty(c,"shift",{enumerable:!1,configurable:!0,value:()=>{var C=h.shift.call(c);return m(),C}}),h.pop=c.pop,Object.defineProperty(c,"pop",{enumerable:!1,configurable:!0,value:()=>{var C=h.pop.call(c);return m(),C}}),h.splice=c.splice,Object.defineProperty(c,"splice",{enumerable:!1,configurable:!0,value:()=>{var C=h.splice.apply(c,arguments);return m(),C}}))}watchKey(r,c,h){var m=Object.getOwnPropertyDescriptor(c,h),C=c[h],D=this.currentVersion;Object.defineProperty(c,h,{set:x=>{if(C=x,!this.blocked&&D===this.currentVersion){var N={};N[h]=x,r.updateData(N)}m.set&&m.set(x)},get:()=>(m.get&&m.get(),C)})}unwatchRow(r){var c=r.getData();for(var h in c)Object.defineProperty(c,h,{value:c[h]})}block(){this.blocked=!0}unblock(){this.blocked=!1}}return g.moduleName="reactiveData",g})(),Kh=(()=>{class g extends Kt{constructor(r){super(r),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null,this.registerColumnOption("resizable",!0)}initialize(){this.subscribe("cell-layout",this.layoutCellHandles.bind(this)),this.subscribe("column-init",this.layoutColumnHeader.bind(this))}layoutCellHandles(r){"row"===r.row.type&&this.initializeColumn("cell",r.column,r.element)}layoutColumnHeader(r){this.initializeColumn("header",r,r.element)}initializeColumn(r,c,h){var m=this,D=c.definition.resizable;if("header"===r&&(c.modules.resize={variableHeight:"textarea"==c.definition.formatter||c.definition.variableHeight}),!0===D||D==r){var x=document.createElement("div");x.className="tabulator-col-resize-handle";var N=document.createElement("div");N.className="tabulator-col-resize-handle prev",x.addEventListener("click",function(De){De.stopPropagation()});var Y=function(De){var Ve=c.getLastColumn();Ve&&m._checkResizability(Ve)&&(m.startColumn=c,m._mouseDown(De,Ve,x))};x.addEventListener("mousedown",Y),x.addEventListener("touchstart",Y,{passive:!0}),x.addEventListener("dblclick",function(De){var Ve=c.getLastColumn();Ve&&m._checkResizability(Ve)&&(De.stopPropagation(),Ve.reinitializeWidth(!0))}),N.addEventListener("click",function(De){De.stopPropagation()});var le=function(De){var Ve,nt,dt;(Ve=c.getFirstColumn())&&(dt=(nt=m.table.columnManager.findColumnIndex(Ve))>0&&m.table.columnManager.getColumnByIndex(nt-1))&&m._checkResizability(dt)&&(m.startColumn=c,m._mouseDown(De,dt,N))};N.addEventListener("mousedown",le),N.addEventListener("touchstart",le,{passive:!0}),N.addEventListener("dblclick",function(De){var Ve,nt,dt;(Ve=c.getFirstColumn())&&(dt=(nt=m.table.columnManager.findColumnIndex(Ve))>0&&m.table.columnManager.getColumnByIndex(nt-1))&&m._checkResizability(dt)&&(De.stopPropagation(),dt.reinitializeWidth(!0))}),h.appendChild(x),h.appendChild(N)}}_checkResizability(r){return r.definition.resizable}_mouseDown(r,c,h){var m=this;function C(x){c.setWidth(m.table.rtl?m.startWidth-((void 0===x.screenX?x.touches[0].screenX:x.screenX)-m.startX):m.startWidth+((void 0===x.screenX?x.touches[0].screenX:x.screenX)-m.startX)),m.table.columnManager.renderer.rerenderColumns(!0),!m.table.browserSlow&&c.modules.resize&&c.modules.resize.variableHeight&&c.checkCellHeights()}function D(x){m.startColumn.modules.edit&&(m.startColumn.modules.edit.blocked=!1),m.table.browserSlow&&c.modules.resize&&c.modules.resize.variableHeight&&c.checkCellHeights(),document.body.removeEventListener("mouseup",D),document.body.removeEventListener("mousemove",C),h.removeEventListener("touchmove",C),h.removeEventListener("touchend",D),m.table.element.classList.remove("tabulator-block-select"),m.dispatch("column-resized",c),m.table.externalEvents.dispatch("columnResized",c.getComponent())}m.table.element.classList.add("tabulator-block-select"),r.stopPropagation(),m.startColumn.modules.edit&&(m.startColumn.modules.edit.blocked=!0),m.startX=void 0===r.screenX?r.touches[0].screenX:r.screenX,m.startWidth=c.getWidth(),document.body.addEventListener("mousemove",C),document.body.addEventListener("mouseup",D),h.addEventListener("touchmove",C,{passive:!0}),h.addEventListener("touchend",D)}}return g.moduleName="resizeColumns",g})(),Hf=(()=>{class g extends Kt{constructor(r){super(r),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(r){var c=this,h=r.getElement(),m=document.createElement("div");m.className="tabulator-row-resize-handle";var C=document.createElement("div");C.className="tabulator-row-resize-handle prev",m.addEventListener("click",function(N){N.stopPropagation()});var D=function(N){c.startRow=r,c._mouseDown(N,r,m)};m.addEventListener("mousedown",D),m.addEventListener("touchstart",D,{passive:!0}),C.addEventListener("click",function(N){N.stopPropagation()});var x=function(N){var Y=c.table.rowManager.prevDisplayRow(r);Y&&(c.startRow=Y,c._mouseDown(N,Y,C))};C.addEventListener("mousedown",x),C.addEventListener("touchstart",x,{passive:!0}),h.appendChild(m),h.appendChild(C)}_mouseDown(r,c,h){var m=this;function C(x){c.setHeight(m.startHeight+((void 0===x.screenY?x.touches[0].screenY:x.screenY)-m.startY))}function D(x){document.body.removeEventListener("mouseup",C),document.body.removeEventListener("mousemove",C),h.removeEventListener("touchmove",C),h.removeEventListener("touchend",D),m.table.element.classList.remove("tabulator-block-select"),this.dispatchExternal("rowResized",c.getComponent())}m.table.element.classList.add("tabulator-block-select"),r.stopPropagation(),m.startY=void 0===r.screenY?r.touches[0].screenY:r.screenY,m.startHeight=c.getHeight(),document.body.addEventListener("mousemove",C),document.body.addEventListener("mouseup",D),h.addEventListener("touchmove",C,{passive:!0}),h.addEventListener("touchend",D)}}return g.moduleName="resizeRows",g})(),kc=(()=>{class g extends Kt{constructor(r){super(r),this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var c,r=this.table;this.tableHeight=r.element.clientHeight,this.tableWidth=r.element.clientWidth,r.element.parentNode&&(this.containerHeight=r.element.parentNode.clientHeight,this.containerWidth=r.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===r.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver(h=>{if(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell){var m=Math.floor(h[0].contentRect.height),C=Math.floor(h[0].contentRect.width);(this.tableHeight!=m||this.tableWidth!=C)&&(this.tableHeight=m,this.tableWidth=C,r.element.parentNode&&(this.containerHeight=r.element.parentNode.clientHeight,this.containerWidth=r.element.parentNode.clientWidth),this.table.columnManager.renderer.rerenderColumns(!0),r.redraw())}}),this.observer.observe(r.element),c=window.getComputedStyle(r.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(c.getPropertyValue("max-height")||c.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(h=>{if(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell){var m=Math.floor(h[0].contentRect.height),C=Math.floor(h[0].contentRect.width);(this.containerHeight!=m||this.containerWidth!=C)&&(this.containerHeight=m,this.containerWidth=C,this.tableHeight=r.element.clientHeight,this.tableWidth=r.element.clientWidth),r.columnManager.renderer.rerenderColumns(!0),r.redraw()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell)&&(r.columnManager.renderer.rerenderColumns(!0),r.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}return g.moduleName="resizeTable",g})(),Ip=(()=>{class g extends Kt{constructor(r){super(r),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(r){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(r||this.update())}initializeResponsivity(){var r=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(function(c,h){c.modules.responsive&&c.modules.responsive.order&&c.modules.responsive.visible&&(c.modules.responsive.index=h,r.push(c),!c.visible&&"collapse"===self.mode&&self.hiddenColumns.push(c))}),r=(r=r.reverse()).sort(function(c,h){return h.modules.responsive.order-c.modules.responsive.order||h.modules.responsive.index-c.modules.responsive.index}),this.columns=r,"collapse"===this.mode&&this.generateCollapsedContent();for(let c of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==c.definition.formatter){this.collapseHandleColumn=c;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(r){var c=r.getDefinition();r.modules.responsive={order:void 0===c.responsive?1:c.responsive,visible:!1!==c.visible}}initializeRow(r){var c;"calc"!==r.type&&((c=document.createElement("div")).classList.add("tabulator-responsive-collapse"),r.modules.responsiveLayout={element:c,open:this.collapseStartOpen},this.collapseStartOpen||(c.style.display="none"))}layoutRow(r){var c=r.getElement();r.modules.responsiveLayout&&(c.appendChild(r.modules.responsiveLayout.element),this.generateCollapsedRowContent(r))}updateColumnVisibility(r,c){!c&&r.modules.responsive&&(r.modules.responsive.visible=r.visible,this.initialize())}hideColumn(r){var c=this.hiddenColumns.length;r.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(r),this.generateCollapsedContent(),this.collapseHandleColumn&&!c&&this.collapseHandleColumn.show())}showColumn(r){var c;r.show(!1,!0),r.setWidth(r.getWidth()),"collapse"===this.mode&&((c=this.hiddenColumns.indexOf(r))>-1&&this.hiddenColumns.splice(c,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var r=this,c=!0;c;){let h="fitColumns"==r.table.modules.layout.getMode()?r.table.columnManager.getFlexBaseWidth():r.table.columnManager.getWidth(),m=(r.table.options.headerVisible?r.table.columnManager.element.clientWidth:r.table.element.clientWidth)-h;if(m<0){let C=r.columns[r.index];C?(r.hideColumn(C),r.index++):c=!1}else{let C=r.columns[r.index-1];C&&m>0&&m>=C.getWidth()?(r.showColumn(C),r.index--):c=!1}r.table.rowManager.activeRowsCount||r.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var r=this;this.table.rowManager.getDisplayRows().forEach(function(h){r.generateCollapsedRowContent(h)})}generateCollapsedRowContent(r){var c,h;if(r.modules.responsiveLayout){for(c=r.modules.responsiveLayout.element;c.firstChild;)c.removeChild(c.firstChild);(h=this.collapseFormatter(this.generateCollapsedRowData(r)))&&c.appendChild(h)}}generateCollapsedRowData(r){var C,c=this,h=r.getData(),m=[];return this.hiddenColumns.forEach(function(D){var x=D.getFieldValue(h);D.definition.title&&D.field&&(D.modules.format&&c.table.options.responsiveLayoutCollapseUseFormatters?(C={value:!1,data:{},getValue:function(){return x},getData:function(){return h},getElement:function(){return document.createElement("div")},getRow:function(){return r.getComponent()},getColumn:function(){return D.getComponent()}},m.push({field:D.field,title:D.definition.title,value:D.modules.format.formatter.call(c.table.modules.format,C,D.modules.format.params,function(Y){Y()})})):m.push({field:D.field,title:D.definition.title,value:x}))}),m}formatCollapsedData(r){var c=document.createElement("table");return r.forEach(function(h){var x,m=document.createElement("tr"),C=document.createElement("td"),D=document.createElement("td"),N=document.createElement("strong");C.appendChild(N),this.langBind("columns|"+h.field,function(Y){N.innerText=Y||h.title}),h.value instanceof Node?((x=document.createElement("div")).appendChild(h.value),D.appendChild(x)):D.innerHTML=h.value,m.appendChild(C),m.appendChild(D),c.appendChild(m)},this),Object.keys(r).length?c:""}}return g.moduleName="responsiveLayout",g})(),lc=(()=>{class g extends Kt{constructor(r){super(r),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(c,h){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&this.table.options.selectablePersistence&&this.subscribe("data-refeshing",this.deselectRows.bind(this)))}rowRetrieve(r,c){return"selected"===r?this.selectedRows:c}rowDeleted(r){this._deselectRow(r,!0)}clearSelectionData(r){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],!0!==r&&this._rowSelectionChanged()}initializeRow(r){var c=this,h=r.getElement(),m=function(){setTimeout(function(){c.selecting=!1},50),document.body.removeEventListener("mouseup",m)};r.modules.select={selected:!1},c.table.options.selectableCheck.call(this.table,r.getComponent())?(h.classList.add("tabulator-selectable"),h.classList.remove("tabulator-unselectable"),c.table.options.selectable&&"highlight"!=c.table.options.selectable&&("click"===c.table.options.selectableRangeMode?h.addEventListener("click",function(C){if(C.shiftKey){c.table._clearSelection(),c.lastClickedRow=c.lastClickedRow||r;var D=c.table.rowManager.getDisplayRowIndex(c.lastClickedRow),x=c.table.rowManager.getDisplayRowIndex(r),N=D<=x?D:x,Y=D>=x?D:x,De=c.table.rowManager.getDisplayRows().slice(0).splice(N,Y-N+1);C.ctrlKey||C.metaKey?(De.forEach(function(Ve){Ve!==c.lastClickedRow&&(!0===c.table.options.selectable||c.isRowSelected(r)||c.selectedRows.length<c.table.options.selectable)&&c.toggleRow(Ve)}),c.lastClickedRow=r):(c.deselectRows(void 0,!0),!0!==c.table.options.selectable&&De.length>c.table.options.selectable&&(De=De.slice(0,c.table.options.selectable)),c.selectRows(De)),c.table._clearSelection()}else C.ctrlKey||C.metaKey?(c.toggleRow(r),c.lastClickedRow=r):(c.deselectRows(void 0,!0),c.selectRows(r),c.lastClickedRow=r)}):(h.addEventListener("click",function(C){(!c.table.modExists("edit")||!c.table.modules.edit.getCurrentCell())&&c.table._clearSelection(),c.selecting||c.toggleRow(r)}),h.addEventListener("mousedown",function(C){if(C.shiftKey)return c.table._clearSelection(),c.selecting=!0,c.selectPrev=[],document.body.addEventListener("mouseup",m),document.body.addEventListener("keyup",m),c.toggleRow(r),!1}),h.addEventListener("mouseenter",function(C){c.selecting&&(c.table._clearSelection(),c.toggleRow(r),c.selectPrev[1]==r&&c.toggleRow(c.selectPrev[0]))}),h.addEventListener("mouseout",function(C){c.selecting&&(c.table._clearSelection(),c.selectPrev.unshift(r))})))):(h.classList.add("tabulator-unselectable"),h.classList.remove("tabulator-selectable"))}toggleRow(r){this.table.options.selectableCheck.call(this.table,r.getComponent())&&(r.modules.select&&r.modules.select.selected?this._deselectRow(r):this._selectRow(r))}selectRows(r){var c;switch(typeof r){case"undefined":this.table.rowManager.rows.forEach(h=>{this._selectRow(h,!0,!0)}),this._rowSelectionChanged();break;case"string":(c=this.table.rowManager.findRow(r))?this._selectRow(c,!0,!0):this.table.rowManager.getRows(r).forEach(h=>{this._selectRow(h,!0,!0)}),this._rowSelectionChanged();break;default:Array.isArray(r)?(r.forEach(h=>{this._selectRow(h,!0,!0)}),this._rowSelectionChanged()):this._selectRow(r,!1,!0)}}_selectRow(r,c,h){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!h&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var m=this.table.rowManager.findRow(r);m?-1==this.selectedRows.indexOf(m)&&(m.getElement().classList.add("tabulator-selected"),m.modules.select||(m.modules.select={}),m.modules.select.selected=!0,m.modules.select.checkboxEl&&(m.modules.select.checkboxEl.checked=!0),this.selectedRows.push(m),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(m,!0),c||this.dispatchExternal("rowSelected",m.getComponent()),this._rowSelectionChanged(c)):c||console.warn("Selection Error - No such row found, ignoring selection:"+r)}isRowSelected(r){return-1!==this.selectedRows.indexOf(r)}deselectRows(r,c){var m,h=this;if(void 0===r){m=h.selectedRows.length;for(let C=0;C<m;C++)h._deselectRow(h.selectedRows[0],!0);h._rowSelectionChanged(c)}else Array.isArray(r)?(r.forEach(function(C){h._deselectRow(C,!0)}),h._rowSelectionChanged(c)):h._deselectRow(r,c)}_deselectRow(r,c){var C,h=this,m=h.table.rowManager.findRow(r);m?(C=h.selectedRows.findIndex(function(D){return D==m}))>-1&&(m.getElement().classList.remove("tabulator-selected"),m.modules.select||(m.modules.select={}),m.modules.select.selected=!1,m.modules.select.checkboxEl&&(m.modules.select.checkboxEl.checked=!1),h.selectedRows.splice(C,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(m,!1),c||this.dispatchExternal("rowDeselected",m.getComponent()),h._rowSelectionChanged(c)):c||console.warn("Deselection Error - No such row found, ignoring selection:"+r)}getSelectedData(){var r=[];return this.selectedRows.forEach(function(c){r.push(c.getData())}),r}getSelectedRows(){var r=[];return this.selectedRows.forEach(function(c){r.push(c.getComponent())}),r}_rowSelectionChanged(r){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),r||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(r,c){r._row.modules.select||(r._row.modules.select={}),r._row.modules.select.checkboxEl=c}registerHeaderSelectCheckbox(r){this.headerCheckboxElement=r}childRowSelection(r,c){var h=this.table.modules.dataTree.getChildren(r,!0);if(c)for(let m of h)this._selectRow(m,!0);else for(let m of h)this._deselectRow(m,!0)}}return g.moduleName="selectRow",g})();function Xh(g,d,r,c,h,m,C){var D=window.DateTime||luxon.DateTime,x=C.format||"dd/MM/yyyy HH:mm:ss",N=C.alignEmptyValues,Y=0;if(void 0!==D){if(g=D.fromFormat(g,x),d=D.fromFormat(d,x),g.isValid){if(d.isValid)return g-d;Y=1}else Y=d.isValid?-1:0;return("top"===N&&"desc"===m||"bottom"===N&&"asc"===m)&&(Y*=-1),Y}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var Pc={number:function(g,d,r,c,h,m,C){var D=C.alignEmptyValues,x=C.decimalSeparator,N=C.thousandSeparator,Y=0;if(g=String(g),d=String(d),N&&(g=g.split(N).join(""),d=d.split(N).join("")),x&&(g=g.split(x).join("."),d=d.split(x).join(".")),g=parseFloat(g),d=parseFloat(d),isNaN(g))Y=isNaN(d)?0:-1;else{if(!isNaN(d))return g-d;Y=1}return("top"===D&&"desc"===m||"bottom"===D&&"asc"===m)&&(Y*=-1),Y},string:function(g,d,r,c,h,m,C){var N,D=C.alignEmptyValues,x=0;if(g){if(d){switch(typeof C.locale){case"boolean":C.locale&&(N=this.langLocale());break;case"string":N=C.locale}return String(g).toLowerCase().localeCompare(String(d).toLowerCase(),N)}x=1}else x=d?-1:0;return("top"===D&&"desc"===m||"bottom"===D&&"asc"===m)&&(x*=-1),x},date:function(g,d,r,c,h,m,C){return C.format||(C.format="dd/MM/yyyy"),Xh.call(this,g,d,r,c,h,m,C)},time:function(g,d,r,c,h,m,C){return C.format||(C.format="HH:mm"),Xh.call(this,g,d,r,c,h,m,C)},datetime:Xh,boolean:function(g,d,r,c,h,m,C){return(!0===g||"true"===g||"True"===g||1===g?1:0)-(!0===d||"true"===d||"True"===d||1===d?1:0)},array:function(g,d,r,c,h,m,C){var N=C.type||"length",Y=C.alignEmptyValues,le=0;function De(Ve){switch(N){case"length":return Ve.length;case"sum":return Ve.reduce(function(nt,dt){return nt+dt});case"max":return Math.max.apply(null,Ve);case"min":return Math.min.apply(null,Ve);case"avg":return Ve.reduce(function(nt,dt){return nt+dt})/Ve.length}}if(Array.isArray(g)){if(Array.isArray(d))return(g?De(g):0)-(d?De(d):0);Y=1}else Y=Array.isArray(d)?-1:0;return("top"===Y&&"desc"===m||"bottom"===Y&&"asc"===m)&&(le*=-1),le},exists:function(g,d,r,c,h,m,C){return(void 0===g?0:1)-(void 0===d?0:1)},alphanum:function(g,d,r,c,h,m,C){var D,x,N,Y,De,le=0,Ve=/(\d+)|(\D+)/g,nt=/\d/,dt=C.alignEmptyValues,_t=0;if(g||0===g){if(d||0===d){if(isFinite(g)&&isFinite(d))return g-d;if((D=String(g).toLowerCase())===(x=String(d).toLowerCase()))return 0;if(!nt.test(D)||!nt.test(x))return D>x?1:-1;for(D=D.match(Ve),x=x.match(Ve),De=D.length>x.length?x.length:D.length;le<De;)if((N=D[le])!==(Y=x[le++]))return isFinite(N)&&isFinite(Y)?("0"===N.charAt(0)&&(N="."+N),"0"===Y.charAt(0)&&(Y="."+Y),N-Y):N>Y?1:-1;return D.length>x.length}_t=1}else _t=d||0===d?-1:0;return("top"===dt&&"desc"===m||"bottom"===dt&&"asc"===m)&&(_t*=-1),_t}},Zu={integer:function(g,d,r){return""===d||null==d||"number"==typeof(d=Number(d))&&isFinite(d)&&Math.floor(d)===d},float:function(g,d,r){return""===d||null==d||"number"==typeof(d=Number(d))&&isFinite(d)&&d%1!=0},numeric:function(g,d,r){return""===d||null==d||!isNaN(d)},string:function(g,d,r){return""===d||null==d||isNaN(d)},max:function(g,d,r){return""===d||null==d||parseFloat(d)<=r},min:function(g,d,r){return""===d||null==d||parseFloat(d)>=r},starts:function(g,d,r){return""===d||null==d||String(d).toLowerCase().startsWith(String(r).toLowerCase())},ends:function(g,d,r){return""===d||null==d||String(d).toLowerCase().endsWith(String(r).toLowerCase())},minLength:function(g,d,r){return""===d||null==d||String(d).length>=r},maxLength:function(g,d,r){return""===d||null==d||String(d).length<=r},in:function(g,d,r){return""===d||null==d||("string"==typeof r&&(r=r.split("|")),""===d||r.indexOf(d)>-1)},regex:function(g,d,r){return""===d||null==d||new RegExp(r).test(d)},unique:function(g,d,r){if(""===d||null==d)return!0;var c=!0,h=g.getData(),m=g.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(C){var D=C.getData();D!==h&&d==m.getFieldValue(D)&&(c=!1)}),c},required:function(g,d,r){return""!==d&&null!=d}},Op=Object.freeze({__proto__:null,AccessorModule:Bn,AjaxModule:Ys,ClipboardModule:$o,ColumnCalcsModule:Xu,DataTreeModule:Od,DownloadModule:nh,EditModule:xf,ExportModule:Cp,FilterModule:Tp,FormatModule:Wh,FrozenColumnsModule:kf,FrozenRowsModule:Pf,GroupRowsModule:Rp,HistoryModule:Ig,HtmlTableImportModule:Ag,InteractionModule:Og,KeybindingsModule:Lg,MenuModule:Ng,MoveColumnsModule:Nf,MoveRowsModule:zh,MutatorModule:Bg,PageModule:Oc,PersistenceModule:Ff,PrintModule:xp,ReactiveDataModule:Bf,ResizeColumnsModule:Kh,ResizeRowsModule:Hf,ResizeTableModule:kc,ResponsiveLayoutModule:Ip,SelectRowModule:lc,SortModule:(()=>{class g extends Kt{constructor(r){super(r),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(r,c,h,m){var C=this.getSort();return C.forEach(D=>{delete D.column}),m.sort=C,m}userSetSort(r,c){this.setSort(r,c),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(r){var h,m,c=!1;switch(typeof r.definition.sorter){case"string":g.sorters[r.definition.sorter]?c=g.sorters[r.definition.sorter]:console.warn("Sort Error - No such sorter found: ",r.definition.sorter);break;case"function":c=r.definition.sorter}r.modules.sort={sorter:c,dir:"none",params:r.definition.sorterParams||{},startingDir:r.definition.headerSortStartingDir||"asc",tristate:r.definition.headerSortTristate},!1!==r.definition.headerSort&&((h=r.getElement()).classList.add("tabulator-sortable"),(m=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==typeof this.table.options.headerSortElement?m.appendChild(this.table.options.headerSortElement):m.innerHTML=this.table.options.headerSortElement,r.titleHolderElement.appendChild(m),r.modules.sort.element=m,h.addEventListener("click",C=>{var D="",x=[],N=!1;if(r.modules.sort){if(r.modules.sort.tristate)D="none"==r.modules.sort.dir?r.modules.sort.startingDir:r.modules.sort.dir==r.modules.sort.startingDir?"asc"==r.modules.sort.dir?"desc":"asc":"none";else switch(r.modules.sort.dir){case"asc":D="desc";break;case"desc":D="asc";break;default:D=r.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(C.shiftKey||C.ctrlKey)?((N=(x=this.getSort()).findIndex(Y=>Y.field===r.getField()))>-1?(x[N].dir=D,N!=x.length-1&&(N=x.splice(N,1)[0],"none"!=D&&x.push(N))):"none"!=D&&x.push({column:r,dir:D}),this.setSort(x)):"none"==D?this.clear():this.setSort(r,D),this.refreshSort()}}))}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData():this.refreshData()}hasChanged(){var r=this.changed;return this.changed=!1,r}getSort(){var c=[];return this.sortList.forEach(function(h){h.column&&c.push({column:h.column.getComponent(),field:h.column.getField(),dir:h.dir})}),c}setSort(r,c){var h=this,m=[];Array.isArray(r)||(r=[{column:r,dir:c}]),r.forEach(function(C){var D;(D=h.table.columnManager.findColumn(C.column))?(C.column=D,m.push(C),h.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",C.column)}),h.sortList=m,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(r){var C,c=this.table.rowManager.activeRows[0],h="string";if(c&&(c=c.getData(),r.getField()))switch(C=r.getFieldValue(c),typeof C){case"undefined":h="string";break;case"boolean":h="boolean";break;default:isNaN(C)||""===C?C.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(h="alphanum"):h="number"}return g.sorters[h]}sort(r){var c=this,h=this.table.options.sortOrderReverse?c.sortList.slice().reverse():c.sortList,m=[],C=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",c.getSort()),c.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(h.forEach(function(D,x){var N=D.column.modules.sort;D.column&&N&&(N.sorter||(N.sorter=c.findSorter(D.column)),D.params="function"==typeof N.params?N.params(D.column.getComponent(),D.dir):N.params,m.push(D)),c.setColumnHeader(D.column,D.dir)}),m.length&&c._sortItems(r,m)):h.forEach(function(D,x){c.setColumnHeader(D.column,D.dir)}),this.subscribedExternal("dataSorted")&&(r.forEach(D=>{C.push(D.getComponent())}),this.dispatchExternal("dataSorted",c.getSort(),C)),r}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(function(r){r.modules.sort&&(r.modules.sort.dir="none",r.getElement().setAttribute("aria-sort","none"))})}setColumnHeader(r,c){r.modules.sort.dir=c,r.getElement().setAttribute("aria-sort",c)}_sortItems(r,c){var h=c.length-1;r.sort((m,C)=>{for(var D,x=h;x>=0;x--){let N=c[x];if(0!==(D=this._sortRow(m,C,N.column,N.dir,N.params)))break}return D})}_sortRow(r,c,h,m,C){var D,x,N="asc"==m?r:c,Y="asc"==m?c:r;return r=void 0!==(r=h.getFieldValue(N.getData()))?r:"",c=void 0!==(c=h.getFieldValue(Y.getData()))?c:"",D=N.getComponent(),x=Y.getComponent(),h.modules.sort.sorter.call(this,r,c,D,x,h.getComponent(),m,C)}}return g.moduleName="sort",g.sorters=Pc,g})(),ValidateModule:(()=>{class g extends Kt{constructor(r){super(r),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this))}cellIsValid(r){return!r.modules.validate||!r.modules.validate.invalid}cellValidate(r){return this.validate(r.column.modules.validate,r,r.getValue())}columnValidate(r){var c=[];return r.cells.forEach(function(h){this.cellValidate(h)||c.push(h.getComponent())}),!c.length||c}rowValidate(r){var c=[];return r.cells.forEach(function(h){this.cellValidate(h)||c.push(h.getComponent())}),!c.length||c}userClearCellValidation(r){r||(r=this.getInvalidCells()),Array.isArray(r)||(r=[r]),r.forEach(c=>{this.clearValidation(c._getSelf())})}userValidate(r){var c=[];return this.table.rowManager.rows.forEach(function(h){var m=h.validate();!0!==m&&(c=c.concat(m))}),!c.length||c}initializeColumnCheck(r){void 0!==r.definition.validator&&this.initializeColumn(r)}initializeColumn(r){var m,c=this,h=[];r.definition.validator&&(Array.isArray(r.definition.validator)?r.definition.validator.forEach(function(C){(m=c._extractValidator(C))&&h.push(m)}):(m=this._extractValidator(r.definition.validator))&&h.push(m),r.modules.validate=!!h.length&&h)}_extractValidator(r){var c,h,m;switch(typeof r){case"string":return(m=r.indexOf(":"))>-1?(c=r.substring(0,m),h=r.substring(m+1)):c=r,this._buildValidator(c,h);case"function":return this._buildValidator(r);case"object":return this._buildValidator(r.type,r.parameters)}}_buildValidator(r,c){var h="function"==typeof r?r:g.validators[r];return h?{type:"function"==typeof r?"function":r,func:h,params:c}:(console.warn("Validator Setup Error - No matching validator found:",r),!1)}validate(r,c,h){var m=this,C=[],D=this.invalidCells.indexOf(c);return r&&r.forEach(function(x){x.func.call(m,c.getComponent(),h,x.params)||C.push({type:x.type,parameters:x.params})}),C=!C.length||C,c.modules.validate||(c.modules.validate={}),!0===C?(c.modules.validate.invalid=!1,c.getElement().classList.remove("tabulator-validation-fail"),D>-1&&this.invalidCells.splice(D,1)):(c.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&c.getElement().classList.add("tabulator-validation-fail"),-1==D&&this.invalidCells.push(c)),C}getInvalidCells(){var r=[];return this.invalidCells.forEach(c=>{r.push(c.getComponent())}),r}clearValidation(r){var c;r.modules.validate&&r.modules.validate.invalid&&(r.getElement().classList.remove("tabulator-validation-fail"),r.modules.validate.invalid=!1,(c=this.invalidCells.indexOf(r))>-1&&this.invalidCells.splice(c,1))}}return g.moduleName="validate",g.validators=Zu,g})()}),lh={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,height:!1,minHeight:!1,maxHeight:!1,columnMaxWidth:!1,columnHeaderVertAlign:"top",columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",tooltipGenerationMode:"load",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataSendParams:{},dataReceiveParams:{}};class cc{constructor(d,r){this.table=d,this.msgType=r,this.registeredDefaults={}}register(d,r){this.registeredDefaults[d]=r}generate(d,r={}){var c=Object.assign({},this.registeredDefaults);if(Object.assign(c,d),!1!==r.debugInvalidOptions||this.table.options.debugInvalidOptions)for(var h in r)c.hasOwnProperty(h)||console.warn("Invalid "+this.msgType+" option:",h);for(var h in c)h in r?c[h]=r[h]:Array.isArray(c[h])?c[h]=Object.assign([],c[h]):"object"==typeof c[h]&&null!==c[h]?c[h]=Object.assign({},c[h]):void 0===c[h]&&delete c[h];return c}}class Qu extends Xt{constructor(d){super(d),this.elementVertical=d.rowManager.element,this.elementHorizontal=d.columnManager.element,this.tableElement=d.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(d){}renderRows(){}renderColumns(){}rerenderRows(d){d&&d()}rerenderColumns(d,r){}renderRowCells(d){}rerenderRowCells(d,r){}scrollColumns(d,r){}scrollRows(d,r){}resize(){}scrollToRow(d){}scrollToRowNearestTop(d){}visibleRows(d){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(d,r){var c=d.getElement();r%2?(c.classList.add("tabulator-row-even"),c.classList.remove("tabulator-row-odd")):(c.classList.add("tabulator-row-odd"),c.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(d){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(d,r,c){var h=this.rows().indexOf(d),m=d.getElement(),C=0;return new Promise((D,x)=>{if(h>-1){if(void 0===c&&(c=this.table.options.scrollToRowIfVisible),!c&&pn.elVisible(m)&&(C=pn.elOffset(m).top-pn.elOffset(this.elementVertical).top)>0&&C<this.elementVertical.clientHeight-m.offsetHeight)return!1;switch(void 0===r&&(r=this.table.options.scrollToRowPosition),"nearest"===r&&(r=this.scrollToRowNearestTop(d)?"top":"bottom"),this.scrollToRow(d),r){case"middle":case"center":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop+(m.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-m.offsetTop)/2:this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-m.offsetTop)+m.offsetHeight:this.elementVertical.scrollTop-this.elementVertical.clientHeight+m.offsetHeight}D()}else console.warn("Scroll Error - Row not visible"),x("Scroll Error - Row not visible")})}}class su extends Qu{constructor(d){super(d)}renderRowCells(d){d.cells.forEach(r=>{d.element.appendChild(r.getElement()),r.cellRendered()})}reinitializeColumnWidths(d){d.forEach(function(r){r.reinitializeWidth()})}}class uc extends Qu{constructor(d){super(d),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[]}initialize(){this.compatabilityCheck()}compatabilityCheck(){var d=this.options("columns"),c=!0;return"fitDataTable"==this.options("layout")&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),c=!1),this.options("responsiveLayout")&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),c=!1),this.options("rtl")&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),c=!1),d&&d.find(h=>h.frozen)&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),c=!1),c}renderColumns(d,r){this.dataChange()}scrollColumns(d,r){this.scrollLeft!=d&&(this.scrollLeft=d,this.scroll(d-(this.vDomScrollPosLeft+this.window)))}rerenderColumns(d,r){var c={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!d||this.initialized){this.clear(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window;var h=0;this.table.columnManager.columnsByIndex.forEach(m=>{var C={};if(m.visible){var D=m.getWidth();C.leftPos=h,C.rightPos=h+D,C.width=D,"fitData"===this.options("layout")&&(C.fitDataCheck=!0),h+D>this.vDomScrollPosLeft&&h<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=h),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=D),this.columns.push(m),m.modules.vdomHoz=C,h+=D}}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,r||(!d||this.reinitChanged(c))&&this.renitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft}}renderRowCells(d){this.initialized?this.initializeRow(d):d.cells.forEach(r=>{d.element.appendChild(r.getElement()),r.cellRendered()})}rerenderRowCells(d,r){this.reinitializeRow(d,r)}reinitializeColumnWidths(d){for(let r=this.leftCol;r<=this.rightCol;r++)this.columns[r].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var m,h,d=!1,r=0,c=0;if("fitData"===this.options("layout")){if(this.table.columnManager.columnsByIndex.forEach(C=>{!C.definition.width&&C.visible&&(d=!0)}),d&&d&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window,h=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows()[0])[0])){for(m=h.getElement(),h.generateCells(),this.tableElement.appendChild(m),c=0;c<h.cells.length;c++){let x=h.cells[c];if(m.appendChild(x.getElement()),x.column.reinitializeWidth(),(r+=x.column.getWidth())>this.vDomScrollPosRight)break}for(m.parentNode.removeChild(m),this.fitDataColAvg=Math.floor(r/(c+1));c<this.table.columnManager.columnsByIndex.length;c++)this.table.columnManager.columnsByIndex[c].setWidth(this.fitDataColAvg);this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(d){var r=!0;return d.cols.length!==this.columns.length||d.leftCol!==this.leftCol||d.rightCol!==this.rightCol||(d.cols.forEach((c,h)=>{c!==this.columns[h]&&(r=!1)}),!r)}renitializeRows(){this.table.rowManager.getVisibleRows().forEach(r=>{this.reinitializeRow(r,!0)})}scroll(d){this.vDomScrollPosLeft+=d,this.vDomScrollPosRight+=d,d>.8*this.elementVertical.clientWidth?this.rerenderColumns():d>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(d,r,c){for(let h=d;h<r;h++){let m=this.columns[h];m.modules.vdomHoz.leftPos+=c,m.modules.vdomHoz.rightPos+=c}}addColRight(){var d=this.columns[this.rightCol+1];d&&d.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach(c=>{if("group"!==c.type){var h=c.getCell(d);c.getElement().appendChild(h.getElement()),h.cellRendered()}}),this.fitDataColActualWidthCheck(d),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=d.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.addColRight())}addColLeft(){var d=this.columns[this.leftCol-1];d&&d.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(h=>{if("group"!==h.type){var m=h.getCell(d);h.getElement().prepend(m.getElement()),m.cellRendered()}}),this.fitDataColActualWidthCheck(d),this.leftCol?this.vDomPadLeft-=d.getWidth():this.vDomPadLeft=0,this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())}removeColRight(d){var r;(d=this.columns[this.rightCol])&&d.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(r=this.table.rowManager.getVisibleRows(),d.modules.vdomHoz.visible=!1,r.forEach(c=>{if("group"!==c.type){var h=c.getCell(d);c.getElement().removeChild(h.getElement())}}),this.vDomPadRight+=d.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())}removeColLeft(){var d=this.columns[this.leftCol];d&&d.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(c=>{if("group"!==c.type){var h=c.getCell(d);h.parentNode&&c.getElement().removeChild(h.getElement())}}),this.vDomPadLeft+=d.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())}fitDataColActualWidthCheck(d){var r,c;d.modules.vdomHoz.fitDataCheck&&(d.reinitializeWidth(),(c=(r=d.getWidth())-d.modules.vdomHoz.width)&&(d.modules.vdomHoz.rightPos+=c,d.modules.vdomHoz.width=r,this.colPositionAdjust(this.rightCol+2,this.columns.length,c)),d.modules.vdomHoz.fitDataCheck=!1)}initializeRow(d){if("group"!==d.type){d.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(let r=this.leftCol;r<=this.rightCol;r++){let c=this.columns[r];if(c&&c.visible){let h=d.getCell(c);d.getElement().appendChild(h.getElement()),h.cellRendered()}}}}reinitializeRow(d,r){if("group"!==d.type&&(r||!d.modules.vdomHoz||d.modules.vdomHoz.leftCol!==this.leftCol||d.modules.vdomHoz.rightCol!==this.rightCol)){for(var c=d.getElement();c.firstChild;)c.removeChild(c.firstChild);this.initializeRow(d)}}}class ch extends Xt{constructor(d){super(d),this.blockHozScrollEvent=!1,this.headersElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new cc(this.table,"column definition"),this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.element.insertBefore(this.headersElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this))}initializeRenderer(){var d;(d="string"==typeof this.table.options.renderHorizontal?{virtual:uc,basic:su}[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new d(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",table.options.renderHorizontal)}createHeadersElement(){var d=document.createElement("div");return d.classList.add("tabulator-headers"),d.setAttribute("role","row"),d}createHeaderElement(){var d=document.createElement("div");return d.classList.add("tabulator-header"),d.setAttribute("role","rowgroup"),this.table.options.headerVisible||d.classList.add("tabulator-header-hidden"),d}getElement(){return this.element}getHeadersElement(){return this.headersElement}scrollHorizontal(d){var c=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=d,this.element.style.marginLeft=d>c?-(d-c)+"px":0,this.scrollLeft=d,this.renderer.scrollColumns(d)}generateColumnsFromRowData(d){var h,m,r=[],c=this.table.options.autoColumnsDefinitions;if(d&&d.length){for(var C in h=d[0]){let D={field:C,title:C},x=h[C];switch(typeof x){case"undefined":m="string";break;case"boolean":m="boolean";break;case"object":m=Array.isArray(x)?"array":"string";break;default:m=isNaN(x)||""===x?x.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}D.sorter=m,r.push(D)}if(c)switch(typeof c){case"function":this.table.options.columns=c.call(this.table,r);break;case"object":Array.isArray(c)?r.forEach(D=>{var x=c.find(N=>N.field===D.field);x&&Object.assign(D,x)}):r.forEach(D=>{c[D.field]&&Object.assign(D,c[D.field])}),this.table.options.columns=r}else this.table.options.columns=r;this.setColumns(this.table.options.columns)}}setColumns(d,r){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),d.forEach((c,h)=>{this._addColumn(c)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.renderer.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(d,r,c){var h=new La(d,this),m=h.getElement(),C=c&&this.findColumnIndex(c);if(c&&C>-1){var D=c.getTopColumn(),x=this.columns.indexOf(D),N=D.getElement();r?(this.columns.splice(x,0,h),N.parentNode.insertBefore(m,N)):(this.columns.splice(x+1,0,h),N.parentNode.insertBefore(m,N.nextSibling))}else r?(this.columns.unshift(h),this.headersElement.insertBefore(h.getElement(),this.headersElement.firstChild)):(this.columns.push(h),this.headersElement.appendChild(h.getElement()));return h.columnRendered(),h}registerColumnField(d){d.definition.field&&(this.columnsByField[d.definition.field]=d)}registerColumnPosition(d){this.columnsByIndex.push(d)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(d){d.reRegisterPosition()})}verticalAlignHeaders(){var d=0;this.columns.forEach(r=>{var c;r.clearVerticalAlign(),(c=r.getHeight())>d&&(d=c)}),this.columns.forEach(r=>{r.verticalAlign(this.table.options.columnHeaderVertAlign,d)}),this.table.rowManager.adjustTableSize()}findColumn(d){return"object"!=typeof d?this.columnsByField[d]||!1:d instanceof La?d:d instanceof Cl?d._getSelf()||!1:"undefined"!=typeof HTMLElement&&d instanceof HTMLElement&&this.columns.find(c=>c.element===d)||!1}getColumnByField(d){return this.columnsByField[d]}getColumnsByFieldRoot(d){var r=[];return Object.keys(this.columnsByField).forEach(c=>{c.split(".")[0]===d&&r.push(this.columnsByField[c])}),r}getColumnByIndex(d){return this.columnsByIndex[d]}getFirstVisibileColumn(d){return(d=this.columnsByIndex.findIndex(r=>r.visible))>-1&&this.columnsByIndex[d]}getColumns(){return this.columns}findColumnIndex(d){return this.columnsByIndex.findIndex(r=>d===r)}getRealColumns(){return this.columnsByIndex}traverse(d){this.columnsByIndex.forEach((r,c)=>{d(r,c)})}getDefinitions(d){var r=[];return this.columnsByIndex.forEach(c=>{(!d||d&&c.visible)&&r.push(c.getDefinition())}),r}getDefinitionTree(){var d=[];return this.columns.forEach(r=>{d.push(r.getDefinition(!0))}),d}getComponents(d){var r=[];return(d?this.columns:this.columnsByIndex).forEach(h=>{r.push(h.getComponent())}),r}getWidth(){var d=0;return this.columnsByIndex.forEach(r=>{r.visible&&(d+=r.getWidth())}),d}moveColumn(d,r,c){this.moveColumnActual(d,r,c),r.element.parentNode.insertBefore(d.element,r.element),c&&r.element.parentNode.insertBefore(r.element,d.element),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(d,r,c){this._moveColumnInArray(d.parent.isGroup?d.parent.columns:this.columns,d,r,c),this._moveColumnInArray(this.columnsByIndex,d,r,c,!0),this.renderer.rerenderColumns(!0),this.dispatch("column-moved",d,r,c),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",d.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(d,r,c,h,m){var D,C=d.indexOf(r);C>-1&&(d.splice(C,1),(D=d.indexOf(c))>-1?h&&(D+=1):D=C,d.splice(D,0,r),m&&(this.chain("column-moving-rows",[r,c,h],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(N){if(N.cells.length){var Y=N.cells.splice(C,1)[0];N.cells.splice(D,0,Y)}}))}scrollToColumn(d,r,c){var h=0,m=0,C=0,D=d.getElement();return new Promise((x,N)=>{if(void 0===r&&(r=this.table.options.scrollToColumnPosition),void 0===c&&(c=this.table.options.scrollToColumnIfVisible),d.visible){switch(r){case"middle":case"center":C=-this.element.clientWidth/2;break;case"right":C=D.clientWidth-this.headersElement.clientWidth}if(!c&&(m=D.offsetLeft)>0&&m+D.offsetWidth<this.element.clientWidth)return!1;h=D.offsetLeft+C,h=Math.max(Math.min(h,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(h),this.scrollHorizontal(h),x()}else console.warn("Scroll Error - Column not visible"),N("Scroll Error - Column not visible")})}generateCells(d){var r=[];return this.columnsByIndex.forEach(c=>{r.push(c.generateCell(d))}),r}getFlexBaseWidth(){var d=this.table.element.clientWidth,r=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(d-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(c){var h,m,C;c.visible&&(h=c.definition.width||0,m=parseInt(c.minWidth),C="string"==typeof h?h.indexOf("%")>-1?d/100*parseInt(h):parseInt(h):h,r+=C>m?C:m)}),r}addColumn(d,r,c){return new Promise((h,m)=>{var C=this._addColumn(d,r,c);this._reIndexColumns(),this.dispatch("column-add",d,r,c),"fitColumns"!=this.layoutMode()&&C.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.renderer.rerenderColumns(),h(C)})}deregisterColumn(d){var c,r=d.getField();r&&delete this.columnsByField[r],(c=this.columnsByIndex.indexOf(d))>-1&&this.columnsByIndex.splice(c,1),(c=this.columns.indexOf(d))>-1&&this.columns.splice(c,1),this.verticalAlignHeaders(),this.redraw()}redraw(d){pn.elVisible(this.element)&&this.verticalAlignHeaders(),d&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",d)||this.layoutRefresh(),this.dispatch("table-redraw",d),this.table.footerManager.redraw()}}class kp extends Qu{constructor(d){super(d),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var d=this.tableElement;d.firstChild;)d.removeChild(d.firstChild);d.scrollTop=0,d.scrollLeft=0,d.style.minWidth="",d.style.minHeight="",d.style.display="",d.style.visibility=""}renderRows(){var d=this.tableElement,r=!0;this.rows().forEach((c,h)=>{this.styleRow(c,h),d.appendChild(c.getElement()),c.initialize(!0),"group"!==c.type&&(r=!1)}),d.style.minWidth=r?this.table.columnManager.getWidth()+"px":""}rerenderRows(d){this.render(),d&&d()}scrollToRowNearestTop(d){var r=pn.elOffset(d.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-r)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-r))}scrollToRow(d){var r=d.getElement();this.elementVertical.scrollTop=pn.elOffset(r).top-pn.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(d){return this.rows()}}class Gg extends Qu{constructor(d){super(d),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var d=this.tableElement;d.firstChild;)d.removeChild(d.firstChild);d.style.paddingTop="",d.style.paddingBottom="",d.style.minWidth="",d.style.minHeight="",d.style.display="",d.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(d){for(var r=this.elementVertical.scrollTop,c=!1,h=!1,m=this.table.rowManager.scrollLeft,C=this.rows(),D=this.vDomTop;D<=this.vDomBottom;D++)if(C[D]){var x=r-C[D].getElement().offsetTop;if(!(!1===h||Math.abs(x)<h))break;h=x,c=D}C.forEach(N=>{N.deinitializeHeight()}),d&&d(),this._virtualRenderFill(!1===c?this.rows.length-1:c,!0,h||0),this.scrollColumns(m)}scrollColumns(d){this.table.rowManager.scrollHorizontal(d)}scrollRows(d,r){var c=d-this.vDomScrollPosTop,h=d-this.vDomScrollPosBottom,m=2*this.vDomWindowBuffer,C=this.rows();if(this.scrollTop=d,-c>m||h>m){var D=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*C.length)),this.scrollColumns(D)}else r?(c<0&&this._addTopRow(C,-c),h<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(C,-h):this.vDomScrollPosBottom=this.scrollTop)):(h>=0&&this._addBottomRow(C,h),c>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(C,c):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(d){var r=this.rows().indexOf(d);return!(Math.abs(this.vDomTop-r)>Math.abs(this.vDomBottom-r))}scrollToRow(d){var r=this.rows().indexOf(d);r>-1&&this._virtualRenderFill(r,!0)}visibleRows(d){var r=this.elementVertical.scrollTop,c=this.elementVertical.clientHeight+r,h=!1,m=0,C=0,D=this.rows();if(d)m=this.vDomTop,C=this.vDomBottom;else for(var x=this.vDomTop;x<=this.vDomBottom;x++)if(D[x])if(h){if(!(c-D[x].getElement().offsetTop>=0))break;C=x}else if(r-D[x].getElement().offsetTop>=0)m=x;else{if(h=!0,!(c-D[x].getElement().offsetTop>=0))break;C=x}return D.slice(m,C+1)}_virtualRenderFill(d,r,c){var h=this.tableElement,m=this.elementVertical,C=0,D=0,x=0,N=0,Y=0,le=this.rows(),De=le.length,Ve=this.elementVertical.clientHeight;if(c=c||0,d=d||0){for(;h.firstChild;)h.removeChild(h.firstChild);(x=(De-d+1)*this.vDomRowHeight)<Ve&&(d-=Math.ceil((Ve-x)/this.vDomRowHeight))<0&&(d=0),d-=C=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),d)}else this.clear();if(De&&pn.elVisible(this.elementVertical)){for(this.vDomTop=d,this.vDomBottom=d-1;(D<=Ve+this.vDomWindowBuffer||Y<this.vDomWindowMinTotalRows)&&this.vDomBottom<De-1;){var _t,nt=this.vDomBottom+1,dt=le[nt];this.styleRow(dt,nt),h.appendChild(dt.getElement()),dt.initialize(),dt.heightInitialized||dt.normalizeHeight(!0),_t=dt.getHeight(),Y<C?N+=_t:D+=_t,_t>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*_t),this.vDomBottom++,Y++}d?(this.vDomTopPad=r?this.vDomRowHeight*this.vDomTop+c:this.scrollTop-N,this.vDomBottomPad=this.vDomBottom==De-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-D-N,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((D+N)/Y),this.vDomBottomPad=this.vDomRowHeight*(De-this.vDomBottom-1),this.vDomScrollHeight=N+D+this.vDomBottomPad-Ve),h.style.paddingTop=this.vDomTopPad+"px",h.style.paddingBottom=this.vDomBottomPad+"px",r&&(this.scrollTop=this.vDomTopPad+N+c-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-Ve:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-Ve),this.elementVertical.scrollWidth>this.elementVertical.offsetWidth&&r&&(this.scrollTop+=this.elementVertical.offsetHeight-Ve),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,m.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(d,r){for(var c=this.tableElement,h=[],m=0,C=this.vDomTop-1,D=0;this.vDomTop;){let N,Y,x=d[C];if(!(x&&D<this.vDomMaxRenderChain))break;if(N=x.getHeight()||this.vDomRowHeight,Y=x.initialized,!(r>=N))break;this.styleRow(x,C),c.insertBefore(x.getElement(),c.firstChild),(!x.initialized||!x.heightInitialized)&&h.push(x),x.initialize(),Y||(N=x.getElement().offsetHeight,N>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*N)),r-=N,m+=N,this.vDomTop--,C--,D++}for(let x of h)x.clearCellHeight();this._quickNormalizeRowHeight(h),m&&(this.vDomTopPad-=m,this.vDomTopPad<0&&(this.vDomTopPad=C*this.vDomRowHeight),C<1&&(this.vDomTopPad=0),c.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=m)}_removeTopRow(d,r){for(var c=[],h=0,m=0;;){let D,C=d[this.vDomTop];if(!(C&&m<this.vDomMaxRenderChain))break;if(D=C.getHeight()||this.vDomRowHeight,!(r>=D))break;this.vDomTop++,r-=D,h+=D,c.push(C),m++}for(let C of c){let D=C.getElement();D.parentNode&&D.parentNode.removeChild(D)}h&&(this.vDomTopPad+=h,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?h:h+this.vDomWindowBuffer)}_addBottomRow(d,r){for(var c=this.tableElement,h=[],m=0,C=this.vDomBottom+1,D=0;;){let N,Y,x=d[C];if(!(x&&D<this.vDomMaxRenderChain))break;if(N=x.getHeight()||this.vDomRowHeight,Y=x.initialized,!(r>=N))break;this.styleRow(x,C),c.appendChild(x.getElement()),(!x.initialized||!x.heightInitialized)&&h.push(x),x.initialize(),Y||(N=x.getElement().offsetHeight,N>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*N)),r-=N,m+=N,this.vDomBottom++,C++,D++}for(let x of h)x.clearCellHeight();this._quickNormalizeRowHeight(h),m&&(this.vDomBottomPad-=m,(this.vDomBottomPad<0||C==d.length-1)&&(this.vDomBottomPad=0),c.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=m)}_removeBottomRow(d,r){for(var c=[],h=0,m=0;;){let D,C=d[this.vDomBottom];if(!(C&&m<this.vDomMaxRenderChain))break;if(D=C.getHeight()||this.vDomRowHeight,!(r>=D))break;this.vDomBottom--,r-=D,h+=D,c.push(C),m++}for(let C of c){let D=C.getElement();D.parentNode&&D.parentNode.removeChild(D)}h&&(this.vDomBottomPad+=h,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=h)}_quickNormalizeRowHeight(d){for(let r of d)r.calcHeight();for(let r of d)r.setCellHeight()}}class Yl extends Xt{constructor(d){super(d),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.renderer=null}createHolderElement(){var d=document.createElement("div");return d.classList.add("tabulator-tableholder"),d.setAttribute("tabindex",0),d.setAttribute("role","rowgroup"),d}createTableElement(){var d=document.createElement("div");return d.classList.add("tabulator-table"),d.setAttribute("role","rowgroup"),d}getElement(){return this.element}getTableElement(){return this.tableElement}getRowPosition(d,r){return r?this.activeRows.indexOf(d):this.rows.indexOf(d)}initialize(){this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var d=this.element.scrollLeft,r=this.scrollLeft>d,c=this.element.scrollTop,h=this.scrollTop>c;this.scrollLeft!=d&&(this.scrollLeft=d,this.dispatch("scroll-horizontal",d,r),this.dispatchExternal("scrollHorizontal",d,r)),this.scrollTop!=c&&(this.scrollTop=c,this.renderer.scrollRows(c,h),this.dispatch("scroll-vertical",c,h),this.dispatchExternal("scrollVertical",c,h))})}findRow(d){return"object"!=typeof d?null!=d&&(this.rows.find(c=>c.data[this.table.options.index]==d)||!1):d instanceof As?d:d instanceof Ac?d._getSelf()||!1:"undefined"!=typeof HTMLElement&&d instanceof HTMLElement&&this.rows.find(c=>c.getElement()===d)||!1}getRowFromDataObject(d){return this.rows.find(c=>c.data===d)||!1}getRowFromPosition(d,r){return r?this.activeRows[d]:this.rows[d]}scrollToRow(d,r,c){return this.renderer.scrollToRowPosition(d,r,c)}setData(d,r,c){return new Promise((h,m)=>{r&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(d,!0):this.reRenderInPosition(()=>{this._setDataActual(d)}):(this.table.options.autoColumns&&c&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(d),this.resetScroll(),this._setDataActual(d)),h()})}_setDataActual(d,r){this.dispatchExternal("dataProcessing",d),this._wipeElements(),Array.isArray(d)?(this.dispatch("data-processing",d),d.forEach((c,h)=>{if(c&&"object"==typeof c){var m=new As(c,this);this.rows.push(m)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",c)}),this.refreshActiveData(!1,!1,r),this.dispatch("data-processed",d),this.dispatchExternal("dataProcessed",d)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof d,"\nData:     ",d)}_wipeElements(){this.dispatch("rows-wipe"),this.rows.forEach(d=>{d.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()}deleteRow(d,r){var c=this.rows.indexOf(d),h=this.activeRows.indexOf(d);h>-1&&this.activeRows.splice(h,1),c>-1&&this.rows.splice(c,1),this.setActiveRows(this.activeRows),this.displayRowIterator(m=>{var C=m.indexOf(d);C>-1&&m.splice(C,1)}),r||this.reRenderInPosition(),this.regenerateRowNumbers(),this.dispatchExternal("rowDeleted",d.getComponent()),this.displayRowsCount||this._showPlaceholder(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(d,r,c,h){var m=this.addRowActual(d,r,c,h);return this.dispatch("row-added",m,d,r,c),m}addRows(d,r,c){var h=[];return new Promise((m,C)=>{r=this.findAddRowPos(r),Array.isArray(d)||(d=[d]),(void 0===c&&r||void 0!==c&&!r)&&d.reverse(),d.forEach((D,x)=>{var N=this.addRow(D,r,c,!0);h.push(N),this.dispatch("row-added",N,d,r,c)}),this.refreshActiveData(!1,!1,!0),this.regenerateRowNumbers(),h.length&&this._clearPlaceholder(),m(h)})}findAddRowPos(d){return void 0===d&&(d=this.table.options.addRowPos),"pos"===d&&(d=!0),"bottom"===d&&(d=!1),d}addRowActual(d,r,c,h){var x,N,m=d instanceof As?d:new As(d||{},this),C=this.findAddRowPos(r),D=-1;return c||(N=this.chain("row-adding-position",[m,C],null,{index:c,top:C}),c=N.index,C=N.top),void 0!==c&&(c=this.findRow(c)),(c=this.chain("row-adding-index",[m,c,C],null,c))&&(D=this.rows.indexOf(c)),c&&D>-1?(x=this.activeRows.indexOf(c),this.displayRowIterator(function(Y){var le=Y.indexOf(c);le>-1&&Y.splice(C?le:le+1,0,m)}),x>-1&&this.activeRows.splice(C?x:x+1,0,m),this.rows.splice(C?D:D+1,0,m)):C?(this.displayRowIterator(function(Y){Y.unshift(m)}),this.activeRows.unshift(m),this.rows.unshift(m)):(this.displayRowIterator(function(Y){Y.push(m)}),this.activeRows.push(m),this.rows.push(m)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",m.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),h||this.reRenderInPosition(),m}moveRow(d,r,c){this.dispatch("row-move",d,r,c),this.moveRowActual(d,r,c),this.regenerateRowNumbers(),this.dispatch("row-moved",d,r,c),this.dispatchExternal("rowMoved",d.getComponent())}moveRowActual(d,r,c){this.moveRowInArray(this.rows,d,r,c),this.moveRowInArray(this.activeRows,d,r,c),this.displayRowIterator(h=>{this.moveRowInArray(h,d,r,c)}),this.dispatch("row-moving",d,r,c)}moveRowInArray(d,r,c,h){var m,C,x;if(r!==c&&((m=d.indexOf(r))>-1&&(d.splice(m,1),C=d.indexOf(c),d.splice(C>-1?h?C+1:C:m,0,r)),d===this.getDisplayRows())){x=C>m?C:m+1;for(let N=m<C?m:C;N<=x;N++)d[N]&&this.styleRow(d[N],N)}}clearData(){this.setData([])}getRowIndex(d){return this.findRowIndex(d,this.rows)}getDisplayRowIndex(d){var r=this.getDisplayRows().indexOf(d);return r>-1&&r}nextDisplayRow(d,r){var c=this.getDisplayRowIndex(d),h=!1;return!1!==c&&c<this.displayRowsCount-1&&(h=this.getDisplayRows()[c+1]),!h||h instanceof As&&"row"==h.type?h:this.nextDisplayRow(h,r)}prevDisplayRow(d,r){var c=this.getDisplayRowIndex(d),h=!1;return c&&(h=this.getDisplayRows()[c-1]),!r||!h||h instanceof As&&"row"==h.type?h:this.prevDisplayRow(h,r)}findRowIndex(d,r){var c;return!!((d=this.findRow(d))&&(c=r.indexOf(d),c>-1))&&c}getData(d,r){var c=[];return this.getRows(d).forEach(function(m){"row"==m.type&&c.push(m.getData(r||"data"))}),c}getComponents(d){var r=[];return this.getRows(d).forEach(function(h){r.push(h.getComponent())}),r}getDataCount(d){return this.getRows(d).length}scrollHorizontal(d){this.scrollLeft=d,this.element.scrollLeft=d,this.dispatch("scroll-horizontal",d)}registerDataPipelineHandler(d,r){void 0!==r?(this.dataPipeline.push({handler:d,priority:r}),this.dataPipeline.sort((c,h)=>c.priority-h.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(d,r){void 0!==r?(this.displayPipeline.push({handler:d,priority:r}),this.displayPipeline.sort((c,h)=>c.priority-h.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(d,r,c){var h=this.table,m="",C=0,D=["all","dataPipeline","display","displayPipeline","end"];if("function"==typeof d)if((C=this.dataPipeline.findIndex(x=>x.handler===d))>-1)m="dataPipeline",r&&(C==this.dataPipeline.length-1?m="display":C++);else{if(!((C=this.displayPipeline.findIndex(x=>x.handler===d))>-1))return void console.error("Unable to refresh data, invalid handler provided",d);m="displayPipeline",r&&(C==this.displayPipeline.length-1?m="end":C++)}else m=d||"all",C=0;if(this.redrawBlock)(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===m&&C<this.redrawBlockRestoreConfig.index||D.indexOf(m)<D.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:d,skipStage:r,renderInPosition:c,stage:m,index:C});else{switch(this.dispatch("data-refeshing"),d||(this.activeRowsPipeline[0]=this.rows.slice(0)),m){case"all":case"dataPipeline":for(let x=C;x<this.dataPipeline.length;x++){let N=this.dataPipeline[x].handler(this.activeRowsPipeline[x].slice(0));this.activeRowsPipeline[x+1]=N||this.activeRowsPipeline[x].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]),this.regenerateRowNumbers();case"display":C=0,this.resetDisplayRows();case"displayPipeline":for(let x=C;x<this.displayPipeline.length;x++){let N=this.displayPipeline[x].handler((x?this.getDisplayRows(x-1):this.activeRows).slice(0),c);this.setDisplayRows(N||this.getDisplayRows(x-1).slice(0),x)}}pn.elVisible(this.element)&&(c?this.reRenderInPosition():(d||this.table.columnManager.renderer.renderColumns(),this.renderTable(),h.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),this.dispatch("data-refeshed")}}regenerateRowNumbers(){this.rowNumColumn&&this.activeRows.forEach(d=>{var r=d.getCell(this.rowNumColumn);r&&r._generateContents()})}setActiveRows(d){this.activeRows=d,this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}getNextDisplayIndex(){return this.displayRows.length}setDisplayRows(d,r){var c=!0;return r&&void 0!==this.displayRows[r]?(this.displayRows[r]=d,c=!0):(this.displayRows.push(d),c=r=this.displayRows.length-1),r==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),c}getDisplayRows(d){return void 0===d?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[d]||[]}getVisibleRows(d){return this.renderer.visibleRows(!d)}displayRowIterator(d){this.activeRowsPipeline.forEach(d),this.displayRows.forEach(d),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(d){var r;switch(d){case"active":r=this.activeRows;break;case"display":r=this.table.rowManager.getDisplayRows();break;case"visible":r=this.getVisibleRows(!0);break;default:r=this.chain("rows-retrieve",d,null,this.rows)||this.rows}return r}reRenderInPosition(d){this.redrawBlock?d?d():this.redrawBlockRederInPosition=!0:this.renderer.rerenderRows(d)}initializeRenderer(){var d;(d="string"==typeof this.table.options.renderVertical?{virtual:Gg,basic:kp}[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderer=new d(this.table,this.element,this.tableElement),this.renderer.initialize(),this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height)):console.error("Unable to find matching renderer:",table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.layoutRefresh())):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}_showPlaceholder(){this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px")}_clearPlaceholder(){this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder)}styleRow(d,r){var c=d.getElement();r%2?(c.classList.add("tabulator-row-even"),c.classList.remove("tabulator-row-odd")):(c.classList.add("tabulator-row-odd"),c.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(d){d.normalizeHeight()})}adjustTableSize(){var d=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){let r=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+r+"px)",this.element.style.height="calc(100% - "+r+"px)",this.element.style.maxHeight="calc(100% - "+r+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-r+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),!this.fixedHeight&&d!=this.element.clientHeight&&(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw())}}reinitialize(){this.rows.forEach(function(d){d.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1}redraw(d){var r=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,d?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(r),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var d=document.createEvent("Event");d.initEvent("scroll",!1,!0),this.element.dispatchEvent(d)}else this.element.dispatchEvent(new Event("scroll"))}}class uh extends Xt{constructor(d){super(d),this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this.initializeElement()}initialize(){this.initializeElement()}createElement(){var d=document.createElement("div");return d.classList.add("tabulator-footer"),d}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement}}getElement(){return this.element}append(d,r){this.activate(r),this.element.appendChild(d),this.table.rowManager.adjustTableSize()}prepend(d,r){this.activate(r),this.element.insertBefore(d,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(d){d.parentNode.removeChild(d),this.deactivate()}deactivate(d){(!this.element.firstChild||d)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(d){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),d&&this.links.push(d)}redraw(){this.links.forEach(function(d){d.footerRedraw()})}}class $h extends Xt{constructor(d){super(d),this.el=this.table.element,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var d={};this.listeners.forEach(r=>{d[r]={handler:null,components:[]}}),this.listeners=d}bindSubscriptionWatchers(){var d=Object.keys(this.listeners),r=Object.values(this.componentMap);for(let c of r)for(let h of d)this.subscriptionChange(c+"-"+h,this.subscriptionChanged.bind(this,c,h))}subscriptionChanged(d,r,c){var h=this.listeners[r].components,m=h.indexOf(d),C=!1;c?-1===m&&(h.push(d),C=!0):this.subscribed(d+"-"+r)||m>-1&&(h.splice(m,1),C=!0),C&&this.updateEventListeners()}updateEventListeners(){for(let d in this.listeners){let r=this.listeners[d];r.components.length?r.handler||(r.handler=this.track.bind(this,d),this.el.addEventListener(d,r.handler)):r.handler&&(this.el.removeEventListener(d,r.handler),r.handler=null)}}track(d,r){var c=r.composedPath&&r.composedPath()||r.path,h=this.findTargets(c);h=this.bindComponents(d,h),this.triggerEvents(d,r,h)}findTargets(d){var r={};let c=Object.keys(this.componentMap);for(let h of d){let m=h.classList?[...h.classList]:[];if(m.filter(x=>this.abortClasses.includes(x)).length)break;let D=m.filter(x=>c.includes(x));for(let x of D)r[this.componentMap[x]]=h}return r.group&&r.group===r.row&&delete r.row,r}bindComponents(d,r){var c=Object.keys(r).reverse(),h=this.listeners[d],m={};for(let C of c){let D,x=r[C],N=this.previousTargets[C];if(N&&N.target===x)D=N.component;else switch(C){case"row":case"group":(h.components.includes("row")||h.components.includes("cell"))&&(D=this.table.rowManager.getVisibleRows().find(le=>le.getElement()===x));break;case"column":h.components.includes("column")&&(D=this.table.columnManager.findColumn(x));break;case"cell":h.components.includes("cell")&&(D=r.row.findCell(x))}D&&(r[C]=D,m[C]={target:x,component:D})}return this.previousTargets=m,r}triggerEvents(d,r,c){var h=this.listeners[d];for(let m in c)c[m]&&h.components.includes(m)&&this.dispatch(m+"-"+d,r,c[m])}}class Jh{constructor(d){this.table=d,this.bindings={}}bind(d,r,c){this.bindings[d]||(this.bindings[d]={}),this.bindings[d][r]?console.warn("Unable to bind component handler, a matching function name is already bound",d,r,hanlder):this.bindings[d][r]=c}handle(d,r,c){if(this.bindings[d]&&this.bindings[d][c])return this.bindings[d][c].bind(null,r);"then"!==c&&"string"==typeof c&&!c.startsWith("_")&&console.error("The "+d+" component does not have a "+c+" function, have you checked that you have the correct Tabulator module installed?")}}class Zh extends Xt{constructor(d){super(d),this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=null,this.errorElement=null,this.requestOrder=0,this.loading=!1}initialize(){var d;this.loaderElement.appendChild(this.msgElement),this.table.options.dataLoaderLoading&&("string"==typeof this.table.options.dataLoaderLoading?((d=document.createElement("template")).innerHTML=this.table.options.dataLoaderLoading.trim(),this.loadingElement=d.firstElementChild):this.loadingElement=this.table.options.dataLoaderLoading),this.table.options.dataLoaderError&&("string"==typeof this.table.options.dataLoaderError?((d=document.createElement("template")).innerHTML=this.table.options.dataLoaderError.trim(),this.errorElement=d.firstElementChild):this.errorElement=this.table.options.dataLoaderError)}createLoaderElement(){var d=document.createElement("div");return d.classList.add("tabulator-loader"),d}createMsgElement(){var d=document.createElement("div");return d.classList.add("tabulator-loader-msg"),d.setAttribute("role","alert"),d}load(d,r,c,h,m){var C=++this.requestOrder;return this.dispatchExternal("dataLoading",d),d&&(0==d.indexOf("{")||0==d.indexOf("["))&&(d=JSON.parse(d)),this.confirm("data-loading",d,r,c,m)?(this.loading=!0,m||this.showLoader(),r=this.chain("data-params",[d,c,m],r||{},{}),r=this.mapParams(r,this.table.options.dataSendParams),this.chain("data-load",[d,r,c,m],Promise.resolve([])).then(N=>{!Array.isArray(N)&&"object"==typeof N&&(N=this.mapParams(N,this.objectInvert(this.table.options.dataReceiveParams)));var Y=this.chain("data-loaded",N,null,N);C==this.requestOrder?(this.hideLoader(),!1!==Y&&(this.dispatchExternal("dataLoaded",Y),this.table.rowManager.setData(Y,h,!h))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}).catch(N=>{console.error("Data Load Error: ",N),this.dispatchExternal("dataLoadError",N),m||this.showError(),setTimeout(()=>{this.hideLoader()},3e3)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",d),d||(d=[]),this.table.rowManager.setData(d,h,!h),Promise.resolve())}mapParams(d,r){var c={};for(let h in d)c[r.hasOwnProperty(h)?r[h]:h]=d[h];return c}objectInvert(d){var r={};for(let c in d)r[d[c]]=c;return r}blockActiveLoad(){this.requestOrder++}showLoader(){if("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.langText("data|loading"),this.table.element.appendChild(this.loaderElement)}}showError(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.langText("data|error"),this.table.element.appendChild(this.loaderElement)}hideLoader(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)}}class Pp{constructor(d,r,c){this.table=d,this.events={},this.optionsList=r||{},this.subscriptionNotifiers={},this.dispatch=c?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=c}subscriptionChange(d,r){this.subscriptionNotifiers[d]||(this.subscriptionNotifiers[d]=[]),this.subscriptionNotifiers[d].push(r),this.subscribed(d)&&this._notifiySubscriptionChange(d,!0)}subscribe(d,r){this.events[d]||(this.events[d]=[]),this.events[d].push(r),this._notifiySubscriptionChange(d,!0)}unsubscribe(d,r){var c;if(this.events[d]){if(r){if(!((c=this.events[d].findIndex(h=>h===r))>-1))return void console.warn("Cannot remove event, no matching event found:",d,r);this.events[d].splice(c,1)}else delete this.events[d];this._notifiySubscriptionChange(d,!1)}else console.warn("Cannot remove event, no events set on:",d)}subscribed(d){return this.events[d]&&this.events[d].length}_notifiySubscriptionChange(d,r){var c=this.subscriptionNotifiers[d];c&&c.forEach(h=>{h(r)})}_dispatch(){var c,d=Array.from(arguments),r=d.shift();return this.events[r]&&this.events[r].forEach((h,m)=>{let C=h.apply(this.table,d);m||(c=C)}),c}_debugDispatch(){var d=Array.from(arguments),r=d[0];return d[0]="ExternalEvent:"+d[0],(!0===this.debug||this.debug.includes(r))&&console.log(...d),this._dispatch(...arguments)}}class Ma{constructor(d){this.events={},this.subscriptionNotifiers={},this.dispatch=d?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=d?this._debugChain.bind(this):this._chain.bind(this),this.confirm=d?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=d}subscriptionChange(d,r){this.subscriptionNotifiers[d]||(this.subscriptionNotifiers[d]=[]),this.subscriptionNotifiers[d].push(r),this.subscribed(d)&&this._notifiySubscriptionChange(d,!0)}subscribe(d,r,c=1e4){this.events[d]||(this.events[d]=[]),this.events[d].push({callback:r,priority:c}),this.events[d].sort((h,m)=>h.priority-m.priority),this._notifiySubscriptionChange(d,!0)}unsubscribe(d,r){var c;if(this.events[d]){if(r){if(!((c=this.events[d].findIndex(h=>h.callback===r))>-1))return void console.warn("Cannot remove event, no matching event found:",d,r);this.events[d].splice(c,1)}this._notifiySubscriptionChange(d,!1)}else console.warn("Cannot remove event, no events set on:",d)}subscribed(d){return this.events[d]&&this.events[d].length}_chain(d,r,c,h){var m=c;return Array.isArray(r)||(r=[r]),this.subscribed(d)?(this.events[d].forEach((C,D)=>{m=C.callback.apply(this,r.concat([m]))}),m):"function"==typeof h?h():h}_confirm(d,r){var c=!1;return Array.isArray(r)||(r=[r]),this.subscribed(d)&&this.events[d].forEach((h,m)=>{h.callback.apply(this,r)&&(c=!0)}),c}_notifiySubscriptionChange(d,r){var c=this.subscriptionNotifiers[d];c&&c.forEach(h=>{h(r)})}_dispatch(){var d=Array.from(arguments),r=d.shift();this.events[r]&&this.events[r].forEach(c=>{c.callback.apply(this,d)})}_debugDispatch(){var d=Array.from(arguments),r=d[0];return d[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...d),this._dispatch(...arguments)}_debugChain(){var d=Array.from(arguments),r=d[0];return d[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...d),this._chain(...arguments)}_debugConfirm(){var d=Array.from(arguments),r=d[0];return d[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...d),this._confirm(...arguments)}}let Fd=(()=>{class g{static register(r){g.tables.push(r)}static deregister(r){var c=g.tables.indexOf(r);c>-1&&g.tables.splice(c,1)}static lookupTable(r,c){var m,C,h=[];if("string"==typeof r){if((m=document.querySelectorAll(r)).length)for(var D=0;D<m.length;D++)(C=g.matchElement(m[D]))&&h.push(C)}else"undefined"!=typeof HTMLElement&&r instanceof HTMLElement||r instanceof Kl?(C=g.matchElement(r))&&h.push(C):Array.isArray(r)?r.forEach(function(x){h=h.concat(g.lookupTable(x))}):c||console.warn("Table Connection Error - Invalid Selector",r);return h}static matchElement(r){return g.tables.find(function(c){return r instanceof Kl?c===r:c.element===r})}}return g.tables=[],g})();function Qh(g){g.forEach(function(d){d.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var dh={fitData:function(g){this.table.columnManager.renderer.reinitializeColumnWidths(g),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:Qh,fitDataTable:Qh,fitDataStretch:function(g){var d=0,r=this.table.rowManager.element.clientWidth,c=0,h=!1;g.forEach((m,C)=>{m.widthFixed||m.reinitializeWidth(),(this.table.options.responsiveLayout?m.modules.responsive.visible:m.visible)&&(h=m),m.visible&&(d+=m.getWidth())}),h?(c=r-d+h.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(h.setWidth(0),this.table.modules.responsiveLayout.update()),c>0?h.setWidth(c):h.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(g){var m,N,d=this.table.element.clientWidth,r=0,c=0,h=0,C=[],D=[],x=0,Y=0;function le(Ve){return"string"==typeof Ve?Ve.indexOf("%")>-1?d/100*parseInt(Ve):parseInt(Ve):Ve}function De(Ve,nt,dt,_t){var Mt=[],ln=0,Un=0,Sn=0,Dn=h,Xn=0,$n=0,Jn=[];function si(oi){return dt*(oi.column.definition.widthGrow||1)}function Zi(oi){return le(oi.width)-dt*(oi.column.definition.widthShrink||0)}return Ve.forEach(function(oi,Wi){var io=_t?Zi(oi):si(oi);oi.column.minWidth>=io?Mt.push(oi):oi.column.maxWidth&&oi.column.maxWidth<io?(oi.width=oi.column.maxWidth,nt-=oi.column.maxWidth,(Dn-=_t?oi.column.definition.widthShrink||1:oi.column.definition.widthGrow||1)&&(dt=Math.floor(nt/Dn))):(Jn.push(oi),$n+=_t?oi.column.definition.widthShrink||1:oi.column.definition.widthGrow||1)}),Mt.length?(Mt.forEach(function(oi){ln+=_t?oi.width-oi.column.minWidth:oi.column.minWidth,oi.width=oi.column.minWidth}),Xn=(Un=nt-ln)-(Sn=$n?Math.floor(Un/$n):Un)*$n,Xn+=De(Jn,Un,Sn,_t)):(Xn=$n?nt-Math.floor(nt/$n)*$n:nt,Jn.forEach(function(oi){oi.width=_t?Zi(oi):si(oi)})),Xn}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(d-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),g.forEach(function(Ve){var nt,dt,_t;Ve.visible&&(nt=Ve.definition.width,dt=parseInt(Ve.minWidth),nt?(_t=le(nt),r+=_t>dt?_t:dt,Ve.definition.widthShrink&&(D.push({column:Ve,width:_t>dt?_t:dt}),x+=Ve.definition.widthShrink)):(C.push({column:Ve,width:0}),h+=Ve.definition.widthGrow||1))}),c=d-r,m=Math.floor(c/h),Y=De(C,c,m,!1),C.length&&Y>0&&(C[C.length-1].width+=+Y),C.forEach(function(Ve){c-=Ve.width}),(N=Math.abs(Y)+c)>0&&x&&(Y=De(D,N,Math.floor(N/x),!0)),D.length&&(D[D.length-1].width-=Y),C.forEach(function(Ve){Ve.column.setWidth(Ve.width)}),D.forEach(function(Ve){Ve.column.setWidth(Ve.width)})}},qh={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},dc=Object.freeze({__proto__:null,LayoutModule:(()=>{class g extends Kt{constructor(r){super(r,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var r=this.table.options.layout;g.modes[r]?this.mode=r:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+r),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(){g.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),this.dispatch("layout-refreshed")}}return g.moduleName="layout",g.modes=dh,g})(),LocalizeModule:(()=>{class g extends Kt{constructor(r){super(r),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=pn.deepClone(g.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let r in this.table.options.langs)this.installLang(r,this.table.options.langs[r]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(r){this.langList.default.headerFilters.default=r}setHeaderFilterColumnPlaceholder(r,c){this.langList.default.headerFilters.columns[r]=c,this.lang&&!this.lang.headerFilters.columns[r]&&(this.lang.headerFilters.columns[r]=c)}installLang(r,c){this.langList[r]?this._setLangProp(this.langList[r],c):this.langList[r]=c}_setLangProp(r,c){for(let h in c)r[h]&&"object"==typeof r[h]?this._setLangProp(r[h],c[h]):r[h]=c[h]}setLocale(r){if(!0===(r=r||"default")&&navigator.language&&(r=navigator.language.toLowerCase()),r&&!this.langList[r]){let h=r.split("-")[0];this.langList[h]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",r,h),r=h):(console.warn("Localization Error - Matching locale not found, using default: ",r),r="default")}this.locale=r,this.lang=pn.deepClone(this.langList.default||{}),"default"!=r&&function c(h,m){for(var C in h)"object"==typeof h[C]?(m[C]||(m[C]={}),c(h[C],m[C])):m[C]=h[C]}(this.langList[r],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(r){return this.locale}getLang(r){return r?this.langList[r]:this.lang}getText(r,c){var h=(r=c?r+"|"+c:r).split("|");return this._getLangElement(h,this.locale)||""}_getLangElement(r,c){var h=this.lang;return r.forEach(function(m){var C;h&&(h=void 0!==(C=h[m])&&C)}),h}bind(r,c){this.bindings[r]||(this.bindings[r]=[]),this.bindings[r].push(c),c(this.getText(r),this.lang)}_executeBindings(){for(let r in this.bindings)this.bindings[r].forEach(c=>{c(this.getText(r),this.lang)})}}return g.moduleName="localize",g.langs=qh,g})(),CommsModule:(()=>{class g extends Kt{constructor(r){super(r)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(r){var c=[];return Fd.lookupTable(r).forEach(m=>{this.table!==m&&c.push(m)}),c}send(r,c,h,m){var C=this.getConnections(r);C.forEach(D=>{D.tableComms(this.table.element,c,h,m)}),!C.length&&r&&console.warn("Table Connection Error - No tables matching selector found",r)}receive(r,c,h,m){if(this.table.modExists(c))return this.table.modules[c].commsReceived(r,h,m);console.warn("Inter-table Comms Error - no such module:",c)}}return g.moduleName="comms",g})()});class hh{constructor(d,r){this.bindStaticFuctionality(d),this.bindModules(d,dc,!0),r&&this.bindModules(d,r)}bindStaticFuctionality(d){d.moduleBindings={},d.extendModule=function(r,c,h){if(d.moduleBindings[r]){var m=d.moduleBindings[r][c];if(m)if("object"==typeof h)for(let C in h)m[C]=h[C];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",c)}else console.warn("Module Error - module does not exist:",r)},d.registerModule=function(r){Array.isArray(r)||(r=[r]),r.forEach(c=>{d.registerModuleBinding(c)})},d.registerModuleBinding=function(r){d.moduleBindings[r.moduleName]=r},d.findTable=function(r){var c=Fd.lookupTable(r,!0);return!(Array.isArray(c)&&!c.length)&&c},d.prototype.bindModules=function(){for(var r in this.modules={},d.moduleBindings){let c=d.moduleBindings[r];this.modules[r]=new c(this),c.prototype.moduleCore?this.modulesCore[r]=this.modules[r]:this.modulesRegular[r]=this.modules[r]}}}bindModules(d,r,c){var h=Object.values(r);c&&h.forEach(m=>{m.prototype.moduleCore=!0}),d.registerModule(h)}}let Kl=(()=>{class g{constructor(r,c){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Jh(this),this.dataLoader=!1,this.modules={},this.modulesCore={},this.modulesRegular={},this.optionsList=new cc(this,"table constructor"),this.initialized=!1,this.initializeElement(r)&&(this.initialzeCoreSystems(c),setTimeout(()=>{this._create()})),Fd.register(this)}initializeElement(r){return"undefined"!=typeof HTMLElement&&r instanceof HTMLElement?(this.element=r,!0):"string"==typeof r?(this.element=document.querySelector(r),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",r),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",r),!1)}initialzeCoreSystems(r){this.columnManager=new ch(this),this.rowManager=new Yl(this),this.footerManager=new uh(this),this.dataLoader=new Zh(this),this.bindModules(),this.options=this.optionsList.generate(g.defaultOptions,r),this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.externalEvents=new Pp(this,this.options,this.options.debugEventsExternal),this.eventBus=new Ma(this.options.debugEventsInternal),this.interactionMonitor=new $h(this),this.dataLoader.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this.footerManager.initialize()}_mapDepricatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var r=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==r.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),this.options.data&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var h,r=this.element,c=this.options;if("TABLE"===r.tagName){this.originalElement=this.element,h=document.createElement("div");var m=r.attributes;for(var C in m)"object"==typeof m[C]&&h.setAttribute(m[C].name,m[C].value);r.parentNode.replaceChild(h,r),this.element=r=h}for(r.classList.add("tabulator"),r.setAttribute("role","grid");r.firstChild;)r.removeChild(r.firstChild);c.height&&(c.height=isNaN(c.height)?c.height:c.height+"px",r.style.height=c.height),!1!==c.minHeight&&(c.minHeight=isNaN(c.minHeight)?c.minHeight:c.minHeight+"px",r.style.minHeight=c.minHeight),!1!==c.maxHeight&&(c.maxHeight=isNaN(c.maxHeight)?c.maxHeight:c.maxHeight+"px",r.style.maxHeight=c.maxHeight)}_initializeTable(){var r=this.element,c=this.options;this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser();for(let C in this.modulesCore)this.modulesCore[C].initialize();if("string"==typeof c.placeholder){var h=document.createElement("div");h.classList.add("tabulator-placeholder");var m=document.createElement("span");m.innerHTML=c.placeholder,h.appendChild(m),c.placeholder=h}r.appendChild(this.columnManager.getElement()),r.appendChild(this.rowManager.getElement()),c.footerElement&&this.footerManager.activate(),c.autoColumns&&c.data&&this.columnManager.generateColumnsFromRowData(this.options.data);for(let C in this.modulesRegular)this.modulesRegular[C].initialize();this.columnManager.setColumns(c.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var r=this.element;for(Fd.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.rows.forEach(function(c){c.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[];r.firstChild;)r.removeChild(r.firstChild);r.classList.remove("tabulator")}_detectBrowser(){var r=navigator.userAgent||navigator.vendor||window.opera;r.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):r.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):r.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4))}blockRedraw(){return this.rowManager.blockRedraw()}restoreRedraw(){return this.rowManager.restoreRedraw()}setDataFromLocalFile(r){return new Promise((c,h)=>{var m=document.createElement("input");m.type="file",m.accept=r||".json,application/json",m.addEventListener("change",C=>{var N,D=m.files[0],x=new FileReader;x.readAsText(D),x.onload=Y=>{try{N=JSON.parse(x.result)}catch(le){return console.warn("File Load Error - File contents is invalid JSON",le),void h(le)}this.setData(N).then(le=>{c(le)}).catch(le=>{c(le)})},x.onerror=Y=>{console.warn("File Load Error - Unable to read file"),h()}}),m.click()})}setData(r,c,h){if(this.initialized)return this.dataLoader.load(r,c,h,!1);console.warn("setData failed - table not yet initialized. To set initial data please use the 'data' property in the table constructor.")}clearData(){this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(r){return this.rowManager.getData(r)}getDataCount(r){return this.rowManager.getDataCount(r)}replaceData(r,c,h){if(this.initialized)return this.dataLoader.load(r,c,h,!0,!0);console.warn("replaceData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateData(r){var c=0;if(this.initialized)return new Promise((h,m)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?r.forEach(C=>{var D=this.rowManager.findRow(C[this.options.index]);D&&(c++,D.updateData(C).then(()=>{--c||h()}))}):(console.warn("Update Error - No data provided"),m("Update Error - No data provided"))});console.warn("updateData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}addData(r,c,h){if(this.initialized)return new Promise((m,C)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?this.rowManager.addRows(r,c,h).then(D=>{var x=[];D.forEach(function(N){x.push(N.getComponent())}),m(x)}):(console.warn("Update Error - No data provided"),C("Update Error - No data provided"))});console.warn("addData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddData(r){var c=[],h=0;if(this.initialized)return new Promise((m,C)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?r.forEach(D=>{var x=this.rowManager.findRow(D[this.options.index]);h++,x?x.updateData(D).then(()=>{h--,c.push(x.getComponent()),h||m(c)}):this.rowManager.addRows(D).then(N=>{h--,c.push(N[0].getComponent()),h||m(c)})}):(console.warn("Update Error - No data provided"),C("Update Error - No data provided"))});console.warn("updateOrAddData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRow(r){var c=this.rowManager.findRow(r);return c?c.getComponent():(console.warn("Find Error - No matching row found:",r),!1)}getRowFromPosition(r,c){var h=this.rowManager.getRowFromPosition(r,c);return h?h.getComponent():(console.warn("Find Error - No matching row found:",r),!1)}deleteRow(r){var c=[];Array.isArray(r)||(r=[r]);for(let h of r){let m=this.rowManager.findRow(h,!0);if(!m)return console.error("Delete Error - No matching row found:",h),Promise.reject("Delete Error - No matching row found");c.push(m)}return c.sort((h,m)=>this.rowManager.rows.indexOf(h)>this.rowManager.rows.indexOf(m)?1:-1),c.forEach(h=>{h.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(r,c,h){if(this.initialized)return"string"==typeof r&&(r=JSON.parse(r)),this.rowManager.addRows(r,c,h).then(m=>m[0].getComponent());console.warn("addRow failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddRow(r,c){var h=this.rowManager.findRow(r);return"string"==typeof c&&(c=JSON.parse(c)),h?h.updateData(c).then(()=>h.getComponent()):this.rowManager.addRows(c).then(m=>m[0].getComponent())}updateRow(r,c){var h=this.rowManager.findRow(r);return"string"==typeof c&&(c=JSON.parse(c)),h?h.updateData(c).then(()=>{resolve(h.getComponent())}):(console.warn("Update Error - No matching row found:",r),Promise.reject("Update Error - No matching row found"))}scrollToRow(r,c,h){var m=this.rowManager.findRow(r);return m?this.rowManager.scrollToRow(m,c,h):(console.warn("Scroll Error - No matching row found:",r),Promise.reject("Scroll Error - No matching row found"))}moveRow(r,c,h){var m=this.rowManager.findRow(r);m?m.moveToRow(c,h):console.warn("Move Error - No matching row found:",r)}getRows(r){if(this.initialized)return this.rowManager.getComponents(r);console.warn("getRows failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRowPosition(r,c){var h=this.rowManager.findRow(r);return h?this.rowManager.getRowPosition(h,c):(console.warn("Position Error - No matching row found:",r),!1)}setColumns(r){this.initialized?this.columnManager.setColumns(r):console.warn("setColumns failed - table not yet initialized. To set initial data please use the 'columns' property in the table constructor.")}getColumns(r){return this.columnManager.getComponents(r)}getColumn(r){var c=this.columnManager.findColumn(r);return c?c.getComponent():(console.warn("Find Error - No matching column found:",r),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(r){var c=this.columnManager.findColumn(r);if(!c)return console.warn("Column Show Error - No matching column found:",r),!1;c.show()}hideColumn(r){var c=this.columnManager.findColumn(r);if(!c)return console.warn("Column Hide Error - No matching column found:",r),!1;c.hide()}toggleColumn(r){var c=this.columnManager.findColumn(r);if(!c)return console.warn("Column Visibility Toggle Error - No matching column found:",r),!1;c.visible?c.hide():c.show()}addColumn(r,c,h){var m=this.columnManager.findColumn(h);return this.columnManager.addColumn(r,c,m).then(C=>C.getComponent())}deleteColumn(r){var c=this.columnManager.findColumn(r);return c?c.delete():(console.warn("Column Delete Error - No matching column found:",r),Promise.reject())}updateColumnDefinition(r,c){var h=this.columnManager.findColumn(r);return h?h.updateDefinition(c):(console.warn("Column Update Error - No matching column found:",r),Promise.reject())}moveColumn(r,c,h){var m=this.columnManager.findColumn(r),C=this.columnManager.findColumn(c);m?C?this.columnManager.moveColumn(m,C,h):console.warn("Move Error - No matching column found:",C):console.warn("Move Error - No matching column found:",r)}scrollToColumn(r,c,h){return new Promise((m,C)=>{var D=this.columnManager.findColumn(r);return D?this.columnManager.scrollToColumn(D,c,h):(console.warn("Scroll Error - No matching column found:",r),Promise.reject("Scroll Error - No matching column found"))})}redraw(r){this.initialized?(this.columnManager.redraw(r),this.rowManager.redraw(r)):console.warn("redraw failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}setHeight(r){this.options.height=isNaN(r)?r:r+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(r,c){this.externalEvents.subscribe(r,c)}off(r,c){this.externalEvents.unsubscribe(r,c)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}modExists(r,c){return!!this.modules[r]||(c&&console.error("Tabulator Module Not Installed: "+r),!1)}module(r){var c=this.modules[r];return c||console.error("Tabulator module not installed: "+r),c}}return g.defaultOptions=lh,g})();new hh(Kl),new hh(class extends Kl{},Op);let Np=(()=>{class g{constructor(){this.a=null,this.b=null,this.dataObject=[],this.objectsForGrid=[],this.stringsForGrid=[],this.hotInstance=null}get hot(){if(null!=this.hotInstance)return this.hotInstance;throw new Error("hot is null")}initGrid(r){Kl.registerModule([Wh,$o,nh,lc]),this.hotInstance=new Kl(r,{columns:[{title:"Step",field:"id"}],layout:"fitColumns",clipboard:"copy",footerElement:"<div>\n        \x3c!-- <a href=\"javascript:{var event = new Event('TabCopy'); window.dispatchEvent(event);}\">Copy Clipboard</a>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href=\"javascript:{var event = new Event('TabDownload'); window.dispatchEvent(event);}\">CSV</a>\n        --\x3e\n        \n    </div>",placeholder:"please press execute button",tooltips:function(c){return c.getColumn().getField()+" - "+c.getValue()}}),this.hot.replaceData([]),this.hot.redraw(!0)}AddStringToGrid(r){if(r.startsWith("{")&&r.endsWith("}"))try{var c=JSON.parse(r);return void this.objectsForGrid.push(c)}catch(C){}if(r.startsWith("[")&&r.endsWith("]"))try{for(var h=JSON.parse(r),m=0;m<h.length;m++)this.objectsForGrid.push(h[m]);return}catch(C){}this.stringsForGrid.push(r)}AddDataToGrid(r){return"string"==typeof r?(this.AddStringToGrid(null==r?void 0:r.toString()),void this.dataObject.push([null==r?void 0:r.toString()])):"object"==typeof r?(console.log("adding object to grid"),this.AddStringToGrid(JSON.stringify(r)),void this.dataObject.push([r])):(this.dataObject.push([r.ToString()]),void this.AddStringToGrid(r.toString()))}ClearDataGrid(){this.dataObject=[],this.objectsForGrid=[],this.stringsForGrid=[],null!=this.hot&&(this.hot.setColumns([{title:"Step",field:"id"},{title:"Value",field:"val"}]),this.hot.replaceData([]),this.hot.redraw(!0))}hasOwnProperty(r,c){return null!=r&&r.hasOwnProperty(c)}AddObjectToFinishGrid(){for(var r=[],c=this.objectsForGrid,h=0;h<c.length;h++)"string"==typeof(m=c[h])?r.push("_"):r.push(...Object.keys(m));var C=new Set(r);r=Array.from(C);var D=[...r],x=[];for(h=0;h<c.length;h++){for(var m=c[h],N={Nr:h+1},Y=0;Y<r.length;Y++){var le=r[Y],De=this.goodNameForKey(le);if(m&&this.hasOwnProperty(m,le)){var Ve=m[le];N[De]="object"==typeof Ve?JSON.stringify(Ve):Ve}else N[De]="string"==typeof m&&0===Y?m:""}x.push(N)}r.splice(0,0,"Nr"),D.splice(0,0,"Nr");var nt=this.Headers(D);this.hot.setColumns(nt),this.hot.replaceData(x)}Headers(r){return r.map(c=>({title:c,field:this.goodNameForKey(c),formatter:function(h,m,C){try{var D=h.getValue().toString();if(D.length<2)return D;if(D.startsWith("[")&&D.endsWith("]"))try{var x=JSON.parse(D),N=h.getRow().getData().Nr,le=h.getColumn().getField()+"_"+N;return C(function(){new Kl("#"+le,{data:x,autoColumns:!0,layout:"fitDataFill"})}),"<div id='"+le+"'>"+D+"</div>"}catch(De){return D}}catch(De){return D}return h.getValue()}}))}AddStringToFinishGrid(){for(var r=[],c=0;c<this.stringsForGrid.length;c++)r.push({Nr:c+1,Text:this.stringsForGrid[c]});var m=this.Headers(["Nr","Text"]);this.hot.setColumns(m),this.hot.replaceData(r)}FinishGrid(){this.objectsForGrid.length+this.stringsForGrid.length!=0&&(this.objectsForGrid.length>0?this.AddObjectToFinishGrid():this.AddStringToFinishGrid(),this.hot.redraw(!0))}goodNameForKey(r){var c=r;return c.replace(".","_")}copyClip(){this.hot.copyToClipboard()}copyCSV(){this.hot.download("csv","data.csv",{bom:!0})}}return g.\u0275fac=function(r){return new(r||g)},g.\u0275prov=Ie.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var Gf=_(970),Wf=_(93124),Fp=_(60805),zg=_(45725),hc=_(45491),Hd=_(74026),jf=_(67617),Yg=_(31749),zf=_(28369),qu=_(16274),Vd=_(8220),fh=_(30142),Ud=_(93324);function ed(g,d){if(1&g){const r=Ie.EpF();Ie.TgZ(0,"button",19),Ie.NdJ("click",function(){const m=Ie.CHM(r).$implicit;return Ie.oxw(2).ShowDemo(m.id)}),Ie._uU(1),Ie.qZA()}if(2&g){const r=d.$implicit,c=d.index;Ie.xp6(1),Ie.AsE(" ",c+1," ",r.description," ")}}function gh(g,d){if(1&g&&(Ie.TgZ(0,"button",9),Ie._uU(1),Ie.qZA(),Ie.TgZ(2,"mat-menu",null,18),Ie.YNc(4,ed,2,2,"ng-template",11),Ie.qZA()),2&g){const r=d.$implicit,c=d.index,h=Ie.MAs(3);Ie.Q6J("matMenuTriggerFor",h),Ie.xp6(1),Ie.lnq(" ",c+1," ",r.key," (",r.value.length,") "),Ie.xp6(3),Ie.Q6J("ngForOf",r.value)}}function Kg(g,d){if(1&g){const r=Ie.EpF();Ie.TgZ(0,"button",19),Ie.NdJ("click",function(){const m=Ie.CHM(r).$implicit;return Ie.oxw(2).ShowDemo(m.id)}),Ie._uU(1),Ie.qZA()}if(2&g){const r=d.$implicit,c=d.index;Ie.xp6(1),Ie.AsE(" ",c+1," ",r.description," ")}}function np(g,d){if(1&g&&(Ie.TgZ(0,"button",9),Ie._uU(1),Ie.qZA(),Ie.TgZ(2,"mat-menu",null,20),Ie.YNc(4,Kg,2,2,"ng-template",11),Ie.qZA()),2&g){const r=d.$implicit,c=d.index,h=Ie.MAs(3);Ie.Q6J("matMenuTriggerFor",h),Ie.xp6(1),Ie.lnq(" ",c+1," ",r.key.toLowerCase()," (",r.value.length,") "),Ie.xp6(3),Ie.Q6J("ngForOf",r.value)}}const td=function(g){return["/","automation","loadexample",g]};function mh(g,d){if(1&g&&(Ie.TgZ(0,"a",21),Ie._uU(1),Ie.qZA()),2&g){const r=Ie.oxw();Ie.Q6J("routerLink",Ie.VKq(2,td,r.mustLoadDemoBlock)),Ie.xp6(1),Ie.hij("Direct link ",r.mustLoadDemoBlock,"")}}function _h(g,d){1&g&&(Ie.TgZ(0,"span"),Ie._uU(1,"Loading"),Ie.qZA())}function Bp(g,d){if(1&g){const r=Ie.EpF();Ie.TgZ(0,"ngx-monaco-editor",23),Ie.NdJ("ngModelChange",function(h){return Ie.CHM(r),Ie.oxw(2).showInner=h}),Ie.qZA()}if(2&g){const r=Ie.oxw(2);Ie.Q6J("options",r.editorPlain)("ngModel",r.showInner)}}function Hp(g,d){if(1&g){const r=Ie.EpF();Ie.TgZ(0,"ngx-monaco-editor",23),Ie.NdJ("ngModelChange",function(h){return Ie.CHM(r),Ie.oxw(2).showJSCode=h}),Ie.qZA()}if(2&g){const r=Ie.oxw(2);Ie.Q6J("options",r.editorXMLOptions)("ngModel",r.showJSCode)}}function Yf(g,d){if(1&g){const r=Ie.EpF();Ie.TgZ(0,"ngx-monaco-editor",23),Ie.NdJ("ngModelChange",function(h){return Ie.CHM(r),Ie.oxw(2).showXMLCode=h}),Ie.qZA()}if(2&g){const r=Ie.oxw(2);Ie.Q6J("options",r.editorJSOptions)("ngModel",r.showXMLCode)}}function Kf(g,d){if(1&g){const r=Ie.EpF();Ie.TgZ(0,"ngx-monaco-editor",23),Ie.NdJ("ngModelChange",function(h){return Ie.CHM(r),Ie.oxw(2).showBlocksDefinition=h}),Ie.qZA()}if(2&g){const r=Ie.oxw(2);Ie.Q6J("options",r.editorJSOptions)("ngModel",r.showBlocksDefinition)}}function ip(g,d){if(1&g&&(Ie.TgZ(0,"mat-grid-tile"),Ie.YNc(1,Bp,1,2,"ngx-monaco-editor",22),Ie.YNc(2,Hp,1,2,"ngx-monaco-editor",22),Ie.YNc(3,Yf,1,2,"ngx-monaco-editor",22),Ie.YNc(4,Kf,1,2,"ngx-monaco-editor",22),Ie.qZA()),2&g){const r=Ie.oxw();Ie.xp6(1),Ie.Q6J("ngIf",r.ShowOutput()),Ie.xp6(1),Ie.Q6J("ngIf",r.ShowCode()),Ie.xp6(1),Ie.Q6J("ngIf",r.ShowXML()),Ie.xp6(1),Ie.Q6J("ngIf",r.ShowBlocksDefinition())}}var dl=(()=>{return(g=dl||(dl={}))[g.ShowNone=0]="ShowNone",g[g.ShowBlocksDefinition=1]="ShowBlocksDefinition",g[g.ShowXML=2]="ShowXML",g[g.ShowOutput=3]="ShowOutput",g[g.ShowCode=4]="ShowCode",g[g.Stop=100]="Stop",dl;var g})();let Xf=(()=>{class g{constructor(r,c,h,m,C,D){this.tabulator=r,this.settings=c,this.loadDemo=h,this.ar=m,this.ta=C,this.snackBar=D,this.editorXMLOptions={theme:"vs-dark",language:"xml"},this.editorJSOptions={theme:"vs-dark",language:"javascript",lineNumbers:"on"},this.editorPlain={theme:"vs-dark",language:"plaintext",lineNumbers:"on"},this.code='function x() {\nconsole.log("Hello world!");\n}',this.showCodeAndXML=dl.ShowNone,this.swaggerLoaded=0,this.demoWorkspace=null,this.demos=[],this.demosCategories=new Map,this.demosBlocks=new Map,this.mustLoadDemoBlock="",this.intro=f(),this.myId=0,this.fullTextData="",this.fullHtmlData="",this.myChart=null,this.step=0,this.swaggerData=[],this.showInner="",this.showXMLCode="",this.showJSCode="",this.showBlocksDefinition="",this.toolboxXML="",this.myId=++g.id,this.ar.paramMap.subscribe(x=>{this.mustLoadDemoBlock=x.get("demoblock")}),this.InitiateDemos(),this.ta.receiveData().subscribe(x=>{"DisplayBlocklyComponent"==x[0]&&this[x[1]]()})}InitiateDemos(){var r=this.settings.demoBlocks;this.demos=r.sort((m,C)=>m.description.localeCompare(C.description));var c=r.map(m=>m.categories).filter(m=>(null==m?void 0:m.length)>0).flatMap(m=>m.split(";")).filter(m=>(null==m?void 0:m.length)>0);this.demosCategories.set("All",this.demos),c.forEach(m=>{this.demosCategories.set(m,r.filter(C=>{var D;return(null===(D=C.categories)||void 0===D?void 0:D.length)>0}).filter(C=>(";"+C.categories+";").indexOf(";"+m+";")>-1))}),r.map(m=>m.blocks).filter(m=>(null==m?void 0:m.length)>0).flatMap(m=>m.split(";")).filter(m=>(null==m?void 0:m.length)>0).sort((m,C)=>m.toLowerCase().localeCompare(C.toLowerCase())).forEach(m=>{this.demosBlocks.set(m.toLowerCase(),r.filter(C=>{var D;return(null===(D=C.blocks)||void 0===D?void 0:D.length)>0}).filter(C=>(";"+C.blocks+";").indexOf(";"+m+";")>-1))})}createIntro(){var r,c,h=(null===(r=this.settings.settings)||void 0===r?void 0:r.title)||"",m=null===(c=this.settings.settings)||void 0===c?void 0:c.tourSteps.map(C=>({title:h,intro:C.text,element:document.querySelector(C.query)||void 0}));this.intro.setOptions({exitOnEsc:!0,showStepNumbers:!0,showButtons:!0,doneLabel:"Exit",skipLabel:"Skip",showProgress:!0,steps:m}).start()}clearOutput(){this.step=0,this.showInner="",this.tabulator.ClearDataGrid(),null!=this.myChart&&this.myChart.destroy();var r=this.theHtmlOutput();r.innerHTML="",this.fullHtmlData="",(r=this.theTextOutput()).innerText="",this.fullTextData=""}ShowText(r){if(null!=r){var c=r.toString();this.fullTextData+=c,this.theTextOutput().innerText=this.fullTextData}}finishHTMLOutput(){this.theHtmlOutput().innerHTML=this.fullHtmlData}ShowHTML(r){if(null!=r){var c=r.toString();this.fullHtmlData+=c,this.theHtmlOutput().innerHTML+=c}}theHtmlOutput(){return document.getElementById("htmlOutput"+this.myId)}theTextOutput(){return document.getElementById("htmlText"+this.myId)}ShowChart(r){var c,h=null===(c=document.getElementById("barchart"+this.myId))||void 0===c?void 0:c.getContext("2d");if(null!=h)try{var m=null==r?void 0:r.toString(),C=JSON.parse(m);C&&C.type&&(this.myChart=new ut(h,C),console.log("make chart",r))}catch(D){this.myChart=null}else console.log("not canvas available for chart!")}RunCode(){this.snackBar.open("Program start","Executing...");var r=this,c=this.run.latestCode,h=this.showJSCode;r.CalculateXMLAndCode(),this.run=n.interpreterHelper.createInterpreter(this.demoWorkspace,t),this.clearOutput(),this.showCodeAndXML=dl.ShowOutput,this.showInner='{ "step_start": "start program",',c!=h&&(window.confirm("Do you want to run the code modified by you ?")&&(c=h),this.showJSCode=h),this.run.runCode((C,D)=>{try{return new Interpreter(C,D)}catch(x){r.CalculateXMLAndCode(),window.alert("please copy the left output and report there is an error at "+JSON.stringify(x)),this.showCodeAndXML=dl.ShowCode}},C=>{r.step++,r.showInner+=`\n           \n"step_${r.step}" : "${C}",`,r.tabulator.AddDataToGrid(C),r.ShowChart(C),r.ShowHTML(C),r.ShowText(C)},()=>{this.snackBar.open("Program end","Done!",{duration:3e3}),r.showInner+='\n "step_end" : "program executed; see results below"\n}',this.tabulator.FinishGrid(),this.finishHTMLOutput()},c)}ShowDemo(r){this.mustLoadDemoBlock=r,this.loadDemo.getDemoBlock(r).subscribe(c=>{var h=o.Xml.textToDom(c);null!=this.demoWorkspace&&(o.Xml.clearWorkspaceAndLoadFromXml(h,this.demoWorkspace),window.alert("please press run code button"))})}registerSwaggerBlocksObjects(r,c){return c.fieldXMLObjects.map(m=>o.Xml.textToDom(m))}registerSwaggerBlocksAPIControllers(r,c,h){return c.findfieldXMLFunctions(h).map(C=>o.Xml.textToDom(C.gui))}registerSwaggerBlocksAPIAll(r,c){return c.fieldXMLFunctions.map(m=>o.Xml.textToDom(m.gui))}ngOnInit(){}ngAfterViewInit(){this.StartRegister(),(0,Ft.R)(window,"TabDownload").subscribe(r=>this.tabulator.copyCSV()),(0,Ft.R)(window,"TabCopy").subscribe(r=>this.tabulator.copyClip())}LoadSwagger(){var r=window.prompt("Swagger url? ","https://swagger-tax-calc-api.herokuapp.com/api-docs");if(r){if(r.endsWith(".html")||r.endsWith(".htm"))return void window.alert("Swagger should end with .json - see source of html page");this.LoadSwaggerFromUrl(r).then(c=>{this.addToToolboxSwagger(c,this),window.alert("done")})}}LoadSwaggerFromUrl(r,c){var h=this;return(0,E.Z)(function*(){var m=new s.parseData(r),C=yield m.ParseSwagger();return C.name=c||r,h.LoadSwaggerFromAPI(C)})()}LoadSwaggerFromAPI(r){this.swaggerData.push(r);for(var c=0;c<r.GenerateBlocks.length;c++)(0,r.GenerateBlocks[c])(o.Blocks,t,C=>new o.FieldDropdown(C));for(c=0;c<r.GenerateFunctions.length;c++)(0,r.GenerateFunctions[c])(o.Blocks,t,function(x){return new o.FieldImage(`assets/httpImages/${x}.png`,90,20,x)},x=>new o.FieldDropdown(x));return r.metaBlocks()(o.Blocks,t),r}StartRegister(){var r=this;return(0,E.Z)(function*(){var c=r.settings.swaggersDict,h=new Map;c.forEach((x,N)=>{h.set(N,r.LoadSwaggerFromAPI(x))});var m=[...Array(50).keys()].map(x=>r.CategorySwaggerHidden(x)).join("");const C=document.getElementById("steps"+r.myId);if(null!=C){r.tabulator.initGrid(C),e.filterBlocks.definitionBlocks(o.Blocks,t),e.waitBlocks.definitionBlocks(o.defineBlocksWithJsonArray,t),e.xhrBlocks.definitionBlocks(o.Blocks,t,function(x){return new o.FieldDropdown(x)}),e.propBlocks.definitionBlocks(o.Blocks,t,function(x){return new o.FieldLabelSerializable(x)}),e.guiBlocks.definitionBlocks(o.Blocks,t,x=>new o.FieldLabelSerializable(x)),e.convertersBlocks.definitionBlocks(o.Blocks,t),e.exportFileBlock.definitionBlocks(o.Blocks,t),e.createObjectBlocks.definitionBlocks(o.Blocks,t,o.Extensions,x=>new o.FieldTextInput(x),()=>o.Mutator),e.currentDateBlock.definitionBlocks(o.Blocks,t,function(x){return new o.FieldDropdown(x)}),e.dateFromTextBlock.definitionBlocks(o.Blocks,t),e.waitBlocks.definitionBlocks(o.Blocks,t),e.commentBlock.definitionBlocks(o.Blocks,t,x=>new o.FieldLabelSerializable(x)),e.trycatchFinBlock.definitionBlocks(o.Blocks,t),e.auth0Blocks.definitionBlocks(o.Blocks,t),e.windowsCreds.definitionBlocks(o.Blocks,t),e.chartBlock.definitionBlocks(o.Blocks,t,function(x){return new o.FieldDropdown(x)},x=>new o.FieldLabelSerializable(x)),e.emailBlocks.definitionBlocks(o.Blocks,t,function(x){return new o.FieldDropdown(x)}),e.htmlblocks.definitionBlocks(o.Blocks,t,function(x){return new o.FieldDropdown(x)});var D=[e.defaultBlocks.generalBlocks(),`    \n        <category name='Blockly Advanced'>\n                ${e.filterBlocks.fieldXML()}\n                \n                ${e.auth0Blocks.fieldXML()}\n                <category id="catConverters"  name="Converters">\n                ${e.convertersBlocks.fieldXML()}\n              </category>    \n              <category id="catDates"  name="Dates">\n          ${e.currentDateBlock.fieldXML()}\n          ${e.dateFromTextBlock.fieldXML()}\n          ${e.waitBlocks.fieldXML()}\n        </category>\n        <category id="catEmail"  name="Email">\n        ${e.emailBlocks.fieldXML()}\n      </category>\n\n        <category id="catExporter"  name="Exporter">\n        ${e.exportFileBlock.fieldXML()}\n      </category>\n              <category id="catGUI" name="GUI">\n              ${e.guiBlocks.fieldXML()}\n              ${e.chartBlock.fieldXML()}\n              </category>\n              <category id="catHTML" name="HTML">\n              ${e.htmlblocks.fieldXML()}\n              </category>\n              <category name="Objects" id="objects">\n              ${e.propBlocks.fieldXML()}\n              ${e.createObjectBlocks.fieldXML()}\n              </category>\n              <category id="XHR" name="Request">\n            ${e.xhrBlocks.fieldXML()}\n            ${e.windowsCreds.fieldXML()}\n            </category>\n        `,`<category id="catTimers"  name="Timers">\n          ${e.waitBlocks.fieldXML()}\n        </category>`,`  <category id="programming" name="Programming">\n        ${e.trycatchFinBlock.fieldXML()}\n        ${e.commentBlock.fieldXML()}\n          </category>\n        \n      `,`</category>\n      <category name="Swagger" id="catSwagger" expanded='true' >          \n          ${m}\n        </category> \n        \n        `];r.initialize(D)}else window.alert("gridElement is null")})()}SaveBlocks(){n.saveBlocksUrl.saveState(o.Xml,this.demoWorkspace,this.myId)}ShowBlocksDefinition(){return this.showCodeAndXML===dl.ShowBlocksDefinition}ShowSelection(){return dl[this.showCodeAndXML]}ShowSomething(){return this.showCodeAndXML!==dl.ShowNone}ShowOutput(){return this.showCodeAndXML===dl.ShowOutput}ShowCode(){return this.showCodeAndXML===dl.ShowCode}ShowXML(){return this.showCodeAndXML===dl.ShowXML}CalculateXMLAndCode(){var r=o.Xml.workspaceToDom(this.demoWorkspace,!0),c=o.Xml.domToPrettyText(r);this.showJSCode=this.run.latestCode,this.showXMLCode=c;var h=this.parseTextForBlocks(c);this.showBlocksDefinition=h.map(m=>{try{return`Blockly.Blocks['${m}']={ init: \n`+o.Blocks[m].init.toString()+`};\n};\nBlockly.JavaScript['${m}']=`+t[m].toString()+";"}catch(x){return console.error("parse definition : "+m,x),"//Error for "+m}}).join("\n")}parseTextForBlocks(r){var c=[];if(r.indexOf('<block type="')>=0)for(var h=r.split('<block type="'),m=1;m<h.length;m++){var C=h[m].split('"')[0];c.push(C)}return c}ShowInnerWorkings(){null!=this.demoWorkspace?(this.showCodeAndXML++,this.ShowSelection()||(this.showCodeAndXML=dl.ShowNone),this.CalculateXMLAndCode()):window.alert("demoWorkspace is null")}Download(){var r=window.prompt("Name?","blocks.txt");null!=r&&n.saveLoad.DownloadBlocks(o.Xml,this.demoWorkspace,r)}changeListener(r){this.readThis(r.target)}readThis(r){var c=r.files[0],h=new FileReader,m=this;h.onloadend=function(C){n.saveLoad.LoadFile(o.Xml,m.demoWorkspace,h.result),m.run.resetInterpreter()},h.readAsText(c)}CategorySwaggerHidden(r){return`<category name='swagger_hidden_${r}' hidden='true' >${r}</category>`}initialize(r){var c,h,m;const C=document.getElementById("blocklyDiv"+this.myId);if(null!=C){var D=r.map(le=>`<sep></sep>${le}`);this.toolboxXML=`<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox-simple" style="display: none">\n    ${D}\n    </xml>`,this.demoWorkspace=o.inject(C,{readOnly:!1,media:"media/",trashcan:!0,horizontalLayout:!1,move:{scrollbars:!0,drag:!0,wheel:!0},zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2,pinch:!0},toolbox:this.toolboxXML});var x=this;if(((null===(h=null===(c=this.settings.settings)||void 0===c?void 0:c.startBlocks)||void 0===h?void 0:h.length)||0)>0)try{var N=((null===(m=this.settings.settings)||void 0===m?void 0:m.startBlocks)||[]).join("\n"),Y=o.Xml.textToDom(N);o.Xml.clearWorkspaceAndLoadFromXml(Y,this.demoWorkspace)}catch(le){console.error("error when load default blocks",le)}window.setTimeout(x.afterTimeout,2e3,this),this.run=n.interpreterHelper.createInterpreter(this.demoWorkspace,t),x=this,this.demoWorkspace.addChangeListener(function(le){le.isUiEvent||(x.run.resetInterpreter(),x.run.generateCodeAndLoadIntoInterpreter(),x.CalculateXMLAndCode())})}else window.alert("blocklyDiv is null")}restoreBlocks(){n.saveBlocksUrl.restoreState(o.Xml,this.demoWorkspace,this.myId)}addToToolboxSwagger(r,c){var h,m=r.findCategSwaggerFromPaths().sort().map(Ve=>`<category name='${Ve}' custom='func_${r.name}_${Ve}'></category>`).join("\n"),C=(null==c?void 0:c.CategorySwaggerHidden(null==c?void 0:c.swaggerLoaded))||"",D=c.toolboxXML,x=`<category name='${r.name}'>\n<category name='API' id='func_${r.name}'>\n${m}\n</category>\n${r.categSwagger()}\n\n<category name='meta' id='meta_${r.name}'>\n<block type='meta_swagger_controllers_${r.name}'></block>\n<block type='meta_swagger_controllers_actions_${r.name}'></block>\n</category>\n\n</category>\n`;if(D=D.replace(C,x),c.swaggerLoaded++,c.toolboxXML=D,null===(h=null==c?void 0:c.demoWorkspace)||void 0===h||h.updateToolbox(D),null!=(null==c?void 0:c.demoWorkspace)){var Y="objects_"+r.nameCategSwagger(),le="AllApi_"+r.nameCategSwagger(),De=r;c.demoWorkspace.registerToolboxCategoryCallback(Y,Ve=>c.registerSwaggerBlocksObjects(Ve,De)),c.demoWorkspace.registerToolboxCategoryCallback(le,Ve=>c.registerSwaggerBlocksAPIAll(Ve,De)),r.findCategSwaggerFromPaths().forEach(Ve=>{var nt;null===(nt=null==c?void 0:c.demoWorkspace)||void 0===nt||nt.registerToolboxCategoryCallback(`func_${r.name}_${Ve}`,dt=>c.registerSwaggerBlocksAPIControllers(dt,r,Ve))})}}afterTimeout(r){var c,h,m;if(null!=(null==r?void 0:r.swaggerData))if(r.toolboxXML=r.toolboxXML.replace("Swagger",`Swagger(${r.swaggerData.length})`),r.swaggerData.forEach(N=>{r.addToToolboxSwagger(N,r)}),null!=(null==r?void 0:r.mustLoadDemoBlock))r.ShowDemo(null==r?void 0:r.mustLoadDemoBlock);else{if(((null===(h=null===(c=r.settings.settings)||void 0===c?void 0:c.startBlocks)||void 0===h?void 0:h.length)||0)>0)try{var D=((null===(m=r.settings.settings)||void 0===m?void 0:m.startBlocks)||[]).join("\n");if((null==D?void 0:D.length)>62){var x=o.Xml.textToDom(D);o.Xml.clearWorkspaceAndLoadFromXml(x,r.demoWorkspace)}}catch(N){console.log("error when load default blocks",N)}r.restoreBlocks()}}}return g.id=0,g.\u0275fac=function(r){return new(r||g)(Ie.Y36(Np),Ie.Y36(Gf.d),Ie.Y36(Wf.F),Ie.Y36(Fp.gz),Ie.Y36(zg.v),Ie.Y36(hc.ux))},g.\u0275cmp=Ie.Xpm({type:g,selectors:[["app-display-blockly"]],decls:83,vars:20,consts:[["rowHeight","1:1",3,"cols"],[2,"display","inline-block","height","100%","width","100%"],[2,"display","inline-block","height","5%","width","100%"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary","id","runButton",3,"click"],["id","downloadBlocks","mat-raised-button","","color","primary",3,"click"],["type","file",3,"change"],["mat-raised-button","","id","demos","color","primary",3,"matMenuTriggerFor"],["menuDiff","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor"],["menuByName","matMenu"],["ngFor","",3,"ngForOf"],["menuByBlocks","matMenu"],["target","_blank","mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[4,"ngIf"],[2,"display","inline-block","height","100%","width","100%",3,"id"],[3,"id"],["width","800","height","450",3,"id"],["menu","matMenu"],["mat-menu-item","",3,"click"],["menuBlock","matMenu"],["target","_blank","mat-raised-button","","color","primary",3,"routerLink"],["style","display: inline-block; height: 100%; width: 100%",3,"options","ngModel","ngModelChange",4,"ngIf"],[2,"display","inline-block","height","100%","width","100%",3,"options","ngModel","ngModelChange"]],template:function(r,c){if(1&r&&(Ie.TgZ(0,"mat-grid-list",0),Ie.TgZ(1,"mat-grid-tile-header"),Ie.TgZ(2,"div",1),Ie.TgZ(3,"div",2),Ie.TgZ(4,"button",3),Ie.NdJ("click",function(){return c.LoadSwagger()}),Ie.TgZ(5,"mat-icon"),Ie._uU(6,"file_upload"),Ie.qZA(),Ie._uU(7," Load Swagger/OpenAPI "),Ie.qZA(),Ie._uU(8," \xa0 "),Ie.TgZ(9,"button",3),Ie.NdJ("click",function(){return c.SaveBlocks()}),Ie.TgZ(10,"mat-icon"),Ie._uU(11,"save"),Ie.qZA(),Ie._uU(12," Persist in browser "),Ie.qZA(),Ie._uU(13," \xa0 "),Ie.TgZ(14,"button",4),Ie.NdJ("click",function(){return c.RunCode()}),Ie.TgZ(15,"mat-icon"),Ie._uU(16,"play_arrow"),Ie.qZA(),Ie._uU(17," Run Code "),Ie.qZA(),Ie._uU(18," \xa0 "),Ie.TgZ(19,"button",5),Ie.NdJ("click",function(){return c.Download()}),Ie.TgZ(20,"mat-icon"),Ie._uU(21,"download"),Ie.qZA(),Ie._uU(22," Download blocks "),Ie.qZA(),Ie._uU(23," \xa0 "),Ie.TgZ(24,"input",6),Ie.NdJ("change",function(m){return c.changeListener(m)}),Ie.qZA(),Ie.TgZ(25,"button",3),Ie.NdJ("click",function(){return c.ShowInnerWorkings()}),Ie.TgZ(26,"mat-icon"),Ie._uU(27,"code"),Ie.qZA(),Ie._uU(28),Ie.qZA(),Ie.TgZ(29,"button",7),Ie.TgZ(30,"mat-icon"),Ie._uU(31,"list"),Ie.qZA(),Ie._uU(32),Ie.qZA(),Ie.TgZ(33,"mat-menu",null,8),Ie.TgZ(35,"button",9),Ie._uU(36," By Name "),Ie.qZA(),Ie.TgZ(37,"mat-menu",null,10),Ie.YNc(39,gh,5,5,"ng-template",11),Ie.ALo(40,"keyvalue"),Ie.qZA(),Ie.TgZ(41,"button",9),Ie._uU(42," By Blocks "),Ie.qZA(),Ie.TgZ(43,"mat-menu",null,12),Ie.YNc(45,np,5,5,"ng-template",11),Ie.ALo(46,"keyvalue"),Ie.qZA(),Ie.qZA(),Ie.YNc(47,mh,2,4,"a",13),Ie.YNc(48,_h,2,0,"span",14),Ie.qZA(),Ie.qZA(),Ie.qZA(),Ie.TgZ(49,"mat-grid-tile"),Ie._UZ(50,"div",15),Ie.qZA(),Ie.YNc(51,ip,5,4,"mat-grid-tile",14),Ie.qZA(),Ie.TgZ(52,"mat-accordion"),Ie.TgZ(53,"mat-expansion-panel"),Ie.TgZ(54,"mat-expansion-panel-header"),Ie.TgZ(55,"mat-panel-title"),Ie._uU(56," Output Grid "),Ie.qZA(),Ie.TgZ(57,"mat-panel-description"),Ie._uU(58," Click to see grid of output values "),Ie.qZA(),Ie.qZA(),Ie._uU(59," My Text "),Ie._UZ(60,"div",16),Ie.qZA(),Ie.TgZ(61,"mat-expansion-panel"),Ie.TgZ(62,"mat-expansion-panel-header"),Ie.TgZ(63,"mat-panel-title"),Ie._uU(64," Chart "),Ie.qZA(),Ie.TgZ(65,"mat-panel-description"),Ie._uU(66," Click to see chart of output values "),Ie.qZA(),Ie.qZA(),Ie.TgZ(67,"p"),Ie._UZ(68,"canvas",17),Ie.qZA(),Ie.qZA(),Ie.TgZ(69,"mat-expansion-panel"),Ie.TgZ(70,"mat-expansion-panel-header"),Ie.TgZ(71,"mat-panel-title"),Ie._uU(72," HTML "),Ie.qZA(),Ie.TgZ(73,"mat-panel-description"),Ie._uU(74," Click to see output as HTML "),Ie.qZA(),Ie.qZA(),Ie._UZ(75,"div",16),Ie.qZA(),Ie.TgZ(76,"mat-expansion-panel"),Ie.TgZ(77,"mat-expansion-panel-header"),Ie.TgZ(78,"mat-panel-title"),Ie._uU(79," Text "),Ie.qZA(),Ie.TgZ(80,"mat-panel-description"),Ie._uU(81," Click to see output as Text "),Ie.qZA(),Ie.qZA(),Ie._UZ(82,"div",16),Ie.qZA(),Ie.qZA()),2&r){const h=Ie.MAs(34),m=Ie.MAs(38),C=Ie.MAs(44);Ie.Q6J("cols",c.ShowSomething()?2:1),Ie.xp6(28),Ie.hij(" ",c.ShowSelection()," "),Ie.xp6(1),Ie.Q6J("matMenuTriggerFor",h),Ie.xp6(3),Ie.hij(" Demos (",c.demos.length,") "),Ie.xp6(3),Ie.Q6J("matMenuTriggerFor",m),Ie.xp6(4),Ie.Q6J("ngForOf",Ie.lcZ(40,16,c.demosCategories)),Ie.xp6(2),Ie.Q6J("matMenuTriggerFor",C),Ie.xp6(4),Ie.Q6J("ngForOf",Ie.lcZ(46,18,c.demosBlocks)),Ie.xp6(2),Ie.Q6J("ngIf",null==c.mustLoadDemoBlock?null:c.mustLoadDemoBlock.length),Ie.xp6(1),Ie.Q6J("ngIf",null==c.demoWorkspace),Ie.xp6(2),Ie.Q6J("id","blocklyDiv"+c.myId),Ie.xp6(1),Ie.Q6J("ngIf",c.ShowSomething()),Ie.xp6(9),Ie.Q6J("id","steps"+c.myId),Ie.xp6(8),Ie.Q6J("id","barchart"+c.myId),Ie.xp6(7),Ie.Q6J("id","htmlOutput"+c.myId),Ie.xp6(7),Ie.Q6J("id","htmlText"+c.myId)}},directives:[Hd.Il,Hd.$H,Hd.jo,jf.lW,Yg.Hw,zf.p6,zf.VK,zf.OP,qu.sg,qu.O5,Hd.DX,Vd.pp,Vd.ib,Vd.yz,Vd.yK,Vd.u4,jf.zs,Fp.yS,fh.PG,Ud.JJ,Ud.On],pipes:[qu.Nd],styles:[".tabulator[_ngcontent-%COMP%]{font-size:12px;border:none}.tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]{font-weight:normal;border-bottom:1px solid;border-bottom-color:#0000001f;color:#0000008a}.tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]   .tabulator-col[_ngcontent-%COMP%]{height:48px;background-color:#fff;border:none;padding:0 7px}.tabulator-row[_ngcontent-%COMP%]{border-bottom:1px solid;border-bottom-color:#0000001f;min-height:48px;vertical-align:middle}.tabulator-row[_ngcontent-%COMP%]   .tabulator-cell[_ngcontent-%COMP%]{padding:16px 7px;border-right:none;vertical-align:middle}.tabulator-row[_ngcontent-%COMP%]   .tabulator-cell[_ngcontent-%COMP%]:first-of-type, .tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]   .tabulator-col[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.tabulator-row.tabulator-row-even[_ngcontent-%COMP%]{background-color:#fff}"]}),g})()},93124:(F,U,_)=>{"use strict";_.d(U,{F:()=>s}),_(267);var o=_(88561),t=_(96286),e=_(42741),n=_(31887);let s=(()=>{class f{constructor(M){this.http=M}getDemoBlocks(){var M=(new Date).toISOString();return this.http.get(`assets/showUsage/demoBlocks/all.txt?${M}`,{responseType:"text"}).pipe((0,o.U)(A=>JSON.parse(A)))}getSwaggerLinks(){var M=(new Date).toISOString();return this.http.get(`assets/loadAtStartup/swaggers.json?${M}`,{responseType:"text"}).pipe((0,o.U)(A=>JSON.parse(A)))}getDemoBlock(M){var A=(new Date).toISOString();return this.http.get(`assets/showUsage/demoBlocks/${M}.txt?${A}`,{responseType:"text"}).pipe((0,t.b)(B=>{}),(0,o.U)(B=>B.toString()))}}return f.\u0275fac=function(M){return new(M||f)(e.LFG(n.eN))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},79293:(F,U,_)=>{"use strict";var E=_(93220),o=_(42741),t=_(93324),e=_(60805),n=_(61921),s=_(67617),f=_(31749),y=_(72882),M=_(34529),A=_(62718),P=_(16274),B=_(40688),ne=_(81728),te=_(6006),se=_(39734),de=_(30636),ae=_(54958),Me=_(267),xe=_(78862),we=_(88638),ke=_(63543),fe=_(57689),pe=_(27194),ie=_(99957),ee=_(66899),ye=_(15911),Ce=_(12281),Te=_(54847);function me(T,O){1&T&&o.Hsn(0)}const ve=["*"];function Ze(T,O){}const Be=function(T){return{animationDuration:T}},ot=function(T,O){return{value:T,params:O}},Lt=["tabBodyWrapper"],Jt=["tabHeader"];function wt(T,O){}function tn(T,O){if(1&T&&o.YNc(0,wt,0,0,"ng-template",9),2&T){const u=o.oxw().$implicit;o.Q6J("cdkPortalOutlet",u.templateLabel)}}function Et(T,O){if(1&T&&o._uU(0),2&T){const u=o.oxw().$implicit;o.Oqu(u.textLabel)}}function sn(T,O){if(1&T){const u=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){const I=o.CHM(u),j=I.$implicit,Xe=I.index,Ot=o.oxw(),en=o.MAs(1);return Ot._handleClick(j,en,Xe)})("cdkFocusChange",function(I){const Xe=o.CHM(u).index;return o.oxw()._tabFocusChanged(I,Xe)}),o.TgZ(1,"div",7),o.YNc(2,tn,1,1,"ng-template",8),o.YNc(3,Et,1,1,"ng-template",8),o.qZA(),o.qZA()}if(2&T){const u=O.$implicit,v=O.index,I=o.oxw();o.ekj("mat-tab-label-active",I.selectedIndex==v),o.Q6J("id",I._getTabLabelId(v))("disabled",u.disabled)("matRippleDisabled",u.disabled||I.disableRipple),o.uIk("tabIndex",I._getTabIndex(u,v))("aria-posinset",v+1)("aria-setsize",I._tabs.length)("aria-controls",I._getTabContentId(v))("aria-selected",I.selectedIndex==v)("aria-label",u.ariaLabel||null)("aria-labelledby",!u.ariaLabel&&u.ariaLabelledby?u.ariaLabelledby:null),o.xp6(2),o.Q6J("ngIf",u.templateLabel),o.xp6(1),o.Q6J("ngIf",!u.templateLabel)}}function rt(T,O){if(1&T){const u=o.EpF();o.TgZ(0,"mat-tab-body",10),o.NdJ("_onCentered",function(){return o.CHM(u),o.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(I){return o.CHM(u),o.oxw()._setTabBodyWrapperHeight(I)}),o.qZA()}if(2&T){const u=O.$implicit,v=O.index,I=o.oxw();o.ekj("mat-tab-body-active",I.selectedIndex===v),o.Q6J("id",I._getTabContentId(v))("content",u.content)("position",u.position)("origin",u.origin)("animationDuration",I.animationDuration),o.uIk("tabindex",null!=I.contentTabIndex&&I.selectedIndex===v?I.contentTabIndex:null)("aria-labelledby",I._getTabLabelId(v))}}const at=["tabListContainer"],Vt=["tabList"],zt=["nextPaginator"],$t=["previousPaginator"],Kn=new o.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return O=>({left:O?(O.offsetLeft||0)+"px":"0",width:O?(O.offsetWidth||0)+"px":"0"})}});let dn=(()=>{class T{constructor(u,v,I,j){this._elementRef=u,this._ngZone=v,this._inkBarPositioner=I,this._animationMode=j}alignToElement(u){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(u))}):this._setStyles(u)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(u){const v=this._inkBarPositioner(u),I=this._elementRef.nativeElement;I.style.left=v.left,I.style.width=v.width}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Kn),o.Y36(ne.Qb,8))},T.\u0275dir=o.lG2({type:T,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(u,v){2&u&&o.ekj("_mat-animation-noopable","NoopAnimations"===v._animationMode)}}),T})();const It=new o.OlP("MatTabContent"),Fe=new o.OlP("MatTabLabel"),it=new o.OlP("MAT_TAB");let un=(()=>{class T extends A.ig{constructor(u,v,I){super(u,v),this._closestTab=I}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(it,8))},T.\u0275dir=o.lG2({type:T,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[o._Bn([{provide:Fe,useExisting:T}]),o.qOj]}),T})();const ft=(0,B.Id)(class{}),hn=new o.OlP("MAT_TAB_GROUP");let mt=(()=>{class T extends ft{constructor(u,v){super(),this._viewContainerRef=u,this._closestTabGroup=v,this.textLabel="",this._contentPortal=null,this._stateChanges=new te.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(u){this._setTemplateLabelInput(u)}get content(){return this._contentPortal}ngOnChanges(u){(u.hasOwnProperty("textLabel")||u.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new A.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(u){u&&u._closestTab===this&&(this._templateLabel=u)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.s_b),o.Y36(hn,8))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-tab"]],contentQueries:function(u,v,I){if(1&u&&(o.Suo(I,Fe,5),o.Suo(I,It,7,o.Rgc)),2&u){let j;o.iGM(j=o.CRH())&&(v.templateLabel=j.first),o.iGM(j=o.CRH())&&(v._explicitContent=j.first)}},viewQuery:function(u,v){if(1&u&&o.Gf(o.Rgc,7),2&u){let I;o.iGM(I=o.CRH())&&(v._implicitContent=I.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o._Bn([{provide:it,useExisting:T}]),o.qOj,o.TTD],ngContentSelectors:ve,decls:1,vars:0,template:function(u,v){1&u&&(o.F$t(),o.YNc(0,me,1,0,"ng-template"))},encapsulation:2}),T})();const Ht={translateTab:(0,we.X$)("translateTab",[(0,we.SB)("center, void, left-origin-center, right-origin-center",(0,we.oB)({transform:"none"})),(0,we.SB)("left",(0,we.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,we.SB)("right",(0,we.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,we.eR)("* => left, * => right, left => center, right => center",(0,we.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,we.eR)("void => left-origin-center",[(0,we.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,we.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,we.eR)("void => right-origin-center",[(0,we.oB)({transform:"translate3d(100%, 0, 0)"}),(0,we.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Je=(()=>{class T extends A.Pl{constructor(u,v,I,j){super(u,v,j),this._host=I,this._centeringSub=se.w.EMPTY,this._leavingSub=se.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,ke.O)(this._host._isCenterPosition(this._host._position))).subscribe(u=>{u&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36((0,o.Gpc)(()=>re)),o.Y36(P.K0))},T.\u0275dir=o.lG2({type:T,selectors:[["","matTabBodyHost",""]],features:[o.qOj]}),T})(),X=(()=>{class T{constructor(u,v,I){this._elementRef=u,this._dir=v,this._dirChangeSubscription=se.w.EMPTY,this._translateTabComplete=new te.xQ,this._onCentering=new o.vpe,this._beforeCentering=new o.vpe,this._afterLeavingCenter=new o.vpe,this._onCentered=new o.vpe(!0),this.animationDuration="500ms",v&&(this._dirChangeSubscription=v.change.subscribe(j=>{this._computePositionAnimationState(j),I.markForCheck()})),this._translateTabComplete.pipe((0,fe.x)((j,Xe)=>j.fromState===Xe.fromState&&j.toState===Xe.toState)).subscribe(j=>{this._isCenterPosition(j.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(j.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(u){this._positionIndex=u,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(u){const v=this._isCenterPosition(u.toState);this._beforeCentering.emit(v),v&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(u){return"center"==u||"left-origin-center"==u||"right-origin-center"==u}_computePositionAnimationState(u=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==u?"left":"right":this._positionIndex>0?"ltr"==u?"right":"left":"center"}_computePositionFromOrigin(u){const v=this._getLayoutDirection();return"ltr"==v&&u<=0||"rtl"==v&&u>0?"left-origin-center":"right-origin-center"}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(Ce.Is,8),o.Y36(o.sBO))},T.\u0275dir=o.lG2({type:T,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),T})(),re=(()=>{class T extends X{constructor(u,v,I){super(u,v,I)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(Ce.Is,8),o.Y36(o.sBO))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-tab-body"]],viewQuery:function(u,v){if(1&u&&o.Gf(A.Pl,5),2&u){let I;o.iGM(I=o.CRH())&&(v._portalHost=I.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(u,v){1&u&&(o.TgZ(0,"div",0,1),o.NdJ("@translateTab.start",function(j){return v._onTranslateTabStarted(j)})("@translateTab.done",function(j){return v._translateTabComplete.next(j)}),o.YNc(2,Ze,0,0,"ng-template",2),o.qZA()),2&u&&o.Q6J("@translateTab",o.WLB(3,ot,v._position,o.VKq(1,Be,v.animationDuration)))},directives:[Je],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Ht.translateTab]}}),T})();const ze=new o.OlP("MAT_TABS_CONFIG");let Qe=0;class Ct{}const yt=(0,B.pj)((0,B.Kr)(class{constructor(T){this._elementRef=T}}),"primary");let Zt=(()=>{class T extends yt{constructor(u,v,I,j){var Xe;super(u),this._changeDetectorRef=v,this._animationMode=j,this._tabs=new o.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=se.w.EMPTY,this._tabLabelSubscription=se.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.vpe,this.focusChange=new o.vpe,this.animationDone=new o.vpe,this.selectedTabChange=new o.vpe(!0),this._groupId=Qe++,this.animationDuration=I&&I.animationDuration?I.animationDuration:"500ms",this.disablePagination=!(!I||null==I.disablePagination)&&I.disablePagination,this.dynamicHeight=!(!I||null==I.dynamicHeight)&&I.dynamicHeight,this.contentTabIndex=null!==(Xe=null==I?void 0:I.contentTabIndex)&&void 0!==Xe?Xe:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(u){this._dynamicHeight=(0,ie.Ig)(u)}get selectedIndex(){return this._selectedIndex}set selectedIndex(u){this._indexToSelect=(0,ie.su)(u,null)}get animationDuration(){return this._animationDuration}set animationDuration(u){this._animationDuration=/^\d+$/.test(u)?u+"ms":u}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(u){this._contentTabIndex=(0,ie.su)(u,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(u){const v=this._elementRef.nativeElement;v.classList.remove(`mat-background-${this.backgroundColor}`),u&&v.classList.add(`mat-background-${u}`),this._backgroundColor=u}ngAfterContentChecked(){const u=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=u){const v=null==this._selectedIndex;if(!v){this.selectedTabChange.emit(this._createChangeEvent(u));const I=this._tabBodyWrapper.nativeElement;I.style.minHeight=I.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((I,j)=>I.isActive=j===u),v||(this.selectedIndexChange.emit(u),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((v,I)=>{v.position=I-u,null!=this._selectedIndex&&0==v.position&&!v.origin&&(v.origin=u-this._selectedIndex)}),this._selectedIndex!==u&&(this._selectedIndex=u,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const v=this._tabs.toArray();for(let I=0;I<v.length;I++)if(v[I].isActive){this._indexToSelect=this._selectedIndex=I;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,ke.O)(this._allTabs)).subscribe(u=>{this._tabs.reset(u.filter(v=>v._closestTabGroup===this||!v._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(u){const v=this._tabHeader;v&&(v.focusIndex=u)}_focusChanged(u){this.focusChange.emit(this._createChangeEvent(u))}_createChangeEvent(u){const v=new Ct;return v.index=u,this._tabs&&this._tabs.length&&(v.tab=this._tabs.toArray()[u]),v}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,de.T)(...this._tabs.map(u=>u._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(u){return Math.min(this._tabs.length-1,Math.max(u||0,0))}_getTabLabelId(u){return`mat-tab-label-${this._groupId}-${u}`}_getTabContentId(u){return`mat-tab-content-${this._groupId}-${u}`}_setTabBodyWrapperHeight(u){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const v=this._tabBodyWrapper.nativeElement;v.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(v.style.height=u+"px")}_removeTabBodyWrapperHeight(){const u=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=u.clientHeight,u.style.height="",this.animationDone.emit()}_handleClick(u,v,I){u.disabled||(this.selectedIndex=v.focusIndex=I)}_getTabIndex(u,v){return u.disabled?null:this.selectedIndex===v?0:-1}_tabFocusChanged(u,v){u&&"mouse"!==u&&"touch"!==u&&(this._tabHeader.focusIndex=v)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ze,8),o.Y36(ne.Qb,8))},T.\u0275dir=o.lG2({type:T,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.qOj]}),T})(),wn=(()=>{class T extends Zt{constructor(u,v,I,j){super(u,v,I,j)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ze,8),o.Y36(ne.Qb,8))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-tab-group"]],contentQueries:function(u,v,I){if(1&u&&o.Suo(I,mt,5),2&u){let j;o.iGM(j=o.CRH())&&(v._allTabs=j)}},viewQuery:function(u,v){if(1&u&&(o.Gf(Lt,5),o.Gf(Jt,5)),2&u){let I;o.iGM(I=o.CRH())&&(v._tabBodyWrapper=I.first),o.iGM(I=o.CRH())&&(v._tabHeader=I.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(u,v){2&u&&o.ekj("mat-tab-group-dynamic-height",v.dynamicHeight)("mat-tab-group-inverted-header","below"===v.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o._Bn([{provide:hn,useExisting:T}]),o.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(u,v){1&u&&(o.TgZ(0,"mat-tab-header",0,1),o.NdJ("indexFocused",function(j){return v._focusChanged(j)})("selectFocusedIndex",function(j){return v.selectedIndex=j}),o.YNc(2,sn,4,14,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.YNc(5,rt,1,9,"mat-tab-body",5),o.qZA()),2&u&&(o.Q6J("selectedIndex",v.selectedIndex||0)("disableRipple",v.disableRipple)("disablePagination",v.disablePagination),o.xp6(2),o.Q6J("ngForOf",v._tabs),o.xp6(1),o.ekj("_mat-animation-noopable","NoopAnimations"===v._animationMode),o.xp6(2),o.Q6J("ngForOf",v._tabs))},directives:function(){return[Cn,P.sg,bn,B.wG,y.kH,P.O5,A.Pl,re]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),T})();const En=(0,B.Id)(class{});let bn=(()=>{class T extends En{constructor(u){super(),this.elementRef=u}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq))},T.\u0275dir=o.lG2({type:T,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(u,v){2&u&&(o.uIk("aria-disabled",!!v.disabled),o.ekj("mat-tab-disabled",v.disabled))},inputs:{disabled:"disabled"},features:[o.qOj]}),T})();const fn=(0,ee.i$)({passive:!0});let xt=(()=>{class T{constructor(u,v,I,j,Xe,Ot,en){this._elementRef=u,this._changeDetectorRef=v,this._viewportRuler=I,this._dir=j,this._ngZone=Xe,this._platform=Ot,this._animationMode=en,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new te.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new te.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.vpe,this.indexFocused=new o.vpe,Xe.runOutsideAngular(()=>{(0,ae.R)(u.nativeElement,"mouseleave").pipe((0,pe.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(u){u=(0,ie.su)(u),this._selectedIndex!=u&&(this._selectedIndexChanged=!0,this._selectedIndex=u,this._keyManager&&this._keyManager.updateActiveItem(u))}ngAfterViewInit(){(0,ae.R)(this._previousPaginator.nativeElement,"touchstart",fn).pipe((0,pe.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,ae.R)(this._nextPaginator.nativeElement,"touchstart",fn).pipe((0,pe.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const u=this._dir?this._dir.change:(0,Me.of)("ltr"),v=this._viewportRuler.change(150),I=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new y.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(I):I(),(0,de.T)(u,v,this._items.changes).pipe((0,pe.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(I)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,pe.R)(this._destroyed)).subscribe(j=>{this.indexFocused.emit(j),this._setTabFocus(j)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(u){if(!(0,ye.Vb)(u))switch(u.keyCode){case ye.K5:case ye.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(u));break;default:this._keyManager.onKeydown(u)}}_onContentChanges(){const u=this._elementRef.nativeElement.textContent;u!==this._currentTextContent&&(this._currentTextContent=u||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(u){!this._isValidIndex(u)||this.focusIndex===u||!this._keyManager||this._keyManager.setActiveItem(u)}_isValidIndex(u){if(!this._items)return!0;const v=this._items?this._items.toArray()[u]:null;return!!v&&!v.disabled}_setTabFocus(u){if(this._showPaginationControls&&this._scrollToLabel(u),this._items&&this._items.length){this._items.toArray()[u].focus();const v=this._tabListContainer.nativeElement;v.scrollLeft="ltr"==this._getLayoutDirection()?0:v.scrollWidth-v.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const u=this.scrollDistance,v="ltr"===this._getLayoutDirection()?-u:u;this._tabList.nativeElement.style.transform=`translateX(${Math.round(v)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(u){this._scrollTo(u)}_scrollHeader(u){return this._scrollTo(this._scrollDistance+("before"==u?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(u){this._stopInterval(),this._scrollHeader(u)}_scrollToLabel(u){if(this.disablePagination)return;const v=this._items?this._items.toArray()[u]:null;if(!v)return;const I=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:j,offsetWidth:Xe}=v.elementRef.nativeElement;let Ot,en;"ltr"==this._getLayoutDirection()?(Ot=j,en=Ot+Xe):(en=this._tabList.nativeElement.offsetWidth-j,Ot=en-Xe);const Gn=this.scrollDistance,ni=this.scrollDistance+I;Ot<Gn?this.scrollDistance-=Gn-Ot+60:en>ni&&(this.scrollDistance+=en-ni+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const u=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;u||(this.scrollDistance=0),u!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=u}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const u=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,v=u?u.elementRef.nativeElement:null;v?this._inkBar.alignToElement(v):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(u,v){v&&null!=v.button&&0!==v.button||(this._stopInterval(),(0,xe.H)(650,100).pipe((0,pe.R)((0,de.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:I,distance:j}=this._scrollHeader(u);(0===j||j>=I)&&this._stopInterval()}))}_scrollTo(u){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const v=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(v,u)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:v,distance:this._scrollDistance}}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Te.rL),o.Y36(Ce.Is,8),o.Y36(o.R0b),o.Y36(ee.t4),o.Y36(ne.Qb,8))},T.\u0275dir=o.lG2({type:T,inputs:{disablePagination:"disablePagination"}}),T})(),rn=(()=>{class T extends xt{constructor(u,v,I,j,Xe,Ot,en){super(u,v,I,j,Xe,Ot,en),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(u){this._disableRipple=(0,ie.Ig)(u)}_itemSelected(u){u.preventDefault()}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Te.rL),o.Y36(Ce.Is,8),o.Y36(o.R0b),o.Y36(ee.t4),o.Y36(ne.Qb,8))},T.\u0275dir=o.lG2({type:T,inputs:{disableRipple:"disableRipple"},features:[o.qOj]}),T})(),Cn=(()=>{class T extends rn{constructor(u,v,I,j,Xe,Ot,en){super(u,v,I,j,Xe,Ot,en)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Te.rL),o.Y36(Ce.Is,8),o.Y36(o.R0b),o.Y36(ee.t4),o.Y36(ne.Qb,8))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-tab-header"]],contentQueries:function(u,v,I){if(1&u&&o.Suo(I,bn,4),2&u){let j;o.iGM(j=o.CRH())&&(v._items=j)}},viewQuery:function(u,v){if(1&u&&(o.Gf(dn,7),o.Gf(at,7),o.Gf(Vt,7),o.Gf(zt,5),o.Gf($t,5)),2&u){let I;o.iGM(I=o.CRH())&&(v._inkBar=I.first),o.iGM(I=o.CRH())&&(v._tabListContainer=I.first),o.iGM(I=o.CRH())&&(v._tabList=I.first),o.iGM(I=o.CRH())&&(v._nextPaginator=I.first),o.iGM(I=o.CRH())&&(v._previousPaginator=I.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(u,v){2&u&&o.ekj("mat-tab-header-pagination-controls-enabled",v._showPaginationControls)("mat-tab-header-rtl","rtl"==v._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.qOj],ngContentSelectors:ve,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(u,v){1&u&&(o.F$t(),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return v._handlePaginatorClick("before")})("mousedown",function(j){return v._handlePaginatorPress("before",j)})("touchend",function(){return v._stopInterval()}),o._UZ(2,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.NdJ("keydown",function(j){return v._handleKeydown(j)}),o.TgZ(5,"div",5,6),o.NdJ("cdkObserveContent",function(){return v._onContentChanges()}),o.TgZ(7,"div",7),o.Hsn(8),o.qZA(),o._UZ(9,"mat-ink-bar"),o.qZA(),o.qZA(),o.TgZ(10,"div",8,9),o.NdJ("mousedown",function(j){return v._handlePaginatorPress("after",j)})("click",function(){return v._handlePaginatorClick("after")})("touchend",function(){return v._stopInterval()}),o._UZ(12,"div",2),o.qZA()),2&u&&(o.ekj("mat-tab-header-pagination-disabled",v._disableScrollBefore),o.Q6J("matRippleDisabled",v._disableScrollBefore||v.disableRipple),o.xp6(5),o.ekj("_mat-animation-noopable","NoopAnimations"===v._animationMode),o.xp6(5),o.ekj("mat-tab-header-pagination-disabled",v._disableScrollAfter),o.Q6J("matRippleDisabled",v._disableScrollAfter||v.disableRipple))},directives:[B.wG,M.wD,dn],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),T})(),At=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[P.ez,B.BQ,A.eL,B.si,M.Q8,y.rt],B.BQ]}),T})();const Oe=["vcr"];function je(T,O){if(1&T&&(o.TgZ(0,"mat-icon",9),o._uU(1),o.qZA()),2&T){const u=o.oxw(2).$implicit;o.xp6(1),o.hij(" filter_",u+1,"")}}function We(T,O){1&T&&(o.TgZ(0,"span"),o._uU(1,"W:{{number+1}"),o.qZA())}function bt(T,O){if(1&T&&(o.YNc(0,je,2,1,"mat-icon",7),o.YNc(1,We,2,0,"span",8)),2&T){const u=o.oxw().$implicit;o.Q6J("ngIf",u<10),o.xp6(1),o.Q6J("ngIf",u>9)}}function Qt(T,O){}function Nn(T,O){1&T&&(o.TgZ(0,"mat-tab",4),o.YNc(1,bt,2,2,"ng-template",5),o.YNc(2,Qt,0,0,"ng-template",null,6,o.W1O),o.qZA()),2&T&&o.Q6J("label","W:"+(O.$implicit+1))}let An=(()=>{class T{constructor(u,v){this.fooInjector=u,this.resolver=v,this.data=[],this.selectedTabIndex=0,this.numbers=[0]}addTab(){this.numbers.push(this.numbers.length),this.selectedTabIndex=this.numbers.length-1}changeSelected(u){this.data.filter(v=>v==u).length>0||(this.data.push(u),this.loadBar(u).then(v=>{console.log("loaded"+v)}))}ngAfterViewInit(){this.data.push(0),this.loadBar(0).then(u=>{console.log("loaded tab"+u)})}loadBar(u){var v=this;return(0,n.Z)(function*(){var I;try{const Xe=yield Promise.resolve().then(_.bind(_,80643)),Ot=v.resolver.resolveComponentFactory(Xe.DisplayBlocklyComponent);var j=null===(I=v.components)||void 0===I?void 0:I.get(u);null!=j&&j.createComponent(Ot)}catch(Xe){console.error("loading"+u,Xe)}return u})()}ngOnInit(){}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.zs3),o.Y36(o._Vd))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-blockly-studio"]],viewQuery:function(u,v){if(1&u&&o.Gf(Oe,5,o.s_b),2&u){let I;o.iGM(I=o.CRH())&&(v.components=I)}},decls:7,vars:2,consts:[["mat-icon-button","","color","primary",3,"click"],[3,"selectedIndex","selectedIndexChange"],[3,"label",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[3,"label"],["mat-tab-label",""],["vcr",""],["aria-hidden","false",4,"ngIf"],[4,"ngIf"],["aria-hidden","false"]],template:function(u,v){1&u&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return v.addTab()}),o.TgZ(1,"mat-icon"),o._uU(2,"add_circle"),o.qZA(),o.qZA(),o.TgZ(3,"mat-tab-group",1),o.NdJ("selectedIndexChange",function(j){return v.changeSelected(j)}),o.YNc(4,Nn,4,1,"mat-tab",2),o.qZA(),o.TgZ(5,"button",3),o.NdJ("click",function(){return v.addTab()}),o._uU(6,"Add"),o.qZA()),2&u&&(o.xp6(3),o.Q6J("selectedIndex",v.selectedTabIndex),o.xp6(1),o.Q6J("ngForOf",v.numbers))},directives:[s.lW,f.Hw,wn,P.sg,mt,un,P.O5],styles:[""]}),T})();var Fi=_(80643);const Ki=[{path:"",redirectTo:"automation/main",pathMatch:"full"},{path:"automation/main",component:Fi.DisplayBlocklyComponent},{path:"automation/studio",component:An},{path:"automation/loadexample/:demoblock",component:Fi.DisplayBlocklyComponent}];let tr=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[e.Bz.forRoot(Ki)],e.Bz]}),T})();var Bi=_(970),Di=_(52514),Cr=_(88561),Tr=_(41001);let Qr=(()=>{class T{constructor(){this.title="",this.startBlocks=[],this.tourSteps=[]}}return T.version="2021.12.7.2149",T})();var sr=_(45725),Pn=_(63305),gi=_(28744);function Vi(T){return O=>O.lift(new Gr(T))}class Gr{constructor(O){this.value=O}call(O,u){return u.subscribe(new qr(O,this.value))}}class qr extends gi.L{constructor(O,u){super(O),this.value=u}_next(O){this.destination.next(this.value)}}var Ai=_(59917),kr=_(89006);const Xi=["*"];function uo(T,O){if(1&T){const u=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(u),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&T){const u=o.oxw();o.ekj("mat-drawer-shown",u._isShowingBackdrop())}}function Jo(T,O){1&T&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const pi=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Gt=["mat-drawer","mat-drawer-content","*"];function Pt(T,O){if(1&T){const u=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(u),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&T){const u=o.oxw();o.ekj("mat-drawer-shown",u._isShowingBackdrop())}}function pt(T,O){1&T&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const qt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],_n=["mat-sidenav","mat-sidenav-content","*"],ii=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",fi={transformDrawer:(0,we.X$)("transform",[(0,we.SB)("open, open-instant",(0,we.oB)({transform:"none",visibility:"visible"})),(0,we.SB)("void",(0,we.oB)({"box-shadow":"none",visibility:"hidden"})),(0,we.eR)("void => open-instant",(0,we.jt)("0ms")),(0,we.eR)("void <=> open, open-instant => void",(0,we.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ai=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),ro=new o.OlP("MAT_DRAWER_CONTAINER");let ho=(()=>{class T extends Te.PQ{constructor(u,v,I,j,Xe){super(I,j,Xe),this._changeDetectorRef=u,this._container=v}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>di)),o.Y36(o.SBq),o.Y36(Te.mF),o.Y36(o.R0b))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(u,v){2&u&&o.Udp("margin-left",v._container._contentMargins.left,"px")("margin-right",v._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:Xi,decls:1,vars:0,template:function(u,v){1&u&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),T})(),po=(()=>{class T{constructor(u,v,I,j,Xe,Ot,en){this._elementRef=u,this._focusTrapFactory=v,this._focusMonitor=I,this._platform=j,this._ngZone=Xe,this._doc=Ot,this._container=en,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new te.xQ,this._animationEnd=new te.xQ,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe((0,Pn.h)(Gn=>Gn),(0,Cr.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Pn.h)(Gn=>Gn.fromState!==Gn.toState&&0===Gn.toState.indexOf("open")),Vi(void 0)),this._closedStream=this.openedChange.pipe((0,Pn.h)(Gn=>!Gn),(0,Cr.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Pn.h)(Gn=>Gn.fromState!==Gn.toState&&"void"===Gn.toState),Vi(void 0)),this._destroyed=new te.xQ,this.onPositionChanged=new o.vpe,this._modeChanged=new te.xQ,this.openedChange.subscribe(Gn=>{Gn?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{(0,ae.R)(this._elementRef.nativeElement,"keydown").pipe((0,Pn.h)(Gn=>Gn.keyCode===ye.hY&&!this.disableClose&&!(0,ye.Vb)(Gn)),(0,pe.R)(this._destroyed)).subscribe(Gn=>this._ngZone.run(()=>{this.close(),Gn.stopPropagation(),Gn.preventDefault()}))}),this._animationEnd.pipe((0,fe.x)((Gn,ni)=>Gn.fromState===ni.fromState&&Gn.toState===ni.toState)).subscribe(Gn=>{const{fromState:ni,toState:ki}=Gn;(0===ki.indexOf("open")&&"void"===ni||"void"===ki&&0===ni.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(u){(u="end"===u?"end":"start")!=this._position&&(this._position=u,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(u){this._mode=u,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(u){this._disableClose=(0,ie.Ig)(u)}get autoFocus(){const u=this._autoFocus;return null==u?"side"!==this.mode:u}set autoFocus(u){this._autoFocus=(0,ie.Ig)(u)}get opened(){return this._opened}set opened(u){this.toggle((0,ie.Ig)(u))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(u=>{!u&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var u;const v=null===(u=this._doc)||void 0===u?void 0:u.activeElement;return!!v&&this._elementRef.nativeElement.contains(v)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(u){return this.toggle(!0,u)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(u=!this.opened,v){return this._setOpen(u,!u&&this._isFocusWithinDrawer(),v)}_setOpen(u,v,I="program"){return this._opened=u,u?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=I):(this._animationState="void",v&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(j=>{this.openedChange.pipe((0,Ai.q)(1)).subscribe(Xe=>j(Xe?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(u){this._animationStarted.next(u)}_animationDoneListener(u){this._animationEnd.next(u)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(y.qV),o.Y36(y.tE),o.Y36(ee.t4),o.Y36(o.R0b),o.Y36(P.K0,8),o.Y36(ro,8))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(u,v){1&u&&o.WFA("@transform.start",function(j){return v._animationStartListener(j)})("@transform.done",function(j){return v._animationDoneListener(j)}),2&u&&(o.uIk("align",null),o.d8E("@transform",v._animationState),o.ekj("mat-drawer-end","end"===v.position)("mat-drawer-over","over"===v.mode)("mat-drawer-push","push"===v.mode)("mat-drawer-side","side"===v.mode)("mat-drawer-opened",v.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Xi,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(u,v){1&u&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Te.PQ],encapsulation:2,data:{animation:[fi.transformDrawer]},changeDetection:0}),T})(),di=(()=>{class T{constructor(u,v,I,j,Xe,Ot=!1,en){this._dir=u,this._element=v,this._ngZone=I,this._changeDetectorRef=j,this._animationMode=en,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new te.xQ,this._doCheckSubject=new te.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new te.xQ,u&&u.change.pipe((0,pe.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Xe.change().pipe((0,pe.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Ot}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(u){this._autosize=(0,ie.Ig)(u)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(u){this._backdropOverride=null==u?null:(0,ie.Ig)(u)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ke.O)(this._allDrawers),(0,pe.R)(this._destroyed)).subscribe(u=>{this._drawers.reset(u.filter(v=>!v._container||v._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ke.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(u=>{this._watchDrawerToggle(u),this._watchDrawerPosition(u),this._watchDrawerMode(u)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,kr.b)(10),(0,pe.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(u=>u.open())}close(){this._drawers.forEach(u=>u.close())}updateContentMargins(){let u=0,v=0;if(this._left&&this._left.opened)if("side"==this._left.mode)u+=this._left._getWidth();else if("push"==this._left.mode){const I=this._left._getWidth();u+=I,v-=I}if(this._right&&this._right.opened)if("side"==this._right.mode)v+=this._right._getWidth();else if("push"==this._right.mode){const I=this._right._getWidth();v+=I,u-=I}u=u||null,v=v||null,(u!==this._contentMargins.left||v!==this._contentMargins.right)&&(this._contentMargins={left:u,right:v},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(u){u._animationStarted.pipe((0,Pn.h)(v=>v.fromState!==v.toState),(0,pe.R)(this._drawers.changes)).subscribe(v=>{"open-instant"!==v.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==u.mode&&u.openedChange.pipe((0,pe.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(u.opened))}_watchDrawerPosition(u){!u||u.onPositionChanged.pipe((0,pe.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Ai.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(u){u&&u._modeChanged.pipe((0,pe.R)((0,de.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(u){const v=this._element.nativeElement.classList,I="mat-drawer-container-has-open";u?v.add(I):v.remove(I)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(u=>{"end"==u.position?this._end=u:this._start=u}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(u=>u&&!u.disableClose&&this._canHaveBackdrop(u)).forEach(u=>u._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(u){return"side"!==u.mode||!!this._backdropOverride}_isDrawerOpen(u){return null!=u&&u.opened}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(Ce.Is,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(Te.rL),o.Y36(ai),o.Y36(ne.Qb,8))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-drawer-container"]],contentQueries:function(u,v,I){if(1&u&&(o.Suo(I,ho,5),o.Suo(I,po,5)),2&u){let j;o.iGM(j=o.CRH())&&(v._content=j.first),o.iGM(j=o.CRH())&&(v._allDrawers=j)}},viewQuery:function(u,v){if(1&u&&o.Gf(ho,5),2&u){let I;o.iGM(I=o.CRH())&&(v._userContent=I.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(u,v){2&u&&o.ekj("mat-drawer-container-explicit-backdrop",v._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:ro,useExisting:T}])],ngContentSelectors:Gt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(u,v){1&u&&(o.F$t(pi),o.YNc(0,uo,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,Jo,2,0,"mat-drawer-content",1)),2&u&&(o.Q6J("ngIf",v.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!v._content))},directives:[P.O5,ho],styles:[ii],encapsulation:2,changeDetection:0}),T})(),ko=(()=>{class T extends ho{constructor(u,v,I,j,Xe){super(u,v,I,j,Xe)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>Mr)),o.Y36(o.SBq),o.Y36(Te.mF),o.Y36(o.R0b))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(u,v){2&u&&o.Udp("margin-left",v._container._contentMargins.left,"px")("margin-right",v._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:Xi,decls:1,vars:0,template:function(u,v){1&u&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),T})(),Pr=(()=>{class T extends po{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(u){this._fixedInViewport=(0,ie.Ig)(u)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(u){this._fixedTopGap=(0,ie.su)(u)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(u){this._fixedBottomGap=(0,ie.su)(u)}}return T.\u0275fac=function(){let O;return function(v){return(O||(O=o.n5z(T)))(v||T)}}(),T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(u,v){2&u&&(o.uIk("align",null),o.Udp("top",v.fixedInViewport?v.fixedTopGap:null,"px")("bottom",v.fixedInViewport?v.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===v.position)("mat-drawer-over","over"===v.mode)("mat-drawer-push","push"===v.mode)("mat-drawer-side","side"===v.mode)("mat-drawer-opened",v.opened)("mat-sidenav-fixed",v.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:Xi,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(u,v){1&u&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Te.PQ],encapsulation:2,data:{animation:[fi.transformDrawer]},changeDetection:0}),T})(),Mr=(()=>{class T extends di{}return T.\u0275fac=function(){let O;return function(v){return(O||(O=o.n5z(T)))(v||T)}}(),T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-sidenav-container"]],contentQueries:function(u,v,I){if(1&u&&(o.Suo(I,ko,5),o.Suo(I,Pr,5)),2&u){let j;o.iGM(j=o.CRH())&&(v._content=j.first),o.iGM(j=o.CRH())&&(v._allDrawers=j)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(u,v){2&u&&o.ekj("mat-drawer-container-explicit-backdrop",v._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:ro,useExisting:T}]),o.qOj],ngContentSelectors:_n,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(u,v){1&u&&(o.F$t(qt),o.YNc(0,Pt,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,pt,2,0,"mat-sidenav-content",1)),2&u&&(o.Q6J("ngIf",v.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!v._content))},directives:[P.O5,ko,Te.PQ],styles:[ii],encapsulation:2,changeDetection:0}),T})(),xo=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[P.ez,B.BQ,ee.ud,Te.ZD],Te.ZD,B.BQ]}),T})();const zr=["*",[["mat-toolbar-row"]]],ur=["*","mat-toolbar-row"],Yr=(0,B.pj)(class{constructor(T){this._elementRef=T}});let Lr=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275dir=o.lG2({type:T,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),T})(),fo=(()=>{class T extends Yr{constructor(u,v,I){super(u),this._platform=v,this._document=I}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(ee.t4),o.Y36(P.K0))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-toolbar"]],contentQueries:function(u,v,I){if(1&u&&o.Suo(I,Lr,5),2&u){let j;o.iGM(j=o.CRH())&&(v._toolbarRows=j)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(u,v){2&u&&o.ekj("mat-toolbar-multiple-rows",v._toolbarRows.length>0)("mat-toolbar-single-row",0===v._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:ur,decls:2,vars:0,template:function(u,v){1&u&&(o.F$t(zr),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),T})(),oo=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[B.BQ],B.BQ]}),T})();_(98950);let $s=(()=>{class T{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(u){this._vertical=(0,ie.Ig)(u)}get inset(){return this._inset}set inset(u){this._inset=(0,ie.Ig)(u)}}return T.\u0275fac=function(u){return new(u||T)},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(u,v){2&u&&(o.uIk("aria-orientation",v.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",v.vertical)("mat-divider-horizontal",!v.vertical)("mat-divider-inset",v.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(u,v){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),T})(),Ps=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[B.BQ],B.BQ]}),T})();const Po=["*"],na=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pa=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],lr=(0,B.Id)((0,B.Kr)(class{})),_r=(0,B.Kr)(class{}),Ls=new o.OlP("MatList"),as=new o.OlP("MatNavList");let Lo=(()=>{class T extends lr{constructor(){super(...arguments),this._stateChanges=new te.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return T.\u0275fac=function(){let O;return function(v){return(O||(O=o.n5z(T)))(v||T)}}(),T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:as,useExisting:T}]),o.qOj,o.TTD],ngContentSelectors:Po,decls:1,vars:0,template:function(u,v){1&u&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),T})(),so=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275dir=o.lG2({type:T,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),T})(),bs=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275dir=o.lG2({type:T,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),T})(),Js=(()=>{class T extends _r{constructor(u,v,I,j){super(),this._element=u,this._isInteractiveList=!1,this._destroyed=new te.xQ,this._disabled=!1,this._isInteractiveList=!!(I||j&&"action-list"===j._getListType()),this._list=I||j;const Xe=this._getHostElement();"button"===Xe.nodeName.toLowerCase()&&!Xe.hasAttribute("type")&&Xe.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,pe.R)(this._destroyed)).subscribe(()=>{v.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(u){this._disabled=(0,ie.Ig)(u)}ngAfterContentInit(){(0,B.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(as,8),o.Y36(Ls,8))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(u,v,I){if(1&u&&(o.Suo(I,so,5),o.Suo(I,bs,5),o.Suo(I,B.X2,5)),2&u){let j;o.iGM(j=o.CRH())&&(v._avatar=j.first),o.iGM(j=o.CRH())&&(v._icon=j.first),o.iGM(j=o.CRH())&&(v._lines=j)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(u,v){2&u&&o.ekj("mat-list-item-disabled",v.disabled)("mat-list-item-avatar",v._avatar||v._icon)("mat-list-item-with-avatar",v._avatar||v._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[o.qOj],ngContentSelectors:pa,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(u,v){1&u&&(o.F$t(na),o.TgZ(0,"div",0),o._UZ(1,"div",1),o.Hsn(2),o.TgZ(3,"div",2),o.Hsn(4,1),o.qZA(),o.Hsn(5,2),o.qZA()),2&u&&(o.xp6(1),o.Q6J("matRippleTrigger",v._getHostElement())("matRippleDisabled",v._isRippleDisabled()))},directives:[B.wG],encapsulation:2,changeDetection:0}),T})(),vr=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[B.uc,B.si,B.BQ,B.us,P.ez],B.uc,B.BQ,B.us,Ps]}),T})();var Fo=_(8220),br=_(28369);const Ia=function(T){return["/","automation","loadexample",T]};function Ns(T,O){if(1&T&&(o.TgZ(0,"a",20),o.TgZ(1,"mat-icon"),o._uU(2," https "),o.qZA(),o._uU(3),o.qZA()),2&T){const u=O.index,v=O.$implicit;o.Q6J("routerLink",o.VKq(3,Ia,v.id)),o.xp6(3),o.AsE(" ",u+1," ",v.description,"")}}function Fs(T,O){if(1&T){const u=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(u),o.oxw(),o.MAs(2).toggle()}),o.TgZ(1,"mat-icon",23),o._uU(2,"menu"),o.qZA(),o.qZA()}}const Nr=function(){return["/","automation","studio"]},ys=function(){return["/","automation","main"]};let Bs=(()=>{class T{constructor(u,v,I){this.breakpointObserver=u,this.details=v,this.ta=I,this.demoBlocks=[],this.isHandset$=this.breakpointObserver.observe(Di.u3.Handset).pipe((0,Cr.U)(j=>j.matches||!0),(0,Tr.d)()),this.version=Qr.version,this.title="Blockly Automation"}ngOnInit(){var u,v;this.demoBlocks=this.details.demoBlocks.sort((I,j)=>I.description.localeCompare(j.description)),this.title=null===(v=null===(u=this.details)||void 0===u?void 0:u.settings)||void 0===v?void 0:v.title}executeOnDisplayBlockly(u){this.ta.sendDataToServer("DisplayBlocklyComponent",u)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(Di.Yg),o.Y36(Bi.d),o.Y36(sr.v))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-primary-navig"]],decls:72,vars:22,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","/"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation","target","_blank"],["mat-list-item","","href","https://ignatandrei.github.io/BlocklyAutomation","target","_blank"],["mat-list-item","","target","_blank",3,"routerLink",4,"ngFor","ngForOf"],["color","primary",1,"nav-bar"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[3,"title"],[1,"example-spacer"],["mat-mini-fab","","color","primary",3,"click"],["id","download","mat-button","",3,"matMenuTriggerFor"],["download","matMenu"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseBlocklyAutomation.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseLin.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseWin.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseIISWin.zip/","target","_blank"],["mat-button","",3,"matMenuTriggerFor"],["examples","matMenu"],["mat-list-item","","target","_blank",3,"routerLink"],[1,"main-content"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(u,v){if(1&u&&(o.TgZ(0,"mat-sidenav-container",0),o.TgZ(1,"mat-sidenav",1,2),o.ALo(3,"async"),o.ALo(4,"async"),o.ALo(5,"async"),o.TgZ(6,"mat-toolbar"),o.TgZ(7,"a",3),o._uU(8,"Menu"),o.qZA(),o.qZA(),o.TgZ(9,"mat-nav-list"),o.TgZ(10,"a",4),o.TgZ(11,"mat-icon"),o._uU(12," source "),o.qZA(),o._uU(13," Github"),o.qZA(),o._UZ(14,"mat-divider"),o.TgZ(15,"a",5),o.TgZ(16,"mat-icon"),o._uU(17," https "),o.qZA(),o._uU(18," Demo online"),o.qZA(),o._UZ(19,"mat-divider"),o.TgZ(20,"mat-expansion-panel"),o.TgZ(21,"mat-expansion-panel-header"),o.TgZ(22,"mat-panel-title"),o._uU(23),o.qZA(),o.qZA(),o.YNc(24,Ns,4,5,"a",6),o.qZA(),o.qZA(),o.qZA(),o.TgZ(25,"mat-sidenav-content"),o.TgZ(26,"mat-toolbar",7),o.YNc(27,Fs,3,0,"button",8),o.ALo(28,"async"),o.TgZ(29,"span",9),o._uU(30),o.qZA(),o._UZ(31,"span",10),o.TgZ(32,"button",11),o.NdJ("click",function(){return v.executeOnDisplayBlockly("createIntro")}),o.TgZ(33,"mat-icon"),o._uU(34," help_outline "),o.qZA(),o.qZA(),o.TgZ(35,"button",12),o.TgZ(36,"mat-icon"),o._uU(37," file_download "),o.qZA(),o.qZA(),o.TgZ(38,"mat-menu",null,13),o.TgZ(40,"a",14),o._uU(41," Download HTML"),o.qZA(),o.TgZ(42,"a",15),o._uU(43," Download Linux"),o.qZA(),o.TgZ(44,"a",16),o._uU(45," Download Windows"),o.qZA(),o.TgZ(46,"a",17),o._uU(47," Download IIS"),o.qZA(),o.qZA(),o.TgZ(48,"button",18),o.TgZ(49,"mat-icon"),o._uU(50," source "),o.qZA(),o.qZA(),o.TgZ(51,"mat-menu",null,19),o.TgZ(53,"a",20),o.TgZ(54,"mat-icon"),o._uU(55," star "),o.qZA(),o._uU(56,"Studio "),o.qZA(),o.TgZ(57,"a",20),o.TgZ(58,"mat-icon"),o._uU(59," star_half "),o.qZA(),o._uU(60,"Single "),o.qZA(),o.TgZ(61,"a",4),o.TgZ(62,"mat-icon"),o._uU(63," source "),o.qZA(),o._uU(64," Github"),o.qZA(),o._UZ(65,"mat-divider"),o.TgZ(66,"a",5),o.TgZ(67,"mat-icon"),o._uU(68," https "),o.qZA(),o._uU(69," Demo online"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(70,"div",21),o._UZ(71,"router-outlet"),o.qZA(),o.qZA(),o.qZA()),2&u){const I=o.MAs(39),j=o.MAs(52);o.xp6(1),o.Q6J("mode",o.lcZ(4,14,v.isHandset$)?"over":"side")("opened",!1===o.lcZ(5,16,v.isHandset$)),o.uIk("role",o.lcZ(3,12,v.isHandset$)?"dialog":"navigation"),o.xp6(22),o.hij(" Demos ",v.demoBlocks.length," "),o.xp6(1),o.Q6J("ngForOf",v.demoBlocks),o.xp6(3),o.Q6J("ngIf",o.lcZ(28,18,v.isHandset$)),o.xp6(2),o.s9C("title",v.version),o.xp6(1),o.Oqu(v.title),o.xp6(5),o.Q6J("matMenuTriggerFor",I),o.xp6(13),o.Q6J("matMenuTriggerFor",j),o.xp6(5),o.Q6J("routerLink",o.DdM(20,Nr)),o.xp6(4),o.Q6J("routerLink",o.DdM(21,ys))}},directives:[Mr,Pr,fo,Js,e.yS,Lo,f.Hw,$s,Fo.ib,Fo.yz,Fo.yK,P.sg,ko,P.O5,s.lW,br.p6,br.VK,e.lC],pipes:[P.Ov],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-content[_ngcontent-%COMP%]{height:97%;width:100%}.nav-bar[_ngcontent-%COMP%]{height:3%;width:100%}"]}),T})(),Wo=(()=>{class T{constructor(u,v){var I,j;this.titleService=u,this.title="AutoBlocklyApp",console.log(null===(I=v.settings)||void 0===I?void 0:I.title),this.titleService.setTitle((null===(j=v.settings)||void 0===j?void 0:j.title)||"")}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(E.Dx),o.Y36(Bi.d))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-root"]],decls:1,vars:0,template:function(u,v){1&u&&o._UZ(0,"app-primary-navig")},directives:[Bs],styles:[""]}),T})();var ma=_(31887),Qo=_(59765),Fn=_(68101);let St=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[P.ez,B.BQ,M.Q8],B.BQ]}),T})();_(32812),_(96286),_(62615);const ws={provide:new o.OlP("mat-autocomplete-scroll-strategy"),deps:[Fn.aV],useFactory:function(T){return()=>T.scrollStrategies.reposition()}};let Qs=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[ws],imports:[[Fn.U8,B.Ng,B.BQ,P.ez],Te.ZD,B.Ng,B.BQ]}),T})(),Ci=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[y.rt,B.BQ],B.BQ]}),T})(),wr=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[Fn.U8,B.BQ,A.eL],B.BQ]}),T})(),ns=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[B.BQ,B.si],B.BQ]}),T})(),z=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[B.BQ],B.BQ]}),T})(),gs=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({}),T})(),lo=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[B.si,B.BQ,M.Q8,gs],B.BQ,gs]}),T})();const bc=new o.OlP("mat-chips-default-options"),Gc={separatorKeyCodes:[ye.K5]};let Yd=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[B.rD,{provide:bc,useValue:Gc}],imports:[[B.BQ]]}),T})(),ol=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[Ce.vT]]}),T})(),ta=(()=>{class T{constructor(){this.changes=new te.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return T.\u0275fac=function(u){return new(u||T)},T.\u0275prov=o.Yz7({factory:function(){return new T},token:T,providedIn:"root"}),T})();const Bl={provide:ta,deps:[[new o.FiY,new o.tp0,ta]],useFactory:function(T){return T||new ta}};let Yc=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[Bl,B.rD],imports:[[B.BQ,P.ez,A.eL,s.ot,ol,f.Ps,B.si],B.BQ]}),T})();_(23974),_(64337);let Ca=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[ee.ud]]}),T})(),Qa=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[B.rD],imports:[[Ca,St,B.BQ],Ca,St]}),T})(),cn=(()=>{class T{constructor(){this.changes=new te.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(u,v){return`${u} \u2013 ${v}`}}return T.\u0275fac=function(u){return new(u||T)},T.\u0275prov=o.Yz7({factory:function(){return new T},token:T,providedIn:"root"}),T})();const bd={provide:new o.OlP("mat-datepicker-scroll-strategy"),deps:[Fn.aV],useFactory:function(T){return()=>T.scrollStrategies.reposition()}};let Nu=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[cn,bd],imports:[[P.ez,s.ot,Fn.U8,y.rt,A.eL,B.BQ],Te.ZD]}),T})();function wd(T,O){}class Zc{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const rs={dialogContainer:(0,we.X$)("dialogContainer",[(0,we.SB)("void, exit",(0,we.oB)({opacity:0,transform:"scale(0.7)"})),(0,we.SB)("enter",(0,we.oB)({transform:"none"})),(0,we.eR)("* => enter",(0,we.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,we.oB)({transform:"none",opacity:1}))),(0,we.eR)("* => void, * => exit",(0,we.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,we.oB)({opacity:0})))])};let Bu=(()=>{class T extends A.en{constructor(u,v,I,j,Xe,Ot){super(),this._elementRef=u,this._focusTrapFactory=v,this._changeDetectorRef=I,this._config=Xe,this._focusMonitor=Ot,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=en=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(en)),this._ariaLabelledBy=Xe.ariaLabelledBy||null,this._document=j}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(u){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(u)}attachTemplatePortal(u){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(u)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const u=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&u&&"function"==typeof u.focus){const v=(0,ee.ht)(),I=this._elementRef.nativeElement;(!v||v===this._document.body||v===I||I.contains(v))&&(this._focusMonitor?(this._focusMonitor.focusVia(u,this._closeInteractionType),this._closeInteractionType=null):u.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,ee.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const u=this._elementRef.nativeElement,v=(0,ee.ht)();return u===v||u.contains(v)}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(o.SBq),o.Y36(y.qV),o.Y36(o.sBO),o.Y36(P.K0,8),o.Y36(Zc),o.Y36(y.tE))},T.\u0275dir=o.lG2({type:T,viewQuery:function(u,v){if(1&u&&o.Gf(A.Pl,7),2&u){let I;o.iGM(I=o.CRH())&&(v._portalOutlet=I.first)}},features:[o.qOj]}),T})(),Hu=(()=>{class T extends Bu{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:u,totalTime:v}){"enter"===u?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:v})):"exit"===u&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:v}))}_onAnimationStart({toState:u,totalTime:v}){"enter"===u?this._animationStateChanged.next({state:"opening",totalTime:v}):("exit"===u||"void"===u)&&this._animationStateChanged.next({state:"closing",totalTime:v})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return T.\u0275fac=function(){let O;return function(v){return(O||(O=o.n5z(T)))(v||T)}}(),T.\u0275cmp=o.Xpm({type:T,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(u,v){1&u&&o.WFA("@dialogContainer.start",function(j){return v._onAnimationStart(j)})("@dialogContainer.done",function(j){return v._onAnimationDone(j)}),2&u&&(o.Ikx("id",v._id),o.uIk("role",v._config.role)("aria-labelledby",v._config.ariaLabel?null:v._ariaLabelledBy)("aria-label",v._config.ariaLabel)("aria-describedby",v._config.ariaDescribedBy||null),o.d8E("@dialogContainer",v._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(u,v){1&u&&o.YNc(0,wd,0,0,"ng-template",0)},directives:[A.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[rs.dialogContainer]}}),T})(),Qc=0;class jl{constructor(O,u,v="mat-dialog-"+Qc++){this._overlayRef=O,this._containerInstance=u,this.id=v,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new te.xQ,this._afterClosed=new te.xQ,this._beforeClosed=new te.xQ,this._state=0,u._id=v,u._animationStateChanged.pipe((0,Pn.h)(I=>"opened"===I.state),(0,Ai.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),u._animationStateChanged.pipe((0,Pn.h)(I=>"closed"===I.state),(0,Ai.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),O.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),O.keydownEvents().pipe((0,Pn.h)(I=>I.keyCode===ye.hY&&!this.disableClose&&!(0,ye.Vb)(I))).subscribe(I=>{I.preventDefault(),da(this,"keyboard")}),O.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():da(this,"mouse")})}close(O){this._result=O,this._containerInstance._animationStateChanged.pipe((0,Pn.h)(u=>"closing"===u.state),(0,Ai.q)(1)).subscribe(u=>{this._beforeClosed.next(O),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),u.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(O){let u=this._getPositionStrategy();return O&&(O.left||O.right)?O.left?u.left(O.left):u.right(O.right):u.centerHorizontally(),O&&(O.top||O.bottom)?O.top?u.top(O.top):u.bottom(O.bottom):u.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(O="",u=""){return this._overlayRef.updateSize({width:O,height:u}),this._overlayRef.updatePosition(),this}addPanelClass(O){return this._overlayRef.addPanelClass(O),this}removePanelClass(O){return this._overlayRef.removePanelClass(O),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function da(T,O,u){return void 0!==T._containerInstance&&(T._containerInstance._closeInteractionType=O),T.close(u)}const cl=new o.OlP("MatDialogData"),Rh=new o.OlP("mat-dialog-default-options"),oc=new o.OlP("mat-dialog-scroll-strategy"),xh={provide:oc,deps:[Fn.aV],useFactory:function(T){return()=>T.scrollStrategies.block()}};let Sd=(()=>{class T{constructor(u,v,I,j,Xe,Ot,en,Gn,ni){this._overlay=u,this._injector=v,this._defaultOptions=I,this._parentDialog=j,this._overlayContainer=Xe,this._dialogRefConstructor=en,this._dialogContainerType=Gn,this._dialogDataToken=ni,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new te.xQ,this._afterOpenedAtThisLevel=new te.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Qo.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ke.O)(void 0))),this._scrollStrategy=Ot}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const u=this._parentDialog;return u?u._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(u,v){(v=function(T,O){return Object.assign(Object.assign({},O),T)}(v,this._defaultOptions||new Zc)).id&&this.getDialogById(v.id);const I=this._createOverlay(v),j=this._attachDialogContainer(I,v),Xe=this._attachDialogContent(u,j,I,v);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Xe),Xe.afterClosed().subscribe(()=>this._removeOpenDialog(Xe)),this.afterOpened.next(Xe),j._initializeWithAttachedContent(),Xe}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(u){return this.openDialogs.find(v=>v.id===u)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(u){const v=this._getOverlayConfig(u);return this._overlay.create(v)}_getOverlayConfig(u){const v=new Fn.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:u.scrollStrategy||this._scrollStrategy(),panelClass:u.panelClass,hasBackdrop:u.hasBackdrop,direction:u.direction,minWidth:u.minWidth,minHeight:u.minHeight,maxWidth:u.maxWidth,maxHeight:u.maxHeight,disposeOnNavigation:u.closeOnNavigation});return u.backdropClass&&(v.backdropClass=u.backdropClass),v}_attachDialogContainer(u,v){const j=o.zs3.create({parent:v&&v.viewContainerRef&&v.viewContainerRef.injector||this._injector,providers:[{provide:Zc,useValue:v}]}),Xe=new A.C5(this._dialogContainerType,v.viewContainerRef,j,v.componentFactoryResolver);return u.attach(Xe).instance}_attachDialogContent(u,v,I,j){const Xe=new this._dialogRefConstructor(I,v,j.id);if(u instanceof o.Rgc)v.attachTemplatePortal(new A.UE(u,null,{$implicit:j.data,dialogRef:Xe}));else{const Ot=this._createInjector(j,Xe,v),en=v.attachComponentPortal(new A.C5(u,j.viewContainerRef,Ot));Xe.componentInstance=en.instance}return Xe.updateSize(j.width,j.height).updatePosition(j.position),Xe}_createInjector(u,v,I){const j=u&&u.viewContainerRef&&u.viewContainerRef.injector,Xe=[{provide:this._dialogContainerType,useValue:I},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:v}];return u.direction&&(!j||!j.get(Ce.Is,null,o.XFs.Optional))&&Xe.push({provide:Ce.Is,useValue:{value:u.direction,change:(0,Me.of)()}}),o.zs3.create({parent:j||this._injector,providers:Xe})}_removeOpenDialog(u){const v=this.openDialogs.indexOf(u);v>-1&&(this.openDialogs.splice(v,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((I,j)=>{I?j.setAttribute("aria-hidden",I):j.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const u=this._overlayContainer.getContainerElement();if(u.parentElement){const v=u.parentElement.children;for(let I=v.length-1;I>-1;I--){let j=v[I];j!==u&&"SCRIPT"!==j.nodeName&&"STYLE"!==j.nodeName&&!j.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(j,j.getAttribute("aria-hidden")),j.setAttribute("aria-hidden","true"))}}}_closeDialogs(u){let v=u.length;for(;v--;)u[v].close()}}return T.\u0275fac=function(u){return new(u||T)(o.Y36(Fn.aV),o.Y36(o.zs3),o.Y36(void 0),o.Y36(void 0),o.Y36(Fn.Xj),o.Y36(void 0),o.Y36(o.DyG),o.Y36(o.DyG),o.Y36(o.OlP))},T.\u0275dir=o.lG2({type:T}),T})(),xc=(()=>{class T extends Sd{constructor(u,v,I,j,Xe,Ot,en){super(u,v,j,Ot,en,Xe,jl,Hu,cl)}}return T.\u0275fac=function(u){return new(u||T)(o.LFG(Fn.aV),o.LFG(o.zs3),o.LFG(P.Ye,8),o.LFG(Rh,8),o.LFG(oc),o.LFG(T,12),o.LFG(Fn.Xj))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac}),T})(),Ic=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[xc,xh],imports:[[Fn.U8,A.eL,B.BQ],B.BQ]}),T})();var Ah=_(74026);const ju={provide:new o.OlP("mat-select-scroll-strategy"),deps:[Fn.aV],useFactory:function(T){return()=>T.scrollStrategies.reposition()}};let Yu=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[ju],imports:[[P.ez,Fn.U8,B.Ng,B.BQ],Te.ZD,St,B.Ng,B.BQ]}),T})();const ut={provide:new o.OlP("mat-tooltip-scroll-strategy"),deps:[Fn.aV],useFactory:function(T){return()=>T.scrollStrategies.reposition({scrollThrottle:20})}};let Bn=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[ut],imports:[[y.rt,P.ez,Fn.U8,B.BQ],B.BQ,Te.ZD]}),T})(),Sr=(()=>{class T{constructor(){this.changes=new te.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(u,v,I)=>{if(0==I||0==v)return`0 of ${I}`;const j=u*v;return`${j+1} \u2013 ${j<(I=Math.max(I,0))?Math.min(j+v,I):j+v} of ${I}`}}}return T.\u0275fac=function(u){return new(u||T)},T.\u0275prov=o.Yz7({factory:function(){return new T},token:T,providedIn:"root"}),T})();const Is={provide:Sr,deps:[[new o.FiY,new o.tp0,Sr]],useFactory:function(T){return T||new Sr}};let Da=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[Is],imports:[[P.ez,s.ot,Yu,Bn,B.BQ]]}),T})(),_p=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[P.ez,B.BQ],B.BQ]}),T})();function Cf(T,O){if(1&T&&(o.O4$(),o._UZ(0,"circle",3)),2&T){const u=o.oxw();o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+u._spinnerAnimationLabel)("stroke-dashoffset",u._getStrokeDashOffset(),"px")("stroke-dasharray",u._getStrokeCircumference(),"px")("stroke-width",u._getCircleStrokeWidth(),"%"),o.uIk("r",u._getCircleRadius())}}function Tf(T,O){if(1&T&&(o.O4$(),o._UZ(0,"circle",3)),2&T){const u=o.oxw();o.Udp("stroke-dashoffset",u._getStrokeDashOffset(),"px")("stroke-dasharray",u._getStrokeCircumference(),"px")("stroke-width",u._getCircleStrokeWidth(),"%"),o.uIk("r",u._getCircleRadius())}}const wf=(0,B.pj)(class{constructor(T){this._elementRef=T}},"primary"),Bh=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Os extends wf{constructor(O,u,v,I,j){super(O),this._document=v,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const Xe=Os._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Xe.has(v.head)||Xe.set(v.head,new Set([100])),this._fallbackAnimation=u.EDGE||u.TRIDENT,this._noopAnimations="NoopAnimations"===I&&!!j&&!j._forceAnimations,j&&(j.diameter&&(this.diameter=j.diameter),j.strokeWidth&&(this.strokeWidth=j.strokeWidth))}get diameter(){return this._diameter}set diameter(O){this._diameter=(0,ie.su)(O),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(O){this._strokeWidth=(0,ie.su)(O)}get value(){return"determinate"===this.mode?this._value:0}set value(O){this._value=Math.max(0,Math.min(100,(0,ie.su)(O)))}ngOnInit(){const O=this._elementRef.nativeElement;this._styleRoot=(0,ee.kV)(O)||this._document.head,this._attachStyleNode(),O.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const O=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${O} ${O}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const O=this._styleRoot,u=this._diameter,v=Os._diameters;let I=v.get(O);if(!I||!I.has(u)){const j=this._document.createElement("style");j.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),j.textContent=this._getAnimationText(),O.appendChild(j),I||(I=new Set,v.set(O,I)),I.add(u)}}_getAnimationText(){const O=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*O).replace(/END_VALUE/g,""+.2*O).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Os.\u0275fac=function(O){return new(O||Os)(o.Y36(o.SBq),o.Y36(ee.t4),o.Y36(P.K0,8),o.Y36(ne.Qb,8),o.Y36(Bh))},Os.\u0275cmp=o.Xpm({type:Os,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(O,u){2&O&&(o.uIk("aria-valuemin","determinate"===u.mode?0:null)("aria-valuemax","determinate"===u.mode?100:null)("aria-valuenow","determinate"===u.mode?u.value:null)("mode",u.mode),o.Udp("width",u.diameter,"px")("height",u.diameter,"px"),o.ekj("_mat-animation-noopable",u._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(O,u){1&O&&(o.O4$(),o.TgZ(0,"svg",0),o.YNc(1,Cf,1,9,"circle",1),o.YNc(2,Tf,1,7,"circle",2),o.qZA()),2&O&&(o.Udp("width",u.diameter,"px")("height",u.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===u.mode),o.uIk("viewBox",u._getViewBox()),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[P.RF,P.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),Os._diameters=new WeakMap;let yp=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[B.BQ,P.ez],B.BQ]}),T})(),Vh=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[B.si,B.BQ],B.BQ]}),T})(),kf=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[P.ez,B.BQ],B.BQ]}),T})(),Nf=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({}),T})(),zh=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[Nf,B.si,B.BQ,M.Q8],Nf,B.BQ]}),T})();var Fg=_(45491);let $u=(()=>{class T{constructor(){this.changes=new te.xQ}}return T.\u0275fac=function(u){return new(u||T)},T.\u0275prov=o.Yz7({factory:function(){return new T},token:T,providedIn:"root"}),T})();const Ap={provide:$u,deps:[[new o.FiY,new o.tp0,$u]],useFactory:function(T){return T||new $u}};let Ld=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({providers:[Ap],imports:[[P.ez,B.BQ]]}),T})();_(72850),_(29923),_(15648);let Hp=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[Te.Cl]]}),T})(),Mt=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[Hp,B.BQ],B.BQ]}),T})(),nd=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({}),T})(),$f=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T}),T.\u0275inj=o.cJS({imports:[[nd,B.BQ],B.BQ]}),T})();var $g=_(30142);let Lm=(()=>{class T{}return T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=o.oAB({type:T,bootstrap:[Wo]}),T.\u0275inj=o.cJS({providers:[Bi.d,sr.v,{provide:o.ip1,useFactory:Nm,deps:[Bi.d],multi:!0}],imports:[[E.b2,tr,t.u5,ne.PW,kf,s.ot,ma.JF,Qs,Ci,wr,s.ot,ns,z,lo,Yd,Yc,Nu,Ic,Ps,Fo.To,Ah.N6,f.Ps,Qa,vr,br.Tx,B.XK,Da,_p,yp,Vh,B.si,Yu,xo,kf,zh,Fg.ZX,Ld,Mt,At,oo,Bn,$f,oo,s.ot,xo,f.Ps,vr,$g.nm.forRoot()]]}),T})();function Nm(T){return()=>T.Init()}(0,o.G48)(),E.q6().bootstrapModule(Lm).catch(T=>console.error(T))},39855:(F,U,_)=>{F.exports={interpreterHelper:_(44212),saveBlocksUrl:_(70200),saveLoad:_(98288)}},44212:(F,U,_)=>{U.createInterpreter=function(E,o){return{latestCode:"",workspace:E,BlocklyJavaScript:o,step:0,highlightPause:!1,myInterpreter:null,runner:null,generateCodeAndLoadIntoInterpreter:function(){this.BlocklyJavaScript.STATEMENT_PREFIX="highlightBlock(%1);\n",this.BlocklyJavaScript.addReservedWords("highlightBlock"),this.latestCode=this.BlocklyJavaScript.workspaceToCode(E),this.resetStepUi(!0)},resetStepUi:function(t){this.step=0,this.workspace.highlightBlock(null),this.highlightPause=!1},resetInterpreter:function(){this.myInterpreter=null,this.runner&&(window.clearTimeout(this.runner),this.runner=null)},highlightBlock:function(t){this.workspace.highlightBlock(t),highlightPause=!0},nextStep:function(t,e){console.log("next step"),t.myInterpreter.step()?setTimeout((n,s)=>{n.nextStep(n,s)},10,t,e):(e?e():console.log("\n\n<< Program complete >>"),t.resetInterpreter(),t.resetStepUi(!1))},runCode:function(t,e,n,s){""==s&&(s=this.latestCode),this.myInterpreter||this.resetStepUi(!0),this.generateCodeAndLoadIntoInterpreter();var f=this;f.myInterpreter=t(s,(y,M)=>f.initApiJS(y,M,f,e,n)),1!=window.runOneByOne?setTimeout(function(){this.highlightPause=!1,f.runner=function(){f.myInterpreter&&(f.myInterpreter.run()?setTimeout(f.runner,10):(n?n():console.log("\n\n<< Program complete >>"),f.resetInterpreter(),f.resetStepUi(!1)))},f.runner&&f.runner()},100):this.nextStep(f,n)},initInterpreterWaitForSeconds:function(t,e){this.BlocklyJavaScript.addReservedWords("waitForSeconds");var n=t.createAsyncFunction(function(s,f){setTimeout(f,1e3*s)});t.setProperty(e,"waitForSeconds",n)},getCreds:function(t,e,n){var s=t.pseudoToNative(e),f="(localSite)";(n.startsWith("http://")||n.startsWith("https://"))&&(f=new URL(n).hostname);var y=!1;return f in s?y=s[f]:"*"in s&&(y=s["*"]),y},getHeaders:function(t,e,n){var s=t.pseudoToNative(e),f="(localSite)";(n.startsWith("http://")||n.startsWith("https://"))&&(f=new URL(n).hostname);var y=[];return f in s?y=s[f]:"*"in s&&(y=s["*"]),y},doGet:function(t,e,n,s){let f=new XMLHttpRequest;f.open("GET",t,!0),this.generateDataAndCreds(f,n,s,!1),f.onreadystatechange=function(){if(4==f.readyState){if(f.status>=200&&f.status<300){var y=JSON.stringify({origHref:t,objectToSend:"",status:f.status,statusOK:!0,text:f.responseText});return e(y)}return y=JSON.stringify({origHref:t,objectToSend:"",status:f.status,statusOK:!1,text:f.responseText,headers:f.getAllResponseHeaders()}),e(y)}},f.send(null)},exportToFile:function(t,e,n){var f,s=_(74694);return f=n?this.b64toBlob(e):new Blob([e],{type:"text/plain;charset=utf-8"}),s.saveAs(f,t),t},b64toBlob:function(t,e="",n=512){const s=atob(t),f=[];for(let M=0;M<s.length;M+=n){const A=s.slice(M,M+n),P=new Array(A.length);for(let ne=0;ne<A.length;ne++)P[ne]=A.charCodeAt(ne);const B=new Uint8Array(P);f.push(B)}return new Blob(f,{type:e})},displayDateCurrentAsHuman:function(){return(new Date).toLocaleDateString(void 0,{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},displayDateCurrentAsIso:function(){return(new Date).toISOString()},displayDateCurrentAsUnix:function(){return Date.now()},displayDateFormatted:function(t){switch(t){case"human":return this.displayDateCurrentAsHuman();case"iso":return this.displayDateCurrentAsIso();case"unix":return this.displayDateCurrentAsUnix();default:console.log("Date time format not suported")}},generateDataAndCreds(t,e,n,s){if(n)t.withCredentials=n;else{var f=!1;if(e&&e.length>0)for(var y=0;y<e.length;y++){var M=e[y];"Content-Type"==M.name&&(f=!0),t.setRequestHeader(M.name,M.value)}s&&!f&&t.setRequestHeader("Content-Type","application/json;charset=UTF-8")}},doPut:(t,e,n,s,f)=>{let y=e,M=new XMLHttpRequest;M.open("PUT",t,!0),this.generateDataAndCreds(M,s,f,!!e),M.onreadystatechange=function(){if(4==M.readyState){if(M.status>=200&&M.status<300){var A=JSON.stringify({origHref:t,objectToSend:e,status:M.status,statusOK:!0,text:M.responseText});return n(A)}return A=JSON.stringify({origHref:t,objectToSend:e,status:M.status,statusOK:!1,text:M.responseText,objectToSend:e,headers:M.getAllResponseHeaders()}),n(A)}},M.send(y)},doDelete:function(t,e,n,s,f){let y=e;var M=new XMLHttpRequest;M.open("DELETE",t,!0),this.generateDataAndCreds(M,s,f,!!e),M.onreadystatechange=function(){if(4==M.readyState){if(M.status>=200&&M.status<300){var A=JSON.stringify({origHref:t,objectToSend:"",status:M.status,statusOK:!0,text:M.responseText});return n(A)}return A=JSON.stringify({origHref:t,objectToSend:"",status:M.status,statusOK:!1,text:M.responseText,objectToSend:e,headers:M.getAllResponseHeaders()}),n(A)}},M.send(y)},doPost:function(t,e,n,s,f){let y=e,M=new XMLHttpRequest;M.open("POST",t,!0),this.generateDataAndCreds(M,s,f,!!e),M.onreadystatechange=function(){if(4==M.readyState){if(M.status>=200&&M.status<300){var A=JSON.stringify({origHref:t,objectToSend:e,status:M.status,statusOK:!0,text:M.responseText});return n(A)}return A=JSON.stringify({origHref:t,objectToSend:e,status:M.status,statusOK:!1,text:M.responseText,objectToSend:e,headers:M.getAllResponseHeaders()}),n(A)}},M.send(y)},initApiJS:function(t,e,n,s,f){t.setProperty(e,"errHandler",t.createNativeFunction(y=P=>{s?s("\n error --\n"+P+"\n error --"):console.log(P)}));var M=t.nativeToPseudo({"(localSite)":!1});t.setProperty(e,"withCredsForDomain",M);var A=t.nativeToPseudo({"(localSite)":[]});t.setProperty(e,"headersForDomain",A),t.setProperty(e,"alert1",t.createNativeFunction(y=function(P){P=P?P.toString():"",window.alert(P)})),t.setProperty(e,"startDebugger",t.createNativeFunction(y=function(P,B,ne){n.highlightBlock(B),console.log(P,B,ne)})),t.setProperty(e,"alert",t.createNativeFunction(y=function(P){P=P?P.toString():"",s?s(P):console.log(P)})),t.setProperty(e,"waitTime",t.createAsyncFunction(y=(P,B)=>{console.log(`waiting seconds ${P}`),setTimeout(B,1e3*P)})),t.setProperty(e,"displayDateFormatted",t.createNativeFunction(y=P=>n.displayDateFormatted(P))),t.setProperty(e,"exportToFile",t.createNativeFunction(y=(P,B,ne)=>n.exportToFile(P,B,ne))),t.setProperty(e,"convertToCSV",t.createNativeFunction(y=P=>{let B="object"!=typeof P?JSON.parse(P):{};return B=[Object.keys(B[0])].concat(B),B.map(te=>Object.values(te).toString()).join("\n")})),t.setProperty(e,"open",t.createNativeFunction(y=function(P){window.open(P,"_blank")})),t.setProperty(e,"changeHost",t.createNativeFunction(y=function(P,B){if(0==(B=(B=B?B.toString():"").trim()).length)return P;if(0==(P=(P=P||"").trim()).length&&!(P=B).startsWith("http"))throw`please put in front of ${B} http:// or https://`;(P=new URL(P)).hostname=B.replace("https://","").replace("http://","");var ne=P.href;return ne.endsWith("/")&&(ne=ne.substring(0,ne.length-1)),ne})),t.setProperty(e,"changePort",t.createNativeFunction(y=function(P,B){P=new URL(P),console.log(`url ${P.href}`),P.port=B,console.log(`url ${P.href}`);var ne=P.href;return ne.endsWith("/")&&(ne=ne.substring(0,ne.length-1)),ne}));var y=function(P){return P=P?P.toString():"",t.createPrimitive(prompt(P))};t.setProperty(e,"prompt",t.createNativeFunction(y)),n.BlocklyJavaScript.addReservedWords("waitForSeconds"),y=t.createAsyncFunction(function(P,B){setTimeout(B,1e3*P)}),t.setProperty(e,"waitForSeconds",y),t.setProperty(e,"getXhr",t.createAsyncFunction(y=(P,B)=>{var ne=n.getHeaders(t,A,P),te=n.getCreds(t,M,P);return n.doGet(P,B,ne,te)})),t.setProperty(e,"postXhr",t.createAsyncFunction(y=(P,B,ne)=>{try{var te=n.getHeaders(t,A,P),se=n.getCreds(t,M,P);n.doPost(P,B,ne,te,se)}catch(de){alert("is an error"+de)}})),t.setProperty(e,"deleteXhr",t.createAsyncFunction(y=(P,B,ne)=>{try{var te=n.getHeaders(t,A,P),se=n.getCreds(t,M,P);n.doDelete(P,B,ne,te,se)}catch(de){alert("is an error"+de)}})),y=(P,B,ne)=>{try{var te=t.pseudoToNative(A),se="(localSite)";(P.startsWith("http://")||P.startsWith("https://"))&&(se=new URL(P).hostname);var de=[];se in te&&(de=te[se]),n.doPut(P,B,ne,de,!1)}catch(Me){alert("is an error"+Me)}},t.setProperty(e,"putXhr",t.createAsyncFunction(y)),y=function(P){return P=P?P.toString():"",t.createPrimitive(n.highlightBlock(P))},t.setProperty(e,"highlightBlock",t.createNativeFunction(y))}}}},70200:(F,U)=>{U.saveState=function(o,t,e){var n="BlocklyState"+(e||""),s=o.workspaceToDom(t,!0),f=o.domToPrettyText(s);window.localStorage.setItem(n,f)},U.restoreState=function(o,t,e){var s=window.localStorage.getItem("BlocklyState"+(e||""));if((null==s?void 0:s.length)>62){var f=o.textToDom(s);o.clearWorkspaceAndLoadFromXml(f,t)}return""}},98288:(F,U,_)=>{var E=_(74694);U.DownloadBlocks=function(o,t,e){var n=o.workspaceToDom(t,!0),s=o.domToPrettyText(n),f=new Blob([s],{type:"text/plain;charset=utf-16"});E.saveAs(f,e)},U.LoadFile=function(o,t,e){t.clear();var n=o.textToDom(e);o.domToWorkspace(n,t)}},64408:(F,U)=>{U.definitionBlocks=function(_,E,o){_.HTMLheaders={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("Header").appendField(new o([["H1","H1"],["H2","H2"],["H3","H3"]]),"NAME"),this.setOutput(!0,null),this.setColour(240),this.setTooltip("string to Header "),this.setHelpUrl("")}},E.HTMLheaders=function(t){var e=t.getFieldValue("NAME");return[`'<${e}>'+ ${E.valueToCode(t,"NAME",E.ORDER_ATOMIC)} + '</${e}>'`,E.ORDER_NONE]},_.HTMLlist={init:function(){this.appendDummyInput().appendField("List ").appendField(o([["OL","ol"],["UL","ul"]]),"listType"),this.appendStatementInput("Content").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(240),this.setTooltip("list - please add li block "),this.setHelpUrl("")}},E.HTMLlist=function(t){var e=t.getFieldValue("listType");return E.valueToCode(t,"ListType",E.ORDER_ATOMIC),`window.alert('<${e}>');\n;${E.statementToCode(t,"Content")};\n;window.alert('</${e}>');\n`},_.HTMLli={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("LI"),this.setOutput(!0,null),this.setColour(240),this.setTooltip("string to LI"),this.setHelpUrl("")}},E.HTMLli=function(t){return[`'<li>'+ ${E.valueToCode(t,"NAME",E.ORDER_ATOMIC)} + '</li>'`,E.ORDER_NONE]}},U.fieldXML=function(){return'\n    <block type=\'text_print\'>" \n               <value name=\'TEXT\'>" \n                 \n    <block type="HTMLheaders">\n        <value name="NAME">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n    </block>    \n      </value>\n\n\n      </block>\n        \n<block type="HTMLlist"></block>\n\n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n  \n<block type="HTMLli">\n<value name="NAME">\n<shadow type="text">\n <field name="TEXT"></field>\n</shadow>\n</value>\n</block>    \n</value>\n\n\n</block>\n\n\n'}},99848:(F,U)=>{U.definitionBlocks=function(_,E){_.credsforhttp={init:function(){this.appendDummyInput().appendField("Http with Creds"),this.appendValueInput("HttpDomain").setCheck("String").appendField("Domain"),this.appendValueInput("WithCreds").setCheck("Boolean").appendField("With Creds ?"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},E.credsforhttp=function(e){return"withCredsForDomain["+(E.valueToCode(e,"HttpDomain",0)||"(localSite)")+"]="+E.valueToCode(e,"WithCreds",0)+";\n"}},U.fieldXML=function(){return'<block type="credsforhttp">\n    <value name="HttpDomain">\n        <shadow type="text">\n            <field name="TEXT">(localSite)</field>\n        </shadow>\n    </value>\n    <value name="WithCreds">\n        <shadow type="logic_boolean">\n            <field name="BOOL">FALSE</field>\n        </shadow>\n    </value>\n</block>\n'}},10650:(F,U)=>{U.definitionBlocks=function(_,E){_.auth0webapidata={init:function(){this.appendDummyInput().appendField("Auth0"),this.appendValueInput("client_id").setCheck(null).appendField("client_id"),this.appendValueInput("client_secret").setCheck(null).appendField("client_secret"),this.appendValueInput("audience").setCheck(null).appendField("audience"),this.appendValueInput("grant_type").setCheck(null).appendField("grant_type"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},E.auth0webapidata=function(e){var M='{"client_id":'+E.valueToCode(e,"client_id",0);return M+=',"client_secret":'+E.valueToCode(e,"client_secret",0),M+=',"audience":'+E.valueToCode(e,"audience",0),M+=',"grant_type":'+E.valueToCode(e,"grant_type",0),[M+="}",99]}},U.fieldXML=function(){return'<category id="Auth0" name="Auth0">\n    <block type="auth0webapidata">\n        <value name="client_id">\n            <shadow type="text">\n                <field name="TEXT">client_id?</field>\n            </shadow>\n\n        </value>\n        <value name="client_secret">\n            <shadow type="text">\n                <field name="TEXT">client_secret?</field>\n            </shadow>\n\n        </value>\n        <value name="audience">\n            <shadow type="text">\n                <field name="TEXT">audience</field>\n            </shadow>\n\n        </value>\n        <value name="grant_type">\n            <shadow type="text">\n                <field name="TEXT">grant_type?</field>\n            </shadow>\n\n        </value>\n    </block>\n</category>\n'}},80681:(F,U)=>{U.definitionBlocks=function(_,E,o,t){_.chart_js={init:function(){this.appendDummyInput().appendField("ChartType").appendField(o([["HBar","HBar"],["VBar","VBar"]]),"ChartTypeValue"),this.appendValueInput("ChartTitleValue").setCheck(null).appendField(t("Title"),"ChartTitle"),this.appendValueInput("LabelsValue").setCheck("Array").appendField(t("Labels"),"ChartLabels"),this.appendValueInput("DataSet1Label").setCheck("String").appendField(t("DataSet1 Label"),"DataSetLabel1"),this.appendValueInput("DataSet1Data").setCheck("Array").appendField(t("DataSet1 Data"),"DataSetData1"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},E.chart_js=function(e){var n=e.getFieldValue("ChartTypeValue"),f=(E.valueToCode(e,"ChartTitleValue",E.ORDER_ATOMIC),E.valueToCode(e,"LabelsValue",E.ORDER_ATOMIC)),y=E.valueToCode(e,"DataSet1Label",E.ORDER_ATOMIC),M=E.valueToCode(e,"DataSet1Data",E.ORDER_ATOMIC),A="",P="x";switch(n){case"HBar":A="bar",P="y";break;case"VBar":A="bar";break;default:throw"Unknown chart type:"+n}return[`JSON.stringify({ 'type': '${A}', 'options':{ 'indexAxis':'${P}'},  'data': {  'labels': ${f}, 'datasets': [{ 'backgroundColor': ['green','blue'],'label': ${y}, 'data': ${M} }] } })`,E.ORDER_NONE]}},U.fieldXML=function(){return'<block type="chart_js"></block>'}},31439:(F,U)=>{U.definitionBlocks=function(_,E,o){_.comment={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("comment /* */").appendField(o(""),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},E.comment=function(e){return"/*\n"+(E.valueToCode(e,"TEXT",0)||"''")+"\n*/;\n"},_.debugger={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("debugger").appendField(o(""),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},E.debugger=function(e){return"startDebugger("+(E.valueToCode(e,"TEXT",0)||"''")+",'"+e.id+"',this);\n"}},U.fieldXML=function(){return'<block type="comment">\n    <value name="TEXT">\n        <shadow type="text">\n            <field name="TEXT">Put here comments</field>\n        </shadow>\n    </value>\n</block>\n<block type="debugger">\n    <value name="TEXT">\n        <shadow type="text">\n            <field name="TEXT">my message for debug</field>\n        </shadow>\n    </value>\n</block>\n'}},5986:(F,U)=>{U.definitionBlocks=function(_,E){_.converttojson={init:function(){this.appendDummyInput().appendField("ConvertToJSON"),this.appendValueInput("ValueToConvert").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,null),this.setTooltip("Convert to JSON"),this.setHelpUrl("")}},E.converttojson=function(n){return["JSON.parse("+E.valueToCode(n,"ValueToConvert",0)+")",99]},_.converttostring={init:function(){this.appendDummyInput().appendField("ConvertToString"),this.appendValueInput("ValueToConvert").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,null),this.setTooltip("Convert to String"),this.setHelpUrl("")}},E.converttostring=function(n){return["JSON.stringify("+E.valueToCode(n,"ValueToConvert",0)+")",99]},_.convertcsv={init:function(){this.appendDummyInput().appendField("Convert CSV"),this.appendValueInput("ArrayToConvert").setCheck(null).appendField("Array to convert"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("")}},E.convertcsv=function(n){return["convertToCSV("+E.valueToCode(n,"ArrayToConvert",E.ORDER_ATOMIC)+")",99]}},U.fieldXML=function(){return'<block type="converttojson"></block>\n <block type="converttostring"></block>\n <block type="convertcsv"></block>\n'}},44832:(F,U)=>{U.definitionBlocks=function(_,E,o,t,e){E.object_from_json=function(ye){return[`JSON.parse(${E.valueToCode(ye,"JSON",0)})`,99]},E.object_to_json=function(ye){return[`JSON.stringify(${E.valueToCode(ye,"object",0)})`,99]},E.object_get=function(ye){const Ce=ye.getFieldValue("field_name");return[`${E.valueToCode(ye,"object",0)}['${Ce}']`,99]},E.object_set=function(ye){const Ce=ye.getFieldValue("field_name");return`${E.valueToCode(ye,"object_field",0)}['${Ce}'] = ${E.valueToCode(ye,"value_field",0)};\n`},E.object_create=function(ye){if(!ye.numFields)return["{}",99];let Ce="";for(let me=1;me<=ye.numFields;me++)Ce+=`"${ye.getFieldValue("field"+me)}": ${E.valueToCode(ye,"field_input"+me,0)}, `;return[`{ ${Ce} }`,99]};const te="object_field",se="object_create_mutator_top",de="#F99EA3",ae=(ye,...Ce)=>({object_from_json:"get object from JSON %1",object_from_json_tooltip:"Create object from JSON string.",object_to_json:"generate JSON from object %1",object_to_json_tooltip:"Save object as a JSON string.",object_get_json:"get property %1 %2 of object %3",object_get_json_tooltip:"Get a property of an object.",object_set_json:"set property %1 %2 of object %3 to %4",object_set_json_tooltip:"Set a property of an object.",object_create:"create object",object_create_tooltip:"Create a new object, optionally with some property values.",object_field_name:"property name"}[ye]),Me={type:"object_from_json",message0:ae("object_from_json"),args0:[{type:"input_value",name:"JSON",check:"String"}],output:"Object",colour:de,tooltip:ae("object_from_json_tooltip"),helpUrl:"http://www.json.org/"};_.object_from_json={init:function(){this.jsonInit(Me)}};const xe={type:"object_to_json",message0:ae("object_to_json"),args0:[{type:"input_value",name:"object",check:"Object"}],output:null,colour:de,tooltip:ae("object_to_json_tooltip"),helpUrl:"http://www.json.org/"};_.object_to_json={init:function(){this.jsonInit(xe)}};const we={type:"object_get",message0:ae("object_get_json"),args0:[{type:"field_input",name:"field_name",text:"default"},{type:"input_dummy"},{type:"input_value",name:"object",check:"Object",align:"RIGHT"}],output:null,colour:de,tooltip:ae("object_get_json_tooltip"),helpUrl:""};_.object_get={init:function(){this.jsonInit(we)}};const ke={type:"object_set",message0:ae("object_set_json"),args0:[{type:"field_input",name:"field_name",text:ae("object_field_name")},{type:"input_dummy"},{type:"input_value",name:"object_field",check:"Object",align:"RIGHT"},{type:"input_value",name:"value_field",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:de,tooltip:ae("object_set_json_tooltip"),helpUrl:""};_.object_set={init:function(){this.jsonInit(ke)}};const fe={type:"object_create",message0:ae("object_create"),output:"Object",mutator:"controls_create_mutator",colour:15,tooltip:ae("object_create_tooltip"),helpUrl:""};_.object_create={init:function(){this.jsonInit(fe)}};const pe={type:"object_field",message0:"%1 %2",args0:[{type:"field_input",name:"field_name",text:ae("object_field_name")},{type:"input_value",name:"field_value"}],previousStatement:null,nextStatement:null,colour:15,tooltip:"",helpUrl:""};_[te]={init:function(){this.jsonInit(pe)}};const ie={type:"object_create_mutator",message0:ae("object_create"),nextStatement:null,colour:15,tooltip:ae("object_create_tooltip"),helpUrl:""};_[se]={init:function(){this.jsonInit(ie)}};const ee={numFields:0,fields:[],domToMutation:function(ye){this.fields=[];for(let Te,Ce=0;Te=ye.childNodes[Ce];Ce++)"field"==Te.nodeName.toLowerCase()&&this.fields.push(Te.getAttribute("name"));this.numFields=this.fields.length,this.updateShape()},mutationToDom:function(){if(!this.numFields)return null;const ye=document.createElement("mutation");ye.setAttribute("num_fields",""+this.numFields);for(let Ce=0;Ce<this.fields.length;Ce++){const Te=document.createElement("field");Te.setAttribute("name",this.fields[Ce]),ye.appendChild(Te)}return ye},compose:function(ye){let Ce=ye.nextConnection&&ye.nextConnection.targetBlock();this.numFields=0,this.fields=[];let Te=[null];for(;Ce;)this.fields.push(Ce.getFieldValue("field_name")),this.numFields++,Te.push(Ce.savedConnection),Ce=Ce.nextConnection&&Ce.nextConnection.targetBlock();this.updateShape();for(let me=1;me<=this.numFields;me++)e().reconnect(Te[me],this,"field_input"+me)},decompose:function(ye){const Ce=ye.newBlock(se);Ce.initSvg();let Te=Ce.nextConnection;for(let me=0;me<this.fields.length;me++){const ve=ye.newBlock(te);ve.initSvg(),ve.setFieldValue(this.fields[me],"field_name"),Te.connect(ve.previousConnection),Te=ve.nextConnection}return Ce},saveConnections:function(ye){let Ce=ye.nextConnection&&ye.nextConnection.targetBlock(),Te=1;for(;Ce;){const me=this.getInput("field_input"+Te);Ce.savedConnection=me&&me.connection.targetConnection,Ce.setFieldValue(this.getFieldValue("field"+Te),"field_name"),Te++,Ce=Ce.nextConnection&&Ce.nextConnection.targetBlock()}},updateShape:function(){this.getInput("with")&&this.removeInput("with");let ye=1;for(;this.getInput("field_input"+ye);)this.removeInput("field_input"+ye),ye++;this.numFields>0&&this.appendDummyInput("with").setAlign(1).appendField("with fields");for(let Ce=1;Ce<=this.numFields;Ce++){const Te=this.fields[Ce-1];this.appendValueInput("field_input"+Ce).setCheck(null).setAlign(1).appendField(t(Te),"field"+Ce)}}};try{o.registerMutator("controls_create_mutator",ee,null,["object_field"])}catch(ye){}},U.fieldXML=function(){return'    \n    <block type="modifyproperty"></block>\n    <block type="getproperty"></block>\n    <block type="object_create"></block>\n    \x3c!--<block type="object_from_json"></block>\n<block type="object_to_json"></block>\n<block type="object_get"></block>\n<block type="object_set"></block>--\x3e\n\n'}},31310:(F,U)=>{U.definitionBlocks=function(_,E,o){_.displayCurrentDate={init:function(){this.appendDummyInput().appendField("Current Date"),this.appendDummyInput().appendField("Pick date format:").appendField(new o([["Unix format","unix"],["ISO format","iso"],["Human format","human"]]),"dateFormat"),this.setOutput(!0,null),this.setColour(100),this.setTooltip("Show current date."),this.setHelpUrl("https://www.w3schools.com/jsref/jsref_obj_date.asp")}};E.displayCurrentDate=n=>{let f="";switch(n.getFieldValue("dateFormat").toString()){case"human":f="displayDateFormatted('human')";break;case"iso":f="displayDateFormatted('iso')";break;case"unix":f="displayDateFormatted('unix')";break;default:console.log("Date time format not suported")}return[f,99]}},U.fieldXML=function(){return'<block type="displayCurrentDate"></block>'}},70061:(F,U)=>{U.definitionBlocks=function(_,E){_.DateFromText={init:function(){this.appendValueInput("VALUE").appendField("Date from "),this.setOutput(!0,null),this.setHelpUrl("https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse#Date_Time_String_Format")}},E.DateFromText=t=>["Date.parse("+(E.valueToCode(t,"VALUE",E.ORDER_ATOMIC)||"")+")",99]},U.fieldXML=function(){return'<block type="DateFromText">\n    <value name="VALUE">\n        <shadow type="text">\n            <field name="TEXT">1970-04-16T02:00:00</field>\n        </shadow>\n    </value>\n</block>\n'}},75140:(F,U)=>{U.generalBlocks=function(){return'\n    \n    <category name="Blockly Core">\n\n    <category id="catLogic" colour="210" name="Logic">\n        <block type="controls_if"></block>\n        <block type="logic_compare"></block>\n        <block type="logic_operation"></block>\n        <block type="logic_negate"></block>\n        <block type="logic_boolean"></block>\n        <block type="logic_null"></block>\n        <block type="logic_ternary"></block>\n    </category>\n    <category id="catLoops" colour="120" name="Loops">\n        <block type="controls_repeat_ext">\n            <value name="TIMES">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="controls_whileUntil"></block>\n        <block type="controls_for">\n            <value name="FROM">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="TO">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n            <value name="BY">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="controls_forEach"></block>\n        <block type="controls_flow_statements"></block>\n    </category>\n    <category id="catMath" colour="230" name="Math">\n        <block type="math_number"></block>\n        <block type="math_arithmetic">\n            <value name="A">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="B">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_single">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">9</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_trig">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">45</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_constant"></block>\n        <block type="math_number_property">\n            <value name="NUMBER_TO_CHECK">\n                <shadow type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_change">\n            <value name="DELTA">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_round">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">3.1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_on_list"></block>\n        <block type="math_modulo">\n            <value name="DIVIDEND">\n                <shadow type="math_number">\n                    <field name="NUM">64</field>\n                </shadow>\n            </value>\n            <value name="DIVISOR">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_constrain">\n            <value name="VALUE">\n                <shadow type="math_number">\n                    <field name="NUM">50</field>\n                </shadow>\n            </value>\n            <value name="LOW">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="HIGH">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_random_int">\n            <value name="FROM">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="TO">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_random_float"></block>\n    </category>\n    <category id="catText" colour="160" name="Text">\n        <block type="text"></block>\n        <block type="text_join"></block>\n        <block type="text_append">\n            <value name="TEXT">\n                <shadow type="text"></shadow>\n            </value>\n        </block>\n        <block type="text_length">\n            <value name="VALUE">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_isEmpty">\n            <value name="VALUE">\n                <shadow type="text">\n                    <field name="TEXT"></field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_indexOf">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n            <value name="FIND">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_charAt">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n        </block>\n        <block type="text_getSubstring">\n            <value name="STRING">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n        </block>\n        <block type="text_changeCase">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_trim">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_print">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_prompt_ext">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n    </category>\n    <category id="catLists" colour="260" name="Lists">\n        <block type="lists_create_with">\n            <mutation items="0"></mutation>\n        </block>\n        <block type="lists_create_with"></block>\n        <block type="lists_repeat">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">5</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="lists_length"></block>\n        <block type="lists_isEmpty"></block>\n        <block type="lists_indexOf">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_getIndex">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_setIndex">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_getSublist">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_split">\n            <value name="DELIM">\n                <shadow type="text">\n                    <field name="TEXT">,</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="lists_sort"></block>\n    </category>\n    <category id="catColour" colour="20" name="Color">\n        <block type="colour_picker"></block>\n        <block type="colour_random"></block>\n        <block type="colour_rgb">\n            <value name="RED">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n            <value name="GREEN">\n                <shadow type="math_number">\n                    <field name="NUM">50</field>\n                </shadow>\n            </value>\n            <value name="BLUE">\n                <shadow type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="colour_blend">\n            <value name="COLOUR1">\n                <shadow type="colour_picker">\n                    <field name="COLOUR">#ff0000</field>\n                </shadow>\n            </value>\n            <value name="COLOUR2">\n                <shadow type="colour_picker">\n                    <field name="COLOUR">#3333ff</field>\n                </shadow>\n            </value>\n            <value name="RATIO">\n                <shadow type="math_number">\n                    <field name="NUM">0.5</field>\n                </shadow>\n            </value>\n        </block>\n    </category>\n    <category id="catVariables" colour="330" custom="VARIABLE" name="Variables"></category>\n    <category id="catFunctions" colour="290" custom="PROCEDURE" name="Functions"></category>\n</category>\n\n      '}},88518:(F,U)=>{U.definitionBlocks=function(_,E,o){_.blockemail={init:function(){this.appendValueInput("from").setCheck(null).appendField("From:"),this.appendValueInput("to").setCheck(null).appendField("To:"),this.appendValueInput("cc").setCheck(null).appendField("CC:"),this.appendValueInput("bcc").setCheck(null).appendField("BCC:"),this.appendValueInput("subject").setCheck(null).appendField("Subject:"),this.appendValueInput("body").setCheck(null).appendField("Body:").appendField(new o([["HTML","Html"],["TEXT","Text"]]),"NAME"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},_.sendinblue={init:function(){this.appendDummyInput().appendField("SendInBlue"),this.appendValueInput("APIKey").setCheck(null).appendField("ApiKey"),this.appendValueInput("email").setCheck("blockemail").appendField("Email"),this.setColour(230),this.setTooltip("Please see https://account.sendinblue.com/advanced/api"),this.setHelpUrl("https://account.sendinblue.com/advanced/api"),this.setOutput(!0,null)}},E.sendinblue=function(e){var f='window.alert("SendInBlue");\n',y="api.sendinblue.com";return f=`(function(apiKey,email){if(!('${y}' in headersForDomain)){ headersForDomain['${y}']=[]; };\n`,f+=`headersForDomain['${y}'].push({"name":"api-key","value":apiKey});\n`,f+=`headersForDomain['${y}'].push({"name":"Content-Type","value":"application/json"});\n`,f+=`headersForDomain['${y}'].push({"name":"Accept","value":"application/json"});\n`,f+='var sendinblueData={"sender":{"email": email.from }, "to":[{"email":email.to }],"subject":email.subject,"htmlContent": email.body} ;\n',f+="\nwindow.alert(JSON.stringify(sendinblueData));\n",f+=`var res=JSON.parse(postXhr("https://${y}/v3/smtp/email",JSON.stringify(sendinblueData)));if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;\n`,[f+="})("+E.valueToCode(e,"APIKey",E.ORDER_ATOMIC)+","+E.valueToCode(e,"email",E.ORDER_ATOMIC)+")",E.ORDER_NONE]},E.blockemail=function(e){var n=E.valueToCode(e,"from",E.ORDER_ATOMIC),s=E.valueToCode(e,"to",E.ORDER_ATOMIC),f=E.valueToCode(e,"cc",E.ORDER_ATOMIC),y=E.valueToCode(e,"bcc",E.ORDER_ATOMIC),M=E.valueToCode(e,"subject",E.ORDER_ATOMIC),A=e.getFieldValue("NAME"),B="{";return B+='"from":'+n+",",B+='"to":'+s+",",B+='"cc":'+f+",",B+='"bcc":'+y+",",B+='"subject":'+M+",",B+='"body":'+E.valueToCode(e,"body",E.ORDER_ATOMIC)+",",B+='"typeEmail":"'+A+'"',[""+(B+="}"),E.ORDER_NONE]}},U.fieldXML=function(){return'<block type="blockemail">\n        <value name="from">\n            <shadow type="text">\n                <field name="TEXT">test@test.com</field>\n            </shadow>\n        </value>\n        <value name="to">\n            <shadow type="text">\n                <field name="TEXT">ignatandrei@yahoo.com</field>\n            </shadow>\n        </value>\n        <value name="cc">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n        <value name="bcc">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n        <value name="subject">\n            <shadow type="text">\n                <field name="TEXT">My test email</field>\n            </shadow>\n        </value>\n        <value name="body">\n            <shadow type="text">\n                <field name="TEXT">This is the body</field>\n            </shadow>\n        </value>\n            </block>\n        <block type="sendinblue">\n        <value name="APIKey">\n            <shadow type="text">\n                <field name="TEXT">Please put here the API Key from SendInBlue</field>\n            </shadow>\n            \n        </value>\n        <value name="email">\n            <shadow type="blockemail">\n            </shadow>\n            \n        </value>\n        \n        </block>\n'}},93736:(F,U)=>{U.definitionBlocks=function(_,E){_.exportfile={init:function(){this.appendDummyInput().appendField("ExportToFile"),this.appendValueInput("fileName").setCheck(null).appendField("FileName"),this.appendValueInput("contentFile").setCheck(null).appendField("Content"),this.appendValueInput("convertToByte").setCheck("Boolean").appendField("ConvertToByteFromBase64"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},E.exportfile=function(e){return"exportToFile("+E.valueToCode(e,"fileName",0)+","+E.valueToCode(e,"contentFile",0)+","+E.valueToCode(e,"convertToByte",0)+");\n"}},U.fieldXML=function(){return'<block type="exportfile">\n    <value name="fileName">\n        <shadow type="text">\n            <field name="TEXT">abc</field>\n        </shadow>\n    </value>\n    <value name="convertToByte">\n        <shadow type="logic_boolean">\n            <field name="BOOL">FALSE</field>\n        </shadow>\n    </value>\n</block>\n'}},21811:(F,U)=>{U.definitionBlocks=function(_,E){_.filterList={init:function(){this.appendDummyInput().appendField("filterList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("Logic").setCheck("String").appendField("item=>"),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},E.filterList=function(o){var t=E.valueToCode(o,"LIST",E.ORDER_MEMBER)||"[]",e=E.valueToCode(o,"Logic",E.ORDER_ATOMIC);"string"==typeof e&&(e=e.substr(1,e.length-2));var n="";return n+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+t+")).filter(function (item){ return "+e+";})",[n+="",E.ORDER_FUNCTION_CALL]},_.mapList={init:function(){this.appendDummyInput().appendField("mapList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("Logic").setCheck("String").appendField("item=>"),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},E.mapList=function(o){var t=E.valueToCode(o,"LIST",E.ORDER_MEMBER)||"[]",e=E.valueToCode(o,"Logic",E.ORDER_ATOMIC);"string"==typeof e&&(e=e.substr(1,e.length-2));var n="";return n+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+t+")).map(function (item){ return "+e+";})",[n+="",E.ORDER_FUNCTION_CALL]},_.reduceList={init:function(){this.appendDummyInput().appendField("reduceList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("initValue").setCheck(null).appendField("initialValue"),this.appendValueInput("Logic").setCheck("String").appendField("callback(acc,curVal,index, array)=>"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},E.reduceList=function(o){var t=E.valueToCode(o,"LIST",E.ORDER_MEMBER)||"[]",e="";try{e=E.valueToCode(o,"initValue",E.ORDER_ATOMIC)}catch(f){window.alert(f)}var n=E.valueToCode(o,"Logic",E.ORDER_ATOMIC);"string"==typeof n&&(n=n.substr(1,n.length-2));var s="";return s+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+t+")).reduce(function (acc,curVal,index,array){ "+n+";}",e&&e.toString().length>0&&(s+=","+e),s+=")",[s+="",E.ORDER_FUNCTION_CALL]}},U.fieldXML=function(){return'\n        <category id="catA" name="Array">\n            <block type="filterList">\n                <value name="LIST">\n                    <block type="variables_get">\n                        <field name="VAR">list</field>\n                    </block>\n                </value>\n                <value name="initValue">\n                    <shadow type="text">\n                        <field name="TEXT"> </field>\n                    </shadow>\n                </value>\n                <value name="Logic">\n                    <shadow type="text">\n                        <field name="TEXT">item.property == "value"</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="mapList">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n            <value name="Logic">\n                <shadow type="text">\n                    <field name="TEXT">item.property</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="reduceList">\n        <value name="LIST">\n        <block type="variables_get">\n                <field name="VAR">list</field>\n            </block>\n            </value>\n            <value name="Logic">\n                <shadow type="text">\n                    <field name="TEXT">...</field>\n                </shadow>\n            </value>\n        </block>\n        </category>\n\n'}},92605:(F,U)=>{U.definitionBlocks=function(_,E,o){_.window_open={init:function(){this.jsonInit({message0:"Open %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks"})}},E.window_open=function(n){var s=E.valueToCode(n,"TEXT",99)||"''";return"if((typeof "+s+' == "object") && ("to" in '+s+')){open("mailto:'+s.to+'")}else{ open('+s+")};\n"},_.text_message={init:function(){this.jsonInit({message0:"alert %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks"})}},E.text_message=function(n){return"alert1("+(E.valueToCode(n,"TEXT",99)||"''")+");\n"},_.text_print_return={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("print return").appendField(o(""),"NAME"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("")}},E.text_print_return=function(n){var s=E.valueToCode(n,"TEXT",0)||"''";return["(function(){window.alert("+s+");\n;return ("+s+");}())\n",99]},_.valuefromtext={init:function(){this.appendDummyInput().appendField("InputFromText"),this.appendValueInput("IdOfText").setCheck("String").appendField("Text id"),this.appendValueInput("ValueToObtain").setCheck("String").appendField("Property"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},E.valuefromtext=function(n){return["getIDProp("+E.valueToCode(n,"IdOfText",0)+","+(E.valueToCode(n,"ValueToObtain",0)||'"value"')+")",99]}},U.fieldXML=function(){return'<block type="window_open"></block>\n    <block type="valuefromtext">\n        <value name="IdOfText">\n            <shadow type="text">\n                <field name="TEXT">output</field>\n            </shadow>\n        </value>\n        <value name="ValueToObtain">\n            <shadow type="text">\n                <field name="TEXT">value</field>\n            </shadow>\n        </value>\n    </block>\n    <block type="text_print"></block>\n    <block type="text_print_return"></block>  \n    <block type="text_prompt_ext"></block>\n    <block type="text_message"></block>\n    \n    '}},57470:(F,U,_)=>{F.exports={defaultBlocks:_(75140),filterBlocks:_(21811),waitBlocks:_(95870),xhrBlocks:_(67716),propBlocks:_(53951),guiBlocks:_(92605),convertersBlocks:_(5986),exportFileBlock:_(93736),createObjectBlocks:_(44832),currentDateBlock:_(31310),dateFromTextBlock:_(70061),waitBlocks:_(96126),commentBlock:_(31439),auth0Blocks:_(10650),windowsCreds:_(99848),trycatchFinBlock:_(73375),chartBlock:_(80681),emailBlocks:_(88518),htmlblocks:_(64408)}},53951:(F,U)=>{U.definitionBlocks=function(_,E,o){_.modifyproperty={init:function(){this.appendDummyInput().appendField("Modify "),this.appendValueInput("ObjectToChange").setCheck(null).setAlign(0).appendField(o("object"),"objectName"),this.appendValueInput("PropertyName").setCheck(null).setAlign(1).appendField(o(",property"),"prop"),this.appendValueInput("NewValue").setCheck(null).setAlign(1).appendField(o("toValue"),"newValue"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},E.modifyproperty=function(f){return E.valueToCode(f,"ObjectToChange",0)+"["+E.valueToCode(f,"PropertyName",0)+"]="+E.valueToCode(f,"NewValue",0)+";"},_.getproperty={init:function(){this.appendDummyInput().appendField("Get from"),this.appendValueInput("ObjectToChange").setCheck(null).setAlign(0).appendField(o("object"),"objectName"),this.appendValueInput("PropertyName").setCheck(null).setAlign(1).appendField(o("property"),"prop"),this.setInputsInline(!0),this.setOutput(!0,null)}},E.getproperty=function(f){return['(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+E.valueToCode(f,"ObjectToChange",0)+"))["+E.valueToCode(f,"PropertyName",0)+"]",99]}},U.fieldXML=function(){return'\n    \n    <block type="modifyproperty">\n        <value name="PropertyName">\n            <shadow type="text">\n                <field name="TEXT">enter property name</field>\n            </shadow>\n        </value>\n    </block>\n    <block type="getproperty">\n        <value name="PropertyName">\n            <shadow type="text">\n                <field name="TEXT">enter property name</field>\n            </shadow>\n        </value>\n\n    </block>    \n'}},73375:(F,U)=>{U.definitionBlocks=function(_,E){_.trycatchfinally={init:function(){this.appendStatementInput("TRY").appendField("try"),this.appendStatementInput("CATCH").appendField("catch"),this.appendStatementInput("FINALLY").appendField("finally"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},E.trycatchfinally=function(e){var y="try {\n"+E.statementToCode(e,"TRY")+"}\n";return(y+="catch(err){\n errHandler(JSON.stringify(err));\n"+E.statementToCode(e,"CATCH")+"\n}")+"finally{\n "+E.statementToCode(e,"FINALLY")+"\n}\n"}},U.fieldXML=function(){return'\n    \n    <block type="trycatchfinally">\n    \n</block>\n'}},96126:(F,U)=>{U.definitionBlocks=function(_,E){_.wait={init:function(){this.appendValueInput("VALUE").appendField("wait secs"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},E.wait=function(t){return"waitTime("+(E.valueToCode(t,"VALUE",E.ORDER_ATOMIC)||"")+");"},_.wait_until={init:function(){this.appendValueInput("VALUE").appendField("wait until date"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},E.wait_until=function(t){return"waitTime(("+(E.valueToCode(t,"VALUE",0)||"")+"-new Date())/1000);"}},U.fieldXML=function(){return'\n    <block type="wait">\n\n    <value name="VALUE">\n        <shadow type="math_number">\n            <field name="NUM">10</field>\n        </shadow>\n    </value>\n\n</block>\n<block type="wait_until">\n\n</block>'}},95870:(F,U)=>{U.definitionBlocks=function(_,E){_([{type:"wait_seconds",message0:" wait %1 seconds",args0:[{type:"field_number",name:"SECONDS",min:0,max:600,value:1}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}"}]),E.wait_seconds=function(o){return"waitForSeconds("+Number(o.getFieldValue("SECONDS"))+");\n"}},U.fieldXML=function(){return'\n  <block type="wait_seconds"></block>\n'}},67716:(F,U)=>{U.definitionBlocks=function(_,E,o){_.headersbeforehttp={init:function(){this.appendDummyInput().appendField("Add Headers"),this.appendValueInput("HttpDomain").setCheck("String").appendField("Domain"),this.appendValueInput("HeaderName").setCheck("String").appendField("Header Name"),this.appendValueInput("HeaderValue").setCheck("String").appendField("Header Value"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("at domain put (localSite) or *")}},E.headersbeforehttp=function(n){var s=E.valueToCode(n,"HttpDomain",0)||"(localSite)",M="\n";return M+="{\n",M+="if(!("+s+" in headersForDomain))\n",M+="{\n",M+="headersForDomain["+s+"]=[];\n",M+="};\n",M+="var arr = headersForDomain["+s+"];\n",M+="arr.push({name:"+E.valueToCode(n,"HeaderName",0)+", value:"+E.valueToCode(n,"HeaderValue",0)+"});\n",M+='//alert("a" + JSON.stringify(arr)+"a");\n',(M+='//alert("a" + JSON.stringify(headersForDomain['+s+'])+"a");\n')+"};\n"},_.httprequest={init:function(){this.appendDummyInput().appendField(o([["JSON","JSON"],["Text","Text"]]),"TypeOutput").appendField("HttpRequest"),this.appendValueInput("TheUrl").setCheck(null).appendField(o([["GET","GET"],["POST","POST"],["PUT","PUT"],["DELETE","DELETE"]]),"TypeRequest").appendField("URL"),this.appendValueInput("Data").setCheck(null).appendField("Data"),this.setOutput(!0,null)}},E.httprequest=function(n){var s=n.getFieldValue("TypeOutput"),f=n.getFieldValue("TypeRequest"),y=E.valueToCode(n,"TheUrl",0),M=E.valueToCode(n,"Data",0),A="";switch(f.toString()){case"GET":A="(function(url){ var res=JSON.parse(getXhr(url)); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+y+") )";break;case"POST":A="(function(url,data){ var res=JSON.parse(postXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+y,M&&(A+=","+M),A+=") )";break;case"DELETE":A="(function(url,data){ var res=JSON.parse(deleteXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+y,M&&(A+=","+M),A+=") )";break;case"PUT":A="(function(url,data){ var res=JSON.parse(putXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+y,M&&(A+=","+M),A+=") )";break;default:alert("Do not understand : "+f.toString())}var P=A;switch(s){case"JSON":P="JSON.parse("+P+")"}return[P,99]}},U.fieldXML=function(){return'\n    \n    <block type="headersbeforehttp">\n    <value name="HttpDomain">\n        <shadow type="text">\n            <field name="TEXT">(localSite)</field>\n        </shadow>\n    </value>\n    <value name="HeaderName">\n        <shadow type="text">\n            <field name="TEXT">Authorization</field>\n        </shadow>\n    </value>\n    <value name="HeaderValue">\n        <shadow type="text_join">\n\n        </shadow>\n    </value>\n</block>\n<block type="text_print">\n<value name="TEXT">\n\n    <block type="httprequest">\n    <value name="TheUrl">\n        <shadow type="text">\n            <field name="TEXT">https://httpbin.org/get</field>\n        </shadow>\n    </value>\n</block>\n</value>\n</block>    \n\n'}},47730:(F,U,_)=>{var E=_(38506).default;F.exports=class{constructor(e){Hc(this,"GenerateBlocks",[]),Hc(this,"GenerateFunctions",[]),Hc(this,"fieldXMLObjects",[]),Hc(this,"fieldXMLFunctions",[]),Hc(this,"hasError",!0),Hc(this,"paths",[]),Hc(this,"name",""),Hc(this,"operations",[]),Hc(this,"cacheCategSwaggerFromPaths",[]),Hc(this,"openApiDocument",null),Hc(this,"basePath",""),this.swaggerUrl=e}nameCategSwagger(){return`catSwagger${this.findHostNameRegular()}_${this.name}`}metaBlocks(){var e=this;return function(n,s){var f;n[f=`meta_swagger_controllers_${e.name}`]={init:function(){this.appendDummyInput().appendField("categories_"+e.name),this.setOutput(!0,null),this.setColour(30),this.setTooltip(""),this.setHelpUrl(e.swaggerUrl)}},s[f]=function(y){var A=e.findCategSwaggerFromPaths().map(B=>({name:B}));return A={name:e.name,categories:A},[JSON.stringify(A),s.ORDER_NONE]},n[f=`meta_swagger_controllers_actions_${e.name}`]={init:function(){this.appendDummyInput().appendField("categories_actions"+e.name),this.setOutput(!0,null),this.setColour(30),this.setTooltip(""),this.setHelpUrl(e.swaggerUrl)}},s[f]=function(y){var A=e.findCategSwaggerFromPaths().map(B=>({name:B,ops:e.findfieldXMLFunctions(B).map(ne=>ne.id).filter(ne=>ne.length>0)}));return A={name:e.name,categories:A},[JSON.stringify(A),s.ORDER_NONE]}}}findfieldXMLFunctions(e){var n=this.operations.filter(f=>f.controller==e);return this.fieldXMLFunctions.filter(f=>{if(""==f.id)return!0;var y=f.id+"/",M=!1;return n.forEach(A=>{y.startsWith(A.id)&&(M=!0)}),!!M||(n.forEach(A=>{var P=A.id.substring(0,A.id.lastIndexOf("/"))+"{";y.startsWith(P)&&(M=!0)}),M)})}findCategSwaggerFromPaths(){if(this.cacheCategSwaggerFromPaths.length>0)return this.cacheCategSwaggerFromPaths;var e=this.paths.filter(s=>s&&s.id&&s.id.length>0).map(s=>{for(var f=s.id.length,y=s.id.indexOf("{");y>0;){var M=s.id.indexOf("}",y);if(f-M<2){s.id=s.id.substring(0,y);break}y=s.id.indexOf("{",M)}return s}).map(s=>(s.id.lastIndexOf("/")!=s.id.length-1&&(s.id+="/"),s));this.operations=e.filter(s=>s.nrOps>1).map(s=>({arr:s.id.split("/").filter(y=>y.length>0),id:s.id})).map(s=>({controller:s.arr[s.arr.length-1],id:s.id}));var n=e.filter(s=>1==s.nrOps).map(s=>({arr:s.id.split("/").filter(f=>f.length>0),id:s.id})).map(s=>1==s.arr.length?{controller:s.arr[0],id:s.id}:{controller:s.arr[s.arr.length-2],id:s.id});return this.operations.push(...n),this.cacheCategSwaggerFromPaths=[...new Set(this.operations.map(s=>s.controller))],this.cacheCategSwaggerFromPaths}categSwagger(){var e=this.findHostNameRegular();(e=e.replaceAll(".","")).length>5&&e.substring(0,5);var f=this.nameCategSwagger();return'<category name="Objects" custom="objects_'+f+'"></category><category name="AllApi" custom="AllApi_'+f+'"></category>'}findRootSite(){var e=this.swaggerUrl,n="";if(e.startsWith("http://")||e.startsWith("https://")){var s=new URL(e);n=s.protocol+"//"+s.hostname,s.port.length>0&&(n+=":"+s.port)}return n}findHostNameRegular(){var y,e=this.swaggerUrl,n="(localSite)";if(e.startsWith("http://")||e.startsWith("https://")){var s=new URL(e),f=null!=(y=s.port)?y:80;n=s.hostname+f}return n.replaceAll(".","")}ParseSwagger(){var e=this;return E(function*(){var A,n=e;n.fieldXMLObjects.push(`<label text="${n.swaggerUrl}"></label>`),n.fieldXMLFunctions.push({id:"",gui:`<label text="${n.swaggerUrl}"></label>`});var s=null;try{s=(yield _(14087).default(e.swaggerUrl)).spec}catch(P){return console.error(`parseSwagger ${e.swaggerUrl}`,P),n.fieldXMLObjects.push("<label text='Error parsing!'></label>"),e}e.hasError=!1,e.basePath=s.basePath||"";var y=null==(A=s.components)?void 0:A.schemas;return(null==y||null==y)&&(y=s.definitions),y?Object.keys(y).sort().forEach(function(P){var B=y[P],ne=n.findProperties(B),te=`<block type="${P}">`;ne.forEach(function(se){if(se.value&&se.value.type){var de=n.GenerateShadowField(se.value.type,se.key);de.length>0&&(te+=`<value name="val_${se.key}">${de}</value>`)}}),n.fieldXMLObjects.push(te+="</block>"),n.GenerateBlocks.push(n.GenerateBlock(B,P))}):console.log("_A",s),s.paths&&Object.keys(s.paths).forEach(function(P){var B=s.paths[P];n.paths.push({id:P,nrOps:Object.keys(B).length}),Object.keys(B).forEach(function(ne){n.GenerateFunctions.push(n.GenerateFunction(B,P,B[ne],ne))})}),n.openApiDocument=s,n})()}findProperties(e){var n=[];return e.properties&&Object.keys(e.properties).forEach(s=>{n.push({key:s,value:e.properties[s]})}),n}GenerateNameFunction(e,n,s,f){return f+"_"+n.replaceAll("/","_").replaceAll("{","__").replaceAll("}","")}GenerateShadowField(e,n,s){switch(e){case"integer":return`<block type='math_number'><field name='NUM'>${s||0}</field></block>`;case"string":return`<block type='text'><field name='TEXT'>${s||`please enter ${n}`}</field></block>`;case"boolean":return`<block type='logic_boolean'><field name='BOOL'>${s||"FALSE"}</field></block>`;case"array":return'<block type="lists_create_with"> <mutation items="0"></mutation></block>';default:return""}}GenerateFunction(e,n,s,f){var y=this,M=y.GenerateNameFunction(e,n,s,f),P=s,B=`<block type="text_print"> <value name="TEXT"><block type="${M}">`;P.parameters&&P.parameters.forEach(ae=>{if(ae.type)(Me=y.GenerateShadowField(ae.type,ae.name)).length>0&&(B+=`<value name="val_${ae.name}">${Me}</value>`);else if(ae.schema&&ae.schema.type){var Me;(Me=y.GenerateShadowField(ae.schema.type,ae.name)).length>0&&(B+=`<value name="val_${ae.name}">${Me}</value>`)}});var ne="",te="";try{var se=new URL(y.findRootSite());ne=se.hostname,te=se.port}catch(ae){}var de=y.GenerateShadowField("string","override_host",ne=ne||" ");return B+=`<value name="override_Host">${de}</value>`,de=y.GenerateShadowField("integer","override_port",te=te||"0"),B+=`<value name="override_Port">${de}</value>`,B+="</block></value>",y.fieldXMLFunctions.push({id:n,gui:B+="</block>"}),function(ae,Me,xe){ae[M]={init:function(){var we=f;switch(f.toString().toLowerCase()){case"get":we="",this.setColour(210);break;case"post":we="",this.setColour(165);break;case"put":we="",this.setColour(40);break;case"delete":we="",this.setColour(10);break;default:console.log(`not found ${f}`),this.setColour(10)}for(var ke=n,fe=y.findCategSwaggerFromPaths(),pe=0;pe<fe.length;pe++){var ie="/"+fe[pe]+"/",ee=n.indexOf(ie);if(ee>-1){var ye=n.substring(ee+ie.length);ye.length<ke.length&&(ke=ye)}}ke.length>25&&(ke=ke.substring(0,25)+"..."),this.appendDummyInput().appendField(xe(f)).appendField(`${we} ${ke}`);var Ce=y.findRootSite();if(P.parameters&&P.parameters.forEach(Ze=>{var Be=Ze.name;if(Ze.required&&(Be+="*"),Ze.type)Be+=":"+Ze.type;else if(Ze.schema)if(Ze.schema.enum&&"$$ref"in Ze.schema){var ot=Ze.schema.$$ref.split("/");Be+="=>"+ot[ot.length-1]}else if(Ze.schema.type)if("object"==Ze.schema.type){var Lt=Ze.schema.$$ref||"";Lt.length>0&&(Be+=":"+(Lt=Lt.substring(Lt.lastIndexOf("/")+1)))}else Be+=":"+Ze.schema.type;this.appendValueInput(`val_${Ze.name}`).appendField(Be)}),P.requestBody){var Te="";if(P.requestBody.content){var me=P.requestBody.content["application/json"];if(me&&me.schema){var ve=me.schema.$$ref;ve&&(Te="=>"+ve.substring(ve.lastIndexOf("/")+1))}}this.appendValueInput("val_values").appendField("values"+Te).setCheck()}this.appendValueInput("override_Host").appendField("override Host"),this.appendValueInput("override_Port").appendField("override Port"),this.setTooltip(`${f} ${Ce}${n}`),this.setOutput(!0,"")}},Me[M]=function(we){var ie=y.openApiDocument.paths[n][f],ee=[];"parameters"in ie&&(ee=ie.parameters);var ye=!1,Ce=ee.filter(rt=>"body"==rt.in).length>0;(Ce||"requestBody"in ie)&&(ye=!0);var Te={},me={};ye&&(Te.val_values=Me.valueToCode(we,"val_values",0),me.val_values=Te.val_values),ee.forEach(rt=>{Te[`val_${rt.name}`]=Me.valueToCode(we,`val_${rt.name}`,0)});var ve=ee.map(rt=>rt.name);ye&!Ce&&ve.push("values"),ve.push("extraData"),ee.map(rt=>`\${obj['val_${rt.name}']},`);var Be="function(";Be+=ve.join(","),Be+="){\n",Be+='var rootSite="'+y.findRootSite()+'";\n',Be+="if(extraData){\n",Be+="if(extraData.url && extraData.url.host && extraData.url.host.length>0 ){\n",Be+="rootSite =  changeHost(rootSite, extraData.url.host);\n",Be+="};\n",Be+="if(extraData.url && extraData.url.port && extraData.url.port.toString().length>0 ){\n",Be+="rootSite  =changePort(rootSite , extraData.url.port);\n",Be+="};\n",Be+="};\n",Be+='var strUrl =rootSite +"'+y.basePath+n+'";\n';var ot=ee.filter(rt=>"query"==rt.in);if(ot.length>0){Be+='strUrl+="?";\n;';var Lt=ot.map(rt=>`${rt.name}={`+rt.name+"}").join("&");Be+='strUrl += "'+Lt+'";\n;'}var Jt=ee.filter(rt=>"path"==rt.in||"query"==rt.in).map(rt=>`\n          //this gives error cannot read property 'call' of undefined in acorn\n          //strUrl = strUrl.replace("{${rt.name}}",${rt.name});\n          {\n            var replaceFInd = "{${rt.name}}";\n            var index= strUrl.indexOf(replaceFInd);\n            if(index>=0){\n              var strUrlReplace = strUrl.substring(0,index)+ ${rt.name} + strUrl.substring(index+replaceFInd.length);\n              strUrl = strUrlReplace;\n            }\n\n          };`);if(Be+=Jt.join("\n"),Be+=`\n{var res= ${f}Xhr(strUrl`,ye){var wt="values";Ce&&(wt=ee.filter(rt=>"body"==rt.in)[0].name),Be+=`,JSON.stringify(${wt})`}Be+=");\n",Be+="var resJS=JSON.parse(res);\n",Be+="if(resJS.statusOK) return resJS.text;\n",Be+="errHandler(res);\n}\n",Be+="}",Be+="(",ee.forEach(rt=>{Be+=Te[`val_${rt.name}`]+","}),ye&!Ce&&(Be+=me.val_values+",");var tn="url:{notImportant:1",Et=Me.valueToCode(we,"override_Host",0);(Et=Et||"").length>0&&(tn+=`,host:${Et}`);var sn=Me.valueToCode(we,"override_Port",0);return(sn=sn||"").length>0&&(tn+=`,port:${sn}`),Be+=`{${tn+="}"}}\n`,[Be+=")",99]}}}GenerateBlock(e,n){var s=this,f=n,M=s.findProperties(e);return function(A,P,B){A[f]={init:function(){var ne=!1,te=[];e.enum&&(ne=!0,te=Object.keys(e.enum).map(e["x-enumNames"]?ae=>[e["x-enumNames"][ae],ae]:ae=>[e.enum[ae],ae]));var de=this.appendDummyInput().appendField(n);ne?(te=te.map(ae=>[ae[0].toString(),ae[1].toString()]),de.appendField(B(te),`val_${n}`)):M.forEach(ae=>{var fe,Me=ae.key;if(ae.value.nullable&&0==ae.value.nullable&&(Me+="*"),null==(fe=ae.value)?void 0:fe.type){var xe=ae.value.type||"";if("object"==xe){var we=ae.value.$$ref||"";we.length>0&&(xe=we.substring(we.lastIndexOf("/")+1))}Me+=":"+xe}ae.value.$ref&&(Me+="->"+ae.value.$ref.replaceAll("#/components/schemas/","")),this.appendValueInput(`val_${ae.key}`).appendField(`${Me}`)}),this.setOutput(!0,f)}},P[f]=function(ne){{var te=!1;e.enum&&(te=!0);var se=s.findProperties(e);const xe=99,we=0;var de="",ae=[];return se.forEach(ke=>{let fe=P.valueToCode(ne,`val_${ke.key}`,we);""===fe&&(fe="null"),null==fe&&(fe="null"),ae.push(`"${ke.key}":${fe}`)}),de="{ "+ae.join(",")+" }",te&&(de=ne.getFieldValue(`val_${n}`)),[de,xe]}}}}TranslateToBlocklyType(e){return"integer"==e?"Number":"string"==e?"String":"bool"==e?"Boolean":"array"==e?"Array":(console.error("not found TranslateToBlocklyType item"+e),"not found type"+e)}}},76894:(F,U,_)=>{F.exports={parseSwagger:_(88977),parseData:_(47730)}},88977:(F,U,_)=>{var E=_(38506).default;U.parseSwagger=function(){var e=E(function*(n){var B;new(_(47730))(n);var y=[],P=(yield _(33817).default(n)).response;return(null==(B=P.components)?void 0:B.schemas)&&Object.keys(P.components.schemas).forEach(function(ne){y.push(function(e,n){var s=n;return e.properties&&Object.keys(e.properties).forEach(f=>{}),function(f,y){f[s]={init:function(){this.appendDummyInput().appendField(n),this.setOutput(!0,s)}}}}(P.components.schemas[ne],ne))}),y});return function(n){return e.apply(this,arguments)}}(),U.parseSwagger1=function(e){return _(33817).default(e)}},80751:(F,U,_)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Api=void 0;var E=_(14985);U.Api=function(e,n){void 0===n&&(n={}),this.entrypoint=e,E.assignSealed(this,n)}},77981:(F,U,_)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Field=void 0;var E=_(14985);U.Field=function(e,n){void 0===n&&(n={}),this.name=e,E.assignSealed(this,n)}},20985:(F,U,_)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Resource=void 0;var E=_(14985);U.Resource=function(e,n,s){void 0===s&&(s={}),this.name=e,this.url=n,E.assignSealed(this,s)}},22566:(F,U,_)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.removeTrailingSlash=void 0;var o=_(2805).__importDefault(_(19556)),t=_(77981),e=_(20985),n=_(37906);U.removeTrailingSlash=function(y){return y.endsWith("/")&&(y=y.slice(0,-1)),y},U.default=function(y,M){return n.getResources(y.paths).map(function(B){var ne=B.replace("/",""),te=U.removeTrailingSlash(M)+B,se=Object.keys(y.paths[B])[0],de=y.paths[B][se];if(!de.tags)throw new Error;var ae=de.tags[0];if(!y.components)throw new Error;if(!y.components.schemas)throw new Error;var xe=y.components.schemas[ae].properties;if(!xe)throw new Error;var we=Object.keys(xe),ke=o.default(y,["components","schemas",ae,"required"],[]),fe=we.map(function(pe){return new t.Field(pe,{id:null,range:null,reference:null,required:!!ke.find(function(ie){return ie===pe}),description:o.default(xe[pe],"description","")})});return new e.Resource(ne,te,{id:null,title:ae,fields:fe,readableFields:fe,writableFields:fe})})}},33817:(F,U,_)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});var E=_(2805),o=_(80751),t=E.__importStar(_(22566));U.default=function(n){return n=t.removeTrailingSlash(n),fetch(n).then(function(s){return Promise.all([s,s.json()])}).then(function(s){var f=s[0],y=s[1],M=y.info.title,A=t.default(y,n);return Promise.resolve({api:new o.Api(n,{title:M,resources:A}),response:y,status:f.status})},function(s){var f=s[0],y=s[1];return Promise.reject({api:new o.Api(n,{resources:[]}),response:y,status:f.status})})}},14985:(F,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.assignSealed=void 0,U.assignSealed=function(E,o){Object.keys(o).forEach(function(t){Object.defineProperty(E,t,{writable:!0,enumerable:!0,configurable:!1,value:o[t]})})}},37906:(F,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.getResources=void 0,U.getResources=function(E){var o=[];return Object.keys(E).forEach(function(t){t.includes("/{id}")||o.find(function(e){return e.startsWith("/"+t.split("/")[1])})||o.push(t)}),o}},56675:F=>{!function(){"use strict";F.exports=function(_){return(_ instanceof Buffer?_:Buffer.from(_.toString(),"binary")).toString("base64")}}()},29448:(F,U,_)=>{"use strict";var E=_(93602),o=_(32321),t=o(E("String.prototype.indexOf"));F.exports=function(n,s){var f=E(n,!!s);return"function"==typeof f&&t(n,".prototype.")>-1?o(f):f}},32321:(F,U,_)=>{"use strict";var E=_(21857),o=_(93602),t=o("%Function.prototype.apply%"),e=o("%Function.prototype.call%"),n=o("%Reflect.apply%",!0)||E.call(e,t),s=o("%Object.getOwnPropertyDescriptor%",!0),f=o("%Object.defineProperty%",!0),y=o("%Math.max%");if(f)try{f({},"a",{value:1})}catch(A){f=null}F.exports=function(P){var B=n(E,e,arguments);if(s&&f){var ne=s(B,"length");ne.configurable&&f(B,"length",{value:1+y(0,P.length-(arguments.length-1))})}return B};var M=function(){return n(E,t,arguments)};f?f(F.exports,"apply",{value:M}):F.exports.apply=M},66571:(F,U)=>{"use strict";U.parse=function(f,y){if("string"!=typeof f)throw new TypeError("argument str must be a string");for(var M={},A=y||{},P=f.split(o),B=A.decode||_,ne=0;ne<P.length;ne++){var te=P[ne],se=te.indexOf("=");if(!(se<0)){var de=te.substr(0,se).trim(),ae=te.substr(++se,te.length).trim();'"'==ae[0]&&(ae=ae.slice(1,-1)),null==M[de]&&(M[de]=s(ae,B))}}return M},U.serialize=function(f,y,M){var A=M||{},P=A.encode||E;if("function"!=typeof P)throw new TypeError("option encode is invalid");if(!t.test(f))throw new TypeError("argument name is invalid");var B=P(y);if(B&&!t.test(B))throw new TypeError("argument val is invalid");var ne=f+"="+B;if(null!=A.maxAge){var te=A.maxAge-0;if(isNaN(te)||!isFinite(te))throw new TypeError("option maxAge is invalid");ne+="; Max-Age="+Math.floor(te)}if(A.domain){if(!t.test(A.domain))throw new TypeError("option domain is invalid");ne+="; Domain="+A.domain}if(A.path){if(!t.test(A.path))throw new TypeError("option path is invalid");ne+="; Path="+A.path}if(A.expires){if("function"!=typeof A.expires.toUTCString)throw new TypeError("option expires is invalid");ne+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(ne+="; HttpOnly"),A.secure&&(ne+="; Secure"),A.sameSite)switch("string"==typeof A.sameSite?A.sameSite.toLowerCase():A.sameSite){case!0:ne+="; SameSite=Strict";break;case"lax":ne+="; SameSite=Lax";break;case"strict":ne+="; SameSite=Strict";break;case"none":ne+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return ne};var _=decodeURIComponent,E=encodeURIComponent,o=/; */,t=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(f,y){try{return y(f)}catch(M){return f}}},23813:(F,U,_)=>{_(62009),_(46601);var E=_(83271);F.exports=E.Array.from},89740:(F,U,_)=>{_(67011);var E=_(83271);F.exports=E.Array.isArray},53247:(F,U,_)=>{_(94570);var E=_(2159);F.exports=E("Array").concat},34014:(F,U,_)=>{_(64741),_(97045);var E=_(2159);F.exports=E("Array").entries},80228:(F,U,_)=>{_(76613);var E=_(2159);F.exports=E("Array").filter},92606:(F,U,_)=>{_(15963);var E=_(2159);F.exports=E("Array").find},47957:(F,U,_)=>{_(28436);var E=_(2159);F.exports=E("Array").forEach},75532:(F,U,_)=>{_(82680);var E=_(2159);F.exports=E("Array").includes},18329:(F,U,_)=>{_(73713);var E=_(2159);F.exports=E("Array").indexOf},59157:(F,U,_)=>{_(48303);var E=_(2159);F.exports=E("Array").map},78928:(F,U,_)=>{_(96682);var E=_(2159);F.exports=E("Array").slice},60660:(F,U,_)=>{_(92241);var E=_(2159);F.exports=E("Array").splice},48873:(F,U,_)=>{_(64741),_(62009);var E=_(62439);F.exports=E},233:(F,U,_)=>{var E=_(28833),o=_(53247),t=Array.prototype;F.exports=function(e){var n=e.concat;return e===t||E(t,e)&&n===t.concat?o:n}},32263:(F,U,_)=>{var E=_(28833),o=_(80228),t=Array.prototype;F.exports=function(e){var n=e.filter;return e===t||E(t,e)&&n===t.filter?o:n}},81754:(F,U,_)=>{var E=_(28833),o=_(92606),t=Array.prototype;F.exports=function(e){var n=e.find;return e===t||E(t,e)&&n===t.find?o:n}},46397:(F,U,_)=>{var E=_(28833),o=_(75532),t=_(65106),e=Array.prototype,n=String.prototype;F.exports=function(s){var f=s.includes;return s===e||E(e,s)&&f===e.includes?o:"string"==typeof s||s===n||E(n,s)&&f===n.includes?t:f}},88699:(F,U,_)=>{var E=_(28833),o=_(18329),t=Array.prototype;F.exports=function(e){var n=e.indexOf;return e===t||E(t,e)&&n===t.indexOf?o:n}},24454:(F,U,_)=>{var E=_(28833),o=_(59157),t=Array.prototype;F.exports=function(e){var n=e.map;return e===t||E(t,e)&&n===t.map?o:n}},18422:(F,U,_)=>{var E=_(28833),o=_(78928),t=Array.prototype;F.exports=function(e){var n=e.slice;return e===t||E(t,e)&&n===t.slice?o:n}},13807:(F,U,_)=>{var E=_(28833),o=_(60660),t=Array.prototype;F.exports=function(e){var n=e.splice;return e===t||E(t,e)&&n===t.splice?o:n}},13194:(F,U,_)=>{var E=_(28833),o=_(80083),t=String.prototype;F.exports=function(e){var n=e.startsWith;return"string"==typeof e||e===t||E(t,e)&&n===t.startsWith?o:n}},20573:(F,U,_)=>{_(62260);var E=_(83271),o=_(80626);E.JSON||(E.JSON={stringify:JSON.stringify}),F.exports=function(e,n,s){return o(E.JSON.stringify,null,arguments)}},49483:(F,U,_)=>{_(91487);var E=_(83271);F.exports=E.Object.assign},12171:(F,U,_)=>{_(40020);var o=_(83271).Object,t=F.exports=function(n,s){return o.defineProperties(n,s)};o.defineProperties.sham&&(t.sham=!0)},39469:(F,U,_)=>{_(55523);var o=_(83271).Object,t=F.exports=function(n,s,f){return o.defineProperty(n,s,f)};o.defineProperty.sham&&(t.sham=!0)},24911:(F,U,_)=>{_(67777);var E=_(83271);F.exports=E.Object.entries},942:(F,U,_)=>{_(32696);var o=_(83271).Object,t=F.exports=function(n,s){return o.getOwnPropertyDescriptor(n,s)};o.getOwnPropertyDescriptor.sham&&(t.sham=!0)},46592:(F,U,_)=>{_(36714);var E=_(83271);F.exports=E.Object.getOwnPropertyDescriptors},51594:(F,U,_)=>{_(33353);var E=_(83271);F.exports=E.Object.getOwnPropertySymbols},87079:(F,U,_)=>{_(89405);var E=_(83271);F.exports=E.Object.keys},42654:(F,U,_)=>{_(52935),_(64741),_(97045),_(12545),_(75077),_(83218),_(45895),_(62009);var E=_(83271);F.exports=E.Promise},65106:(F,U,_)=>{_(96595);var E=_(2159);F.exports=E("String").includes},80083:(F,U,_)=>{_(11322);var E=_(2159);F.exports=E("String").startsWith},59366:(F,U,_)=>{_(94570),_(97045),_(33353),_(32159),_(72450),_(43071),_(34025),_(19155),_(64485),_(16576),_(42053),_(96668),_(54714),_(20437),_(11979),_(78559),_(59450),_(10157),_(30238),_(22428);var E=_(83271);F.exports=E.Symbol},48926:(F,U,_)=>{_(64741),_(97045),_(62009),_(19155);var E=_(42572);F.exports=E.f("iterator")},1796:(F,U,_)=>{_(64741),_(97045),_(82695);var E=_(83271);F.exports=E.WeakMap},96883:(F,U,_)=>{var E=_(96353);F.exports=E},21244:(F,U,_)=>{var E=_(18830);F.exports=E},81548:(F,U,_)=>{var E=_(92578);F.exports=E},30206:(F,U,_)=>{var E=_(26271);F.exports=E},73915:(F,U,_)=>{var E=_(6506);F.exports=E},91391:(F,U,_)=>{var E=_(28532);F.exports=E},16557:(F,U,_)=>{var E=_(34123);F.exports=E},11944:(F,U,_)=>{var E=_(62217);F.exports=E},63780:(F,U,_)=>{var E=_(14893);F.exports=E},65332:(F,U,_)=>{var E=_(52572);F.exports=E},66203:(F,U,_)=>{var E=_(17608);F.exports=E},98836:(F,U,_)=>{var E=_(27567);F.exports=E},89857:(F,U,_)=>{var E=_(158);F.exports=E},42658:(F,U,_)=>{var E=_(27620);_(62373),_(18168),_(73944),_(25831),F.exports=E},93585:(F,U,_)=>{var E=_(75743);_(42673),_(34286),_(73695),_(13990),_(69181),_(11686),_(84430),F.exports=E},9207:(F,U,_)=>{var E=_(40359);F.exports=E},98204:(F,U,_)=>{var E=_(37516),o=_(91699),t=_(42349),e=E.TypeError;F.exports=function(n){if(o(n))return n;throw e(t(n)+" is not a function")}},39660:(F,U,_)=>{var E=_(37516),o=_(36025),t=_(42349),e=E.TypeError;F.exports=function(n){if(o(n))return n;throw e(t(n)+" is not a constructor")}},82361:(F,U,_)=>{var E=_(37516),o=_(91699),t=E.String,e=E.TypeError;F.exports=function(n){if("object"==typeof n||o(n))return n;throw e("Can't set "+t(n)+" as a prototype")}},51802:F=>{F.exports=function(){}},74528:(F,U,_)=>{var E=_(37516),o=_(28833),t=E.TypeError;F.exports=function(e,n){if(o(n,e))return e;throw t("Incorrect invocation")}},22696:(F,U,_)=>{var E=_(37516),o=_(883),t=E.String,e=E.TypeError;F.exports=function(n){if(o(n))return n;throw e(t(n)+" is not an object")}},70830:(F,U,_)=>{var E=_(20065);F.exports=E(function(){if("function"==typeof ArrayBuffer){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}})},30247:(F,U,_)=>{"use strict";var E=_(69720).forEach,t=_(40386)("forEach");F.exports=t?[].forEach:function(n){return E(this,n,arguments.length>1?arguments[1]:void 0)}},58365:(F,U,_)=>{"use strict";var E=_(37516),o=_(88509),t=_(13868),e=_(23349),n=_(72178),s=_(60692),f=_(36025),y=_(1435),M=_(763),A=_(13020),P=_(62439),B=E.Array;F.exports=function(te){var se=e(te),de=f(this),ae=arguments.length,Me=ae>1?arguments[1]:void 0,xe=void 0!==Me;xe&&(Me=o(Me,ae>2?arguments[2]:void 0));var fe,pe,ie,ee,ye,Ce,we=P(se),ke=0;if(!we||this==B&&s(we))for(fe=y(se),pe=de?new this(fe):B(fe);fe>ke;ke++)Ce=xe?Me(se[ke],ke):se[ke],M(pe,ke,Ce);else for(ye=(ee=A(se,we)).next,pe=de?new this:[];!(ie=t(ye,ee)).done;ke++)Ce=xe?n(ee,Me,[ie.value,ke],!0):ie.value,M(pe,ke,Ce);return pe.length=ke,pe}},591:(F,U,_)=>{var E=_(75880),o=_(54346),t=_(1435),e=function(n){return function(s,f,y){var B,M=E(s),A=t(M),P=o(y,A);if(n&&f!=f){for(;A>P;)if((B=M[P++])!=B)return!0}else for(;A>P;P++)if((n||P in M)&&M[P]===f)return n||P||0;return!n&&-1}};F.exports={includes:e(!0),indexOf:e(!1)}},69720:(F,U,_)=>{var E=_(88509),o=_(45972),t=_(41738),e=_(23349),n=_(1435),s=_(94947),f=o([].push),y=function(M){var A=1==M,P=2==M,B=3==M,ne=4==M,te=6==M,se=7==M,de=5==M||te;return function(ae,Me,xe,we){for(var Te,me,ke=e(ae),fe=t(ke),pe=E(Me,xe),ie=n(fe),ee=0,ye=we||s,Ce=A?ye(ae,ie):P||se?ye(ae,0):void 0;ie>ee;ee++)if((de||ee in fe)&&(me=pe(Te=fe[ee],ee,ke),M))if(A)Ce[ee]=me;else if(me)switch(M){case 3:return!0;case 5:return Te;case 6:return ee;case 2:f(Ce,Te)}else switch(M){case 4:return!1;case 7:f(Ce,Te)}return te?-1:B||ne?ne:Ce}};F.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}},64630:(F,U,_)=>{var E=_(20065),o=_(63211),t=_(93687),e=o("species");F.exports=function(n){return t>=51||!E(function(){var s=[];return(s.constructor={})[e]=function(){return{foo:1}},1!==s[n](Boolean).foo})}},40386:(F,U,_)=>{"use strict";var E=_(20065);F.exports=function(o,t){var e=[][o];return!!e&&E(function(){e.call(null,t||function(){throw 1},1)})}},13053:(F,U,_)=>{var E=_(45972);F.exports=E([].slice)},95264:(F,U,_)=>{var E=_(13053),o=Math.floor,t=function(s,f){var y=s.length,M=o(y/2);return y<8?e(s,f):n(s,t(E(s,0,M),f),t(E(s,M),f),f)},e=function(s,f){for(var A,P,y=s.length,M=1;M<y;){for(P=M,A=s[M];P&&f(s[P-1],A)>0;)s[P]=s[--P];P!==M++&&(s[P]=A)}return s},n=function(s,f,y,M){for(var A=f.length,P=y.length,B=0,ne=0;B<A||ne<P;)s[B+ne]=B<A&&ne<P?M(f[B],y[ne])<=0?f[B++]:y[ne++]:B<A?f[B++]:y[ne++];return s};F.exports=t},61397:(F,U,_)=>{var E=_(37516),o=_(51556),t=_(36025),e=_(883),s=_(63211)("species"),f=E.Array;F.exports=function(y){var M;return o(y)&&(t(M=y.constructor)&&(M===f||o(M.prototype))||e(M)&&null===(M=M[s]))&&(M=void 0),void 0===M?f:M}},94947:(F,U,_)=>{var E=_(61397);F.exports=function(o,t){return new(E(o))(0===t?0:t)}},72178:(F,U,_)=>{var E=_(22696),o=_(29475);F.exports=function(t,e,n,s){try{return s?e(E(n)[0],n[1]):e(n)}catch(f){o(t,"throw",f)}}},78442:(F,U,_)=>{var o=_(63211)("iterator"),t=!1;try{var e=0,n={next:function(){return{done:!!e++}},return:function(){t=!0}};n[o]=function(){return this},Array.from(n,function(){throw 2})}catch(s){}F.exports=function(s,f){if(!f&&!t)return!1;var y=!1;try{var M={};M[o]=function(){return{next:function(){return{done:y=!0}}}},s(M)}catch(A){}return y}},35735:(F,U,_)=>{var E=_(45972),o=E({}.toString),t=E("".slice);F.exports=function(e){return t(o(e),8,-1)}},98330:(F,U,_)=>{var E=_(37516),o=_(89834),t=_(91699),e=_(35735),s=_(63211)("toStringTag"),f=E.Object,y="Arguments"==e(function(){return arguments}());F.exports=o?e:function(A){var P,B,ne;return void 0===A?"Undefined":null===A?"Null":"string"==typeof(B=function(A,P){try{return A[P]}catch(B){}}(P=f(A),s))?B:y?e(P):"Object"==(ne=e(P))&&t(P.callee)?"Arguments":ne}},67232:(F,U,_)=>{var E=_(45972),o=_(13053),t=E("".replace),e=E("".split),n=E([].join),s=String(Error("zxcasd").stack),f=/\n\s*at [^:]*:[^\n]*/,y=f.test(s),M=/@[^\n]*\n/.test(s)&&!/zxcasd/.test(s);F.exports=function(A,P){if("string"!=typeof A)return A;if(y)for(;P--;)A=t(A,f,"");else if(M)return n(o(e(A,"\n"),P),"\n");return A}},39754:(F,U,_)=>{"use strict";var E=_(45972),o=_(22239),t=_(48016).getWeakData,e=_(22696),n=_(883),s=_(74528),f=_(30772),y=_(69720),M=_(7723),A=_(90149),P=A.set,B=A.getterFor,ne=y.find,te=y.findIndex,se=E([].splice),de=0,ae=function(we){return we.frozen||(we.frozen=new Me)},Me=function(){this.entries=[]},xe=function(we,ke){return ne(we.entries,function(fe){return fe[0]===ke})};Me.prototype={get:function(we){var ke=xe(this,we);if(ke)return ke[1]},has:function(we){return!!xe(this,we)},set:function(we,ke){var fe=xe(this,we);fe?fe[1]=ke:this.entries.push([we,ke])},delete:function(we){var ke=te(this.entries,function(fe){return fe[0]===we});return~ke&&se(this.entries,ke,1),!!~ke}},F.exports={getConstructor:function(we,ke,fe,pe){var ie=we(function(Te,me){s(Te,ee),P(Te,{type:ke,id:de++,frozen:void 0}),null!=me&&f(me,Te[pe],{that:Te,AS_ENTRIES:fe})}),ee=ie.prototype,ye=B(ke),Ce=function(Te,me,ve){var Ze=ye(Te),Be=t(e(me),!0);return!0===Be?ae(Ze).set(me,ve):Be[Ze.id]=ve,Te};return o(ee,{delete:function(Te){var me=ye(this);if(!n(Te))return!1;var ve=t(Te);return!0===ve?ae(me).delete(Te):ve&&M(ve,me.id)&&delete ve[me.id]},has:function(me){var ve=ye(this);if(!n(me))return!1;var Ze=t(me);return!0===Ze?ae(ve).has(me):Ze&&M(Ze,ve.id)}}),o(ee,fe?{get:function(me){var ve=ye(this);if(n(me)){var Ze=t(me);return!0===Ze?ae(ve).get(me):Ze?Ze[ve.id]:void 0}},set:function(me,ve){return Ce(this,me,ve)}}:{add:function(me){return Ce(this,me,!0)}}),ie}}},7448:(F,U,_)=>{"use strict";var E=_(99253),o=_(37516),t=_(48016),e=_(20065),n=_(6103),s=_(30772),f=_(74528),y=_(91699),M=_(883),A=_(65702),P=_(70762).f,B=_(69720).forEach,ne=_(61385),te=_(90149),se=te.set,de=te.getterFor;F.exports=function(ae,Me,xe){var ye,we=-1!==ae.indexOf("Map"),ke=-1!==ae.indexOf("Weak"),fe=we?"set":"add",pe=o[ae],ie=pe&&pe.prototype,ee={};if(ne&&y(pe)&&(ke||ie.forEach&&!e(function(){(new pe).entries().next()}))){var Ce=(ye=Me(function(me,ve){se(f(me,Ce),{type:ae,collection:new pe}),null!=ve&&s(ve,me[fe],{that:me,AS_ENTRIES:we})})).prototype,Te=de(ae);B(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(me){var ve="add"==me||"set"==me;me in ie&&(!ke||"clear"!=me)&&n(Ce,me,function(Ze,Be){var ot=Te(this).collection;if(!ve&&ke&&!M(Ze))return"get"==me&&void 0;var Lt=ot[me](0===Ze?0:Ze,Be);return ve?this:Lt})}),ke||P(Ce,"size",{configurable:!0,get:function(){return Te(this).collection.size}})}else ye=xe.getConstructor(Me,ae,we,fe),t.enable();return A(ye,ae,!1,!0),ee[ae]=ye,E({global:!0,forced:!0},ee),ke||xe.setStrong(ye,ae,we),ye}},64325:(F,U,_)=>{var E=_(7723),o=_(8452),t=_(59819),e=_(70762);F.exports=function(n,s){for(var f=o(s),y=e.f,M=t.f,A=0;A<f.length;A++){var P=f[A];E(n,P)||y(n,P,M(s,P))}}},23655:(F,U,_)=>{var o=_(63211)("match");F.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(s){}}return!1}},719:(F,U,_)=>{var E=_(20065);F.exports=!E(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},59571:(F,U,_)=>{"use strict";var E=_(61056).IteratorPrototype,o=_(73821),t=_(42856),e=_(65702),n=_(48626),s=function(){return this};F.exports=function(f,y,M){var A=y+" Iterator";return f.prototype=o(E,{next:t(1,M)}),e(f,A,!1,!0),n[A]=s,f}},6103:(F,U,_)=>{var E=_(61385),o=_(70762),t=_(42856);F.exports=E?function(e,n,s){return o.f(e,n,t(1,s))}:function(e,n,s){return e[n]=s,e}},42856:F=>{F.exports=function(U,_){return{enumerable:!(1&U),configurable:!(2&U),writable:!(4&U),value:_}}},763:(F,U,_)=>{"use strict";var E=_(54053),o=_(70762),t=_(42856);F.exports=function(e,n,s){var f=E(n);f in e?o.f(e,f,t(0,s)):e[f]=s}},68797:(F,U,_)=>{"use strict";var E=_(99253),o=_(13868),t=_(27316),e=_(91261),n=_(91699),s=_(59571),f=_(26142),y=_(74494),M=_(65702),A=_(6103),P=_(46573),B=_(63211),ne=_(48626),te=_(61056),se=e.PROPER,de=e.CONFIGURABLE,ae=te.IteratorPrototype,Me=te.BUGGY_SAFARI_ITERATORS,xe=B("iterator"),ke="values",fe="entries",pe=function(){return this};F.exports=function(ie,ee,ye,Ce,Te,me,ve){s(ye,ee,Ce);var Et,sn,rt,Ze=function(at){if(at===Te&&wt)return wt;if(!Me&&at in Lt)return Lt[at];switch(at){case"keys":case ke:case fe:return function(){return new ye(this,at)}}return function(){return new ye(this)}},Be=ee+" Iterator",ot=!1,Lt=ie.prototype,Jt=Lt[xe]||Lt["@@iterator"]||Te&&Lt[Te],wt=!Me&&Jt||Ze(Te),tn="Array"==ee&&Lt.entries||Jt;if(tn&&(Et=f(tn.call(new ie)))!==Object.prototype&&Et.next&&(!t&&f(Et)!==ae&&(y?y(Et,ae):n(Et[xe])||P(Et,xe,pe)),M(Et,Be,!0,!0),t&&(ne[Be]=pe)),se&&Te==ke&&Jt&&Jt.name!==ke&&(!t&&de?A(Lt,"name",ke):(ot=!0,wt=function(){return o(Jt,this)})),Te)if(sn={values:Ze(ke),keys:me?wt:Ze("keys"),entries:Ze(fe)},ve)for(rt in sn)(Me||ot||!(rt in Lt))&&P(Lt,rt,sn[rt]);else E({target:ee,proto:!0,forced:Me||ot},sn);return(!t||ve)&&Lt[xe]!==wt&&P(Lt,xe,wt,{name:Te}),ne[ee]=wt,sn}},8254:(F,U,_)=>{var E=_(83271),o=_(7723),t=_(42572),e=_(70762).f;F.exports=function(n){var s=E.Symbol||(E.Symbol={});o(s,n)||e(s,n,{value:t.f(n)})}},61385:(F,U,_)=>{var E=_(20065);F.exports=!E(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},42304:(F,U,_)=>{var E=_(37516),o=_(883),t=E.document,e=o(t)&&o(t.createElement);F.exports=function(n){return e?t.createElement(n):{}}},70808:F=>{F.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},33040:F=>{F.exports="object"==typeof window},27129:(F,U,_)=>{var E=_(61509),o=_(37516);F.exports=/ipad|iphone|ipod/i.test(E)&&void 0!==o.Pebble},50357:(F,U,_)=>{var E=_(61509);F.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(E)},7214:(F,U,_)=>{var E=_(35735),o=_(37516);F.exports="process"==E(o.process)},35773:(F,U,_)=>{var E=_(61509);F.exports=/web0s(?!.*chrome)/i.test(E)},61509:(F,U,_)=>{var E=_(73289);F.exports=E("navigator","userAgent")||""},93687:(F,U,_)=>{var f,y,E=_(37516),o=_(61509),t=E.process,e=E.Deno,n=t&&t.versions||e&&e.version,s=n&&n.v8;s&&(y=(f=s.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!y&&o&&(!(f=o.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=o.match(/Chrome\/(\d+)/))&&(y=+f[1]),F.exports=y},2159:(F,U,_)=>{var E=_(83271);F.exports=function(o){return E[o+"Prototype"]}},53752:F=>{F.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},54315:(F,U,_)=>{var E=_(20065),o=_(42856);F.exports=!E(function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)})},99253:(F,U,_)=>{"use strict";var E=_(37516),o=_(80626),t=_(45972),e=_(91699),n=_(59819).f,s=_(808),f=_(83271),y=_(88509),M=_(6103),A=_(7723),P=function(B){var ne=function(te,se,de){if(this instanceof ne){switch(arguments.length){case 0:return new B;case 1:return new B(te);case 2:return new B(te,se)}return new B(te,se,de)}return o(B,this,arguments)};return ne.prototype=B.prototype,ne};F.exports=function(B,ne){var fe,pe,ie,ee,ye,Ce,Te,me,te=B.target,se=B.global,de=B.stat,ae=B.proto,Me=se?E:de?E[te]:(E[te]||{}).prototype,xe=se?f:f[te]||M(f,te,{})[te],we=xe.prototype;for(ie in ne)fe=!s(se?ie:te+(de?".":"#")+ie,B.forced)&&Me&&A(Me,ie),ye=xe[ie],fe&&(Ce=B.noTargetGet?(me=n(Me,ie))&&me.value:Me[ie]),ee=fe&&Ce?Ce:ne[ie],(!fe||typeof ye!=typeof ee)&&(Te=B.bind&&fe?y(ee,E):B.wrap&&fe?P(ee):ae&&e(ee)?t(ee):ee,(B.sham||ee&&ee.sham||ye&&ye.sham)&&M(Te,"sham",!0),M(xe,ie,Te),ae&&(A(f,pe=te+"Prototype")||M(f,pe,{}),M(f[pe],ie,ee),B.real&&we&&!we[ie]&&M(we,ie,ee)))}},20065:F=>{F.exports=function(U){try{return!!U()}catch(_){return!0}}},4224:(F,U,_)=>{var E=_(20065);F.exports=!E(function(){return Object.isExtensible(Object.preventExtensions({}))})},80626:F=>{var U=Function.prototype,_=U.apply,o=U.call;F.exports="object"==typeof Reflect&&Reflect.apply||(U.bind?o.bind(_):function(){return o.apply(_,arguments)})},88509:(F,U,_)=>{var E=_(45972),o=_(98204),t=E(E.bind);F.exports=function(e,n){return o(e),void 0===n?e:t?t(e,n):function(){return e.apply(n,arguments)}}},13868:F=>{var U=Function.prototype.call;F.exports=U.bind?U.bind(U):function(){return U.apply(U,arguments)}},91261:(F,U,_)=>{var E=_(61385),o=_(7723),t=Function.prototype,e=E&&Object.getOwnPropertyDescriptor,n=o(t,"name"),s=n&&"something"===function(){}.name,f=n&&(!E||E&&e(t,"name").configurable);F.exports={EXISTS:n,PROPER:s,CONFIGURABLE:f}},45972:F=>{var U=Function.prototype,_=U.bind,E=U.call,o=_&&_.bind(E);F.exports=_?function(t){return t&&o(E,t)}:function(t){return t&&function(){return E.apply(t,arguments)}}},73289:(F,U,_)=>{var E=_(83271),o=_(37516),t=_(91699),e=function(n){return t(n)?n:void 0};F.exports=function(n,s){return arguments.length<2?e(E[n])||e(o[n]):E[n]&&E[n][s]||o[n]&&o[n][s]}},62439:(F,U,_)=>{var E=_(98330),o=_(37571),t=_(48626),n=_(63211)("iterator");F.exports=function(s){if(null!=s)return o(s,n)||o(s,"@@iterator")||t[E(s)]}},13020:(F,U,_)=>{var E=_(37516),o=_(13868),t=_(98204),e=_(22696),n=_(42349),s=_(62439),f=E.TypeError;F.exports=function(y,M){var A=arguments.length<2?s(y):M;if(t(A))return e(o(A,y));throw f(n(y)+" is not iterable")}},37571:(F,U,_)=>{var E=_(98204);F.exports=function(o,t){var e=o[t];return null==e?void 0:E(e)}},37516:F=>{var U=function(_){return _&&_.Math==Math&&_};F.exports=U("object"==typeof globalThis&&globalThis)||U("object"==typeof window&&window)||U("object"==typeof self&&self)||U("object"==typeof global&&global)||function(){return this}()||Function("return this")()},7723:(F,U,_)=>{var E=_(45972),o=_(23349),t=E({}.hasOwnProperty);F.exports=Object.hasOwn||function(n,s){return t(o(n),s)}},64842:F=>{F.exports={}},28979:(F,U,_)=>{var E=_(37516);F.exports=function(o,t){var e=E.console;e&&e.error&&(1==arguments.length?e.error(o):e.error(o,t))}},21060:(F,U,_)=>{var E=_(73289);F.exports=E("document","documentElement")},86957:(F,U,_)=>{var E=_(61385),o=_(20065),t=_(42304);F.exports=!E&&!o(function(){return 7!=Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a})},41738:(F,U,_)=>{var E=_(37516),o=_(45972),t=_(20065),e=_(35735),n=E.Object,s=o("".split);F.exports=t(function(){return!n("z").propertyIsEnumerable(0)})?function(f){return"String"==e(f)?s(f,""):n(f)}:n},57761:(F,U,_)=>{var E=_(45972),o=_(91699),t=_(53575),e=E(Function.toString);o(t.inspectSource)||(t.inspectSource=function(n){return e(n)}),F.exports=t.inspectSource},84992:(F,U,_)=>{var E=_(883),o=_(6103);F.exports=function(t,e){E(e)&&"cause"in e&&o(t,"cause",e.cause)}},48016:(F,U,_)=>{var E=_(99253),o=_(45972),t=_(64842),e=_(883),n=_(7723),s=_(70762).f,f=_(92081),y=_(69820),M=_(2577),A=_(11789),P=_(4224),B=!1,ne=A("meta"),te=0,se=function(ke){s(ke,ne,{value:{objectID:"O"+te++,weakData:{}}})},we=F.exports={enable:function(){we.enable=function(){},B=!0;var ke=f.f,fe=o([].splice),pe={};pe[ne]=1,ke(pe).length&&(f.f=function(ie){for(var ee=ke(ie),ye=0,Ce=ee.length;ye<Ce;ye++)if(ee[ye]===ne){fe(ee,ye,1);break}return ee},E({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},fastKey:function(ke,fe){if(!e(ke))return"symbol"==typeof ke?ke:("string"==typeof ke?"S":"P")+ke;if(!n(ke,ne)){if(!M(ke))return"F";if(!fe)return"E";se(ke)}return ke[ne].objectID},getWeakData:function(ke,fe){if(!n(ke,ne)){if(!M(ke))return!0;if(!fe)return!1;se(ke)}return ke[ne].weakData},onFreeze:function(ke){return P&&B&&M(ke)&&!n(ke,ne)&&se(ke),ke}};t[ne]=!0},90149:(F,U,_)=>{var ne,te,se,E=_(74381),o=_(37516),t=_(45972),e=_(883),n=_(6103),s=_(7723),f=_(53575),y=_(26103),M=_(64842),A="Object already initialized",P=o.TypeError;if(E||f.state){var Me=f.state||(f.state=new(0,o.WeakMap)),xe=t(Me.get),we=t(Me.has),ke=t(Me.set);ne=function(pe,ie){if(we(Me,pe))throw new P(A);return ie.facade=pe,ke(Me,pe,ie),ie},te=function(pe){return xe(Me,pe)||{}},se=function(pe){return we(Me,pe)}}else{var fe=y("state");M[fe]=!0,ne=function(pe,ie){if(s(pe,fe))throw new P(A);return ie.facade=pe,n(pe,fe,ie),ie},te=function(pe){return s(pe,fe)?pe[fe]:{}},se=function(pe){return s(pe,fe)}}F.exports={set:ne,get:te,has:se,enforce:function(pe){return se(pe)?te(pe):ne(pe,{})},getterFor:function(pe){return function(ie){var ee;if(!e(ie)||(ee=te(ie)).type!==pe)throw P("Incompatible receiver, "+pe+" required");return ee}}}},60692:(F,U,_)=>{var E=_(63211),o=_(48626),t=E("iterator"),e=Array.prototype;F.exports=function(n){return void 0!==n&&(o.Array===n||e[t]===n)}},51556:(F,U,_)=>{var E=_(35735);F.exports=Array.isArray||function(t){return"Array"==E(t)}},91699:F=>{F.exports=function(U){return"function"==typeof U}},36025:(F,U,_)=>{var E=_(45972),o=_(20065),t=_(91699),e=_(98330),n=_(73289),s=_(57761),f=function(){},y=[],M=n("Reflect","construct"),A=/^\s*(?:class|function)\b/,P=E(A.exec),B=!A.exec(f),ne=function(se){if(!t(se))return!1;try{return M(f,y,se),!0}catch(de){return!1}};F.exports=!M||o(function(){var se;return ne(ne.call)||!ne(Object)||!ne(function(){se=!0})||se})?function(se){if(!t(se))return!1;switch(e(se)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return B||!!P(A,s(se))}:ne},808:(F,U,_)=>{var E=_(20065),o=_(91699),t=/#|\.prototype\./,e=function(M,A){var P=s[n(M)];return P==y||P!=f&&(o(A)?E(A):!!A)},n=e.normalize=function(M){return String(M).replace(t,".").toLowerCase()},s=e.data={},f=e.NATIVE="N",y=e.POLYFILL="P";F.exports=e},883:(F,U,_)=>{var E=_(91699);F.exports=function(o){return"object"==typeof o?null!==o:E(o)}},27316:F=>{F.exports=!0},89250:(F,U,_)=>{var E=_(883),o=_(35735),e=_(63211)("match");F.exports=function(n){var s;return E(n)&&(void 0!==(s=n[e])?!!s:"RegExp"==o(n))}},17397:(F,U,_)=>{var E=_(37516),o=_(73289),t=_(91699),e=_(28833),n=_(4286),s=E.Object;F.exports=n?function(f){return"symbol"==typeof f}:function(f){var y=o("Symbol");return t(y)&&e(y.prototype,s(f))}},30772:(F,U,_)=>{var E=_(37516),o=_(88509),t=_(13868),e=_(22696),n=_(42349),s=_(60692),f=_(1435),y=_(28833),M=_(13020),A=_(62439),P=_(29475),B=E.TypeError,ne=function(se,de){this.stopped=se,this.result=de},te=ne.prototype;F.exports=function(se,de,ae){var pe,ie,ee,ye,Ce,Te,me,xe=!(!ae||!ae.AS_ENTRIES),we=!(!ae||!ae.IS_ITERATOR),ke=!(!ae||!ae.INTERRUPTED),fe=o(de,ae&&ae.that),ve=function(Be){return pe&&P(pe,"normal",Be),new ne(!0,Be)},Ze=function(Be){return xe?(e(Be),ke?fe(Be[0],Be[1],ve):fe(Be[0],Be[1])):ke?fe(Be,ve):fe(Be)};if(we)pe=se;else{if(!(ie=A(se)))throw B(n(se)+" is not iterable");if(s(ie)){for(ee=0,ye=f(se);ye>ee;ee++)if((Ce=Ze(se[ee]))&&y(te,Ce))return Ce;return new ne(!1)}pe=M(se,ie)}for(Te=pe.next;!(me=t(Te,pe)).done;){try{Ce=Ze(me.value)}catch(Be){P(pe,"throw",Be)}if("object"==typeof Ce&&Ce&&y(te,Ce))return Ce}return new ne(!1)}},29475:(F,U,_)=>{var E=_(13868),o=_(22696),t=_(37571);F.exports=function(e,n,s){var f,y;o(e);try{if(!(f=t(e,"return"))){if("throw"===n)throw s;return s}f=E(f,e)}catch(M){y=!0,f=M}if("throw"===n)throw s;if(y)throw f;return o(f),s}},61056:(F,U,_)=>{"use strict";var A,P,B,E=_(20065),o=_(91699),t=_(73821),e=_(26142),n=_(46573),s=_(63211),f=_(27316),y=s("iterator"),M=!1;[].keys&&("next"in(B=[].keys())?(P=e(e(B)))!==Object.prototype&&(A=P):M=!0),null==A||E(function(){var te={};return A[y].call(te)!==te})?A={}:f&&(A=t(A)),o(A[y])||n(A,y,function(){return this}),F.exports={IteratorPrototype:A,BUGGY_SAFARI_ITERATORS:M}},48626:F=>{F.exports={}},1435:(F,U,_)=>{var E=_(37159);F.exports=function(o){return E(o.length)}},6120:(F,U,_)=>{var se,de,ae,Me,xe,we,ke,fe,E=_(37516),o=_(88509),t=_(59819).f,e=_(15691).set,n=_(50357),s=_(27129),f=_(35773),y=_(7214),M=E.MutationObserver||E.WebKitMutationObserver,A=E.document,P=E.process,B=E.Promise,ne=t(E,"queueMicrotask"),te=ne&&ne.value;te||(se=function(){var pe,ie;for(y&&(pe=P.domain)&&pe.exit();de;){ie=de.fn,de=de.next;try{ie()}catch(ee){throw de?Me():ae=void 0,ee}}ae=void 0,pe&&pe.enter()},n||y||f||!M||!A?!s&&B&&B.resolve?((ke=B.resolve(void 0)).constructor=B,fe=o(ke.then,ke),Me=function(){fe(se)}):y?Me=function(){P.nextTick(se)}:(e=o(e,E),Me=function(){e(se)}):(xe=!0,we=A.createTextNode(""),new M(se).observe(we,{characterData:!0}),Me=function(){we.data=xe=!xe})),F.exports=te||function(pe){var ie={fn:pe,next:void 0};ae&&(ae.next=ie),de||(de=ie,Me()),ae=ie}},99978:(F,U,_)=>{var E=_(37516);F.exports=E.Promise},74267:(F,U,_)=>{var E=_(93687),o=_(20065);F.exports=!!Object.getOwnPropertySymbols&&!o(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&E&&E<41})},71665:(F,U,_)=>{var E=_(20065),o=_(63211),t=_(27316),e=o("iterator");F.exports=!E(function(){var n=new URL("b?a=1&b=2&c=3","http://a"),s=n.searchParams,f="";return n.pathname="c%20d",s.forEach(function(y,M){s.delete("b"),f+=M+y}),t&&!n.toJSON||!s.sort||"http://a/c%20d?a=1&c=3"!==n.href||"3"!==s.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!s[e]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==f||"x"!==new URL("http://x",void 0).host})},74381:(F,U,_)=>{var E=_(37516),o=_(91699),t=_(57761),e=E.WeakMap;F.exports=o(e)&&/native code/.test(t(e))},2637:(F,U,_)=>{"use strict";var E=_(98204),o=function(t){var e,n;this.promise=new t(function(s,f){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=s,n=f}),this.resolve=E(e),this.reject=E(n)};F.exports.f=function(t){return new o(t)}},19105:(F,U,_)=>{var E=_(37299);F.exports=function(o,t){return void 0===o?arguments.length<2?"":t:E(o)}},9974:(F,U,_)=>{var E=_(37516),o=_(89250),t=E.TypeError;F.exports=function(e){if(o(e))throw t("The method doesn't accept regular expressions");return e}},36477:(F,U,_)=>{"use strict";var E=_(61385),o=_(45972),t=_(13868),e=_(20065),n=_(47836),s=_(62222),f=_(52725),y=_(23349),M=_(41738),A=Object.assign,P=Object.defineProperty,B=o([].concat);F.exports=!A||e(function(){if(E&&1!==A({b:1},A(P({},"a",{enumerable:!0,get:function(){P(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var ne={},te={},se=Symbol(),de="abcdefghijklmnopqrst";return ne[se]=7,de.split("").forEach(function(ae){te[ae]=ae}),7!=A({},ne)[se]||n(A({},te)).join("")!=de})?function(te,se){for(var de=y(te),ae=arguments.length,Me=1,xe=s.f,we=f.f;ae>Me;)for(var ee,ke=M(arguments[Me++]),fe=xe?B(n(ke),xe(ke)):n(ke),pe=fe.length,ie=0;pe>ie;)ee=fe[ie++],(!E||t(we,ke,ee))&&(de[ee]=ke[ee]);return de}:A},73821:(F,U,_)=>{var ae,E=_(22696),o=_(25526),t=_(53752),e=_(64842),n=_(21060),s=_(42304),f=_(26103),A="prototype",P="script",B=f("IE_PROTO"),ne=function(){},te=function(xe){return"<"+P+">"+xe+"</"+P+">"},se=function(xe){xe.write(te("")),xe.close();var we=xe.parentWindow.Object;return xe=null,we},Me=function(){try{ae=new ActiveXObject("htmlfile")}catch(we){}Me="undefined"!=typeof document?document.domain&&ae?se(ae):function(){var ke,xe=s("iframe");return xe.style.display="none",n.appendChild(xe),xe.src=String("javascript:"),(ke=xe.contentWindow.document).open(),ke.write(te("document.F=Object")),ke.close(),ke.F}():se(ae);for(var xe=t.length;xe--;)delete Me[A][t[xe]];return Me()};e[B]=!0,F.exports=Object.create||function(we,ke){var fe;return null!==we?(ne[A]=E(we),fe=new ne,ne[A]=null,fe[B]=we):fe=Me(),void 0===ke?fe:o(fe,ke)}},25526:(F,U,_)=>{var E=_(61385),o=_(70762),t=_(22696),e=_(75880),n=_(47836);F.exports=E?Object.defineProperties:function(f,y){t(f);for(var ne,M=e(y),A=n(y),P=A.length,B=0;P>B;)o.f(f,ne=A[B++],M[ne]);return f}},70762:(F,U,_)=>{var E=_(37516),o=_(61385),t=_(86957),e=_(22696),n=_(54053),s=E.TypeError,f=Object.defineProperty;U.f=o?f:function(M,A,P){if(e(M),A=n(A),e(P),t)try{return f(M,A,P)}catch(B){}if("get"in P||"set"in P)throw s("Accessors not supported");return"value"in P&&(M[A]=P.value),M}},59819:(F,U,_)=>{var E=_(61385),o=_(13868),t=_(52725),e=_(42856),n=_(75880),s=_(54053),f=_(7723),y=_(86957),M=Object.getOwnPropertyDescriptor;U.f=E?M:function(P,B){if(P=n(P),B=s(B),y)try{return M(P,B)}catch(ne){}if(f(P,B))return e(!o(t.f,P,B),P[B])}},69820:(F,U,_)=>{var E=_(35735),o=_(75880),t=_(92081).f,e=_(13053),n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];F.exports.f=function(y){return n&&"Window"==E(y)?function(f){try{return t(f)}catch(y){return e(n)}}(y):t(o(y))}},92081:(F,U,_)=>{var E=_(66230),t=_(53752).concat("length","prototype");U.f=Object.getOwnPropertyNames||function(n){return E(n,t)}},62222:(F,U)=>{U.f=Object.getOwnPropertySymbols},26142:(F,U,_)=>{var E=_(37516),o=_(7723),t=_(91699),e=_(23349),n=_(26103),s=_(719),f=n("IE_PROTO"),y=E.Object,M=y.prototype;F.exports=s?y.getPrototypeOf:function(A){var P=e(A);if(o(P,f))return P[f];var B=P.constructor;return t(B)&&P instanceof B?B.prototype:P instanceof y?M:null}},2577:(F,U,_)=>{var E=_(20065),o=_(883),t=_(35735),e=_(70830),n=Object.isExtensible,s=E(function(){n(1)});F.exports=s||e?function(y){return!(!o(y)||e&&"ArrayBuffer"==t(y))&&(!n||n(y))}:n},28833:(F,U,_)=>{var E=_(45972);F.exports=E({}.isPrototypeOf)},66230:(F,U,_)=>{var E=_(45972),o=_(7723),t=_(75880),e=_(591).indexOf,n=_(64842),s=E([].push);F.exports=function(f,y){var B,M=t(f),A=0,P=[];for(B in M)!o(n,B)&&o(M,B)&&s(P,B);for(;y.length>A;)o(M,B=y[A++])&&(~e(P,B)||s(P,B));return P}},47836:(F,U,_)=>{var E=_(66230),o=_(53752);F.exports=Object.keys||function(e){return E(e,o)}},52725:(F,U)=>{"use strict";var _={}.propertyIsEnumerable,E=Object.getOwnPropertyDescriptor,o=E&&!_.call({1:2},1);U.f=o?function(e){var n=E(this,e);return!!n&&n.enumerable}:_},74494:(F,U,_)=>{var E=_(45972),o=_(22696),t=_(82361);F.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,e=!1,n={};try{(s=E(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(f){}return function(y,M){return o(y),t(M),e?s(y,M):y.__proto__=M,y}}():void 0)},37621:(F,U,_)=>{var E=_(61385),o=_(45972),t=_(47836),e=_(75880),s=o(_(52725).f),f=o([].push),y=function(M){return function(A){for(var de,P=e(A),B=t(P),ne=B.length,te=0,se=[];ne>te;)de=B[te++],(!E||s(P,de))&&f(se,M?[de,P[de]]:P[de]);return se}};F.exports={entries:y(!0),values:y(!1)}},97390:(F,U,_)=>{"use strict";var E=_(89834),o=_(98330);F.exports=E?{}.toString:function(){return"[object "+o(this)+"]"}},53890:(F,U,_)=>{var E=_(37516),o=_(13868),t=_(91699),e=_(883),n=E.TypeError;F.exports=function(s,f){var y,M;if("string"===f&&t(y=s.toString)&&!e(M=o(y,s))||t(y=s.valueOf)&&!e(M=o(y,s))||"string"!==f&&t(y=s.toString)&&!e(M=o(y,s)))return M;throw n("Can't convert object to primitive value")}},8452:(F,U,_)=>{var E=_(73289),o=_(45972),t=_(92081),e=_(62222),n=_(22696),s=o([].concat);F.exports=E("Reflect","ownKeys")||function(y){var M=t.f(n(y)),A=e.f;return A?s(M,A(y)):M}},83271:F=>{F.exports={}},18429:F=>{F.exports=function(U){try{return{error:!1,value:U()}}catch(_){return{error:!0,value:_}}}},33898:(F,U,_)=>{var E=_(22696),o=_(883),t=_(2637);F.exports=function(e,n){if(E(e),o(n)&&n.constructor===e)return n;var s=t.f(e);return(0,s.resolve)(n),s.promise}},22239:(F,U,_)=>{var E=_(46573);F.exports=function(o,t,e){for(var n in t)e&&e.unsafe&&o[n]?o[n]=t[n]:E(o,n,t[n],e);return o}},46573:(F,U,_)=>{var E=_(6103);F.exports=function(o,t,e,n){n&&n.enumerable?o[t]=e:E(o,t,e)}},63805:(F,U,_)=>{var o=_(37516).TypeError;F.exports=function(t){if(null==t)throw o("Can't call method on "+t);return t}},75987:(F,U,_)=>{var E=_(37516),o=Object.defineProperty;F.exports=function(t,e){try{o(E,t,{value:e,configurable:!0,writable:!0})}catch(n){E[t]=e}return e}},31333:(F,U,_)=>{"use strict";var E=_(73289),o=_(70762),t=_(63211),e=_(61385),n=t("species");F.exports=function(s){var f=E(s);e&&f&&!f[n]&&(0,o.f)(f,n,{configurable:!0,get:function(){return this}})}},65702:(F,U,_)=>{var E=_(89834),o=_(70762).f,t=_(6103),e=_(7723),n=_(97390),f=_(63211)("toStringTag");F.exports=function(y,M,A,P){if(y){var B=A?y:y.prototype;e(B,f)||o(B,f,{configurable:!0,value:M}),P&&!E&&t(B,"toString",n)}}},26103:(F,U,_)=>{var E=_(2389),o=_(11789),t=E("keys");F.exports=function(e){return t[e]||(t[e]=o(e))}},53575:(F,U,_)=>{var E=_(37516),o=_(75987),t="__core-js_shared__",e=E[t]||o(t,{});F.exports=e},2389:(F,U,_)=>{var E=_(27316),o=_(53575);(F.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.1",mode:E?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},3759:(F,U,_)=>{var E=_(22696),o=_(39660),e=_(63211)("species");F.exports=function(n,s){var y,f=E(n).constructor;return void 0===f||null==(y=E(f)[e])?s:o(y)}},14924:(F,U,_)=>{var E=_(45972),o=_(88582),t=_(37299),e=_(63805),n=E("".charAt),s=E("".charCodeAt),f=E("".slice),y=function(M){return function(A,P){var se,de,B=t(e(A)),ne=o(P),te=B.length;return ne<0||ne>=te?M?"":void 0:(se=s(B,ne))<55296||se>56319||ne+1===te||(de=s(B,ne+1))<56320||de>57343?M?n(B,ne):se:M?f(B,ne,ne+2):de-56320+(se-55296<<10)+65536}};F.exports={codeAt:y(!1),charAt:y(!0)}},15691:(F,U,_)=>{var fe,pe,ie,ee,E=_(37516),o=_(80626),t=_(88509),e=_(91699),n=_(7723),s=_(20065),f=_(21060),y=_(13053),M=_(42304),A=_(50357),P=_(7214),B=E.setImmediate,ne=E.clearImmediate,te=E.process,se=E.Dispatch,de=E.Function,ae=E.MessageChannel,Me=E.String,xe=0,we={},ke="onreadystatechange";try{fe=E.location}catch(ve){}var ye=function(ve){if(n(we,ve)){var Ze=we[ve];delete we[ve],Ze()}},Ce=function(ve){return function(){ye(ve)}},Te=function(ve){ye(ve.data)},me=function(ve){E.postMessage(Me(ve),fe.protocol+"//"+fe.host)};(!B||!ne)&&(B=function(Ze){var Be=y(arguments,1);return we[++xe]=function(){o(e(Ze)?Ze:de(Ze),void 0,Be)},pe(xe),xe},ne=function(Ze){delete we[Ze]},P?pe=function(ve){te.nextTick(Ce(ve))}:se&&se.now?pe=function(ve){se.now(Ce(ve))}:ae&&!A?(ee=(ie=new ae).port2,ie.port1.onmessage=Te,pe=t(ee.postMessage,ee)):E.addEventListener&&e(E.postMessage)&&!E.importScripts&&fe&&"file:"!==fe.protocol&&!s(me)?(pe=me,E.addEventListener("message",Te,!1)):pe=ke in M("script")?function(ve){f.appendChild(M("script"))[ke]=function(){f.removeChild(this),ye(ve)}}:function(ve){setTimeout(Ce(ve),0)}),F.exports={set:B,clear:ne}},54346:(F,U,_)=>{var E=_(88582),o=Math.max,t=Math.min;F.exports=function(e,n){var s=E(e);return s<0?o(s+n,0):t(s,n)}},75880:(F,U,_)=>{var E=_(41738),o=_(63805);F.exports=function(t){return E(o(t))}},88582:F=>{var U=Math.ceil,_=Math.floor;F.exports=function(E){var o=+E;return o!=o||0===o?0:(o>0?_:U)(o)}},37159:(F,U,_)=>{var E=_(88582),o=Math.min;F.exports=function(t){return t>0?o(E(t),9007199254740991):0}},23349:(F,U,_)=>{var E=_(37516),o=_(63805),t=E.Object;F.exports=function(e){return t(o(e))}},54017:(F,U,_)=>{var E=_(37516),o=_(13868),t=_(883),e=_(17397),n=_(37571),s=_(53890),f=_(63211),y=E.TypeError,M=f("toPrimitive");F.exports=function(A,P){if(!t(A)||e(A))return A;var ne,B=n(A,M);if(B){if(void 0===P&&(P="default"),ne=o(B,A,P),!t(ne)||e(ne))return ne;throw y("Can't convert object to primitive value")}return void 0===P&&(P="number"),s(A,P)}},54053:(F,U,_)=>{var E=_(54017),o=_(17397);F.exports=function(t){var e=E(t,"string");return o(e)?e:e+""}},89834:(F,U,_)=>{var t={};t[_(63211)("toStringTag")]="z",F.exports="[object z]"===String(t)},37299:(F,U,_)=>{var E=_(37516),o=_(98330),t=E.String;F.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return t(e)}},42349:(F,U,_)=>{var o=_(37516).String;F.exports=function(t){try{return o(t)}catch(e){return"Object"}}},11789:(F,U,_)=>{var E=_(45972),o=0,t=Math.random(),e=E(1..toString);F.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+e(++o+t,36)}},4286:(F,U,_)=>{var E=_(74267);F.exports=E&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},42572:(F,U,_)=>{var E=_(63211);U.f=E},63211:(F,U,_)=>{var E=_(37516),o=_(2389),t=_(7723),e=_(11789),n=_(74267),s=_(4286),f=o("wks"),y=E.Symbol,M=y&&y.for,A=s?y:y&&y.withoutSetter||e;F.exports=function(P){if(!t(f,P)||!n&&"string"!=typeof f[P]){var B="Symbol."+P;f[P]=n&&t(y,P)?y[P]:s&&M?M(B):A(B)}return f[P]}},52935:(F,U,_)=>{"use strict";var E=_(99253),o=_(37516),t=_(28833),e=_(26142),n=_(74494),s=_(64325),f=_(73821),y=_(6103),M=_(42856),A=_(67232),P=_(84992),B=_(30772),ne=_(19105),te=_(63211),se=_(54315),de=te("toStringTag"),ae=o.Error,Me=[].push,xe=function(fe,pe){var ye,ie=arguments.length>2?arguments[2]:void 0,ee=t(we,this);n?ye=n(new ae(void 0),ee?e(this):we):(ye=ee?this:f(we),y(ye,de,"Error")),y(ye,"message",ne(pe,"")),se&&y(ye,"stack",A(ye.stack,1)),P(ye,ie);var Ce=[];return B(fe,Me,{that:Ce}),y(ye,"errors",Ce),ye};n?n(xe,ae):s(xe,ae);var we=xe.prototype=f(ae.prototype,{constructor:M(1,xe),message:M(1,""),name:M(1,"AggregateError")});E({global:!0},{AggregateError:xe})},94570:(F,U,_)=>{"use strict";var E=_(99253),o=_(37516),t=_(20065),e=_(51556),n=_(883),s=_(23349),f=_(1435),y=_(763),M=_(94947),A=_(64630),P=_(63211),B=_(93687),ne=P("isConcatSpreadable"),te=9007199254740991,se="Maximum allowed index exceeded",de=o.TypeError,ae=B>=51||!t(function(){var ke=[];return ke[ne]=!1,ke.concat()[0]!==ke}),Me=A("concat"),xe=function(ke){if(!n(ke))return!1;var fe=ke[ne];return void 0!==fe?!!fe:e(ke)};E({target:"Array",proto:!0,forced:!ae||!Me},{concat:function(fe){var ye,Ce,Te,me,ve,pe=s(this),ie=M(pe,0),ee=0;for(ye=-1,Te=arguments.length;ye<Te;ye++)if(xe(ve=-1===ye?pe:arguments[ye])){if(ee+(me=f(ve))>te)throw de(se);for(Ce=0;Ce<me;Ce++,ee++)Ce in ve&&y(ie,ee,ve[Ce])}else{if(ee>=te)throw de(se);y(ie,ee++,ve)}return ie.length=ee,ie}})},76613:(F,U,_)=>{"use strict";var E=_(99253),o=_(69720).filter;E({target:"Array",proto:!0,forced:!_(64630)("filter")},{filter:function(s){return o(this,s,arguments.length>1?arguments[1]:void 0)}})},15963:(F,U,_)=>{"use strict";var E=_(99253),o=_(69720).find,t=_(51802),e="find",n=!0;e in[]&&Array(1)[e](function(){n=!1}),E({target:"Array",proto:!0,forced:n},{find:function(f){return o(this,f,arguments.length>1?arguments[1]:void 0)}}),t(e)},28436:(F,U,_)=>{"use strict";var E=_(99253),o=_(30247);E({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},46601:(F,U,_)=>{var E=_(99253),o=_(58365);E({target:"Array",stat:!0,forced:!_(78442)(function(n){Array.from(n)})},{from:o})},82680:(F,U,_)=>{"use strict";var E=_(99253),o=_(591).includes,t=_(51802);E({target:"Array",proto:!0},{includes:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}}),t("includes")},73713:(F,U,_)=>{"use strict";var E=_(99253),o=_(45972),t=_(591).indexOf,e=_(40386),n=o([].indexOf),s=!!n&&1/n([1],1,-0)<0,f=e("indexOf");E({target:"Array",proto:!0,forced:s||!f},{indexOf:function(M){var A=arguments.length>1?arguments[1]:void 0;return s?n(this,M,A)||0:t(this,M,A)}})},67011:(F,U,_)=>{_(99253)({target:"Array",stat:!0},{isArray:_(51556)})},64741:(F,U,_)=>{"use strict";var E=_(75880),o=_(51802),t=_(48626),e=_(90149),n=_(68797),s="Array Iterator",f=e.set,y=e.getterFor(s);F.exports=n(Array,"Array",function(M,A){f(this,{type:s,target:E(M),index:0,kind:A})},function(){var M=y(this),A=M.target,P=M.kind,B=M.index++;return!A||B>=A.length?(M.target=void 0,{value:void 0,done:!0}):"keys"==P?{value:B,done:!1}:"values"==P?{value:A[B],done:!1}:{value:[B,A[B]],done:!1}},"values"),t.Arguments=t.Array,o("keys"),o("values"),o("entries")},48303:(F,U,_)=>{"use strict";var E=_(99253),o=_(69720).map;E({target:"Array",proto:!0,forced:!_(64630)("map")},{map:function(s){return o(this,s,arguments.length>1?arguments[1]:void 0)}})},96682:(F,U,_)=>{"use strict";var E=_(99253),o=_(37516),t=_(51556),e=_(36025),n=_(883),s=_(54346),f=_(1435),y=_(75880),M=_(763),A=_(63211),P=_(64630),B=_(13053),ne=P("slice"),te=A("species"),se=o.Array,de=Math.max;E({target:"Array",proto:!0,forced:!ne},{slice:function(Me,xe){var ie,ee,ye,we=y(this),ke=f(we),fe=s(Me,ke),pe=s(void 0===xe?ke:xe,ke);if(t(we)&&((e(ie=we.constructor)&&(ie===se||t(ie.prototype))||n(ie)&&null===(ie=ie[te]))&&(ie=void 0),ie===se||void 0===ie))return B(we,fe,pe);for(ee=new(void 0===ie?se:ie)(de(pe-fe,0)),ye=0;fe<pe;fe++,ye++)fe in we&&M(ee,ye,we[fe]);return ee.length=ye,ee}})},92241:(F,U,_)=>{"use strict";var E=_(99253),o=_(37516),t=_(54346),e=_(88582),n=_(1435),s=_(23349),f=_(94947),y=_(763),A=_(64630)("splice"),P=o.TypeError,B=Math.max,ne=Math.min,te=9007199254740991,se="Maximum allowed length exceeded";E({target:"Array",proto:!0,forced:!A},{splice:function(ae,Me){var pe,ie,ee,ye,Ce,Te,xe=s(this),we=n(xe),ke=t(ae,we),fe=arguments.length;if(0===fe?pe=ie=0:1===fe?(pe=0,ie=we-ke):(pe=fe-2,ie=ne(B(e(Me),0),we-ke)),we+pe-ie>te)throw P(se);for(ee=f(xe,ie),ye=0;ye<ie;ye++)(Ce=ke+ye)in xe&&y(ee,ye,xe[Ce]);if(ee.length=ie,pe<ie){for(ye=ke;ye<we-ie;ye++)Te=ye+pe,(Ce=ye+ie)in xe?xe[Te]=xe[Ce]:delete xe[Te];for(ye=we;ye>we-ie+pe;ye--)delete xe[ye-1]}else if(pe>ie)for(ye=we-ie;ye>ke;ye--)Te=ye+pe-1,(Ce=ye+ie-1)in xe?xe[Te]=xe[Ce]:delete xe[Te];for(ye=0;ye<pe;ye++)xe[ye+ke]=arguments[ye+2];return xe.length=we-ie+pe,ee}})},62260:(F,U,_)=>{var E=_(99253),o=_(37516),t=_(73289),e=_(80626),n=_(45972),s=_(20065),f=o.Array,y=t("JSON","stringify"),M=n(/./.exec),A=n("".charAt),P=n("".charCodeAt),B=n("".replace),ne=n(1..toString),te=/[\uD800-\uDFFF]/g,se=/^[\uD800-\uDBFF]$/,de=/^[\uDC00-\uDFFF]$/,ae=function(xe,we,ke){var fe=A(ke,we-1),pe=A(ke,we+1);return M(se,xe)&&!M(de,pe)||M(de,xe)&&!M(se,fe)?"\\u"+ne(P(xe,0),16):xe},Me=s(function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")});y&&E({target:"JSON",stat:!0,forced:Me},{stringify:function(we,ke,fe){for(var pe=0,ie=arguments.length,ee=f(ie);pe<ie;pe++)ee[pe]=arguments[pe];var ye=e(y,null,ee);return"string"==typeof ye?B(ye,te,ae):ye}})},10157:(F,U,_)=>{var E=_(37516);_(65702)(E.JSON,"JSON",!0)},30238:()=>{},91487:(F,U,_)=>{var E=_(99253),o=_(36477);E({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},40020:(F,U,_)=>{var E=_(99253),o=_(61385);E({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:_(25526)})},55523:(F,U,_)=>{var E=_(99253),o=_(61385);E({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:_(70762).f})},67777:(F,U,_)=>{var E=_(99253),o=_(37621).entries;E({target:"Object",stat:!0},{entries:function(e){return o(e)}})},32696:(F,U,_)=>{var E=_(99253),o=_(20065),t=_(75880),e=_(59819).f,n=_(61385),s=o(function(){e(1)});E({target:"Object",stat:!0,forced:!n||s,sham:!n},{getOwnPropertyDescriptor:function(M,A){return e(t(M),A)}})},36714:(F,U,_)=>{var E=_(99253),o=_(61385),t=_(8452),e=_(75880),n=_(59819),s=_(763);E({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(y){for(var te,se,M=e(y),A=n.f,P=t(M),B={},ne=0;P.length>ne;)void 0!==(se=A(M,te=P[ne++]))&&s(B,te,se);return B}})},89405:(F,U,_)=>{var E=_(99253),o=_(23349),t=_(47836);E({target:"Object",stat:!0,forced:_(20065)(function(){t(1)})},{keys:function(f){return t(o(f))}})},97045:()=>{},75077:(F,U,_)=>{"use strict";var E=_(99253),o=_(13868),t=_(98204),e=_(2637),n=_(18429),s=_(30772);E({target:"Promise",stat:!0},{allSettled:function(y){var M=this,A=e.f(M),P=A.resolve,B=A.reject,ne=n(function(){var te=t(M.resolve),se=[],de=0,ae=1;s(y,function(Me){var xe=de++,we=!1;ae++,o(te,M,Me).then(function(ke){we||(we=!0,se[xe]={status:"fulfilled",value:ke},--ae||P(se))},function(ke){we||(we=!0,se[xe]={status:"rejected",reason:ke},--ae||P(se))})}),--ae||P(se)});return ne.error&&B(ne.value),A.promise}})},83218:(F,U,_)=>{"use strict";var E=_(99253),o=_(98204),t=_(73289),e=_(13868),n=_(2637),s=_(18429),f=_(30772),y="No one promise resolved";E({target:"Promise",stat:!0},{any:function(A){var P=this,B=t("AggregateError"),ne=n.f(P),te=ne.resolve,se=ne.reject,de=s(function(){var ae=o(P.resolve),Me=[],xe=0,we=1,ke=!1;f(A,function(fe){var pe=xe++,ie=!1;we++,e(ae,P,fe).then(function(ee){ie||ke||(ke=!0,te(ee))},function(ee){ie||ke||(ie=!0,Me[pe]=ee,--we||se(new B(Me,y)))})}),--we||se(new B(Me,y))});return de.error&&se(de.value),ne.promise}})},45895:(F,U,_)=>{"use strict";var E=_(99253),o=_(27316),t=_(99978),e=_(20065),n=_(73289),s=_(91699),f=_(3759),y=_(33898),M=_(46573);if(E({target:"Promise",proto:!0,real:!0,forced:!!t&&e(function(){t.prototype.finally.call({then:function(){}},function(){})})},{finally:function(B){var ne=f(this,n("Promise")),te=s(B);return this.then(te?function(se){return y(ne,B()).then(function(){return se})}:B,te?function(se){return y(ne,B()).then(function(){throw se})}:B)}}),!o&&s(t)){var P=n("Promise").prototype.finally;t.prototype.finally!==P&&M(t.prototype,"finally",P,{unsafe:!0})}},12545:(F,U,_)=>{"use strict";var hn,mt,Ht,Je,E=_(99253),o=_(27316),t=_(37516),e=_(73289),n=_(13868),s=_(99978),f=_(46573),y=_(22239),M=_(74494),A=_(65702),P=_(31333),B=_(98204),ne=_(91699),te=_(883),se=_(74528),de=_(57761),ae=_(30772),Me=_(78442),xe=_(3759),we=_(15691).set,ke=_(6120),fe=_(33898),pe=_(28979),ie=_(2637),ee=_(18429),ye=_(90149),Ce=_(808),Te=_(63211),me=_(33040),ve=_(7214),Ze=_(93687),Be=Te("species"),ot="Promise",Lt=ye.get,Jt=ye.set,wt=ye.getterFor(ot),tn=s&&s.prototype,Et=s,sn=tn,rt=t.TypeError,at=t.document,Vt=t.process,zt=ie.f,$t=zt,xn=!!(at&&at.createEvent&&t.dispatchEvent),Kn=ne(t.PromiseRejectionEvent),Yn="unhandledrejection",ft=!1,X=Ce(ot,function(){var Ut=de(Et),on=Ut!==String(Et);if(!on&&66===Ze||o&&!sn.finally)return!0;if(Ze>=51&&/native code/.test(Ut))return!1;var tt=new Et(function(Cn){Cn(1)}),xt=function(Cn){Cn(function(){},function(){})};return(tt.constructor={})[Be]=xt,!(ft=tt.then(function(){})instanceof xt)||!on&&me&&!Kn}),re=X||!Me(function(Ut){Et.all(Ut).catch(function(){})}),ze=function(Ut){var on;return!(!te(Ut)||!ne(on=Ut.then))&&on},Qe=function(Ut,on){if(!Ut.notified){Ut.notified=!0;var tt=Ut.reactions;ke(function(){for(var xt=Ut.value,rn=1==Ut.state,Cn=0;tt.length>Cn;){var At,Oe,je,qn=tt[Cn++],zn=rn?qn.ok:qn.fail,Vn=qn.resolve,jn=qn.reject,Dt=qn.domain;try{zn?(rn||(2===Ut.rejection&&wn(Ut),Ut.rejection=1),!0===zn?At=xt:(Dt&&Dt.enter(),At=zn(xt),Dt&&(Dt.exit(),je=!0)),At===qn.promise?jn(rt("Promise-chain cycle")):(Oe=ze(At))?n(Oe,At,Vn,jn):Vn(At)):jn(xt)}catch(We){Dt&&!je&&Dt.exit(),jn(We)}}Ut.reactions=[],Ut.notified=!1,on&&!Ut.rejection&&yt(Ut)})}},Ct=function(Ut,on,tt){var xt,rn;xn?((xt=at.createEvent("Event")).promise=on,xt.reason=tt,xt.initEvent(Ut,!1,!0),t.dispatchEvent(xt)):xt={promise:on,reason:tt},!Kn&&(rn=t["on"+Ut])?rn(xt):Ut===Yn&&pe("Unhandled promise rejection",tt)},yt=function(Ut){n(we,t,function(){var rn,on=Ut.facade,tt=Ut.value;if(Zt(Ut)&&(rn=ee(function(){ve?Vt.emit("unhandledRejection",tt,on):Ct(Yn,on,tt)}),Ut.rejection=ve||Zt(Ut)?2:1,rn.error))throw rn.value})},Zt=function(Ut){return 1!==Ut.rejection&&!Ut.parent},wn=function(Ut){n(we,t,function(){var on=Ut.facade;ve?Vt.emit("rejectionHandled",on):Ct("rejectionhandled",on,Ut.value)})},En=function(Ut,on,tt){return function(xt){Ut(on,xt,tt)}},bn=function(Ut,on,tt){Ut.done||(Ut.done=!0,tt&&(Ut=tt),Ut.value=on,Ut.state=2,Qe(Ut,!0))},fn=function(Ut,on,tt){if(!Ut.done){Ut.done=!0,tt&&(Ut=tt);try{if(Ut.facade===on)throw rt("Promise can't be resolved itself");var xt=ze(on);xt?ke(function(){var rn={done:!1};try{n(xt,on,En(fn,rn,Ut),En(bn,rn,Ut))}catch(Cn){bn(rn,Cn,Ut)}}):(Ut.value=on,Ut.state=1,Qe(Ut,!1))}catch(rn){bn({done:!1},rn,Ut)}}};if(X&&(Et=function(on){se(this,sn),B(on),n(hn,this);var tt=Lt(this);try{on(En(fn,tt),En(bn,tt))}catch(xt){bn(tt,xt)}},(hn=function(on){Jt(this,{type:ot,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(sn=Et.prototype,{then:function(on,tt){var xt=wt(this),rn=xt.reactions,Cn=zt(xe(this,Et));return Cn.ok=!ne(on)||on,Cn.fail=ne(tt)&&tt,Cn.domain=ve?Vt.domain:void 0,xt.parent=!0,rn[rn.length]=Cn,0!=xt.state&&Qe(xt,!1),Cn.promise},catch:function(Ut){return this.then(void 0,Ut)}}),mt=function(){var Ut=new hn,on=Lt(Ut);this.promise=Ut,this.resolve=En(fn,on),this.reject=En(bn,on)},ie.f=zt=function(Ut){return Ut===Et||Ut===Ht?new mt(Ut):$t(Ut)},!o&&ne(s)&&tn!==Object.prototype)){Je=tn.then,ft||(f(tn,"then",function(on,tt){var xt=this;return new Et(function(rn,Cn){n(Je,xt,rn,Cn)}).then(on,tt)},{unsafe:!0}),f(tn,"catch",sn.catch,{unsafe:!0}));try{delete tn.constructor}catch(Ut){}M&&M(tn,sn)}E({global:!0,wrap:!0,forced:X},{Promise:Et}),A(Et,ot,!1,!0),P(ot),Ht=e(ot),E({target:ot,stat:!0,forced:X},{reject:function(on){var tt=zt(this);return n(tt.reject,void 0,on),tt.promise}}),E({target:ot,stat:!0,forced:o||X},{resolve:function(on){return fe(o&&this===Ht?Et:this,on)}}),E({target:ot,stat:!0,forced:re},{all:function(on){var tt=this,xt=zt(tt),rn=xt.resolve,Cn=xt.reject,qn=ee(function(){var zn=B(tt.resolve),Vn=[],jn=0,Dt=1;ae(on,function(At){var Oe=jn++,je=!1;Dt++,n(zn,tt,At).then(function(We){je||(je=!0,Vn[Oe]=We,--Dt||rn(Vn))},Cn)}),--Dt||rn(Vn)});return qn.error&&Cn(qn.value),xt.promise},race:function(on){var tt=this,xt=zt(tt),rn=xt.reject,Cn=ee(function(){var qn=B(tt.resolve);ae(on,function(zn){n(qn,tt,zn).then(xt.resolve,rn)})});return Cn.error&&rn(Cn.value),xt.promise}})},22428:()=>{},96595:(F,U,_)=>{"use strict";var E=_(99253),o=_(45972),t=_(9974),e=_(63805),n=_(37299),s=_(23655),f=o("".indexOf);E({target:"String",proto:!0,forced:!s("includes")},{includes:function(M){return!!~f(n(e(this)),n(t(M)),arguments.length>1?arguments[1]:void 0)}})},62009:(F,U,_)=>{"use strict";var E=_(14924).charAt,o=_(37299),t=_(90149),e=_(68797),n="String Iterator",s=t.set,f=t.getterFor(n);e(String,"String",function(y){s(this,{type:n,string:o(y),index:0})},function(){var B,M=f(this),A=M.string,P=M.index;return P>=A.length?{value:void 0,done:!0}:(B=E(A,P),M.index+=B.length,{value:B,done:!1})})},11322:(F,U,_)=>{"use strict";var se,E=_(99253),o=_(45972),t=_(59819).f,e=_(37159),n=_(37299),s=_(9974),f=_(63805),y=_(23655),M=_(27316),A=o("".startsWith),P=o("".slice),B=Math.min,ne=y("startsWith");E({target:"String",proto:!0,forced:!(!M&&!ne&&(se=t(String.prototype,"startsWith"),se&&!se.writable)||ne)},{startsWith:function(de){var ae=n(f(this));s(de);var Me=e(B(arguments.length>1?arguments[1]:void 0,ae.length)),xe=n(de);return A?A(ae,xe,Me):P(ae,Me,Me+xe.length)===xe}})},32159:(F,U,_)=>{_(8254)("asyncIterator")},72450:()=>{},43071:(F,U,_)=>{_(8254)("hasInstance")},34025:(F,U,_)=>{_(8254)("isConcatSpreadable")},19155:(F,U,_)=>{_(8254)("iterator")},33353:(F,U,_)=>{"use strict";var E=_(99253),o=_(37516),t=_(73289),e=_(80626),n=_(13868),s=_(45972),f=_(27316),y=_(61385),M=_(74267),A=_(20065),P=_(7723),B=_(51556),ne=_(91699),te=_(883),se=_(28833),de=_(17397),ae=_(22696),Me=_(23349),xe=_(75880),we=_(54053),ke=_(37299),fe=_(42856),pe=_(73821),ie=_(47836),ee=_(92081),ye=_(69820),Ce=_(62222),Te=_(59819),me=_(70762),ve=_(52725),Ze=_(13053),Be=_(46573),ot=_(2389),Lt=_(26103),Jt=_(64842),wt=_(11789),tn=_(63211),Et=_(42572),sn=_(8254),rt=_(65702),at=_(90149),Vt=_(69720).forEach,zt=Lt("hidden"),$t="Symbol",xn="prototype",Kn=tn("toPrimitive"),Yn=at.set,dn=at.getterFor($t),It=Object[xn],Bt=o.Symbol,Fe=Bt&&Bt[xn],it=o.TypeError,un=o.QObject,ft=t("JSON","stringify"),hn=Te.f,mt=me.f,Ht=ye.f,Je=ve.f,X=s([].push),re=ot("symbols"),ze=ot("op-symbols"),Qe=ot("string-to-symbol-registry"),Ct=ot("symbol-to-string-registry"),yt=ot("wks"),Zt=!un||!un[xn]||!un[xn].findChild,wn=y&&A(function(){return 7!=pe(mt({},"a",{get:function(){return mt(this,"a",{value:7}).a}})).a})?function(zn,Vn,jn){var Dt=hn(It,Vn);Dt&&delete It[Vn],mt(zn,Vn,jn),Dt&&zn!==It&&mt(It,Vn,Dt)}:mt,En=function(zn,Vn){var jn=re[zn]=pe(Fe);return Yn(jn,{type:$t,tag:zn,description:Vn}),y||(jn.description=Vn),jn},bn=function(Vn,jn,Dt){Vn===It&&bn(ze,jn,Dt),ae(Vn);var At=we(jn);return ae(Dt),P(re,At)?(Dt.enumerable?(P(Vn,zt)&&Vn[zt][At]&&(Vn[zt][At]=!1),Dt=pe(Dt,{enumerable:fe(0,!1)})):(P(Vn,zt)||mt(Vn,zt,fe(1,{})),Vn[zt][At]=!0),wn(Vn,At,Dt)):mt(Vn,At,Dt)},fn=function(Vn,jn){ae(Vn);var Dt=xe(jn),At=ie(Dt).concat(rn(Dt));return Vt(At,function(Oe){(!y||n(on,Dt,Oe))&&bn(Vn,Oe,Dt[Oe])}),Vn},on=function(Vn){var jn=we(Vn),Dt=n(Je,this,jn);return!(this===It&&P(re,jn)&&!P(ze,jn))&&(!(Dt||!P(this,jn)||!P(re,jn)||P(this,zt)&&this[zt][jn])||Dt)},tt=function(Vn,jn){var Dt=xe(Vn),At=we(jn);if(Dt!==It||!P(re,At)||P(ze,At)){var Oe=hn(Dt,At);return Oe&&P(re,At)&&!(P(Dt,zt)&&Dt[zt][At])&&(Oe.enumerable=!0),Oe}},xt=function(Vn){var jn=Ht(xe(Vn)),Dt=[];return Vt(jn,function(At){!P(re,At)&&!P(Jt,At)&&X(Dt,At)}),Dt},rn=function(Vn){var jn=Vn===It,Dt=Ht(jn?ze:xe(Vn)),At=[];return Vt(Dt,function(Oe){P(re,Oe)&&(!jn||P(It,Oe))&&X(At,re[Oe])}),At};if(M||(Be(Fe=(Bt=function(){if(se(Fe,this))throw it("Symbol is not a constructor");var Vn=arguments.length&&void 0!==arguments[0]?ke(arguments[0]):void 0,jn=wt(Vn),Dt=function(At){this===It&&n(Dt,ze,At),P(this,zt)&&P(this[zt],jn)&&(this[zt][jn]=!1),wn(this,jn,fe(1,At))};return y&&Zt&&wn(It,jn,{configurable:!0,set:Dt}),En(jn,Vn)})[xn],"toString",function(){return dn(this).tag}),Be(Bt,"withoutSetter",function(zn){return En(wt(zn),zn)}),ve.f=on,me.f=bn,Te.f=tt,ee.f=ye.f=xt,Ce.f=rn,Et.f=function(zn){return En(tn(zn),zn)},y&&(mt(Fe,"description",{configurable:!0,get:function(){return dn(this).description}}),f||Be(It,"propertyIsEnumerable",on,{unsafe:!0}))),E({global:!0,wrap:!0,forced:!M,sham:!M},{Symbol:Bt}),Vt(ie(yt),function(zn){sn(zn)}),E({target:$t,stat:!0,forced:!M},{for:function(zn){var Vn=ke(zn);if(P(Qe,Vn))return Qe[Vn];var jn=Bt(Vn);return Qe[Vn]=jn,Ct[jn]=Vn,jn},keyFor:function(Vn){if(!de(Vn))throw it(Vn+" is not a symbol");if(P(Ct,Vn))return Ct[Vn]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),E({target:"Object",stat:!0,forced:!M,sham:!y},{create:function(Vn,jn){return void 0===jn?pe(Vn):fn(pe(Vn),jn)},defineProperty:bn,defineProperties:fn,getOwnPropertyDescriptor:tt}),E({target:"Object",stat:!0,forced:!M},{getOwnPropertyNames:xt,getOwnPropertySymbols:rn}),E({target:"Object",stat:!0,forced:A(function(){Ce.f(1)})},{getOwnPropertySymbols:function(Vn){return Ce.f(Me(Vn))}}),ft&&E({target:"JSON",stat:!0,forced:!M||A(function(){var zn=Bt();return"[null]"!=ft([zn])||"{}"!=ft({a:zn})||"{}"!=ft(Object(zn))})},{stringify:function(Vn,jn,Dt){var At=Ze(arguments),Oe=jn;if((te(jn)||void 0!==Vn)&&!de(Vn))return B(jn)||(jn=function(je,We){if(ne(Oe)&&(We=n(Oe,this,je,We)),!de(We))return We}),At[1]=jn,e(ft,null,At)}}),!Fe[Kn]){var qn=Fe.valueOf;Be(Fe,Kn,function(zn){return n(qn,this)})}rt(Bt,$t),Jt[zt]=!0},16576:(F,U,_)=>{_(8254)("matchAll")},64485:(F,U,_)=>{_(8254)("match")},42053:(F,U,_)=>{_(8254)("replace")},96668:(F,U,_)=>{_(8254)("search")},54714:(F,U,_)=>{_(8254)("species")},20437:(F,U,_)=>{_(8254)("split")},11979:(F,U,_)=>{_(8254)("toPrimitive")},78559:(F,U,_)=>{_(8254)("toStringTag")},59450:(F,U,_)=>{_(8254)("unscopables")},82695:(F,U,_)=>{"use strict";var B,E=_(37516),o=_(45972),t=_(22239),e=_(48016),n=_(7448),s=_(39754),f=_(883),y=_(2577),M=_(90149).enforce,A=_(74381),P=!E.ActiveXObject&&"ActiveXObject"in E,ne=function(we){return function(){return we(this,arguments.length?arguments[0]:void 0)}},te=n("WeakMap",ne,s);if(A&&P){B=s.getConstructor(ne,"WeakMap",!0),e.enable();var se=te.prototype,de=o(se.delete),ae=o(se.has),Me=o(se.get),xe=o(se.set);t(se,{delete:function(we){if(f(we)&&!y(we)){var ke=M(this);return ke.frozen||(ke.frozen=new B),de(this,we)||ke.frozen.delete(we)}return de(this,we)},has:function(ke){if(f(ke)&&!y(ke)){var fe=M(this);return fe.frozen||(fe.frozen=new B),ae(this,ke)||fe.frozen.has(ke)}return ae(this,ke)},get:function(ke){if(f(ke)&&!y(ke)){var fe=M(this);return fe.frozen||(fe.frozen=new B),ae(this,ke)?Me(this,ke):fe.frozen.get(ke)}return Me(this,ke)},set:function(ke,fe){if(f(ke)&&!y(ke)){var pe=M(this);pe.frozen||(pe.frozen=new B),ae(this,ke)?xe(this,ke,fe):pe.frozen.set(ke,fe)}else xe(this,ke,fe);return this}})}},62373:(F,U,_)=>{_(52935)},18168:(F,U,_)=>{_(75077)},25831:(F,U,_)=>{_(83218)},73944:(F,U,_)=>{"use strict";var E=_(99253),o=_(2637),t=_(18429);E({target:"Promise",stat:!0},{try:function(e){var n=o.f(this),s=t(e);return(s.error?n.reject:n.resolve)(s.value),n.promise}})},42673:(F,U,_)=>{_(8254)("asyncDispose")},34286:(F,U,_)=>{_(8254)("dispose")},73695:(F,U,_)=>{_(8254)("matcher")},13990:(F,U,_)=>{_(8254)("metadata")},69181:(F,U,_)=>{_(8254)("observable")},11686:(F,U,_)=>{_(8254)("patternMatch")},84430:(F,U,_)=>{_(8254)("replaceAll")},10713:(F,U,_)=>{_(64741);var E=_(70808),o=_(37516),t=_(98330),e=_(6103),n=_(48626),f=_(63211)("toStringTag");for(var y in E){var M=o[y],A=M&&M.prototype;A&&t(A)!==f&&e(A,f,y),n[y]=n.Array}},37298:(F,U,_)=>{"use strict";_(64741);var E=_(99253),o=_(37516),t=_(73289),e=_(13868),n=_(45972),s=_(71665),f=_(46573),y=_(22239),M=_(65702),A=_(59571),P=_(90149),B=_(74528),ne=_(91699),te=_(7723),se=_(88509),de=_(98330),ae=_(22696),Me=_(883),xe=_(37299),we=_(73821),ke=_(42856),fe=_(13020),pe=_(62439),ie=_(63211),ee=_(95264),ye=ie("iterator"),Ce="URLSearchParams",Te=Ce+"Iterator",me=P.set,ve=P.getterFor(Ce),Ze=P.getterFor(Te),Be=t("fetch"),ot=t("Request"),Lt=t("Headers"),Jt=ot&&ot.prototype,wt=Lt&&Lt.prototype,tn=o.RegExp,Et=o.TypeError,sn=o.decodeURIComponent,rt=o.encodeURIComponent,at=n("".charAt),Vt=n([].join),zt=n([].push),$t=n("".replace),xn=n([].shift),Kn=n([].splice),Yn=n("".split),dn=n("".slice),It=/\+/g,Bt=Array(4),Fe=function(bn){return Bt[bn-1]||(Bt[bn-1]=tn("((?:%[\\da-f]{2}){"+bn+"})","gi"))},it=function(bn){try{return sn(bn)}catch(fn){return bn}},un=function(bn){var fn=$t(bn,It," "),Ut=4;try{return sn(fn)}catch(on){for(;Ut;)fn=$t(fn,Fe(Ut--),it);return fn}},ft=/[!'()~]|%20/g,hn={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},mt=function(bn){return hn[bn]},Ht=function(bn){return $t(rt(bn),ft,mt)},Je=function(bn,fn){if(fn)for(var tt,xt,Ut=Yn(fn,"&"),on=0;on<Ut.length;)(tt=Ut[on++]).length&&(xt=Yn(tt,"="),zt(bn,{key:un(xn(xt)),value:un(Vt(xt,"="))}))},X=function(bn){this.entries.length=0,Je(this.entries,bn)},re=function(bn,fn){if(bn<fn)throw Et("Not enough arguments")},ze=A(function(fn,Ut){me(this,{type:Te,iterator:fe(ve(fn).entries),kind:Ut})},"Iterator",function(){var fn=Ze(this),Ut=fn.kind,on=fn.iterator.next(),tt=on.value;return on.done||(on.value="keys"===Ut?tt.key:"values"===Ut?tt.value:[tt.key,tt.value]),on}),Qe=function(){B(this,Ct);var tt,xt,rn,Cn,qn,zn,Vn,jn,Dt,fn=arguments.length>0?arguments[0]:void 0,Ut=this,on=[];if(me(Ut,{type:Ce,entries:on,updateURL:function(){},updateSearchParams:X}),void 0!==fn)if(Me(fn))if(tt=pe(fn))for(rn=(xt=fe(fn,tt)).next;!(Cn=e(rn,xt)).done;){if(qn=fe(ae(Cn.value)),(Vn=e(zn=qn.next,qn)).done||(jn=e(zn,qn)).done||!e(zn,qn).done)throw Et("Expected sequence with length 2");zt(on,{key:xe(Vn.value),value:xe(jn.value)})}else for(Dt in fn)te(fn,Dt)&&zt(on,{key:Dt,value:xe(fn[Dt])});else Je(on,"string"==typeof fn?"?"===at(fn,0)?dn(fn,1):fn:xe(fn))},Ct=Qe.prototype;if(y(Ct,{append:function(fn,Ut){re(arguments.length,2);var on=ve(this);zt(on.entries,{key:xe(fn),value:xe(Ut)}),on.updateURL()},delete:function(bn){re(arguments.length,1);for(var fn=ve(this),Ut=fn.entries,on=xe(bn),tt=0;tt<Ut.length;)Ut[tt].key===on?Kn(Ut,tt,1):tt++;fn.updateURL()},get:function(fn){re(arguments.length,1);for(var Ut=ve(this).entries,on=xe(fn),tt=0;tt<Ut.length;tt++)if(Ut[tt].key===on)return Ut[tt].value;return null},getAll:function(fn){re(arguments.length,1);for(var Ut=ve(this).entries,on=xe(fn),tt=[],xt=0;xt<Ut.length;xt++)Ut[xt].key===on&&zt(tt,Ut[xt].value);return tt},has:function(fn){re(arguments.length,1);for(var Ut=ve(this).entries,on=xe(fn),tt=0;tt<Ut.length;)if(Ut[tt++].key===on)return!0;return!1},set:function(fn,Ut){re(arguments.length,1);for(var zn,on=ve(this),tt=on.entries,xt=!1,rn=xe(fn),Cn=xe(Ut),qn=0;qn<tt.length;qn++)(zn=tt[qn]).key===rn&&(xt?Kn(tt,qn--,1):(xt=!0,zn.value=Cn));xt||zt(tt,{key:rn,value:Cn}),on.updateURL()},sort:function(){var fn=ve(this);ee(fn.entries,function(Ut,on){return Ut.key>on.key?1:-1}),fn.updateURL()},forEach:function(fn){for(var xt,Ut=ve(this).entries,on=se(fn,arguments.length>1?arguments[1]:void 0),tt=0;tt<Ut.length;)on((xt=Ut[tt++]).value,xt.key,this)},keys:function(){return new ze(this,"keys")},values:function(){return new ze(this,"values")},entries:function(){return new ze(this,"entries")}},{enumerable:!0}),f(Ct,ye,Ct.entries,{name:"entries"}),f(Ct,"toString",function(){for(var tt,fn=ve(this).entries,Ut=[],on=0;on<fn.length;)tt=fn[on++],zt(Ut,Ht(tt.key)+"="+Ht(tt.value));return Vt(Ut,"&")},{enumerable:!0}),M(Qe,Ce),E({global:!0,forced:!s},{URLSearchParams:Qe}),!s&&ne(Lt)){var yt=n(wt.has),Zt=n(wt.set),wn=function(bn){if(Me(bn)){var Ut,fn=bn.body;if(de(fn)===Ce)return Ut=bn.headers?new Lt(bn.headers):new Lt,yt(Ut,"content-type")||Zt(Ut,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),we(bn,{body:ke(0,xe(fn)),headers:ke(0,Ut)})}return bn};if(ne(Be)&&E({global:!0,enumerable:!0,forced:!0},{fetch:function(fn){return Be(fn,arguments.length>1?wn(arguments[1]):{})}}),ne(ot)){var En=function(fn){return B(this,Jt),new ot(fn,arguments.length>1?wn(arguments[1]):{})};Jt.constructor=En,En.prototype=Jt,E({global:!0,forced:!0},{Request:En})}}F.exports={URLSearchParams:Qe,getState:ve}},96353:(F,U,_)=>{var E=_(23813);F.exports=E},18830:(F,U,_)=>{var E=_(89740);F.exports=E},76023:(F,U,_)=>{var E=_(34014);F.exports=E},88051:(F,U,_)=>{var E=_(47957);F.exports=E},92578:(F,U,_)=>{var E=_(48873);_(10713),F.exports=E},85671:(F,U,_)=>{var E=_(233);F.exports=E},60580:(F,U,_)=>{_(10713);var E=_(98330),o=_(7723),t=_(28833),e=_(76023),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};F.exports=function(f){var y=f.entries;return f===n||t(n,f)&&y===n.entries||o(s,E(f))?e:y}},26271:(F,U,_)=>{var E=_(32263);F.exports=E},82237:(F,U,_)=>{var E=_(81754);F.exports=E},6506:(F,U,_)=>{_(10713);var E=_(98330),o=_(7723),t=_(28833),e=_(88051),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};F.exports=function(f){var y=f.forEach;return f===n||t(n,f)&&y===n.forEach||o(s,E(f))?e:y}},26944:(F,U,_)=>{var E=_(46397);F.exports=E},28532:(F,U,_)=>{var E=_(88699);F.exports=E},3245:(F,U,_)=>{var E=_(24454);F.exports=E},34123:(F,U,_)=>{var E=_(18422);F.exports=E},43264:(F,U,_)=>{var E=_(13807);F.exports=E},75991:(F,U,_)=>{var E=_(13194);F.exports=E},65155:(F,U,_)=>{var E=_(20573);F.exports=E},80301:(F,U,_)=>{var E=_(49483);F.exports=E},62217:(F,U,_)=>{var E=_(12171);F.exports=E},14893:(F,U,_)=>{var E=_(39469);F.exports=E},81145:(F,U,_)=>{var E=_(24911);F.exports=E},52572:(F,U,_)=>{var E=_(942);F.exports=E},17608:(F,U,_)=>{var E=_(46592);F.exports=E},27567:(F,U,_)=>{var E=_(51594);F.exports=E},158:(F,U,_)=>{var E=_(87079);F.exports=E},27620:(F,U,_)=>{var E=_(42654);_(10713),F.exports=E},75743:(F,U,_)=>{var E=_(59366);_(10713),F.exports=E},40359:(F,U,_)=>{var E=_(48926);_(10713),F.exports=E},37254:(F,U,_)=>{var E=_(34271);_(10713),F.exports=E},30770:(F,U,_)=>{var E=_(1796);_(10713),F.exports=E},34271:(F,U,_)=>{_(37298);var E=_(83271);F.exports=E.URLSearchParams},9874:function(){var F;F="undefined"!=typeof self?self:this,function(_){var E_searchParams="URLSearchParams"in F,E_iterable="Symbol"in F&&"iterator"in Symbol,E_blob="FileReader"in F&&"Blob"in F&&function(){try{return new Blob,!0}catch(ie){return!1}}(),E_formData="FormData"in F,E_arrayBuffer="ArrayBuffer"in F;if(E_arrayBuffer)var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],e=ArrayBuffer.isView||function(ie){return ie&&t.indexOf(Object.prototype.toString.call(ie))>-1};function n(ie){if("string"!=typeof ie&&(ie=String(ie)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ie))throw new TypeError("Invalid character in header field name");return ie.toLowerCase()}function s(ie){return"string"!=typeof ie&&(ie=String(ie)),ie}function f(ie){var ee={next:function(){var ye=ie.shift();return{done:void 0===ye,value:ye}}};return E_iterable&&(ee[Symbol.iterator]=function(){return ee}),ee}function y(ie){this.map={},ie instanceof y?ie.forEach(function(ee,ye){this.append(ye,ee)},this):Array.isArray(ie)?ie.forEach(function(ee){this.append(ee[0],ee[1])},this):ie&&Object.getOwnPropertyNames(ie).forEach(function(ee){this.append(ee,ie[ee])},this)}function M(ie){if(ie.bodyUsed)return Promise.reject(new TypeError("Already read"));ie.bodyUsed=!0}function A(ie){return new Promise(function(ee,ye){ie.onload=function(){ee(ie.result)},ie.onerror=function(){ye(ie.error)}})}function P(ie){var ee=new FileReader,ye=A(ee);return ee.readAsArrayBuffer(ie),ye}function te(ie){if(ie.slice)return ie.slice(0);var ee=new Uint8Array(ie.byteLength);return ee.set(new Uint8Array(ie)),ee.buffer}function se(){return this.bodyUsed=!1,this._initBody=function(ie){this._bodyInit=ie,ie?"string"==typeof ie?this._bodyText=ie:E_blob&&Blob.prototype.isPrototypeOf(ie)?this._bodyBlob=ie:E_formData&&FormData.prototype.isPrototypeOf(ie)?this._bodyFormData=ie:E_searchParams&&URLSearchParams.prototype.isPrototypeOf(ie)?this._bodyText=ie.toString():E_arrayBuffer&&E_blob&&function(ie){return ie&&DataView.prototype.isPrototypeOf(ie)}(ie)?(this._bodyArrayBuffer=te(ie.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):E_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ie)||e(ie))?this._bodyArrayBuffer=te(ie):this._bodyText=ie=Object.prototype.toString.call(ie):this._bodyText="",this.headers.get("content-type")||("string"==typeof ie?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):E_searchParams&&URLSearchParams.prototype.isPrototypeOf(ie)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},E_blob&&(this.blob=function(){var ie=M(this);if(ie)return ie;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?M(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var ie=M(this);if(ie)return ie;if(this._bodyBlob)return function(ie){var ee=new FileReader,ye=A(ee);return ee.readAsText(ie),ye}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(ie){for(var ee=new Uint8Array(ie),ye=new Array(ee.length),Ce=0;Ce<ee.length;Ce++)ye[Ce]=String.fromCharCode(ee[Ce]);return ye.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},E_formData&&(this.formData=function(){return this.text().then(xe)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(ie,ee){ie=n(ie),ee=s(ee);var ye=this.map[ie];this.map[ie]=ye?ye+", "+ee:ee},y.prototype.delete=function(ie){delete this.map[n(ie)]},y.prototype.get=function(ie){return ie=n(ie),this.has(ie)?this.map[ie]:null},y.prototype.has=function(ie){return this.map.hasOwnProperty(n(ie))},y.prototype.set=function(ie,ee){this.map[n(ie)]=s(ee)},y.prototype.forEach=function(ie,ee){for(var ye in this.map)this.map.hasOwnProperty(ye)&&ie.call(ee,this.map[ye],ye,this)},y.prototype.keys=function(){var ie=[];return this.forEach(function(ee,ye){ie.push(ye)}),f(ie)},y.prototype.values=function(){var ie=[];return this.forEach(function(ee){ie.push(ee)}),f(ie)},y.prototype.entries=function(){var ie=[];return this.forEach(function(ee,ye){ie.push([ye,ee])}),f(ie)},E_iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);var de=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Me(ie,ee){var ye=(ee=ee||{}).body;if(ie instanceof Me){if(ie.bodyUsed)throw new TypeError("Already read");this.url=ie.url,this.credentials=ie.credentials,ee.headers||(this.headers=new y(ie.headers)),this.method=ie.method,this.mode=ie.mode,this.signal=ie.signal,!ye&&null!=ie._bodyInit&&(ye=ie._bodyInit,ie.bodyUsed=!0)}else this.url=String(ie);if(this.credentials=ee.credentials||this.credentials||"same-origin",(ee.headers||!this.headers)&&(this.headers=new y(ee.headers)),this.method=function(ie){var ee=ie.toUpperCase();return de.indexOf(ee)>-1?ee:ie}(ee.method||this.method||"GET"),this.mode=ee.mode||this.mode||null,this.signal=ee.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&ye)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ye)}function xe(ie){var ee=new FormData;return ie.trim().split("&").forEach(function(ye){if(ye){var Ce=ye.split("="),Te=Ce.shift().replace(/\+/g," "),me=Ce.join("=").replace(/\+/g," ");ee.append(decodeURIComponent(Te),decodeURIComponent(me))}}),ee}function we(ie){var ee=new y;return ie.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ce){var Te=Ce.split(":"),me=Te.shift().trim();if(me){var ve=Te.join(":").trim();ee.append(me,ve)}}),ee}function ke(ie,ee){ee||(ee={}),this.type="default",this.status=void 0===ee.status?200:ee.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ee?ee.statusText:"OK",this.headers=new y(ee.headers),this.url=ee.url||"",this._initBody(ie)}Me.prototype.clone=function(){return new Me(this,{body:this._bodyInit})},se.call(Me.prototype),se.call(ke.prototype),ke.prototype.clone=function(){return new ke(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},ke.error=function(){var ie=new ke(null,{status:0,statusText:""});return ie.type="error",ie};var fe=[301,302,303,307,308];ke.redirect=function(ie,ee){if(-1===fe.indexOf(ee))throw new RangeError("Invalid status code");return new ke(null,{status:ee,headers:{location:ie}})},_.DOMException=F.DOMException;try{new _.DOMException}catch(ie){_.DOMException=function(ee,ye){this.message=ee,this.name=ye;var Ce=Error(ee);this.stack=Ce.stack},_.DOMException.prototype=Object.create(Error.prototype),_.DOMException.prototype.constructor=_.DOMException}function pe(ie,ee){return new Promise(function(ye,Ce){var Te=new Me(ie,ee);if(Te.signal&&Te.signal.aborted)return Ce(new _.DOMException("Aborted","AbortError"));var me=new XMLHttpRequest;function ve(){me.abort()}me.onload=function(){var Ze={status:me.status,statusText:me.statusText,headers:we(me.getAllResponseHeaders()||"")};Ze.url="responseURL"in me?me.responseURL:Ze.headers.get("X-Request-URL"),ye(new ke("response"in me?me.response:me.responseText,Ze))},me.onerror=function(){Ce(new TypeError("Network request failed"))},me.ontimeout=function(){Ce(new TypeError("Network request failed"))},me.onabort=function(){Ce(new _.DOMException("Aborted","AbortError"))},me.open(Te.method,Te.url,!0),"include"===Te.credentials?me.withCredentials=!0:"omit"===Te.credentials&&(me.withCredentials=!1),"responseType"in me&&E_blob&&(me.responseType="blob"),Te.headers.forEach(function(Ze,Be){me.setRequestHeader(Be,Ze)}),Te.signal&&(Te.signal.addEventListener("abort",ve),me.onreadystatechange=function(){4===me.readyState&&Te.signal.removeEventListener("abort",ve)}),me.send(void 0===Te._bodyInit?null:Te._bodyInit)})}pe.polyfill=!0,F.fetch||(F.fetch=pe,F.Headers=y,F.Request=Me,F.Response=ke),_.Headers=y,_.Request=Me,_.Response=ke,_.fetch=pe,Object.defineProperty(_,"__esModule",{value:!0})}({})},80915:F=>{"use strict";function U(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp}function _(e){if(e instanceof Buffer){var n=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);return e.copy(n),n}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}function E(e){var n=[];return e.forEach(function(s,f){n[f]="object"==typeof s&&null!==s?Array.isArray(s)?E(s):U(s)?_(s):t({},s):s}),n}function o(e,n){return"__proto__"===n?void 0:e[n]}var t=F.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var s,f,e=arguments[0],n=Array.prototype.slice.call(arguments,1);return n.forEach(function(M){"object"!=typeof M||null===M||Array.isArray(M)||Object.keys(M).forEach(function(A){if(f=o(e,A),(s=o(M,A))!==e)return"object"!=typeof s||null===s?void(e[A]=s):Array.isArray(s)?void(e[A]=E(s)):U(s)?void(e[A]=_(s)):"object"!=typeof f||null===f||Array.isArray(f)?void(e[A]=t({},s)):void(e[A]=t(f,s))})}),e}},74694:function(F,U){var _,o;void 0!==(o="function"==typeof(_=function(){"use strict";function e(A,P,B){var ne=new XMLHttpRequest;ne.open("GET",A),ne.responseType="blob",ne.onload=function(){M(ne.response,P,B)},ne.onerror=function(){console.error("could not download file")},ne.send()}function n(A){var P=new XMLHttpRequest;P.open("HEAD",A,!1);try{P.send()}catch(B){}return 200<=P.status&&299>=P.status}function s(A){try{A.dispatchEvent(new MouseEvent("click"))}catch(B){var P=document.createEvent("MouseEvents");P.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(P)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,y=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),M=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!y?function(A,P,B){var ne=f.URL||f.webkitURL,te=document.createElement("a");te.download=P=P||A.name||"download",te.rel="noopener","string"==typeof A?(te.href=A,te.origin===location.origin?s(te):n(te.href)?e(A,P,B):s(te,te.target="_blank")):(te.href=ne.createObjectURL(A),setTimeout(function(){ne.revokeObjectURL(te.href)},4e4),setTimeout(function(){s(te)},0))}:"msSaveOrOpenBlob"in navigator?function(A,P,B){if(P=P||A.name||"download","string"!=typeof A)navigator.msSaveOrOpenBlob(function(A,P){return void 0===P?P={autoBom:!1}:"object"!=typeof P&&(console.warn("Deprecated: Expected third argument to be a object"),P={autoBom:!P}),P.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\ufeff",A],{type:A.type}):A}(A,B),P);else if(n(A))e(A,P,B);else{var ne=document.createElement("a");ne.href=A,ne.target="_blank",setTimeout(function(){s(ne)})}}:function(A,P,B,ne){if((ne=ne||open("","_blank"))&&(ne.document.title=ne.document.body.innerText="downloading..."),"string"==typeof A)return e(A,P,B);var te="application/octet-stream"===A.type,se=/constructor/i.test(f.HTMLElement)||f.safari,de=/CriOS\/[\d]+/.test(navigator.userAgent);if((de||te&&se||y)&&"undefined"!=typeof FileReader){var ae=new FileReader;ae.onloadend=function(){var we=ae.result;we=de?we:we.replace(/^data:[^;]*;/,"data:attachment/file;"),ne?ne.location.href=we:location=we,ne=null},ae.readAsDataURL(A)}else{var Me=f.URL||f.webkitURL,xe=Me.createObjectURL(A);ne?ne.location=xe:location.href=xe,ne=null,setTimeout(function(){Me.revokeObjectURL(xe)},4e4)}});f.saveAs=M.saveAs=M,F.exports=M})?_.apply(U,[]):_)&&(F.exports=o)},51359:F=>{"use strict";var U="Function.prototype.bind called on incompatible ",_=Array.prototype.slice,E=Object.prototype.toString,o="[object Function]";F.exports=function(e){var n=this;if("function"!=typeof n||E.call(n)!==o)throw new TypeError(U+n);for(var f,s=_.call(arguments,1),y=function(){if(this instanceof f){var ne=n.apply(this,s.concat(_.call(arguments)));return Object(ne)===ne?ne:this}return n.apply(e,s.concat(_.call(arguments)))},M=Math.max(0,n.length-s.length),A=[],P=0;P<M;P++)A.push("$"+P);if(f=Function("binder","return function ("+A.join(",")+"){ return binder.apply(this,arguments); }")(y),n.prototype){var B=function(){};B.prototype=n.prototype,f.prototype=new B,B.prototype=null}return f}},21857:(F,U,_)=>{"use strict";var E=_(51359);F.exports=Function.prototype.bind||E},93602:(F,U,_)=>{"use strict";var E,o=SyntaxError,t=Function,e=TypeError,n=function(ye){try{return t('"use strict"; return ('+ye+").constructor;")()}catch(Ce){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(ye){s=null}var f=function(){throw new e},y=s?function(){try{return f}catch(ye){try{return s(arguments,"callee").get}catch(Ce){return f}}}():f,M=_(33715)(),A=Object.getPrototypeOf||function(ye){return ye.__proto__},P={},B="undefined"==typeof Uint8Array?E:A(Uint8Array),ne={"%AggregateError%":"undefined"==typeof AggregateError?E:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?E:ArrayBuffer,"%ArrayIteratorPrototype%":M?A([][Symbol.iterator]()):E,"%AsyncFromSyncIteratorPrototype%":E,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":"undefined"==typeof Atomics?E:Atomics,"%BigInt%":"undefined"==typeof BigInt?E:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?E:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?E:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?E:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?E:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":P,"%Int8Array%":"undefined"==typeof Int8Array?E:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?E:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?E:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M?A(A([][Symbol.iterator]())):E,"%JSON%":"object"==typeof JSON?JSON:E,"%Map%":"undefined"==typeof Map?E:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&M?A((new Map)[Symbol.iterator]()):E,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?E:Promise,"%Proxy%":"undefined"==typeof Proxy?E:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?E:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?E:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&M?A((new Set)[Symbol.iterator]()):E,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?E:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M?A(""[Symbol.iterator]()):E,"%Symbol%":M?Symbol:E,"%SyntaxError%":o,"%ThrowTypeError%":y,"%TypedArray%":B,"%TypeError%":e,"%Uint8Array%":"undefined"==typeof Uint8Array?E:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?E:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?E:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?E:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?E:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?E:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?E:WeakSet},te=function ye(Ce){var Te;if("%AsyncFunction%"===Ce)Te=n("async function () {}");else if("%GeneratorFunction%"===Ce)Te=n("function* () {}");else if("%AsyncGeneratorFunction%"===Ce)Te=n("async function* () {}");else if("%AsyncGenerator%"===Ce){var me=ye("%AsyncGeneratorFunction%");me&&(Te=me.prototype)}else if("%AsyncIteratorPrototype%"===Ce){var ve=ye("%AsyncGenerator%");ve&&(Te=A(ve.prototype))}return ne[Ce]=Te,Te},se={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=_(21857),ae=_(26761),Me=de.call(Function.call,Array.prototype.concat),xe=de.call(Function.apply,Array.prototype.splice),we=de.call(Function.call,String.prototype.replace),ke=de.call(Function.call,String.prototype.slice),fe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pe=/\\(\\)?/g,ie=function(Ce){var Te=ke(Ce,0,1),me=ke(Ce,-1);if("%"===Te&&"%"!==me)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===me&&"%"!==Te)throw new o("invalid intrinsic syntax, expected opening `%`");var ve=[];return we(Ce,fe,function(Ze,Be,ot,Lt){ve[ve.length]=ot?we(Lt,pe,"$1"):Be||Ze}),ve},ee=function(Ce,Te){var ve,me=Ce;if(ae(se,me)&&(me="%"+(ve=se[me])[0]+"%"),ae(ne,me)){var Ze=ne[me];if(Ze===P&&(Ze=te(me)),void 0===Ze&&!Te)throw new e("intrinsic "+Ce+" exists, but is not available. Please file an issue!");return{alias:ve,name:me,value:Ze}}throw new o("intrinsic "+Ce+" does not exist!")};F.exports=function(Ce,Te){if("string"!=typeof Ce||0===Ce.length)throw new e("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Te)throw new e('"allowMissing" argument must be a boolean');var me=ie(Ce),ve=me.length>0?me[0]:"",Ze=ee("%"+ve+"%",Te),Be=Ze.name,ot=Ze.value,Lt=!1,Jt=Ze.alias;Jt&&(ve=Jt[0],xe(me,Me([0,1],Jt)));for(var wt=1,tn=!0;wt<me.length;wt+=1){var Et=me[wt],sn=ke(Et,0,1),rt=ke(Et,-1);if(('"'===sn||"'"===sn||"`"===sn||'"'===rt||"'"===rt||"`"===rt)&&sn!==rt)throw new o("property names with quotes must have matching quotes");if(("constructor"===Et||!tn)&&(Lt=!0),ae(ne,Be="%"+(ve+="."+Et)+"%"))ot=ne[Be];else if(null!=ot){if(!(Et in ot)){if(!Te)throw new e("base intrinsic for "+Ce+" exists, but the property is not available.");return}if(s&&wt+1>=me.length){var at=s(ot,Et);ot=(tn=!!at)&&"get"in at&&!("originalValue"in at.get)?at.get:ot[Et]}else tn=ae(ot,Et),ot=ot[Et];tn&&!Lt&&(ne[Be]=ot)}}return ot}},33715:(F,U,_)=>{"use strict";var E="undefined"!=typeof Symbol&&Symbol,o=_(26069);F.exports=function(){return"function"==typeof E&&"function"==typeof Symbol&&"symbol"==typeof E("foo")&&"symbol"==typeof Symbol("bar")&&o()}},26069:F=>{"use strict";F.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var _={},E=Symbol("test"),o=Object(E);if("string"==typeof E||"[object Symbol]"!==Object.prototype.toString.call(E)||"[object Symbol]"!==Object.prototype.toString.call(o))return!1;for(E in _[E]=42,_)return!1;if("function"==typeof Object.keys&&0!==Object.keys(_).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(_).length)return!1;var e=Object.getOwnPropertySymbols(_);if(1!==e.length||e[0]!==E||!Object.prototype.propertyIsEnumerable.call(_,E))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(_,E);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},26761:(F,U,_)=>{"use strict";var E=_(21857);F.exports=E.call(Function.call,Object.prototype.hasOwnProperty)},19556:F=>{var tt,_="__lodash_hash_undefined__",E=1/0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,f=/^\./,y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,P=/^\[object .+?Constructor\]$/,B="object"==typeof global&&global&&global.Object===Object&&global,ne="object"==typeof self&&self&&self.Object===Object&&self,te=B||ne||Function("return this")(),ae=Array.prototype,Me=Function.prototype,xe=Object.prototype,we=te["__core-js_shared__"],ke=(tt=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+tt:"",fe=Me.toString,pe=xe.hasOwnProperty,ie=xe.toString,ee=RegExp("^"+fe.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=te.Symbol,Ce=ae.splice,Te=mt(te,"Map"),me=mt(Object,"create"),ve=ye?ye.prototype:void 0,Ze=ve?ve.toString:void 0;function Be(tt){var xt=-1,rn=tt?tt.length:0;for(this.clear();++xt<rn;){var Cn=tt[xt];this.set(Cn[0],Cn[1])}}function Et(tt){var xt=-1,rn=tt?tt.length:0;for(this.clear();++xt<rn;){var Cn=tt[xt];this.set(Cn[0],Cn[1])}}function $t(tt){var xt=-1,rn=tt?tt.length:0;for(this.clear();++xt<rn;){var Cn=tt[xt];this.set(Cn[0],Cn[1])}}function Bt(tt,xt){for(var rn=tt.length;rn--;)if(yt(tt[rn][0],xt))return rn;return-1}function hn(tt,xt){var rn=tt.__data__;return function(tt){var xt=typeof tt;return"string"==xt||"number"==xt||"symbol"==xt||"boolean"==xt?"__proto__"!==tt:null===tt}(xt)?rn["string"==typeof xt?"string":"hash"]:rn.map}function mt(tt,xt){var rn=function(tt,xt){return null==tt?void 0:tt[xt]}(tt,xt);return function(tt){return!(!En(tt)||function(tt){return!!ke&&ke in tt}(tt))&&(function(tt){var xt=En(tt)?ie.call(tt):"";return"[object Function]"==xt||"[object GeneratorFunction]"==xt}(tt)||function(tt){var xt=!1;if(null!=tt&&"function"!=typeof tt.toString)try{xt=!!(tt+"")}catch(rn){}return xt}(tt)?ee:P).test(function(tt){if(null!=tt){try{return fe.call(tt)}catch(xt){}try{return tt+""}catch(xt){}}return""}(tt))}(rn)?rn:void 0}Be.prototype.clear=function(){this.__data__=me?me(null):{}},Be.prototype.delete=function(tt){return this.has(tt)&&delete this.__data__[tt]},Be.prototype.get=function(tt){var xt=this.__data__;if(me){var rn=xt[tt];return rn===_?void 0:rn}return pe.call(xt,tt)?xt[tt]:void 0},Be.prototype.has=function(tt){var xt=this.__data__;return me?void 0!==xt[tt]:pe.call(xt,tt)},Be.prototype.set=function(tt,xt){return this.__data__[tt]=me&&void 0===xt?_:xt,this},Et.prototype.clear=function(){this.__data__=[]},Et.prototype.delete=function(tt){var xt=this.__data__,rn=Bt(xt,tt);return!(rn<0||(rn==xt.length-1?xt.pop():Ce.call(xt,rn,1),0))},Et.prototype.get=function(tt){var xt=this.__data__,rn=Bt(xt,tt);return rn<0?void 0:xt[rn][1]},Et.prototype.has=function(tt){return Bt(this.__data__,tt)>-1},Et.prototype.set=function(tt,xt){var rn=this.__data__,Cn=Bt(rn,tt);return Cn<0?rn.push([tt,xt]):rn[Cn][1]=xt,this},$t.prototype.clear=function(){this.__data__={hash:new Be,map:new(Te||Et),string:new Be}},$t.prototype.delete=function(tt){return hn(this,tt).delete(tt)},$t.prototype.get=function(tt){return hn(this,tt).get(tt)},$t.prototype.has=function(tt){return hn(this,tt).has(tt)},$t.prototype.set=function(tt,xt){return hn(this,tt).set(tt,xt),this};var re=Ct(function(tt){tt=function(tt){return null==tt?"":function(tt){if("string"==typeof tt)return tt;if(fn(tt))return Ze?Ze.call(tt):"";var xt=tt+"";return"0"==xt&&1/tt==-E?"-0":xt}(tt)}(tt);var xt=[];return f.test(tt)&&xt.push(""),tt.replace(y,function(rn,Cn,qn,zn){xt.push(qn?zn.replace(A,"$1"):Cn||rn)}),xt});function ze(tt){if("string"==typeof tt||fn(tt))return tt;var xt=tt+"";return"0"==xt&&1/tt==-E?"-0":xt}function Ct(tt,xt){if("function"!=typeof tt||xt&&"function"!=typeof xt)throw new TypeError("Expected a function");var rn=function(){var Cn=arguments,qn=xt?xt.apply(this,Cn):Cn[0],zn=rn.cache;if(zn.has(qn))return zn.get(qn);var Vn=tt.apply(this,Cn);return rn.cache=zn.set(qn,Vn),Vn};return rn.cache=new(Ct.Cache||$t),rn}function yt(tt,xt){return tt===xt||tt!=tt&&xt!=xt}Ct.Cache=$t;var Zt=Array.isArray;function En(tt){var xt=typeof tt;return!!tt&&("object"==xt||"function"==xt)}function fn(tt){return"symbol"==typeof tt||function(tt){return!!tt&&"object"==typeof tt}(tt)&&"[object Symbol]"==ie.call(tt)}F.exports=function(tt,xt,rn){var Cn=null==tt?void 0:function(tt,xt){xt=function(tt,xt){if(Zt(tt))return!1;var rn=typeof tt;return!("number"!=rn&&"symbol"!=rn&&"boolean"!=rn&&null!=tt&&!fn(tt))||s.test(tt)||!n.test(tt)||null!=xt&&tt in Object(xt)}(xt,tt)?[xt]:function(tt){return Zt(tt)?tt:re(tt)}(xt);for(var rn=0,Cn=xt.length;null!=tt&&rn<Cn;)tt=tt[ze(xt[rn++])];return rn&&rn==Cn?tt:void 0}(tt,xt);return void 0===Cn?rn:Cn}},78452:(F,U,_)=>{var t=_(87078)(_(37684),"DataView");F.exports=t},17434:(F,U,_)=>{var E=_(1930),o=_(10868),t=_(40640),e=_(22811),n=_(31628);function s(f){var y=-1,M=null==f?0:f.length;for(this.clear();++y<M;){var A=f[y];this.set(A[0],A[1])}}s.prototype.clear=E,s.prototype.delete=o,s.prototype.get=t,s.prototype.has=e,s.prototype.set=n,F.exports=s},60748:(F,U,_)=>{var E=_(56154),o=_(49232),t=_(58847),e=_(64703),n=_(43807);function s(f){var y=-1,M=null==f?0:f.length;for(this.clear();++y<M;){var A=f[y];this.set(A[0],A[1])}}s.prototype.clear=E,s.prototype.delete=o,s.prototype.get=t,s.prototype.has=e,s.prototype.set=n,F.exports=s},15873:(F,U,_)=>{var t=_(87078)(_(37684),"Map");F.exports=t},37718:(F,U,_)=>{var E=_(11521),o=_(83019),t=_(37392),e=_(51062),n=_(35655);function s(f){var y=-1,M=null==f?0:f.length;for(this.clear();++y<M;){var A=f[y];this.set(A[0],A[1])}}s.prototype.clear=E,s.prototype.delete=o,s.prototype.get=t,s.prototype.has=e,s.prototype.set=n,F.exports=s},98680:(F,U,_)=>{var t=_(87078)(_(37684),"Promise");F.exports=t},31415:(F,U,_)=>{var t=_(87078)(_(37684),"Set");F.exports=t},93112:(F,U,_)=>{var E=_(60748),o=_(77219),t=_(68027),e=_(95307),n=_(38127),s=_(18732);function f(y){var M=this.__data__=new E(y);this.size=M.size}f.prototype.clear=o,f.prototype.delete=t,f.prototype.get=e,f.prototype.has=n,f.prototype.set=s,F.exports=f},17135:(F,U,_)=>{var E=_(37684);F.exports=E.Symbol},9456:(F,U,_)=>{var E=_(37684);F.exports=E.Uint8Array},86230:(F,U,_)=>{var t=_(87078)(_(37684),"WeakMap");F.exports=t},57963:F=>{F.exports=function(_,E){for(var o=-1,t=null==_?0:_.length;++o<t&&!1!==E(_[o],o,_););return _}},29736:F=>{F.exports=function(_,E){for(var o=-1,t=null==_?0:_.length,e=0,n=[];++o<t;){var s=_[o];E(s,o,_)&&(n[e++]=s)}return n}},87293:(F,U,_)=>{var E=_(92963),o=_(15034),t=_(81123),e=_(28924),n=_(75398),s=_(39058),y=Object.prototype.hasOwnProperty;F.exports=function(A,P){var B=t(A),ne=!B&&o(A),te=!B&&!ne&&e(A),se=!B&&!ne&&!te&&s(A),de=B||ne||te||se,ae=de?E(A.length,String):[],Me=ae.length;for(var xe in A)(P||y.call(A,xe))&&(!de||!("length"==xe||te&&("offset"==xe||"parent"==xe)||se&&("buffer"==xe||"byteLength"==xe||"byteOffset"==xe)||n(xe,Me)))&&ae.push(xe);return ae}},56041:F=>{F.exports=function(_,E){for(var o=-1,t=null==_?0:_.length,e=Array(t);++o<t;)e[o]=E(_[o],o,_);return e}},33855:F=>{F.exports=function(_,E){for(var o=-1,t=E.length,e=_.length;++o<t;)_[e+o]=E[o];return _}},84805:(F,U,_)=>{var E=_(91649),o=_(43170),e=Object.prototype.hasOwnProperty;F.exports=function(s,f,y){var M=s[f];(!e.call(s,f)||!o(M,y)||void 0===y&&!(f in s))&&E(s,f,y)}},30662:(F,U,_)=>{var E=_(43170);F.exports=function(t,e){for(var n=t.length;n--;)if(E(t[n][0],e))return n;return-1}},43772:(F,U,_)=>{var E=_(45309),o=_(32863);F.exports=function(e,n){return e&&E(n,o(n),e)}},97741:(F,U,_)=>{var E=_(45309),o=_(28640);F.exports=function(e,n){return e&&E(n,o(n),e)}},91649:(F,U,_)=>{var E=_(49923);F.exports=function(t,e,n){"__proto__"==e&&E?E(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},82482:(F,U,_)=>{var E=_(93112),o=_(57963),t=_(84805),e=_(43772),n=_(97741),s=_(31869),f=_(70119),y=_(4504),M=_(78127),A=_(34024),P=_(16269),B=_(1395),ne=_(67019),te=_(88479),se=_(5291),de=_(81123),ae=_(28924),Me=_(10501),xe=_(4471),we=_(87858),ke=_(32863),fe=_(28640),ye="[object Arguments]",Ze="[object Function]",Jt="[object Object]",it={};it[ye]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object DataView]"]=it["[object Boolean]"]=it["[object Date]"]=it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Map]"]=it["[object Number]"]=it[Jt]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object Symbol]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Error]"]=it[Ze]=it["[object WeakMap]"]=!1,F.exports=function un(ft,hn,mt,Ht,Je,X){var re,ze=1&hn,Qe=2&hn,Ct=4&hn;if(mt&&(re=Je?mt(ft,Ht,Je,X):mt(ft)),void 0!==re)return re;if(!xe(ft))return ft;var yt=de(ft);if(yt){if(re=ne(ft),!ze)return f(ft,re)}else{var Zt=B(ft),wn=Zt==Ze||"[object GeneratorFunction]"==Zt;if(ae(ft))return s(ft,ze);if(Zt==Jt||Zt==ye||wn&&!Je){if(re=Qe||wn?{}:se(ft),!ze)return Qe?M(ft,n(re,ft)):y(ft,e(re,ft))}else{if(!it[Zt])return Je?ft:{};re=te(ft,Zt,ze)}}X||(X=new E);var En=X.get(ft);if(En)return En;X.set(ft,re),we(ft)?ft.forEach(function(Ut){re.add(un(Ut,hn,mt,Ut,ft,X))}):Me(ft)&&ft.forEach(function(Ut,on){re.set(on,un(Ut,hn,mt,on,ft,X))});var fn=yt?void 0:(Ct?Qe?P:A:Qe?fe:ke)(ft);return o(fn||ft,function(Ut,on){fn&&(Ut=ft[on=Ut]),t(re,on,un(Ut,hn,mt,on,ft,X))}),re}},5563:(F,U,_)=>{var E=_(4471),o=Object.create,t=function(){function e(){}return function(n){if(!E(n))return{};if(o)return o(n);e.prototype=n;var s=new e;return e.prototype=void 0,s}}();F.exports=t},36432:(F,U,_)=>{var E=_(54021),o=_(31017);F.exports=function(e,n){for(var s=0,f=(n=E(n,e)).length;null!=e&&s<f;)e=e[o(n[s++])];return s&&s==f?e:void 0}},82184:(F,U,_)=>{var E=_(33855),o=_(81123);F.exports=function(e,n,s){var f=n(e);return o(e)?f:E(f,s(e))}},77909:(F,U,_)=>{var E=_(17135),o=_(45222),t=_(48097),s=E?E.toStringTag:void 0;F.exports=function(y){return null==y?void 0===y?"[object Undefined]":"[object Null]":s&&s in Object(y)?o(y):t(y)}},43689:(F,U,_)=>{var E=_(77909),o=_(37409);F.exports=function(n){return o(n)&&"[object Arguments]"==E(n)}},80916:(F,U,_)=>{var E=_(1395),o=_(37409);F.exports=function(n){return o(n)&&"[object Map]"==E(n)}},49915:(F,U,_)=>{var E=_(88939),o=_(60862),t=_(4471),e=_(70753),s=/^\[object .+?Constructor\]$/,P=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");F.exports=function(ne){return!(!t(ne)||o(ne))&&(E(ne)?P:s).test(e(ne))}},15229:(F,U,_)=>{var E=_(1395),o=_(37409);F.exports=function(n){return o(n)&&"[object Set]"==E(n)}},8596:(F,U,_)=>{var E=_(77909),o=_(24282),t=_(37409),Te={};Te["[object Float32Array]"]=Te["[object Float64Array]"]=Te["[object Int8Array]"]=Te["[object Int16Array]"]=Te["[object Int32Array]"]=Te["[object Uint8Array]"]=Te["[object Uint8ClampedArray]"]=Te["[object Uint16Array]"]=Te["[object Uint32Array]"]=!0,Te["[object Arguments]"]=Te["[object Array]"]=Te["[object ArrayBuffer]"]=Te["[object Boolean]"]=Te["[object DataView]"]=Te["[object Date]"]=Te["[object Error]"]=Te["[object Function]"]=Te["[object Map]"]=Te["[object Number]"]=Te["[object Object]"]=Te["[object RegExp]"]=Te["[object Set]"]=Te["[object String]"]=Te["[object WeakMap]"]=!1,F.exports=function(ve){return t(ve)&&o(ve.length)&&!!Te[E(ve)]}},57626:(F,U,_)=>{var E=_(43516),o=_(10863),e=Object.prototype.hasOwnProperty;F.exports=function(s){if(!E(s))return o(s);var f=[];for(var y in Object(s))e.call(s,y)&&"constructor"!=y&&f.push(y);return f}},50899:(F,U,_)=>{var E=_(4471),o=_(43516),t=_(46183),n=Object.prototype.hasOwnProperty;F.exports=function(f){if(!E(f))return t(f);var y=o(f),M=[];for(var A in f)"constructor"==A&&(y||!n.call(f,A))||M.push(A);return M}},92963:F=>{F.exports=function(_,E){for(var o=-1,t=Array(_);++o<_;)t[o]=E(o);return t}},94496:(F,U,_)=>{var E=_(17135),o=_(56041),t=_(81123),e=_(20267),s=E?E.prototype:void 0,f=s?s.toString:void 0;F.exports=function y(M){if("string"==typeof M)return M;if(t(M))return o(M,y)+"";if(e(M))return f?f.call(M):"";var A=M+"";return"0"==A&&1/M==-1/0?"-0":A}},71214:F=>{F.exports=function(_){return function(E){return _(E)}}},54021:(F,U,_)=>{var E=_(81123),o=_(27288),t=_(11796),e=_(45803);F.exports=function(s,f){return E(s)?s:o(s,f)?[s]:t(e(s))}},40056:(F,U,_)=>{var E=_(9456);F.exports=function(t){var e=new t.constructor(t.byteLength);return new E(e).set(new E(t)),e}},31869:(F,U,_)=>{F=_.nmd(F);var E=_(37684),o=U&&!U.nodeType&&U,t=o&&F&&!F.nodeType&&F,n=t&&t.exports===o?E.Buffer:void 0,s=n?n.allocUnsafe:void 0;F.exports=function(y,M){if(M)return y.slice();var A=y.length,P=s?s(A):new y.constructor(A);return y.copy(P),P}},52737:(F,U,_)=>{var E=_(40056);F.exports=function(t,e){var n=e?E(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},93349:F=>{var U=/\w*$/;F.exports=function(E){var o=new E.constructor(E.source,U.exec(E));return o.lastIndex=E.lastIndex,o}},18740:(F,U,_)=>{var E=_(17135),o=E?E.prototype:void 0,t=o?o.valueOf:void 0;F.exports=function(n){return t?Object(t.call(n)):{}}},73611:(F,U,_)=>{var E=_(40056);F.exports=function(t,e){var n=e?E(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},70119:F=>{F.exports=function(_,E){var o=-1,t=_.length;for(E||(E=Array(t));++o<t;)E[o]=_[o];return E}},45309:(F,U,_)=>{var E=_(84805),o=_(91649);F.exports=function(e,n,s,f){var y=!s;s||(s={});for(var M=-1,A=n.length;++M<A;){var P=n[M],B=f?f(s[P],e[P],P,s,e):void 0;void 0===B&&(B=e[P]),y?o(s,P,B):E(s,P,B)}return s}},4504:(F,U,_)=>{var E=_(45309),o=_(79976);F.exports=function(e,n){return E(e,o(e),n)}},78127:(F,U,_)=>{var E=_(45309),o=_(60456);F.exports=function(e,n){return E(e,o(e),n)}},39809:(F,U,_)=>{var E=_(37684);F.exports=E["__core-js_shared__"]},49923:(F,U,_)=>{var E=_(87078),o=function(){try{var t=E(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();F.exports=o},76288:F=>{var U="object"==typeof global&&global&&global.Object===Object&&global;F.exports=U},34024:(F,U,_)=>{var E=_(82184),o=_(79976),t=_(32863);F.exports=function(n){return E(n,t,o)}},16269:(F,U,_)=>{var E=_(82184),o=_(60456),t=_(28640);F.exports=function(n){return E(n,t,o)}},26762:(F,U,_)=>{var E=_(5900);F.exports=function(t,e){var n=t.__data__;return E(e)?n["string"==typeof e?"string":"hash"]:n.map}},87078:(F,U,_)=>{var E=_(49915),o=_(63199);F.exports=function(e,n){var s=o(e,n);return E(s)?s:void 0}},23346:(F,U,_)=>{var o=_(24991)(Object.getPrototypeOf,Object);F.exports=o},45222:(F,U,_)=>{var E=_(17135),o=Object.prototype,t=o.hasOwnProperty,e=o.toString,n=E?E.toStringTag:void 0;F.exports=function(f){var y=t.call(f,n),M=f[n];try{f[n]=void 0;var A=!0}catch(B){}var P=e.call(f);return A&&(y?f[n]=M:delete f[n]),P}},79976:(F,U,_)=>{var E=_(29736),o=_(97324),e=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;F.exports=n?function(f){return null==f?[]:(f=Object(f),E(n(f),function(y){return e.call(f,y)}))}:o},60456:(F,U,_)=>{var E=_(33855),o=_(23346),t=_(79976),e=_(97324);F.exports=Object.getOwnPropertySymbols?function(f){for(var y=[];f;)E(y,t(f)),f=o(f);return y}:e},1395:(F,U,_)=>{var E=_(78452),o=_(15873),t=_(98680),e=_(31415),n=_(86230),s=_(77909),f=_(70753),y="[object Map]",A="[object Promise]",P="[object Set]",B="[object WeakMap]",ne="[object DataView]",te=f(E),se=f(o),de=f(t),ae=f(e),Me=f(n),xe=s;(E&&xe(new E(new ArrayBuffer(1)))!=ne||o&&xe(new o)!=y||t&&xe(t.resolve())!=A||e&&xe(new e)!=P||n&&xe(new n)!=B)&&(xe=function(we){var ke=s(we),fe="[object Object]"==ke?we.constructor:void 0,pe=fe?f(fe):"";if(pe)switch(pe){case te:return ne;case se:return y;case de:return A;case ae:return P;case Me:return B}return ke}),F.exports=xe},63199:F=>{F.exports=function(_,E){return null==_?void 0:_[E]}},1930:(F,U,_)=>{var E=_(57279);F.exports=function(){this.__data__=E?E(null):{},this.size=0}},10868:F=>{F.exports=function(_){var E=this.has(_)&&delete this.__data__[_];return this.size-=E?1:0,E}},40640:(F,U,_)=>{var E=_(57279),e=Object.prototype.hasOwnProperty;F.exports=function(s){var f=this.__data__;if(E){var y=f[s];return"__lodash_hash_undefined__"===y?void 0:y}return e.call(f,s)?f[s]:void 0}},22811:(F,U,_)=>{var E=_(57279),t=Object.prototype.hasOwnProperty;F.exports=function(n){var s=this.__data__;return E?void 0!==s[n]:t.call(s,n)}},31628:(F,U,_)=>{var E=_(57279);F.exports=function(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=E&&void 0===n?"__lodash_hash_undefined__":n,this}},67019:F=>{var _=Object.prototype.hasOwnProperty;F.exports=function(o){var t=o.length,e=new o.constructor(t);return t&&"string"==typeof o[0]&&_.call(o,"index")&&(e.index=o.index,e.input=o.input),e}},88479:(F,U,_)=>{var E=_(40056),o=_(52737),t=_(93349),e=_(18740),n=_(73611);F.exports=function(ye,Ce,Te){var me=ye.constructor;switch(Ce){case"[object ArrayBuffer]":return E(ye);case"[object Boolean]":case"[object Date]":return new me(+ye);case"[object DataView]":return o(ye,Te);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return n(ye,Te);case"[object Map]":return new me;case"[object Number]":case"[object String]":return new me(ye);case"[object RegExp]":return t(ye);case"[object Set]":return new me;case"[object Symbol]":return e(ye)}}},5291:(F,U,_)=>{var E=_(5563),o=_(23346),t=_(43516);F.exports=function(n){return"function"!=typeof n.constructor||t(n)?{}:E(o(n))}},75398:F=>{var _=/^(?:0|[1-9]\d*)$/;F.exports=function(o,t){var e=typeof o;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&_.test(o))&&o>-1&&o%1==0&&o<t}},27288:(F,U,_)=>{var E=_(81123),o=_(20267),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;F.exports=function(s,f){if(E(s))return!1;var y=typeof s;return!("number"!=y&&"symbol"!=y&&"boolean"!=y&&null!=s&&!o(s))||e.test(s)||!t.test(s)||null!=f&&s in Object(f)}},5900:F=>{F.exports=function(_){var E=typeof _;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==_:null===_}},60862:(F,U,_)=>{var e,E=_(39809),o=(e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";F.exports=function(e){return!!o&&o in e}},43516:F=>{var U=Object.prototype;F.exports=function(E){var o=E&&E.constructor;return E===("function"==typeof o&&o.prototype||U)}},56154:F=>{F.exports=function(){this.__data__=[],this.size=0}},49232:(F,U,_)=>{var E=_(30662),t=Array.prototype.splice;F.exports=function(n){var s=this.__data__,f=E(s,n);return!(f<0||(f==s.length-1?s.pop():t.call(s,f,1),--this.size,0))}},58847:(F,U,_)=>{var E=_(30662);F.exports=function(t){var e=this.__data__,n=E(e,t);return n<0?void 0:e[n][1]}},64703:(F,U,_)=>{var E=_(30662);F.exports=function(t){return E(this.__data__,t)>-1}},43807:(F,U,_)=>{var E=_(30662);F.exports=function(t,e){var n=this.__data__,s=E(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}},11521:(F,U,_)=>{var E=_(17434),o=_(60748),t=_(15873);F.exports=function(){this.size=0,this.__data__={hash:new E,map:new(t||o),string:new E}}},83019:(F,U,_)=>{var E=_(26762);F.exports=function(t){var e=E(this,t).delete(t);return this.size-=e?1:0,e}},37392:(F,U,_)=>{var E=_(26762);F.exports=function(t){return E(this,t).get(t)}},51062:(F,U,_)=>{var E=_(26762);F.exports=function(t){return E(this,t).has(t)}},35655:(F,U,_)=>{var E=_(26762);F.exports=function(t,e){var n=E(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}},44170:(F,U,_)=>{var E=_(91407);F.exports=function(e){var n=E(e,function(f){return 500===s.size&&s.clear(),f}),s=n.cache;return n}},57279:(F,U,_)=>{var o=_(87078)(Object,"create");F.exports=o},10863:(F,U,_)=>{var o=_(24991)(Object.keys,Object);F.exports=o},46183:F=>{F.exports=function(_){var E=[];if(null!=_)for(var o in Object(_))E.push(o);return E}},52560:(F,U,_)=>{F=_.nmd(F);var E=_(76288),o=U&&!U.nodeType&&U,t=o&&F&&!F.nodeType&&F,n=t&&t.exports===o&&E.process,s=function(){try{return t&&t.require&&t.require("util").types||n&&n.binding&&n.binding("util")}catch(y){}}();F.exports=s},48097:F=>{var _=Object.prototype.toString;F.exports=function(o){return _.call(o)}},24991:F=>{F.exports=function(_,E){return function(o){return _(E(o))}}},37684:(F,U,_)=>{var E=_(76288),o="object"==typeof self&&self&&self.Object===Object&&self,t=E||o||Function("return this")();F.exports=t},77219:(F,U,_)=>{var E=_(60748);F.exports=function(){this.__data__=new E,this.size=0}},68027:F=>{F.exports=function(_){var E=this.__data__,o=E.delete(_);return this.size=E.size,o}},95307:F=>{F.exports=function(_){return this.__data__.get(_)}},38127:F=>{F.exports=function(_){return this.__data__.has(_)}},18732:(F,U,_)=>{var E=_(60748),o=_(15873),t=_(37718);F.exports=function(s,f){var y=this.__data__;if(y instanceof E){var M=y.__data__;if(!o||M.length<199)return M.push([s,f]),this.size=++y.size,this;y=this.__data__=new t(M)}return y.set(s,f),this.size=y.size,this}},11796:(F,U,_)=>{var E=_(44170),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,e=E(function(n){var s=[];return 46===n.charCodeAt(0)&&s.push(""),n.replace(o,function(f,y,M,A){s.push(M?A.replace(t,"$1"):y||f)}),s});F.exports=e},31017:(F,U,_)=>{var E=_(20267);F.exports=function(e){if("string"==typeof e||E(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},70753:F=>{var _=Function.prototype.toString;F.exports=function(o){if(null!=o){try{return _.call(o)}catch(t){}try{return o+""}catch(t){}}return""}},57469:(F,U,_)=>{var E=_(82482);F.exports=function(n){return E(n,5)}},43170:F=>{F.exports=function(_,E){return _===E||_!=_&&E!=E}},17410:(F,U,_)=>{var E=_(36432);F.exports=function(t,e,n){var s=null==t?void 0:E(t,e);return void 0===s?n:s}},15034:(F,U,_)=>{var E=_(43689),o=_(37409),t=Object.prototype,e=t.hasOwnProperty,n=t.propertyIsEnumerable,s=E(function(){return arguments}())?E:function(f){return o(f)&&e.call(f,"callee")&&!n.call(f,"callee")};F.exports=s},81123:F=>{F.exports=Array.isArray},59809:(F,U,_)=>{var E=_(88939),o=_(24282);F.exports=function(e){return null!=e&&o(e.length)&&!E(e)}},28924:(F,U,_)=>{F=_.nmd(F);var E=_(37684),o=_(45801),t=U&&!U.nodeType&&U,e=t&&F&&!F.nodeType&&F,s=e&&e.exports===t?E.Buffer:void 0;F.exports=(s?s.isBuffer:void 0)||o},85191:(F,U,_)=>{var E=_(57626),o=_(1395),t=_(15034),e=_(81123),n=_(59809),s=_(28924),f=_(43516),y=_(39058),B=Object.prototype.hasOwnProperty;F.exports=function(te){if(null==te)return!0;if(n(te)&&(e(te)||"string"==typeof te||"function"==typeof te.splice||s(te)||y(te)||t(te)))return!te.length;var se=o(te);if("[object Map]"==se||"[object Set]"==se)return!te.size;if(f(te))return!E(te).length;for(var de in te)if(B.call(te,de))return!1;return!0}},88939:(F,U,_)=>{var E=_(77909),o=_(4471);F.exports=function(y){if(!o(y))return!1;var M=E(y);return"[object Function]"==M||"[object GeneratorFunction]"==M||"[object AsyncFunction]"==M||"[object Proxy]"==M}},24282:F=>{F.exports=function(E){return"number"==typeof E&&E>-1&&E%1==0&&E<=9007199254740991}},10501:(F,U,_)=>{var E=_(80916),o=_(71214),t=_(52560),e=t&&t.isMap,n=e?o(e):E;F.exports=n},4471:F=>{F.exports=function(_){var E=typeof _;return null!=_&&("object"==E||"function"==E)}},37409:F=>{F.exports=function(_){return null!=_&&"object"==typeof _}},64994:(F,U,_)=>{var E=_(77909),o=_(23346),t=_(37409),f=Function.prototype.toString,y=Object.prototype.hasOwnProperty,M=f.call(Object);F.exports=function(P){if(!t(P)||"[object Object]"!=E(P))return!1;var B=o(P);if(null===B)return!0;var ne=y.call(B,"constructor")&&B.constructor;return"function"==typeof ne&&ne instanceof ne&&f.call(ne)==M}},87858:(F,U,_)=>{var E=_(15229),o=_(71214),t=_(52560),e=t&&t.isSet,n=e?o(e):E;F.exports=n},20267:(F,U,_)=>{var E=_(77909),o=_(37409);F.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==E(n)}},39058:(F,U,_)=>{var E=_(8596),o=_(71214),t=_(52560),e=t&&t.isTypedArray,n=e?o(e):E;F.exports=n},32863:(F,U,_)=>{var E=_(87293),o=_(57626),t=_(59809);F.exports=function(n){return t(n)?E(n):o(n)}},28640:(F,U,_)=>{var E=_(87293),o=_(50899),t=_(59809);F.exports=function(n){return t(n)?E(n,!0):o(n)}},91407:(F,U,_)=>{var E=_(37718);function t(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var s=function(){var f=arguments,y=n?n.apply(this,f):f[0],M=s.cache;if(M.has(y))return M.get(y);var A=e.apply(this,f);return s.cache=M.set(y,A)||M,A};return s.cache=new(t.Cache||E),s}t.Cache=E,F.exports=t},97324:F=>{F.exports=function(){return[]}},45801:F=>{F.exports=function(){return!1}},45803:(F,U,_)=>{var E=_(94496);F.exports=function(t){return null==t?"":E(t)}},94292:(F,U,_)=>{var E="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=E&&o&&"function"==typeof o.get?o.get:null,e=E&&Map.prototype.forEach,n="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,f=n&&s&&"function"==typeof s.get?s.get:null,y=n&&Set.prototype.forEach,A="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,te="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,se=Boolean.prototype.valueOf,de=Object.prototype.toString,ae=Function.prototype.toString,Me=String.prototype.match,xe="function"==typeof BigInt?BigInt.prototype.valueOf:null,we=Object.getOwnPropertySymbols,ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,fe="function"==typeof Symbol&&"object"==typeof Symbol.iterator,pe=Object.prototype.propertyIsEnumerable,ie=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(X){return X.__proto__}:null),ee=_(96553).custom,ye=ee&&tn(ee)?ee:null,Ce="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function Te(X,re,ze){var Qe="double"===(ze.quoteStyle||re)?'"':"'";return Qe+X+Qe}function me(X){return String(X).replace(/"/g,"&quot;")}function ve(X){return!("[object Array]"!==at(X)||Ce&&"object"==typeof X&&Ce in X)}function tn(X){if(fe)return X&&"object"==typeof X&&X instanceof Symbol;if("symbol"==typeof X)return!0;if(!X||"object"!=typeof X||!ke)return!1;try{return ke.call(X),!0}catch(re){}return!1}F.exports=function X(re,ze,Qe,Ct){var yt=ze||{};if(rt(yt,"quoteStyle")&&"single"!==yt.quoteStyle&&"double"!==yt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(rt(yt,"maxStringLength")&&("number"==typeof yt.maxStringLength?yt.maxStringLength<0&&yt.maxStringLength!==1/0:null!==yt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Zt=!rt(yt,"customInspect")||yt.customInspect;if("boolean"!=typeof Zt&&"symbol"!==Zt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(rt(yt,"indent")&&null!==yt.indent&&"\t"!==yt.indent&&!(parseInt(yt.indent,10)===yt.indent&&yt.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===re)return"undefined";if(null===re)return"null";if("boolean"==typeof re)return re?"true":"false";if("string"==typeof re)return Bt(re,yt);if("number"==typeof re)return 0===re?1/0/re>0?"0":"-0":String(re);if("bigint"==typeof re)return String(re)+"n";var wn=void 0===yt.depth?5:yt.depth;if(void 0===Qe&&(Qe=0),Qe>=wn&&wn>0&&"object"==typeof re)return ve(re)?"[Array]":"[Object]";var En=function(X,re){var ze;if("\t"===X.indent)ze="\t";else{if(!("number"==typeof X.indent&&X.indent>0))return null;ze=Array(X.indent+1).join(" ")}return{base:ze,prev:Array(re+1).join(ze)}}(yt,Qe);if(void 0===Ct)Ct=[];else if(zt(Ct,re)>=0)return"[Circular]";function bn(bt,Qt,Nn){if(Qt&&(Ct=Ct.slice()).push(Qt),Nn){var An={depth:yt.depth};return rt(yt,"quoteStyle")&&(An.quoteStyle=yt.quoteStyle),X(bt,An,Qe+1,Ct)}return X(bt,yt,Qe+1,Ct)}if("function"==typeof re){var fn=function(X){if(X.name)return X.name;var re=Me.call(ae.call(X),/^function\s*([\w$]+)/);return re?re[1]:null}(re),Ut=Je(re,bn);return"[Function"+(fn?": "+fn:" (anonymous)")+"]"+(Ut.length>0?" { "+Ut.join(", ")+" }":"")}if(tn(re)){var on=fe?String(re).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):ke.call(re);return"object"!=typeof re||fe?on:it(on)}if(function(X){return!(!X||"object"!=typeof X)&&("undefined"!=typeof HTMLElement&&X instanceof HTMLElement||"string"==typeof X.nodeName&&"function"==typeof X.getAttribute)}(re)){for(var tt="<"+String(re.nodeName).toLowerCase(),xt=re.attributes||[],rn=0;rn<xt.length;rn++)tt+=" "+xt[rn].name+"="+Te(me(xt[rn].value),"double",yt);return tt+=">",re.childNodes&&re.childNodes.length&&(tt+="..."),tt+"</"+String(re.nodeName).toLowerCase()+">"}if(ve(re)){if(0===re.length)return"[]";var Cn=Je(re,bn);return En&&!function(X){for(var re=0;re<X.length;re++)if(zt(X[re],"\n")>=0)return!1;return!0}(Cn)?"["+Ht(Cn,En)+"]":"[ "+Cn.join(", ")+" ]"}if(function(X){return!("[object Error]"!==at(X)||Ce&&"object"==typeof X&&Ce in X)}(re)){var qn=Je(re,bn);return 0===qn.length?"["+String(re)+"]":"{ ["+String(re)+"] "+qn.join(", ")+" }"}if("object"==typeof re&&Zt){if(ye&&"function"==typeof re[ye])return re[ye]();if("symbol"!==Zt&&"function"==typeof re.inspect)return re.inspect()}if(function(X){if(!t||!X||"object"!=typeof X)return!1;try{t.call(X);try{f.call(X)}catch(re){return!0}return X instanceof Map}catch(re){}return!1}(re)){var zn=[];return e.call(re,function(bt,Qt){zn.push(bn(Qt,re,!0)+" => "+bn(bt,re))}),ft("Map",t.call(re),zn,En)}if(function(X){if(!f||!X||"object"!=typeof X)return!1;try{f.call(X);try{t.call(X)}catch(re){return!0}return X instanceof Set}catch(re){}return!1}(re)){var Vn=[];return y.call(re,function(bt){Vn.push(bn(bt,re))}),ft("Set",f.call(re),Vn,En)}if(function(X){if(!A||!X||"object"!=typeof X)return!1;try{A.call(X,A);try{B.call(X,B)}catch(re){return!0}return X instanceof WeakMap}catch(re){}return!1}(re))return un("WeakMap");if(function(X){if(!B||!X||"object"!=typeof X)return!1;try{B.call(X,B);try{A.call(X,A)}catch(re){return!0}return X instanceof WeakSet}catch(re){}return!1}(re))return un("WeakSet");if(function(X){if(!te||!X||"object"!=typeof X)return!1;try{return te.call(X),!0}catch(re){}return!1}(re))return un("WeakRef");if(function(X){return!("[object Number]"!==at(X)||Ce&&"object"==typeof X&&Ce in X)}(re))return it(bn(Number(re)));if(function(X){if(!X||"object"!=typeof X||!xe)return!1;try{return xe.call(X),!0}catch(re){}return!1}(re))return it(bn(xe.call(re)));if(function(X){return!("[object Boolean]"!==at(X)||Ce&&"object"==typeof X&&Ce in X)}(re))return it(se.call(re));if(function(X){return!("[object String]"!==at(X)||Ce&&"object"==typeof X&&Ce in X)}(re))return it(bn(String(re)));if(!function(X){return!("[object Date]"!==at(X)||Ce&&"object"==typeof X&&Ce in X)}(re)&&!function(X){return!("[object RegExp]"!==at(X)||Ce&&"object"==typeof X&&Ce in X)}(re)){var jn=Je(re,bn),Dt=ie?ie(re)===Object.prototype:re instanceof Object||re.constructor===Object,At=re instanceof Object?"":"null prototype",Oe=!Dt&&Ce&&Object(re)===re&&Ce in re?at(re).slice(8,-1):At?"Object":"",We=(Dt||"function"!=typeof re.constructor?"":re.constructor.name?re.constructor.name+" ":"")+(Oe||At?"["+[].concat(Oe||[],At||[]).join(": ")+"] ":"");return 0===jn.length?We+"{}":En?We+"{"+Ht(jn,En)+"}":We+"{ "+jn.join(", ")+" }"}return String(re)};var sn=Object.prototype.hasOwnProperty||function(X){return X in this};function rt(X,re){return sn.call(X,re)}function at(X){return de.call(X)}function zt(X,re){if(X.indexOf)return X.indexOf(re);for(var ze=0,Qe=X.length;ze<Qe;ze++)if(X[ze]===re)return ze;return-1}function Bt(X,re){if(X.length>re.maxStringLength){var ze=X.length-re.maxStringLength,Qe="... "+ze+" more character"+(ze>1?"s":"");return Bt(X.slice(0,re.maxStringLength),re)+Qe}return Te(X.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Fe),"single",re)}function Fe(X){var re=X.charCodeAt(0),ze={8:"b",9:"t",10:"n",12:"f",13:"r"}[re];return ze?"\\"+ze:"\\x"+(re<16?"0":"")+re.toString(16).toUpperCase()}function it(X){return"Object("+X+")"}function un(X){return X+" { ? }"}function ft(X,re,ze,Qe){return X+" ("+re+") {"+(Qe?Ht(ze,Qe):ze.join(", "))+"}"}function Ht(X,re){if(0===X.length)return"";var ze="\n"+re.prev+re.base;return ze+X.join(","+ze)+"\n"+re.prev}function Je(X,re){var ze=ve(X),Qe=[];if(ze){Qe.length=X.length;for(var Ct=0;Ct<X.length;Ct++)Qe[Ct]=rt(X,Ct)?re(X[Ct],X):""}var Zt,yt="function"==typeof we?we(X):[];if(fe){Zt={};for(var wn=0;wn<yt.length;wn++)Zt["$"+yt[wn]]=yt[wn]}for(var En in X)!rt(X,En)||ze&&String(Number(En))===En&&En<X.length||fe&&Zt["$"+En]instanceof Symbol||(/[^\w$]/.test(En)?Qe.push(re(En,X)+": "+re(X[En],X)):Qe.push(En+": "+re(X[En],X)));if("function"==typeof we)for(var bn=0;bn<yt.length;bn++)pe.call(X,yt[bn])&&Qe.push("["+re(yt[bn])+"]: "+re(X[yt[bn]],X));return Qe}},74946:F=>{"use strict";function U(_,E){return Object.prototype.hasOwnProperty.call(_,E)}F.exports=function(_,E,o,t){o=o||"=";var e={};if("string"!=typeof _||0===_.length)return e;var n=/\+/g;_=_.split(E=E||"&");var s=1e3;t&&"number"==typeof t.maxKeys&&(s=t.maxKeys);var f=_.length;s>0&&f>s&&(f=s);for(var y=0;y<f;++y){var P,B,ne,te,M=_[y].replace(n,"%20"),A=M.indexOf(o);A>=0?(P=M.substr(0,A),B=M.substr(A+1)):(P=M,B=""),ne=decodeURIComponent(P),te=decodeURIComponent(B),U(e,ne)?Array.isArray(e[ne])?e[ne].push(te):e[ne]=[e[ne],te]:e[ne]=te}return e}},83392:F=>{"use strict";var U=function(_){switch(typeof _){case"string":return _;case"boolean":return _?"true":"false";case"number":return isFinite(_)?_:"";default:return""}};F.exports=function(_,E,o,t){return E=E||"&",o=o||"=",null===_&&(_=void 0),"object"==typeof _?Object.keys(_).map(function(e){var n=encodeURIComponent(U(e))+o;return Array.isArray(_[e])?_[e].map(function(s){return n+encodeURIComponent(U(s))}).join(E):n+encodeURIComponent(U(_[e]))}).join(E):t?encodeURIComponent(U(t))+o+encodeURIComponent(U(_)):""}},1521:(F,U,_)=>{"use strict";U.decode=U.parse=_(74946),U.encode=U.stringify=_(83392)},32518:F=>{var U=function(_){"use strict";var t,E=Object.prototype,o=E.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",f=e.toStringTag||"@@toStringTag";function y(Be,ot,Lt){return Object.defineProperty(Be,ot,{value:Lt,enumerable:!0,configurable:!0,writable:!0}),Be[ot]}try{y({},"")}catch(Be){y=function(ot,Lt,Jt){return ot[Lt]=Jt}}function M(Be,ot,Lt,Jt){var tn=Object.create((ot&&ot.prototype instanceof de?ot:de).prototype),Et=new me(Jt||[]);return tn._invoke=function(Be,ot,Lt){var Jt=P;return function(tn,Et){if(Jt===ne)throw new Error("Generator is already running");if(Jt===te){if("throw"===tn)throw Et;return Ze()}for(Lt.method=tn,Lt.arg=Et;;){var sn=Lt.delegate;if(sn){var rt=ye(sn,Lt);if(rt){if(rt===se)continue;return rt}}if("next"===Lt.method)Lt.sent=Lt._sent=Lt.arg;else if("throw"===Lt.method){if(Jt===P)throw Jt=te,Lt.arg;Lt.dispatchException(Lt.arg)}else"return"===Lt.method&&Lt.abrupt("return",Lt.arg);Jt=ne;var at=A(Be,ot,Lt);if("normal"===at.type){if(Jt=Lt.done?te:B,at.arg===se)continue;return{value:at.arg,done:Lt.done}}"throw"===at.type&&(Jt=te,Lt.method="throw",Lt.arg=at.arg)}}}(Be,Lt,Et),tn}function A(Be,ot,Lt){try{return{type:"normal",arg:Be.call(ot,Lt)}}catch(Jt){return{type:"throw",arg:Jt}}}_.wrap=M;var P="suspendedStart",B="suspendedYield",ne="executing",te="completed",se={};function de(){}function ae(){}function Me(){}var xe={};y(xe,n,function(){return this});var we=Object.getPrototypeOf,ke=we&&we(we(ve([])));ke&&ke!==E&&o.call(ke,n)&&(xe=ke);var fe=Me.prototype=de.prototype=Object.create(xe);function pe(Be){["next","throw","return"].forEach(function(ot){y(Be,ot,function(Lt){return this._invoke(ot,Lt)})})}function ie(Be,ot){function Lt(tn,Et,sn,rt){var at=A(Be[tn],Be,Et);if("throw"!==at.type){var Vt=at.arg,zt=Vt.value;return zt&&"object"==typeof zt&&o.call(zt,"__await")?ot.resolve(zt.__await).then(function($t){Lt("next",$t,sn,rt)},function($t){Lt("throw",$t,sn,rt)}):ot.resolve(zt).then(function($t){Vt.value=$t,sn(Vt)},function($t){return Lt("throw",$t,sn,rt)})}rt(at.arg)}var Jt;this._invoke=function(tn,Et){function sn(){return new ot(function(rt,at){Lt(tn,Et,rt,at)})}return Jt=Jt?Jt.then(sn,sn):sn()}}function ye(Be,ot){var Lt=Be.iterator[ot.method];if(Lt===t){if(ot.delegate=null,"throw"===ot.method){if(Be.iterator.return&&(ot.method="return",ot.arg=t,ye(Be,ot),"throw"===ot.method))return se;ot.method="throw",ot.arg=new TypeError("The iterator does not provide a 'throw' method")}return se}var Jt=A(Lt,Be.iterator,ot.arg);if("throw"===Jt.type)return ot.method="throw",ot.arg=Jt.arg,ot.delegate=null,se;var wt=Jt.arg;return wt?wt.done?(ot[Be.resultName]=wt.value,ot.next=Be.nextLoc,"return"!==ot.method&&(ot.method="next",ot.arg=t),ot.delegate=null,se):wt:(ot.method="throw",ot.arg=new TypeError("iterator result is not an object"),ot.delegate=null,se)}function Ce(Be){var ot={tryLoc:Be[0]};1 in Be&&(ot.catchLoc=Be[1]),2 in Be&&(ot.finallyLoc=Be[2],ot.afterLoc=Be[3]),this.tryEntries.push(ot)}function Te(Be){var ot=Be.completion||{};ot.type="normal",delete ot.arg,Be.completion=ot}function me(Be){this.tryEntries=[{tryLoc:"root"}],Be.forEach(Ce,this),this.reset(!0)}function ve(Be){if(Be){var ot=Be[n];if(ot)return ot.call(Be);if("function"==typeof Be.next)return Be;if(!isNaN(Be.length)){var Lt=-1,Jt=function wt(){for(;++Lt<Be.length;)if(o.call(Be,Lt))return wt.value=Be[Lt],wt.done=!1,wt;return wt.value=t,wt.done=!0,wt};return Jt.next=Jt}}return{next:Ze}}function Ze(){return{value:t,done:!0}}return ae.prototype=Me,y(fe,"constructor",Me),y(Me,"constructor",ae),ae.displayName=y(Me,f,"GeneratorFunction"),_.isGeneratorFunction=function(Be){var ot="function"==typeof Be&&Be.constructor;return!!ot&&(ot===ae||"GeneratorFunction"===(ot.displayName||ot.name))},_.mark=function(Be){return Object.setPrototypeOf?Object.setPrototypeOf(Be,Me):(Be.__proto__=Me,y(Be,f,"GeneratorFunction")),Be.prototype=Object.create(fe),Be},_.awrap=function(Be){return{__await:Be}},pe(ie.prototype),y(ie.prototype,s,function(){return this}),_.AsyncIterator=ie,_.async=function(Be,ot,Lt,Jt,wt){void 0===wt&&(wt=Promise);var tn=new ie(M(Be,ot,Lt,Jt),wt);return _.isGeneratorFunction(ot)?tn:tn.next().then(function(Et){return Et.done?Et.value:tn.next()})},pe(fe),y(fe,f,"Generator"),y(fe,n,function(){return this}),y(fe,"toString",function(){return"[object Generator]"}),_.keys=function(Be){var ot=[];for(var Lt in Be)ot.push(Lt);return ot.reverse(),function Jt(){for(;ot.length;){var wt=ot.pop();if(wt in Be)return Jt.value=wt,Jt.done=!1,Jt}return Jt.done=!0,Jt}},_.values=ve,me.prototype={constructor:me,reset:function(Be){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Te),!Be)for(var ot in this)"t"===ot.charAt(0)&&o.call(this,ot)&&!isNaN(+ot.slice(1))&&(this[ot]=t)},stop:function(){this.done=!0;var ot=this.tryEntries[0].completion;if("throw"===ot.type)throw ot.arg;return this.rval},dispatchException:function(Be){if(this.done)throw Be;var ot=this;function Lt(rt,at){return tn.type="throw",tn.arg=Be,ot.next=rt,at&&(ot.method="next",ot.arg=t),!!at}for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var wt=this.tryEntries[Jt],tn=wt.completion;if("root"===wt.tryLoc)return Lt("end");if(wt.tryLoc<=this.prev){var Et=o.call(wt,"catchLoc"),sn=o.call(wt,"finallyLoc");if(Et&&sn){if(this.prev<wt.catchLoc)return Lt(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return Lt(wt.finallyLoc)}else if(Et){if(this.prev<wt.catchLoc)return Lt(wt.catchLoc,!0)}else{if(!sn)throw new Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return Lt(wt.finallyLoc)}}}},abrupt:function(Be,ot){for(var Lt=this.tryEntries.length-1;Lt>=0;--Lt){var Jt=this.tryEntries[Lt];if(Jt.tryLoc<=this.prev&&o.call(Jt,"finallyLoc")&&this.prev<Jt.finallyLoc){var wt=Jt;break}}wt&&("break"===Be||"continue"===Be)&&wt.tryLoc<=ot&&ot<=wt.finallyLoc&&(wt=null);var tn=wt?wt.completion:{};return tn.type=Be,tn.arg=ot,wt?(this.method="next",this.next=wt.finallyLoc,se):this.complete(tn)},complete:function(Be,ot){if("throw"===Be.type)throw Be.arg;return"break"===Be.type||"continue"===Be.type?this.next=Be.arg:"return"===Be.type?(this.rval=this.arg=Be.arg,this.method="return",this.next="end"):"normal"===Be.type&&ot&&(this.next=ot),se},finish:function(Be){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var Lt=this.tryEntries[ot];if(Lt.finallyLoc===Be)return this.complete(Lt.completion,Lt.afterLoc),Te(Lt),se}},catch:function(Be){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var Lt=this.tryEntries[ot];if(Lt.tryLoc===Be){var Jt=Lt.completion;if("throw"===Jt.type){var wt=Jt.arg;Te(Lt)}return wt}}throw new Error("illegal catch attempt")},delegateYield:function(Be,ot,Lt){return this.delegate={iterator:ve(Be),resultName:ot,nextLoc:Lt},"next"===this.method&&(this.arg=t),se}},_}(F.exports);try{regeneratorRuntime=U}catch(_){"object"==typeof globalThis?globalThis.regeneratorRuntime=U:Function("r","regeneratorRuntime = r")(U)}},73340:(F,U,_)=>{"use strict";var E=_(93602),o=_(29448),t=_(94292),e=E("%TypeError%"),n=E("%WeakMap%",!0),s=E("%Map%",!0),f=o("WeakMap.prototype.get",!0),y=o("WeakMap.prototype.set",!0),M=o("WeakMap.prototype.has",!0),A=o("Map.prototype.get",!0),P=o("Map.prototype.set",!0),B=o("Map.prototype.has",!0),ne=function(ae,Me){for(var we,xe=ae;null!==(we=xe.next);xe=we)if(we.key===Me)return xe.next=we.next,we.next=ae.next,ae.next=we,we};F.exports=function(){var Me,xe,we,ke={assert:function(fe){if(!ke.has(fe))throw new e("Side channel does not contain "+t(fe))},get:function(fe){if(n&&fe&&("object"==typeof fe||"function"==typeof fe)){if(Me)return f(Me,fe)}else if(s){if(xe)return A(xe,fe)}else if(we)return function(ae,Me){var xe=ne(ae,Me);return xe&&xe.value}(we,fe)},has:function(fe){if(n&&fe&&("object"==typeof fe||"function"==typeof fe)){if(Me)return M(Me,fe)}else if(s){if(xe)return B(xe,fe)}else if(we)return function(ae,Me){return!!ne(ae,Me)}(we,fe);return!1},set:function(fe,pe){n&&fe&&("object"==typeof fe||"function"==typeof fe)?(Me||(Me=new n),y(Me,fe,pe)):s?(xe||(xe=new s),P(xe,fe,pe)):(we||(we={key:{},next:null}),function(ae,Me,xe){var we=ne(ae,Me);we?we.value=xe:ae.next={key:Me,next:ae.next,value:xe}}(we,fe,pe))}};return ke}},14087:(F,U,_)=>{"use strict";_.r(U),_.d(U,{default:()=>Yu,helpers:()=>zu});var E={};_.r(E),_.d(E,{JsonPatchError:()=>bo,_areEquals:()=>ta,applyOperation:()=>Bo,applyPatch:()=>Gs,applyReducer:()=>Kd,deepClone:()=>jc,getValueByPointer:()=>$a,validate:()=>al,validator:()=>Ja});var o={};_.r(o),_.d(o,{compare:()=>ec,generate:()=>ql,observe:()=>Hl,unobserve:()=>js});var t={};_.r(t),_.d(t,{cookie:()=>xd,header:()=>qc,path:()=>Uu,query:()=>Gu});var e=_(23005),n=_(12988),s=_(66360),f=_(18753),y=_(71094),M=_(90343),A=_(84916),P=_(31946);function B(w,L,G){return L in w?P(w,L,{value:G,enumerable:!0,configurable:!0,writable:!0}):w[L]=G,w}function ne(w,L){var G=e(w);if(n){var Z=n(w);L&&(Z=s(Z).call(Z,function(ce){return f(w,ce).enumerable})),G.push.apply(G,Z)}return G}function te(w){for(var L=1;L<arguments.length;L++){var Z,G=null!=arguments[L]?arguments[L]:{};if(L%2)y(Z=ne(Object(G),!0)).call(Z,function(Ne){B(w,Ne,G[Ne])});else if(M)A(w,M(G));else{var ce;y(ce=ne(Object(G))).call(ce,function(Ne){P(w,Ne,f(G,Ne))})}}return w}var se=_(53130),de=_.n(se),ae=_(38330),Me=_.n(ae),xe=_(77526),we=_(93449),ke=_(57272),fe=_(57124),pe=_(19898),ie=_(97326);function ee(w,L){(null==L||L>w.length)&&(L=w.length);for(var G=0,Z=new Array(L);G<L;G++)Z[G]=w[G];return Z}function ye(w,L){var G;if(w){if("string"==typeof w)return ee(w,L);var Z=pe(G=Object.prototype.toString.call(w)).call(G,8,-1);if("Object"===Z&&w.constructor&&(Z=w.constructor.name),"Map"===Z||"Set"===Z)return ie(w);if("Arguments"===Z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return ee(w,L)}}function Ce(w,L){var G=void 0!==we&&ke(w)||w["@@iterator"];if(!G){if(fe(w)||(G=ye(w))||L&&w&&"number"==typeof w.length){G&&(w=G);var Z=0,ce=function(){};return{s:ce,n:function(){return Z>=w.length?{done:!0}:{done:!1,value:w[Z++]}},e:function(ut){throw ut},f:ce}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ke,Ne=!0,Le=!1;return{s:function(){G=G.call(w)},n:function(){var ut=G.next();return Ne=ut.done,ut},e:function(ut){Le=!0,Ke=ut},f:function(){try{!Ne&&null!=G.return&&G.return()}finally{if(Le)throw Ke}}}}var Te=_(3599);function me(w){return(me="function"==typeof we&&"symbol"==typeof Te?function(G){return typeof G}:function(G){return G&&"function"==typeof we&&G.constructor===we&&G!==we.prototype?"symbol":typeof G})(w)}function ot(w,L){return function(w){if(fe(w))return w}(w)||function(w,L){var G=null==w?null:void 0!==we&&ke(w)||w["@@iterator"];if(null!=G){var Le,Ke,Z=[],ce=!0,Ne=!1;try{for(G=G.call(w);!(ce=(Le=G.next()).done)&&(Z.push(Le.value),!L||Z.length!==L);ce=!0);}catch(ct){Ne=!0,Ke=ct}finally{try{!ce&&null!=G.return&&G.return()}finally{if(Ne)throw Ke}}return Z}}(w,L)||ye(w,L)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lt=_(26394);function Jt(w,L,G,Z,ce,Ne,Le){try{var Ke=w[Ne](Le),ct=Ke.value}catch(ut){return void G(ut)}Ke.done?L(ct):Lt.resolve(ct).then(Z,ce)}function wt(w){return function(){var L=this,G=arguments;return new Lt(function(Z,ce){var Ne=w.apply(L,G);function Le(ct){Jt(Ne,Z,ce,Le,Ke,"next",ct)}function Ke(ct){Jt(Ne,Z,ce,Le,Ke,"throw",ct)}Le(void 0)})}}var tn=_(39126),Et=_.n(tn),sn=_(11761),rt=_.n(sn),at=_(20272),Vt=_.n(at),zt=_(89926),$t=_.n(zt),xn=_(23289),Kn=_.n(xn),Yn=_(64770),dn=_.n(Yn),It=_(45635),Bt=_.n(It),Fe=_(87048),it=_.n(Fe),un=_(45107),ft=_.n(un),hn=_(26775),mt=_.n(hn),Je=(_(9874),_(96912)),X=_.n(Je);function re(w){return null==w}var tt={isNothing:re,isObject:function(w){return"object"==typeof w&&null!==w},toArray:function(w){return Array.isArray(w)?w:re(w)?[]:[w]},repeat:function(w,L){var Z,G="";for(Z=0;Z<L;Z+=1)G+=w;return G},isNegativeZero:function(w){return 0===w&&Number.NEGATIVE_INFINITY===1/w},extend:function(w,L){var G,Z,ce,Ne;if(L)for(G=0,Z=(Ne=Object.keys(L)).length;G<Z;G+=1)w[ce=Ne[G]]=L[ce];return w}};function xt(w,L){var G="",Z=w.reason||"(unknown reason)";return w.mark?(w.mark.name&&(G+='in "'+w.mark.name+'" '),G+="("+(w.mark.line+1)+":"+(w.mark.column+1)+")",!L&&w.mark.snippet&&(G+="\n\n"+w.mark.snippet),Z+" "+G):Z}function rn(w,L){Error.call(this),this.name="YAMLException",this.reason=w,this.mark=L,this.message=xt(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(rn.prototype=Object.create(Error.prototype)).constructor=rn,rn.prototype.toString=function(L){return this.name+": "+xt(this,L)};var Cn=rn;function qn(w,L,G,Z,ce){var Ne="",Le="",Ke=Math.floor(ce/2)-1;return Z-L>Ke&&(L=Z-Ke+(Ne=" ... ").length),G-Z>Ke&&(G=Z+Ke-(Le=" ...").length),{str:Ne+w.slice(L,G).replace(/\t/g,"\u2192")+Le,pos:Z-L+Ne.length}}function zn(w,L){return tt.repeat(" ",L-w.length)+w}var Dt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],At=["scalar","sequence","mapping"],We=function(w,L){if(L=L||{},Object.keys(L).forEach(function(G){if(-1===Dt.indexOf(G))throw new Cn('Unknown option "'+G+'" is met in definition of "'+w+'" YAML type.')}),this.options=L,this.tag=w,this.kind=L.kind||null,this.resolve=L.resolve||function(){return!0},this.construct=L.construct||function(G){return G},this.instanceOf=L.instanceOf||null,this.predicate=L.predicate||null,this.represent=L.represent||null,this.representName=L.representName||null,this.defaultStyle=L.defaultStyle||null,this.multi=L.multi||!1,this.styleAliases=function(w){var L={};return null!==w&&Object.keys(w).forEach(function(G){w[G].forEach(function(Z){L[String(Z)]=G})}),L}(L.styleAliases||null),-1===At.indexOf(this.kind))throw new Cn('Unknown kind "'+this.kind+'" is specified for "'+w+'" YAML type.')};function bt(w,L){var G=[];return w[L].forEach(function(Z){var ce=G.length;G.forEach(function(Ne,Le){Ne.tag===Z.tag&&Ne.kind===Z.kind&&Ne.multi===Z.multi&&(ce=Le)}),G[ce]=Z}),G}function Nn(w){return this.extend(w)}Nn.prototype.extend=function(L){var G=[],Z=[];if(L instanceof We)Z.push(L);else if(Array.isArray(L))Z=Z.concat(L);else{if(!L||!Array.isArray(L.implicit)&&!Array.isArray(L.explicit))throw new Cn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");L.implicit&&(G=G.concat(L.implicit)),L.explicit&&(Z=Z.concat(L.explicit))}G.forEach(function(Ne){if(!(Ne instanceof We))throw new Cn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(Ne.loadKind&&"scalar"!==Ne.loadKind)throw new Cn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(Ne.multi)throw new Cn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),Z.forEach(function(Ne){if(!(Ne instanceof We))throw new Cn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var ce=Object.create(Nn.prototype);return ce.implicit=(this.implicit||[]).concat(G),ce.explicit=(this.explicit||[]).concat(Z),ce.compiledImplicit=bt(ce,"implicit"),ce.compiledExplicit=bt(ce,"explicit"),ce.compiledTypeMap=function(){var L,G,w={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function Z(ce){ce.multi?(w.multi[ce.kind].push(ce),w.multi.fallback.push(ce)):w[ce.kind][ce.tag]=w.fallback[ce.tag]=ce}for(L=0,G=arguments.length;L<G;L+=1)arguments[L].forEach(Z);return w}(ce.compiledImplicit,ce.compiledExplicit),ce};var An=Nn,Fi=new We("tag:yaml.org,2002:str",{kind:"scalar",construct:function(w){return null!==w?w:""}}),Ki=new We("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(w){return null!==w?w:[]}}),tr=new We("tag:yaml.org,2002:map",{kind:"mapping",construct:function(w){return null!==w?w:{}}}),Bi=new An({explicit:[Fi,Ki,tr]}),Qr=new We("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(w){if(null===w)return!0;var L=w.length;return 1===L&&"~"===w||4===L&&("null"===w||"Null"===w||"NULL"===w)},construct:function(){return null},predicate:function(w){return null===w},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),Vi=new We("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(w){if(null===w)return!1;var L=w.length;return 4===L&&("true"===w||"True"===w||"TRUE"===w)||5===L&&("false"===w||"False"===w||"FALSE"===w)},construct:function(w){return"true"===w||"True"===w||"TRUE"===w},predicate:function(w){return"[object Boolean]"===Object.prototype.toString.call(w)},represent:{lowercase:function(w){return w?"true":"false"},uppercase:function(w){return w?"TRUE":"FALSE"},camelcase:function(w){return w?"True":"False"}},defaultStyle:"lowercase"});function Gr(w){return 48<=w&&w<=57||65<=w&&w<=70||97<=w&&w<=102}function qr(w){return 48<=w&&w<=55}function Ai(w){return 48<=w&&w<=57}var Jo=new We("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(w){if(null===w)return!1;var ce,L=w.length,G=0,Z=!1;if(!L)return!1;if(("-"===(ce=w[G])||"+"===ce)&&(ce=w[++G]),"0"===ce){if(G+1===L)return!0;if("b"===(ce=w[++G])){for(G++;G<L;G++)if("_"!==(ce=w[G])){if("0"!==ce&&"1"!==ce)return!1;Z=!0}return Z&&"_"!==ce}if("x"===ce){for(G++;G<L;G++)if("_"!==(ce=w[G])){if(!Gr(w.charCodeAt(G)))return!1;Z=!0}return Z&&"_"!==ce}if("o"===ce){for(G++;G<L;G++)if("_"!==(ce=w[G])){if(!qr(w.charCodeAt(G)))return!1;Z=!0}return Z&&"_"!==ce}}if("_"===ce)return!1;for(;G<L;G++)if("_"!==(ce=w[G])){if(!Ai(w.charCodeAt(G)))return!1;Z=!0}return!(!Z||"_"===ce)},construct:function(w){var Z,L=w,G=1;if(-1!==L.indexOf("_")&&(L=L.replace(/_/g,"")),("-"===(Z=L[0])||"+"===Z)&&("-"===Z&&(G=-1),Z=(L=L.slice(1))[0]),"0"===L)return 0;if("0"===Z){if("b"===L[1])return G*parseInt(L.slice(2),2);if("x"===L[1])return G*parseInt(L.slice(2),16);if("o"===L[1])return G*parseInt(L.slice(2),8)}return G*parseInt(L,10)},predicate:function(w){return"[object Number]"===Object.prototype.toString.call(w)&&w%1==0&&!tt.isNegativeZero(w)},represent:{binary:function(w){return w>=0?"0b"+w.toString(2):"-0b"+w.toString(2).slice(1)},octal:function(w){return w>=0?"0o"+w.toString(8):"-0o"+w.toString(8).slice(1)},decimal:function(w){return w.toString(10)},hexadecimal:function(w){return w>=0?"0x"+w.toString(16).toUpperCase():"-0x"+w.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),pi=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),pt=/^[-+]?[0-9]+e/,ii=new We("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(w){return!(null===w||!pi.test(w)||"_"===w[w.length-1])},construct:function(w){var L,G;return G="-"===(L=w.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(L[0])>=0&&(L=L.slice(1)),".inf"===L?1===G?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===L?NaN:G*parseFloat(L,10)},predicate:function(w){return"[object Number]"===Object.prototype.toString.call(w)&&(w%1!=0||tt.isNegativeZero(w))},represent:function(w,L){var G;if(isNaN(w))switch(L){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===w)switch(L){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===w)switch(L){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(tt.isNegativeZero(w))return"-0.0";return G=w.toString(10),pt.test(G)?G.replace("e",".e"):G},defaultStyle:"lowercase"}),fi=Bi.extend({implicit:[Qr,Vi,Jo,ii]}),Ii=fi,ai=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ro=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),di=new We("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(w){return null!==w&&(null!==ai.exec(w)||null!==ro.exec(w))},construct:function(w){var L,G,Z,ce,Ne,Le,Ke,Xt,ct=0,ut=null;if(null===(L=ai.exec(w))&&(L=ro.exec(w)),null===L)throw new Error("Date resolve error");if(G=+L[1],Z=+L[2]-1,ce=+L[3],!L[4])return new Date(Date.UTC(G,Z,ce));if(Ne=+L[4],Le=+L[5],Ke=+L[6],L[7]){for(ct=L[7].slice(0,3);ct.length<3;)ct+="0";ct=+ct}return L[9]&&(ut=6e4*(60*+L[10]+ +(L[11]||0)),"-"===L[9]&&(ut=-ut)),Xt=new Date(Date.UTC(G,Z,ce,Ne,Le,Ke,ct)),ut&&Xt.setTime(Xt.getTime()-ut),Xt},instanceOf:Date,represent:function(w){return w.toISOString()}}),Pr=new We("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(w){return"<<"===w||null===w}}),Mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",Lr=new We("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(w){if(null===w)return!1;var L,G,Z=0,ce=w.length,Ne=Mr;for(G=0;G<ce;G++)if(!((L=Ne.indexOf(w.charAt(G)))>64)){if(L<0)return!1;Z+=6}return Z%8==0},construct:function(w){var L,G,Z=w.replace(/[\r\n=]/g,""),ce=Z.length,Ne=Mr,Le=0,Ke=[];for(L=0;L<ce;L++)L%4==0&&L&&(Ke.push(Le>>16&255),Ke.push(Le>>8&255),Ke.push(255&Le)),Le=Le<<6|Ne.indexOf(Z.charAt(L));return 0==(G=ce%4*6)?(Ke.push(Le>>16&255),Ke.push(Le>>8&255),Ke.push(255&Le)):18===G?(Ke.push(Le>>10&255),Ke.push(Le>>2&255)):12===G&&Ke.push(Le>>4&255),new Uint8Array(Ke)},predicate:function(w){return"[object Uint8Array]"===Object.prototype.toString.call(w)},represent:function(w){var Z,ce,L="",G=0,Ne=w.length,Le=Mr;for(Z=0;Z<Ne;Z++)Z%3==0&&Z&&(L+=Le[G>>18&63],L+=Le[G>>12&63],L+=Le[G>>6&63],L+=Le[63&G]),G=(G<<8)+w[Z];return 0==(ce=Ne%3)?(L+=Le[G>>18&63],L+=Le[G>>12&63],L+=Le[G>>6&63],L+=Le[63&G]):2===ce?(L+=Le[G>>10&63],L+=Le[G>>4&63],L+=Le[G<<2&63],L+=Le[64]):1===ce&&(L+=Le[G>>2&63],L+=Le[G<<4&63],L+=Le[64],L+=Le[64]),L}}),fo=Object.prototype.hasOwnProperty,wo=Object.prototype.toString,$s=new We("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(w){if(null===w)return!0;var G,Z,ce,Ne,Le,L=[],Ke=w;for(G=0,Z=Ke.length;G<Z;G+=1){if(Le=!1,"[object Object]"!==wo.call(ce=Ke[G]))return!1;for(Ne in ce)if(fo.call(ce,Ne)){if(Le)return!1;Le=!0}if(!Le)return!1;if(-1!==L.indexOf(Ne))return!1;L.push(Ne)}return!0},construct:function(w){return null!==w?w:[]}}),Ps=Object.prototype.toString,na=new We("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(w){if(null===w)return!0;var L,G,Z,ce,Ne,Le=w;for(Ne=new Array(Le.length),L=0,G=Le.length;L<G;L+=1){if("[object Object]"!==Ps.call(Z=Le[L])||1!==(ce=Object.keys(Z)).length)return!1;Ne[L]=[ce[0],Z[ce[0]]]}return!0},construct:function(w){if(null===w)return[];var L,G,Z,ce,Ne,Le=w;for(Ne=new Array(Le.length),L=0,G=Le.length;L<G;L+=1)Z=Le[L],ce=Object.keys(Z),Ne[L]=[ce[0],Z[ce[0]]];return Ne}}),pa=Object.prototype.hasOwnProperty,ga=new We("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(w){if(null===w)return!0;var L,G=w;for(L in G)if(pa.call(G,L)&&null!==G[L])return!1;return!0},construct:function(w){return null!==w?w:{}}}),Wr=Ii.extend({implicit:[di,Pr],explicit:[Lr,$s,na,ga]}),lr=Object.prototype.hasOwnProperty,Go=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Js=/[\x85\u2028\u2029]/,ia=/[,\[\]\{\}]/,Io=/^(?:!|!!|![a-z\-]+!)$/i,ra=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function No(w){return Object.prototype.toString.call(w)}function pr(w){return 10===w||13===w}function Zo(w){return 9===w||32===w}function vr(w){return 9===w||32===w||10===w||13===w}function Fo(w){return 44===w||91===w||93===w||123===w||125===w}function br(w){var L;return 48<=w&&w<=57?w-48:97<=(L=32|w)&&L<=102?L-97+10:-1}function Ia(w){return 120===w?2:117===w?4:85===w?8:0}function Ns(w){return 48<=w&&w<=57?w-48:-1}function Fs(w){return 48===w?"\0":97===w?"\x07":98===w?"\b":116===w||9===w?"\t":110===w?"\n":118===w?"\v":102===w?"\f":114===w?"\r":101===w?"\x1b":32===w?" ":34===w?'"':47===w?"/":92===w?"\\":78===w?"\x85":95===w?"\xa0":76===w?"\u2028":80===w?"\u2029":""}function Nr(w){return w<=65535?String.fromCharCode(w):String.fromCharCode(55296+(w-65536>>10),56320+(w-65536&1023))}for(var ys=new Array(256),Bs=new Array(256),Wo=0;Wo<256;Wo++)ys[Wo]=Fs(Wo)?1:0,Bs[Wo]=Fs(Wo);function ma(w,L){this.input=w,this.filename=L.filename||null,this.schema=L.schema||Wr,this.onWarning=L.onWarning||null,this.legacy=L.legacy||!1,this.json=L.json||!1,this.listener=L.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=w.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Qo(w,L){var G={name:w.filename,buffer:w.input.slice(0,-1),position:w.position,line:w.line,column:w.position-w.lineStart};return G.snippet=function(w,L){if(L=Object.create(L||null),!w.buffer)return null;L.maxLength||(L.maxLength=79),"number"!=typeof L.indent&&(L.indent=1),"number"!=typeof L.linesBefore&&(L.linesBefore=3),"number"!=typeof L.linesAfter&&(L.linesAfter=2);for(var Ne,G=/\r?\n|\r|\0/g,Z=[0],ce=[],Le=-1;Ne=G.exec(w.buffer);)ce.push(Ne.index),Z.push(Ne.index+Ne[0].length),w.position<=Ne.index&&Le<0&&(Le=Z.length-2);Le<0&&(Le=Z.length-1);var ct,ut,Ke="",Ft=Math.min(w.line+L.linesAfter,ce.length).toString().length,Ie=L.maxLength-(L.indent+Ft+3);for(ct=1;ct<=L.linesBefore&&!(Le-ct<0);ct++)ut=qn(w.buffer,Z[Le-ct],ce[Le-ct],w.position-(Z[Le]-Z[Le-ct]),Ie),Ke=tt.repeat(" ",L.indent)+zn((w.line-ct+1).toString(),Ft)+" | "+ut.str+"\n"+Ke;for(ut=qn(w.buffer,Z[Le],ce[Le],w.position,Ie),Ke+=tt.repeat(" ",L.indent)+zn((w.line+1).toString(),Ft)+" | "+ut.str+"\n",Ke+=tt.repeat("-",L.indent+Ft+3+ut.pos)+"^\n",ct=1;ct<=L.linesAfter&&!(Le+ct>=ce.length);ct++)ut=qn(w.buffer,Z[Le+ct],ce[Le+ct],w.position-(Z[Le]-Z[Le+ct]),Ie),Ke+=tt.repeat(" ",L.indent)+zn((w.line+ct+1).toString(),Ft)+" | "+ut.str+"\n";return Ke.replace(/\n$/,"")}(G),new Cn(L,G)}function Fn(w,L){throw Qo(w,L)}function be(w,L){w.onWarning&&w.onWarning.call(null,Qo(w,L))}var Ye={YAML:function(L,G,Z){var ce,Ne,Le;null!==L.version&&Fn(L,"duplication of %YAML directive"),1!==Z.length&&Fn(L,"YAML directive accepts exactly one argument"),null===(ce=/^([0-9]+)\.([0-9]+)$/.exec(Z[0]))&&Fn(L,"ill-formed argument of the YAML directive"),Ne=parseInt(ce[1],10),Le=parseInt(ce[2],10),1!==Ne&&Fn(L,"unacceptable YAML version of the document"),L.version=Z[0],L.checkLineBreaks=Le<2,1!==Le&&2!==Le&&be(L,"unsupported YAML version of the document")},TAG:function(L,G,Z){var ce,Ne;2!==Z.length&&Fn(L,"TAG directive accepts exactly two arguments"),Ne=Z[1],Io.test(ce=Z[0])||Fn(L,"ill-formed tag handle (first argument) of the TAG directive"),lr.call(L.tagMap,ce)&&Fn(L,'there is a previously declared suffix for "'+ce+'" tag handle'),ra.test(Ne)||Fn(L,"ill-formed tag prefix (second argument) of the TAG directive");try{Ne=decodeURIComponent(Ne)}catch(Le){Fn(L,"tag prefix is malformed: "+Ne)}L.tagMap[ce]=Ne}};function Se(w,L,G,Z){var ce,Ne,Le,Ke;if(L<G){if(Ke=w.input.slice(L,G),Z)for(ce=0,Ne=Ke.length;ce<Ne;ce+=1)9===(Le=Ke.charCodeAt(ce))||32<=Le&&Le<=1114111||Fn(w,"expected valid JSON character");else Go.test(Ke)&&Fn(w,"the stream contains non-printable characters");w.result+=Ke}}function K(w,L,G,Z){var ce,Ne,Le,Ke;for(tt.isObject(G)||Fn(w,"cannot merge mappings; the provided source object is unacceptable"),Le=0,Ke=(ce=Object.keys(G)).length;Le<Ke;Le+=1)lr.call(L,Ne=ce[Le])||(L[Ne]=G[Ne],Z[Ne]=!0)}function $(w,L,G,Z,ce,Ne,Le,Ke,ct){var ut,Ft;if(Array.isArray(ce))for(ut=0,Ft=(ce=Array.prototype.slice.call(ce)).length;ut<Ft;ut+=1)Array.isArray(ce[ut])&&Fn(w,"nested arrays are not supported inside keys"),"object"==typeof ce&&"[object Object]"===No(ce[ut])&&(ce[ut]="[object Object]");if("object"==typeof ce&&"[object Object]"===No(ce)&&(ce="[object Object]"),ce=String(ce),null===L&&(L={}),"tag:yaml.org,2002:merge"===Z)if(Array.isArray(Ne))for(ut=0,Ft=Ne.length;ut<Ft;ut+=1)K(w,L,Ne[ut],G);else K(w,L,Ne,G);else!w.json&&!lr.call(G,ce)&&lr.call(L,ce)&&(w.line=Le||w.line,w.lineStart=Ke||w.lineStart,w.position=ct||w.position,Fn(w,"duplicated mapping key")),"__proto__"===ce?Object.defineProperty(L,ce,{configurable:!0,enumerable:!0,writable:!0,value:Ne}):L[ce]=Ne,delete G[ce];return L}function q(w){var L;10===(L=w.input.charCodeAt(w.position))?w.position++:13===L?(w.position++,10===w.input.charCodeAt(w.position)&&w.position++):Fn(w,"a line break is expected"),w.line+=1,w.lineStart=w.position,w.firstTabInLine=-1}function Pe(w,L,G){for(var Z=0,ce=w.input.charCodeAt(w.position);0!==ce;){for(;Zo(ce);)9===ce&&-1===w.firstTabInLine&&(w.firstTabInLine=w.position),ce=w.input.charCodeAt(++w.position);if(L&&35===ce)do{ce=w.input.charCodeAt(++w.position)}while(10!==ce&&13!==ce&&0!==ce);if(!pr(ce))break;for(q(w),ce=w.input.charCodeAt(w.position),Z++,w.lineIndent=0;32===ce;)w.lineIndent++,ce=w.input.charCodeAt(++w.position)}return-1!==G&&0!==Z&&w.lineIndent<G&&be(w,"deficient indentation"),Z}function Wt(w){var G,L=w.position;return!(45!==(G=w.input.charCodeAt(L))&&46!==G||G!==w.input.charCodeAt(L+1)||G!==w.input.charCodeAt(L+2)||(L+=3,G=w.input.charCodeAt(L),0!==G&&!vr(G)))}function Rn(w,L){1===L?w.result+=" ":L>1&&(w.result+=tt.repeat("\n",L-1))}function Br(w,L){var G,ct,Z=w.tag,ce=w.anchor,Ne=[],Ke=!1;if(-1!==w.firstTabInLine)return!1;for(null!==w.anchor&&(w.anchorMap[w.anchor]=Ne),ct=w.input.charCodeAt(w.position);0!==ct&&(-1!==w.firstTabInLine&&(w.position=w.firstTabInLine,Fn(w,"tab characters must not be used in indentation")),45===ct&&vr(w.input.charCodeAt(w.position+1)));)if(Ke=!0,w.position++,Pe(w,!0,-1)&&w.lineIndent<=L)Ne.push(null),ct=w.input.charCodeAt(w.position);else if(G=w.line,ci(w,L,3,!1,!0),Ne.push(w.result),Pe(w,!0,-1),ct=w.input.charCodeAt(w.position),(w.line===G||w.lineIndent>L)&&0!==ct)Fn(w,"bad indentation of a sequence entry");else if(w.lineIndent<L)break;return!!Ke&&(w.tag=Z,w.anchor=ce,w.kind="sequence",w.result=Ne,!0)}function Hr(w){var L,ce,Ne,Le,G=!1,Z=!1;if(33!==(Le=w.input.charCodeAt(w.position)))return!1;if(null!==w.tag&&Fn(w,"duplication of a tag property"),60===(Le=w.input.charCodeAt(++w.position))?(G=!0,Le=w.input.charCodeAt(++w.position)):33===Le?(Z=!0,ce="!!",Le=w.input.charCodeAt(++w.position)):ce="!",L=w.position,G){do{Le=w.input.charCodeAt(++w.position)}while(0!==Le&&62!==Le);w.position<w.length?(Ne=w.input.slice(L,w.position),Le=w.input.charCodeAt(++w.position)):Fn(w,"unexpected end of the stream within a verbatim tag")}else{for(;0!==Le&&!vr(Le);)33===Le&&(Z?Fn(w,"tag suffix cannot contain exclamation marks"):(ce=w.input.slice(L-1,w.position+1),Io.test(ce)||Fn(w,"named tag handle cannot contain such characters"),Z=!0,L=w.position+1)),Le=w.input.charCodeAt(++w.position);Ne=w.input.slice(L,w.position),ia.test(Ne)&&Fn(w,"tag suffix cannot contain flow indicator characters")}Ne&&!ra.test(Ne)&&Fn(w,"tag name cannot contain such characters: "+Ne);try{Ne=decodeURIComponent(Ne)}catch(Ke){Fn(w,"tag name is malformed: "+Ne)}return G?w.tag=Ne:lr.call(w.tagMap,ce)?w.tag=w.tagMap[ce]+Ne:"!"===ce?w.tag="!"+Ne:"!!"===ce?w.tag="tag:yaml.org,2002:"+Ne:Fn(w,'undeclared tag handle "'+ce+'"'),!0}function cs(w){var L,G;if(38!==(G=w.input.charCodeAt(w.position)))return!1;for(null!==w.anchor&&Fn(w,"duplication of an anchor property"),G=w.input.charCodeAt(++w.position),L=w.position;0!==G&&!vr(G)&&!Fo(G);)G=w.input.charCodeAt(++w.position);return w.position===L&&Fn(w,"name of an anchor node must contain at least one character"),w.anchor=w.input.slice(L,w.position),!0}function ci(w,L,G,Z,ce){var Ne,Le,Ke,Ie,Xt,Kt,pn,Ln,Bn,ct=1,ut=!1,Ft=!1;if(null!==w.listener&&w.listener("open",w),w.tag=null,w.anchor=null,w.kind=null,w.result=null,Ne=Le=Ke=4===G||3===G,Z&&Pe(w,!0,-1)&&(ut=!0,w.lineIndent>L?ct=1:w.lineIndent===L?ct=0:w.lineIndent<L&&(ct=-1)),1===ct)for(;Hr(w)||cs(w);)Pe(w,!0,-1)?(ut=!0,Ke=Ne,w.lineIndent>L?ct=1:w.lineIndent===L?ct=0:w.lineIndent<L&&(ct=-1)):Ke=!1;if(Ke&&(Ke=ut||ce),(1===ct||4===G)&&(Ln=1===G||2===G?L:L+1,Bn=w.position-w.lineStart,1===ct?Ke&&(Br(w,Bn)||function(w,L,G){var Z,ce,Ne,Le,Ke,ct,kn,ut=w.tag,Ft=w.anchor,Ie={},Xt=Object.create(null),Kt=null,pn=null,Ln=null,Bn=!1,ri=!1;if(-1!==w.firstTabInLine)return!1;for(null!==w.anchor&&(w.anchorMap[w.anchor]=Ie),kn=w.input.charCodeAt(w.position);0!==kn;){if(!Bn&&-1!==w.firstTabInLine&&(w.position=w.firstTabInLine,Fn(w,"tab characters must not be used in indentation")),Z=w.input.charCodeAt(w.position+1),Ne=w.line,63!==kn&&58!==kn||!vr(Z)){if(Le=w.line,Ke=w.lineStart,ct=w.position,!ci(w,G,2,!1,!0))break;if(w.line===Ne){for(kn=w.input.charCodeAt(w.position);Zo(kn);)kn=w.input.charCodeAt(++w.position);if(58===kn)vr(kn=w.input.charCodeAt(++w.position))||Fn(w,"a whitespace character is expected after the key-value separator within a block mapping"),Bn&&($(w,Ie,Xt,Kt,pn,null,Le,Ke,ct),Kt=pn=Ln=null),ri=!0,Bn=!1,ce=!1,Kt=w.tag,pn=w.result;else{if(!ri)return w.tag=ut,w.anchor=Ft,!0;Fn(w,"can not read an implicit mapping pair; a colon is missed")}}else{if(!ri)return w.tag=ut,w.anchor=Ft,!0;Fn(w,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===kn?(Bn&&($(w,Ie,Xt,Kt,pn,null,Le,Ke,ct),Kt=pn=Ln=null),ri=!0,Bn=!0,ce=!0):Bn?(Bn=!1,ce=!0):Fn(w,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),w.position+=1,kn=Z;if((w.line===Ne||w.lineIndent>L)&&(Bn&&(Le=w.line,Ke=w.lineStart,ct=w.position),ci(w,L,4,!0,ce)&&(Bn?pn=w.result:Ln=w.result),Bn||($(w,Ie,Xt,Kt,pn,Ln,Le,Ke,ct),Kt=pn=Ln=null),Pe(w,!0,-1),kn=w.input.charCodeAt(w.position)),(w.line===Ne||w.lineIndent>L)&&0!==kn)Fn(w,"bad indentation of a mapping entry");else if(w.lineIndent<L)break}return Bn&&$(w,Ie,Xt,Kt,pn,null,Le,Ke,ct),ri&&(w.tag=ut,w.anchor=Ft,w.kind="mapping",w.result=Ie),ri}(w,Bn,Ln))||function(w,L){var Z,ce,Ne,Ke,Ft,Ie,Xt,Kt,Ln,Bn,ri,kn,G=!0,Le=w.tag,ct=w.anchor,pn=Object.create(null);if(91===(kn=w.input.charCodeAt(w.position)))Ft=93,Kt=!1,Ke=[];else{if(123!==kn)return!1;Ft=125,Kt=!0,Ke={}}for(null!==w.anchor&&(w.anchorMap[w.anchor]=Ke),kn=w.input.charCodeAt(++w.position);0!==kn;){if(Pe(w,!0,L),(kn=w.input.charCodeAt(w.position))===Ft)return w.position++,w.tag=Le,w.anchor=ct,w.kind=Kt?"mapping":"sequence",w.result=Ke,!0;G?44===kn&&Fn(w,"expected the node content, but found ','"):Fn(w,"missed comma between flow collection entries"),ri=null,Ie=Xt=!1,63===kn&&vr(w.input.charCodeAt(w.position+1))&&(Ie=Xt=!0,w.position++,Pe(w,!0,L)),Z=w.line,ce=w.lineStart,Ne=w.position,ci(w,L,1,!1,!0),Bn=w.tag,Ln=w.result,Pe(w,!0,L),kn=w.input.charCodeAt(w.position),(Xt||w.line===Z)&&58===kn&&(Ie=!0,kn=w.input.charCodeAt(++w.position),Pe(w,!0,L),ci(w,L,1,!1,!0),ri=w.result),Kt?$(w,Ke,pn,Bn,Ln,ri,Z,ce,Ne):Ke.push(Ie?$(w,null,pn,Bn,Ln,ri,Z,ce,Ne):Ln),Pe(w,!0,L),44===(kn=w.input.charCodeAt(w.position))?(G=!0,kn=w.input.charCodeAt(++w.position)):G=!1}Fn(w,"unexpected end of the stream within a flow collection")}(w,Ln)?Ft=!0:(Le&&function(w,L){var G,Z,Ft,Ie,ce=1,Ne=!1,Le=!1,Ke=L,ct=0,ut=!1;if(124===(Ie=w.input.charCodeAt(w.position)))Z=!1;else{if(62!==Ie)return!1;Z=!0}for(w.kind="scalar",w.result="";0!==Ie;)if(43===(Ie=w.input.charCodeAt(++w.position))||45===Ie)1===ce?ce=43===Ie?3:2:Fn(w,"repeat of a chomping mode identifier");else{if(!((Ft=Ns(Ie))>=0))break;0===Ft?Fn(w,"bad explicit indentation width of a block scalar; it cannot be less than one"):Le?Fn(w,"repeat of an indentation width identifier"):(Ke=L+Ft-1,Le=!0)}if(Zo(Ie)){do{Ie=w.input.charCodeAt(++w.position)}while(Zo(Ie));if(35===Ie)do{Ie=w.input.charCodeAt(++w.position)}while(!pr(Ie)&&0!==Ie)}for(;0!==Ie;){for(q(w),w.lineIndent=0,Ie=w.input.charCodeAt(w.position);(!Le||w.lineIndent<Ke)&&32===Ie;)w.lineIndent++,Ie=w.input.charCodeAt(++w.position);if(!Le&&w.lineIndent>Ke&&(Ke=w.lineIndent),pr(Ie))ct++;else{if(w.lineIndent<Ke){3===ce?w.result+=tt.repeat("\n",Ne?1+ct:ct):1===ce&&Ne&&(w.result+="\n");break}for(Z?Zo(Ie)?(ut=!0,w.result+=tt.repeat("\n",Ne?1+ct:ct)):ut?(ut=!1,w.result+=tt.repeat("\n",ct+1)):0===ct?Ne&&(w.result+=" "):w.result+=tt.repeat("\n",ct):w.result+=tt.repeat("\n",Ne?1+ct:ct),Ne=!0,Le=!0,ct=0,G=w.position;!pr(Ie)&&0!==Ie;)Ie=w.input.charCodeAt(++w.position);Se(w,G,w.position,!1)}}return!0}(w,Ln)||function(w,L){var G,Z,ce;if(39!==(G=w.input.charCodeAt(w.position)))return!1;for(w.kind="scalar",w.result="",w.position++,Z=ce=w.position;0!==(G=w.input.charCodeAt(w.position));)if(39===G){if(Se(w,Z,w.position,!0),39!==(G=w.input.charCodeAt(++w.position)))return!0;Z=w.position,w.position++,ce=w.position}else pr(G)?(Se(w,Z,ce,!0),Rn(w,Pe(w,!1,L)),Z=ce=w.position):w.position===w.lineStart&&Wt(w)?Fn(w,"unexpected end of the document within a single quoted scalar"):(w.position++,ce=w.position);Fn(w,"unexpected end of the stream within a single quoted scalar")}(w,Ln)||function(w,L){var G,Z,ce,Ne,Le,Ke;if(34!==(Ke=w.input.charCodeAt(w.position)))return!1;for(w.kind="scalar",w.result="",w.position++,G=Z=w.position;0!==(Ke=w.input.charCodeAt(w.position));){if(34===Ke)return Se(w,G,w.position,!0),w.position++,!0;if(92===Ke){if(Se(w,G,w.position,!0),pr(Ke=w.input.charCodeAt(++w.position)))Pe(w,!1,L);else if(Ke<256&&ys[Ke])w.result+=Bs[Ke],w.position++;else if((Le=Ia(Ke))>0){for(ce=Le,Ne=0;ce>0;ce--)(Le=br(Ke=w.input.charCodeAt(++w.position)))>=0?Ne=(Ne<<4)+Le:Fn(w,"expected hexadecimal character");w.result+=Nr(Ne),w.position++}else Fn(w,"unknown escape sequence");G=Z=w.position}else pr(Ke)?(Se(w,G,Z,!0),Rn(w,Pe(w,!1,L)),G=Z=w.position):w.position===w.lineStart&&Wt(w)?Fn(w,"unexpected end of the document within a double quoted scalar"):(w.position++,Z=w.position)}Fn(w,"unexpected end of the stream within a double quoted scalar")}(w,Ln)?Ft=!0:function(w){var L,G,Z;if(42!==(Z=w.input.charCodeAt(w.position)))return!1;for(Z=w.input.charCodeAt(++w.position),L=w.position;0!==Z&&!vr(Z)&&!Fo(Z);)Z=w.input.charCodeAt(++w.position);return w.position===L&&Fn(w,"name of an alias node must contain at least one character"),G=w.input.slice(L,w.position),lr.call(w.anchorMap,G)||Fn(w,'unidentified alias "'+G+'"'),w.result=w.anchorMap[G],Pe(w,!0,-1),!0}(w)?(Ft=!0,(null!==w.tag||null!==w.anchor)&&Fn(w,"alias node should not have any properties")):function(w,L,G){var ce,Ne,Le,Ke,ct,ut,Ft,Kt,Ie=w.kind,Xt=w.result;if(vr(Kt=w.input.charCodeAt(w.position))||Fo(Kt)||35===Kt||38===Kt||42===Kt||33===Kt||124===Kt||62===Kt||39===Kt||34===Kt||37===Kt||64===Kt||96===Kt||(63===Kt||45===Kt)&&(vr(ce=w.input.charCodeAt(w.position+1))||G&&Fo(ce)))return!1;for(w.kind="scalar",w.result="",Ne=Le=w.position,Ke=!1;0!==Kt;){if(58===Kt){if(vr(ce=w.input.charCodeAt(w.position+1))||G&&Fo(ce))break}else if(35===Kt){if(vr(w.input.charCodeAt(w.position-1)))break}else{if(w.position===w.lineStart&&Wt(w)||G&&Fo(Kt))break;if(pr(Kt)){if(ct=w.line,ut=w.lineStart,Ft=w.lineIndent,Pe(w,!1,-1),w.lineIndent>=L){Ke=!0,Kt=w.input.charCodeAt(w.position);continue}w.position=Le,w.line=ct,w.lineStart=ut,w.lineIndent=Ft;break}}Ke&&(Se(w,Ne,Le,!1),Rn(w,w.line-ct),Ne=Le=w.position,Ke=!1),Zo(Kt)||(Le=w.position+1),Kt=w.input.charCodeAt(++w.position)}return Se(w,Ne,Le,!1),!!w.result||(w.kind=Ie,w.result=Xt,!1)}(w,Ln,1===G)&&(Ft=!0,null===w.tag&&(w.tag="?")),null!==w.anchor&&(w.anchorMap[w.anchor]=w.result)):0===ct&&(Ft=Ke&&Br(w,Bn))),null===w.tag)null!==w.anchor&&(w.anchorMap[w.anchor]=w.result);else if("?"===w.tag){for(null!==w.result&&"scalar"!==w.kind&&Fn(w,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+w.kind+'"'),Ie=0,Xt=w.implicitTypes.length;Ie<Xt;Ie+=1)if((pn=w.implicitTypes[Ie]).resolve(w.result)){w.result=pn.construct(w.result),w.tag=pn.tag,null!==w.anchor&&(w.anchorMap[w.anchor]=w.result);break}}else if("!"!==w.tag){if(lr.call(w.typeMap[w.kind||"fallback"],w.tag))pn=w.typeMap[w.kind||"fallback"][w.tag];else for(pn=null,Ie=0,Xt=(Kt=w.typeMap.multi[w.kind||"fallback"]).length;Ie<Xt;Ie+=1)if(w.tag.slice(0,Kt[Ie].tag.length)===Kt[Ie].tag){pn=Kt[Ie];break}pn||Fn(w,"unknown tag !<"+w.tag+">"),null!==w.result&&pn.kind!==w.kind&&Fn(w,"unacceptable node kind for !<"+w.tag+'> tag; it should be "'+pn.kind+'", not "'+w.kind+'"'),pn.resolve(w.result,w.tag)?(w.result=pn.construct(w.result,w.tag),null!==w.anchor&&(w.anchorMap[w.anchor]=w.result)):Fn(w,"cannot resolve a node with !<"+w.tag+"> explicit tag")}return null!==w.listener&&w.listener("close",w),null!==w.tag||null!==w.anchor||Ft}function _a(w){var G,Z,ce,Le,L=w.position,Ne=!1;for(w.version=null,w.checkLineBreaks=w.legacy,w.tagMap=Object.create(null),w.anchorMap=Object.create(null);0!==(Le=w.input.charCodeAt(w.position))&&(Pe(w,!0,-1),Le=w.input.charCodeAt(w.position),!(w.lineIndent>0||37!==Le));){for(Ne=!0,Le=w.input.charCodeAt(++w.position),G=w.position;0!==Le&&!vr(Le);)Le=w.input.charCodeAt(++w.position);for(ce=[],(Z=w.input.slice(G,w.position)).length<1&&Fn(w,"directive name must not be less than one character in length");0!==Le;){for(;Zo(Le);)Le=w.input.charCodeAt(++w.position);if(35===Le){do{Le=w.input.charCodeAt(++w.position)}while(0!==Le&&!pr(Le));break}if(pr(Le))break;for(G=w.position;0!==Le&&!vr(Le);)Le=w.input.charCodeAt(++w.position);ce.push(w.input.slice(G,w.position))}0!==Le&&q(w),lr.call(Ye,Z)?Ye[Z](w,Z,ce):be(w,'unknown document directive "'+Z+'"')}Pe(w,!0,-1),0===w.lineIndent&&45===w.input.charCodeAt(w.position)&&45===w.input.charCodeAt(w.position+1)&&45===w.input.charCodeAt(w.position+2)?(w.position+=3,Pe(w,!0,-1)):Ne&&Fn(w,"directives end mark is expected"),ci(w,w.lineIndent-1,4,!1,!0),Pe(w,!0,-1),w.checkLineBreaks&&Js.test(w.input.slice(L,w.position))&&be(w,"non-ASCII line breaks are interpreted as content"),w.documents.push(w.result),w.position===w.lineStart&&Wt(w)?46===w.input.charCodeAt(w.position)&&(w.position+=3,Pe(w,!0,-1)):w.position<w.length-1&&Fn(w,"end of the stream or a document separator is expected")}function ds(w,L){L=L||{},0!==(w=String(w)).length&&(10!==w.charCodeAt(w.length-1)&&13!==w.charCodeAt(w.length-1)&&(w+="\n"),65279===w.charCodeAt(0)&&(w=w.slice(1)));var G=new ma(w,L),Z=w.indexOf("\0");for(-1!==Z&&(G.position=Z,Fn(G,"null byte is not allowed in input")),G.input+="\0";32===G.input.charCodeAt(G.position);)G.lineIndent+=1,G.position+=1;for(;G.position<G.length-1;)_a(G);return G.documents}var Es={loadAll:function(w,L,G){null!==L&&"object"==typeof L&&void 0===G&&(G=L,L=null);var Z=ds(w,G);if("function"!=typeof L)return Z;for(var ce=0,Ne=Z.length;ce<Ne;ce+=1)L(Z[ce])},load:function(w,L){var G=ds(w,L);if(0!==G.length){if(1===G.length)return G[0];throw new Cn("expected a single document in the stream, but found more")}}},In=Object.prototype.toString,Mi=Object.prototype.hasOwnProperty,nr={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},hs=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Ts=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function es(w){var L,G,Z;if(L=w.toString(16).toUpperCase(),w<=255)G="x",Z=2;else if(w<=65535)G="u",Z=4;else{if(!(w<=4294967295))throw new Cn("code point within a string may not be greater than 0xFFFFFFFF");G="U",Z=8}return"\\"+G+tt.repeat("0",Z-L.length)+L}function $l(w){this.schema=w.schema||Wr,this.indent=Math.max(1,w.indent||2),this.noArrayIndent=w.noArrayIndent||!1,this.skipInvalid=w.skipInvalid||!1,this.flowLevel=tt.isNothing(w.flowLevel)?-1:w.flowLevel,this.styleMap=function(w,L){var G,Z,ce,Ne,Le,Ke,ct;if(null===L)return{};for(G={},ce=0,Ne=(Z=Object.keys(L)).length;ce<Ne;ce+=1)Le=Z[ce],Ke=String(L[Le]),"!!"===Le.slice(0,2)&&(Le="tag:yaml.org,2002:"+Le.slice(2)),(ct=w.compiledTypeMap.fallback[Le])&&Mi.call(ct.styleAliases,Ke)&&(Ke=ct.styleAliases[Ke]),G[Le]=Ke;return G}(this.schema,w.styles||null),this.sortKeys=w.sortKeys||!1,this.lineWidth=w.lineWidth||80,this.noRefs=w.noRefs||!1,this.noCompatMode=w.noCompatMode||!1,this.condenseFlow=w.condenseFlow||!1,this.quotingType='"'===w.quotingType?2:1,this.forceQuotes=w.forceQuotes||!1,this.replacer="function"==typeof w.replacer?w.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function oa(w,L){for(var Le,G=tt.repeat(" ",L),Z=0,ce=-1,Ne="",Ke=w.length;Z<Ke;)-1===(ce=w.indexOf("\n",Z))?(Le=w.slice(Z),Z=Ke):(Le=w.slice(Z,ce+1),Z=ce+1),Le.length&&"\n"!==Le&&(Ne+=G),Ne+=Le;return Ne}function Ar(w,L){return"\n"+tt.repeat(" ",w.indent*L)}function dr(w){return 32===w||9===w}function ei(w){return 32<=w&&w<=126||161<=w&&w<=55295&&8232!==w&&8233!==w||57344<=w&&w<=65533&&65279!==w||65536<=w&&w<=1114111}function hi(w){return ei(w)&&65279!==w&&13!==w&&10!==w}function Ci(w,L,G){var Z=hi(w),ce=Z&&!dr(w);return(G?Z:Z&&44!==w&&91!==w&&93!==w&&123!==w&&125!==w)&&35!==w&&!(58===L&&!ce)||hi(L)&&!dr(L)&&35===w||58===L&&ce}function jo(w,L){var Z,G=w.charCodeAt(L);return G>=55296&&G<=56319&&L+1<w.length&&(Z=w.charCodeAt(L+1))>=56320&&Z<=57343?1024*(G-55296)+Z-56320+65536:G}function ao(w){return/^\n* /.test(w)}function ts(w,L,G,Z,ce){w.dump=function(){if(0===L.length)return 2===w.quotingType?'""':"''";if(!w.noCompatMode&&(-1!==hs.indexOf(L)||Ts.test(L)))return 2===w.quotingType?'"'+L+'"':"'"+L+"'";var Ne=w.indent*Math.max(1,G),Le=-1===w.lineWidth?-1:Math.max(Math.min(w.lineWidth,40),w.lineWidth-Ne);switch(function(w,L,G,Z,ce,Ne,Le,Ke){var ct,ut=0,Ft=null,Ie=!1,Xt=!1,Kt=-1!==Z,pn=-1,Ln=function(w){return ei(w)&&65279!==w&&!dr(w)&&45!==w&&63!==w&&58!==w&&44!==w&&91!==w&&93!==w&&123!==w&&125!==w&&35!==w&&38!==w&&42!==w&&33!==w&&124!==w&&61!==w&&62!==w&&39!==w&&34!==w&&37!==w&&64!==w&&96!==w}(jo(w,0))&&function(w){return!dr(w)&&58!==w}(jo(w,w.length-1));if(L||Le)for(ct=0;ct<w.length;ut>=65536?ct+=2:ct++){if(!ei(ut=jo(w,ct)))return 5;Ln=Ln&&Ci(ut,Ft,Ke),Ft=ut}else{for(ct=0;ct<w.length;ut>=65536?ct+=2:ct++){if(10===(ut=jo(w,ct)))Ie=!0,Kt&&(Xt=Xt||ct-pn-1>Z&&" "!==w[pn+1],pn=ct);else if(!ei(ut))return 5;Ln=Ln&&Ci(ut,Ft,Ke),Ft=ut}Xt=Xt||Kt&&ct-pn-1>Z&&" "!==w[pn+1]}return Ie||Xt?G>9&&ao(w)?5:Le?2===Ne?5:2:Xt?4:3:!Ln||Le||ce(w)?2===Ne?5:2:1}(L,Z||w.flowLevel>-1&&G>=w.flowLevel,w.indent,Le,function(ut){return function(w,L){var G,Z;for(G=0,Z=w.implicitTypes.length;G<Z;G+=1)if(w.implicitTypes[G].resolve(L))return!0;return!1}(w,ut)},w.quotingType,w.forceQuotes&&!Z,ce)){case 1:return L;case 2:return"'"+L.replace(/'/g,"''")+"'";case 3:return"|"+Ga(L,w.indent)+gl(oa(L,Ne));case 4:return">"+Ga(L,w.indent)+gl(oa(function(w,L){for(var Ne,Le,G=/(\n+)([^\n]*)/g,Z=(ut=void 0,ut=w.indexOf("\n"),G.lastIndex=ut=-1!==ut?ut:w.length,ba(w.slice(0,ut),L)),ce="\n"===w[0]||" "===w[0];Le=G.exec(w);){var ct=Le[2];Ne=" "===ct[0],Z+=Le[1]+(ce||Ne||""===ct?"":"\n")+ba(ct,L),ce=Ne}var ut;return Z}(L,Le),Ne));case 5:return'"'+function(w){for(var Z,L="",G=0,ce=0;ce<w.length;G>=65536?ce+=2:ce++)G=jo(w,ce),!(Z=nr[G])&&ei(G)?(L+=w[ce],G>=65536&&(L+=w[ce+1])):L+=Z||es(G);return L}(L)+'"';default:throw new Cn("impossible error: invalid scalar style")}}()}function Ga(w,L){var G=ao(w)?String(L):"",Z="\n"===w[w.length-1];return G+(!Z||"\n"!==w[w.length-2]&&"\n"!==w?Z?"":"-":"+")+"\n"}function gl(w){return"\n"===w[w.length-1]?w.slice(0,-1):w}function ba(w,L){if(""===w||" "===w[0])return w;for(var Z,Ne,G=/ [^ ]/g,ce=0,Le=0,Ke=0,ct="";Z=G.exec(w);)(Ke=Z.index)-ce>L&&(ct+="\n"+w.slice(ce,Ne=Le>ce?Le:Ke),ce=Ne+1),Le=Ke;return ct+="\n",(ct+=w.length-ce>L&&Le>ce?w.slice(ce,Le)+"\n"+w.slice(Le+1):w.slice(ce)).slice(1)}function ns(w,L,G){var Z,ce,Ne,Le,Ke,ct;for(Ne=0,Le=(ce=G?w.explicitTypes:w.implicitTypes).length;Ne<Le;Ne+=1)if(((Ke=ce[Ne]).instanceOf||Ke.predicate)&&(!Ke.instanceOf||"object"==typeof L&&L instanceof Ke.instanceOf)&&(!Ke.predicate||Ke.predicate(L))){if(w.tag=G?Ke.multi&&Ke.representName?Ke.representName(L):Ke.tag:"?",Ke.represent){if(ct=w.styleMap[Ke.tag]||Ke.defaultStyle,"[object Function]"===In.call(Ke.represent))Z=Ke.represent(L,ct);else{if(!Mi.call(Ke.represent,ct))throw new Cn("!<"+Ke.tag+'> tag resolver accepts not "'+ct+'" style');Z=Ke.represent[ct](L,ct)}w.dump=Z}return!0}return!1}function Ao(w,L,G,Z,ce,Ne,Le){w.tag=null,w.dump=G,ns(w,G,!1)||ns(w,G,!0);var ut,Ke=In.call(w.dump),ct=Z;Z&&(Z=w.flowLevel<0||w.flowLevel>L);var Ie,Xt,Ft="[object Object]"===Ke||"[object Array]"===Ke;if(Ft&&(Xt=-1!==(Ie=w.duplicates.indexOf(G))),(null!==w.tag&&"?"!==w.tag||Xt||2!==w.indent&&L>0)&&(ce=!1),Xt&&w.usedDuplicates[Ie])w.dump="*ref_"+Ie;else{if(Ft&&Xt&&!w.usedDuplicates[Ie]&&(w.usedDuplicates[Ie]=!0),"[object Object]"===Ke)Z&&0!==Object.keys(w.dump).length?(function(w,L,G,Z){var Ke,ct,ut,Ft,Ie,Xt,ce="",Ne=w.tag,Le=Object.keys(G);if(!0===w.sortKeys)Le.sort();else if("function"==typeof w.sortKeys)Le.sort(w.sortKeys);else if(w.sortKeys)throw new Cn("sortKeys must be a boolean or a function");for(Ke=0,ct=Le.length;Ke<ct;Ke+=1)Xt="",(!Z||""!==ce)&&(Xt+=Ar(w,L)),Ft=G[ut=Le[Ke]],w.replacer&&(Ft=w.replacer.call(G,ut,Ft)),Ao(w,L+1,ut,!0,!0,!0)&&((Ie=null!==w.tag&&"?"!==w.tag||w.dump&&w.dump.length>1024)&&(w.dump&&10===w.dump.charCodeAt(0)?Xt+="?":Xt+="? "),Xt+=w.dump,Ie&&(Xt+=Ar(w,L)),Ao(w,L+1,Ft,!0,Ie)&&(w.dump&&10===w.dump.charCodeAt(0)?Xt+=":":Xt+=": ",ce+=Xt+=w.dump));w.tag=Ne,w.dump=ce||"{}"}(w,L,w.dump,ce),Xt&&(w.dump="&ref_"+Ie+w.dump)):(function(w,L,G){var Le,Ke,ct,ut,Ft,Z="",ce=w.tag,Ne=Object.keys(G);for(Le=0,Ke=Ne.length;Le<Ke;Le+=1)Ft="",""!==Z&&(Ft+=", "),w.condenseFlow&&(Ft+='"'),ut=G[ct=Ne[Le]],w.replacer&&(ut=w.replacer.call(G,ct,ut)),Ao(w,L,ct,!1,!1)&&(w.dump.length>1024&&(Ft+="? "),Ft+=w.dump+(w.condenseFlow?'"':"")+":"+(w.condenseFlow?"":" "),Ao(w,L,ut,!1,!1)&&(Z+=Ft+=w.dump));w.tag=ce,w.dump="{"+Z+"}"}(w,L,w.dump),Xt&&(w.dump="&ref_"+Ie+" "+w.dump));else if("[object Array]"===Ke)Z&&0!==w.dump.length?(function(w,L,G,Z){var Le,Ke,ct,ce="",Ne=w.tag;for(Le=0,Ke=G.length;Le<Ke;Le+=1)ct=G[Le],w.replacer&&(ct=w.replacer.call(G,String(Le),ct)),(Ao(w,L+1,ct,!0,!0,!1,!0)||void 0===ct&&Ao(w,L+1,null,!0,!0,!1,!0))&&((!Z||""!==ce)&&(ce+=Ar(w,L)),w.dump&&10===w.dump.charCodeAt(0)?ce+="-":ce+="- ",ce+=w.dump);w.tag=Ne,w.dump=ce||"[]"}(w,w.noArrayIndent&&!Le&&L>0?L-1:L,w.dump,ce),Xt&&(w.dump="&ref_"+Ie+w.dump)):(function(w,L,G){var Ne,Le,Ke,Z="",ce=w.tag;for(Ne=0,Le=G.length;Ne<Le;Ne+=1)Ke=G[Ne],w.replacer&&(Ke=w.replacer.call(G,String(Ne),Ke)),(Ao(w,L,Ke,!1,!1)||void 0===Ke&&Ao(w,L,null,!1,!1))&&(""!==Z&&(Z+=","+(w.condenseFlow?"":" ")),Z+=w.dump);w.tag=ce,w.dump="["+Z+"]"}(w,L,w.dump),Xt&&(w.dump="&ref_"+Ie+" "+w.dump));else{if("[object String]"!==Ke){if("[object Undefined]"===Ke)return!1;if(w.skipInvalid)return!1;throw new Cn("unacceptable kind of an object to dump "+Ke)}"?"!==w.tag&&ts(w,w.dump,L,Ne,ct)}null!==w.tag&&"?"!==w.tag&&(ut=encodeURI("!"===w.tag[0]?w.tag.slice(1):w.tag).replace(/!/g,"%21"),ut="!"===w.tag[0]?"!"+ut:"tag:yaml.org,2002:"===ut.slice(0,18)?"!!"+ut.slice(18):"!<"+ut+">",w.dump=ut+" "+w.dump)}return!0}function xl(w,L){var ce,Ne,G=[],Z=[];for(Ss(w,G,Z),ce=0,Ne=Z.length;ce<Ne;ce+=1)L.duplicates.push(G[Z[ce]]);L.usedDuplicates=new Array(Ne)}function Ss(w,L,G){var Z,ce,Ne;if(null!==w&&"object"==typeof w)if(-1!==(ce=L.indexOf(w)))-1===G.indexOf(ce)&&G.push(ce);else if(L.push(w),Array.isArray(w))for(ce=0,Ne=w.length;ce<Ne;ce+=1)Ss(w[ce],L,G);else for(ce=0,Ne=(Z=Object.keys(w)).length;ce<Ne;ce+=1)Ss(w[Z[ce]],L,G)}function ya(w,L){return function(){throw new Error("Function yaml."+w+" is removed in js-yaml 4. Use yaml."+L+" instead, which is now safe by default.")}}const Re={Type:We,Schema:An,FAILSAFE_SCHEMA:Bi,JSON_SCHEMA:fi,CORE_SCHEMA:Ii,DEFAULT_SCHEMA:Wr,load:Es.load,loadAll:Es.loadAll,dump:function(w,L){var G=new $l(L=L||{});G.noRefs||xl(w,G);var Z=w;return G.replacer&&(Z=G.replacer.call({"":Z},"",Z)),Ao(G,0,Z,!0,!0)?G.dump+"\n":""},YAMLException:Cn,types:{binary:Lr,float:ii,map:tr,null:Qr,pairs:na,set:ga,timestamp:di,bool:Vi,int:Jo,merge:Pr,omap:$s,seq:Ki,str:Fi},safeLoad:ya("safeLoad","load"),safeLoadAll:ya("safeLoadAll","loadAll"),safeDump:ya("safeDump","dump")},$e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window,{FormData:vt,Blob:kt,File:yn}=$e;function ir(w){return function(w){if(fe(w))return ee(w)}(w)||function(w){if(void 0!==we&&null!=ke(w)||null!=w["@@iterator"])return ie(w)}(w)||ye(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zi=_(71049),_o=_.n(zi),Yo=function(L){return":/?#[]@!$&'()*+,;=".indexOf(L)>-1},gs=function(L){return/^[a-z0-9\-._~]+$/i.test(L)};function lo(w){var L,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Z=G.escape,ce=arguments.length>2?arguments[2]:void 0;return"number"==typeof w&&(w=w.toString()),"string"==typeof w&&w.length&&Z?ce?JSON.parse(w):dn()(L=ir(w)).call(L,function(Ne){var Le,Ke;if(gs(Ne)||Yo(Ne)&&"unsafe"===Z)return Ne;var ct=new TextEncoder;return dn()(Le=dn()(Ke=$t()(ct.encode(Ne))).call(Ke,function(Ft){var Ie;return _o()(Ie="0".concat(Ft.toString(16).toUpperCase())).call(Ie,-2)})).call(Le,function(Ft){return"%".concat(Ft)}).join("")}).join(""):w}function to(w){var L=w.value;return Array.isArray(L)?function(w){var L=w.key,G=w.value,Z=w.style,ce=w.explode,Ne=w.escape,Le=function(Ie){return lo(Ie,{escape:Ne})};if("simple"===Z)return dn()(G).call(G,function(Ft){return Le(Ft)}).join(",");if("label"===Z)return".".concat(dn()(G).call(G,function(Ft){return Le(Ft)}).join("."));if("matrix"===Z)return dn()(G).call(G,function(Ft){return Le(Ft)}).reduce(function(Ft,Ie){var Xt,Kt,pn;return!Ft||ce?it()(Kt=it()(pn="".concat(Ft||"",";")).call(pn,L,"=")).call(Kt,Ie):it()(Xt="".concat(Ft,",")).call(Xt,Ie)},"");if("form"===Z){var Ke=ce?"&".concat(L,"="):",";return dn()(G).call(G,function(Ft){return Le(Ft)}).join(Ke)}if("spaceDelimited"===Z){var ct=ce?"".concat(L,"="):"";return dn()(G).call(G,function(Ft){return Le(Ft)}).join(" ".concat(ct))}if("pipeDelimited"===Z){var ut=ce?"".concat(L,"="):"";return dn()(G).call(G,function(Ft){return Le(Ft)}).join("|".concat(ut))}}(w):"object"===me(L)?function(w){var L=w.key,G=w.value,Z=w.style,ce=w.explode,Ne=w.escape,Le=function(ut){return lo(ut,{escape:Ne})},Ke=Bt()(G);return"simple"===Z?Ke.reduce(function(ct,ut){var Ft,Ie,Xt,Kt=Le(G[ut]),pn=ce?"=":",",Ln=ct?"".concat(ct,","):"";return it()(Ft=it()(Ie=it()(Xt="".concat(Ln)).call(Xt,ut)).call(Ie,pn)).call(Ft,Kt)},""):"label"===Z?Ke.reduce(function(ct,ut){var Ft,Ie,Xt,Kt=Le(G[ut]),pn=ce?"=":".",Ln=ct?"".concat(ct,"."):".";return it()(Ft=it()(Ie=it()(Xt="".concat(Ln)).call(Xt,ut)).call(Ie,pn)).call(Ft,Kt)},""):"matrix"===Z&&ce?Ke.reduce(function(ct,ut){var Ft,Ie,Xt=Le(G[ut]),Kt=ct?"".concat(ct,";"):";";return it()(Ft=it()(Ie="".concat(Kt)).call(Ie,ut,"=")).call(Ft,Xt)},""):"matrix"===Z?Ke.reduce(function(ct,ut){var Ft,Ie,Xt=Le(G[ut]),Kt=ct?"".concat(ct,","):";".concat(L,"=");return it()(Ft=it()(Ie="".concat(Kt)).call(Ie,ut,",")).call(Ft,Xt)},""):"form"===Z?Ke.reduce(function(ct,ut){var Ft,Ie,Xt,Kt,pn=Le(G[ut]),Ln=ct?it()(Ft="".concat(ct)).call(Ft,ce?"&":","):"",Bn=ce?"=":",";return it()(Ie=it()(Xt=it()(Kt="".concat(Ln)).call(Kt,ut)).call(Xt,Bn)).call(Ie,pn)},""):void 0}(w):function(w){var Le,L=w.key,G=w.value,Z=w.style,ce=w.escape,Ne=function(ct){return lo(ct,{escape:ce})};return"simple"===Z?Ne(G):"label"===Z?".".concat(Ne(G)):"matrix"===Z?it()(Le=";".concat(L,"=")).call(Le,Ne(G)):"form"===Z||"deepObject"===Z?Ne(G):void 0}(w)}const ld=function(L,G){G.body=L};var _u={serializeRes:bc,mergeInQueryOrForm:ea};function _c(w){return vc.apply(this,arguments)}function vc(){return(vc=wt(Et().mark(function w(L){var G,ce,Ne,Le,Ke=arguments;return Et().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(G=Ke.length>1&&void 0!==Ke[1]?Ke[1]:{},"object"===me(L)&&(L=(G=L).url),G.headers=G.headers||{},_u.mergeInQueryOrForm(G),G.headers&&Bt()(G.headers).forEach(function(Ft){var Ie=G.headers[Ft];"string"==typeof Ie&&(G.headers[Ft]=Ie.replace(/\n+/g," "))}),!G.requestInterceptor){ut.next=12;break}return ut.next=8,G.requestInterceptor(G);case 8:if(ut.t0=ut.sent,ut.t0){ut.next=11;break}ut.t0=G;case 11:G=ut.t0;case 12:return/multipart\/form-data/i.test(G.headers["content-type"]||G.headers["Content-Type"])&&G.body instanceof vt&&(delete G.headers["content-type"],delete G.headers["Content-Type"]),ut.prev=14,ut.next=17,(G.userFetch||fetch)(G.url,G);case 17:return ce=ut.sent,ut.next=20,_u.serializeRes(ce,L,G);case 20:if(ce=ut.sent,!G.responseInterceptor){ut.next=28;break}return ut.next=24,G.responseInterceptor(ce);case 24:if(ut.t1=ut.sent,ut.t1){ut.next=27;break}ut.t1=ce;case 27:ce=ut.t1;case 28:ut.next=39;break;case 30:if(ut.prev=30,ut.t2=ut.catch(14),ce){ut.next=34;break}throw ut.t2;case 34:throw(Ne=new Error(ce.statusText||"response status is ".concat(ce.status))).status=ce.status,Ne.statusCode=ce.status,Ne.responseError=ut.t2,Ne;case 39:if(ce.ok){ut.next=45;break}throw(Le=new Error(ce.statusText||"response status is ".concat(ce.status))).status=ce.status,Le.statusCode=ce.status,Le.response=ce,Le;case 45:return ut.abrupt("return",ce);case 46:case"end":return ut.stop()}},w,null,[[14,30]])}))).apply(this,arguments)}var bl=function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(json|xml|yaml|text)\b/.test(L)};function Xr(w,L){return L&&(0===L.indexOf("application/json")||L.indexOf("+json")>0)?JSON.parse(w):Re.load(w)}function bc(w,L){var G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Z=G.loadSpec,ce=void 0!==Z&&Z,Ne={ok:w.ok,url:w.url||L,status:w.status,statusText:w.statusText,headers:vu(w.headers)},Le=Ne.headers["content-type"],Ke=ce||bl(Le),ct=Ke?w.text:w.blob||w.buffer;return ct.call(w).then(function(ut){if(Ne.text=ut,Ne.data=ut,Ke)try{var Ft=Xr(ut,Le);Ne.body=Ft,Ne.obj=Ft}catch(Ie){Ne.parseError=Ie}return Ne})}function is(w){return rt()(w).call(w,", ")?w.split(", "):w}function vu(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"function"!=typeof Vt()(w)?{}:$t()(Vt()(w).call(w)).reduce(function(L,G){var Z=ot(G,2);return L[Z[0]]=is(Z[1]),L},{})}function bu(w,L){return!L&&"undefined"!=typeof navigator&&(L=navigator),L&&"ReactNative"===L.product?!(!w||"object"!==me(w)||"string"!=typeof w.uri):!!(void 0!==yn&&w instanceof yn||void 0!==kt&&w instanceof kt||ArrayBuffer.isView(w))||null!==w&&"object"===me(w)&&"function"==typeof w.pipe}function Zl(w,L){return Array.isArray(w)&&w.some(function(G){return bu(G,L)})}var jd={form:",",spaceDelimited:"%20",pipeDelimited:"|"},cd={csv:",",ssv:"%20",tsv:"%09",pipes:"|"};function zd(w,L){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Z=L.collectionFormat,ce=L.allowEmptyValue,Ne=L.serializationOption,Le=L.encoding,Ke="object"!==me(L)||Array.isArray(L)?L:L.value,ct=G?function(pn){return pn.toString()}:function(pn){return encodeURIComponent(pn)},ut=ct(w);if(void 0===Ke&&ce)return[[ut,""]];if(bu(Ke)||Zl(Ke))return[[ut,Ke]];if(Ne)return Gc(w,Ke,G,Ne);if(Le){if([me(Le.style),me(Le.explode),me(Le.allowReserved)].some(function(pn){return"undefined"!==pn})){var Ft=Le.style,Ie=Le.explode,Xt=Le.allowReserved;return Gc(w,Ke,G,{style:Ft,explode:Ie,allowReserved:Xt})}if(Le.contentType){if("application/json"===Le.contentType){var Kt="string"==typeof Ke?Ke:Kn()(Ke);return[[ut,ct(Kt)]]}return[[ut,ct(Ke.toString())]]}return"object"!==me(Ke)?[[ut,ct(Ke)]]:Array.isArray(Ke)&&Ke.every(function(pn){return"object"!==me(pn)})?[[ut,dn()(Ke).call(Ke,ct).join(",")]]:[[ut,ct(Kn()(Ke))]]}return"object"!==me(Ke)?[[ut,ct(Ke)]]:Array.isArray(Ke)?"multi"===Z?[[ut,dn()(Ke).call(Ke,ct)]]:[[ut,dn()(Ke).call(Ke,ct).join(cd[Z||"csv"])]]:[[ut,""]]}function Gc(w,L,G,Z){var ce,Ft,Ie,Ne=Z.style||"form",Le=void 0===Z.explode?"form"===Ne:Z.explode,Ke=!G&&(Z&&Z.allowReserved?"unsafe":"reserved"),ct=function(Kt){return lo(Kt,{escape:Ke})},ut=G?function(Xt){return Xt}:function(Xt){return lo(Xt,{escape:Ke})};return"object"!==me(L)?[[ut(w),ct(L)]]:Array.isArray(L)?Le?[[ut(w),dn()(L).call(L,ct)]]:[[ut(w),dn()(L).call(L,ct).join(jd[Ne])]]:"deepObject"===Ne?dn()(Ft=Bt()(L)).call(Ft,function(Xt){var Kt;return[ut(it()(Kt="".concat(w,"[")).call(Kt,Xt,"]")),ct(L[Xt])]}):Le?dn()(Ie=Bt()(L)).call(Ie,function(Xt){return[ut(Xt),ct(L[Xt])]}):[[ut(w),dn()(ce=Bt()(L)).call(ce,function(Xt){var Kt;return[it()(Kt="".concat(ut(Xt),",")).call(Kt,ct(L[Xt]))]}).join(",")]]}function Yd(w){return ft()(w).reduce(function(L,G){var Ke,Z=ot(G,2),Le=Ce(zd(Z[0],Z[1],!0));try{for(Le.s();!(Ke=Le.n()).done;){var ct=ot(Ke.value,2),ut=ct[0],Ft=ct[1];if(Array.isArray(Ft)){var Xt,Ie=Ce(Ft);try{for(Ie.s();!(Xt=Ie.n()).done;){var Kt=Xt.value;if(ArrayBuffer.isView(Kt)){var pn=new kt([Kt]);L.append(ut,pn)}else L.append(ut,Kt)}}catch(Bn){Ie.e(Bn)}finally{Ie.f()}}else if(ArrayBuffer.isView(Ft)){var Ln=new kt([Ft]);L.append(ut,Ln)}else L.append(ut,Ft)}}catch(Bn){Le.e(Bn)}finally{Le.f()}return L},new vt)}function yu(w){var L=Bt()(w).reduce(function(G,Z){var Ne,ce=Ce(zd(Z,w[Z]));try{for(ce.s();!(Ne=ce.n()).done;){var Le=ot(Ne.value,2);G[Le[0]]=Le[1]}}catch(ut){ce.e(ut)}finally{ce.f()}return G},{});return X().stringify(L,{encode:!1,indices:!1})||""}function ea(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=w.url,G=void 0===L?"":L,Z=w.query,ce=w.form,Ne=function(){for(var kn=arguments.length,hr=new Array(kn),rr=0;rr<kn;rr++)hr[rr]=arguments[rr];var jr=mt()(hr).call(hr,function(Vr){return Vr}).join("&");return jr?"?".concat(jr):""};if(ce){var Le=Bt()(ce).some(function(ri){var kn=ce[ri].value;return bu(kn)||Zl(kn)}),Ke=w.headers["content-type"]||w.headers["Content-Type"];if(Le||/multipart\/form-data/i.test(Ke)){var ct=Yd(w.form);ld(ct,w)}else w.body=yu(ce);delete w.form}if(Z){var ut=G.split("?"),Ft=ot(ut,2),Ie=Ft[0],Xt=Ft[1],Kt="";if(Xt){var pn=X().parse(Xt),Ln=Bt()(Z);Ln.forEach(function(ri){return delete pn[ri]}),Kt=X().stringify(pn,{encode:!0})}var Bn=Ne(Kt,yu(Z));w.url=Ie+Bn,delete w.query}return w}function Do(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")}function Ka(w,L){for(var G=0;G<L.length;G++){var Z=L[G];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),P(w,Z.key,Z)}}function rl(w,L,G){return L&&Ka(w.prototype,L),G&&Ka(w,G),w}var w,aa=_(78804),Eu=_.n(aa),Vs=_(96916),Mo=_.n(Vs),Ll=_(3498),yl=_.n(Ll),ol=(w=function(L,G){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,ce){Z.__proto__=ce}||function(Z,ce){for(var Ne in ce)ce.hasOwnProperty(Ne)&&(Z[Ne]=ce[Ne])})(L,G)},function(L,G){function Z(){this.constructor=L}w(L,G),L.prototype=null===G?Object.create(G):(Z.prototype=G.prototype,new Z)}),sl=Object.prototype.hasOwnProperty;function Us(w,L){return sl.call(w,L)}function yc(w){if(Array.isArray(w)){for(var G=new Array(w.length),L=0;L<G.length;L++)G[L]=""+L;return G}if(Object.keys)return Object.keys(w);for(var Z in G=[],w)Us(w,Z)&&G.push(Z);return G}function Ds(w){switch(typeof w){case"object":return JSON.parse(JSON.stringify(w));case"undefined":return null;default:return w}}function Nl(w){for(var Z,L=0,G=w.length;L<G;){if(!((Z=w.charCodeAt(L))>=48&&Z<=57))return!1;L++}return!0}function $i(w){return-1===w.indexOf("/")&&-1===w.indexOf("~")?w:w.replace(/~/g,"~0").replace(/\//g,"~1")}function Ms(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}function Wc(w){if(void 0===w)return!0;if(w)if(Array.isArray(w)){for(var L=0,G=w.length;L<G;L++)if(Wc(w[L]))return!0}else if("object"==typeof w){var Z=yc(w),ce=Z.length;for(L=0;L<ce;L++)if(Wc(w[Z[L]]))return!0}return!1}function Fl(w,L){var G=[w];for(var Z in L){var ce="object"==typeof L[Z]?JSON.stringify(L[Z],null,2):L[Z];void 0!==ce&&G.push(Z+": "+ce)}return G.join("\n")}var Cu=function(w){function L(G,Z,ce,Ne,Le){var Ke=this.constructor,ct=w.call(this,Fl(G,{name:Z,index:ce,operation:Ne,tree:Le}))||this;return ct.name=Z,ct.index=ce,ct.operation=Ne,ct.tree=Le,Object.setPrototypeOf(ct,Ke.prototype),ct.message=Fl(G,{name:Z,index:ce,operation:Ne,tree:Le}),ct}return ol(L,w),L}(Error),bo=Cu,jc=Ds,Xa={add:function(w,L,G){return w[L]=this.value,{newDocument:G}},remove:function(w,L,G){var Z=w[L];return delete w[L],{newDocument:G,removed:Z}},replace:function(w,L,G){var Z=w[L];return w[L]=this.value,{newDocument:G,removed:Z}},move:function(w,L,G){var Z=$a(G,this.path);Z&&(Z=Ds(Z));var ce=Bo(G,{op:"remove",path:this.from}).removed;return Bo(G,{op:"add",path:this.path,value:ce}),{newDocument:G,removed:Z}},copy:function(w,L,G){var Z=$a(G,this.from);return Bo(G,{op:"add",path:this.path,value:Ds(Z)}),{newDocument:G}},test:function(w,L,G){return{newDocument:G,test:ta(w[L],this.value)}},_get:function(w,L,G){return this.value=w[L],{newDocument:G}}},dd={add:function(w,L,G){return Nl(L)?w.splice(L,0,this.value):w[L]=this.value,{newDocument:G,index:L}},remove:function(w,L,G){return{newDocument:G,removed:w.splice(L,1)[0]}},replace:function(w,L,G){var Z=w[L];return w[L]=this.value,{newDocument:G,removed:Z}},move:Xa.move,copy:Xa.copy,test:Xa.test,_get:Xa._get};function $a(w,L){if(""==L)return w;var G={op:"_get",path:L};return Bo(w,G),G.value}function Bo(w,L,G,Z,ce,Ne){if(void 0===G&&(G=!1),void 0===Z&&(Z=!0),void 0===ce&&(ce=!0),void 0===Ne&&(Ne=0),G&&("function"==typeof G?G(L,0,w,L.path):Ja(L,0)),""===L.path){var Le={newDocument:w};if("add"===L.op)return Le.newDocument=L.value,Le;if("replace"===L.op)return Le.newDocument=L.value,Le.removed=w,Le;if("move"===L.op||"copy"===L.op)return Le.newDocument=$a(w,L.from),"move"===L.op&&(Le.removed=w),Le;if("test"===L.op){if(Le.test=ta(w,L.value),!1===Le.test)throw new bo("Test operation failed","TEST_OPERATION_FAILED",Ne,L,w);return Le.newDocument=w,Le}if("remove"===L.op)return Le.removed=w,Le.newDocument=null,Le;if("_get"===L.op)return L.value=w,Le;if(G)throw new bo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ne,L,w);return Le}Z||(w=Ds(w));var ct=(L.path||"").split("/"),ut=w,Ft=1,Ie=ct.length,Xt=void 0,Kt=void 0,pn=void 0;for(pn="function"==typeof G?G:Ja;;){if((Kt=ct[Ft])&&-1!=Kt.indexOf("~")&&(Kt=Ms(Kt)),ce&&"__proto__"==Kt)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(G&&void 0===Xt&&(void 0===ut[Kt]?Xt=ct.slice(0,Ft).join("/"):Ft==Ie-1&&(Xt=L.path),void 0!==Xt&&pn(L,0,w,Xt)),Ft++,Array.isArray(ut)){if("-"===Kt)Kt=ut.length;else{if(G&&!Nl(Kt))throw new bo("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Ne,L,w);Nl(Kt)&&(Kt=~~Kt)}if(Ft>=Ie){if(G&&"add"===L.op&&Kt>ut.length)throw new bo("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Ne,L,w);if(!1===(Le=dd[L.op].call(L,ut,Kt,w)).test)throw new bo("Test operation failed","TEST_OPERATION_FAILED",Ne,L,w);return Le}}else if(Ft>=Ie){if(!1===(Le=Xa[L.op].call(L,ut,Kt,w)).test)throw new bo("Test operation failed","TEST_OPERATION_FAILED",Ne,L,w);return Le}if(ut=ut[Kt],G&&Ft<Ie&&(!ut||"object"!=typeof ut))throw new bo("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Ne,L,w)}}function Gs(w,L,G,Z,ce){if(void 0===Z&&(Z=!0),void 0===ce&&(ce=!0),G&&!Array.isArray(L))throw new bo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Z||(w=Ds(w));for(var Ne=new Array(L.length),Le=0,Ke=L.length;Le<Ke;Le++)Ne[Le]=Bo(w,L[Le],G,!0,ce,Le),w=Ne[Le].newDocument;return Ne.newDocument=w,Ne}function Kd(w,L,G){var Z=Bo(w,L);if(!1===Z.test)throw new bo("Test operation failed","TEST_OPERATION_FAILED",G,L,w);return Z.newDocument}function Ja(w,L,G,Z){if("object"!=typeof w||null===w||Array.isArray(w))throw new bo("Operation is not an object","OPERATION_NOT_AN_OBJECT",L,w,G);if(!Xa[w.op])throw new bo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",L,w,G);if("string"!=typeof w.path)throw new bo("Operation `path` property is not a string","OPERATION_PATH_INVALID",L,w,G);if(0!==w.path.indexOf("/")&&w.path.length>0)throw new bo('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",L,w,G);if(("move"===w.op||"copy"===w.op)&&"string"!=typeof w.from)throw new bo("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",L,w,G);if(("add"===w.op||"replace"===w.op||"test"===w.op)&&void 0===w.value)throw new bo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",L,w,G);if(("add"===w.op||"replace"===w.op||"test"===w.op)&&Wc(w.value))throw new bo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",L,w,G);if(G)if("add"==w.op){var ce=w.path.split("/").length,Ne=Z.split("/").length;if(ce!==Ne+1&&ce!==Ne)throw new bo("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",L,w,G)}else if("replace"===w.op||"remove"===w.op||"_get"===w.op){if(w.path!==Z)throw new bo("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",L,w,G)}else if("move"===w.op||"copy"===w.op){var Ke=al([{op:"_get",path:w.from,value:void 0}],G);if(Ke&&"OPERATION_PATH_UNRESOLVABLE"===Ke.name)throw new bo("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",L,w,G)}}function al(w,L,G){try{if(!Array.isArray(w))throw new bo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(L)Gs(Ds(L),Ds(w),G||!0);else{G=G||Ja;for(var Z=0;Z<w.length;Z++)G(w[Z],Z,L,void 0)}}catch(ce){if(ce instanceof bo)return ce;throw ce}}function ta(w,L){if(w===L)return!0;if(w&&L&&"object"==typeof w&&"object"==typeof L){var ce,Ne,Le,G=Array.isArray(w),Z=Array.isArray(L);if(G&&Z){if((Ne=w.length)!=L.length)return!1;for(ce=Ne;0!=ce--;)if(!ta(w[ce],L[ce]))return!1;return!0}if(G!=Z)return!1;var Ke=Object.keys(w);if((Ne=Ke.length)!==Object.keys(L).length)return!1;for(ce=Ne;0!=ce--;)if(!L.hasOwnProperty(Ke[ce]))return!1;for(ce=Ne;0!=ce--;)if(!ta(w[Le=Ke[ce]],L[Le]))return!1;return!0}return w!=w&&L!=L}var Ws=new WeakMap,Bl=function(L){this.observers=new Map,this.obj=L},hd=function(L,G){this.callback=L,this.observer=G};function js(w,L){L.unobserve()}function Hl(w,L){var Z,ce=function(w){return Ws.get(w)}(w);if(ce){var Ne=function(w,L){return w.observers.get(L)}(ce,L);Z=Ne&&Ne.observer}else ce=new Bl(w),Ws.set(w,ce);if(Z)return Z;if(Z={},ce.value=Ds(w),L){Z.callback=L,Z.next=null;var Le=function(){ql(Z)},Ke=function(){clearTimeout(Z.next),Z.next=setTimeout(Le)};"undefined"!=typeof window&&(window.addEventListener("mouseup",Ke),window.addEventListener("keyup",Ke),window.addEventListener("mousedown",Ke),window.addEventListener("keydown",Ke),window.addEventListener("change",Ke))}return Z.patches=[],Z.object=w,Z.unobserve=function(){ql(Z),clearTimeout(Z.next),function(w,L){w.observers.delete(L.callback)}(ce,Z),"undefined"!=typeof window&&(window.removeEventListener("mouseup",Ke),window.removeEventListener("keyup",Ke),window.removeEventListener("mousedown",Ke),window.removeEventListener("keydown",Ke),window.removeEventListener("change",Ke))},ce.observers.set(L,new hd(L,Z)),Z}function ql(w,L){void 0===L&&(L=!1);var G=Ws.get(w.object);no(G.value,w.object,w.patches,"",L),w.patches.length&&Gs(G.value,w.patches);var Z=w.patches;return Z.length>0&&(w.patches=[],w.callback&&w.callback(Z)),Z}function no(w,L,G,Z,ce){if(L!==w){"function"==typeof L.toJSON&&(L=L.toJSON());for(var Ne=yc(L),Le=yc(w),ct=!1,ut=Le.length-1;ut>=0;ut--){var Ie=w[Ft=Le[ut]];if(!Us(L,Ft)||void 0===L[Ft]&&void 0!==Ie&&!1===Array.isArray(L))Array.isArray(w)===Array.isArray(L)?(ce&&G.push({op:"test",path:Z+"/"+$i(Ft),value:Ds(Ie)}),G.push({op:"remove",path:Z+"/"+$i(Ft)}),ct=!0):(ce&&G.push({op:"test",path:Z,value:w}),G.push({op:"replace",path:Z,value:L}));else{var Xt=L[Ft];"object"==typeof Ie&&null!=Ie&&"object"==typeof Xt&&null!=Xt&&Array.isArray(Ie)===Array.isArray(Xt)?no(Ie,Xt,G,Z+"/"+$i(Ft),ce):Ie!==Xt&&(ce&&G.push({op:"test",path:Z+"/"+$i(Ft),value:Ds(Ie)}),G.push({op:"replace",path:Z+"/"+$i(Ft),value:Ds(Xt)}))}}if(ct||Ne.length!=Le.length)for(ut=0;ut<Ne.length;ut++){var Ft;!Us(w,Ft=Ne[ut])&&void 0!==L[Ft]&&G.push({op:"add",path:Z+"/"+$i(Ft),value:Ds(L[Ft])})}}}function ec(w,L,G){void 0===G&&(G=!1);var Z=[];return no(w,L,Z,"",G),Z}Object.assign({},E,o,{JsonPatchError:Cu,deepClone:Ds,escapePathComponent:$i,unescapePathComponent:Ms});var Ea=_(80915),Cc=_.n(Ea),Yc=_(57469),wu=_.n(Yc);const yr={add:function(w,L){return{op:"add",path:w,value:L}},replace:Vl,remove:function(w){return{op:"remove",path:w}},merge:function(w,L){return{type:"mutation",op:"merge",path:w,value:L}},mergeDeep:function(w,L){return{type:"mutation",op:"mergeDeep",path:w,value:L}},context:function(w,L){return{type:"context",path:w,value:L}},getIn:function(w,L){return L.reduce(function(G,Z){return void 0!==Z&&G?G[Z]:G},w)},applyPatch:function(w,L,G){if(G=G||{},"merge"===(L=te(te({},L),{},{path:L.path&&Aa(L.path)})).op){var Z=ht(w,L.path);de()(Z,L.value),Gs(w,[Vl(L.path,Z)])}else if("mergeDeep"===L.op){var ce=ht(w,L.path);for(var Ne in L.value){var Le=L.value[Ne],Ke=Array.isArray(Le);if(Ke){var ct=ce[Ne]||[];ce[Ne]=it()(ct).call(ct,Le)}else if(Ko(Le)&&!Ke){var ut=te({},ce[Ne]);for(var Ft in Le){if(Object.prototype.hasOwnProperty.call(ut,Ft)){ut=Cc()(wu()(ut),Le);break}de()(ut,B({},Ft,Le[Ft]))}ce[Ne]=ut}else ce[Ne]=Le}}else if("add"===L.op&&""===L.path&&Ko(L.value)){Gs(w,Bt()(L.value).reduce(function(Bn,ri){return Bn.push({op:"add",path:"/".concat(Aa(ri)),value:L.value[ri]}),Bn},[]))}else if("replace"===L.op&&""===L.path){var Kt=L.value;G.allowMetaPatches&&L.meta&&_e(L)&&(Array.isArray(L.value)||Ko(L.value))&&(Kt=te(te({},Kt),L.meta)),w=Kt}else if(Gs(w,[L]),G.allowMetaPatches&&L.meta&&_e(L)&&(Array.isArray(L.value)||Ko(L.value))){var Ln=te(te({},ht(w,L.path)),L.meta);Gs(w,[Vl(L.path,Ln)])}return w},parentPathMatch:function(w,L){if(!Array.isArray(L))return!1;for(var G=0,Z=L.length;G<Z;G+=1)if(L[G]!==w[G])return!1;return!0},flatten:Ul,fullyNormalizeArray:function(w){return Gl(Ul(nc(w)))},normalizeArray:nc,isPromise:function(w){return Ko(w)&&ic(w.then)},forEachNew:function(w,L){try{return Du(w,Qa,L)}catch(G){return G}},forEachNewPrimitive:function(w,L){try{return Du(w,Mu,L)}catch(G){return G}},isJsonPatch:Rs,isContextPatch:function(w){return lt(w)&&"context"===w.type},isPatch:lt,isMutation:ue,isAdditiveMutation:_e,isGenerator:function(w){return"[object GeneratorFunction]"===Object.prototype.toString.call(w)},isFunction:ic,isObject:Ko,isError:function(w){return w instanceof Error}};function Aa(w){return Array.isArray(w)?w.length<1?"":"/".concat(dn()(w).call(w,function(L){return(L+"").replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")):w}function Vl(w,L,G){return{op:"replace",path:w,value:L,meta:G}}function Du(w,L,G){var Z;return Gl(Ul(dn()(Z=mt()(w).call(w,_e)).call(Z,function(Ke){return L(Ke.value,G,Ke.path)})||[]))}function Mu(w,L,G){return G=G||[],Array.isArray(w)?dn()(w).call(w,function(ce,Ne){return Mu(ce,L,it()(G).call(G,Ne))}):Ko(w)?dn()(Z=Bt()(w)).call(Z,function(ce){return Mu(w[ce],L,it()(G).call(G,ce))}):L(w,G[G.length-1],G);var Z}function Qa(w,L,G){var Z=[];if((G=G||[]).length>0){var ce=L(w,G[G.length-1],G);ce&&(Z=it()(Z).call(Z,ce))}if(Array.isArray(w)){var Ne=dn()(w).call(w,function(ct,ut){return Qa(ct,L,it()(G).call(G,ut))});Ne&&(Z=it()(Z).call(Z,Ne))}else if(Ko(w)){var Le,Ke=dn()(Le=Bt()(w)).call(Le,function(ct){return Qa(w[ct],L,it()(G).call(G,ct))});Ke&&(Z=it()(Z).call(Z,Ke))}return Ul(Z)}function nc(w){return Array.isArray(w)?w:[w]}function Ul(w){var L;return it()(L=[]).apply(L,ir(dn()(w).call(w,function(G){return Array.isArray(G)?Ul(G):G})))}function Gl(w){return mt()(w).call(w,function(L){return void 0!==L})}function Ko(w){return w&&"object"===me(w)}function ic(w){return w&&"function"==typeof w}function Rs(w){if(lt(w)){var L=w.op;return"add"===L||"remove"===L||"replace"===L}return!1}function ue(w){return Rs(w)||lt(w)&&"mutation"===w.type}function _e(w){return ue(w)&&("add"===w.op||"replace"===w.op||"merge"===w.op||"mergeDeep"===w.op)}function lt(w){return w&&"object"===me(w)}function ht(w,L){try{return $a(w,L)}catch(G){return console.error(G),{}}}var Yt=_(14569),Tt=_.n(Yt),Nt=_(58258),cn=_.n(Nt);function mn(w,L){function G(){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack;for(var Z=arguments.length,ce=new Array(Z),Ne=0;Ne<Z;Ne++)ce[Ne]=arguments[Ne];this.message=ce[0],L&&L.apply(this,ce)}return(G.prototype=new Error).name=w,G.prototype.constructor=G,G}var Tn=_(16958),vi=_.n(Tn),ui=["properties"],Li=["properties"],Er=["definitions","parameters","responses","securityDefinitions","components/schemas","components/responses","components/parameters","components/securitySchemes"],xi=["schema/example","items/example"];function qi(w){var L=w[w.length-1],G=w[w.length-2],Z=w.join("/");return ui.indexOf(L)>-1&&-1===Li.indexOf(G)||Er.indexOf(Z)>-1||xi.some(function(ce){return Z.indexOf(ce)>-1})}function Ro(w,L){var G,ce=ot(w.split("#"),2),Le=ce[1],Ke=xe.resolve(ce[0]||"",L||"");return Le?it()(G="".concat(Ke,"#")).call(G,Le):Ke}var Oo="application/json, application/yaml",zs=new RegExp("^([a-z]+://|//)","i"),xs=mn("JSONRefError",function(L,G,Z){this.originalError=Z,de()(this,G||{})}),ms={},wa=new(Tt()),qa=[function(w){return"paths"===w[0]&&"responses"===w[3]&&"examples"===w[5]},function(w){return"paths"===w[0]&&"responses"===w[3]&&"content"===w[5]&&"example"===w[7]},function(w){return"paths"===w[0]&&"responses"===w[3]&&"content"===w[5]&&"examples"===w[7]&&"value"===w[9]},function(w){return"paths"===w[0]&&"requestBody"===w[3]&&"content"===w[4]&&"example"===w[6]},function(w){return"paths"===w[0]&&"requestBody"===w[3]&&"content"===w[4]&&"examples"===w[6]&&"value"===w[8]},function(w){return"paths"===w[0]&&"parameters"===w[2]&&"example"===w[4]},function(w){return"paths"===w[0]&&"parameters"===w[3]&&"example"===w[5]},function(w){return"paths"===w[0]&&"parameters"===w[2]&&"examples"===w[4]&&"value"===w[6]},function(w){return"paths"===w[0]&&"parameters"===w[3]&&"examples"===w[5]&&"value"===w[7]},function(w){return"paths"===w[0]&&"parameters"===w[2]&&"content"===w[4]&&"example"===w[6]},function(w){return"paths"===w[0]&&"parameters"===w[2]&&"content"===w[4]&&"examples"===w[6]&&"value"===w[8]},function(w){return"paths"===w[0]&&"parameters"===w[3]&&"content"===w[4]&&"example"===w[7]},function(w){return"paths"===w[0]&&"parameters"===w[3]&&"content"===w[5]&&"examples"===w[7]&&"value"===w[9]}],Ch={key:"$ref",plugin:function(L,G,Z,ce){var Ne=ce.getInstance(),Le=_o()(Z).call(Z,0,-1);if(!qi(Le)&&!function(L){return qa.some(function(G){return G(L)})}(Le)){var ct=ce.getContext(Z).baseDoc;if("string"!=typeof L)return new xs("$ref: must be a string (JSON-Ref)",{$ref:L,baseDoc:ct,fullPath:Z});var Xt,Kt,pn,ut=la(L),Ft=ut[0],Ie=ut[1]||"";try{Xt=ct||Ft?_s(Ft,ct):null}catch(kn){return wc(kn,{pointer:Ie,$ref:L,basePath:Xt,fullPath:Z})}if(function(w,L,G,Z){var ce,Ne,Le=wa.get(Z);Le||wa.set(Z,Le={});var Ke=function(w){return 0===w.length?"":"/".concat(dn()(w).call(w,Dc).join("/"))}(G),ct=it()(ce="".concat(L||"<specmap-base>","#")).call(ce,w),ut=Ke.replace(/allOf\/\d+\/?/g,"");if(L===Z.contextTree.get([]).baseDoc&&vd(ut,w))return!0;var Ie="";if(G.some(function(Kt){var pn;return Ie=it()(pn="".concat(Ie,"/")).call(pn,Dc(Kt)),Le[Ie]&&Le[Ie].some(function(Ln){return vd(Ln,ct)||vd(ct,Ln)})}))return!0;Le[ut]=it()(Ne=Le[ut]||[]).call(Ne,ct)}(Ie,Xt,Le,ce)&&!Ne.useCircularStructures){var Ln=Ro(L,Xt);return L===Ln?null:yr.replace(Z,Ln)}if(null==Xt?(pn=md(Ie),void 0===(Kt=ce.get(pn))&&(Kt=new xs("Could not resolve reference: ".concat(L),{pointer:Ie,$ref:L,baseDoc:ct,fullPath:Z}))):Kt=null!=(Kt=ll(Xt,Ie)).__value?Kt.__value:Kt.catch(function(kn){throw wc(kn,{pointer:Ie,$ref:L,baseDoc:ct,fullPath:Z})}),Kt instanceof Error)return[yr.remove(Z),Kt];var Bn=Ro(L,Xt),ri=yr.replace(Le,Kt,{$$ref:Bn});if(Xt&&Xt!==ct)return[ri,yr.context(Le,{baseDoc:Xt})];try{if(!function(w,L){var G=[w];return L.path.reduce(function(ce,Ne){return G.push(ce[Ne]),ce[Ne]},w),function Z(ce){return yr.isObject(ce)&&(G.indexOf(ce)>=0||Bt()(ce).some(function(Ne){return Z(ce[Ne])}))}(L.value)}(ce.state,ri)||Ne.useCircularStructures)return ri}catch(kn){return null}}}},gd=de()(Ch,{docCache:ms,absoluteify:_s,clearCache:function(w){void 0!==w?delete ms[w]:Bt()(ms).forEach(function(L){delete ms[L]})},JSONRefError:xs,wrapError:wc,getDoc:Ou,split:la,extractFromDoc:ll,fetchJSON:function(w){return fetch(w,{headers:{Accept:Oo},loadSpec:!0}).then(function(L){return L.text()}).then(function(L){return Re.load(L)})},extract:ku,jsonPointerToArray:md,unescapeJsonPointerToken:Th});const Au=gd;function _s(w,L){if(!zs.test(w)){var G;if(!L)throw new xs(it()(G="Tried to resolve a relative URL, without having a basePath. path: '".concat(w,"' basePath: '")).call(G,L,"'"));return xe.resolve(L,w)}return w}function wc(w,L){var G,Z;return G=w&&w.response&&w.response.body?it()(Z="".concat(w.response.body.code," ")).call(Z,w.response.body.message):w.message,new xs("Could not resolve reference: ".concat(G),L,w)}function la(w){return(w+"").split("#")}function ll(w,L){var G=ms[w];if(G&&!yr.isPromise(G))try{var Z=ku(L,G);return de()(Mo().resolve(Z),{__value:Z})}catch(ce){return Mo().reject(ce)}return Ou(w).then(function(ce){return ku(L,ce)})}function Ou(w){var L=ms[w];return L?yr.isPromise(L)?L:Mo().resolve(L):(ms[w]=gd.fetchJSON(w).then(function(G){return ms[w]=G,G}),ms[w])}function ku(w,L){var G=md(w);if(G.length<1)return L;var Z=yr.getIn(L,G);if(void 0===Z)throw new xs("Could not resolve pointer: ".concat(w," does not exist in document"),{pointer:w});return Z}function md(w){var L;if("string"!=typeof w)throw new TypeError("Expected a string, got a ".concat(me(w)));return"/"===w[0]&&(w=w.substr(1)),""===w?[]:dn()(L=w.split("/")).call(L,Th)}function Th(w){return"string"!=typeof w?w:new(cn())("=".concat(w.replace(/~1/g,"/").replace(/~0/g,"~"))).get("")}function Dc(w){var L,G=new(cn())([["",w.replace(/~/g,"~0").replace(/\//g,"~1")]]);return _o()(L=G.toString()).call(L,1)}function vd(w,L){if(function(L){return!L||"/"===L||"#"===L}(L))return!0;var G=w.charAt(L.length),Z=_o()(L).call(L,-1);return 0===w.indexOf(L)&&(!G||"/"===G||"#"===G)&&"#"!==Z}var wh=_(85191),Sh=_.n(wh);const Wl={key:"allOf",plugin:function(L,G,Z,ce,Ne){if(!Ne.meta||!Ne.meta.$$ref){var Le=_o()(Z).call(Z,0,-1);if(!qi(Le)){if(!Array.isArray(L)){var Ke=new TypeError("allOf must be an array");return Ke.fullPath=Z,Ke}var ct=!1,ut=Ne.value;if(Le.forEach(function(Xt){!ut||(ut=ut[Xt])}),ut=te({},ut),!Sh()(ut)){delete ut.allOf;var Ie,Ft=[];return Ft.push(ce.replace(Le,{})),L.forEach(function(Xt,Kt){if(!ce.isObject(Xt)){if(ct)return null;ct=!0;var pn=new TypeError("Elements in allOf must be objects");return pn.fullPath=Z,Ft.push(pn)}Ft.push(ce.mergeDeep(Le,Xt));var Bn=function(w,L){var G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Z=G.specmap,ce=G.getBaseUrlForNodePath,Ne=void 0===ce?function(ut){var Ft;return Z.getContext(it()(Ft=[]).call(Ft,ir(L),ir(ut))).baseDoc}:ce,Le=G.targetKeys,Ke=void 0===Le?["$ref","$$ref"]:Le,ct=[];return vi()(w).forEach(function(){if(rt()(Ke).call(Ke,this.key)&&"string"==typeof this.node){var Ft=this.path,Ie=it()(L).call(L,this.path),Xt=Ro(this.node,Ne(Ft));ct.push(Z.replace(Ie,Xt))}}),ct}(Xt,_o()(Z).call(Z,0,-1),{getBaseUrlForNodePath:function(kn){var hr;return ce.getContext(it()(hr=[]).call(hr,ir(Z),[Kt],ir(kn))).baseDoc},specmap:ce});Ft.push.apply(Ft,ir(Bn))}),Ft.push(ce.mergeDeep(Le,ut)),ut.$$ref||Ft.push(ce.remove(it()(Ie=[]).call(Ie,Le,"$$ref"))),Ft}}}}},hp={key:"parameters",plugin:function(L,G,Z,ce){if(Array.isArray(L)&&L.length){var Ne=de()([],L),Le=_o()(Z).call(Z,0,-1),Ke=te({},yr.getIn(ce.spec,Le));return L.forEach(function(ct,ut){try{Ne[ut].default=ce.parameterMacro(Ke,ct)}catch(Ie){var Ft=new Error(Ie);return Ft.fullPath=Z,Ft}}),yr.replace(Z,Ne)}return yr.replace(Z,L)}},Xc={key:"properties",plugin:function(L,G,Z,ce){var Ne=te({},L);for(var Le in L)try{Ne[Le].default=ce.modelPropertyMacro(Ne[Le])}catch(ut){var Ke=new Error(ut);return Ke.fullPath=Z,Ke}return yr.replace(Z,Ne)}};var $c=function(){function w(L){Do(this,w),this.root=Jc(L||{})}return rl(w,[{key:"set",value:function(G,Z){var ce=this.getParent(G,!0);if(ce){var Ne=G[G.length-1],Le=ce.children;Le[Ne]?Mc(Le[Ne],Z,ce):Le[Ne]=Jc(Z,ce)}else Mc(this.root,Z,null)}},{key:"get",value:function(G){if((G=G||[]).length<1)return this.root.value;for(var ce,Ne,Z=this.root,Le=0;Le<G.length&&(ce=Z.children)[Ne=G[Le]];Le+=1)Z=ce[Ne];return Z&&Z.protoValue}},{key:"getParent",value:function(G,Z){return!G||G.length<1?null:G.length<2?this.root:_o()(G).call(G,0,-1).reduce(function(ce,Ne){if(!ce)return ce;var Le=ce.children;return!Le[Ne]&&Z&&(Le[Ne]=Jc(null,ce)),Le[Ne]},this.root)}}]),w}();function Jc(w,L){return Mc({children:{}},w,L)}function Mc(w,L,G){return w.value=L||{},w.protoValue=G?te(te({},G.protoValue),w.value):w.value,Bt()(w.children).forEach(function(Z){var ce=w.children[Z];w.children[Z]=Mc(ce,ce.value,w)}),w}var co=function(){},Dh=function(){function w(L){var Z,ce,G=this;Do(this,w),de()(this,{spec:"",debugLevel:"info",plugins:[],pluginHistory:{},errors:[],mutations:[],promisedPatches:[],state:{},patches:[],context:{},contextTree:new $c,showDebug:!1,allPatches:[],pluginProp:"specMap",libMethods:de()(Object.create(this),yr,{getInstance:function(){return G}}),allowMetaPatches:!1},L),this.get=this._get.bind(this),this.getContext=this._getContext.bind(this),this.hasRun=this._hasRun.bind(this),this.wrappedPlugins=mt()(Z=dn()(ce=this.plugins).call(ce,this.wrapPlugin.bind(this))).call(Z,yr.isFunction),this.patches.push(yr.add([],this.spec)),this.patches.push(yr.context([],this.context)),this.updatePatches(this.patches)}return rl(w,[{key:"debug",value:function(G){if(this.debugLevel===G){for(var Z,ce=arguments.length,Ne=new Array(ce>1?ce-1:0),Le=1;Le<ce;Le++)Ne[Le-1]=arguments[Le];(Z=console).log.apply(Z,Ne)}}},{key:"verbose",value:function(G){if("verbose"===this.debugLevel){for(var Z,ce,Ne=arguments.length,Le=new Array(Ne>1?Ne-1:0),Ke=1;Ke<Ne;Ke++)Le[Ke-1]=arguments[Ke];(Z=console).log.apply(Z,it()(ce=["[".concat(G,"]   ")]).call(ce,Le))}}},{key:"wrapPlugin",value:function(G,Z){var Le,ct,ut,ce=this.pathDiscriminator,Ne=null;return G[this.pluginProp]?(Ne=G,Le=G[this.pluginProp]):yr.isFunction(G)?Le=G:yr.isObject(G)&&(ct=G,ut=function(Ie,Xt){return!Array.isArray(Ie)||Ie.every(function(Kt,pn){return Kt===Xt[pn]})},Le=Et().mark(function Ft(Ie,Xt){var Kt,pn,Ln,Bn,ri,kn;return Et().wrap(function(rr){for(;;)switch(rr.prev=rr.next){case 0:kn=function(Vr,Sr,Ys){var Is,Xo,$o,gr,Ho,Eo,Cl,Da,La,Ac,As,Ku,Xu;return Et().wrap(function(Ks){for(;;)switch(Ks.prev=Ks.next){case 0:if(yr.isObject(Vr)){Ks.next=6;break}if(ct.key!==Sr[Sr.length-1]){Ks.next=4;break}return Ks.next=4,ct.plugin(Vr,ct.key,Sr,Xt);case 4:Ks.next=30;break;case 6:Xo=Sr[Is=Sr.length-1],$o=Sr.indexOf("properties"),gr="properties"===Xo&&Is===$o,Ho=Xt.allowMetaPatches&&pn[Vr.$$ref],Eo=0,Cl=Bt()(Vr);case 12:if(!(Eo<Cl.length)){Ks.next=30;break}if(La=Vr[Da=Cl[Eo]],Ac=it()(Sr).call(Sr,Da),As=yr.isObject(La),Ku=Vr.$$ref,Ho){Ks.next=22;break}if(!As){Ks.next=22;break}return Xt.allowMetaPatches&&Ku&&(pn[Ku]=!0),Ks.delegateYield(kn(La,Ac,Ys),"t0",22);case 22:if(gr||Da!==ct.key){Ks.next=27;break}if(Xu=ut(ce,Sr),ce&&!Xu){Ks.next=27;break}return Ks.next=27,ct.plugin(La,Da,Ac,Xt,Ys);case 27:Eo++,Ks.next=12;break;case 30:case"end":return Ks.stop()}},Kt)},Kt=Et().mark(kn),pn={},Ln=Ce(mt()(Ie).call(Ie,yr.isAdditiveMutation)),rr.prev=4,Ln.s();case 6:if((Bn=Ln.n()).done){rr.next=11;break}return rr.delegateYield(kn((ri=Bn.value).value,ri.path,ri),"t0",9);case 9:rr.next=6;break;case 11:rr.next=16;break;case 13:rr.prev=13,rr.t1=rr.catch(4),Ln.e(rr.t1);case 16:return rr.prev=16,Ln.f(),rr.finish(16);case 19:case"end":return rr.stop()}},Ft,null,[[4,13,16,19]])})),de()(Le.bind(Ne),{pluginName:G.name||Z,isGenerator:yr.isGenerator(Le)})}},{key:"nextPlugin",value:function(){var G,Z=this;return Eu()(G=this.wrappedPlugins).call(G,function(ce){return Z.getMutationsForPlugin(ce).length>0})}},{key:"nextPromisedPatch",value:function(){var G;if(this.promisedPatches.length>0)return Mo().race(dn()(G=this.promisedPatches).call(G,function(Z){return Z.value}))}},{key:"getPluginHistory",value:function(G){var Z=this.constructor.getPluginName(G);return this.pluginHistory[Z]||[]}},{key:"getPluginRunCount",value:function(G){return this.getPluginHistory(G).length}},{key:"getPluginHistoryTip",value:function(G){var Z=this.getPluginHistory(G);return Z&&Z[Z.length-1]||{}}},{key:"getPluginMutationIndex",value:function(G){var Z=this.getPluginHistoryTip(G).mutationIndex;return"number"!=typeof Z?-1:Z}},{key:"updatePluginHistory",value:function(G,Z){var ce=this.constructor.getPluginName(G);this.pluginHistory[ce]=this.pluginHistory[ce]||[],this.pluginHistory[ce].push(Z)}},{key:"updatePatches",value:function(G){var Z=this;yr.normalizeArray(G).forEach(function(ce){if(ce instanceof Error)Z.errors.push(ce);else try{if(!yr.isObject(ce))return void Z.debug("updatePatches","Got a non-object patch",ce);if(Z.showDebug&&Z.allPatches.push(ce),yr.isPromise(ce.value))return Z.promisedPatches.push(ce),void Z.promisedPatchThen(ce);if(yr.isContextPatch(ce))return void Z.setContext(ce.path,ce.value);if(yr.isMutation(ce))return void Z.updateMutations(ce)}catch(Ne){console.error(Ne),Z.errors.push(Ne)}})}},{key:"updateMutations",value:function(G){"object"===me(G.value)&&!Array.isArray(G.value)&&this.allowMetaPatches&&(G.value=te({},G.value));var Z=yr.applyPatch(this.state,G,{allowMetaPatches:this.allowMetaPatches});Z&&(this.mutations.push(G),this.state=Z)}},{key:"removePromisedPatch",value:function(G){var Z,ce=this.promisedPatches.indexOf(G);ce<0?this.debug("Tried to remove a promisedPatch that isn't there!"):yl()(Z=this.promisedPatches).call(Z,ce,1)}},{key:"promisedPatchThen",value:function(G){var Z=this;return G.value=G.value.then(function(ce){var Ne=te(te({},G),{},{value:ce});Z.removePromisedPatch(G),Z.updatePatches(Ne)}).catch(function(ce){Z.removePromisedPatch(G),Z.updatePatches(ce)}),G.value}},{key:"getMutations",value:function(G,Z){var ce;return G=G||0,"number"!=typeof Z&&(Z=this.mutations.length),_o()(ce=this.mutations).call(ce,G,Z)}},{key:"getCurrentMutations",value:function(){return this.getMutationsForPlugin(this.getCurrentPlugin())}},{key:"getMutationsForPlugin",value:function(G){var Z=this.getPluginMutationIndex(G);return this.getMutations(Z+1)}},{key:"getCurrentPlugin",value:function(){return this.currentPlugin}},{key:"getLib",value:function(){return this.libMethods}},{key:"_get",value:function(G){return yr.getIn(this.state,G)}},{key:"_getContext",value:function(G){return this.contextTree.get(G)}},{key:"setContext",value:function(G,Z){return this.contextTree.set(G,Z)}},{key:"_hasRun",value:function(G){return this.getPluginRunCount(this.getCurrentPlugin())>(G||0)}},{key:"dispatch",value:function(){var Ke,G=this,Z=this,ce=this.nextPlugin();if(!ce){var Ne=this.nextPromisedPatch();if(Ne)return Ne.then(function(){return G.dispatch()}).catch(function(){return G.dispatch()});var Le={spec:this.state,errors:this.errors};return this.showDebug&&(Le.patches=this.allPatches),Mo().resolve(Le)}if(Z.pluginCount=Z.pluginCount||{},Z.pluginCount[ce]=(Z.pluginCount[ce]||0)+1,Z.pluginCount[ce]>100)return Mo().resolve({spec:Z.state,errors:it()(Ke=Z.errors).call(Ke,new Error("We've reached a hard limit of ".concat(100," plugin runs")))});if(ce!==this.currentPlugin&&this.promisedPatches.length){var ct,ut=dn()(ct=this.promisedPatches).call(ct,function(Xt){return Xt.value});return Mo().all(dn()(ut).call(ut,function(Xt){return Xt.then(co,co)})).then(function(){return G.dispatch()})}return function(){Z.currentPlugin=ce;var Xt=Z.getCurrentMutations(),Kt=Z.mutations.length-1;try{if(ce.isGenerator){var Ln,pn=Ce(ce(Xt,Z.getLib()));try{for(pn.s();!(Ln=pn.n()).done;)Ie(Ln.value)}catch(kn){pn.e(kn)}finally{pn.f()}}else Ie(ce(Xt,Z.getLib()))}catch(kn){console.error(kn),Ie([de()(Object.create(kn),{plugin:ce})])}finally{Z.updatePluginHistory(ce,{mutationIndex:Kt})}return Z.dispatch()}();function Ie(Xt){Xt&&(Xt=yr.fullyNormalizeArray(Xt),Z.updatePatches(Xt,ce))}}}],[{key:"getPluginName",value:function(G){return G.pluginName}},{key:"getPatchesOfType",value:function(G,Z){return mt()(G).call(G,Z)}}]),w}(),ca={refs:Au,allOf:Wl,parameters:hp,properties:Xc},yd=_(4471),Ed=_.n(yd),Jd=function(L){return String.prototype.toLowerCase.call(L)},Cd=function(L){return L.replace(/[^\w]/gi,"_")};function Td(w){var L=w.openapi;return!!L&&Me()(L).call(L,"3")}function Lu(w,L){var G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ce=Z.v2OperationIdCompatibilityMode;if(!w||"object"!==me(w))return null;var Ne=(w.operationId||"").replace(/\s/g,"");return Ne.length?Cd(w.operationId):Ef(L,G,{v2OperationIdCompatibilityMode:ce})}function Ef(w,L){var G,Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ce=Z.v2OperationIdCompatibilityMode;if(ce){var Ne,Le,Ke=it()(Ne="".concat(L.toLowerCase(),"_")).call(Ne,w).replace(/[\s!@#$%^&*()_+=[{\]};:<>|./?,\\'""-]/g,"_");return(Ke=Ke||it()(Le="".concat(w.substring(1),"_")).call(Le,L)).replace(/((_){2,})/g,"_").replace(/^(_)*/g,"").replace(/([_])*$/g,"")}return it()(G="".concat(Jd(L))).call(G,Cd(w))}function Rc(w,L){var G;return it()(G="".concat(Jd(L),"-")).call(G,w)}function wd(w,L,G){if(!w||"object"!==me(w)||!w.paths||"object"!==me(w.paths))return null;var Z=w.paths;for(var ce in Z)for(var Ne in Z[ce])if("PARAMETERS"!==Ne.toUpperCase()){var Le=Z[ce][Ne];if(Le&&"object"===me(Le)){var Ke={spec:w,pathName:ce,method:Ne.toUpperCase(),operation:Le},ct=L(Ke);if(G&&ct)return Ke}}}function Zc(w){var L=w.spec,G=L.paths,Z={};if(!G||L.$$normalized)return w;for(var ce in G){var Ne=G[ce];if(Ed()(Ne)){var Le=Ne.parameters,Ke=function(Ie){var Xt=Ne[Ie];if(!Ed()(Xt))return"continue";var Kt=Lu(Xt,ce,Ie);if(Kt){Z[Kt]?Z[Kt].push(Xt):Z[Kt]=[Xt];var pn=Z[Kt];if(pn.length>1)pn.forEach(function(Xo,$o){var gr;Xo.__originalOperationId=Xo.__originalOperationId||Xo.operationId,Xo.operationId=it()(gr="".concat(Kt)).call(gr,$o+1)});else if(void 0!==Xt.operationId){var Ln=pn[0];Ln.__originalOperationId=Ln.__originalOperationId||Xt.operationId,Ln.operationId=Kt}}if("parameters"!==Ie){var Bn=[],ri={};for(var kn in L)("produces"===kn||"consumes"===kn||"security"===kn)&&(ri[kn]=L[kn],Bn.push(ri));if(Le&&(ri.parameters=Le,Bn.push(ri)),Bn.length){var rr,hr=Ce(Bn);try{for(hr.s();!(rr=hr.n()).done;){var jr=rr.value;for(var Vr in jr)if(Xt[Vr]){if("parameters"===Vr){var Ys,Sr=Ce(jr[Vr]);try{var Is=function(){var $o=Ys.value;Xt[Vr].some(function(Ho){return Ho.name&&Ho.name===$o.name||Ho.$ref&&Ho.$ref===$o.$ref||Ho.$$ref&&Ho.$$ref===$o.$$ref||Ho===$o})||Xt[Vr].push($o)};for(Sr.s();!(Ys=Sr.n()).done;)Is()}catch(Xo){Sr.e(Xo)}finally{Sr.f()}}}else Xt[Vr]=jr[Vr]}}catch(Xo){hr.e(Xo)}finally{hr.f()}}}};for(var ct in Ne)Ke(ct)}}return L.$$normalized=!0,w}function rs(w){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=L.requestInterceptor,Z=L.responseInterceptor,ce=w.withCredentials?"include":"same-origin";return function(Ne){return w({url:Ne,loadSpec:!0,requestInterceptor:G,responseInterceptor:Z,headers:{Accept:Oo},credentials:ce}).then(function(Le){return Le.body})}}function Bu(w){var G=w.spec,ce=w.mode,Ne=w.allowMetaPatches,Le=void 0===Ne||Ne,Ke=w.pathDiscriminator,ct=w.modelPropertyMacro,ut=w.parameterMacro,Ft=w.requestInterceptor,Ie=w.responseInterceptor,Xt=w.skipNormalization,Kt=w.useCircularStructures,pn=w.http,Ln=w.baseDoc;return Ln=Ln||w.url,pn=w.fetch||pn||_c,G?Bn(G):rs(pn,{requestInterceptor:Ft,responseInterceptor:Ie})(Ln).then(Bn);function Bn(ri){Ln&&(ca.refs.docCache[Ln]=ri),ca.refs.fetchJSON=rs(pn,{requestInterceptor:Ft,responseInterceptor:Ie});var kn=[ca.refs];return"function"==typeof ut&&kn.push(ca.parameters),"function"==typeof ct&&kn.push(ca.properties),"strict"!==ce&&kn.push(ca.allOf),function(w){return new Dh(w).dispatch()}({spec:ri,context:{baseDoc:Ln},plugins:kn,allowMetaPatches:Le,pathDiscriminator:Ke,parameterMacro:ut,modelPropertyMacro:ct,useCircularStructures:Kt}).then(Xt?function(){var hr=wt(Et().mark(function rr(jr){return Et().wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:return Sr.abrupt("return",jr);case 1:case"end":return Sr.stop()}},rr)}));return function(rr){return hr.apply(this,arguments)}}():Zc)}}var Hu=_(17410),Qc=_.n(Hu);function da(){return(da=wt(Et().mark(function w(L,G){var Z,ce,Ie,Xt,Kt,pn,Ln=arguments;return Et().wrap(function(ri){for(;;)switch(ri.prev=ri.next){case 0:return ce=(Z=Ln.length>2&&void 0!==Ln[2]?Ln[2]:{}).returnEntireTree,Ie={pathDiscriminator:G,baseDoc:Z.baseDoc,requestInterceptor:Z.requestInterceptor,responseInterceptor:Z.responseInterceptor,parameterMacro:Z.parameterMacro,modelPropertyMacro:Z.modelPropertyMacro,useCircularStructures:Z.useCircularStructures},Xt=Zc({spec:L}),Kt=Xt.spec,ri.next=6,Bu(te(te({},Ie),{},{spec:Kt,allowMetaPatches:!0,skipNormalization:!0}));case 6:return pn=ri.sent,!ce&&Array.isArray(G)&&G.length&&(pn.spec=Qc()(pn.spec,G)||null),ri.abrupt("return",pn);case 9:case"end":return ri.stop()}},w)}))).apply(this,arguments)}var cl=function(){return null},oc_mapTagOperations=function(w){var L=w.spec,G=w.cb,Z=void 0===G?cl:G,ce=w.defaultTag,Ne=void 0===ce?"default":ce,Le=w.v2OperationIdCompatibilityMode,Ke={},ct={};return wd(L,function(ut){var Ft=ut.pathName,Ie=ut.method,Xt=ut.operation;(Xt.tags?function(L){return Array.isArray(L)?L:[L]}(Xt.tags):[Ne]).forEach(function(pn){if("string"==typeof pn){ct[pn]=ct[pn]||{};var kn,Ln=ct[pn],Bn=Lu(Xt,Ft,Ie,{v2OperationIdCompatibilityMode:Le}),ri=Z({spec:L,pathName:Ft,method:Ie,operation:Xt,operationId:Bn});if(Ke[Bn])Ke[Bn]+=1,Ln[it()(kn="".concat(Bn)).call(kn,Ke[Bn])]=ri;else if(void 0!==Ln[Bn]){var hr,rr,jr=Ke[Bn]||1;Ke[Bn]=jr+1,Ln[it()(hr="".concat(Bn)).call(hr,Ke[Bn])]=ri;var Vr=Ln[Bn];delete Ln[Bn],Ln[it()(rr="".concat(Bn)).call(rr,jr)]=Vr}else Ln[Bn]=ri}})}),ct},oc_makeExecute=function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(L){var G=L.pathName,Z=L.method,ce=L.operationId;return function(Ne){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ke=w.requestInterceptor,ct=w.responseInterceptor,ut=w.userFetch;return w.execute(te({spec:w.spec,requestInterceptor:Ke,responseInterceptor:ct,userFetch:ut,pathName:G,method:Z,parameters:Ne,operationId:ce},Le))}}},xc=_(93165);var qd=_(64994),Dd=_.n(qd),Md=_(66571);const Ih={body:function(w){w.req.body=w.value},header:function(w){var L=w.req,G=w.parameter,Z=w.value;L.headers=L.headers||{},void 0!==Z&&(L.headers[G.name]=Z)},query:function(w){var L=w.req,G=w.value,Z=w.parameter;if(L.query=L.query||{},!1===G&&"boolean"===Z.type&&(G="false"),0===G&&["number","integer"].indexOf(Z.type)>-1&&(G="0"),G)L.query[Z.name]={collectionFormat:Z.collectionFormat,value:G};else if(Z.allowEmptyValue&&void 0!==G){var ce=Z.name;L.query[ce]=L.query[ce]||{},L.query[ce].allowEmptyValue=!0}},path:function(w){var L=w.req,G=w.value;L.url=L.url.split("{".concat(w.parameter.name,"}")).join(encodeURIComponent(G))},formData:function(w){var L=w.req,G=w.value,Z=w.parameter;(G||Z.allowEmptyValue)&&(L.form=L.form||{},L.form[Z.name]={value:G,allowEmptyValue:Z.allowEmptyValue,collectionFormat:Z.collectionFormat})}};function Vu(w,L){return rt()(L).call(L,"application/json")?"string"==typeof w?w:Kn()(w):w.toString()}function Uu(w){var L=w.req,G=w.value,Z=w.parameter,ce=Z.name,Ne=Z.style,Le=Z.explode,Ke=Z.content;if(Ke){var ct=Bt()(Ke)[0];L.url=L.url.split("{".concat(ce,"}")).join(lo(Vu(G,ct),{escape:!0}))}else{var ut=to({key:Z.name,value:G,style:Ne||"simple",explode:Le||!1,escape:!0});L.url=L.url.split("{".concat(ce,"}")).join(ut)}}function Gu(w){var L=w.req,G=w.value,Z=w.parameter;if(L.query=L.query||{},Z.content){var ce=Bt()(Z.content)[0];L.query[Z.name]=Vu(G,ce)}else if(!1===G&&(G="false"),0===G&&(G="0"),G)L.query[Z.name]={value:G,serializationOption:{style:Z.style,explode:Z.explode,allowReserved:Z.allowReserved}};else if(Z.allowEmptyValue&&void 0!==G){var ct=Z.name;L.query[ct]=L.query[ct]||{},L.query[ct].allowEmptyValue=!0}}var Sa=["accept","authorization","content-type"];function qc(w){var L=w.req,G=w.parameter,Z=w.value;if(L.headers=L.headers||{},!(Sa.indexOf(G.name.toLowerCase())>-1)){if(G.content){var ce=Bt()(G.content)[0];return void(L.headers[G.name]=Vu(Z,ce))}void 0!==Z&&(L.headers[G.name]=to({key:G.name,value:Z,style:G.style||"simple",explode:void 0!==G.explode&&G.explode,escape:!1}))}}function xd(w){var L=w.req,G=w.parameter,Z=w.value;L.headers=L.headers||{};var ce=me(Z);if(G.content){var Ne,Le=Bt()(G.content)[0];L.headers.Cookie=it()(Ne="".concat(G.name,"=")).call(Ne,Vu(Z,Le))}else if("undefined"!==ce){var Ke="object"===ce&&!Array.isArray(Z)&&G.explode?"":"".concat(G.name,"=");L.headers.Cookie=Ke+to({key:G.name,value:Z,escape:!1,style:G.style||"form",explode:void 0!==G.explode&&G.explode})}}var eh=_(56675),Wu=_.n(eh);var eu=["http","fetch","spec","operationId","pathName","method","parameters","securities"],Pa=function(L){return Array.isArray(L)?L:[]},ul=mn("OperationNotFoundError",function(L,G,Z){this.originalError=Z,de()(this,G||{})}),tu={buildRequest:el};function el(w){var L,G,Z=w.spec,ce=w.operationId,Ne=w.responseContentType,Le=w.scheme,Ke=w.requestInterceptor,ct=w.responseInterceptor,ut=w.contextUrl,Ft=w.userFetch,Ie=w.server,Xt=w.serverVariables,Kt=w.http,pn=w.parameters,Ln=w.parameterBuilders,Bn=Td(Z);Ln||(Ln=Bn?t:Ih);var kn={url:"",credentials:Kt&&Kt.withCredentials?"include":"same-origin",headers:{},cookies:{}};Ke&&(kn.requestInterceptor=Ke),ct&&(kn.responseInterceptor=ct),Ft&&(kn.userFetch=Ft);var hr=function(w,L){return w&&w.paths?function(w,L){return wd(w,L,!0)||null}(w,function(G){var Z=G.pathName,ce=G.method,Ne=G.operation;if(!Ne||"object"!==me(Ne))return!1;var Le=Ne.operationId;return[Lu(Ne,Z,ce),Rc(Z,ce),Le].some(function(ut){return ut&&ut===L})}):null}(Z,ce);if(!hr)throw new ul("Operation ".concat(ce," not found"));var rr=hr.operation,jr=void 0===rr?{}:rr,Vr=hr.method,Sr=hr.pathName;if(kn.url+=ju({spec:Z,scheme:Le,contextUrl:ut,server:Ie,serverVariables:Xt,pathName:Sr,method:Vr}),!ce)return delete kn.cookies,kn;kn.url+=Sr,kn.method="".concat(Vr).toUpperCase(),pn=pn||{};var Ys=Z.paths[Sr]||{};Ne&&(kn.headers.accept=Ne);var Is=function(L){var G={};L.forEach(function(ce){G[ce.in]||(G[ce.in]={}),G[ce.in][ce.name]=ce});var Z=[];return Bt()(G).forEach(function(ce){Bt()(G[ce]).forEach(function(Ne){Z.push(G[ce][Ne])})}),Z}(it()(L=it()(G=[]).call(G,Pa(jr.parameters))).call(L,Pa(Ys.parameters)));Is.forEach(function(gr){var Eo,Cl,Ho=Ln[gr.in];if("body"===gr.in&&gr.schema&&gr.schema.properties&&(Eo=pn),void 0===(Eo=gr&&gr.name&&pn[gr.name]))Eo=gr&&gr.name&&pn[it()(Cl="".concat(gr.in,".")).call(Cl,gr.name)];else if(function(L,G){return mt()(G).call(G,function(Z){return Z.name===L})}(gr.name,Is).length>1){var Da;console.warn(it()(Da="Parameter '".concat(gr.name,"' is ambiguous because the defined spec has more than one parameter with the name: '")).call(Da,gr.name,"' and the passed-in parameter values did not define an 'in' value."))}if(null!==Eo){if(void 0!==gr.default&&void 0===Eo&&(Eo=gr.default),void 0===Eo&&gr.required&&!gr.allowEmptyValue)throw new Error("Required parameter ".concat(gr.name," is not provided"));if(Bn&&gr.schema&&"object"===gr.schema.type&&"string"==typeof Eo)try{Eo=JSON.parse(Eo)}catch(La){throw new Error("Could not parse object parameter value string as JSON")}Ho&&Ho({req:kn,parameter:gr,value:Eo,operation:jr,spec:Z})}});var Xo=te(te({},w),{},{operation:jr});if((kn=Bn?function(w,L){var G=w.operation,Z=w.requestBody,Le=w.attachContentTypeForEmptyPayload,Ke=w.requestContentType;L=function(w){var L=w.request,G=w.securities,Z=void 0===G?{}:G,ce=w.operation,Ne=void 0===ce?{}:ce,Le=w.spec,Ke=te({},L),ct=Z.authorized,ut=void 0===ct?{}:ct,Ft=Ne.security||Le.security||[],Ie=ut&&!!Bt()(ut).length,Xt=Qc()(Le,["components","securitySchemes"])||{};return Ke.headers=Ke.headers||{},Ke.query=Ke.query||{},Bt()(Z).length&&Ie&&Ft&&(!Array.isArray(Ne.security)||Ne.security.length)?(Ft.forEach(function(Kt){Bt()(Kt).forEach(function(pn){var Ln=ut[pn],Bn=Xt[pn];if(Ln){var ri=Ln.value||Ln,kn=Bn.type;if(Ln)if("apiKey"===kn)"query"===Bn.in&&(Ke.query[Bn.name]=ri),"header"===Bn.in&&(Ke.headers[Bn.name]=ri),"cookie"===Bn.in&&(Ke.cookies[Bn.name]=ri);else if("http"===kn){if(/^basic$/i.test(Bn.scheme)){var hr,rr=ri.username||"",jr=ri.password||"",Vr=Wu()(it()(hr="".concat(rr,":")).call(hr,jr));Ke.headers.Authorization="Basic ".concat(Vr)}/^bearer$/i.test(Bn.scheme)&&(Ke.headers.Authorization="Bearer ".concat(ri))}else if("oauth2"===kn||"openIdConnect"===kn){var Sr,Ys=Ln.token||{},Xo=Ys[Bn["x-tokenName"]||"access_token"],$o=Ys.token_type;(!$o||"bearer"===$o.toLowerCase())&&($o="Bearer"),Ke.headers.Authorization=it()(Sr="".concat($o," ")).call(Sr,Xo)}}})}),Ke):L}({request:L,securities:w.securities,operation:G,spec:w.spec});var ct=G.requestBody||{},ut=Bt()(ct.content||{}),Ft=Ke&&ut.indexOf(Ke)>-1;if(Z||Le){if(Ke&&Ft)L.headers["Content-Type"]=Ke;else if(!Ke){var Ie=ut[0];Ie&&(L.headers["Content-Type"]=Ie,Ke=Ie)}}else Ke&&Ft&&(L.headers["Content-Type"]=Ke);if(!w.responseContentType&&G.responses){var Xt,Kt=mt()(Xt=ft()(G.responses)).call(Xt,function(Ln){var Bn=ot(Ln,2),kn=Bn[1],hr=parseInt(Bn[0],10);return hr>=200&&hr<300&&Dd()(kn.content)}).reduce(function(Ln,Bn){var kn=ot(Bn,2)[1];return it()(Ln).call(Ln,Bt()(kn.content))},[]);Kt.length>0&&(L.headers.accept=Kt.join(", "))}if(Z)if(Ke){if(ut.indexOf(Ke)>-1)if("application/x-www-form-urlencoded"===Ke||"multipart/form-data"===Ke)if("object"===me(Z)){var pn=(ct.content[Ke]||{}).encoding||{};L.form={},Bt()(Z).forEach(function(Ln){L.form[Ln]={value:Z[Ln],encoding:pn[Ln]||{}}})}else L.form=Z;else L.body=Z}else L.body=Z;return L}(Xo,kn):function(w,L){var ct,ut,G=w.spec,Z=w.operation,Ne=w.requestContentType,Le=w.responseContentType,Ke=w.attachContentTypeForEmptyPayload;if((L=function(w){var L=w.request,G=w.securities,Z=void 0===G?{}:G,ce=w.operation,Ne=void 0===ce?{}:ce,Le=w.spec,Ke=te({},L),ct=Z.authorized,ut=void 0===ct?{}:ct,Ft=Z.specSecurity,Xt=Ne.security||(void 0===Ft?[]:Ft),Kt=ut&&!!Bt()(ut).length,pn=Le.securityDefinitions;return Ke.headers=Ke.headers||{},Ke.query=Ke.query||{},Bt()(Z).length&&Kt&&Xt&&(!Array.isArray(Ne.security)||Ne.security.length)?(Xt.forEach(function(Ln){Bt()(Ln).forEach(function(Bn){var ri=ut[Bn];if(ri){var kn=ri.token,hr=ri.value||ri,rr=pn[Bn],jr=rr.type,Sr=kn&&kn[rr["x-tokenName"]||"access_token"],Ys=kn&&kn.token_type;if(ri)if("apiKey"===jr){var Is="query"===rr.in?"query":"headers";Ke[Is]=Ke[Is]||{},Ke[Is][rr.name]=hr}else if("basic"===jr)if(hr.header)Ke.headers.authorization=hr.header;else{var Xo,$o=hr.username||"",gr=hr.password||"";hr.base64=Wu()(it()(Xo="".concat($o,":")).call(Xo,gr)),Ke.headers.authorization="Basic ".concat(hr.base64)}else if("oauth2"===jr&&Sr){var Ho;Ys=Ys&&"bearer"!==Ys.toLowerCase()?Ys:"Bearer",Ke.headers.authorization=it()(Ho="".concat(Ys," ")).call(Ho,Sr)}}})}),Ke):L}({request:L,securities:w.securities,operation:Z,spec:G})).body||L.form||Ke)if(Ne)L.headers["Content-Type"]=Ne;else if(Array.isArray(Z.consumes)){var Ft=ot(Z.consumes,1);L.headers["Content-Type"]=Ft[0]}else if(Array.isArray(G.consumes)){var Ie=ot(G.consumes,1);L.headers["Content-Type"]=Ie[0]}else Z.parameters&&mt()(ct=Z.parameters).call(ct,function(Bn){return"file"===Bn.type}).length?L.headers["Content-Type"]="multipart/form-data":Z.parameters&&mt()(ut=Z.parameters).call(ut,function(Bn){return"formData"===Bn.in}).length&&(L.headers["Content-Type"]="application/x-www-form-urlencoded");else if(Ne){var Xt,Kt,pn=Z.parameters&&mt()(Xt=Z.parameters).call(Xt,function(Bn){return"body"===Bn.in}).length>0,Ln=Z.parameters&&mt()(Kt=Z.parameters).call(Kt,function(Bn){return"formData"===Bn.in}).length>0;(pn||Ln)&&(L.headers["Content-Type"]=Ne)}return!Le&&Array.isArray(Z.produces)&&Z.produces.length>0&&(L.headers.accept=Z.produces.join(", ")),L}(Xo,kn)).cookies&&Bt()(kn.cookies).length){var $o=Bt()(kn.cookies).reduce(function(gr,Ho){return gr+(gr?"&":"")+Md.serialize(Ho,kn.cookies[Ho])},"");kn.headers.Cookie=$o}return kn.cookies&&delete kn.cookies,ea(kn),kn}var zl=function(L){return L?L.replace(/\W/g,""):null};function ju(w){return Td(w.spec)?function(w){var L=w.spec,G=w.pathName,Z=w.method,ce=w.server,Ne=w.contextUrl,Le=w.serverVariables,Ke=void 0===Le?{}:Le,ct=Qc()(L,["paths",G,(Z||"").toLowerCase(),"servers"])||Qc()(L,["paths",G,"servers"])||Qc()(L,["servers"]),ut="",Ft=null;if(ce&&ct&&ct.length){var Ie=dn()(ct).call(ct,function(pn){return pn.url});Ie.indexOf(ce)>-1&&(ut=ce,Ft=ct[Ie.indexOf(ce)])}if(!ut&&ct&&ct.length){ut=ct[0].url;var Xt=ot(ct,1);Ft=Xt[0]}return ut.indexOf("{")>-1&&function(w){for(var Z,L=[],G=/{([^}]+)}/g;Z=G.exec(w);)L.push(Z[1]);return L}(ut).forEach(function(pn){if(Ft.variables&&Ft.variables[pn]){var Bn=Ke[pn]||Ft.variables[pn].default,ri=new RegExp("{".concat(pn,"}"),"g");ut=ut.replace(ri,Bn)}}),function(){var Ke,ct,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",G=xe.parse(w&&L?xe.resolve(L,w):w),Z=xe.parse(L),ce=zl(G.protocol)||zl(Z.protocol)||"",Ne=G.host||Z.host,Le=G.pathname||"";return"/"===(Ke=ce&&Ne?it()(ct="".concat(ce,"://")).call(ct,Ne+Le):Le)[Ke.length-1]?_o()(Ke).call(Ke,0,-1):Ke}(ut,Ne)}(w):function(w){var Ft,Ie,L=w.spec,G=w.scheme,Z=w.contextUrl,Ne=xe.parse(void 0===Z?"":Z),Le=Array.isArray(L.schemes)?L.schemes[0]:null,Ke=G||Le||zl(Ne.protocol)||"http",ct=L.host||Ne.host||"",ut=L.basePath||"";return"/"===(Ft=Ke&&ct?it()(Ie="".concat(Ke,"://")).call(Ie,ct+ut):ut)[Ft.length-1]?_o()(Ft).call(Ft,0,-1):Ft}(w)}function yo(w){var L=this,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof w?G.url=w:G=w,!(this instanceof yo))return new yo(G);de()(this,G);var Z=this.resolve().then(function(){return L.disableInterfaces||de()(L,yo.makeApisTagOperation(L)),L});return Z.client=this,Z}yo.makeHttp=function(w,L,G){return G=G||function(Z){return Z},L=L||function(Z){return Z},function(Z){return"string"==typeof Z&&(Z={url:Z}),_u.mergeInQueryOrForm(Z),Z=L(Z),G(w(Z))}}.bind(null,yo.http=_c),yo.resolve=Bu,yo.resolveSubtree=function(w,L){return da.apply(this,arguments)},yo.execute=function(w){var L=w.http,G=w.fetch,Z=w.spec,ce=w.operationId,Ne=w.pathName,Le=w.method,Ke=w.parameters,ct=w.securities,ut=function(w,L){if(null==w)return{};var Z,ce,G=function(w,L){if(null==w)return{};var ce,Ne,G={},Z=e(w);for(Ne=0;Ne<Z.length;Ne++)ce=Z[Ne],!(xc(L).call(L,ce)>=0)&&(G[ce]=w[ce]);return G}(w,L);if(n){var Ne=n(w);for(ce=0;ce<Ne.length;ce++)Z=Ne[ce],!(xc(L).call(L,Z)>=0)&&(!Object.prototype.propertyIsEnumerable.call(w,Z)||(G[Z]=w[Z]))}return G}(w,eu),Ft=L||G||_c;Ne&&Le&&!ce&&(ce=Rc(Ne,Le));var Ie=tu.buildRequest(te({spec:Z,operationId:ce,parameters:Ke,securities:ct,http:Ft},ut));return Ie.body&&(Dd()(Ie.body)||Array.isArray(Ie.body))&&(Ie.body=Kn()(Ie.body)),Ft(Ie)},yo.serializeRes=bc,yo.serializeHeaders=vu,yo.clearCache=function(){ca.refs.clearCache()},yo.makeApisTagOperation=function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=oc_makeExecute(w);return{apis:oc_mapTagOperations({v2OperationIdCompatibilityMode:w.v2OperationIdCompatibilityMode,spec:w.spec,cb:L})}},yo.buildRequest=el,yo.helpers={opId:Lu},yo.getBaseUrl=ju,(yo.prototype={http:_c,execute:function(L){return this.applyDefaults(),yo.execute(te({spec:this.spec,http:this.http,securities:{authorized:this.authorizations},contextUrl:"string"==typeof this.url?this.url:void 0,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null},L))},resolve:function(){var L=this,G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yo.resolve(te({spec:this.spec,url:this.url,http:this.http||this.fetch,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null,skipNormalization:this.skipNormalization||!1},G)).then(function(Z){return L.originalSpec=L.spec,L.spec=Z.spec,L.errors=Z.errors,L})}}).applyDefaults=function(){var L=this.spec,G=this.url;if(G&&Me()(G).call(G,"http")){var Z=xe.parse(G);L.host||(L.host=Z.host),L.schemes||(L.schemes=[Z.protocol.replace(":","")]),L.basePath||(L.basePath="/")}};var zu=yo.helpers;const Yu=yo},11085:F=>{"use strict";var U=String.prototype.replace,_=/%20/g;F.exports={default:"RFC3986",formatters:{RFC1738:function(o){return U.call(o,_,"+")},RFC3986:function(o){return String(o)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},96912:(F,U,_)=>{"use strict";var E=_(96156),o=_(28895),t=_(11085);F.exports={formats:t,parse:o,stringify:E}},28895:(F,U,_)=>{"use strict";var E=_(45811),o=Object.prototype.hasOwnProperty,t=Array.isArray,e={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:E.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(ne,te){return ne&&"string"==typeof ne&&te.comma&&ne.indexOf(",")>-1?ne.split(","):ne},P=function(te,se,de,ae){if(te){var Me=de.allowDots?te.replace(/\.([^.[]+)/g,"[$1]"):te,we=/(\[[^[\]]*])/g,ke=de.depth>0&&/(\[[^[\]]*])/.exec(Me),fe=ke?Me.slice(0,ke.index):Me,pe=[];if(fe){if(!de.plainObjects&&o.call(Object.prototype,fe)&&!de.allowPrototypes)return;pe.push(fe)}for(var ie=0;de.depth>0&&null!==(ke=we.exec(Me))&&ie<de.depth;){if(ie+=1,!de.plainObjects&&o.call(Object.prototype,ke[1].slice(1,-1))&&!de.allowPrototypes)return;pe.push(ke[1])}return ke&&pe.push("["+Me.slice(ke.index)+"]"),function(ne,te,se,de){for(var ae=de?te:s(te,se),Me=ne.length-1;Me>=0;--Me){var xe,we=ne[Me];if("[]"===we&&se.parseArrays)xe=[].concat(ae);else{xe=se.plainObjects?Object.create(null):{};var ke="["===we.charAt(0)&&"]"===we.charAt(we.length-1)?we.slice(1,-1):we,fe=parseInt(ke,10);se.parseArrays||""!==ke?!isNaN(fe)&&we!==ke&&String(fe)===ke&&fe>=0&&se.parseArrays&&fe<=se.arrayLimit?(xe=[])[fe]=ae:xe[ke]=ae:xe={0:ae}}ae=xe}return ae}(pe,se,de,ae)}};F.exports=function(ne,te){var se=function(te){if(!te)return e;if(null!=te.decoder&&"function"!=typeof te.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==te.charset&&"utf-8"!==te.charset&&"iso-8859-1"!==te.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===te.allowDots?e.allowDots:!!te.allowDots,allowPrototypes:"boolean"==typeof te.allowPrototypes?te.allowPrototypes:e.allowPrototypes,allowSparse:"boolean"==typeof te.allowSparse?te.allowSparse:e.allowSparse,arrayLimit:"number"==typeof te.arrayLimit?te.arrayLimit:e.arrayLimit,charset:void 0===te.charset?e.charset:te.charset,charsetSentinel:"boolean"==typeof te.charsetSentinel?te.charsetSentinel:e.charsetSentinel,comma:"boolean"==typeof te.comma?te.comma:e.comma,decoder:"function"==typeof te.decoder?te.decoder:e.decoder,delimiter:"string"==typeof te.delimiter||E.isRegExp(te.delimiter)?te.delimiter:e.delimiter,depth:"number"==typeof te.depth||!1===te.depth?+te.depth:e.depth,ignoreQueryPrefix:!0===te.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof te.interpretNumericEntities?te.interpretNumericEntities:e.interpretNumericEntities,parameterLimit:"number"==typeof te.parameterLimit?te.parameterLimit:e.parameterLimit,parseArrays:!1!==te.parseArrays,plainObjects:"boolean"==typeof te.plainObjects?te.plainObjects:e.plainObjects,strictNullHandling:"boolean"==typeof te.strictNullHandling?te.strictNullHandling:e.strictNullHandling}}(te);if(""===ne||null==ne)return se.plainObjects?Object.create(null):{};for(var de="string"==typeof ne?function(te,se){var ke,de={},xe=(se.ignoreQueryPrefix?te.replace(/^\?/,""):te).split(se.delimiter,se.parameterLimit===1/0?void 0:se.parameterLimit),we=-1,fe=se.charset;if(se.charsetSentinel)for(ke=0;ke<xe.length;++ke)0===xe[ke].indexOf("utf8=")&&("utf8=%E2%9C%93"===xe[ke]?fe="utf-8":"utf8=%26%2310003%3B"===xe[ke]&&(fe="iso-8859-1"),we=ke,ke=xe.length);for(ke=0;ke<xe.length;++ke)if(ke!==we){var ye,Ce,pe=xe[ke],ie=pe.indexOf("]="),ee=-1===ie?pe.indexOf("="):ie+1;-1===ee?(ye=se.decoder(pe,e.decoder,fe,"key"),Ce=se.strictNullHandling?null:""):(ye=se.decoder(pe.slice(0,ee),e.decoder,fe,"key"),Ce=E.maybeMap(s(pe.slice(ee+1),se),function(Te){return se.decoder(Te,e.decoder,fe,"value")})),Ce&&se.interpretNumericEntities&&"iso-8859-1"===fe&&(Ce=Ce.replace(/&#(\d+);/g,function(te,se){return String.fromCharCode(parseInt(se,10))})),pe.indexOf("[]=")>-1&&(Ce=t(Ce)?[Ce]:Ce),de[ye]=o.call(de,ye)?E.combine(de[ye],Ce):Ce}return de}(ne,se):ne,ae=se.plainObjects?Object.create(null):{},Me=Object.keys(de),xe=0;xe<Me.length;++xe){var we=Me[xe],ke=P(we,de[we],se,"string"==typeof ne);ae=E.merge(ae,ke,se)}return!0===se.allowSparse?ae:E.compact(ae)}},96156:(F,U,_)=>{"use strict";var E=_(73340),o=_(45811),t=_(11085),e=Object.prototype.hasOwnProperty,n={brackets:function(de){return de+"[]"},comma:"comma",indices:function(de,ae){return de+"["+ae+"]"},repeat:function(de){return de}},s=Array.isArray,f=Array.prototype.push,y=function(se,de){f.apply(se,s(de)?de:[de])},M=Date.prototype.toISOString,A=t.default,P={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:A,formatter:t.formatters[A],indices:!1,serializeDate:function(de){return M.call(de)},skipNulls:!1,strictNullHandling:!1},ne=function se(de,ae,Me,xe,we,ke,fe,pe,ie,ee,ye,Ce,Te,me,ve){var Ze=de;if(ve.has(de))throw new RangeError("Cyclic object value");if("function"==typeof fe?Ze=fe(ae,Ze):Ze instanceof Date?Ze=ee(Ze):"comma"===Me&&s(Ze)&&(Ze=o.maybeMap(Ze,function(at){return at instanceof Date?ee(at):at})),null===Ze){if(xe)return ke&&!Te?ke(ae,P.encoder,me,"key",ye):ae;Ze=""}if(function(de){return"string"==typeof de||"number"==typeof de||"boolean"==typeof de||"symbol"==typeof de||"bigint"==typeof de}(Ze)||o.isBuffer(Ze))return ke?[Ce(Te?ae:ke(ae,P.encoder,me,"key",ye))+"="+Ce(ke(Ze,P.encoder,me,"value",ye))]:[Ce(ae)+"="+Ce(String(Ze))];var Lt,ot=[];if(void 0===Ze)return ot;if("comma"===Me&&s(Ze))Lt=[{value:Ze.length>0?Ze.join(",")||null:void 0}];else if(s(fe))Lt=fe;else{var Jt=Object.keys(Ze);Lt=pe?Jt.sort(pe):Jt}for(var wt=0;wt<Lt.length;++wt){var tn=Lt[wt],Et="object"==typeof tn&&void 0!==tn.value?tn.value:Ze[tn];if(!we||null!==Et){var sn=s(Ze)?"function"==typeof Me?Me(ae,tn):ae:ae+(ie?"."+tn:"["+tn+"]");ve.set(de,!0);var rt=E();y(ot,se(Et,sn,Me,xe,we,ke,fe,pe,ie,ee,ye,Ce,Te,me,rt))}}return ot};F.exports=function(se,de){var xe,ae=se,Me=function(de){if(!de)return P;if(null!=de.encoder&&"function"!=typeof de.encoder)throw new TypeError("Encoder has to be a function.");var ae=de.charset||P.charset;if(void 0!==de.charset&&"utf-8"!==de.charset&&"iso-8859-1"!==de.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Me=t.default;if(void 0!==de.format){if(!e.call(t.formatters,de.format))throw new TypeError("Unknown format option provided.");Me=de.format}var xe=t.formatters[Me],we=P.filter;return("function"==typeof de.filter||s(de.filter))&&(we=de.filter),{addQueryPrefix:"boolean"==typeof de.addQueryPrefix?de.addQueryPrefix:P.addQueryPrefix,allowDots:void 0===de.allowDots?P.allowDots:!!de.allowDots,charset:ae,charsetSentinel:"boolean"==typeof de.charsetSentinel?de.charsetSentinel:P.charsetSentinel,delimiter:void 0===de.delimiter?P.delimiter:de.delimiter,encode:"boolean"==typeof de.encode?de.encode:P.encode,encoder:"function"==typeof de.encoder?de.encoder:P.encoder,encodeValuesOnly:"boolean"==typeof de.encodeValuesOnly?de.encodeValuesOnly:P.encodeValuesOnly,filter:we,format:Me,formatter:xe,serializeDate:"function"==typeof de.serializeDate?de.serializeDate:P.serializeDate,skipNulls:"boolean"==typeof de.skipNulls?de.skipNulls:P.skipNulls,sort:"function"==typeof de.sort?de.sort:null,strictNullHandling:"boolean"==typeof de.strictNullHandling?de.strictNullHandling:P.strictNullHandling}}(de);"function"==typeof Me.filter?ae=(0,Me.filter)("",ae):s(Me.filter)&&(xe=Me.filter);var ke=[];if("object"!=typeof ae||null===ae)return"";var pe=n[de&&de.arrayFormat in n?de.arrayFormat:de&&"indices"in de?de.indices?"indices":"repeat":"indices"];xe||(xe=Object.keys(ae)),Me.sort&&xe.sort(Me.sort);for(var ie=E(),ee=0;ee<xe.length;++ee){var ye=xe[ee];Me.skipNulls&&null===ae[ye]||y(ke,ne(ae[ye],ye,pe,Me.strictNullHandling,Me.skipNulls,Me.encode?Me.encoder:null,Me.filter,Me.sort,Me.allowDots,Me.serializeDate,Me.format,Me.formatter,Me.encodeValuesOnly,Me.charset,ie))}var Ce=ke.join(Me.delimiter),Te=!0===Me.addQueryPrefix?"?":"";return Me.charsetSentinel&&(Te+="iso-8859-1"===Me.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Ce.length>0?Te+Ce:""}},45811:(F,U,_)=>{"use strict";var E=_(11085),o=Object.prototype.hasOwnProperty,t=Array.isArray,e=function(){for(var de=[],ae=0;ae<256;++ae)de.push("%"+((ae<16?"0":"")+ae.toString(16)).toUpperCase());return de}(),s=function(ae,Me){for(var xe=Me&&Me.plainObjects?Object.create(null):{},we=0;we<ae.length;++we)void 0!==ae[we]&&(xe[we]=ae[we]);return xe};F.exports={arrayToObject:s,assign:function(ae,Me){return Object.keys(Me).reduce(function(xe,we){return xe[we]=Me[we],xe},ae)},combine:function(ae,Me){return[].concat(ae,Me)},compact:function(ae){for(var Me=[{obj:{o:ae},prop:"o"}],xe=[],we=0;we<Me.length;++we)for(var ke=Me[we],fe=ke.obj[ke.prop],pe=Object.keys(fe),ie=0;ie<pe.length;++ie){var ee=pe[ie],ye=fe[ee];"object"==typeof ye&&null!==ye&&-1===xe.indexOf(ye)&&(Me.push({obj:fe,prop:ee}),xe.push(ye))}return function(ae){for(;ae.length>1;){var Me=ae.pop(),xe=Me.obj[Me.prop];if(t(xe)){for(var we=[],ke=0;ke<xe.length;++ke)void 0!==xe[ke]&&we.push(xe[ke]);Me.obj[Me.prop]=we}}}(Me),ae},decode:function(de,ae,Me){var xe=de.replace(/\+/g," ");if("iso-8859-1"===Me)return xe.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(xe)}catch(we){return xe}},encode:function(ae,Me,xe,we,ke){if(0===ae.length)return ae;var fe=ae;if("symbol"==typeof ae?fe=Symbol.prototype.toString.call(ae):"string"!=typeof ae&&(fe=String(ae)),"iso-8859-1"===xe)return escape(fe).replace(/%u[0-9a-f]{4}/gi,function(ye){return"%26%23"+parseInt(ye.slice(2),16)+"%3B"});for(var pe="",ie=0;ie<fe.length;++ie){var ee=fe.charCodeAt(ie);45===ee||46===ee||95===ee||126===ee||ee>=48&&ee<=57||ee>=65&&ee<=90||ee>=97&&ee<=122||ke===E.RFC1738&&(40===ee||41===ee)?pe+=fe.charAt(ie):ee<128?pe+=e[ee]:ee<2048?pe+=e[192|ee>>6]+e[128|63&ee]:ee<55296||ee>=57344?pe+=e[224|ee>>12]+e[128|ee>>6&63]+e[128|63&ee]:(ee=65536+((1023&ee)<<10|1023&fe.charCodeAt(ie+=1)),pe+=e[240|ee>>18]+e[128|ee>>12&63]+e[128|ee>>6&63]+e[128|63&ee])}return pe},isBuffer:function(ae){return!(!ae||"object"!=typeof ae||!(ae.constructor&&ae.constructor.isBuffer&&ae.constructor.isBuffer(ae)))},isRegExp:function(ae){return"[object RegExp]"===Object.prototype.toString.call(ae)},maybeMap:function(ae,Me){if(t(ae)){for(var xe=[],we=0;we<ae.length;we+=1)xe.push(Me(ae[we]));return xe}return Me(ae)},merge:function de(ae,Me,xe){if(!Me)return ae;if("object"!=typeof Me){if(t(ae))ae.push(Me);else{if(!ae||"object"!=typeof ae)return[ae,Me];(xe&&(xe.plainObjects||xe.allowPrototypes)||!o.call(Object.prototype,Me))&&(ae[Me]=!0)}return ae}if(!ae||"object"!=typeof ae)return[ae].concat(Me);var we=ae;return t(ae)&&!t(Me)&&(we=s(ae,xe)),t(ae)&&t(Me)?(Me.forEach(function(ke,fe){if(o.call(ae,fe)){var pe=ae[fe];pe&&"object"==typeof pe&&ke&&"object"==typeof ke?ae[fe]=de(pe,ke,xe):ae.push(ke)}else ae[fe]=ke}),ae):Object.keys(Me).reduce(function(ke,fe){var pe=Me[fe];return ke[fe]=o.call(ke,fe)?de(ke[fe],pe,xe):pe,ke},we)}}},16958:F=>{var U=F.exports=function(te){return new _(te)};function _(te){this.value=te}function E(te,se,de){var ae=[],Me=[],xe=!0;return function we(ke){var fe=de?o(ke):ke,pe={},ie=!0,ee={node:fe,node_:ke,path:[].concat(ae),parent:Me[Me.length-1],parents:Me,key:ae.slice(-1)[0],isRoot:0===ae.length,level:ae.length,circular:null,update:function(Te,me){ee.isRoot||(ee.parent.node[ee.key]=Te),ee.node=Te,me&&(ie=!1)},delete:function(Te){delete ee.parent.node[ee.key],Te&&(ie=!1)},remove:function(Te){P(ee.parent.node)?ee.parent.node.splice(ee.key,1):delete ee.parent.node[ee.key],Te&&(ie=!1)},keys:null,before:function(Te){pe.before=Te},after:function(Te){pe.after=Te},pre:function(Te){pe.pre=Te},post:function(Te){pe.post=Te},stop:function(){xe=!1},block:function(){ie=!1}};if(!xe)return ee;function ye(){if("object"==typeof ee.node&&null!==ee.node){(!ee.keys||ee.node_!==ee.node)&&(ee.keys=t(ee.node)),ee.isLeaf=0==ee.keys.length;for(var Te=0;Te<Me.length;Te++)if(Me[Te].node_===ke){ee.circular=Me[Te];break}}else ee.isLeaf=!0,ee.keys=null;ee.notLeaf=!ee.isLeaf,ee.notRoot=!ee.isRoot}ye();var Ce=se.call(ee,ee.node);return void 0!==Ce&&ee.update&&ee.update(Ce),pe.before&&pe.before.call(ee,ee.node),ie&&("object"==typeof ee.node&&null!==ee.node&&!ee.circular&&(Me.push(ee),ye(),B(ee.keys,function(Te,me){ae.push(Te),pe.pre&&pe.pre.call(ee,ee.node[Te],Te);var ve=we(ee.node[Te]);de&&ne.call(ee.node,Te)&&(ee.node[Te]=ve.node),ve.isLast=me==ee.keys.length-1,ve.isFirst=0==me,pe.post&&pe.post.call(ee,ve),ae.pop()}),Me.pop()),pe.after&&pe.after.call(ee,ee.node)),ee}(te).node}function o(te){if("object"==typeof te&&null!==te){var se;if(P(te))se=[];else if(function(te){return"[object Date]"===e(te)}(te))se=new Date(te.getTime?te.getTime():te);else if(function(te){return"[object RegExp]"===e(te)}(te))se=new RegExp(te);else if(function(te){return"[object Error]"===e(te)}(te))se={message:te.message};else if(function(te){return"[object Boolean]"===e(te)}(te))se=new Boolean(te);else if(function(te){return"[object Number]"===e(te)}(te))se=new Number(te);else if(function(te){return"[object String]"===e(te)}(te))se=new String(te);else if(Object.create&&Object.getPrototypeOf)se=Object.create(Object.getPrototypeOf(te));else if(te.constructor===Object)se={};else{var ae=function(){};ae.prototype=te.constructor&&te.constructor.prototype||te.__proto__||{},se=new ae}return B(t(te),function(Me){se[Me]=te[Me]}),se}return te}_.prototype.get=function(te){for(var se=this.value,de=0;de<te.length;de++){var ae=te[de];if(!se||!ne.call(se,ae)){se=void 0;break}se=se[ae]}return se},_.prototype.has=function(te){for(var se=this.value,de=0;de<te.length;de++){var ae=te[de];if(!se||!ne.call(se,ae))return!1;se=se[ae]}return!0},_.prototype.set=function(te,se){for(var de=this.value,ae=0;ae<te.length-1;ae++){var Me=te[ae];ne.call(de,Me)||(de[Me]={}),de=de[Me]}return de[te[ae]]=se,se},_.prototype.map=function(te){return E(this.value,te,!0)},_.prototype.forEach=function(te){return this.value=E(this.value,te,!1),this.value},_.prototype.reduce=function(te,se){var de=1===arguments.length,ae=de?this.value:se;return this.forEach(function(Me){(!this.isRoot||!de)&&(ae=te.call(this,ae,Me))}),ae},_.prototype.paths=function(){var te=[];return this.forEach(function(se){te.push(this.path)}),te},_.prototype.nodes=function(){var te=[];return this.forEach(function(se){te.push(this.node)}),te},_.prototype.clone=function(){var te=[],se=[];return function de(ae){for(var Me=0;Me<te.length;Me++)if(te[Me]===ae)return se[Me];if("object"==typeof ae&&null!==ae){var xe=o(ae);return te.push(ae),se.push(xe),B(t(ae),function(we){xe[we]=de(ae[we])}),te.pop(),se.pop(),xe}return ae}(this.value)};var t=Object.keys||function(se){var de=[];for(var ae in se)de.push(ae);return de};function e(te){return Object.prototype.toString.call(te)}var P=Array.isArray||function(se){return"[object Array]"===Object.prototype.toString.call(se)},B=function(te,se){if(te.forEach)return te.forEach(se);for(var de=0;de<te.length;de++)se(te[de],de,te)};B(t(_.prototype),function(te){U[te]=function(se){var de=[].slice.call(arguments,1),ae=new _(se);return ae[te].apply(ae,de)}});var ne=Object.hasOwnProperty||function(te,se){return se in te}},58872:function(F,U,_){var E;F=_.nmd(F),function(o){"object"==typeof global&&global;var s,f=2147483647,y=36,de=/^xn--/,ae=/[^\x20-\x7E]/,Me=/[\x2E\u3002\uFF0E\uFF61]/g,xe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ke=Math.floor,fe=String.fromCharCode;function ie(wt){throw RangeError(xe[wt])}function ee(wt,tn){for(var Et=wt.length,sn=[];Et--;)sn[Et]=tn(wt[Et]);return sn}function ye(wt,tn){var Et=wt.split("@"),sn="";return Et.length>1&&(sn=Et[0]+"@",wt=Et[1]),sn+ee((wt=wt.replace(Me,".")).split("."),tn).join(".")}function Ce(wt){for(var rt,at,tn=[],Et=0,sn=wt.length;Et<sn;)(rt=wt.charCodeAt(Et++))>=55296&&rt<=56319&&Et<sn?56320==(64512&(at=wt.charCodeAt(Et++)))?tn.push(((1023&rt)<<10)+(1023&at)+65536):(tn.push(rt),Et--):tn.push(rt);return tn}function Te(wt){return ee(wt,function(tn){var Et="";return tn>65535&&(Et+=fe((tn-=65536)>>>10&1023|55296),tn=56320|1023&tn),Et+fe(tn)}).join("")}function me(wt){return wt-48<10?wt-22:wt-65<26?wt-65:wt-97<26?wt-97:y}function ve(wt,tn){return wt+22+75*(wt<26)-((0!=tn)<<5)}function Ze(wt,tn,Et){var sn=0;for(wt=Et?ke(wt/700):wt>>1,wt+=ke(wt/tn);wt>455;sn+=y)wt=ke(wt/35);return ke(sn+36*wt/(wt+38))}function Be(wt){var sn,zt,$t,xn,Kn,Yn,dn,It,Bt,Fe,tn=[],Et=wt.length,rt=0,at=128,Vt=72;for((zt=wt.lastIndexOf("-"))<0&&(zt=0),$t=0;$t<zt;++$t)wt.charCodeAt($t)>=128&&ie("not-basic"),tn.push(wt.charCodeAt($t));for(xn=zt>0?zt+1:0;xn<Et;){for(Kn=rt,Yn=1,dn=y;xn>=Et&&ie("invalid-input"),((It=me(wt.charCodeAt(xn++)))>=y||It>ke((f-rt)/Yn))&&ie("overflow"),rt+=It*Yn,!(It<(Bt=dn<=Vt?1:dn>=Vt+26?26:dn-Vt));dn+=y)Yn>ke(f/(Fe=y-Bt))&&ie("overflow"),Yn*=Fe;Vt=Ze(rt-Kn,sn=tn.length+1,0==Kn),ke(rt/sn)>f-at&&ie("overflow"),at+=ke(rt/sn),rt%=sn,tn.splice(rt++,0,at)}return Te(tn)}function ot(wt){var tn,Et,sn,rt,at,Vt,zt,$t,xn,Kn,Yn,It,Bt,Fe,it,dn=[];for(It=(wt=Ce(wt)).length,tn=128,Et=0,at=72,Vt=0;Vt<It;++Vt)(Yn=wt[Vt])<128&&dn.push(fe(Yn));for(sn=rt=dn.length,rt&&dn.push("-");sn<It;){for(zt=f,Vt=0;Vt<It;++Vt)(Yn=wt[Vt])>=tn&&Yn<zt&&(zt=Yn);for(zt-tn>ke((f-Et)/(Bt=sn+1))&&ie("overflow"),Et+=(zt-tn)*Bt,tn=zt,Vt=0;Vt<It;++Vt)if((Yn=wt[Vt])<tn&&++Et>f&&ie("overflow"),Yn==tn){for($t=Et,xn=y;!($t<(Kn=xn<=at?1:xn>=at+26?26:xn-at));xn+=y)dn.push(fe(ve(Kn+(it=$t-Kn)%(Fe=y-Kn),0))),$t=ke(it/Fe);dn.push(fe(ve($t,0))),at=Ze(Et,Bt,sn==rt),Et=0,++sn}++Et,++tn}return dn.join("")}s={version:"1.3.2",ucs2:{decode:Ce,encode:Te},decode:Be,encode:ot,toASCII:function(wt){return ye(wt,function(tn){return ae.test(tn)?"xn--"+ot(tn):tn})},toUnicode:function(wt){return ye(wt,function(tn){return de.test(tn)?Be(tn.slice(4).toLowerCase()):tn})}},void 0!==(E=function(){return s}.call(U,_,U,F))&&(F.exports=E)}()},77526:(F,U,_)=>{"use strict";var E=_(58872),o=_(98893);function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}U.parse=xe,U.resolve=function(pe,ie){return xe(pe,!1,!0).resolve(ie)},U.resolveObject=function(pe,ie){return pe?xe(pe,!1,!0).resolveObject(ie):ie},U.format=function(pe){return o.isString(pe)&&(pe=xe(pe)),pe instanceof t?pe.format():t.prototype.format.call(pe)},U.Url=t;var e=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,y=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),M=["'"].concat(y),A=["%","/","?",";","#"].concat(M),P=["/","?","#"],ne=/^[+a-z0-9A-Z_-]{0,63}$/,te=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,se={javascript:!0,"javascript:":!0},de={javascript:!0,"javascript:":!0},ae={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Me=_(1521);function xe(pe,ie,ee){if(pe&&o.isObject(pe)&&pe instanceof t)return pe;var ye=new t;return ye.parse(pe,ie,ee),ye}t.prototype.parse=function(pe,ie,ee){if(!o.isString(pe))throw new TypeError("Parameter 'url' must be a string, not "+typeof pe);var ye=pe.indexOf("?"),Ce=-1!==ye&&ye<pe.indexOf("#")?"?":"#",Te=pe.split(Ce);Te[0]=Te[0].replace(/\\/g,"/");var ve=pe=Te.join(Ce);if(ve=ve.trim(),!ee&&1===pe.split("#").length){var Ze=s.exec(ve);if(Ze)return this.path=ve,this.href=ve,this.pathname=Ze[1],Ze[2]?(this.search=Ze[2],this.query=ie?Me.parse(this.search.substr(1)):this.search.substr(1)):ie&&(this.search="",this.query={}),this}var Be=e.exec(ve);if(Be){var ot=(Be=Be[0]).toLowerCase();this.protocol=ot,ve=ve.substr(Be.length)}if(ee||Be||ve.match(/^\/\/[^@\/]+@[^@\/]+/)){var Lt="//"===ve.substr(0,2);Lt&&(!Be||!de[Be])&&(ve=ve.substr(2),this.slashes=!0)}if(!de[Be]&&(Lt||Be&&!ae[Be])){for(var Jt=-1,wt=0;wt<P.length;wt++)-1!==(tn=ve.indexOf(P[wt]))&&(-1===Jt||tn<Jt)&&(Jt=tn);var Et,sn;for(-1!==(sn=-1===Jt?ve.lastIndexOf("@"):ve.lastIndexOf("@",Jt))&&(Et=ve.slice(0,sn),ve=ve.slice(sn+1),this.auth=decodeURIComponent(Et)),Jt=-1,wt=0;wt<A.length;wt++){var tn;-1!==(tn=ve.indexOf(A[wt]))&&(-1===Jt||tn<Jt)&&(Jt=tn)}-1===Jt&&(Jt=ve.length),this.host=ve.slice(0,Jt),ve=ve.slice(Jt),this.parseHost(),this.hostname=this.hostname||"";var rt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!rt)for(var at=this.hostname.split(/\./),Vt=(wt=0,at.length);wt<Vt;wt++){var zt=at[wt];if(zt&&!zt.match(ne)){for(var $t="",xn=0,Kn=zt.length;xn<Kn;xn++)zt.charCodeAt(xn)>127?$t+="x":$t+=zt[xn];if(!$t.match(ne)){var Yn=at.slice(0,wt),dn=at.slice(wt+1),It=zt.match(te);It&&(Yn.push(It[1]),dn.unshift(It[2])),dn.length&&(ve="/"+dn.join(".")+ve),this.hostname=Yn.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),rt||(this.hostname=E.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,rt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ve[0]&&(ve="/"+ve))}if(!se[ot])for(wt=0,Vt=M.length;wt<Vt;wt++){var it=M[wt];if(-1!==ve.indexOf(it)){var un=encodeURIComponent(it);un===it&&(un=escape(it)),ve=ve.split(it).join(un)}}var ft=ve.indexOf("#");-1!==ft&&(this.hash=ve.substr(ft),ve=ve.slice(0,ft));var hn=ve.indexOf("?");return-1!==hn?(this.search=ve.substr(hn),this.query=ve.substr(hn+1),ie&&(this.query=Me.parse(this.query)),ve=ve.slice(0,hn)):ie&&(this.search="",this.query={}),ve&&(this.pathname=ve),ae[ot]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},t.prototype.format=function(){var pe=this.auth||"";pe&&(pe=(pe=encodeURIComponent(pe)).replace(/%3A/i,":"),pe+="@");var ie=this.protocol||"",ee=this.pathname||"",ye=this.hash||"",Ce=!1,Te="";this.host?Ce=pe+this.host:this.hostname&&(Ce=pe+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Ce+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(Te=Me.stringify(this.query));var me=this.search||Te&&"?"+Te||"";return ie&&":"!==ie.substr(-1)&&(ie+=":"),this.slashes||(!ie||ae[ie])&&!1!==Ce?(Ce="//"+(Ce||""),ee&&"/"!==ee.charAt(0)&&(ee="/"+ee)):Ce||(Ce=""),ye&&"#"!==ye.charAt(0)&&(ye="#"+ye),me&&"?"!==me.charAt(0)&&(me="?"+me),ie+Ce+(ee=ee.replace(/[?#]/g,function(ve){return encodeURIComponent(ve)}))+(me=me.replace("#","%23"))+ye},t.prototype.resolve=function(pe){return this.resolveObject(xe(pe,!1,!0)).format()},t.prototype.resolveObject=function(pe){if(o.isString(pe)){var ie=new t;ie.parse(pe,!1,!0),pe=ie}for(var ee=new t,ye=Object.keys(this),Ce=0;Ce<ye.length;Ce++){var Te=ye[Ce];ee[Te]=this[Te]}if(ee.hash=pe.hash,""===pe.href)return ee.href=ee.format(),ee;if(pe.slashes&&!pe.protocol){for(var me=Object.keys(pe),ve=0;ve<me.length;ve++){var Ze=me[ve];"protocol"!==Ze&&(ee[Ze]=pe[Ze])}return ae[ee.protocol]&&ee.hostname&&!ee.pathname&&(ee.path=ee.pathname="/"),ee.href=ee.format(),ee}if(pe.protocol&&pe.protocol!==ee.protocol){if(!ae[pe.protocol]){for(var Be=Object.keys(pe),ot=0;ot<Be.length;ot++){var Lt=Be[ot];ee[Lt]=pe[Lt]}return ee.href=ee.format(),ee}if(ee.protocol=pe.protocol,pe.host||de[pe.protocol])ee.pathname=pe.pathname;else{for(var Vt=(pe.pathname||"").split("/");Vt.length&&!(pe.host=Vt.shift()););pe.host||(pe.host=""),pe.hostname||(pe.hostname=""),""!==Vt[0]&&Vt.unshift(""),Vt.length<2&&Vt.unshift(""),ee.pathname=Vt.join("/")}return ee.search=pe.search,ee.query=pe.query,ee.host=pe.host||"",ee.auth=pe.auth,ee.hostname=pe.hostname||pe.host,ee.port=pe.port,(ee.pathname||ee.search)&&(ee.path=(ee.pathname||"")+(ee.search||"")),ee.slashes=ee.slashes||pe.slashes,ee.href=ee.format(),ee}var tn=ee.pathname&&"/"===ee.pathname.charAt(0),Et=pe.host||pe.pathname&&"/"===pe.pathname.charAt(0),sn=Et||tn||ee.host&&pe.pathname,rt=sn,at=ee.pathname&&ee.pathname.split("/")||[],zt=(Vt=pe.pathname&&pe.pathname.split("/")||[],ee.protocol&&!ae[ee.protocol]);if(zt&&(ee.hostname="",ee.port=null,ee.host&&(""===at[0]?at[0]=ee.host:at.unshift(ee.host)),ee.host="",pe.protocol&&(pe.hostname=null,pe.port=null,pe.host&&(""===Vt[0]?Vt[0]=pe.host:Vt.unshift(pe.host)),pe.host=null),sn=sn&&(""===Vt[0]||""===at[0])),Et)ee.host=pe.host||""===pe.host?pe.host:ee.host,ee.hostname=pe.hostname||""===pe.hostname?pe.hostname:ee.hostname,ee.search=pe.search,ee.query=pe.query,at=Vt;else if(Vt.length)at||(at=[]),at.pop(),at=at.concat(Vt),ee.search=pe.search,ee.query=pe.query;else if(!o.isNullOrUndefined(pe.search))return zt&&(ee.hostname=ee.host=at.shift(),($t=!!(ee.host&&ee.host.indexOf("@")>0)&&ee.host.split("@"))&&(ee.auth=$t.shift(),ee.host=ee.hostname=$t.shift())),ee.search=pe.search,ee.query=pe.query,(!o.isNull(ee.pathname)||!o.isNull(ee.search))&&(ee.path=(ee.pathname?ee.pathname:"")+(ee.search?ee.search:"")),ee.href=ee.format(),ee;if(!at.length)return ee.pathname=null,ee.path=ee.search?"/"+ee.search:null,ee.href=ee.format(),ee;for(var xn=at.slice(-1)[0],Kn=(ee.host||pe.host||at.length>1)&&("."===xn||".."===xn)||""===xn,Yn=0,dn=at.length;dn>=0;dn--)"."===(xn=at[dn])?at.splice(dn,1):".."===xn?(at.splice(dn,1),Yn++):Yn&&(at.splice(dn,1),Yn--);if(!sn&&!rt)for(;Yn--;Yn)at.unshift("..");sn&&""!==at[0]&&(!at[0]||"/"!==at[0].charAt(0))&&at.unshift(""),Kn&&"/"!==at.join("/").substr(-1)&&at.push("");var $t,It=""===at[0]||at[0]&&"/"===at[0].charAt(0);return zt&&(ee.hostname=ee.host=It?"":at.length?at.shift():"",($t=!!(ee.host&&ee.host.indexOf("@")>0)&&ee.host.split("@"))&&(ee.auth=$t.shift(),ee.host=ee.hostname=$t.shift())),(sn=sn||ee.host&&at.length)&&!It&&at.unshift(""),at.length?ee.pathname=at.join("/"):(ee.pathname=null,ee.path=null),(!o.isNull(ee.pathname)||!o.isNull(ee.search))&&(ee.path=(ee.pathname?ee.pathname:"")+(ee.search?ee.search:"")),ee.auth=pe.auth||ee.auth,ee.slashes=ee.slashes||pe.slashes,ee.href=ee.format(),ee},t.prototype.parseHost=function(){var pe=this.host,ie=n.exec(pe);ie&&(":"!==(ie=ie[0])&&(this.port=ie.substr(1)),pe=pe.substr(0,pe.length-ie.length)),pe&&(this.hostname=pe)}},98893:F=>{"use strict";F.exports={isString:function(U){return"string"==typeof U},isObject:function(U){return"object"==typeof U&&null!==U},isNull:function(U){return null===U},isNullOrUndefined:function(U){return null==U}}},96553:()=>{},61921:(F,U,_)=>{"use strict";function E(t,e,n,s,f,y,M){try{var A=t[y](M),P=A.value}catch(B){return void n(B)}A.done?e(P):Promise.resolve(P).then(s,f)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(s,f){var y=t.apply(e,n);function M(P){E(y,s,f,M,A,"next",P)}function A(P){E(y,s,f,M,A,"throw",P)}M(void 0)})}}_.d(U,{Z:()=>o})}},F=>{F(F.s=79293)}]);